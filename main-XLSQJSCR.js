var QU=Object.defineProperty,ZU=Object.defineProperties;var XU=Object.getOwnPropertyDescriptors;var qf=Object.getOwnPropertySymbols;var vI=Object.prototype.hasOwnProperty,mI=Object.prototype.propertyIsEnumerable;var gI=(i,e,t)=>e in i?QU(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,z=(i,e)=>{for(var t in e||={})vI.call(e,t)&&gI(i,t,e[t]);if(qf)for(var t of qf(e))mI.call(e,t)&&gI(i,t,e[t]);return i},Ue=(i,e)=>ZU(i,XU(e));var U_=(i,e)=>{var t={};for(var n in i)vI.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&qf)for(var n of qf(i))e.indexOf(n)<0&&mI.call(i,n)&&(t[n]=i[n]);return t};function JU(i,e){return Object.is(i,e)}var vn=null,Kf=!1,Yf=1,wu=Symbol("SIGNAL");function Tn(i){let e=vn;return vn=i,e}var W_={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function yI(i){if(Kf)throw new Error("");if(vn===null)return;vn.consumerOnSignalRead(i);let e=vn.nextProducerIndex++;if(_u(vn),e<vn.producerNode.length&&vn.producerNode[e]!==i&&Cd(vn)){let t=vn.producerNode[e];Qf(t,vn.producerIndexOfThis[e])}vn.producerNode[e]!==i&&(vn.producerNode[e]=i,vn.producerIndexOfThis[e]=Cd(vn)?bI(i,vn,e):0),vn.producerLastReadVersion[e]=i.version}function e2(){Yf++}function t2(i){if(!(Cd(i)&&!i.dirty)&&!(!i.dirty&&i.lastCleanEpoch===Yf)){if(!i.producerMustRecompute(i)&&!z_(i)){i.dirty=!1,i.lastCleanEpoch=Yf;return}i.producerRecomputeValue(i),i.dirty=!1,i.lastCleanEpoch=Yf}}function CI(i){if(i.liveConsumerNode===void 0)return;let e=Kf;Kf=!0;try{for(let t of i.liveConsumerNode)t.dirty||n2(t)}finally{Kf=e}}function _I(){return vn?.consumerAllowSignalWrites!==!1}function n2(i){i.dirty=!0,CI(i),i.consumerMarkedDirty?.(i)}function wI(i){return i&&(i.nextProducerIndex=0),Tn(i)}function SI(i,e){if(Tn(e),!(!i||i.producerNode===void 0||i.producerIndexOfThis===void 0||i.producerLastReadVersion===void 0)){if(Cd(i))for(let t=i.nextProducerIndex;t<i.producerNode.length;t++)Qf(i.producerNode[t],i.producerIndexOfThis[t]);for(;i.producerNode.length>i.nextProducerIndex;)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}function z_(i){_u(i);for(let e=0;e<i.producerNode.length;e++){let t=i.producerNode[e],n=i.producerLastReadVersion[e];if(n!==t.version||(t2(t),n!==t.version))return!0}return!1}function EI(i){if(_u(i),Cd(i))for(let e=0;e<i.producerNode.length;e++)Qf(i.producerNode[e],i.producerIndexOfThis[e]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}function bI(i,e,t){if(DI(i),_u(i),i.liveConsumerNode.length===0)for(let n=0;n<i.producerNode.length;n++)i.producerIndexOfThis[n]=bI(i.producerNode[n],i,n);return i.liveConsumerIndexOfThis.push(t),i.liveConsumerNode.push(e)-1}function Qf(i,e){if(DI(i),_u(i),i.liveConsumerNode.length===1)for(let n=0;n<i.producerNode.length;n++)Qf(i.producerNode[n],i.producerIndexOfThis[n]);let t=i.liveConsumerNode.length-1;if(i.liveConsumerNode[e]=i.liveConsumerNode[t],i.liveConsumerIndexOfThis[e]=i.liveConsumerIndexOfThis[t],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,e<i.liveConsumerNode.length){let n=i.liveConsumerIndexOfThis[e],r=i.liveConsumerNode[e];_u(r),r.producerIndexOfThis[n]=e}}function Cd(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function _u(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}function DI(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}function i2(){throw new Error}var RI=i2;function TI(){RI()}function AI(i){RI=i}var r2=null;function OI(i){let e=Object.create(MI);e.value=i;let t=()=>(yI(e),e.value);return t[wu]=e,t}function $_(i,e){_I()||TI(),i.equal(i.value,e)||(i.value=e,o2(i))}function II(i,e){_I()||TI(),$_(i,e(i.value))}var MI=Ue(z({},W_),{equal:JU,value:void 0});function o2(i){i.version++,e2(),CI(i),r2?.()}function pe(i){return typeof i=="function"}function Su(i){let t=i(n=>{Error.call(n),n.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Zf=Su(i=>function(t){i(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((n,r)=>`${r+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Wa(i,e){if(i){let t=i.indexOf(e);0<=t&&i.splice(t,1)}}var Dt=class i{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:n}=this;if(pe(n))try{n()}catch(o){e=o instanceof Zf?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{xI(o)}catch(s){e=e??[],s instanceof Zf?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Zf(e)}}add(e){var t;if(e&&e!==this)if(this.closed)xI(e);else{if(e instanceof i){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Wa(t,e)}remove(e){let{_finalizers:t}=this;t&&Wa(t,e),e instanceof i&&e._removeParent(this)}};Dt.EMPTY=(()=>{let i=new Dt;return i.closed=!0,i})();var q_=Dt.EMPTY;function Xf(i){return i instanceof Dt||i&&"closed"in i&&pe(i.remove)&&pe(i.add)&&pe(i.unsubscribe)}function xI(i){pe(i)?i():i.unsubscribe()}var Nr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Eu={setTimeout(i,e,...t){let{delegate:n}=Eu;return n?.setTimeout?n.setTimeout(i,e,...t):setTimeout(i,e,...t)},clearTimeout(i){let{delegate:e}=Eu;return(e?.clearTimeout||clearTimeout)(i)},delegate:void 0};function Jf(i){Eu.setTimeout(()=>{let{onUnhandledError:e}=Nr;if(e)e(i);else throw i})}function zo(){}var PI=K_("C",void 0,void 0);function FI(i){return K_("E",void 0,i)}function NI(i){return K_("N",i,void 0)}function K_(i,e,t){return{kind:i,value:e,error:t}}var za=null;function bu(i){if(Nr.useDeprecatedSynchronousErrorHandling){let e=!za;if(e&&(za={errorThrown:!1,error:null}),i(),e){let{errorThrown:t,error:n}=za;if(za=null,t)throw n}}else i()}function LI(i){Nr.useDeprecatedSynchronousErrorHandling&&za&&(za.errorThrown=!0,za.error=i)}var $a=class extends Dt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Xf(e)&&e.add(this)):this.destination=l2}static create(e,t,n){return new Du(e,t,n)}next(e){this.isStopped?Q_(NI(e),this):this._next(e)}error(e){this.isStopped?Q_(FI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Q_(PI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},s2=Function.prototype.bind;function Y_(i,e){return s2.call(i,e)}var Z_=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(n){eg(n)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(n){eg(n)}else eg(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){eg(t)}}},Du=class extends $a{constructor(e,t,n){super();let r;if(pe(e)||!e)r={next:e??void 0,error:t??void 0,complete:n??void 0};else{let o;this&&Nr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Y_(e.next,o),error:e.error&&Y_(e.error,o),complete:e.complete&&Y_(e.complete,o)}):r=e}this.destination=new Z_(r)}};function eg(i){Nr.useDeprecatedSynchronousErrorHandling?LI(i):Jf(i)}function a2(i){throw i}function Q_(i,e){let{onStoppedNotification:t}=Nr;t&&Eu.setTimeout(()=>t(i,e))}var l2={closed:!0,next:zo,error:a2,complete:zo};var Ru=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Kn(i){return i}function X_(...i){return J_(i)}function J_(i){return i.length===0?Kn:i.length===1?i[0]:function(t){return i.reduce((n,r)=>r(n),t)}}var ve=(()=>{class i{constructor(t){t&&(this._subscribe=t)}lift(t){let n=new i;return n.source=this,n.operator=t,n}subscribe(t,n,r){let o=c2(t)?t:new Du(t,n,r);return bu(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(n){t.error(n)}}forEach(t,n){return n=kI(n),new n((r,o)=>{let s=new Du({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)}[Ru](){return this}pipe(...t){return J_(t)(this)}toPromise(t){return t=kI(t),new t((n,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>n(o))})}}return i.create=e=>new i(e),i})();function kI(i){var e;return(e=i??Nr.Promise)!==null&&e!==void 0?e:Promise}function u2(i){return i&&pe(i.next)&&pe(i.error)&&pe(i.complete)}function c2(i){return i&&i instanceof $a||u2(i)&&Xf(i)}function ew(i){return pe(i?.lift)}function Ve(i){return e=>{if(ew(e))return e.lift(function(t){try{return i(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ce(i,e,t,n,r){return new tw(i,e,t,n,r)}var tw=class extends $a{constructor(e,t,n,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Tu(){return Ve((i,e)=>{let t=null;i._refCount++;let n=Ce(e,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount){t=null;return}let r=i._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});i.subscribe(n),n.closed||(t=i.connect())})}var Au=class extends ve{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ew(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Dt;let t=this.getSubject();e.add(this.source.subscribe(Ce(t,void 0,()=>{this._teardown(),t.complete()},n=>{this._teardown(),t.error(n)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Dt.EMPTY)}return e}refCount(){return Tu()(this)}};var VI=Su(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=(()=>{class i extends ve{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let n=new tg(this,this);return n.operator=t,n}_throwIfClosed(){if(this.closed)throw new VI}next(t){bu(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(t)}})}error(t){bu(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:n}=this;for(;n.length;)n.shift().error(t)}})}complete(){bu(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:n,isStopped:r,observers:o}=this;return n||r?q_:(this.currentObservers=null,o.push(t),new Dt(()=>{this.currentObservers=null,Wa(o,t)}))}_checkFinalizedStatuses(t){let{hasError:n,thrownError:r,isStopped:o}=this;n?t.error(r):o&&t.complete()}asObservable(){let t=new ve;return t.source=this,t}}return i.create=(e,t)=>new tg(e,t),i})(),tg=class extends me{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.next)===null||n===void 0||n.call(t,e)}error(e){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.error)===null||n===void 0||n.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,n;return(n=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&n!==void 0?n:q_}};var mn=class extends me{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:n}=this;if(e)throw t;return this._throwIfClosed(),n}next(e){super.next(this._value=e)}};var nw={now(){return(nw.delegate||Date).now()},delegate:void 0};var ng=class extends Dt{constructor(e,t){super()}schedule(e,t=0){return this}};var _d={setInterval(i,e,...t){let{delegate:n}=_d;return n?.setInterval?n.setInterval(i,e,...t):setInterval(i,e,...t)},clearInterval(i){let{delegate:e}=_d;return(e?.clearInterval||clearInterval)(i)},delegate:void 0};var ig=class extends ng{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var n;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,n=0){return _d.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return t;t!=null&&_d.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(e,t);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n=!1,r;try{this.work(e)}catch(o){n=!0,r=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:n}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Wa(n,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Ou=class i{constructor(e,t=i.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,n){return new this.schedulerActionCtor(this,e).schedule(n,t)}};Ou.now=nw.now;var rg=class extends Ou{constructor(e,t=Ou.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let n;this._active=!0;do if(n=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}};var wd=new rg(ig),GI=wd;var yn=new ve(i=>i.complete());function og(i){return i&&pe(i.schedule)}function iw(i){return i[i.length-1]}function Is(i){return pe(iw(i))?i.pop():void 0}function no(i){return og(iw(i))?i.pop():void 0}function HI(i,e){return typeof iw(i)=="number"?i.pop():e}function jI(i,e,t,n){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(d){s(d)}}function l(c){try{u(n.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((n=n.apply(i,e||[])).next())})}function BI(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qa(i){return this instanceof qa?(this.v=i,this):new qa(i)}function UI(i,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(i,e||[]),r,o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(h){n[h]&&(r[h]=function(p){return new Promise(function(f,g){o.push([h,p,f,g])>1||a(h,p)})})}function a(h,p){try{l(n[h](p))}catch(f){d(o[0][3],f)}}function l(h){h.value instanceof qa?Promise.resolve(h.value.v).then(u,c):d(o[0][2],h)}function u(h){a("next",h)}function c(h){a("throw",h)}function d(h,p){h(p),o.shift(),o.length&&a(o[0][0],o[0][1])}}function WI(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],t;return e?e.call(i):(i=typeof BI=="function"?BI(i):i[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(o){t[o]=i[o]&&function(s){return new Promise(function(a,l){s=i[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}var Iu=i=>i&&typeof i.length=="number"&&typeof i!="function";function sg(i){return pe(i?.then)}function ag(i){return pe(i[Ru])}function lg(i){return Symbol.asyncIterator&&pe(i?.[Symbol.asyncIterator])}function ug(i){return new TypeError(`You provided ${i!==null&&typeof i=="object"?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function d2(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var cg=d2();function dg(i){return pe(i?.[cg])}function hg(i){return UI(this,arguments,function*(){let t=i.getReader();try{for(;;){let{value:n,done:r}=yield qa(t.read());if(r)return yield qa(void 0);yield yield qa(n)}}finally{t.releaseLock()}})}function pg(i){return pe(i?.getReader)}function Ye(i){if(i instanceof ve)return i;if(i!=null){if(ag(i))return h2(i);if(Iu(i))return p2(i);if(sg(i))return f2(i);if(lg(i))return zI(i);if(dg(i))return g2(i);if(pg(i))return v2(i)}throw ug(i)}function h2(i){return new ve(e=>{let t=i[Ru]();if(pe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function p2(i){return new ve(e=>{for(let t=0;t<i.length&&!e.closed;t++)e.next(i[t]);e.complete()})}function f2(i){return new ve(e=>{i.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Jf)})}function g2(i){return new ve(e=>{for(let t of i)if(e.next(t),e.closed)return;e.complete()})}function zI(i){return new ve(e=>{m2(i,e).catch(t=>e.error(t))})}function v2(i){return zI(hg(i))}function m2(i,e){var t,n,r,o;return jI(this,void 0,void 0,function*(){try{for(t=WI(i);n=yield t.next(),!n.done;){let s=n.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{n&&!n.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})}function si(i,e,t,n=0,r=!1){let o=e.schedule(function(){t(),r?i.add(this.schedule(null,n)):this.unsubscribe()},n);if(i.add(o),!r)return o}function fg(i,e=0){return Ve((t,n)=>{t.subscribe(Ce(n,r=>si(n,i,()=>n.next(r),e),()=>si(n,i,()=>n.complete(),e),r=>si(n,i,()=>n.error(r),e)))})}function gg(i,e=0){return Ve((t,n)=>{n.add(i.schedule(()=>t.subscribe(n),e))})}function $I(i,e){return Ye(i).pipe(gg(e),fg(e))}function qI(i,e){return Ye(i).pipe(gg(e),fg(e))}function KI(i,e){return new ve(t=>{let n=0;return e.schedule(function(){n===i.length?t.complete():(t.next(i[n++]),t.closed||this.schedule())})})}function YI(i,e){return new ve(t=>{let n;return si(t,e,()=>{n=i[cg](),si(t,e,()=>{let r,o;try{({value:r,done:o}=n.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>pe(n?.return)&&n.return()})}function vg(i,e){if(!i)throw new Error("Iterable cannot be null");return new ve(t=>{si(t,e,()=>{let n=i[Symbol.asyncIterator]();si(t,e,()=>{n.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function QI(i,e){return vg(hg(i),e)}function ZI(i,e){if(i!=null){if(ag(i))return $I(i,e);if(Iu(i))return KI(i,e);if(sg(i))return qI(i,e);if(lg(i))return vg(i,e);if(dg(i))return YI(i,e);if(pg(i))return QI(i,e)}throw ug(i)}function Ct(i,e){return e?ZI(i,e):Ye(i)}function le(...i){let e=no(i);return Ct(i,e)}function Mu(i,e){let t=pe(i)?i:()=>i,n=r=>r.error(t());return new ve(e?r=>e.schedule(n,0,r):n)}function mg(i){return!!i&&(i instanceof ve||pe(i.lift)&&pe(i.subscribe))}var $o=Su(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});function XI(i){return i instanceof Date&&!isNaN(i)}function _e(i,e){return Ve((t,n)=>{let r=0;t.subscribe(Ce(n,o=>{n.next(i.call(e,o,r++))}))})}var{isArray:y2}=Array;function C2(i,e){return y2(e)?i(...e):i(e)}function xu(i){return _e(e=>C2(i,e))}var{isArray:_2}=Array,{getPrototypeOf:w2,prototype:S2,keys:E2}=Object;function yg(i){if(i.length===1){let e=i[0];if(_2(e))return{args:e,keys:null};if(b2(e)){let t=E2(e);return{args:t.map(n=>e[n]),keys:t}}}return{args:i,keys:null}}function b2(i){return i&&typeof i=="object"&&w2(i)===S2}function Cg(i,e){return i.reduce((t,n,r)=>(t[n]=e[r],t),{})}function Pu(...i){let e=no(i),t=Is(i),{args:n,keys:r}=yg(i);if(n.length===0)return Ct([],e);let o=new ve(D2(n,e,r?s=>Cg(r,s):Kn));return t?o.pipe(xu(t)):o}function D2(i,e,t=Kn){return n=>{JI(e,()=>{let{length:r}=i,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)JI(e,()=>{let u=Ct(i[l],e),c=!1;u.subscribe(Ce(n,d=>{o[l]=d,c||(c=!0,a--),a||n.next(t(o.slice()))},()=>{--s||n.complete()}))},n)},n)}}function JI(i,e,t){i?si(t,i,e):e()}function eM(i,e,t,n,r,o,s,a){let l=[],u=0,c=0,d=!1,h=()=>{d&&!l.length&&!u&&e.complete()},p=g=>u<n?f(g):l.push(g),f=g=>{o&&e.next(g),u++;let v=!1;Ye(t(g,c++)).subscribe(Ce(e,m=>{r?.(m),o?p(m):e.next(m)},()=>{v=!0},void 0,()=>{if(v)try{for(u--;l.length&&u<n;){let m=l.shift();s?si(e,s,()=>f(m)):f(m)}h()}catch(m){e.error(m)}}))};return i.subscribe(Ce(e,p,()=>{d=!0,h()})),()=>{a?.()}}function Rt(i,e,t=1/0){return pe(e)?Rt((n,r)=>_e((o,s)=>e(n,o,r,s))(Ye(i(n,r))),t):(typeof e=="number"&&(t=e),Ve((n,r)=>eM(n,r,i,t)))}function Ms(i=1/0){return Rt(Kn,i)}function tM(){return Ms(1)}function io(...i){return tM()(Ct(i,no(i)))}function _g(i){return new ve(e=>{Ye(i()).subscribe(e)})}function rw(...i){let e=Is(i),{args:t,keys:n}=yg(i),r=new ve(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,u=s;for(let c=0;c<s;c++){let d=!1;Ye(t[c]).subscribe(Ce(o,h=>{d||(d=!0,u--),a[c]=h},()=>l--,void 0,()=>{(!l||!d)&&(u||o.next(n?Cg(n,a):a),o.complete())}))}});return e?r.pipe(xu(e)):r}var R2=["addListener","removeListener"],T2=["addEventListener","removeEventListener"],A2=["on","off"];function kt(i,e,t,n){if(pe(t)&&(n=t,t=void 0),n)return kt(i,e,t).pipe(xu(n));let[r,o]=M2(i)?T2.map(s=>a=>i[s](e,a,t)):O2(i)?R2.map(nM(i,e)):I2(i)?A2.map(nM(i,e)):[];if(!r&&Iu(i))return Rt(s=>kt(s,e,t))(Ye(i));if(!r)throw new TypeError("Invalid event target");return new ve(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function nM(i,e){return t=>n=>i[t](e,n)}function O2(i){return pe(i.addListener)&&pe(i.removeListener)}function I2(i){return pe(i.on)&&pe(i.off)}function M2(i){return pe(i.addEventListener)&&pe(i.removeEventListener)}function Ka(i=0,e,t=GI){let n=-1;return e!=null&&(og(e)?t=e:n=e),new ve(r=>{let o=XI(i)?+i-t.now():i;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=n?this.schedule(void 0,n):r.complete())},o)})}function Sd(...i){let e=no(i),t=HI(i,1/0),n=i;return n.length?n.length===1?Ye(n[0]):Ms(t)(Ct(n,e)):yn}var{isArray:x2}=Array;function wg(i){return i.length===1&&x2(i[0])?i[0]:i}function nt(i,e){return Ve((t,n)=>{let r=0;t.subscribe(Ce(n,o=>i.call(e,o,r++)&&n.next(o)))})}function Sg(...i){return i=wg(i),i.length===1?Ye(i[0]):new ve(P2(i))}function P2(i){return e=>{let t=[];for(let n=0;t&&!e.closed&&n<i.length;n++)t.push(Ye(i[n]).subscribe(Ce(e,r=>{if(t){for(let o=0;o<t.length;o++)o!==n&&t[o].unsubscribe();t=null}e.next(r)})))}}function Ed(...i){let e=Is(i),t=wg(i);return t.length?new ve(n=>{let r=t.map(()=>[]),o=t.map(()=>!1);n.add(()=>{r=o=null});for(let s=0;!n.closed&&s<t.length;s++)Ye(t[s]).subscribe(Ce(n,a=>{if(r[s].push(a),r.every(l=>l.length)){let l=r.map(u=>u.shift());n.next(e?e(...l):l),r.some((u,c)=>!u.length&&o[c])&&n.complete()}},()=>{o[s]=!0,!r[s].length&&n.complete()}));return()=>{r=o=null}}):yn}function iM(i){return Ve((e,t)=>{let n=!1,r=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,n){n=!1;let u=r;r=null,t.next(u)}s&&t.complete()},l=()=>{o=null,s&&t.complete()};e.subscribe(Ce(t,u=>{n=!0,r=u,o||Ye(i(u)).subscribe(o=Ce(t,a,l))},()=>{s=!0,(!n||!o||o.closed)&&t.complete()}))})}function Eg(i,e=wd){return iM(()=>Ka(i,e))}function xs(i){return Ve((e,t)=>{let n=null,r=!1,o;n=e.subscribe(Ce(t,void 0,void 0,s=>{o=Ye(i(s,xs(i)(e))),n?(n.unsubscribe(),n=null,o.subscribe(t)):r=!0})),r&&(n.unsubscribe(),n=null,o.subscribe(t))})}function rM(i,e,t,n,r){return(o,s)=>{let a=t,l=e,u=0;o.subscribe(Ce(s,c=>{let d=u++;l=a?i(l,c,d):(a=!0,c),n&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function qo(i,e){return pe(e)?Rt(i,e,1):Rt(i,1)}function Ps(i){return Ve((e,t)=>{let n=!1;e.subscribe(Ce(t,r=>{n=!0,t.next(r)},()=>{n||t.next(i),t.complete()}))})}function Tt(i){return i<=0?()=>yn:Ve((e,t)=>{let n=0;e.subscribe(Ce(t,r=>{++n<=i&&(t.next(r),i<=n&&t.complete())}))})}function oM(){return Ve((i,e)=>{i.subscribe(Ce(e,zo))})}function bd(i){return _e(()=>i)}function ow(i,e){return e?t=>io(e.pipe(Tt(1),oM()),t.pipe(ow(i))):Rt((t,n)=>Ye(i(t,n)).pipe(Tt(1),bd(t)))}function sw(i,e=wd){let t=Ka(i,e);return ow(()=>t)}function bg(i=F2){return Ve((e,t)=>{let n=!1;e.subscribe(Ce(t,r=>{n=!0,t.next(r)},()=>n?t.complete():t.error(i())))})}function F2(){return new $o}function aw(...i){return e=>io(e,le(...i))}function Ko(i){return Ve((e,t)=>{try{e.subscribe(t)}finally{t.add(i)}})}function ro(i,e){let t=arguments.length>=2;return n=>n.pipe(i?nt((r,o)=>i(r,o,n)):Kn,Tt(1),t?Ps(e):bg(()=>new $o))}function Fu(i){return i<=0?()=>yn:Ve((e,t)=>{let n=[];e.subscribe(Ce(t,r=>{n.push(r),i<n.length&&n.shift()},()=>{for(let r of n)t.next(r);t.complete()},void 0,()=>{n=null}))})}function lw(i,e){let t=arguments.length>=2;return n=>n.pipe(i?nt((r,o)=>i(r,o,n)):Kn,Fu(1),t?Ps(e):bg(()=>new $o))}function uw(i,e){return Ve(rM(i,e,arguments.length>=2,!0))}function Dd(...i){let e=no(i);return Ve((t,n)=>{(e?io(i,t,e):io(i,t)).subscribe(n)})}function An(i,e){return Ve((t,n)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&n.complete();t.subscribe(Ce(n,l=>{r?.unsubscribe();let u=0,c=o++;Ye(i(l,c)).subscribe(r=Ce(n,d=>n.next(e?e(l,d,c,u++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function _t(i){return Ve((e,t)=>{Ye(i).subscribe(Ce(t,()=>t.complete(),zo)),!t.closed&&e.subscribe(t)})}function Pt(i,e,t){let n=pe(i)||e||t?{next:i,error:e,complete:t}:i;return n?Ve((r,o)=>{var s;(s=n.subscribe)===null||s===void 0||s.call(n);let a=!0;r.subscribe(Ce(o,l=>{var u;(u=n.next)===null||u===void 0||u.call(n,l),o.next(l)},()=>{var l;a=!1,(l=n.complete)===null||l===void 0||l.call(n),o.complete()},l=>{var u;a=!1,(u=n.error)===null||u===void 0||u.call(n,l),o.error(l)},()=>{var l,u;a&&((l=n.unsubscribe)===null||l===void 0||l.call(n)),(u=n.finalize)===null||u===void 0||u.call(n)}))}):Kn}function Rd(...i){let e=Is(i);return Ve((t,n)=>{let r=i.length,o=new Array(r),s=i.map(()=>!1),a=!1;for(let l=0;l<r;l++)Ye(i[l]).subscribe(Ce(n,u=>{o[l]=u,!a&&!s[l]&&(s[l]=!0,(a=s.every(Kn))&&(s=null))},zo));t.subscribe(Ce(n,l=>{if(a){let u=[l,...o];n.next(e?e(...u):u)}}))})}var KM="https://g.co/ng/security#xss",X=class extends Error{constructor(e,t){super(rv(e,t)),this.code=e}};function rv(i,e){return`${`NG0${Math.abs(i)}`}${e?": "+e:""}`}function wt(i){for(let e in i)if(i[e]===wt)return e;throw Error("Could not find renamed property on target object.")}function N2(i,e){for(let t in e)e.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&(i[t]=e[t])}function Zn(i){if(typeof i=="string")return i;if(Array.isArray(i))return"["+i.map(Zn).join(", ")+"]";if(i==null)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;let e=i.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function Aw(i,e){return i==null||i===""?e===null?"":e:e==null||e===""?i:i+" "+e}var L2=wt({__forward_ref__:wt});function ai(i){return i.__forward_ref__=ai,i.toString=function(){return Zn(this())},i}function Yn(i){return YM(i)?i():i}function YM(i){return typeof i=="function"&&i.hasOwnProperty(L2)&&i.__forward_ref__===ai}function QM(i){return i&&!!i.\u0275providers}var k2=wt({\u0275cmp:wt}),V2=wt({\u0275dir:wt}),G2=wt({\u0275pipe:wt}),H2=wt({\u0275mod:wt}),Vg=wt({\u0275fac:wt}),Td=wt({__NG_ELEMENT_ID__:wt}),sM=wt({__NG_ENV_ID__:wt});function Ls(i){return typeof i=="string"?i:i==null?"":String(i)}function B2(i){return typeof i=="function"?i.name||i.toString():typeof i=="object"&&i!=null&&typeof i.type=="function"?i.type.name||i.type.toString():Ls(i)}function j2(i,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${i}`:"";throw new X(-200,`Circular dependency in DI detected for ${i}${t}`)}function US(i,e){throw new X(-201,!1)}function U2(i,e,t){i!=e&&ZM(t,i,e,"==")}function W2(i,e){i==null&&ZM(e,i,null,"!=")}function ZM(i,e,t,n){throw new Error(`ASSERTION ERROR: ${i}`+(n==null?"":` [Expected=> ${t} ${n} ${e} <=Actual]`))}function k(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function De(i){return{providers:i.providers||[],imports:i.imports||[]}}function ov(i){return aM(i,JM)||aM(i,ex)}function XM(i){return ov(i)!==null}function aM(i,e){return i.hasOwnProperty(e)?i[e]:null}function z2(i){let e=i&&(i[JM]||i[ex]);return e||null}function lM(i){return i&&(i.hasOwnProperty(uM)||i.hasOwnProperty($2))?i[uM]:null}var JM=wt({\u0275prov:wt}),uM=wt({\u0275inj:wt}),ex=wt({ngInjectableDef:wt}),$2=wt({ngInjectorDef:wt}),We=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(We||{}),Ow;function tx(){return Ow}function ir(i){let e=Ow;return Ow=i,e}function nx(i,e,t){let n=ov(i);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(t&We.Optional)return null;if(e!==void 0)return e;US(i,"Injector")}var Ti=globalThis;var ie=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=k({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var q2={},Md=q2,Iw="__NG_DI_FLAG__",Gg="ngTempTokenPath",K2="ngTokenPath",Y2=/\n/gm,Q2="\u0275",cM="__source",Gu;function Z2(){return Gu}function Fs(i){let e=Gu;return Gu=i,e}function X2(i,e=We.Default){if(Gu===void 0)throw new X(-203,!1);return Gu===null?nx(i,void 0,e):Gu.get(i,e&We.Optional?null:void 0,e)}function G(i,e=We.Default){return(tx()||X2)(Yn(i),e)}function F(i,e=We.Default){return G(i,sv(e))}function sv(i){return typeof i>"u"||typeof i=="number"?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function Mw(i){let e=[];for(let t=0;t<i.length;t++){let n=Yn(i[t]);if(Array.isArray(n)){if(n.length===0)throw new X(900,!1);let r,o=We.Default;for(let s=0;s<n.length;s++){let a=n[s],l=J2(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}e.push(G(r,o))}else e.push(G(n))}return e}function ix(i,e){return i[Iw]=e,i.prototype[Iw]=e,i}function J2(i){return i[Iw]}function eW(i,e,t,n){let r=i[Gg];throw e[cM]&&r.unshift(e[cM]),i.message=tW(`
`+i.message,r,t,n),i[K2]=r,i[Gg]=null,i}function tW(i,e,t,n=null){i=i&&i.charAt(0)===`
`&&i.charAt(1)==Q2?i.slice(2):i;let r=Zn(e);if(Array.isArray(e))r=e.map(Zn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Zn(a)))}r=`{${o.join(", ")}}`}return`${t}${n?"("+n+")":""}[${r}]: ${i.replace(Y2,`
  `)}`}function zd(i){return{toString:i}.toString()}var rx=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(rx||{}),lo=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(lo||{}),Bu={},Qn=[],Ft=function(i){return i[i.None=0]="None",i[i.SignalBased=1]="SignalBased",i[i.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",i}(Ft||{});function ox(i,e,t){let n=i.length;for(;;){let r=i.indexOf(e,t);if(r===-1)return r;if(r===0||i.charCodeAt(r-1)<=32){let o=e.length;if(r+o===n||i.charCodeAt(r+o)<=32)return r}t=r+1}}function xw(i,e,t){let n=0;for(;n<t.length;){let r=t[n];if(typeof r=="number"){if(r!==0)break;n++;let o=t[n++],s=t[n++],a=t[n++];i.setAttribute(e,s,a,o)}else{let o=r,s=t[++n];nW(o)?i.setProperty(e,o,s):i.setAttribute(e,o,s),n++}}return n}function sx(i){return i===3||i===4||i===6}function nW(i){return i.charCodeAt(0)===64}function xd(i,e){if(!(e===null||e.length===0))if(i===null||i.length===0)i=e.slice();else{let t=-1;for(let n=0;n<e.length;n++){let r=e[n];typeof r=="number"?t=r:t===0||(t===-1||t===2?dM(i,t,r,null,e[++n]):dM(i,t,r,null,null))}}return i}function dM(i,e,t,n,r){let o=0,s=i.length;if(e===-1)s=-1;else for(;o<i.length;){let a=i[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<i.length;){let a=i[o];if(typeof a=="number")break;if(a===t){if(n===null){r!==null&&(i[o+1]=r);return}else if(n===i[o+1]){i[o+2]=r;return}}o++,n!==null&&o++,r!==null&&o++}s!==-1&&(i.splice(s,0,e),o=s+1),i.splice(o++,0,t),n!==null&&i.splice(o++,0,n),r!==null&&i.splice(o++,0,r)}var ax="ng-template";function iW(i,e,t){let n=0,r=!0;for(;n<i.length;){let o=i[n++];if(typeof o=="string"&&r){let s=i[n++];if(t&&o==="class"&&ox(s.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;n<i.length&&typeof(o=i[n++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(r=!1)}return!1}function lx(i){return i.type===4&&i.value!==ax}function rW(i,e,t){let n=i.type===4&&!t?ax:i.value;return e===n}function oW(i,e,t){let n=4,r=i.attrs||[],o=lW(r),s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Lr(n)&&!Lr(l))return!1;if(s&&Lr(l))continue;s=!1,n=l|n&1;continue}if(!s)if(n&4){if(n=2|n&1,l!==""&&!rW(i,l,t)||l===""&&e.length===1){if(Lr(n))return!1;s=!0}}else{let u=n&8?l:e[++a];if(n&8&&i.attrs!==null){if(!iW(i.attrs,u,t)){if(Lr(n))return!1;s=!0}continue}let c=n&8?"class":l,d=sW(c,r,lx(i),t);if(d===-1){if(Lr(n))return!1;s=!0;continue}if(u!==""){let h;d>o?h="":h=r[d+1].toLowerCase();let p=n&8?h:null;if(p&&ox(p,u,0)!==-1||n&2&&u!==h){if(Lr(n))return!1;s=!0}}}}return Lr(n)||s}function Lr(i){return(i&1)===0}function sW(i,e,t,n){if(e===null)return-1;let r=0;if(n||!t){let o=!1;for(;r<e.length;){let s=e[r];if(s===i)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return uW(e,i)}function ux(i,e,t=!1){for(let n=0;n<e.length;n++)if(oW(i,e[n],t))return!0;return!1}function aW(i){let e=i.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function lW(i){for(let e=0;e<i.length;e++){let t=i[e];if(sx(t))return e}return i.length}function uW(i,e){let t=i.indexOf(4);if(t>-1)for(t++;t<i.length;){let n=i[t];if(typeof n=="number")return-1;if(n===e)return t;t++}return-1}function cW(i,e){e:for(let t=0;t<e.length;t++){let n=e[t];if(i.length===n.length){for(let r=0;r<i.length;r++)if(i[r]!==n[r])continue e;return!0}}return!1}function hM(i,e){return i?":not("+e.trim()+")":e}function dW(i){let e=i[0],t=1,n=2,r="",o=!1;for(;t<i.length;){let s=i[t];if(typeof s=="string")if(n&2){let a=i[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else n&8?r+="."+s:n&4&&(r+=" "+s);else r!==""&&!Lr(s)&&(e+=hM(o,r),r=""),n=s,o=o||!Lr(n);t++}return r!==""&&(e+=hM(o,r)),e}function hW(i){return i.map(dW).join(",")}function pW(i){let e=[],t=[],n=1,r=2;for(;n<i.length;){let o=i[n];if(typeof o=="string")r===2?o!==""&&e.push(o,i[++n]):r===8&&t.push(o);else{if(!Lr(r))break;r=o}n++}return{attrs:e,classes:t}}function ce(i){return zd(()=>{let e=fx(i),t=Ue(z({},e),{decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===rx.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||lo.Emulated,styles:i.styles||Qn,_:null,schemas:i.schemas||null,tView:null,id:""});gx(t);let n=i.dependencies;return t.directiveDefs=fM(n,!1),t.pipeDefs=fM(n,!0),t.id=vW(t),t})}function fW(i){return Qo(i)||cx(i)}function gW(i){return i!==null}function Re(i){return zd(()=>({type:i.type,bootstrap:i.bootstrap||Qn,declarations:i.declarations||Qn,imports:i.imports||Qn,exports:i.exports||Qn,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function pM(i,e){if(i==null)return Bu;let t={};for(let n in i)if(i.hasOwnProperty(n)){let r=i[n],o,s,a=Ft.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(t[o]=a!==Ft.None?[n,a]:n,e[o]=s):t[o]=n}return t}function Ze(i){return zd(()=>{let e=fx(i);return gx(e),e})}function Qo(i){return i[k2]||null}function cx(i){return i[V2]||null}function dx(i){return i[G2]||null}function hx(i){let e=Qo(i)||cx(i)||dx(i);return e!==null?e.standalone:!1}function px(i,e){let t=i[H2]||null;if(!t&&e===!0)throw new Error(`Type ${Zn(i)} does not have '\u0275mod' property.`);return t}function fx(i){let e={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:i.inputs||Bu,exportAs:i.exportAs||null,standalone:i.standalone===!0,signals:i.signals===!0,selectors:i.selectors||Qn,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:pM(i.inputs,e),outputs:pM(i.outputs),debugInfo:null}}function gx(i){i.features?.forEach(e=>e(i))}function fM(i,e){if(!i)return null;let t=e?dx:fW;return()=>(typeof i=="function"?i():i).map(n=>t(n)).filter(gW)}function vW(i){let e=0,t=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(let r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var go=0,Ie=1,Ee=2,On=3,Vr=4,li=5,ju=6,Pd=7,Hn=8,Uu=9,uo=10,yt=11,Fd=12,gM=13,Yu=14,Ai=15,$d=16,Nu=17,ao=18,av=19,vx=20,Ns=21,cw=22,Xa=23,In=25,WS=1;var Ja=7,Hg=8,Wu=9,Bn=10,zS=function(i){return i[i.None=0]="None",i[i.HasTransplantedViews=2]="HasTransplantedViews",i}(zS||{});function Qa(i){return Array.isArray(i)&&typeof i[WS]=="object"}function Jo(i){return Array.isArray(i)&&i[WS]===!0}function $S(i){return(i.flags&4)!==0}function lv(i){return i.componentOffset>-1}function uv(i){return(i.flags&1)===1}function Zo(i){return!!i.template}function mW(i){return(i[Ee]&512)!==0}function zu(i,e){let t=i.hasOwnProperty(Vg);return t?i[Vg]:null}var Pw=class{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}};function mx(i,e,t,n){e!==null?e.applyValueToInputSignal(e,n):i[t]=n}function Vt(){return yx}function yx(i){return i.type.prototype.ngOnChanges&&(i.setInput=CW),yW}Vt.ngInherit=!0;function yW(){let i=_x(this),e=i?.current;if(e){let t=i.previous;if(t===Bu)i.previous=e;else for(let n in e)t[n]=e[n];i.current=null,this.ngOnChanges(e)}}function CW(i,e,t,n,r){let o=this.declaredInputs[n],s=_x(i)||_W(i,{previous:Bu,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new Pw(u&&u.currentValue,t,l===Bu),mx(i,e,r,t)}var Cx="__ngSimpleChanges__";function _x(i){return i[Cx]||null}function _W(i,e){return i[Cx]=e}var vM=null;var oo=function(i,e,t){vM?.(i,e,t)},wW="svg",SW="math",EW=!1;function bW(){return EW}function rr(i){for(;Array.isArray(i);)i=i[go];return i}function DW(i){for(;Array.isArray(i);){if(typeof i[WS]=="object")return i;i=i[go]}return null}function cv(i,e){return rr(e[i])}function or(i,e){return rr(e[i.index])}function qS(i,e){return i.data[e]}function RW(i,e){return i[e]}function Vs(i,e){let t=e[i];return Qa(t)?t:t[go]}function TW(i){return(i[Ee]&4)===4}function KS(i){return(i[Ee]&128)===128}function AW(i){return Jo(i[On])}function el(i,e){return e==null?null:i[e]}function wx(i){i[Nu]=0}function OW(i){i[Ee]&1024||(i[Ee]|=1024,KS(i)&&Nd(i))}function IW(i,e){for(;i>0;)e=e[Yu],i--;return e}function Sx(i){return i[Ee]&9216||i[Xa]?.dirty}function Fw(i){Sx(i)?Nd(i):i[Ee]&64&&(bW()?(i[Ee]|=1024,Nd(i)):i[uo].changeDetectionScheduler?.notify())}function Nd(i){i[uo].changeDetectionScheduler?.notify();let e=Ld(i);for(;e!==null&&!(e[Ee]&8192||(e[Ee]|=8192,!KS(e)));)e=Ld(e)}function Ex(i,e){if((i[Ee]&256)===256)throw new X(911,!1);i[Ns]===null&&(i[Ns]=[]),i[Ns].push(e)}function MW(i,e){if(i[Ns]===null)return;let t=i[Ns].indexOf(e);t!==-1&&i[Ns].splice(t,1)}function Ld(i){let e=i[On];return Jo(e)?e[On]:e}var Le={lFrame:Fx(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function xW(){return Le.lFrame.elementDepthCount}function PW(){Le.lFrame.elementDepthCount++}function FW(){Le.lFrame.elementDepthCount--}function bx(){return Le.bindingsEnabled}function Dx(){return Le.skipHydrationRootTNode!==null}function NW(i){return Le.skipHydrationRootTNode===i}function LW(){Le.skipHydrationRootTNode=null}function Fe(){return Le.lFrame.lView}function Gt(){return Le.lFrame.tView}function Me(i){return Le.lFrame.contextLView=i,i[Hn]}function xe(i){return Le.lFrame.contextLView=null,i}function Jn(){let i=Rx();for(;i!==null&&i.type===64;)i=i.parent;return i}function Rx(){return Le.lFrame.currentTNode}function kd(){let i=Le.lFrame,e=i.currentTNode;return i.isParent?e:e.parent}function co(i,e){let t=Le.lFrame;t.currentTNode=i,t.isParent=e}function YS(){return Le.lFrame.isParent}function QS(){Le.lFrame.isParent=!1}function kW(){return Le.lFrame.contextLView}function Tx(){let i=Le.lFrame,e=i.bindingRootIndex;return e===-1&&(e=i.bindingRootIndex=i.tView.bindingStartIndex),e}function Ax(){return Le.lFrame.bindingIndex}function VW(i){return Le.lFrame.bindingIndex=i}function Gs(){return Le.lFrame.bindingIndex++}function ZS(i){let e=Le.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+i,t}function GW(){return Le.lFrame.inI18n}function Ox(i){Le.lFrame.inI18n=i}function HW(i,e){let t=Le.lFrame;t.bindingIndex=t.bindingRootIndex=i,Nw(e)}function BW(){return Le.lFrame.currentDirectiveIndex}function Nw(i){Le.lFrame.currentDirectiveIndex=i}function Ix(i){let e=Le.lFrame.currentDirectiveIndex;return e===-1?null:i[e]}function Mx(){return Le.lFrame.currentQueryIndex}function XS(i){Le.lFrame.currentQueryIndex=i}function jW(i){let e=i[Ie];return e.type===2?e.declTNode:e.type===1?i[li]:null}function xx(i,e,t){if(t&We.SkipSelf){let r=e,o=i;for(;r=r.parent,r===null&&!(t&We.Host);)if(r=jW(o),r===null||(o=o[Yu],r.type&10))break;if(r===null)return!1;e=r,i=o}let n=Le.lFrame=Px();return n.currentTNode=e,n.lView=i,!0}function JS(i){let e=Px(),t=i[Ie];Le.lFrame=e,e.currentTNode=t.firstChild,e.lView=i,e.tView=t,e.contextLView=i,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Px(){let i=Le.lFrame,e=i===null?null:i.child;return e===null?Fx(i):e}function Fx(i){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return i!==null&&(i.child=e),e}function Nx(){let i=Le.lFrame;return Le.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}var Lx=Nx;function eE(){let i=Nx();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function UW(i){return(Le.lFrame.contextLView=IW(i,Le.lFrame.contextLView))[Hn]}function es(){return Le.lFrame.selectedIndex}function tl(i){Le.lFrame.selectedIndex=i}function dv(){let i=Le.lFrame;return qS(i.tView,i.selectedIndex)}function WW(){return Le.lFrame.currentNamespace}var kx=!0;function hv(){return kx}function pv(i){kx=i}function zW(i,e,t){let{ngOnChanges:n,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(n){let s=yx(e);(t.preOrderHooks??=[]).push(i,s),(t.preOrderCheckHooks??=[]).push(i,s)}r&&(t.preOrderHooks??=[]).push(0-i,r),o&&((t.preOrderHooks??=[]).push(i,o),(t.preOrderCheckHooks??=[]).push(i,o))}function fv(i,e){for(let t=e.directiveStart,n=e.directiveEnd;t<n;t++){let o=i.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=o;s&&(i.contentHooks??=[]).push(-t,s),a&&((i.contentHooks??=[]).push(t,a),(i.contentCheckHooks??=[]).push(t,a)),l&&(i.viewHooks??=[]).push(-t,l),u&&((i.viewHooks??=[]).push(t,u),(i.viewCheckHooks??=[]).push(t,u)),c!=null&&(i.destroyHooks??=[]).push(t,c)}}function Mg(i,e,t){Vx(i,e,3,t)}function xg(i,e,t,n){(i[Ee]&3)===t&&Vx(i,e,t,n)}function dw(i,e){let t=i[Ee];(t&3)===e&&(t&=16383,t+=1,i[Ee]=t)}function Vx(i,e,t,n){let r=n!==void 0?i[Nu]&65535:0,o=n??-1,s=e.length-1,a=0;for(let l=r;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],n!=null&&a>=n)break}else e[l]<0&&(i[Nu]+=65536),(a<o||o==-1)&&($W(i,t,e,l),i[Nu]=(i[Nu]&4294901760)+l+2),l++}function mM(i,e){oo(4,i,e);let t=Tn(null);try{e.call(i)}finally{Tn(t),oo(5,i,e)}}function $W(i,e,t,n){let r=t[n]<0,o=t[n+1],s=r?-t[n]:t[n],a=i[s];r?i[Ee]>>14<i[Nu]>>16&&(i[Ee]&3)===e&&(i[Ee]+=16384,mM(a,o)):mM(a,o)}var Hu=-1,nl=class{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}};function qW(i){return i instanceof nl}function KW(i){return(i.flags&8)!==0}function YW(i){return(i.flags&16)!==0}function Gx(i){return i!==Hu}function Bg(i){return i&32767}function QW(i){return i>>16}function jg(i,e){let t=QW(i),n=e;for(;t>0;)n=n[Yu],t--;return n}var Lw=!0;function yM(i){let e=Lw;return Lw=i,e}var ZW=256,Hx=ZW-1,Bx=5,XW=0,so={};function JW(i,e,t){let n;typeof t=="string"?n=t.charCodeAt(0)||0:t.hasOwnProperty(Td)&&(n=t[Td]),n==null&&(n=t[Td]=XW++);let r=n&Hx,o=1<<r;e.data[i+(r>>Bx)]|=o}function Ug(i,e){let t=jx(i,e);if(t!==-1)return t;let n=e[Ie];n.firstCreatePass&&(i.injectorIndex=e.length,hw(n.data,i),hw(e,null),hw(n.blueprint,null));let r=tE(i,e),o=i.injectorIndex;if(Gx(r)){let s=Bg(r),a=jg(r,e),l=a[Ie].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=r,o}function hw(i,e){i.push(0,0,0,0,0,0,0,0,e)}function jx(i,e){return i.injectorIndex===-1||i.parent&&i.parent.injectorIndex===i.injectorIndex||e[i.injectorIndex+8]===null?-1:i.injectorIndex}function tE(i,e){if(i.parent&&i.parent.injectorIndex!==-1)return i.parent.injectorIndex;let t=0,n=null,r=e;for(;r!==null;){if(n=qx(r),n===null)return Hu;if(t++,r=r[Yu],n.injectorIndex!==-1)return n.injectorIndex|t<<16}return Hu}function kw(i,e,t){JW(i,e,t)}function ez(i,e){if(e==="class")return i.classes;if(e==="style")return i.styles;let t=i.attrs;if(t){let n=t.length,r=0;for(;r<n;){let o=t[r];if(sx(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<n&&typeof t[r]=="string";)r++;else{if(o===e)return t[r+1];r=r+2}}}return null}function Ux(i,e,t){if(t&We.Optional||i!==void 0)return i;US(e,"NodeInjector")}function Wx(i,e,t,n){if(t&We.Optional&&n===void 0&&(n=null),!(t&(We.Self|We.Host))){let r=i[Uu],o=ir(void 0);try{return r?r.get(e,n,t&We.Optional):nx(e,n,t&We.Optional)}finally{ir(o)}}return Ux(n,e,t)}function zx(i,e,t,n=We.Default,r){if(i!==null){if(e[Ee]&2048&&!(n&We.Self)){let s=rz(i,e,t,n,so);if(s!==so)return s}let o=$x(i,e,t,n,so);if(o!==so)return o}return Wx(e,t,n,r)}function $x(i,e,t,n,r){let o=nz(t);if(typeof o=="function"){if(!xx(e,i,n))return n&We.Host?Ux(r,t,n):Wx(e,t,n,r);try{let s;if(s=o(n),s==null&&!(n&We.Optional))US(t);else return s}finally{Lx()}}else if(typeof o=="number"){let s=null,a=jx(i,e),l=Hu,u=n&We.Host?e[Ai][li]:null;for((a===-1||n&We.SkipSelf)&&(l=a===-1?tE(i,e):e[a+8],l===Hu||!_M(n,!1)?a=-1:(s=e[Ie],a=Bg(l),e=jg(l,e)));a!==-1;){let c=e[Ie];if(CM(o,a,c.data)){let d=tz(a,e,t,s,n,u);if(d!==so)return d}l=e[a+8],l!==Hu&&_M(n,e[Ie].data[a+8]===u)&&CM(o,a,e)?(s=c,a=Bg(l),e=jg(l,e)):a=-1}}return r}function tz(i,e,t,n,r,o){let s=e[Ie],a=s.data[i+8],l=n==null?lv(a)&&Lw:n!=s&&(a.type&3)!==0,u=r&We.Host&&o===a,c=Pg(a,s,t,l,u);return c!==null?il(e,s,c,a):so}function Pg(i,e,t,n,r){let o=i.providerIndexes,s=e.data,a=o&1048575,l=i.directiveStart,u=i.directiveEnd,c=o>>20,d=n?a:a+c,h=r?a+c:u;for(let p=d;p<h;p++){let f=s[p];if(p<l&&t===f||p>=l&&f.type===t)return p}if(r){let p=s[l];if(p&&Zo(p)&&p.type===t)return l}return null}function il(i,e,t,n){let r=i[t],o=e.data;if(qW(r)){let s=r;s.resolving&&j2(B2(o[t]));let a=yM(s.canSeeViewProviders);s.resolving=!0;let l,u=s.injectImpl?ir(s.injectImpl):null,c=xx(i,n,We.Default);try{r=i[t]=s.factory(void 0,o,i,n),e.firstCreatePass&&t>=n.directiveStart&&zW(t,o[t],e)}finally{u!==null&&ir(u),yM(a),s.resolving=!1,Lx()}}return r}function nz(i){if(typeof i=="string")return i.charCodeAt(0)||0;let e=i.hasOwnProperty(Td)?i[Td]:void 0;return typeof e=="number"?e>=0?e&Hx:iz:e}function CM(i,e,t){let n=1<<i;return!!(t[e+(i>>Bx)]&n)}function _M(i,e){return!(i&We.Self)&&!(i&We.Host&&e)}var Za=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,n){return zx(this._tNode,this._lView,e,sv(n),t)}};function iz(){return new Za(Jn(),Fe())}function nn(i){return zd(()=>{let e=i.prototype.constructor,t=e[Vg]||Vw(e),n=Object.prototype,r=Object.getPrototypeOf(i.prototype).constructor;for(;r&&r!==n;){let o=r[Vg]||Vw(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Vw(i){return YM(i)?()=>{let e=Vw(Yn(i));return e&&e()}:zu(i)}function rz(i,e,t,n,r){let o=i,s=e;for(;o!==null&&s!==null&&s[Ee]&2048&&!(s[Ee]&512);){let a=$x(o,s,t,n|We.Self,so);if(a!==so)return a;let l=o.parent;if(!l){let u=s[vx];if(u){let c=u.get(t,so,n);if(c!==so)return c}l=qx(s),s=s[Yu]}o=l}return r}function qx(i){let e=i[Ie],t=e.type;return t===2?e.declTNode:t===1?i[li]:null}function gv(i){return ez(Jn(),i)}var Dg="__parameters__";function oz(i){return function(...t){if(i){let n=i(...t);for(let r in n)this[r]=n[r]}}}function Kx(i,e,t){return zd(()=>{let n=oz(e);function r(...o){if(this instanceof r)return n.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,u,c){let d=l.hasOwnProperty(Dg)?l[Dg]:Object.defineProperty(l,Dg,{value:[]})[Dg];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(s),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=i,r.annotationCls=r,r})}function sz(i){return typeof i=="function"}function az(i,e,t){if(i.length!==e.length)return!1;for(let n=0;n<i.length;n++){let r=i[n],o=e[n];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function lz(i){return i.flat(Number.POSITIVE_INFINITY)}function nE(i,e){i.forEach(t=>Array.isArray(t)?nE(t,e):e(t))}function Yx(i,e,t){e>=i.length?i.push(t):i.splice(e,0,t)}function Wg(i,e){return e>=i.length-1?i.pop():i.splice(e,1)[0]}function uz(i,e){let t=[];for(let n=0;n<i;n++)t.push(e);return t}function cz(i,e,t,n){let r=i.length;if(r==e)i.push(t,n);else if(r===1)i.push(n,i[0]),i[0]=t;else{for(r--,i.push(i[r-1],i[r]);r>e;){let o=r-2;i[r]=i[o],r--}i[e]=t,i[e+1]=n}}function iE(i,e,t){let n=qd(i,e);return n>=0?i[n|1]=t:(n=~n,cz(i,n,e,t)),n}function pw(i,e){let t=qd(i,e);if(t>=0)return i[t|1]}function qd(i,e){return dz(i,e,1)}function dz(i,e,t){let n=0,r=i.length>>t;for(;r!==n;){let o=n+(r-n>>1),s=i[o<<t];if(e===s)return o<<t;s>e?r=o:n=o+1}return~(r<<t)}var Kd=ix(Kx("Optional"),8);var vv=ix(Kx("SkipSelf"),4);var $u=new ie("ENVIRONMENT_INITIALIZER"),Qx=new ie("INJECTOR",-1),Zx=new ie("INJECTOR_DEF_TYPES"),zg=class{get(e,t=Md){if(t===Md){let n=new Error(`NullInjectorError: No provider for ${Zn(e)}!`);throw n.name="NullInjectorError",n}return t}};function Hs(i){return{\u0275providers:i}}function rE(...i){return{\u0275providers:Xx(!0,i),\u0275fromNgModule:!0}}function Xx(i,...e){let t=[],n=new Set,r,o=s=>{t.push(s)};return nE(e,s=>{let a=s;Gw(a,o,[],n)&&(r||=[],r.push(a))}),r!==void 0&&Jx(r,o),t}function Jx(i,e){for(let t=0;t<i.length;t++){let{ngModule:n,providers:r}=i[t];oE(r,o=>{e(o,n)})}}function Gw(i,e,t,n){if(i=Yn(i),!i)return!1;let r=null,o=lM(i),s=!o&&Qo(i);if(!o&&!s){let l=i.ngModule;if(o=lM(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=i}let a=n.has(r);if(s){if(a)return!1;if(n.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)Gw(u,e,t,n)}}else if(o){if(o.imports!=null&&!a){n.add(r);let u;try{nE(o.imports,c=>{Gw(c,e,t,n)&&(u||=[],u.push(c))})}finally{}u!==void 0&&Jx(u,e)}if(!a){let u=zu(r)||(()=>new r);e({provide:r,useFactory:u,deps:Qn},r),e({provide:Zx,useValue:r,multi:!0},r),e({provide:$u,useValue:()=>G(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let u=i;oE(l,c=>{e(c,u)})}}else return!1;return r!==i&&i.providers!==void 0}function oE(i,e){for(let t of i)QM(t)&&(t=t.\u0275providers),Array.isArray(t)?oE(t,e):e(t)}var hz=wt({provide:String,useValue:wt});function eP(i){return i!==null&&typeof i=="object"&&hz in i}function pz(i){return!!(i&&i.useExisting)}function fz(i){return!!(i&&i.useFactory)}function qu(i){return typeof i=="function"}function gz(i){return!!i.useClass}var mv=new ie("Set Injector scope."),Fg={},vz={},fw;function yv(){return fw===void 0&&(fw=new zg),fw}var Cn=class{},Vd=class extends Cn{get destroyed(){return this._destroyed}constructor(e,t,n,r){super(),this.parent=t,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Bw(e,s=>this.processProvider(s)),this.records.set(Qx,Lu(void 0,this)),r.has("environment")&&this.records.set(Cn,Lu(void 0,this));let o=this.records.get(mv);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Zx,Qn,We.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let t of this._ngOnDestroyHooks)t.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Fs(this),n=ir(void 0),r;try{return e()}finally{Fs(t),ir(n)}}get(e,t=Md,n=We.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(sM))return e[sM](this);n=sv(n);let r,o=Fs(this),s=ir(void 0);try{if(!(n&We.SkipSelf)){let l=this.records.get(e);if(l===void 0){let u=wz(e)&&ov(e);u&&this.injectableDefInScope(u)?l=Lu(Hw(e),Fg):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=n&We.Self?yv():this.parent;return t=n&We.Optional&&t===Md?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Gg]=a[Gg]||[]).unshift(Zn(e)),o)throw a;return eW(a,e,"R3InjectorError",this.source)}else throw a}finally{ir(s),Fs(o)}}resolveInjectorInitializers(){let e=Fs(this),t=ir(void 0),n;try{let r=this.get($u,Qn,We.Self);for(let o of r)o()}finally{Fs(e),ir(t)}}toString(){let e=[],t=this.records;for(let n of t.keys())e.push(Zn(n));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new X(205,!1)}processProvider(e){e=Yn(e);let t=qu(e)?e:Yn(e&&e.provide),n=yz(e);if(!qu(e)&&e.multi===!0){let r=this.records.get(t);r||(r=Lu(void 0,Fg,!0),r.factory=()=>Mw(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,n)}hydrate(e,t){return t.value===Fg&&(t.value=vz,t.value=t.factory()),typeof t.value=="object"&&t.value&&_z(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Yn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Hw(i){let e=ov(i),t=e!==null?e.factory:zu(i);if(t!==null)return t;if(i instanceof ie)throw new X(204,!1);if(i instanceof Function)return mz(i);throw new X(204,!1)}function mz(i){if(i.length>0)throw new X(204,!1);let t=z2(i);return t!==null?()=>t.factory(i):()=>new i}function yz(i){if(eP(i))return Lu(void 0,i.useValue);{let e=tP(i);return Lu(e,Fg)}}function tP(i,e,t){let n;if(qu(i)){let r=Yn(i);return zu(r)||Hw(r)}else if(eP(i))n=()=>Yn(i.useValue);else if(fz(i))n=()=>i.useFactory(...Mw(i.deps||[]));else if(pz(i))n=()=>G(Yn(i.useExisting));else{let r=Yn(i&&(i.useClass||i.provide));if(Cz(i))n=()=>new r(...Mw(i.deps));else return zu(r)||Hw(r)}return n}function Lu(i,e,t=!1){return{factory:i,value:e,multi:t?[]:void 0}}function Cz(i){return!!i.deps}function _z(i){return i!==null&&typeof i=="object"&&typeof i.ngOnDestroy=="function"}function wz(i){return typeof i=="function"||typeof i=="object"&&i instanceof ie}function Bw(i,e){for(let t of i)Array.isArray(t)?Bw(t,e):t&&QM(t)?Bw(t.\u0275providers,e):e(t)}function vo(i,e){i instanceof Vd&&i.assertNotDestroyed();let t,n=Fs(i),r=ir(void 0);try{return e()}finally{Fs(n),ir(r)}}function sE(i){if(!tx()&&!Z2())throw new X(-203,!1)}function wM(i,e=null,t=null,n){let r=nP(i,e,t,n);return r.resolveInjectorInitializers(),r}function nP(i,e=null,t=null,n,r=new Set){let o=[t||Qn,rE(i)];return n=n||(typeof i=="object"?void 0:Zn(i)),new Vd(o,e||yv(),n||null,r)}var gt=(()=>{let e=class e{static create(n,r){if(Array.isArray(n))return wM({name:""},r,n,"");{let o=n.name??"";return wM({name:o},n.parent,n.providers,o)}}};e.THROW_IF_NOT_FOUND=Md,e.NULL=new zg,e.\u0275prov=k({token:e,providedIn:"any",factory:()=>G(Qx)}),e.__NG_ELEMENT_ID__=-1;let i=e;return i})();var jw;function iP(i){jw=i}function aE(){if(jw!==void 0)return jw;if(typeof document<"u")return document;throw new X(210,!1)}var Cv=new ie("AppId",{providedIn:"root",factory:()=>Sz}),Sz="ng",lE=new ie("Platform Initializer"),Ii=new ie("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var Yd=new ie("AnimationModuleType"),uE=new ie("CSP nonce",{providedIn:"root",factory:()=>aE().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function rP(i){return i.ownerDocument.defaultView}function oP(i){return i instanceof Function?i():i}function Ez(i){return(i??F(gt)).get(Ii)==="browser"}function sP(i){return(i.flags&128)===128}var ho=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(ho||{}),bz=/^>|^->|<!--|-->|--!>|<!-$/g,Dz=/(<|>)/g,Rz="\u200B$1\u200B";function Tz(i){return i.replace(bz,e=>e.replace(Dz,Rz))}var aP=new Map,Az=0;function Oz(){return Az++}function Iz(i){aP.set(i[av],i)}function Mz(i){aP.delete(i[av])}var SM="__ngContext__";function po(i,e){Qa(e)?(i[SM]=e[av],Iz(e)):i[SM]=e}var Uw;function cE(i,e){return Uw(i,e)}function xz(i){Uw===void 0&&(Uw=i())}function ku(i,e,t,n,r){if(n!=null){let o,s=!1;Jo(n)?o=n:Qa(n)&&(s=!0,n=n[go]);let a=rr(n);i===0&&t!==null?r==null?fP(e,t,a):rl(e,t,a,r||null,!0):i===1&&t!==null?rl(e,t,a,r||null,!0):i===2?_P(e,a,s):i===3&&e.destroyNode(a),o!=null&&Uz(e,i,o,t,r)}}function dE(i,e){return i.createText(e)}function lP(i,e,t){i.setValue(e,t)}function uP(i,e){return i.createComment(Tz(e))}function hE(i,e,t){return i.createElement(e,t)}function Pz(i,e){cP(i,e),e[go]=null,e[li]=null}function Fz(i,e,t,n,r,o){n[go]=r,n[li]=e,Ev(i,n,t,1,r,o)}function cP(i,e){e[uo].changeDetectionScheduler?.notify(),Ev(i,e,e[yt],2,null,null)}function Nz(i){let e=i[Fd];if(!e)return gw(i[Ie],i);for(;e;){let t=null;if(Qa(e))t=e[Fd];else{let n=e[Bn];n&&(t=n)}if(!t){for(;e&&!e[Vr]&&e!==i;)Qa(e)&&gw(e[Ie],e),e=e[On];e===null&&(e=i),Qa(e)&&gw(e[Ie],e),t=e&&e[Vr]}e=t}}function Lz(i,e,t,n){let r=Bn+n,o=t.length;n>0&&(t[r-1][Vr]=e),n<o-Bn?(e[Vr]=t[r],Yx(t,Bn+n,e)):(t.push(e),e[Vr]=null),e[On]=t;let s=e[$d];s!==null&&t!==s&&kz(s,e);let a=e[ao];a!==null&&a.insertView(i),Fw(e),e[Ee]|=128}function kz(i,e){let t=i[Wu],r=e[On][On][Ai];e[Ai]!==r&&(i[Ee]|=zS.HasTransplantedViews),t===null?i[Wu]=[e]:t.push(e)}function dP(i,e){let t=i[Wu],n=t.indexOf(e);t.splice(n,1)}function Gd(i,e){if(i.length<=Bn)return;let t=Bn+e,n=i[t];if(n){let r=n[$d];r!==null&&r!==i&&dP(r,n),e>0&&(i[t-1][Vr]=n[Vr]);let o=Wg(i,Bn+e);Pz(n[Ie],n);let s=o[ao];s!==null&&s.detachView(o[Ie]),n[On]=null,n[Vr]=null,n[Ee]&=-129}return n}function _v(i,e){if(!(e[Ee]&256)){let t=e[yt];t.destroyNode&&Ev(i,e,t,3,null,null),Nz(e)}}function gw(i,e){if(!(e[Ee]&256)){e[Ee]&=-129,e[Ee]|=256,e[Xa]&&EI(e[Xa]),Gz(i,e),Vz(i,e),e[Ie].type===1&&e[yt].destroy();let t=e[$d];if(t!==null&&Jo(e[On])){t!==e[On]&&dP(t,e);let n=e[ao];n!==null&&n.detachView(i)}Mz(e)}}function Vz(i,e){let t=i.cleanup,n=e[Pd];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?n[s]():n[-s].unsubscribe(),o+=2}else{let s=n[t[o+1]];t[o].call(s)}n!==null&&(e[Pd]=null);let r=e[Ns];if(r!==null){e[Ns]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function Gz(i,e){let t;if(i!=null&&(t=i.destroyHooks)!=null)for(let n=0;n<t.length;n+=2){let r=e[t[n]];if(!(r instanceof nl)){let o=t[n+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];oo(4,a,l);try{l.call(a)}finally{oo(5,a,l)}}else{oo(4,r,o);try{o.call(r)}finally{oo(5,r,o)}}}}}function hP(i,e,t){return pP(i,e.parent,t)}function pP(i,e,t){let n=e;for(;n!==null&&n.type&40;)e=n,n=e.parent;if(n===null)return t[go];{let{componentOffset:r}=n;if(r>-1){let{encapsulation:o}=i.data[n.directiveStart+r];if(o===lo.None||o===lo.Emulated)return null}return or(n,t)}}function rl(i,e,t,n,r){i.insertBefore(e,t,n,r)}function fP(i,e,t){i.appendChild(e,t)}function EM(i,e,t,n,r){n!==null?rl(i,e,t,n,r):fP(i,e,t)}function Hz(i,e,t,n){i.removeChild(e,t,n)}function wv(i,e){return i.parentNode(e)}function Bz(i,e){return i.nextSibling(e)}function gP(i,e,t){return mP(i,e,t)}function vP(i,e,t){return i.type&40?or(i,t):null}var mP=vP,Ww;function yP(i,e){mP=i,Ww=e}function Sv(i,e,t,n){let r=hP(i,n,e),o=e[yt],s=n.parent||e[li],a=gP(s,n,e);if(r!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)EM(o,r,t[l],a,!1);else EM(o,r,t,a,!1);Ww!==void 0&&Ww(o,n,e,t,r)}function Ng(i,e){if(e!==null){let t=e.type;if(t&3)return or(e,i);if(t&4)return zw(-1,i[e.index]);if(t&8){let n=e.child;if(n!==null)return Ng(i,n);{let r=i[e.index];return Jo(r)?zw(-1,r):rr(r)}}else{if(t&32)return cE(e,i)()||rr(i[e.index]);{let n=CP(i,e);if(n!==null){if(Array.isArray(n))return n[0];let r=Ld(i[Ai]);return Ng(r,n)}else return Ng(i,e.next)}}}return null}function CP(i,e){if(e!==null){let n=i[Ai][li],r=e.projection;return n.projection[r]}return null}function zw(i,e){let t=Bn+i+1;if(t<e.length){let n=e[t],r=n[Ie].firstChild;if(r!==null)return Ng(n,r)}return e[Ja]}function _P(i,e,t){let n=wv(i,e);n&&Hz(i,n,e,t)}function pE(i,e,t,n,r,o,s){for(;t!=null;){let a=n[t.index],l=t.type;if(s&&e===0&&(a&&po(rr(a),n),t.flags|=2),(t.flags&32)!==32)if(l&8)pE(i,e,t.child,n,r,o,!1),ku(e,i,r,a,o);else if(l&32){let u=cE(t,n),c;for(;c=u();)ku(e,i,r,c,o);ku(e,i,r,a,o)}else l&16?wP(i,e,n,t,r,o):ku(e,i,r,a,o);t=s?t.projectionNext:t.next}}function Ev(i,e,t,n,r,o){pE(t,n,i.firstChild,e,r,o,!1)}function jz(i,e,t){let n=e[yt],r=hP(i,t,e),o=t.parent||e[li],s=gP(o,t,e);wP(n,0,e,t,r,s)}function wP(i,e,t,n,r,o){let s=t[Ai],l=s[li].projection[n.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let c=l[u];ku(e,i,r,c,o)}else{let u=l,c=s[On];sP(n)&&(u.flags|=128),pE(i,e,u,c,r,o,!0)}}function Uz(i,e,t,n,r){let o=t[Ja],s=rr(t);o!==s&&ku(e,i,n,o,r);for(let a=Bn;a<t.length;a++){let l=t[a];Ev(l[Ie],l,i,e,n,o)}}function Wz(i,e,t,n,r){if(e)r?i.addClass(t,n):i.removeClass(t,n);else{let o=n.indexOf("-")===-1?void 0:ho.DashCase;r==null?i.removeStyle(t,n,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=ho.Important),i.setStyle(t,n,r,o))}}function zz(i,e,t){i.setAttribute(e,"style",t)}function SP(i,e,t){t===""?i.removeAttribute(e,"class"):i.setAttribute(e,"class",t)}function EP(i,e,t){let{mergedAttrs:n,classes:r,styles:o}=t;n!==null&&xw(i,e,n),r!==null&&SP(i,e,r),o!==null&&zz(i,e,o)}var Rg;function $z(){if(Rg===void 0&&(Rg=null,Ti.trustedTypes))try{Rg=Ti.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Rg}function bv(i){return $z()?.createHTML(i)||i}var Tg;function bP(){if(Tg===void 0&&(Tg=null,Ti.trustedTypes))try{Tg=Ti.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Tg}function bM(i){return bP()?.createHTML(i)||i}function DM(i){return bP()?.createScriptURL(i)||i}var Xo=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${KM})`}},$w=class extends Xo{getTypeName(){return"HTML"}},qw=class extends Xo{getTypeName(){return"Style"}},Kw=class extends Xo{getTypeName(){return"Script"}},Yw=class extends Xo{getTypeName(){return"URL"}},Qw=class extends Xo{getTypeName(){return"ResourceURL"}};function sr(i){return i instanceof Xo?i.changingThisBreaksApplicationSecurity:i}function ts(i,e){let t=qz(i);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${KM})`)}return t===e}function qz(i){return i instanceof Xo&&i.getTypeName()||null}function DP(i){return new $w(i)}function RP(i){return new qw(i)}function TP(i){return new Kw(i)}function AP(i){return new Yw(i)}function OP(i){return new Qw(i)}function IP(i){let e=new Xw(i);return Kz()?new Zw(e):e}var Zw=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(bv(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}},Xw=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=bv(e),t}};function Kz(){try{return!!new window.DOMParser().parseFromString(bv(""),"text/html")}catch{return!1}}var Yz=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Qd(i){return i=String(i),i.match(Yz)?i:"unsafe:"+i}function ns(i){let e={};for(let t of i.split(","))e[t]=!0;return e}function Zd(...i){let e={};for(let t of i)for(let n in t)t.hasOwnProperty(n)&&(e[n]=!0);return e}var MP=ns("area,br,col,hr,img,wbr"),xP=ns("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),PP=ns("rp,rt"),Qz=Zd(PP,xP),Zz=Zd(xP,ns("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xz=Zd(PP,ns("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jw=Zd(MP,Zz,Xz,Qz),fE=ns("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Jz=ns("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),e3=ns("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),FP=Zd(fE,Jz,e3),t3=ns("script,style,template"),eS=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;){if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild){t=t.firstChild;continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}}return this.buf.join("")}startElement(e){let t=e.nodeName.toLowerCase();if(!Jw.hasOwnProperty(t))return this.sanitizedSomething=!0,!t3.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let n=e.attributes;for(let r=0;r<n.length;r++){let o=n.item(r),s=o.name,a=s.toLowerCase();if(!FP.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;fE[a]&&(l=Qd(l)),this.buf.push(" ",s,'="',RM(l),'"')}return this.buf.push(">"),!0}endElement(e){let t=e.nodeName.toLowerCase();Jw.hasOwnProperty(t)&&!MP.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(RM(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}},n3=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,i3=/([^\#-~ |!])/g;function RM(i){return i.replace(/&/g,"&amp;").replace(n3,function(e){let t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+((t-55296)*1024+(n-56320)+65536)+";"}).replace(i3,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Ag;function gE(i,e){let t=null;try{Ag=Ag||IP(i);let n=e?String(e):"";t=Ag.getInertBodyElement(n);let r=5,o=n;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,n=o,o=t.innerHTML,t=Ag.getInertBodyElement(n)}while(n!==o);let a=new eS().sanitizeChildren(tS(t)||t);return bv(a)}finally{if(t){let n=tS(t)||t;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function tS(i){return"content"in i&&r3(i)?i.content:null}function r3(i){return i.nodeType===Node.ELEMENT_NODE&&i.nodeName==="TEMPLATE"}var Mi=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(Mi||{});function vE(i){let e=mE();return e?bM(e.sanitize(Mi.HTML,i)||""):ts(i,"HTML")?bM(sr(i)):gE(aE(),Ls(i))}function o3(i){let e=mE();return e?e.sanitize(Mi.URL,i)||"":ts(i,"URL")?sr(i):Qd(Ls(i))}function s3(i){let e=mE();if(e)return DM(e.sanitize(Mi.RESOURCE_URL,i)||"");if(ts(i,"ResourceURL"))return DM(sr(i));throw new X(904,!1)}function a3(i,e){return e==="src"&&(i==="embed"||i==="frame"||i==="iframe"||i==="media"||i==="script")||e==="href"&&(i==="base"||i==="link")?s3:o3}function NP(i,e,t){return a3(e,t)(i)}function mE(){let i=Fe();return i&&i[uo].sanitizer}var nS=class{};var l3="h",u3="b";var c3=()=>null;function yE(i,e,t=!1){return c3(i,e,t)}var iS=class{},$g=class{};function d3(i){let e=Error(`No component factory found for ${Zn(i)}.`);return e[h3]=i,e}var h3="ngComponent";var rS=class{resolveComponentFactory(e){throw d3(e)}},ar=(()=>{let e=class e{};e.NULL=new rS;let i=e;return i})();function p3(){return Qu(Jn(),Fe())}function Qu(i,e){return new Ge(or(i,e))}var Ge=(()=>{let e=class e{constructor(n){this.nativeElement=n}};e.__NG_ELEMENT_ID__=p3;let i=e;return i})();function f3(i){return i instanceof Ge?i.nativeElement:i}var Gr=class{},xi=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>g3();let i=e;return i})();function g3(){let i=Fe(),e=Jn(),t=Vs(e.index,i);return(Qa(t)?t:i)[yt]}var v3=(()=>{let e=class e{};e.\u0275prov=k({token:e,providedIn:"root",factory:()=>null});let i=e;return i})(),vw={};function Dv(i,e){let t=OI(i),n=t[wu];return e?.equal&&(n.equal=e.equal),t.set=r=>$_(n,r),t.update=r=>II(n,r),t.asReadonly=m3.bind(t),t}function m3(){let i=this[wu];if(i.readonlyFn===void 0){let e=()=>this();e[wu]=i,i.readonlyFn=e}return i.readonlyFn}function LP(i){return CE(i)?Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i:!1}function y3(i,e){if(Array.isArray(i))for(let t=0;t<i.length;t++)e(i[t]);else{let t=i[Symbol.iterator](),n;for(;!(n=t.next()).done;)e(n.value)}}function CE(i){return i!==null&&(typeof i=="function"||typeof i=="object")}var oS=class{constructor(){}supports(e){return LP(e)}create(e){return new sS(e)}},C3=(i,e)=>e,sS=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||C3}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,o=null;for(;t||n;){let s=!n||t&&t.currentIndex<TM(n,r,o)?t:n,a=TM(s,r,o),l=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(t=t._next,s.previousIndex==null)r++;else{o||(o=[]);let u=a-r,c=l-r;if(u!=c){for(let h=0;h<u;h++){let p=h<o.length?o[h]:o[h]=0,f=p+h;c<=f&&f<u&&(o[h]=p+1)}let d=s.previousIndex;o[d]=c-u}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!LP(e))throw new X(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,n=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),n=!0):(n&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else r=0,y3(e,a=>{s=this._trackByFn(r,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,r),n=!0):(n&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(n,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new aS(t,n),o,r)),e}_verifyReinsertion(e,t,n,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new qg),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,n=e._next;return t===null?this._itHead=n:t._next=n,n===null?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new qg),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},aS=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},lS=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;n!==null;n=n._nextDup)if((t===null||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){let t=e._prevDup,n=e._nextDup;return t===null?this._head=n:t._nextDup=n,n===null?this._tail=t:n._prevDup=t,this._head===null}},qg=class{constructor(){this.map=new Map}put(e){let t=e.trackById,n=this.map.get(t);n||(n=new lS,this.map.set(t,n)),n.add(e)}get(e,t){let n=e,r=this.map.get(n);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function TM(i,e,t){let n=i.previousIndex;if(n===null)return n;let r=0;return t&&n<t.length&&(r=t[n]),n+e+r}var uS=class{constructor(){}supports(e){return e instanceof Map||CE(e)}create(){return new cS}},cS=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||CE(e)))throw new X(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(n,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,n),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(r,n);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let n=t;n!==null;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,t);let o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}let n=new dS(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}},dS=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function AM(){return new Rv([new oS])}var Rv=(()=>{let e=class e{constructor(n){this.factories=n}static create(n,r){if(r!=null){let o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||AM()),deps:[[e,new vv,new Kd]]}}find(n){let r=this.factories.find(o=>o.supports(n));if(r!=null)return r;throw new X(901,!1)}};e.\u0275prov=k({token:e,providedIn:"root",factory:AM});let i=e;return i})();function OM(){return new _E([new uS])}var _E=(()=>{let e=class e{constructor(n){this.factories=n}static create(n,r){if(r){let o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||OM()),deps:[[e,new vv,new Kd]]}}find(n){let r=this.factories.find(o=>o.supports(n));if(r)return r;throw new X(901,!1)}};e.\u0275prov=k({token:e,providedIn:"root",factory:OM});let i=e;return i})();function Kg(i,e,t,n,r=!1){for(;t!==null;){let o=e[t.index];o!==null&&n.push(rr(o)),Jo(o)&&_3(o,n);let s=t.type;if(s&8)Kg(i,e,t.child,n);else if(s&32){let a=cE(t,e),l;for(;l=a();)n.push(l)}else if(s&16){let a=CP(e,t);if(Array.isArray(a))n.push(...a);else{let l=Ld(e[Ai]);Kg(l[Ie],l,a,n,!0)}}t=r?t.projectionNext:t.next}return n}function _3(i,e){for(let t=Bn;t<i.length;t++){let n=i[t],r=n[Ie].firstChild;r!==null&&Kg(n[Ie],n,r,e)}i[Ja]!==i[go]&&e.push(i[Ja])}var kP=[];function w3(i){return i[Xa]??S3(i)}function S3(i){let e=kP.pop()??Object.create(b3);return e.lView=i,e}function E3(i){i.lView[Xa]!==i&&(i.lView=null,kP.push(i))}var b3=Ue(z({},W_),{consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{Nd(i.lView)},consumerOnSignalRead(){this.lView[Xa]=this}});function VP(i){return HP(i[Fd])}function GP(i){return HP(i[Vr])}function HP(i){for(;i!==null&&!Jo(i);)i=i[Vr];return i}var D3="ngOriginalError";function mw(i){return i[D3]}var fo=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&mw(e);for(;t&&mw(t);)t=mw(t);return t||null}},BP=new ie("",{providedIn:"root",factory:()=>F(fo).handleError.bind(void 0)});var jP=!1,R3=new ie("",{providedIn:"root",factory:()=>jP});var Hr={};function O(i=1){UP(Gt(),Fe(),es()+i,!1)}function UP(i,e,t,n){if(!n)if((e[Ee]&3)===3){let o=i.preOrderCheckHooks;o!==null&&Mg(e,o,t)}else{let o=i.preOrderHooks;o!==null&&xg(e,o,0,t)}tl(t)}function P(i,e=We.Default){let t=Fe();if(t===null)return G(i,e);let n=Jn();return zx(n,t,Yn(i),e)}function WP(){let i="invalid";throw new Error(i)}function zP(i,e,t,n,r,o){let s=Tn(null);try{let a=null;r&Ft.SignalBased&&(a=e[n][wu]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&Ft.HasDecoratorInputTransform&&(o=i.inputTransforms[n].call(e,o)),i.setInput!==null?i.setInput(e,a,o,t,n):mx(e,a,n,o)}finally{Tn(s)}}function T3(i,e){let t=i.hostBindingOpCodes;if(t!==null)try{for(let n=0;n<t.length;n++){let r=t[n];if(r<0)tl(~r);else{let o=r,s=t[++n],a=t[++n];HW(s,o);let l=e[o];a(2,l)}}}finally{tl(-1)}}function Tv(i,e,t,n,r,o,s,a,l,u,c){let d=e.blueprint.slice();return d[go]=r,d[Ee]=n|4|128|8|64,(u!==null||i&&i[Ee]&2048)&&(d[Ee]|=2048),wx(d),d[On]=d[Yu]=i,d[Hn]=t,d[uo]=s||i&&i[uo],d[yt]=a||i&&i[yt],d[Uu]=l||i&&i[Uu]||null,d[li]=o,d[av]=Oz(),d[ju]=c,d[vx]=u,d[Ai]=e.type==2?i[Ai]:d,d}function Zu(i,e,t,n,r){let o=i.data[e];if(o===null)o=wE(i,e,t,n,r),GW()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=n,o.attrs=r;let s=kd();o.injectorIndex=s===null?-1:s.injectorIndex}return co(o,!0),o}function wE(i,e,t,n,r){let o=Rx(),s=YS(),a=s?o:o&&o.parent,l=i.data[e]=P3(i,a,t,e,n,r);return i.firstChild===null&&(i.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function Xd(i,e,t,n){if(t===0)return-1;let r=e.length;for(let o=0;o<t;o++)e.push(n),i.blueprint.push(n),i.data.push(null);return r}function $P(i,e,t,n,r){let o=es(),s=n&2;try{tl(-1),s&&e.length>In&&UP(i,e,In,!1),oo(s?2:0,r),t(n,r)}finally{tl(o),oo(s?3:1,r)}}function SE(i,e,t){if($S(e)){let n=Tn(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=i.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{Tn(n)}}}function EE(i,e,t){bx()&&(G3(i,e,t,or(t,e)),(t.flags&64)===64&&YP(i,e,t))}function bE(i,e,t=or){let n=e.localNames;if(n!==null){let r=e.index+1;for(let o=0;o<n.length;o+=2){let s=n[o+1],a=s===-1?t(e,i):i[s];i[r++]=a}}}function qP(i){let e=i.tView;return e===null||e.incompleteFirstPass?i.tView=DE(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):e}function DE(i,e,t,n,r,o,s,a,l,u,c){let d=In+n,h=d+r,p=A3(d,h),f=typeof u=="function"?u():u;return p[Ie]={type:i,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1,ssrId:c}}function A3(i,e){let t=[];for(let n=0;n<e;n++)t.push(n<i?null:Hr);return t}function O3(i,e,t,n){let o=n.get(R3,jP)||t===lo.ShadowDom,s=i.selectRootElement(e,o);return I3(s),s}function I3(i){M3(i)}var M3=()=>null;function x3(i,e,t,n){let r=XP(e);r.push(t),i.firstCreatePass&&JP(i).push(n,r.length-1)}function P3(i,e,t,n,r,o){let s=e?e.injectorIndex:-1,a=0;return Dx()&&(a|=128),{type:t,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function IM(i,e,t,n,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;n??={};let a,l=Ft.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let u=o;if(r!==null){if(!r.hasOwnProperty(o))continue;u=r[o]}i===0?MM(n,t,u,a,l):MM(n,t,u,a)}return n}function MM(i,e,t,n,r){let o;i.hasOwnProperty(t)?(o=i[t]).push(e,n):o=i[t]=[e,n],r!==void 0&&o.push(r)}function F3(i,e,t){let n=e.directiveStart,r=e.directiveEnd,o=i.data,s=e.attrs,a=[],l=null,u=null;for(let c=n;c<r;c++){let d=o[c],h=t?t.get(d):null,p=h?h.inputs:null,f=h?h.outputs:null;l=IM(0,d.inputs,c,l,p),u=IM(1,d.outputs,c,u,f);let g=l!==null&&s!==null&&!lx(e)?Y3(l,c,s):null;a.push(g)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}function N3(i){return i==="class"?"className":i==="for"?"htmlFor":i==="formaction"?"formAction":i==="innerHtml"?"innerHTML":i==="readonly"?"readOnly":i==="tabindex"?"tabIndex":i}function Av(i,e,t,n,r,o,s,a){let l=or(e,t),u=e.inputs,c;!a&&u!=null&&(c=u[n])?(AE(i,t,c,n,r),lv(e)&&L3(t,e.index)):e.type&3?(n=N3(n),r=s!=null?s(r,e.value||"",n):r,o.setProperty(l,n,r)):e.type&12}function L3(i,e){let t=Vs(e,i);t[Ee]&16||(t[Ee]|=64)}function RE(i,e,t,n){if(bx()){let r=n===null?null:{"":-1},o=B3(i,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&KP(i,e,t,s,r,a),r&&j3(t,n,r)}t.mergedAttrs=xd(t.mergedAttrs,t.attrs)}function KP(i,e,t,n,r,o){for(let u=0;u<n.length;u++)kw(Ug(t,e),i,n[u].type);W3(t,i.data.length,n.length);for(let u=0;u<n.length;u++){let c=n[u];c.providersResolver&&c.providersResolver(c)}let s=!1,a=!1,l=Xd(i,e,n.length,null);for(let u=0;u<n.length;u++){let c=n[u];t.mergedAttrs=xd(t.mergedAttrs,c.hostAttrs),z3(i,t,e,l,c),U3(l,c,r),c.contentQueries!==null&&(t.flags|=4),(c.hostBindings!==null||c.hostAttrs!==null||c.hostVars!==0)&&(t.flags|=64);let d=c.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((i.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}F3(i,t,o)}function k3(i,e,t,n,r){let o=r.hostBindings;if(o){let s=i.hostBindingOpCodes;s===null&&(s=i.hostBindingOpCodes=[]);let a=~e.index;V3(s)!=a&&s.push(a),s.push(t,n,o)}}function V3(i){let e=i.length;for(;e>0;){let t=i[--e];if(typeof t=="number"&&t<0)return t}return 0}function G3(i,e,t,n){let r=t.directiveStart,o=t.directiveEnd;lv(t)&&$3(e,t,i.data[r+t.componentOffset]),i.firstCreatePass||Ug(t,e),po(n,e);let s=t.initialInputs;for(let a=r;a<o;a++){let l=i.data[a],u=il(e,i,a,t);if(po(u,e),s!==null&&K3(e,a-r,u,l,t,s),Zo(l)){let c=Vs(t.index,e);c[Hn]=il(e,i,a,t)}}}function YP(i,e,t){let n=t.directiveStart,r=t.directiveEnd,o=t.index,s=BW();try{tl(o);for(let a=n;a<r;a++){let l=i.data[a],u=e[a];Nw(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&H3(l,u)}}finally{tl(-1),Nw(s)}}function H3(i,e){i.hostBindings!==null&&i.hostBindings(1,e)}function B3(i,e){let t=i.directiveRegistry,n=null,r=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(ux(e,s.selectors,!1))if(n||(n=[]),Zo(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),n.unshift(...a,s);let l=a.length;hS(i,e,l)}else n.unshift(s),hS(i,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,n,r),n.push(s)}return n===null?null:[n,r]}function hS(i,e,t){e.componentOffset=t,(i.components??=[]).push(e.index)}function j3(i,e,t){if(e){let n=i.localNames=[];for(let r=0;r<e.length;r+=2){let o=t[e[r+1]];if(o==null)throw new X(-301,!1);n.push(e[r],o)}}}function U3(i,e,t){if(t){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)t[e.exportAs[n]]=i;Zo(e)&&(t[""]=i)}}function W3(i,e,t){i.flags|=1,i.directiveStart=e,i.directiveEnd=e+t,i.providerIndexes=e}function z3(i,e,t,n,r){i.data[n]=r;let o=r.factory||(r.factory=zu(r.type,!0)),s=new nl(o,Zo(r),P);i.blueprint[n]=s,t[n]=s,k3(i,e,n,Xd(i,t,r.hostVars,Hr),r)}function $3(i,e,t){let n=or(e,i),r=qP(t),o=i[uo].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=Ov(i,Tv(i,r,null,s,n,e,null,o.createRenderer(n,t),null,null,null));i[e.index]=a}function q3(i,e,t,n,r,o){let s=or(i,e);TE(e[yt],s,o,i.value,t,n,r)}function TE(i,e,t,n,r,o,s){if(o==null)i.removeAttribute(e,r,t);else{let a=s==null?Ls(o):s(o,n||"",r);i.setAttribute(e,r,a,t)}}function K3(i,e,t,n,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],u=s[a++],c=s[a++],d=s[a++];zP(n,t,l,u,c,d)}}function Y3(i,e,t){let n=null,r=0;for(;r<t.length;){let o=t[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(i.hasOwnProperty(o)){n===null&&(n=[]);let s=i[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){n.push(o,s[a+1],s[a+2],t[r+1]);break}}r+=2}return n}function QP(i,e,t,n){return[i,!0,0,e,null,n,null,t,null,null]}function ZP(i,e){let t=i.contentQueries;if(t!==null){let n=Tn(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let a=i.data[s];XS(o),a.contentQueries(2,e[s],s)}}}finally{Tn(n)}}}function Ov(i,e){return i[Fd]?i[gM][Vr]=e:i[Fd]=e,i[gM]=e,e}function pS(i,e,t){XS(0);let n=Tn(null);try{e(i,t)}finally{Tn(n)}}function XP(i){return i[Pd]||(i[Pd]=[])}function JP(i){return i.cleanup||(i.cleanup=[])}function Q3(i,e,t){return(i===null||Zo(i))&&(t=DW(t[e.index])),t[yt]}function eF(i,e){let t=i[Uu],n=t?t.get(fo,null):null;n&&n.handleError(e)}function AE(i,e,t,n,r){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],l=t[o++],u=e[s],c=i.data[s];zP(c,u,n,a,l,r)}}function tF(i,e,t){let n=cv(e,i);lP(i[yt],n,t)}var Z3=100;function X3(i,e=!0){let t=i[uo],n=t.rendererFactory,r=!1;r||n.begin?.();try{J3(i)}catch(o){throw e&&eF(i,o),o}finally{r||(n.end?.(),t.inlineEffectRunner?.flush())}}function J3(i){fS(i,0);let e=0;for(;Sx(i);){if(e===Z3)throw new X(103,!1);e++,fS(i,1)}}function e$(i,e,t,n){let r=e[Ee];if((r&256)===256)return;let o=!1;!o&&e[uo].inlineEffectRunner?.flush(),JS(e);let s=null,a=null;!o&&t$(i)&&(a=w3(e),s=wI(a));try{wx(e),VW(i.bindingStartIndex),t!==null&&$P(i,e,t,2,n);let l=(r&3)===3;if(!o)if(l){let d=i.preOrderCheckHooks;d!==null&&Mg(e,d,null)}else{let d=i.preOrderHooks;d!==null&&xg(e,d,0,null),dw(e,0)}if(n$(e),nF(e,0),i.contentQueries!==null&&ZP(i,e),!o)if(l){let d=i.contentCheckHooks;d!==null&&Mg(e,d)}else{let d=i.contentHooks;d!==null&&xg(e,d,1),dw(e,1)}T3(i,e);let u=i.components;u!==null&&rF(e,u,0);let c=i.viewQuery;if(c!==null&&pS(2,c,n),!o)if(l){let d=i.viewCheckHooks;d!==null&&Mg(e,d)}else{let d=i.viewHooks;d!==null&&xg(e,d,2),dw(e,2)}if(i.firstUpdatePass===!0&&(i.firstUpdatePass=!1),e[cw]){for(let d of e[cw])d();e[cw]=null}o||(e[Ee]&=-73)}catch(l){throw Nd(e),l}finally{a!==null&&(SI(a,s),E3(a)),eE()}}function t$(i){return i.type!==2}function nF(i,e){for(let t=VP(i);t!==null;t=GP(t))for(let n=Bn;n<t.length;n++){let r=t[n];iF(r,e)}}function n$(i){for(let e=VP(i);e!==null;e=GP(e)){if(!(e[Ee]&zS.HasTransplantedViews))continue;let t=e[Wu];for(let n=0;n<t.length;n++){let r=t[n],o=r[On];OW(r)}}}function i$(i,e,t){let n=Vs(e,i);iF(n,t)}function iF(i,e){KS(i)&&fS(i,e)}function fS(i,e){let n=i[Ie],r=i[Ee],o=i[Xa],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&z_(o)),o&&(o.dirty=!1),i[Ee]&=-9217,s)e$(n,i,n.template,i[Hn]);else if(r&8192){nF(i,1);let a=n.components;a!==null&&rF(i,a,1)}}function rF(i,e,t){for(let n=0;n<e.length;n++)i$(i,e[n],t)}function OE(i){for(i[uo].changeDetectionScheduler?.notify();i;){i[Ee]|=64;let e=Ld(i);if(mW(i)&&!e)return i;i=e}return null}var ol=class{get rootNodes(){let e=this._lView,t=e[Ie];return Kg(t,e,t.firstChild,[])}constructor(e,t,n=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Hn]}set context(e){this._lView[Hn]=e}get destroyed(){return(this._lView[Ee]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[On];if(Jo(e)){let t=e[Hg],n=t?t.indexOf(this):-1;n>-1&&(Gd(e,n),Wg(t,n))}this._attachedToViewContainer=!1}_v(this._lView[Ie],this._lView)}onDestroy(e){Ex(this._lView,e)}markForCheck(){OE(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ee]&=-129}reattach(){Fw(this._lView),this._lView[Ee]|=128}detectChanges(){this._lView[Ee]|=1024,X3(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new X(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,cP(this._lView[Ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new X(902,!1);this._appRef=e,Fw(this._lView)}},jn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=r$;let i=e;return i})();function r$(i){return o$(Jn(),Fe(),(i&16)===16)}function o$(i,e,t){if(lv(i)&&!t){let n=Vs(i.index,e);return new ol(n,n)}else if(i.type&47){let n=e[Ai];return new ol(n,e)}return null}var Xu=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=s$,e.__NG_ENV_ID__=n=>n;let i=e;return i})(),gS=class extends Xu{constructor(e){super(),this._lView=e}onDestroy(e){return Ex(this._lView,e),()=>MW(this._lView,e)}};function s$(){return new gS(Fe())}var xM=new Set;function Ju(i){xM.has(i)||(xM.add(i),performance?.mark?.("mark_feature_usage",{detail:{feature:i}}))}var vS=class extends me{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let r=e,o=t||(()=>null),s=n;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=yw(o),r&&(r=yw(r)),s&&(s=yw(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof Dt&&e.add(a),a}};function yw(i){return e=>{setTimeout(i,void 0,e)}}var V=vS;function PM(...i){}function a$(){let i=typeof Ti.requestAnimationFrame=="function",e=Ti[i?"requestAnimationFrame":"setTimeout"],t=Ti[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){let n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);let r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}var fe=class i{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new V(!1),this.onMicrotaskEmpty=new V(!1),this.onStable=new V(!1),this.onError=new V(!1),typeof Zone>"u")throw new X(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=a$().nativeRequestAnimationFrame,c$(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!i.isInAngularZone())throw new X(909,!1)}static assertNotInAngularZone(){if(i.isInAngularZone())throw new X(909,!1)}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,l$,PM,PM);try{return o.runTask(s,t,n)}finally{o.cancelTask(s)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}},l$={};function IE(i){if(i._nesting==0&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function u$(i){i.isCheckStableRunning||i.lastRequestAnimationFrameId!==-1||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Ti,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,mS(i),i.isCheckStableRunning=!0,IE(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),mS(i))}function c$(i){let e=()=>{u$(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,r,o,s,a)=>{if(d$(a))return t.invokeTask(r,o,s,a);try{return FM(i),t.invokeTask(r,o,s,a)}finally{(i.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||i.shouldCoalesceRunChangeDetection)&&e(),NM(i)}},onInvoke:(t,n,r,o,s,a,l)=>{try{return FM(i),t.invoke(r,o,s,a,l)}finally{i.shouldCoalesceRunChangeDetection&&e(),NM(i)}},onHasTask:(t,n,r,o)=>{t.hasTask(r,o),n===r&&(o.change=="microTask"?(i._hasPendingMicrotasks=o.microTask,mS(i),IE(i)):o.change=="macroTask"&&(i.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,n,r,o)=>(t.handleError(r,o),i.runOutsideAngular(()=>i.onError.emit(o)),!1)})}function mS(i){i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&i.lastRequestAnimationFrameId!==-1?i.hasPendingMicrotasks=!0:i.hasPendingMicrotasks=!1}function FM(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function NM(i){i._nesting--,IE(i)}function d$(i){return!Array.isArray(i)||i.length!==1?!1:i[0].data?.__ignore_ng_zone__===!0}var Vu=function(i){return i[i.EarlyRead=0]="EarlyRead",i[i.Write=1]="Write",i[i.MixedReadWrite=2]="MixedReadWrite",i[i.Read=3]="Read",i}(Vu||{}),h$={destroy(){}};function ME(i,e){!e&&sE(ME);let t=e?.injector??F(gt);if(!Ez(t))return h$;Ju("NgAfterNextRender");let n=t.get(xE),r=n.handler??=new CS,o=e?.phase??Vu.MixedReadWrite,s=()=>{r.unregister(l),a()},a=t.get(Xu).onDestroy(s),l=new yS(t,o,()=>{s(),i()});return r.register(l),{destroy:s}}var yS=class{constructor(e,t,n){this.phase=t,this.callbackFn=n,this.zone=e.get(fe),this.errorHandler=e.get(fo,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},CS=class{constructor(){this.executingCallbacks=!1,this.buckets={[Vu.EarlyRead]:new Set,[Vu.Write]:new Set,[Vu.MixedReadWrite]:new Set,[Vu.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){let e=!1;this.executingCallbacks=!0;for(let t of Object.values(this.buckets))for(let n of t)e=!0,n.invoke();this.executingCallbacks=!1;for(let t of this.deferredCallbacks)this.buckets[t.phase].add(t);return this.deferredCallbacks.clear(),e}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},xE=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let o of n)o();return!!this.handler?.execute()||n.length>0}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=k({token:e,providedIn:"root",factory:()=>new e});let i=e;return i})();function p$(i,e){let t=Vs(e,i),n=t[Ie];f$(n,t);let r=t[go];r!==null&&t[ju]===null&&(t[ju]=yE(r,t[Uu])),PE(n,t,t[Hn])}function f$(i,e){for(let t=e.length;t<i.blueprint.length;t++)e.push(i.blueprint[t])}function PE(i,e,t){JS(e);try{let n=i.viewQuery;n!==null&&pS(1,n,t);let r=i.template;r!==null&&$P(i,e,r,1,t),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&ZP(i,e),i.staticViewQueries&&pS(2,i.viewQuery,t);let o=i.components;o!==null&&g$(e,o)}catch(n){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),n}finally{e[Ee]&=-5,eE()}}function g$(i,e){for(let t=0;t<e.length;t++)p$(i,e[t])}function Yg(i,e,t){let n=t?i.styles:null,r=t?i.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=Aw(r,a);else if(o==2){let l=a,u=e[++s];n=Aw(n,l+": "+u+";")}}t?i.styles=n:i.stylesWithoutHost=n,t?i.classes=r:i.classesWithoutHost=r}var Qg=class extends ar{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Qo(e);return new sl(t,this.ngModule)}};function LM(i){let e=[];for(let t in i){if(!i.hasOwnProperty(t))continue;let n=i[t];n!==void 0&&e.push({propName:Array.isArray(n)?n[0]:n,templateName:t})}return e}function v$(i){let e=i.toLowerCase();return e==="svg"?wW:e==="math"?SW:null}var _S=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,n){n=sv(n);let r=this.injector.get(e,vw,n);return r!==vw||t===vw?r:this.parentInjector.get(e,t,n)}},sl=class extends $g{get inputs(){let e=this.componentDef,t=e.inputTransforms,n=LM(e.inputs);if(t!==null)for(let r of n)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return n}get outputs(){return LM(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=hW(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,n,r){r=r||this.ngModule;let o=r instanceof Cn?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let s=o?new _S(e,o):e,a=s.get(Gr,null);if(a===null)throw new X(407,!1);let l=s.get(v3,null),u=s.get(xE,null),c=s.get(nS,null),d={rendererFactory:a,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:c},h=a.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",f=n?O3(h,n,this.componentDef.encapsulation,s):hE(h,p,v$(p)),g=512;this.componentDef.signals?g|=4096:this.componentDef.onPush||(g|=16);let v=null;f!==null&&(v=yE(f,s,!0));let m=DE(0,null,null,1,0,null,null,null,null,null,null),_=Tv(null,m,null,g,null,null,d,h,s,null,v);JS(_);let w,S;try{let R=this.componentDef,T,x=null;R.findHostDirectiveDefs?(T=[],x=new Map,R.findHostDirectiveDefs(R,T,x),T.push(R)):T=[R];let A=m$(_,f),U=y$(A,f,R,T,_,d,h);S=qS(m,In),f&&w$(h,R,f,n),t!==void 0&&S$(S,this.ngContentSelectors,t),w=_$(U,R,T,x,_,[E$]),PE(m,_,null)}finally{eE()}return new wS(this.componentType,w,Qu(S,_),_,S)}},wS=class extends iS{constructor(e,t,n,r,o){super(),this.location=n,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new ol(r,void 0,!1),this.componentType=e}setInput(e,t){let n=this._tNode.inputs,r;if(n!==null&&(r=n[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;AE(o[Ie],o,r,e,t),this.previousInputValues.set(e,t);let s=Vs(this._tNode.index,o);OE(s)}}get injector(){return new Za(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function m$(i,e){let t=i[Ie],n=In;return i[n]=e,Zu(t,n,2,"#host",null)}function y$(i,e,t,n,r,o,s){let a=r[Ie];C$(n,i,e,s);let l=null;e!==null&&(l=yE(e,r[Uu]));let u=o.rendererFactory.createRenderer(e,t),c=16;t.signals?c=4096:t.onPush&&(c=64);let d=Tv(r,qP(t),null,c,r[i.index],i,o,u,null,null,l);return a.firstCreatePass&&hS(a,i,n.length-1),Ov(r,d),r[i.index]=d}function C$(i,e,t,n){for(let r of i)e.mergedAttrs=xd(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(Yg(e,e.mergedAttrs,!0),t!==null&&EP(n,t,e))}function _$(i,e,t,n,r,o){let s=Jn(),a=r[Ie],l=or(s,r);KP(a,r,s,t,null,n);for(let c=0;c<t.length;c++){let d=s.directiveStart+c,h=il(r,a,d,s);po(h,r)}YP(a,r,s),l&&po(l,r);let u=il(r,a,s.directiveStart+s.componentOffset,s);if(i[Hn]=r[Hn]=u,o!==null)for(let c of o)c(u,e);return SE(a,s,i),u}function w$(i,e,t,n){if(n)xw(i,t,["ng-version","17.1.0"]);else{let{attrs:r,classes:o}=pW(e.selectors[0]);r&&xw(i,t,r),o&&o.length>0&&SP(i,t,o.join(" "))}}function S$(i,e,t){let n=i.projection=[];for(let r=0;r<e.length;r++){let o=t[r];n.push(o!=null?Array.from(o):null)}}function E$(){let i=Jn();fv(Fe()[Ie],i)}function b$(i){return Object.getPrototypeOf(i.prototype).constructor}function ei(i){let e=b$(i.type),t=!0,n=[i];for(;e;){let r;if(Zo(i))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new X(903,!1);r=e.\u0275dir}if(r){if(t){n.push(r);let s=i;s.inputs=Og(i.inputs),s.inputTransforms=Og(i.inputTransforms),s.declaredInputs=Og(i.declaredInputs),s.outputs=Og(i.outputs);let a=r.hostBindings;a&&O$(i,a);let l=r.viewQuery,u=r.contentQueries;if(l&&T$(i,l),u&&A$(i,u),D$(i,r),N2(i.outputs,r.outputs),Zo(r)&&r.data.animation){let c=i.data;c.animation=(c.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(i),a===ei&&(t=!1)}}e=Object.getPrototypeOf(e)}R$(n)}function D$(i,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||i.inputs.hasOwnProperty(t))continue;let n=e.inputs[t];if(n!==void 0&&(i.inputs[t]=n,i.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let r=Array.isArray(n)?n[0]:n;if(!e.inputTransforms.hasOwnProperty(r))continue;i.inputTransforms??={},i.inputTransforms[r]=e.inputTransforms[r]}}}function R$(i){let e=0,t=null;for(let n=i.length-1;n>=0;n--){let r=i[n];r.hostVars=e+=r.hostVars,r.hostAttrs=xd(r.hostAttrs,t=xd(t,r.hostAttrs))}}function Og(i){return i===Bu?{}:i===Qn?[]:i}function T$(i,e){let t=i.viewQuery;t?i.viewQuery=(n,r)=>{e(n,r),t(n,r)}:i.viewQuery=e}function A$(i,e){let t=i.contentQueries;t?i.contentQueries=(n,r,o)=>{e(n,r,o),t(n,r,o)}:i.contentQueries=e}function O$(i,e){let t=i.hostBindings;t?i.hostBindings=(n,r)=>{e(n,r),t(n,r)}:i.hostBindings=e}function ec(i){let e=i.inputConfig,t={};for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];Array.isArray(r)&&r[3]&&(t[n]=r[3])}i.inputTransforms=t}var Vwe=new RegExp(`^(\\d+)*(${u3}|${l3})*(.*)`);var I$=()=>null;function Hd(i,e){return I$(i,e)}function Iv(i,e,t,n){let r=e.tView,s=i[Ee]&4096?4096:16,a=Tv(i,r,t,s,null,e,null,null,null,n?.injector??null,n?.dehydratedView??null),l=i[e.index];a[$d]=l;let u=i[ao];return u!==null&&(a[ao]=u.createEmbeddedView(r)),PE(r,a,t),a}function oF(i,e){let t=Bn+e;if(t<i.length)return i[t]}function Bd(i,e){return!e||e.firstChild===null||sP(i)}function Mv(i,e,t,n=!0){let r=e[Ie];if(Lz(r,e,i,t),n){let s=zw(t,i),a=e[yt],l=wv(a,i[Ja]);l!==null&&Fz(r,i[li],a,e,l,s)}let o=e[ju];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function sF(i,e){let t=Gd(i,e);return t!==void 0&&_v(t[Ie],t),t}var Mn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=M$;let i=e;return i})();function M$(){let i=Jn();return lF(i,Fe())}var x$=Mn,aF=class extends x${constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return Qu(this._hostTNode,this._hostLView)}get injector(){return new Za(this._hostTNode,this._hostLView)}get parentInjector(){let e=tE(this._hostTNode,this._hostLView);if(Gx(e)){let t=jg(e,this._hostLView),n=Bg(e),r=t[Ie].data[n+8];return new Za(r,t)}else return new Za(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=kM(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Bn}createEmbeddedView(e,t,n){let r,o;typeof n=="number"?r=n:n!=null&&(r=n.index,o=n.injector);let s=Hd(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,Bd(this._hostTNode,s)),a}createComponent(e,t,n,r,o){let s=e&&!sz(e),a;if(s)a=t;else{let f=t||{};a=f.index,n=f.injector,r=f.projectableNodes,o=f.environmentInjector||f.ngModuleRef}let l=s?e:new sl(Qo(e)),u=n||this.parentInjector;if(!o&&l.ngModule==null){let g=(s?u:this.parentInjector).get(Cn,null);g&&(o=g)}let c=Qo(l.componentType??{}),d=Hd(this._lContainer,c?.id??null),h=d?.firstChild??null,p=l.create(u,r,h,o);return this.insertImpl(p.hostView,a,Bd(this._hostTNode,d)),p}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,n){let r=e._lView;if(AW(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[On],u=new aF(l,l[li],l[On]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Mv(s,r,o,n),e.attachToViewContainerRef(),Yx(Cw(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=kM(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),n=Gd(this._lContainer,t);n&&(Wg(Cw(this._lContainer),t),_v(n[Ie],n))}detach(e){let t=this._adjustIndex(e,-1),n=Gd(this._lContainer,t);return n&&Wg(Cw(this._lContainer),t)!=null?new ol(n):null}_adjustIndex(e,t=0){return e??this.length+t}};function kM(i){return i[Hg]}function Cw(i){return i[Hg]||(i[Hg]=[])}function lF(i,e){let t,n=e[i.index];return Jo(n)?t=n:(t=QP(n,e,null,i),e[i.index]=t,Ov(e,t)),F$(t,e,i,n),new aF(t,i,e)}function P$(i,e){let t=i[yt],n=t.createComment(""),r=or(e,i),o=wv(t,r);return rl(t,o,n,Bz(t,r),!1),n}var F$=k$,N$=()=>!1;function L$(i,e,t){return N$(i,e,t)}function k$(i,e,t,n){if(i[Ja])return;let r;t.type&8?r=rr(n):r=P$(e,t),i[Ja]=r}function uF(i,e,t){return i[e]=t}function Oi(i,e,t){let n=i[e];return Object.is(n,t)?!1:(i[e]=t,!0)}function cF(i,e,t,n){let r=Oi(i,e,t);return Oi(i,e+1,n)||r}function V$(i,e,t,n,r,o,s,a,l){let u=e.consts,c=Zu(e,i,4,s||null,el(u,a));RE(e,t,c,el(u,l)),fv(e,c);let d=c.tView=DE(2,c,n,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}function se(i,e,t,n,r,o,s,a){let l=Fe(),u=Gt(),c=i+In,d=u.firstCreatePass?V$(c,u,l,e,t,n,r,o,s):u.data[c];co(d,!1);let h=G$(u,l,d,i);hv()&&Sv(u,l,h,d),po(h,l);let p=QP(h,l,h,d);return l[c]=p,Ov(l,p),L$(p,d,l),uv(d)&&EE(u,l,d),s!=null&&bE(l,d,a),se}var G$=H$;function H$(i,e,t,n){return pv(!0),e[yt].createComment("")}function ti(i,e,t,n){let r=Fe(),o=Gs();if(Oi(r,o,e)){let s=Gt(),a=dv();q3(a,r,i,e,t,n)}return ti}function B$(i,e,t,n){return Oi(i,Gs(),t)?e+Ls(t)+n:Hr}function j$(i,e,t,n,r,o){let s=Ax(),a=cF(i,s,t,r);return ZS(2),a?e+Ls(t)+n+Ls(r)+o:Hr}function Ig(i,e){return i<<17|e<<2}function al(i){return i>>17&32767}function U$(i){return(i&2)==2}function W$(i,e){return i&131071|e<<17}function SS(i){return i|2}function Ku(i){return(i&131068)>>2}function _w(i,e){return i&-131069|e<<2}function z$(i){return(i&1)===1}function ES(i){return i|1}function $$(i,e,t,n,r,o){let s=o?e.classBindings:e.styleBindings,a=al(s),l=Ku(s);i[n]=t;let u=!1,c;if(Array.isArray(t)){let d=t;c=d[1],(c===null||qd(d,c)>0)&&(u=!0)}else c=t;if(r)if(l!==0){let h=al(i[a+1]);i[n+1]=Ig(h,a),h!==0&&(i[h+1]=_w(i[h+1],n)),i[a+1]=W$(i[a+1],n)}else i[n+1]=Ig(a,0),a!==0&&(i[a+1]=_w(i[a+1],n)),a=n;else i[n+1]=Ig(l,0),a===0?a=n:i[l+1]=_w(i[l+1],n),l=n;u&&(i[n+1]=SS(i[n+1])),VM(i,c,n,!0),VM(i,c,n,!1),q$(e,c,i,n,o),s=Ig(a,l),o?e.classBindings=s:e.styleBindings=s}function q$(i,e,t,n,r){let o=r?i.residualClasses:i.residualStyles;o!=null&&typeof e=="string"&&qd(o,e)>=0&&(t[n+1]=ES(t[n+1]))}function VM(i,e,t,n){let r=i[t+1],o=e===null,s=n?al(r):Ku(r),a=!1;for(;s!==0&&(a===!1||o);){let l=i[s],u=i[s+1];K$(l,e)&&(a=!0,i[s+1]=n?ES(u):SS(u)),s=n?al(u):Ku(u)}a&&(i[t+1]=n?SS(r):ES(r))}function K$(i,e){return i===null||e==null||(Array.isArray(i)?i[1]:i)===e?!0:Array.isArray(i)&&typeof e=="string"?qd(i,e)>=0:!1}var kr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Y$(i){return i.substring(kr.key,kr.keyEnd)}function Q$(i){return Z$(i),dF(i,hF(i,0,kr.textEnd))}function dF(i,e){let t=kr.textEnd;return t===e?-1:(e=kr.keyEnd=X$(i,kr.key=e,t),hF(i,e,t))}function Z$(i){kr.key=0,kr.keyEnd=0,kr.value=0,kr.valueEnd=0,kr.textEnd=i.length}function hF(i,e,t){for(;e<t&&i.charCodeAt(e)<=32;)e++;return e}function X$(i,e,t){for(;e<t&&i.charCodeAt(e)>32;)e++;return e}function N(i,e,t){let n=Fe(),r=Gs();if(Oi(n,r,e)){let o=Gt(),s=dv();Av(o,s,n,i,e,n[yt],t,!1)}return N}function bS(i,e,t,n,r){let o=e.inputs,s=r?"class":"style";AE(i,t,o[s],s,n)}function Pi(i,e,t){return pF(i,e,t,!1),Pi}function it(i,e){return pF(i,e,null,!0),it}function rn(i){e4(s4,J$,i,!0)}function J$(i,e){for(let t=Q$(e);t>=0;t=dF(e,t))iE(i,Y$(e),!0)}function pF(i,e,t,n){let r=Fe(),o=Gt(),s=ZS(2);if(o.firstUpdatePass&&gF(o,i,s,n),e!==Hr&&Oi(r,s,e)){let a=o.data[es()];vF(o,a,r,r[yt],i,r[s+1]=l4(e,t),n,s)}}function e4(i,e,t,n){let r=Gt(),o=ZS(2);r.firstUpdatePass&&gF(r,null,o,n);let s=Fe();if(t!==Hr&&Oi(s,o,t)){let a=r.data[es()];if(mF(a,n)&&!fF(r,o)){let l=n?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=Aw(l,t||"")),bS(r,a,s,t,n)}else a4(r,a,s,s[yt],s[o+1],s[o+1]=o4(i,e,t),n,o)}}function fF(i,e){return e>=i.expandoStartIndex}function gF(i,e,t,n){let r=i.data;if(r[t+1]===null){let o=r[es()],s=fF(i,t);mF(o,n)&&e===null&&!s&&(e=!1),e=t4(r,o,e,n),$$(r,o,e,t,s,n)}}function t4(i,e,t,n){let r=Ix(i),o=n?e.residualClasses:e.residualStyles;if(r===null)(n?e.classBindings:e.styleBindings)===0&&(t=ww(null,i,e,t,n),t=jd(t,e.attrs,n),o=null);else{let s=e.directiveStylingLast;if(s===-1||i[s]!==r)if(t=ww(r,i,e,t,n),o===null){let l=n4(i,e,n);l!==void 0&&Array.isArray(l)&&(l=ww(null,i,e,l[1],n),l=jd(l,e.attrs,n),i4(i,e,n,l))}else o=r4(i,e,n)}return o!==void 0&&(n?e.residualClasses=o:e.residualStyles=o),t}function n4(i,e,t){let n=t?e.classBindings:e.styleBindings;if(Ku(n)!==0)return i[al(n)]}function i4(i,e,t,n){let r=t?e.classBindings:e.styleBindings;i[al(r)]=n}function r4(i,e,t){let n,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=i[o].hostAttrs;n=jd(n,s,t)}return jd(n,e.attrs,t)}function ww(i,e,t,n,r){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],n=jd(n,o.hostAttrs,r),o!==i);)a++;return i!==null&&(t.directiveStylingLast=a),n}function jd(i,e,t){let n=t?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===n&&(Array.isArray(i)||(i=i===void 0?[]:["",i]),iE(i,s,t?!0:e[++o]))}return i===void 0?null:i}function o4(i,e,t){if(t==null||t==="")return Qn;let n=[],r=sr(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)i(n,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&i(n,o,r[o]);else typeof r=="string"&&e(n,r);return n}function s4(i,e,t){let n=String(e);n!==""&&!n.includes(" ")&&iE(i,n,t)}function a4(i,e,t,n,r,o,s,a){r===Hr&&(r=Qn);let l=0,u=0,c=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;c!==null||d!==null;){let h=l<r.length?r[l+1]:void 0,p=u<o.length?o[u+1]:void 0,f=null,g;c===d?(l+=2,u+=2,h!==p&&(f=d,g=p)):d===null||c!==null&&c<d?(l+=2,f=c):(u+=2,f=d,g=p),f!==null&&vF(i,e,t,n,f,g,s,a),c=l<r.length?r[l]:null,d=u<o.length?o[u]:null}}function vF(i,e,t,n,r,o,s,a){if(!(e.type&3))return;let l=i.data,u=l[a+1],c=z$(u)?GM(l,e,t,r,Ku(u),s):void 0;if(!Zg(c)){Zg(o)||U$(u)&&(o=GM(l,null,t,r,a,s));let d=cv(es(),t);Wz(n,s,d,r,o)}}function GM(i,e,t,n,r,o){let s=e===null,a;for(;r>0;){let l=i[r],u=Array.isArray(l),c=u?l[1]:l,d=c===null,h=t[r+1];h===Hr&&(h=d?Qn:void 0);let p=d?pw(h,n):c===n?h:void 0;if(u&&!Zg(p)&&(p=pw(l,n)),Zg(p)&&(a=p,s))return a;let f=i[r+1];r=s?al(f):Ku(f)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=pw(l,n))}return a}function Zg(i){return i!==void 0}function l4(i,e){return i==null||i===""||(typeof e=="string"?i=i+e:typeof i=="object"&&(i=Zn(sr(i)))),i}function mF(i,e){return(i.flags&(e?8:16))!==0}var DS=class{destroy(e){}updateValue(e,t){}swap(e,t){let n=Math.min(e,t),r=Math.max(e,t),o=this.detach(r);if(r-n>1){let s=this.detach(n);this.attach(n,o),this.attach(r,s)}else this.attach(n,o)}move(e,t){this.attach(t,this.detach(e))}};function Sw(i,e,t,n,r){return i===t&&Object.is(e,n)?1:Object.is(r(i,e),r(t,n))?-1:0}function u4(i,e,t){let n,r,o=0,s=i.length-1;if(Array.isArray(e)){let a=e.length-1;for(;o<=s&&o<=a;){let l=i.at(o),u=e[o],c=Sw(o,l,o,u,t);if(c!==0){c<0&&i.updateValue(o,u),o++;continue}let d=i.at(s),h=e[a],p=Sw(s,d,a,h,t);if(p!==0){p<0&&i.updateValue(s,h),s--,a--;continue}let f=t(o,l),g=t(s,d),v=t(o,u);if(Object.is(v,g)){let m=t(a,h);Object.is(m,f)?(i.swap(o,s),i.updateValue(s,h),a--,s--):i.move(s,o),i.updateValue(o,u),o++;continue}if(n??=new Xg,r??=BM(i,o,s,t),RS(i,n,o,v))i.updateValue(o,u),o++,s++;else if(r.has(v))n.set(f,i.detach(o)),s--;else{let m=i.create(o,e[o]);i.attach(o,m),o++,s++}}for(;o<=a;)HM(i,n,t,o,e[o]),o++}else if(e!=null){let a=e[Symbol.iterator](),l=a.next();for(;!l.done&&o<=s;){let u=i.at(o),c=l.value,d=Sw(o,u,o,c,t);if(d!==0)d<0&&i.updateValue(o,c),o++,l=a.next();else{n??=new Xg,r??=BM(i,o,s,t);let h=t(o,c);if(RS(i,n,o,h))i.updateValue(o,c),o++,s++,l=a.next();else if(!r.has(h))i.attach(o,i.create(o,c)),o++,s++,l=a.next();else{let p=t(o,u);n.set(p,i.detach(o)),s--}}}for(;!l.done;)HM(i,n,t,i.length,l.value),l=a.next()}for(;o<=s;)i.destroy(i.detach(s--));n?.forEach(a=>{i.destroy(a)})}function RS(i,e,t,n){return e!==void 0&&e.has(n)?(i.attach(t,e.get(n)),e.delete(n),!0):!1}function HM(i,e,t,n,r){if(RS(i,e,n,t(n,r)))i.updateValue(n,r);else{let o=i.create(n,r);i.attach(n,o)}}function BM(i,e,t,n){let r=new Set;for(let o=e;o<=t;o++)r.add(n(o,i.at(o)));return r}var Xg=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let n=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(n);)n=r.get(n);r.set(n,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,n]of this.kvMap)if(e(n,t),this._vMap!==void 0){let r=this._vMap;for(;r.has(n);)n=r.get(n),e(n,t)}}};function zt(i,e,t){Ju("NgControlFlow");let n=Fe(),r=Gs(),o=IS(n,In+i),s=0;if(Oi(n,r,e)){let a=Tn(null);try{if(sF(o,s),e!==-1){let l=MS(n[Ie],In+e),u=Hd(o,l.tView.ssrId),c=Iv(n,l,t,{dehydratedView:u});Mv(o,c,s,Bd(l,u))}}finally{Tn(a)}}else{let a=oF(o,s);a!==void 0&&(a[Hn]=t)}}var TS=class{constructor(e,t,n){this.lContainer=e,this.$implicit=t,this.$index=n}get $count(){return this.lContainer.length-Bn}};function Bs(i,e){return e}var AS=class{constructor(e,t,n){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=n}};function js(i,e,t,n,r,o,s,a,l,u,c,d,h){Ju("NgControlFlow");let p=l!==void 0,f=Fe(),g=a?s.bind(f[Ai][Hn]):s,v=new AS(p,g);f[In+i]=v,se(i+1,e,t,n,r,o),p&&se(i+2,l,u,c,d,h)}var OS=class extends DS{constructor(e,t,n){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=n,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Bn}at(e){return this.getLView(e)[Hn].$implicit}attach(e,t){let n=t[ju];this.needsIndexUpdate||=e!==this.length,Mv(this.lContainer,t,e,Bd(this.templateTNode,n))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,c4(this.lContainer,e)}create(e,t){let n=Hd(this.lContainer,this.templateTNode.tView.ssrId);return Iv(this.hostLView,this.templateTNode,new TS(this.lContainer,t,e),{dehydratedView:n})}destroy(e){_v(e[Ie],e)}updateValue(e,t){this.getLView(e)[Hn].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Hn].$index=e}getLView(e){return d4(this.lContainer,e)}};function Us(i){let e=Tn(null),t=es();try{let n=Fe(),r=n[Ie],o=n[t];if(o.liveCollection===void 0){let a=t+1,l=IS(n,a),u=MS(r,a);o.liveCollection=new OS(l,n,u)}else o.liveCollection.reset();let s=o.liveCollection;if(u4(s,i,o.trackByFn),s.updateIndexes(),o.hasEmptyBlock){let a=Gs(),l=s.length===0;if(Oi(n,a,l)){let u=t+2,c=IS(n,u);if(l){let d=MS(r,u),h=Hd(c,d.tView.ssrId),p=Iv(n,d,void 0,{dehydratedView:h});Mv(c,p,0,Bd(d,h))}else sF(c,0)}}}finally{Tn(e)}}function IS(i,e){return i[e]}function c4(i,e){return Gd(i,e)}function d4(i,e){return oF(i,e)}function MS(i,e){return qS(i,e)}function h4(i,e,t,n,r,o){let s=e.consts,a=el(s,r),l=Zu(e,i,2,n,a);return RE(e,t,l,el(s,o)),l.attrs!==null&&Yg(l,l.attrs,!1),l.mergedAttrs!==null&&Yg(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function b(i,e,t,n){let r=Fe(),o=Gt(),s=In+i,a=r[yt],l=o.firstCreatePass?h4(s,o,r,e,t,n):o.data[s],u=p4(o,r,l,a,e,i);r[s]=u;let c=uv(l);return co(l,!0),EP(a,u,l),(l.flags&32)!==32&&hv()&&Sv(o,r,u,l),xW()===0&&po(u,r),PW(),c&&(EE(o,r,l),SE(o,l,r)),n!==null&&bE(r,l),b}function D(){let i=Jn();YS()?QS():(i=i.parent,co(i,!1));let e=i;NW(e)&&LW(),FW();let t=Gt();return t.firstCreatePass&&(fv(t,i),$S(i)&&t.queries.elementEnd(i)),e.classesWithoutHost!=null&&KW(e)&&bS(t,e,Fe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&YW(e)&&bS(t,e,Fe(),e.stylesWithoutHost,!1),D}function ne(i,e,t,n){return b(i,e,t,n),D(),ne}var p4=(i,e,t,n,r,o)=>(pv(!0),hE(n,r,WW()));function f4(i,e,t,n,r){let o=e.consts,s=el(o,n),a=Zu(e,i,8,"ng-container",s);s!==null&&Yg(a,s,!0);let l=el(o,r);return RE(e,t,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function lr(i,e,t){let n=Fe(),r=Gt(),o=i+In,s=r.firstCreatePass?f4(o,r,n,e,t):r.data[o];co(s,!0);let a=g4(r,n,s,i);return n[o]=a,hv()&&Sv(r,n,a,s),po(a,n),uv(s)&&(EE(r,n,s),SE(r,s,n)),t!=null&&bE(n,s),lr}function ur(){let i=Jn(),e=Gt();return YS()?QS():(i=i.parent,co(i,!1)),e.firstCreatePass&&(fv(e,i),$S(i)&&e.queries.elementEnd(i)),ur}function Ws(i,e,t){return lr(i,e,t),ur(),Ws}var g4=(i,e,t,n)=>(pv(!0),uP(e[yt],""));function At(){return Fe()}function FE(i,e,t){let n=Fe(),r=Gs();if(Oi(n,r,e)){let o=Gt(),s=dv();Av(o,s,n,i,e,n[yt],t,!0)}return FE}function NE(i,e,t){let n=Fe(),r=Gs();if(Oi(n,r,e)){let o=Gt(),s=dv(),a=Ix(o.data),l=Q3(a,s,n);Av(o,s,n,i,e,l,t,!0)}return NE}var Ya=void 0;function v4(i){let e=i,t=Math.floor(Math.abs(i)),n=i.toString().replace(/^[^.]*\.?/,"").length;return t===1&&n===0?1:5}var m4=["en",[["a","p"],["AM","PM"],Ya],[["AM","PM"],Ya,Ya],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ya,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ya,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ya,"{1} 'at' {0}",Ya],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",v4],Ew={};function Fi(i){let e=y4(i),t=jM(e);if(t)return t;let n=e.split("-")[0];if(t=jM(n),t)return t;if(n==="en")return m4;throw new X(701,!1)}function yF(i){return Fi(i)[Ht.PluralCase]}function jM(i){return i in Ew||(Ew[i]=Ti.ng&&Ti.ng.common&&Ti.ng.common.locales&&Ti.ng.common.locales[i]),Ew[i]}var Ht=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(Ht||{});function y4(i){return i.toLowerCase().replace(/_/g,"-")}var C4=["zero","one","two","few","many"];function _4(i,e){let t=yF(e)(parseInt(i,10)),n=C4[t];return n!==void 0?n:"other"}var Jg="en-US";var CF={marker:"element"},_F={marker:"ICU"},Yo=function(i){return i[i.SHIFT=2]="SHIFT",i[i.APPEND_EAGERLY=1]="APPEND_EAGERLY",i[i.COMMENT=2]="COMMENT",i}(Yo||{}),wF=Jg;function w4(i){W2(i,"Expected localeId to be defined"),typeof i=="string"&&(wF=i.toLowerCase().replace(/_/g,"-"))}function S4(){return wF}function SF(i,e,t){let n=e.insertBeforeIndex,r=Array.isArray(n)?n[0]:n;return r===null?vP(i,e,t):rr(t[r])}function EF(i,e,t,n,r){let o=e.insertBeforeIndex;if(Array.isArray(o)){let s=n,a=null;if(e.type&3||(a=s,s=r),s!==null&&e.componentOffset===-1)for(let l=1;l<o.length;l++){let u=t[o[l]];rl(i,s,u,a,!1)}}}function bF(i,e){if(i.push(e),i.length>1)for(let t=i.length-2;t>=0;t--){let n=i[t];DF(n)||E4(n,e)&&b4(n)===null&&D4(n,e.index)}}function DF(i){return!(i.type&64)}function E4(i,e){return DF(e)||i.index>e.index}function b4(i){let e=i.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function D4(i,e){let t=i.insertBeforeIndex;Array.isArray(t)?t[0]=e:(yP(SF,EF),i.insertBeforeIndex=e)}function Ad(i,e){let t=i.data[e];return t===null||typeof t=="string"?null:t.hasOwnProperty("currentCaseLViewIndex")?t:t.value}function R4(i,e,t){let n=i.data[e];n===null?i.data[e]=t:n.value=t}function T4(i,e){let t=i.insertBeforeIndex;t===null?(yP(SF,EF),t=i.insertBeforeIndex=[null,e]):(U2(Array.isArray(t),!0,"Expecting array here"),t.push(e))}function A4(i,e,t){let n=wE(i,t,64,null,null);return bF(e,n),n}function xv(i,e){let t=e[i.currentCaseLViewIndex];return t===null?t:t<0?~t:t}function O4(i){return i>>>17}function I4(i){return(i&131070)>>>1}function M4(i,e,t){return i|e<<17|t<<1}var Ud=0,Od=0;function x4(i){i&&(Ud=Ud|1<<Math.min(Od,31)),Od++}function P4(i,e,t){if(Od>0){let n=i.data[t],r=Array.isArray(n)?n:n.update,o=Ax()-Od-1;TF(i,e,r,o,Ud)}Ud=0,Od=0}function F4(i,e,t,n){let r=i[yt];for(let o=0;o<e.length;o++){let s=e[o++],a=e[o],l=(s&Yo.COMMENT)===Yo.COMMENT,u=(s&Yo.APPEND_EAGERLY)===Yo.APPEND_EAGERLY,c=s>>>Yo.SHIFT,d=i[c];d===null&&(d=i[c]=l?r.createComment(a):dE(r,a)),u&&t!==null&&rl(r,t,d,n,!1)}}function RF(i,e,t,n){let r=t[yt],o=null,s;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="string"){let u=e[++a];t[u]===null&&(t[u]=dE(r,l))}else if(typeof l=="number")switch(l&1){case 0:let u=O4(l);o===null&&(o=u,s=wv(r,n));let c,d;if(u===o?(c=n,d=s):(c=null,d=rr(t[u])),d!==null){let g=I4(l),v=t[g];rl(r,d,v,c,!1);let m=Ad(i,g);if(m!==null&&typeof m=="object"){let _=xv(m,t);_!==null&&RF(i,m.create[_],t,t[m.anchorIdx])}}break;case 1:let h=l>>>1,p=e[++a],f=e[++a];TE(r,cv(h,t),null,null,p,f,null);break;default:}else switch(l){case _F:let u=e[++a],c=e[++a];if(t[c]===null){let p=t[c]=uP(r,u);po(p,t)}break;case CF:let d=e[++a],h=e[++a];if(t[h]===null){let p=t[h]=hE(r,d,null);po(p,t)}break;default:}}}function TF(i,e,t,n,r){for(let o=0;o<t.length;o++){let s=t[o],a=t[++o];if(s&r){let l="";for(let u=o+1;u<=o+a;u++){let c=t[u];if(typeof c=="string")l+=c;else if(typeof c=="number")if(c<0)l+=Ls(e[n-c]);else{let d=c>>>2;switch(c&3){case 1:let h=t[++u],p=t[++u],f=i.data[d];typeof f=="string"?TE(e[yt],e[d],null,f,h,l,p):Av(i,f,e,h,l,e[yt],p,!1);break;case 0:let g=e[d];g!==null&&lP(e[yt],g,l);break;case 2:N4(i,Ad(i,d),e,l);break;case 3:UM(i,Ad(i,d),n,e);break}}}}else{let l=t[o+1];if(l>0&&(l&3)===3){let u=l>>>2,c=Ad(i,u);e[c.currentCaseLViewIndex]<0&&UM(i,c,n,e)}}o+=a}}function UM(i,e,t,n){let r=n[e.currentCaseLViewIndex];if(r!==null){let o=Ud;r<0&&(r=n[e.currentCaseLViewIndex]=~r,o=-1),TF(i,n,e.update[r],t,o)}}function N4(i,e,t,n){let r=L4(e,n);if(xv(e,t)!==r&&(AF(i,e,t),t[e.currentCaseLViewIndex]=r===null?null:~r,r!==null)){let s=t[e.anchorIdx];s&&RF(i,e.create[r],t,s)}}function AF(i,e,t){let n=xv(e,t);if(n!==null){let r=e.remove[n];for(let o=0;o<r.length;o++){let s=r[o];if(s>0){let a=cv(s,t);a!==null&&_P(t[yt],a)}else AF(i,Ad(i,~s),t)}}}function L4(i,e){let t=i.cases.indexOf(e);if(t===-1)switch(i.type){case 1:{let n=_4(e,S4());t=i.cases.indexOf(n),t===-1&&n!=="other"&&(t=i.cases.indexOf("other"));break}case 0:{t=i.cases.indexOf("other");break}}return t===-1?null:t}function k4(){let i=[],e=-1,t,n;function r(a,l){for(t=l;i.length;)i.pop();return o(a.value,l),s}function o(a,l){e=0;let u=xv(a,l);u!==null?n=a.remove[u]:n=Qn}function s(){if(e<n.length){let a=n[e++];if(a>0)return t[a];{i.push(e,n);let l=~a,u=t[Ie].data[l];return o(u,t),s()}}else return i.length===0?null:(n=i.pop(),e=i.pop(),s())}return r}var ev=/(\d+):?\d*/gi;var V4=/(\d+)/,OF=/^\s*(\d+:?\d*)\s*,\s*(select|plural)\s*,/,Id="\uFFFD",G4=/\/?\*(\d+:\d+)/gi,H4=/(\/?[#*]\d+):?\d*/gi,B4=/\uE500/g;function j4(i){return i.replace(B4," ")}function U4(i,e,t,n,r,o){let s=kd(),a=[],l=[],u=[[]];r=$4(r,o);let c=j4(r).split(H4);for(let d=0;d<c.length;d++){let h=c[d];if(d&1){let p=h.charCodeAt(0)===47,f=h.charCodeAt(p?1:0),g=In+Number.parseInt(h.substring(p?2:1));if(p)u.shift(),co(kd(),!1);else{let v=A4(i,u[0],g);u.unshift([]),co(v,!0)}}else{let p=xS(h);for(let f=0;f<p.length;f++){let g=p[f];if(f&1){let v=g;if(typeof v!="object")throw new Error(`Unable to parse ICU expression in "${r}" message.`);let _=IF(i,s,u[0],t,a,"",!0).index;xF(i,t,l,e,v,_)}else{let v=g;v!==""&&W4(i,s,u[0],a,l,t,v)}}}}i.data[n]={create:a,update:l}}function IF(i,e,t,n,r,o,s){let a=Xd(i,n,1,null),l=a<<Yo.SHIFT,u=kd();e===u&&(u=null),u===null&&(l|=Yo.APPEND_EAGERLY),s&&(l|=Yo.COMMENT,xz(k4)),r.push(l,o===null?"":o);let c=wE(i,a,s?32:1,o===null?"":o,null);bF(t,c);let d=c.index;return co(c,!1),u!==null&&e!==u&&T4(u,d),c}function W4(i,e,t,n,r,o,s){let a=s.match(ev),l=IF(i,e,t,o,n,a?null:s,!1);a&&Lg(r,s,l.index,null,0,null)}function Lg(i,e,t,n,r,o){let s=i.length,a=s+1;i.push(null,null);let l=s+2,u=e.split(ev),c=0;for(let d=0;d<u.length;d++){let h=u[d];if(d&1){let p=r+parseInt(h,10);i.push(-1-p),c=c|MF(p)}else h!==""&&i.push(h)}return i.push(t<<2|(n?1:0)),n&&i.push(n,o),i[s]=c,i[a]=i.length-l,c}function MF(i){return 1<<Math.min(i,31)}function z4(i){return i===-1}function WM(i){let e,t="",n=0,r=!1,o;for(;(e=G4.exec(i))!==null;)r?e[0]===`${Id}/*${o}${Id}`&&(n=e.index,r=!1):(t+=i.substring(n,e.index+e[0].length),o=e[1],r=!0);return t+=i.slice(n),t}function $4(i,e){if(z4(e))return WM(i);{let t=i.indexOf(`:${e}${Id}`)+2+e.toString().length,n=i.search(new RegExp(`${Id}\\/\\*\\d+:${e}${Id}`));return WM(i.substring(t,n))}}function xF(i,e,t,n,r,o){let s=0,a={type:r.type,currentCaseLViewIndex:Xd(i,e,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};Q4(t,r,o),R4(i,o,a);let l=r.values;for(let u=0;u<l.length;u++){let c=l[u],d=[];for(let h=0;h<c.length;h++){let p=c[h];if(typeof p!="string"){let f=d.push(p)-1;c[h]=`<!--\uFFFD${f}\uFFFD-->`}}s=K4(i,a,e,t,n,r.cases[u],c.join(""),d)|s}s&&Z4(t,s,o)}function q4(i){let e=[],t=[],n=1,r=0;i=i.replace(OF,function(s,a,l){return l==="select"?n=0:n=1,r=parseInt(a.slice(1),10),""});let o=xS(i);for(let s=0;s<o.length;){let a=o[s++].trim();n===1&&(a=a.replace(/\s*(?:=)?(\w+)\s*/,"$1")),a.length&&e.push(a);let l=xS(o[s++]);e.length>t.length&&t.push(l)}return{type:n,mainBinding:r,cases:e,values:t}}function xS(i){if(!i)return[];let e=0,t=[],n=[],r=/[{}]/g;r.lastIndex=0;let o;for(;o=r.exec(i);){let a=o.index;if(o[0]=="}"){if(t.pop(),t.length==0){let l=i.substring(e,a);OF.test(l)?n.push(q4(l)):n.push(l),e=a+1}}else{if(t.length==0){let l=i.substring(e,a);n.push(l),e=a+1}t.push("{")}}let s=i.substring(e);return n.push(s),n}function K4(i,e,t,n,r,o,s,a){let l=[],u=[],c=[];e.cases.push(o),e.create.push(l),e.remove.push(u),e.update.push(c);let h=IP(aE()).getInertBodyElement(s),p=tS(h)||h;return p?PF(i,e,t,n,l,u,c,p,r,a,0):0}function PF(i,e,t,n,r,o,s,a,l,u,c){let d=0,h=a.firstChild;for(;h;){let p=Xd(i,t,1,null);switch(h.nodeType){case Node.ELEMENT_NODE:let f=h,g=f.tagName.toLowerCase();if(Jw.hasOwnProperty(g)){bw(r,CF,g,l,p),i.data[p]=g;let w=f.attributes;for(let S=0;S<w.length;S++){let R=w.item(S),T=R.name.toLowerCase();!!R.value.match(ev)?FP.hasOwnProperty(T)&&(fE[T]?Lg(s,R.value,p,R.name,0,Qd):Lg(s,R.value,p,R.name,0,null)):X4(r,p,R)}d=PF(i,e,t,n,r,o,s,h,p,u,c+1)|d,zM(o,p,c)}break;case Node.TEXT_NODE:let v=h.textContent||"",m=v.match(ev);bw(r,null,m?"":v,l,p),zM(o,p,c),m&&(d=Lg(s,v,p,null,0,null)|d);break;case Node.COMMENT_NODE:let _=V4.exec(h.textContent||"");if(_){let w=parseInt(_[1],10),S=u[w];bw(r,_F,"",l,p),xF(i,t,n,l,S,p),Y4(o,p,c)}break}h=h.nextSibling}return d}function zM(i,e,t){t===0&&i.push(e)}function Y4(i,e,t){t===0&&(i.push(~e),i.push(e))}function Q4(i,e,t){i.push(MF(e.mainBinding),2,-1-e.mainBinding,t<<2|2)}function Z4(i,e,t){i.push(e,1,t<<2|3)}function bw(i,e,t,n,r){e!==null&&i.push(e),i.push(t,r,M4(0,n,r))}function X4(i,e,t){i.push(e<<1|1,t.name,t.value)}function J4(i,e,t=-1){let n=Gt(),r=Fe(),o=In+i,s=el(n.consts,e),a=kd();if(n.firstCreatePass&&U4(n,a===null?0:a.index,r,o,s,t),n.type===2){let h=r[Ai];h[Ee]|=32}else r[Ee]|=32;let l=n.data[o],u=a===r[li]?null:a,c=pP(n,u,r),d=a&&a.type&8?r[a.index]:null;F4(r,l.create,c,d),Ox(!0)}function eq(){Ox(!1)}function zs(i,e,t){J4(i,e,t),eq()}function LE(i){let e=Fe();return x4(Oi(e,Gs(),i)),LE}function FF(i){P4(Gt(),Fe(),i+In)}function ll(i){return!!i&&typeof i.then=="function"}function NF(i){return!!i&&typeof i.subscribe=="function"}function Q(i,e,t,n){let r=Fe(),o=Gt(),s=Jn();return nq(o,r,r[yt],s,i,e,n),Q}function tq(i,e,t,n){let r=i.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===n){let a=e[Pd],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function nq(i,e,t,n,r,o,s){let a=uv(n),u=i.firstCreatePass&&JP(i),c=e[Hn],d=XP(e),h=!0;if(n.type&3||s){let g=or(n,e),v=s?s(g):g,m=d.length,_=s?S=>s(rr(S[n.index])):n.index,w=null;if(!s&&a&&(w=tq(i,e,r,n.index)),w!==null){let S=w.__ngLastListenerFn__||w;S.__ngNextListenerFn__=o,w.__ngLastListenerFn__=o,h=!1}else{o=qM(n,e,c,o,!1);let S=t.listen(v,r,o);d.push(o,S),u&&u.push(r,_,m,m+1)}}else o=qM(n,e,c,o,!1);let p=n.outputs,f;if(h&&p!==null&&(f=p[r])){let g=f.length;if(g)for(let v=0;v<g;v+=2){let m=f[v],_=f[v+1],R=e[m][_].subscribe(o),T=d.length;d.push(o,R),u&&u.push(r,n.index,T,-(T+1))}}}function $M(i,e,t,n){try{return oo(6,e,t),t(n)!==!1}catch(r){return eF(i,r),!1}finally{oo(7,e,t)}}function qM(i,e,t,n,r){return function o(s){if(s===Function)return n;let a=i.componentOffset>-1?Vs(i.index,e):e;OE(a);let l=$M(e,t,n,s),u=o.__ngNextListenerFn__;for(;u;)l=$M(e,t,u,s)&&l,u=u.__ngNextListenerFn__;return r&&l===!1&&s.preventDefault(),l}}function K(i=1){return UW(i)}function iq(i,e){let t=null,n=aW(i);for(let r=0;r<e.length;r++){let o=e[r];if(o==="*"){t=r;continue}if(n===null?ux(i,o,!0):cW(n,o))return r}return t}function Jd(i){let e=Fe()[Ai][li];if(!e.projection){let t=i?i.length:1,n=e.projection=uz(t,null),r=n.slice(),o=e.child;for(;o!==null;){let s=i?iq(o,i):0;s!==null&&(r[s]?r[s].projectionNext=o:n[s]=o,r[s]=o),o=o.next}}}function eh(i,e=0,t){let n=Fe(),r=Gt(),o=Zu(r,In+i,16,null,t||null);o.projection===null&&(o.projection=e),QS(),(!n[ju]||Dx())&&(o.flags&32)!==32&&jz(r,n,o)}function rq(){return this._results[Symbol.iterator]()}var tv=class i{get changes(){return this._changes??=new V}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=i.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=rq)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let n=lz(e);(this._changesDetected=!az(this._results,n,t))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},Xn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=aq;let i=e;return i})(),oq=Xn,sq=class extends oq{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,n){let r=Iv(this._declarationLView,this._declarationTContainer,e,{injector:t,dehydratedView:n});return new ol(r)}};function aq(){return Pv(Jn(),Fe())}function Pv(i,e){return i.type&4?new sq(e,i,Qu(i,e)):null}var PS=class i{constructor(e){this.queryList=e,this.matches=null}clone(){return new i(this.queryList)}setDirty(){this.queryList.setDirty()}},FS=class i{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let n=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let o=0;o<n;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new i(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)GF(e,t).matches!==null&&this.queries[t].setDirty()}},nv=class{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}},NS=class i{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){let r=t!==null?t.length:0,o=this.getByIndex(n).embeddedTView(e,r);o&&(o.indexInDeclarationView=n,t!==null?t.push(o):t=[o])}return t!==null?new i(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},LS=class i{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new i(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,n=e.parent;for(;n!==null&&n.type&8&&n.index!==t;)n=n.parent;return t===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){let o=n[r];this.matchTNodeWithReadOption(e,t,lq(t,o)),this.matchTNodeWithReadOption(e,t,Pg(t,e,o,!1,!1))}else n===Xn?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Pg(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(n!==null){let r=this.metadata.read;if(r!==null)if(r===Ge||r===Mn||r===Xn&&t.type&4)this.addMatch(t.index,-2);else{let o=Pg(t,e,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,n)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function lq(i,e){let t=i.localNames;if(t!==null){for(let n=0;n<t.length;n+=2)if(t[n]===e)return t[n+1]}return null}function uq(i,e){return i.type&11?Qu(i,e):i.type&4?Pv(i,e):null}function cq(i,e,t,n){return t===-1?uq(e,i):t===-2?dq(i,e,n):il(i,i[Ie],t,e)}function dq(i,e,t){if(t===Ge)return Qu(e,i);if(t===Xn)return Pv(e,i);if(t===Mn)return lF(e,i)}function LF(i,e,t,n){let r=e[ao].queries[n];if(r.matches===null){let o=i.data,s=t.matches,a=[];for(let l=0;l<s.length;l+=2){let u=s[l];if(u<0)a.push(null);else{let c=o[u];a.push(cq(e,c,s[l+1],t.metadata.read))}}r.matches=a}return r.matches}function kS(i,e,t,n){let r=i.queries.getByIndex(t),o=r.matches;if(o!==null){let s=LF(i,e,r,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)n.push(s[a/2]);else{let u=o[a+1],c=e[-l];for(let d=Bn;d<c.length;d++){let h=c[d];h[$d]===h[On]&&kS(h[Ie],h,u,n)}if(c[Wu]!==null){let d=c[Wu];for(let h=0;h<d.length;h++){let p=d[h];kS(p[Ie],p,u,n)}}}}}return n}function hq(i,e){return i[ao].queries[e].queryList}function kF(i,e,t){let n=new tv((t&4)===4);x3(i,e,n,n.destroy),e[ao]===null&&(e[ao]=new FS),e[ao].queries.push(new PS(n))}function VF(i,e,t){i.queries===null&&(i.queries=new NS),i.queries.track(new LS(e,t))}function pq(i,e){let t=i.contentQueries||(i.contentQueries=[]),n=t.length?t[t.length-1]:-1;e!==n&&t.push(i.queries.length-1,e)}function GF(i,e){return i.queries.getByIndex(e)}function on(i,e,t,n){let r=Gt();if(r.firstCreatePass){let o=Jn();VF(r,new nv(e,t,n),o.index),pq(r,i),(t&2)===2&&(r.staticContentQueries=!0)}kF(r,Fe(),t)}function ni(i,e,t){let n=Gt();n.firstCreatePass&&(VF(n,new nv(i,e,t),-1),(e&2)===2&&(n.staticViewQueries=!0)),kF(n,Fe(),e)}function rt(i){let e=Fe(),t=Gt(),n=Mx();XS(n+1);let r=GF(t,n);if(i.dirty&&TW(e)===((r.metadata.flags&2)===2)){if(r.matches===null)i.reset([]);else{let o=r.crossesNgTemplate?kS(t,e,n,[]):LF(t,e,r,n);i.reset(o,f3),i.notifyOnChanges()}return!0}return!1}function ot(){return hq(Fe(),Mx())}function ul(i){let e=kW();return RW(e,In+i)}function H(i,e=""){let t=Fe(),n=Gt(),r=i+In,o=n.firstCreatePass?Zu(n,r,1,e,null):n.data[r],s=fq(n,t,o,e,i);t[r]=s,hv()&&Sv(n,t,s,o),co(o,!1)}var fq=(i,e,t,n,r)=>(pv(!0),dE(e[yt],n));function Nt(i){return Ot("",i,""),Nt}function Ot(i,e,t){let n=Fe(),r=B$(n,i,e,t);return r!==Hr&&tF(n,es(),r),Ot}function th(i,e,t,n,r){let o=Fe(),s=j$(o,i,e,t,n,r);return s!==Hr&&tF(o,es(),s),th}function gq(i,e,t){let n=Gt();if(n.firstCreatePass){let r=Zo(i);VS(t,n.data,n.blueprint,r,!0),VS(e,n.data,n.blueprint,r,!1)}}function VS(i,e,t,n,r){if(i=Yn(i),Array.isArray(i))for(let o=0;o<i.length;o++)VS(i[o],e,t,n,r);else{let o=Gt(),s=Fe(),a=Jn(),l=qu(i)?i:Yn(i.provide),u=tP(i),c=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(qu(i)||!i.multi){let p=new nl(u,r,P),f=Rw(l,e,r?c:c+h,d);f===-1?(kw(Ug(a,s),o,l),Dw(o,i,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(p),s.push(p)):(t[f]=p,s[f]=p)}else{let p=Rw(l,e,c+h,d),f=Rw(l,e,c,c+h),g=p>=0&&t[p],v=f>=0&&t[f];if(r&&!v||!r&&!g){kw(Ug(a,s),o,l);let m=yq(r?mq:vq,t.length,r,n,u);!r&&v&&(t[f].providerFactory=m),Dw(o,i,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(m),s.push(m)}else{let m=HF(t[r?f:p],u,!r&&n);Dw(o,i,p>-1?p:f,m)}!r&&n&&v&&t[f].componentProviders++}}}function Dw(i,e,t,n){let r=qu(e),o=gz(e);if(r||o){let l=(o?Yn(e.useClass):e).prototype.ngOnDestroy;if(l){let u=i.destroyHooks||(i.destroyHooks=[]);if(!r&&e.multi){let c=u.indexOf(t);c===-1?u.push(t,[n,l]):u[c+1].push(n,l)}else u.push(t,l)}}}function HF(i,e,t){return t&&i.componentProviders++,i.multi.push(e)-1}function Rw(i,e,t,n){for(let r=t;r<n;r++)if(e[r]===i)return r;return-1}function vq(i,e,t,n){return GS(this.multi,[])}function mq(i,e,t,n){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=il(t,t[Ie],this.providerFactory.index,n);o=a.slice(0,s),GS(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],GS(r,o);return o}function GS(i,e){for(let t=0;t<i.length;t++){let n=i[t];e.push(n())}return e}function yq(i,e,t,n,r){let o=new nl(i,t,P);return o.multi=[],o.index=e,o.componentProviders=0,HF(o,r,n&&!t),o}function Bt(i,e=[]){return t=>{t.providersResolver=(n,r)=>gq(n,r?r(i):i,e)}}var ks=class{},Wd=class{};var HS=class extends ks{constructor(e,t,n){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Qg(this);let r=px(e);this._bootstrapComponents=oP(r.bootstrap),this._r3Injector=nP(e,t,[{provide:ks,useValue:this},{provide:ar,useValue:this.componentFactoryResolver},...n],Zn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},BS=class extends Wd{constructor(e){super(),this.moduleType=e}create(e){return new HS(this.moduleType,e,[])}};var iv=class extends ks{constructor(e){super(),this.componentFactoryResolver=new Qg(this),this.instance=null;let t=new Vd([...e.providers,{provide:ks,useValue:this},{provide:ar,useValue:this.componentFactoryResolver}],e.parent||yv(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Fv(i,e,t=null){return new iv({providers:i,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Cq=(()=>{let e=class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Xx(!1,n.type),o=r.length>0?Fv([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=k({token:e,providedIn:"environment",factory:()=>new e(G(Cn))});let i=e;return i})();function ye(i){Ju("NgStandalone"),i.getStandaloneInjector=e=>e.get(Cq).getOrCreateStandaloneInjector(i)}function Br(i,e,t,n){return _q(Fe(),Tx(),i,e,t,n)}function Nv(i,e,t,n,r){return wq(Fe(),Tx(),i,e,t,n,r)}function BF(i,e){let t=i[e];return t===Hr?void 0:t}function _q(i,e,t,n,r,o){let s=e+t;return Oi(i,s,r)?uF(i,s+1,o?n.call(o,r):n(r)):BF(i,s+1)}function wq(i,e,t,n,r,o,s){let a=e+t;return cF(i,a,r,o)?uF(i,a+2,s?n.call(s,r,o):n(r,o)):BF(i,a+2)}function nh(i,e){return Pv(i,e)}var Lv=(()=>{let e=class e{log(n){console.log(n)}warn(n){console.warn(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"platform"});let i=e;return i})(),jS=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},kv=(()=>{let e=class e{compileModuleSync(n){return new BS(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=px(n),s=oP(o.declarations).reduce((a,l)=>{let u=Qo(l);return u&&a.push(new sl(u)),a},[]);return new jS(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var cl=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new mn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var jF=new ie("");var Vv=new ie("Application Initializer"),UF=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=F(Vv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let s=o();if(ll(s))n.push(s);else if(NF(s)){let a=new Promise((l,u)=>{s.subscribe({complete:l,error:u})});n.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),ih=new ie("appBootstrapListener");function Sq(){AI(()=>{throw new X(600,!1)})}function Eq(i){return i.isBoundToModule}function bq(i,e,t){try{let n=t();return ll(n)?n.catch(r=>{throw e.runOutsideAngular(()=>i.handleError(r)),r}):n}catch(n){throw e.runOutsideAngular(()=>i.handleError(n)),n}}var Un=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=F(BP),this.afterRenderEffectManager=F(xE),this.componentTypes=[],this.components=[],this.isStable=F(cl).hasPendingTasks.pipe(_e(n=>!n)),this._injector=F(Cn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let o=n instanceof $g;if(!this._injector.get(UF).done){let p=!o&&hx(n),f=!1;throw new X(405,f)}let a;o?a=n:a=this._injector.get(ar).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let l=Eq(a)?void 0:this._injector.get(ks),u=r||a.selector,c=a.create(gt.NULL,[],u,l),d=c.location.nativeElement,h=c.injector.get(jF,null);return h?.registerApplication(d),c.onDestroy(()=>{this.detachView(c.hostView),Tw(this.components,c),h?.unregisterApplication(d)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new X(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{try{let n=this.afterRenderEffectManager.execute()}catch(n){this.internalErrorHandler(n)}this._runningTick=!1}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Tw(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(ih,[]);[...this._bootstrapListeners,...r].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Tw(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new X(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Tw(i,e){let t=i.indexOf(e);t>-1&&i.splice(t,1)}var Dq=(()=>{let e=class e{constructor(){this.zone=F(fe),this.applicationRef=F(Un)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Rq(i){return[{provide:fe,useFactory:i},{provide:$u,multi:!0,useFactory:()=>{let e=F(Dq,{optional:!0});return()=>e.initialize()}},{provide:$u,multi:!0,useFactory:()=>{let e=F(Iq);return()=>{e.initialize()}}},{provide:BP,useFactory:Tq}]}function Tq(){let i=F(fe),e=F(fo);return t=>i.runOutsideAngular(()=>e.handleError(t))}function Aq(i){let e=Rq(()=>new fe(Oq(i)));return Hs([[],e])}function Oq(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}var Iq=(()=>{let e=class e{constructor(){this.subscription=new Dt,this.initialized=!1,this.zone=F(fe),this.pendingTasks=F(cl)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{fe.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{fe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Mq(){return typeof $localize<"u"&&$localize.locale||Jg}var tc=new ie("LocaleId",{providedIn:"root",factory:()=>F(tc,We.Optional|We.SkipSelf)||Mq()});var WF=new ie("PlatformDestroyListeners");var kg=null;function xq(i=[],e){return gt.create({name:e,providers:[{provide:mv,useValue:"platform"},{provide:WF,useValue:new Set([()=>kg=null])},...i]})}function Pq(i=[]){if(kg)return kg;let e=xq(i);return kg=e,Sq(),Fq(e),e}function Fq(i){i.get(lE,null)?.forEach(t=>t())}function zF(i){try{let{rootComponent:e,appProviders:t,platformProviders:n}=i,r=Pq(n),o=[Aq(),...t||[]],a=new iv({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,l=a.get(fe);return l.run(()=>{a.resolveInjectorInitializers();let u=a.get(fo,null),c;l.runOutsideAngular(()=>{c=l.onError.subscribe({next:p=>{u.handleError(p)}})});let d=()=>a.destroy(),h=r.get(WF);return h.add(d),a.onDestroy(()=>{c.unsubscribe(),h.delete(d)}),bq(u,l,()=>{let p=a.get(UF);return p.runInitializers(),p.donePromise.then(()=>{let f=a.get(tc,Jg);w4(f||Jg);let g=a.get(Un);return e!==void 0&&g.bootstrap(e),g})})})}catch(e){return Promise.reject(e)}}function mo(i){return typeof i=="boolean"?i:i!=null&&i!=="false"}function Gv(i,e){let t=Qo(i),n=e.elementInjector||yv();return new sl(t).create(n,e.projectableNodes,e.hostElement,e.environmentInjector)}function $F(i){let e=Qo(i);if(!e)return null;let t=new sl(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var BE=null;function as(){return BE}function JF(i){BE||(BE=i)}var qv=class{},ge=new ie("DocumentToken"),qE=(()=>{let e=class e{historyGo(n){throw new Error("Not implemented")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>F(Lq),providedIn:"platform"});let i=e;return i})(),eN=new ie("Location Initialized"),Lq=(()=>{let e=class e extends qE{constructor(){super(),this._doc=F(ge),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return as().getBaseHref(this._doc)}onPopState(n){let r=as().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=as().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>new e,providedIn:"platform"});let i=e;return i})();function KE(i,e){if(i.length==0)return e;if(e.length==0)return i;let t=0;return i.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?i+e.substring(1):t==1?i+e:i+"/"+e}function qF(i){let e=i.match(/#|\?|$/),t=e&&e.index||i.length,n=t-(i[t-1]==="/"?1:0);return i.slice(0,n)+i.slice(t)}function rs(i){return i&&i[0]!=="?"?"?"+i:i}var Ur=(()=>{let e=class e{historyGo(n){throw new Error("Not implemented")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>F(YE),providedIn:"root"});let i=e;return i})(),tN=new ie("appBaseHref"),YE=(()=>{let e=class e extends Ur{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??F(ge).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return KE(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+rs(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,s){let a=this.prepareExternalUrl(o+rs(s));this._platformLocation.pushState(n,r,a)}replaceState(n,r,o,s){let a=this.prepareExternalUrl(o+rs(s));this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(r){return new(r||e)(G(qE),G(tN,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Yv=(()=>{let e=class e extends Ur{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return r==null&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=KE(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,s){let a=this.prepareExternalUrl(o+rs(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,r,a)}replaceState(n,r,o,s){let a=this.prepareExternalUrl(o+rs(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(r){return new(r||e)(G(qE),G(tN,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let i=e;return i})(),$s=(()=>{let e=class e{constructor(n){this._subject=new V,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=Gq(qF(KF(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+rs(r))}normalize(n){return e.stripTrailingSlash(Vq(this._basePath,KF(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+rs(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+rs(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r,complete:o})}};e.normalizeQueryParams=rs,e.joinWithSlash=KE,e.stripTrailingSlash=qF,e.\u0275fac=function(r){return new(r||e)(G(Ur))},e.\u0275prov=k({token:e,factory:()=>kq(),providedIn:"root"});let i=e;return i})();function kq(){return new $s(G(Ur))}function Vq(i,e){if(!i||!e.startsWith(i))return e;let t=e.substring(i.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function KF(i){return i.replace(/\/index.html$/,"")}function Gq(i){if(new RegExp("^(https?:)?//").test(i)){let[,t]=i.split(/\/\/[^\/]+/);return t}return i}var Qt=function(i){return i[i.Format=0]="Format",i[i.Standalone=1]="Standalone",i}(Qt||{}),Qe=function(i){return i[i.Narrow=0]="Narrow",i[i.Abbreviated=1]="Abbreviated",i[i.Wide=2]="Wide",i[i.Short=3]="Short",i}(Qe||{}),Ni=function(i){return i[i.Short=0]="Short",i[i.Medium=1]="Medium",i[i.Long=2]="Long",i[i.Full=3]="Full",i}(Ni||{}),os=function(i){return i[i.Decimal=0]="Decimal",i[i.Group=1]="Group",i[i.List=2]="List",i[i.PercentSign=3]="PercentSign",i[i.PlusSign=4]="PlusSign",i[i.MinusSign=5]="MinusSign",i[i.Exponential=6]="Exponential",i[i.SuperscriptingExponent=7]="SuperscriptingExponent",i[i.PerMille=8]="PerMille",i[i.Infinity=9]="Infinity",i[i.NaN=10]="NaN",i[i.TimeSeparator=11]="TimeSeparator",i[i.CurrencyDecimal=12]="CurrencyDecimal",i[i.CurrencyGroup=13]="CurrencyGroup",i}(os||{});function Hq(i){return Fi(i)[Ht.LocaleId]}function QE(i,e,t){let n=Fi(i),r=[n[Ht.DayPeriodsFormat],n[Ht.DayPeriodsStandalone]],o=cr(r,e);return cr(o,t)}function ZE(i,e,t){let n=Fi(i),r=[n[Ht.DaysFormat],n[Ht.DaysStandalone]],o=cr(r,e);return cr(o,t)}function Qv(i,e,t){let n=Fi(i),r=[n[Ht.MonthsFormat],n[Ht.MonthsStandalone]],o=cr(r,e);return cr(o,t)}function Bq(i,e){let n=Fi(i)[Ht.Eras];return cr(n,e)}function Hv(i,e){let t=Fi(i);return cr(t[Ht.DateFormat],e)}function Bv(i,e){let t=Fi(i);return cr(t[Ht.TimeFormat],e)}function jv(i,e){let n=Fi(i)[Ht.DateTimeFormat];return cr(n,e)}function Zv(i,e){let t=Fi(i),n=t[Ht.NumberSymbols][e];if(typeof n>"u"){if(e===os.CurrencyDecimal)return t[Ht.NumberSymbols][os.Decimal];if(e===os.CurrencyGroup)return t[Ht.NumberSymbols][os.Group]}return n}function nN(i){if(!i[Ht.ExtraData])throw new Error(`Missing extra locale data for the locale "${i[Ht.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function jq(i){let e=Fi(i);return nN(e),(e[Ht.ExtraData][2]||[]).map(n=>typeof n=="string"?kE(n):[kE(n[0]),kE(n[1])])}function Uq(i,e,t){let n=Fi(i);nN(n);let r=[n[Ht.ExtraData][0],n[Ht.ExtraData][1]],o=cr(r,e)||[];return cr(o,t)||[]}function cr(i,e){for(let t=e;t>-1;t--)if(typeof i[t]<"u")return i[t];throw new Error("Locale data API: locale data undefined")}function kE(i){let[e,t]=i.split(":");return{hours:+e,minutes:+t}}var Wq=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,rh={},zq=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,ss=function(i){return i[i.Short=0]="Short",i[i.ShortGMT=1]="ShortGMT",i[i.Long=2]="Long",i[i.Extended=3]="Extended",i}(ss||{}),ct=function(i){return i[i.FullYear=0]="FullYear",i[i.Month=1]="Month",i[i.Date=2]="Date",i[i.Hours=3]="Hours",i[i.Minutes=4]="Minutes",i[i.Seconds=5]="Seconds",i[i.FractionalSeconds=6]="FractionalSeconds",i[i.Day=7]="Day",i}(ct||{}),ut=function(i){return i[i.DayPeriods=0]="DayPeriods",i[i.Days=1]="Days",i[i.Months=2]="Months",i[i.Eras=3]="Eras",i}(ut||{});function iN(i,e,t,n){let r=e5(i);e=is(t,e)||e;let s=[],a;for(;e;)if(a=zq.exec(e),a){s=s.concat(a.slice(1));let c=s.pop();if(!c)break;e=c}else{s.push(e);break}let l=r.getTimezoneOffset();n&&(l=oN(n,l),r=Jq(r,n,!0));let u="";return s.forEach(c=>{let d=Zq(c);u+=d?d(r,t,l):c==="''"?"'":c.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Kv(i,e,t){let n=new Date(0);return n.setFullYear(i,e,t),n.setHours(0,0,0),n}function is(i,e){let t=Hq(i);if(rh[t]=rh[t]||{},rh[t][e])return rh[t][e];let n="";switch(e){case"shortDate":n=Hv(i,Ni.Short);break;case"mediumDate":n=Hv(i,Ni.Medium);break;case"longDate":n=Hv(i,Ni.Long);break;case"fullDate":n=Hv(i,Ni.Full);break;case"shortTime":n=Bv(i,Ni.Short);break;case"mediumTime":n=Bv(i,Ni.Medium);break;case"longTime":n=Bv(i,Ni.Long);break;case"fullTime":n=Bv(i,Ni.Full);break;case"short":let r=is(i,"shortTime"),o=is(i,"shortDate");n=Uv(jv(i,Ni.Short),[r,o]);break;case"medium":let s=is(i,"mediumTime"),a=is(i,"mediumDate");n=Uv(jv(i,Ni.Medium),[s,a]);break;case"long":let l=is(i,"longTime"),u=is(i,"longDate");n=Uv(jv(i,Ni.Long),[l,u]);break;case"full":let c=is(i,"fullTime"),d=is(i,"fullDate");n=Uv(jv(i,Ni.Full),[c,d]);break}return n&&(rh[t][e]=n),n}function Uv(i,e){return e&&(i=i.replace(/\{([^}]+)}/g,function(t,n){return e!=null&&n in e?e[n]:t})),i}function jr(i,e,t="-",n,r){let o="";(i<0||r&&i<=0)&&(r?i=-i+1:(i=-i,o=t));let s=String(i);for(;s.length<e;)s="0"+s;return n&&(s=s.slice(s.length-e)),o+s}function $q(i,e){return jr(i,3).substring(0,e)}function Yt(i,e,t=0,n=!1,r=!1){return function(o,s){let a=qq(i,o);if((t>0||a>-t)&&(a+=t),i===ct.Hours)a===0&&t===-12&&(a=12);else if(i===ct.FractionalSeconds)return $q(a,e);let l=Zv(s,os.MinusSign);return jr(a,e,l,n,r)}}function qq(i,e){switch(i){case ct.FullYear:return e.getFullYear();case ct.Month:return e.getMonth();case ct.Date:return e.getDate();case ct.Hours:return e.getHours();case ct.Minutes:return e.getMinutes();case ct.Seconds:return e.getSeconds();case ct.FractionalSeconds:return e.getMilliseconds();case ct.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${i}".`)}}function bt(i,e,t=Qt.Format,n=!1){return function(r,o){return Kq(r,o,i,e,t,n)}}function Kq(i,e,t,n,r,o){switch(t){case ut.Months:return Qv(e,r,n)[i.getMonth()];case ut.Days:return ZE(e,r,n)[i.getDay()];case ut.DayPeriods:let s=i.getHours(),a=i.getMinutes();if(o){let u=jq(e),c=Uq(e,r,n),d=u.findIndex(h=>{if(Array.isArray(h)){let[p,f]=h,g=s>=p.hours&&a>=p.minutes,v=s<f.hours||s===f.hours&&a<f.minutes;if(p.hours<f.hours){if(g&&v)return!0}else if(g||v)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(d!==-1)return c[d]}return QE(e,r,n)[s<12?0:1];case ut.Eras:return Bq(e,n)[i.getFullYear()<=0?0:1];default:let l=t;throw new Error(`unexpected translation type ${l}`)}}function Wv(i){return function(e,t,n){let r=-1*n,o=Zv(t,os.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(i){case ss.Short:return(r>=0?"+":"")+jr(s,2,o)+jr(Math.abs(r%60),2,o);case ss.ShortGMT:return"GMT"+(r>=0?"+":"")+jr(s,1,o);case ss.Long:return"GMT"+(r>=0?"+":"")+jr(s,2,o)+":"+jr(Math.abs(r%60),2,o);case ss.Extended:return n===0?"Z":(r>=0?"+":"")+jr(s,2,o)+":"+jr(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${i}"`)}}}var Yq=0,$v=4;function Qq(i){let e=Kv(i,Yq,1).getDay();return Kv(i,0,1+(e<=$v?$v:$v+7)-e)}function rN(i){return Kv(i.getFullYear(),i.getMonth(),i.getDate()+($v-i.getDay()))}function VE(i,e=!1){return function(t,n){let r;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();r=1+Math.floor((s+o)/7)}else{let o=rN(t),s=Qq(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return jr(r,i,Zv(n,os.MinusSign))}}function zv(i,e=!1){return function(t,n){let o=rN(t).getFullYear();return jr(o,i,Zv(n,os.MinusSign),e)}}var GE={};function Zq(i){if(GE[i])return GE[i];let e;switch(i){case"G":case"GG":case"GGG":e=bt(ut.Eras,Qe.Abbreviated);break;case"GGGG":e=bt(ut.Eras,Qe.Wide);break;case"GGGGG":e=bt(ut.Eras,Qe.Narrow);break;case"y":e=Yt(ct.FullYear,1,0,!1,!0);break;case"yy":e=Yt(ct.FullYear,2,0,!0,!0);break;case"yyy":e=Yt(ct.FullYear,3,0,!1,!0);break;case"yyyy":e=Yt(ct.FullYear,4,0,!1,!0);break;case"Y":e=zv(1);break;case"YY":e=zv(2,!0);break;case"YYY":e=zv(3);break;case"YYYY":e=zv(4);break;case"M":case"L":e=Yt(ct.Month,1,1);break;case"MM":case"LL":e=Yt(ct.Month,2,1);break;case"MMM":e=bt(ut.Months,Qe.Abbreviated);break;case"MMMM":e=bt(ut.Months,Qe.Wide);break;case"MMMMM":e=bt(ut.Months,Qe.Narrow);break;case"LLL":e=bt(ut.Months,Qe.Abbreviated,Qt.Standalone);break;case"LLLL":e=bt(ut.Months,Qe.Wide,Qt.Standalone);break;case"LLLLL":e=bt(ut.Months,Qe.Narrow,Qt.Standalone);break;case"w":e=VE(1);break;case"ww":e=VE(2);break;case"W":e=VE(1,!0);break;case"d":e=Yt(ct.Date,1);break;case"dd":e=Yt(ct.Date,2);break;case"c":case"cc":e=Yt(ct.Day,1);break;case"ccc":e=bt(ut.Days,Qe.Abbreviated,Qt.Standalone);break;case"cccc":e=bt(ut.Days,Qe.Wide,Qt.Standalone);break;case"ccccc":e=bt(ut.Days,Qe.Narrow,Qt.Standalone);break;case"cccccc":e=bt(ut.Days,Qe.Short,Qt.Standalone);break;case"E":case"EE":case"EEE":e=bt(ut.Days,Qe.Abbreviated);break;case"EEEE":e=bt(ut.Days,Qe.Wide);break;case"EEEEE":e=bt(ut.Days,Qe.Narrow);break;case"EEEEEE":e=bt(ut.Days,Qe.Short);break;case"a":case"aa":case"aaa":e=bt(ut.DayPeriods,Qe.Abbreviated);break;case"aaaa":e=bt(ut.DayPeriods,Qe.Wide);break;case"aaaaa":e=bt(ut.DayPeriods,Qe.Narrow);break;case"b":case"bb":case"bbb":e=bt(ut.DayPeriods,Qe.Abbreviated,Qt.Standalone,!0);break;case"bbbb":e=bt(ut.DayPeriods,Qe.Wide,Qt.Standalone,!0);break;case"bbbbb":e=bt(ut.DayPeriods,Qe.Narrow,Qt.Standalone,!0);break;case"B":case"BB":case"BBB":e=bt(ut.DayPeriods,Qe.Abbreviated,Qt.Format,!0);break;case"BBBB":e=bt(ut.DayPeriods,Qe.Wide,Qt.Format,!0);break;case"BBBBB":e=bt(ut.DayPeriods,Qe.Narrow,Qt.Format,!0);break;case"h":e=Yt(ct.Hours,1,-12);break;case"hh":e=Yt(ct.Hours,2,-12);break;case"H":e=Yt(ct.Hours,1);break;case"HH":e=Yt(ct.Hours,2);break;case"m":e=Yt(ct.Minutes,1);break;case"mm":e=Yt(ct.Minutes,2);break;case"s":e=Yt(ct.Seconds,1);break;case"ss":e=Yt(ct.Seconds,2);break;case"S":e=Yt(ct.FractionalSeconds,1);break;case"SS":e=Yt(ct.FractionalSeconds,2);break;case"SSS":e=Yt(ct.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Wv(ss.Short);break;case"ZZZZZ":e=Wv(ss.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Wv(ss.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Wv(ss.Long);break;default:return null}return GE[i]=e,e}function oN(i,e){i=i.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+i)/6e4;return isNaN(t)?e:t}function Xq(i,e){return i=new Date(i.getTime()),i.setMinutes(i.getMinutes()+e),i}function Jq(i,e,t){let n=t?-1:1,r=i.getTimezoneOffset(),o=oN(e,r);return Xq(i,n*(o-r))}function e5(i){if(YF(i))return i;if(typeof i=="number"&&!isNaN(i))return new Date(i);if(typeof i=="string"){if(i=i.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(i)){let[r,o=1,s=1]=i.split("-").map(a=>+a);return Kv(r,o-1,s)}let t=parseFloat(i);if(!isNaN(i-t))return new Date(t);let n;if(n=i.match(Wq))return t5(n)}let e=new Date(i);if(!YF(e))throw new Error(`Unable to convert "${i}" into a date`);return e}function t5(i){let e=new Date(0),t=0,n=0,r=i[8]?e.setUTCFullYear:e.setFullYear,o=i[8]?e.setUTCHours:e.setHours;i[9]&&(t=Number(i[9]+i[10]),n=Number(i[9]+i[11])),r.call(e,Number(i[1]),Number(i[2])-1,Number(i[3]));let s=Number(i[4]||0)-t,a=Number(i[5]||0)-n,l=Number(i[6]||0),u=Math.floor(parseFloat("0."+(i[7]||0))*1e3);return o.call(e,s,a,l,u),e}function YF(i){return i instanceof Date&&!isNaN(i.valueOf())}function Xv(i,e){e=encodeURIComponent(e);for(let t of i.split(";")){let n=t.indexOf("="),[r,o]=n==-1?[t,""]:[t.slice(0,n),t.slice(n+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var HE=/\s+/,QF=[],qs=(()=>{let e=class e{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=QF,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(HE):QF}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(HE):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let o=this.stateMap.get(n);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],o=n[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(HE).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(r){return new(r||e)(P(Ge),P(xi))},e.\u0275dir=Ze({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Ft.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let i=e;return i})();var jE=class{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ks=(()=>{let e=class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((o,s,a)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new jE(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(s===null?void 0:s);else if(s!==null){let l=r.get(s);r.move(l,a),ZF(l,o)}});for(let o=0,s=r.length;o<s;o++){let l=r.get(o).context;l.index=o,l.count=s,l.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{let s=r.get(o.currentIndex);ZF(s,o)})}static ngTemplateContextGuard(n,r){return!0}};e.\u0275fac=function(r){return new(r||e)(P(Mn),P(Xn),P(Rv))},e.\u0275dir=Ze({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let i=e;return i})();function ZF(i,e){i.context.$implicit=e.item}var Li=(()=>{let e=class e{constructor(n,r){this._viewContainer=n,this._context=new UE,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){XF("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){XF("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}};e.\u0275fac=function(r){return new(r||e)(P(Mn),P(Xn))},e.\u0275dir=Ze({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let i=e;return i})(),UE=class{constructor(){this.$implicit=null,this.ngIf=null}};function XF(i,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${i} must be a TemplateRef, but received '${Zn(e)}'.`)}var sN=(()=>{let e=class e{constructor(n,r,o){this._ngEl=n,this._differs=r,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){let[o,s]=n.split("."),a=o.indexOf("-")===-1?void 0:ho.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,o,s?`${r}${s}`:r,a):this._renderer.removeStyle(this._ngEl.nativeElement,o,a)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}};e.\u0275fac=function(r){return new(r||e)(P(Ge),P(_E),P(xi))},e.\u0275dir=Ze({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let i=e;return i})(),oh=(()=>{let e=class e{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(this._shouldRecreateView(n)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let o=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,o)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,o):!1,get:(n,r,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,o)}})}};e.\u0275fac=function(r){return new(r||e)(P(Mn))},e.\u0275dir=Ze({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Vt]});let i=e;return i})();var dl=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=De({});let i=e;return i})(),XE="browser",n5="server";function Jv(i){return i===XE}function JE(i){return i===n5}var aN=(()=>{let e=class e{};e.\u0275prov=k({token:e,providedIn:"root",factory:()=>Jv(F(Ii))?new WE(F(ge),window):new zE});let i=e;return i})(),WE=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=i5(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],r-o[1])}};function i5(i,e){let t=i.getElementById(e)||i.getElementsByName(e)[0];if(t)return t;if(typeof i.createTreeWalker=="function"&&i.body&&typeof i.body.attachShadow=="function"){let n=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT),r=n.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=n.nextNode()}}return null}var zE=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},nc=class{};var ah=class{},tm=class{},hl=class i{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let n=t.indexOf(":");if(n>0){let r=t.slice(0,n),o=r.toLowerCase(),s=t.slice(n+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,n)=>{this.setHeaderEntries(n,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,n])=>{this.setHeaderEntries(t,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new i;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let n=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var t0=class{encodeKey(e){return lN(e)}encodeValue(e){return lN(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function s5(i,e){let t=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var a5=/%(\d[a-f0-9])/gi,l5={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function lN(i){return encodeURIComponent(i).replace(a5,(e,t)=>l5[t]??e)}function em(i){return`${i}`}var Ys=class i{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new t0,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=s5(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let n=e.fromObject[t],r=Array.isArray(n)?n.map(em):[em(n)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(n=>{let r=e[n];Array.isArray(r)?r.forEach(o=>{t.push({param:n,value:o,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(n=>t+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new i({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(em(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let n=this.map.get(e.param)||[],r=n.indexOf(em(e.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var n0=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function u5(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function uN(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function cN(i){return typeof Blob<"u"&&i instanceof Blob}function dN(i){return typeof FormData<"u"&&i instanceof FormData}function c5(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var sh=class i{constructor(e,t,n,r){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(u5(this.method)||r?(this.body=n!==void 0?n:null,o=r):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers||(this.headers=new hl),this.context||(this.context=new n0),!this.params)this.params=new Ys,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:uN(this.body)||cN(this.body)||dN(this.body)||c5(this.body)||typeof this.body=="string"?this.body:this.body instanceof Ys?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||dN(this.body)?null:cN(this.body)?this.body.type||null:uN(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ys?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,n=e.url||this.url,r=e.responseType||this.responseType,o=e.body!==void 0?e.body:this.body,s=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,c=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),u)),new i(t,n,o,{params:u,headers:l,context:c,reportProgress:a,responseType:r,withCredentials:s})}},ic=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(ic||{}),lh=class{constructor(e,t=rm.Ok,n="OK"){this.headers=e.headers||new hl,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},i0=class i extends lh{constructor(e={}){super(e),this.type=ic.ResponseHeader}clone(e={}){return new i({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},nm=class i extends lh{constructor(e={}){super(e),this.type=ic.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new i({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},im=class extends lh{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},rm=function(i){return i[i.Continue=100]="Continue",i[i.SwitchingProtocols=101]="SwitchingProtocols",i[i.Processing=102]="Processing",i[i.EarlyHints=103]="EarlyHints",i[i.Ok=200]="Ok",i[i.Created=201]="Created",i[i.Accepted=202]="Accepted",i[i.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",i[i.NoContent=204]="NoContent",i[i.ResetContent=205]="ResetContent",i[i.PartialContent=206]="PartialContent",i[i.MultiStatus=207]="MultiStatus",i[i.AlreadyReported=208]="AlreadyReported",i[i.ImUsed=226]="ImUsed",i[i.MultipleChoices=300]="MultipleChoices",i[i.MovedPermanently=301]="MovedPermanently",i[i.Found=302]="Found",i[i.SeeOther=303]="SeeOther",i[i.NotModified=304]="NotModified",i[i.UseProxy=305]="UseProxy",i[i.Unused=306]="Unused",i[i.TemporaryRedirect=307]="TemporaryRedirect",i[i.PermanentRedirect=308]="PermanentRedirect",i[i.BadRequest=400]="BadRequest",i[i.Unauthorized=401]="Unauthorized",i[i.PaymentRequired=402]="PaymentRequired",i[i.Forbidden=403]="Forbidden",i[i.NotFound=404]="NotFound",i[i.MethodNotAllowed=405]="MethodNotAllowed",i[i.NotAcceptable=406]="NotAcceptable",i[i.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",i[i.RequestTimeout=408]="RequestTimeout",i[i.Conflict=409]="Conflict",i[i.Gone=410]="Gone",i[i.LengthRequired=411]="LengthRequired",i[i.PreconditionFailed=412]="PreconditionFailed",i[i.PayloadTooLarge=413]="PayloadTooLarge",i[i.UriTooLong=414]="UriTooLong",i[i.UnsupportedMediaType=415]="UnsupportedMediaType",i[i.RangeNotSatisfiable=416]="RangeNotSatisfiable",i[i.ExpectationFailed=417]="ExpectationFailed",i[i.ImATeapot=418]="ImATeapot",i[i.MisdirectedRequest=421]="MisdirectedRequest",i[i.UnprocessableEntity=422]="UnprocessableEntity",i[i.Locked=423]="Locked",i[i.FailedDependency=424]="FailedDependency",i[i.TooEarly=425]="TooEarly",i[i.UpgradeRequired=426]="UpgradeRequired",i[i.PreconditionRequired=428]="PreconditionRequired",i[i.TooManyRequests=429]="TooManyRequests",i[i.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",i[i.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",i[i.InternalServerError=500]="InternalServerError",i[i.NotImplemented=501]="NotImplemented",i[i.BadGateway=502]="BadGateway",i[i.ServiceUnavailable=503]="ServiceUnavailable",i[i.GatewayTimeout=504]="GatewayTimeout",i[i.HttpVersionNotSupported=505]="HttpVersionNotSupported",i[i.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",i[i.InsufficientStorage=507]="InsufficientStorage",i[i.LoopDetected=508]="LoopDetected",i[i.NotExtended=510]="NotExtended",i[i.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",i}(rm||{});function e0(i,e){return{body:e,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}var $t=(()=>{let e=class e{constructor(n){this.handler=n}request(n,r,o={}){let s;if(n instanceof sh)s=n;else{let u;o.headers instanceof hl?u=o.headers:u=new hl(o.headers);let c;o.params&&(o.params instanceof Ys?c=o.params:c=new Ys({fromObject:o.params})),s=new sh(n,r,o.body!==void 0?o.body:null,{headers:u,context:o.context,params:c,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=le(s).pipe(qo(u=>this.handler.handle(u)));if(n instanceof sh||o.observe==="events")return a;let l=a.pipe(nt(u=>u instanceof nm));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(_e(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return l.pipe(_e(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return l.pipe(_e(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return l.pipe(_e(u=>u.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Ys().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,e0(o,r))}post(n,r,o={}){return this.request("POST",n,e0(o,r))}put(n,r,o={}){return this.request("PUT",n,e0(o,r))}};e.\u0275fac=function(r){return new(r||e)(G(ah))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let i=e;return i})();function gN(i,e){return e(i)}function d5(i,e){return(t,n)=>e.intercept(t,{handle:r=>i(r,n)})}function h5(i,e,t){return(n,r)=>vo(t,()=>e(n,o=>i(o,r)))}var r0=new ie(""),o0=new ie(""),p5=new ie(""),f5=new ie("");function g5(){let i=null;return(e,t)=>{i===null&&(i=(F(r0,{optional:!0})??[]).reduceRight(d5,gN));let n=F(cl),r=n.add();return i(e,t).pipe(Ko(()=>n.remove(r)))}}var hN=(()=>{let e=class e extends ah{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=F(cl);let o=F(f5,{optional:!0});this.backend=o??n}handle(n){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(o0),...this.injector.get(p5,[])]));this.chain=o.reduceRight((s,a)=>h5(s,a,this.injector),gN)}let r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(Ko(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(G(tm),G(Cn))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let i=e;return i})();var v5=/^\)\]\}',?\n/;function m5(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}var pN=(()=>{let e=class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new X(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ct(r.\u0275loadImpl()):le(null)).pipe(An(()=>new ve(s=>{let a=r.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((v,m)=>a.setRequestHeader(v,m.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let v=n.detectContentTypeHeader();v!==null&&a.setRequestHeader("Content-Type",v)}if(n.responseType){let v=n.responseType.toLowerCase();a.responseType=v!=="json"?v:"text"}let l=n.serializeBody(),u=null,c=()=>{if(u!==null)return u;let v=a.statusText||"OK",m=new hl(a.getAllResponseHeaders()),_=m5(a)||n.url;return u=new i0({headers:m,status:a.status,statusText:v,url:_}),u},d=()=>{let{headers:v,status:m,statusText:_,url:w}=c(),S=null;m!==rm.NoContent&&(S=typeof a.response>"u"?a.responseText:a.response),m===0&&(m=S?rm.Ok:0);let R=m>=200&&m<300;if(n.responseType==="json"&&typeof S=="string"){let T=S;S=S.replace(v5,"");try{S=S!==""?JSON.parse(S):null}catch(x){S=T,R&&(R=!1,S={error:x,text:S})}}R?(s.next(new nm({body:S,headers:v,status:m,statusText:_,url:w||void 0})),s.complete()):s.error(new im({error:S,headers:v,status:m,statusText:_,url:w||void 0}))},h=v=>{let{url:m}=c(),_=new im({error:v,status:a.status||0,statusText:a.statusText||"Unknown Error",url:m||void 0});s.error(_)},p=!1,f=v=>{p||(s.next(c()),p=!0);let m={type:ic.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(m.total=v.total),n.responseType==="text"&&a.responseText&&(m.partialText=a.responseText),s.next(m)},g=v=>{let m={type:ic.UploadProgress,loaded:v.loaded};v.lengthComputable&&(m.total=v.total),s.next(m)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),n.reportProgress&&(a.addEventListener("progress",f),l!==null&&a.upload&&a.upload.addEventListener("progress",g)),a.send(l),s.next({type:ic.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),n.reportProgress&&(a.removeEventListener("progress",f),l!==null&&a.upload&&a.upload.removeEventListener("progress",g)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(G(nc))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let i=e;return i})(),vN=new ie("XSRF_ENABLED"),y5="XSRF-TOKEN",C5=new ie("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>y5}),_5="X-XSRF-TOKEN",w5=new ie("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>_5}),om=class{},S5=(()=>{let e=class e{constructor(n,r,o){this.doc=n,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Xv(n,this.cookieName),this.lastCookieString=n),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(G(ge),G(Ii),G(C5))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let i=e;return i})();function E5(i,e){let t=i.url.toLowerCase();if(!F(vN)||i.method==="GET"||i.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(i);let n=F(om).getToken(),r=F(w5);return n!=null&&!i.headers.has(r)&&(i=i.clone({headers:i.headers.set(r,n)})),e(i)}var mN=function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i}(mN||{});function b5(i,e){return{\u0275kind:i,\u0275providers:e}}function yN(...i){let e=[$t,pN,hN,{provide:ah,useExisting:hN},{provide:tm,useExisting:pN},{provide:o0,useValue:E5,multi:!0},{provide:vN,useValue:!0},{provide:om,useClass:S5}];for(let t of i)e.push(...t.\u0275providers);return Hs(e)}var fN=new ie("LEGACY_INTERCEPTOR_FN");function CN(){return b5(mN.LegacyInterceptors,[{provide:fN,useFactory:g5},{provide:o0,useExisting:fN,multi:!0}])}var l0=class extends qv{constructor(){super(...arguments),this.supportsDOMEvents=!0}},u0=class i extends l0{static makeCurrent(){JF(new i)}onAndCancel(e,t,n){return e.addEventListener(t,n),()=>{e.removeEventListener(t,n)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=D5();return t==null?null:R5(t)}resetBaseElement(){uh=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Xv(document.cookie,e)}},uh=null;function D5(){return uh=uh||document.querySelector("base"),uh?uh.getAttribute("href"):null}function R5(i){return new URL(i,document.baseURI).pathname}var T5=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac});let i=e;return i})(),c0=new ie("EventManagerPlugins"),SN=(()=>{let e=class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new X(5101,!1);return this._eventNameToPlugin.set(n,r),r}};e.\u0275fac=function(r){return new(r||e)(G(c0),G(fe))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let i=e;return i})(),sm=class{constructor(e){this._doc=e}},s0="ng-app-id",EN=(()=>{let e=class e{constructor(n,r,o,s={}){this.doc=n,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=JE(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(o=>o.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${s0}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(n,r){let o=this.styleRef;if(o.has(n)){let s=o.get(n);return s.usage+=r,s.usage}return o.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===n)return o.delete(r),s.removeAttribute(s0),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(s0,this.appId),n.appendChild(a),a}}addStyleToHost(n,r){let o=this.getStyleElement(n,r),s=this.styleRef,a=s.get(r)?.elements;a?a.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(G(ge),G(Cv),G(uE,8),G(Ii))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let i=e;return i})(),a0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},h0=/%COMP%/g,bN="%COMP%",A5=`_nghost-${bN}`,O5=`_ngcontent-${bN}`,I5=!0,M5=new ie("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>I5});function x5(i){return O5.replace(h0,i)}function P5(i){return A5.replace(h0,i)}function DN(i,e){return e.map(t=>t.replace(h0,i))}var am=(()=>{let e=class e{constructor(n,r,o,s,a,l,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=JE(l),this.defaultRenderer=new ch(n,a,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===lo.ShadowDom&&(r=Ue(z({},r),{encapsulation:lo.Emulated}));let o=this.getOrCreateRenderer(n,r);return o instanceof lm?o.applyToHost(n):o instanceof dh&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let a=this.doc,l=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case lo.Emulated:s=new lm(u,c,r,this.appId,d,a,l,h);break;case lo.ShadowDom:return new d0(u,c,n,r,a,l,this.nonce,h);default:s=new dh(u,c,r,d,a,l,h);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(G(SN),G(EN),G(Cv),G(M5),G(ge),G(Ii),G(fe),G(uE))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let i=e;return i})(),ch=class{constructor(e,t,n,r){this.eventManager=e,this.doc=t,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(a0[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(_N(e)?e.content:e).appendChild(t)}insertBefore(e,t,n){e&&(_N(e)?e.content:e).insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new X(-5104,!1);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;let o=a0[r];o?e.setAttributeNS(o,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){let r=a0[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&(ho.DashCase|ho.Important)?e.style.setProperty(t,n,r&ho.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&ho.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e!=null&&(e[t]=n)}setValue(e,t){e.nodeValue=t}listen(e,t,n){if(typeof e=="string"&&(e=as().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(n))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function _N(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var d0=class extends ch{constructor(e,t,n,r,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=DN(r.id,r.styles);for(let c of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=c,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},dh=class extends ch{constructor(e,t,n,r,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?DN(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},lm=class extends dh{constructor(e,t,n,r,o,s,a,l){let u=r+"-"+n.id;super(e,t,n,o,s,a,l,u),this.contentAttr=x5(u),this.hostAttr=P5(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}},F5=(()=>{let e=class e extends sm{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(G(ge))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let i=e;return i})(),wN=["alt","control","meta","shift"],N5={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},L5={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},k5=(()=>{let e=class e extends sm{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>as().onAndCancel(n,s.domEventName,a))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),wN.forEach(c=>{let d=r.indexOf(c);d>-1&&(r.splice(d,1),a+=c+".")}),a+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=o,u.fullKey=a,u}static matchEventFullKeyCode(n,r){let o=N5[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(o=n.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),wN.forEach(a=>{if(a!==o){let l=L5[a];l(n)&&(s+=a+".")}}),s+=o,s===r)}static eventCallback(n,r,o){return s=>{e.matchEventFullKeyCode(s,n)&&o.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}};e.\u0275fac=function(r){return new(r||e)(G(ge))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let i=e;return i})();function RN(i,e){return zF(z({rootComponent:i},V5(e)))}function V5(i){return{appProviders:[...U5,...i?.providers??[]],platformProviders:j5}}function G5(){u0.makeCurrent()}function H5(){return new fo}function B5(){return iP(document),document}var j5=[{provide:Ii,useValue:XE},{provide:lE,useValue:G5,multi:!0},{provide:ge,useFactory:B5,deps:[]}];var U5=[{provide:mv,useValue:"root"},{provide:fo,useFactory:H5,deps:[]},{provide:c0,useClass:F5,multi:!0,deps:[ge,fe,Ii]},{provide:c0,useClass:k5,multi:!0,deps:[ge]},am,EN,SN,{provide:Gr,useExisting:am},{provide:nc,useClass:T5,deps:[]},[]];function W5(){return new p0(G(ge))}var p0=(()=>{let e=class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};e.\u0275fac=function(r){return new(r||e)(G(ge))},e.\u0275prov=k({token:e,factory:function(r){let o=null;return r?o=new r:o=W5(),o},providedIn:"root"});let i=e;return i})();var f0=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=G(TN),o},providedIn:"root"});let i=e;return i})();function z5(i){return new TN(i.get(ge))}var TN=(()=>{let e=class e extends f0{constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case Mi.NONE:return r;case Mi.HTML:return ts(r,"HTML")?sr(r):gE(this._doc,String(r)).toString();case Mi.STYLE:return ts(r,"Style")?sr(r):r;case Mi.SCRIPT:if(ts(r,"Script"))return sr(r);throw new X(5200,!1);case Mi.URL:return ts(r,"URL")?sr(r):Qd(String(r));case Mi.RESOURCE_URL:if(ts(r,"ResourceURL"))return sr(r);throw new X(5201,!1);default:throw new X(5202,!1)}}bypassSecurityTrustHtml(n){return DP(n)}bypassSecurityTrustStyle(n){return RP(n)}bypassSecurityTrustScript(n){return TP(n)}bypassSecurityTrustUrl(n){return AP(n)}bypassSecurityTrustResourceUrl(n){return OP(n)}};e.\u0275fac=function(r){return new(r||e)(G(ge))},e.\u0275prov=k({token:e,factory:function(r){let o=null;return r?o=new r:o=z5(G(gt)),o},providedIn:"root"});let i=e;return i})();var _n=function(i){return i.Doctor="Doctor",i.Cardiolog="Cardiolog",i.Patient="Patient",i}(_n||{}),rc=class{get isExpired(){return new Date>new Date(this.validUntil)}};var pt=class{static isLoggedIn(){return localStorage.getItem("Authorization")!==null}static setLoginToken(e){e==null&&(e=new rc),localStorage.setItem("Authorization",JSON.stringify(e))}static getLoginToken(){let e=localStorage.getItem("Authorization");if(e==null)return new rc;try{return JSON.parse(e)}catch{return new rc}}static clearLocalStorage(){localStorage.removeItem("Authorization")}};var ke="primary",Th=Symbol("RouteTitle"),C0=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function uc(i){return new C0(i)}function $5(i,e,t){let n=t.path.split("/");if(n.length>i.length||t.pathMatch==="full"&&(e.hasChildren()||n.length<i.length))return null;let r={};for(let o=0;o<n.length;o++){let s=n[o],a=i[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:i.slice(0,n.length),posParams:r}}function q5(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;++t)if(!Co(i[t],e[t]))return!1;return!0}function Co(i,e){let t=i?_0(i):void 0,n=e?_0(e):void 0;if(!t||!n||t.length!=n.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!kN(i[r],e[r]))return!1;return!0}function _0(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function kN(i,e){if(Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return!1;let t=[...i].sort(),n=[...e].sort();return t.every((r,o)=>n[o]===r)}else return i===e}function Js(i){return mg(i)?i:ll(i)?Ct(Promise.resolve(i)):le(i)}var K5={exact:GN,subset:HN},VN={exact:Y5,subset:Q5,ignored:()=>!0};function ON(i,e,t){return K5[t.paths](i.root,e.root,t.matrixParams)&&VN[t.queryParams](i.queryParams,e.queryParams)&&!(t.fragment==="exact"&&i.fragment!==e.fragment)}function Y5(i,e){return Co(i,e)}function GN(i,e,t){if(!fl(i.segments,e.segments)||!dm(i.segments,e.segments,t)||i.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!i.children[n]||!GN(i.children[n],e.children[n],t))return!1;return!0}function Q5(i,e){return Object.keys(e).length<=Object.keys(i).length&&Object.keys(e).every(t=>kN(i[t],e[t]))}function HN(i,e,t){return BN(i,e,e.segments,t)}function BN(i,e,t,n){if(i.segments.length>t.length){let r=i.segments.slice(0,t.length);return!(!fl(r,t)||e.hasChildren()||!dm(r,t,n))}else if(i.segments.length===t.length){if(!fl(i.segments,t)||!dm(i.segments,t,n))return!1;for(let r in e.children)if(!i.children[r]||!HN(i.children[r],e.children[r],n))return!1;return!0}else{let r=t.slice(0,i.segments.length),o=t.slice(i.segments.length);return!fl(i.segments,r)||!dm(i.segments,r,n)||!i.children[ke]?!1:BN(i.children[ke],e,o,n)}}function dm(i,e,t){return e.every((n,r)=>VN[t](i[r].parameters,n.parameters))}var Qs=class{constructor(e=new ft([],{}),t={},n=null){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap??=uc(this.queryParams),this._queryParamMap}toString(){return J5.serialize(this)}},ft=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hm(this)}},pl=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=uc(this.parameters),this._parameterMap}toString(){return UN(this)}};function Z5(i,e){return fl(i,e)&&i.every((t,n)=>Co(t.parameters,e[n].parameters))}function fl(i,e){return i.length!==e.length?!1:i.every((t,n)=>t.path===e[n].path)}function X5(i,e){let t=[];return Object.entries(i.children).forEach(([n,r])=>{n===ke&&(t=t.concat(e(r,n)))}),Object.entries(i.children).forEach(([n,r])=>{n!==ke&&(t=t.concat(e(r,n)))}),t}var Ah=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>new yh,providedIn:"root"});let i=e;return i})(),yh=class{parse(e){let t=new S0(e);return new Qs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${hh(e.root,!0)}`,n=n8(e.queryParams),r=typeof e.fragment=="string"?`#${e8(e.fragment)}`:"";return`${t}${n}${r}`}},J5=new yh;function hm(i){return i.segments.map(e=>UN(e)).join("/")}function hh(i,e){if(!i.hasChildren())return hm(i);if(e){let t=i.children[ke]?hh(i.children[ke],!1):"",n=[];return Object.entries(i.children).forEach(([r,o])=>{r!==ke&&n.push(`${r}:${hh(o,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}else{let t=X5(i,(n,r)=>r===ke?[hh(i.children[ke],!1)]:[`${r}:${hh(n,!1)}`]);return Object.keys(i.children).length===1&&i.children[ke]!=null?`${hm(i)}/${t[0]}`:`${hm(i)}/(${t.join("//")})`}}function jN(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function um(i){return jN(i).replace(/%3B/gi,";")}function e8(i){return encodeURI(i)}function w0(i){return jN(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pm(i){return decodeURIComponent(i)}function IN(i){return pm(i.replace(/\+/g,"%20"))}function UN(i){return`${w0(i.path)}${t8(i.parameters)}`}function t8(i){return Object.entries(i).map(([e,t])=>`;${w0(e)}=${w0(t)}`).join("")}function n8(i){let e=Object.entries(i).map(([t,n])=>Array.isArray(n)?n.map(r=>`${um(t)}=${um(r)}`).join("&"):`${um(t)}=${um(n)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var i8=/^[^\/()?;#]+/;function g0(i){let e=i.match(i8);return e?e[0]:""}var r8=/^[^\/()?;=#]+/;function o8(i){let e=i.match(r8);return e?e[0]:""}var s8=/^[^=?&#]+/;function a8(i){let e=i.match(s8);return e?e[0]:""}var l8=/^[^&#]+/;function u8(i){let e=i.match(l8);return e?e[0]:""}var S0=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ft([],{}):new ft([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[ke]=new ft(e,t)),n}parseSegment(){let e=g0(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new X(4009,!1);return this.capture(e),new pl(pm(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=o8(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){let r=g0(this.remaining);r&&(n=r,this.capture(n))}e[pm(t)]=pm(n)}parseQueryParam(e){let t=a8(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){let s=u8(this.remaining);s&&(n=s,this.capture(n))}let r=IN(t),o=IN(n);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=g0(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new X(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ke);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ke]:new ft([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new X(4011,!1)}};function WN(i){return i.segments.length>0?new ft([],{[ke]:i}):i}function zN(i){let e={};for(let[n,r]of Object.entries(i.children)){let o=zN(r);if(n===ke&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[n]=o)}let t=new ft(i.segments,e);return c8(t)}function c8(i){if(i.numberOfChildren===1&&i.children[ke]){let e=i.children[ke];return new ft(i.segments.concat(e.segments),e.children)}return i}function cc(i){return i instanceof Qs}function d8(i,e,t=null,n=null){let r=$N(i);return qN(r,e,t,n)}function $N(i){let e;function t(o){let s={};for(let l of o.children){let u=t(l);s[l.outlet]=u}let a=new ft(o.url,s);return o===i&&(e=a),a}let n=t(i.root),r=WN(n);return e??r}function qN(i,e,t,n){let r=i;for(;r.parent;)r=r.parent;if(e.length===0)return v0(r,r,r,t,n);let o=h8(e);if(o.toRoot())return v0(r,r,new ft([],{}),t,n);let s=p8(o,r,i),a=s.processChildren?gh(s.segmentGroup,s.index,o.commands):YN(s.segmentGroup,s.index,o.commands);return v0(r,s.segmentGroup,a,t,n)}function fm(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function Ch(i){return typeof i=="object"&&i!=null&&i.outlets}function v0(i,e,t,n,r){let o={};n&&Object.entries(n).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(c=>`${c}`):`${u}`});let s;i===e?s=t:s=KN(i,e,t);let a=WN(zN(s));return new Qs(a,o,r)}function KN(i,e,t){let n={};return Object.entries(i.children).forEach(([r,o])=>{o===e?n[r]=t:n[r]=KN(o,e,t)}),new ft(i.segments,n)}var gm=class{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&fm(n[0]))throw new X(4003,!1);let r=n.find(Ch);if(r&&r!==n.at(-1))throw new X(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function h8(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new gm(!0,0,i);let e=0,t=!1,n=i.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new gm(t,e,n)}var ac=class{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}};function p8(i,e,t){if(i.isAbsolute)return new ac(e,!0,0);if(!t)return new ac(e,!1,NaN);if(t.parent===null)return new ac(t,!0,0);let n=fm(i.commands[0])?0:1,r=t.segments.length-1+n;return f8(t,r,i.numberOfDoubleDots)}function f8(i,e,t){let n=i,r=e,o=t;for(;o>r;){if(o-=r,n=n.parent,!n)throw new X(4005,!1);r=n.segments.length}return new ac(n,!1,r-o)}function g8(i){return Ch(i[0])?i[0].outlets:{[ke]:i}}function YN(i,e,t){if(i??=new ft([],{}),i.segments.length===0&&i.hasChildren())return gh(i,e,t);let n=v8(i,e,t),r=t.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){let o=new ft(i.segments.slice(0,n.pathIndex),{});return o.children[ke]=new ft(i.segments.slice(n.pathIndex),i.children),gh(o,0,r)}else return n.match&&r.length===0?new ft(i.segments,{}):n.match&&!i.hasChildren()?E0(i,e,t):n.match?gh(i,0,r):E0(i,e,t)}function gh(i,e,t){if(t.length===0)return new ft(i.segments,{});{let n=g8(t),r={};if(Object.keys(n).some(o=>o!==ke)&&i.children[ke]&&i.numberOfChildren===1&&i.children[ke].segments.length===0){let o=gh(i.children[ke],e,t);return new ft(i.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=YN(i.children[o],e,s))}),Object.entries(i.children).forEach(([o,s])=>{n[o]===void 0&&(r[o]=s)}),new ft(i.segments,r)}}function v8(i,e,t){let n=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(n>=t.length)return o;let s=i.segments[r],a=t[n];if(Ch(a))break;let l=`${a}`,u=n<t.length-1?t[n+1]:null;if(r>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!xN(l,u,s))return o;n+=2}else{if(!xN(l,{},s))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function E0(i,e,t){let n=i.segments.slice(0,e),r=0;for(;r<t.length;){let o=t[r];if(Ch(o)){let l=m8(o.outlets);return new ft(n,l)}if(r===0&&fm(t[0])){let l=i.segments[e];n.push(new pl(l.path,MN(t[0]))),r++;continue}let s=Ch(o)?o.outlets[ke]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&fm(a)?(n.push(new pl(s,MN(a))),r+=2):(n.push(new pl(s,{})),r++)}return new ft(n,{})}function m8(i){let e={};return Object.entries(i).forEach(([t,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[t]=E0(new ft([],{}),0,n))}),e}function MN(i){let e={};return Object.entries(i).forEach(([t,n])=>e[t]=`${n}`),e}function xN(i,e,t){return i==t.path&&Co(e,t.parameters)}var vh="imperative",wn=function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i}(wn||{}),pr=class{constructor(e,t){this.id=e,this.url=t}},dc=class extends pr{constructor(e,t,n="imperative",r=null){super(e,t),this.type=wn.NavigationStart,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},_o=class extends pr{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n,this.type=wn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},hr=function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i}(hr||{}),vm=function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i}(vm||{}),Zs=class extends pr{constructor(e,t,n,r){super(e,t),this.reason=n,this.code=r,this.type=wn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Xs=class extends pr{constructor(e,t,n,r){super(e,t),this.reason=n,this.code=r,this.type=wn.NavigationSkipped}},_h=class extends pr{constructor(e,t,n,r){super(e,t),this.error=n,this.target=r,this.type=wn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},mm=class extends pr{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r,this.type=wn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},b0=class extends pr{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r,this.type=wn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},D0=class extends pr{constructor(e,t,n,r,o){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o,this.type=wn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},R0=class extends pr{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r,this.type=wn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},T0=class extends pr{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r,this.type=wn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},A0=class{constructor(e){this.route=e,this.type=wn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},O0=class{constructor(e){this.route=e,this.type=wn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},I0=class{constructor(e){this.snapshot=e,this.type=wn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},M0=class{constructor(e){this.snapshot=e,this.type=wn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},x0=class{constructor(e){this.snapshot=e,this.type=wn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},P0=class{constructor(e){this.snapshot=e,this.type=wn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ym=class{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n,this.type=wn.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},wh=class{},Sh=class{constructor(e){this.url=e}};var F0=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Oh,this.attachRef=null}},Oh=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new F0,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Cm=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=N0(e,this._root);return t?t.children.map(n=>n.value):[]}firstChild(e){let t=N0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=L0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return L0(e,this._root).map(t=>t.value)}};function N0(i,e){if(i===e.value)return e;for(let t of e.children){let n=N0(i,t);if(n)return n}return null}function L0(i,e){if(i===e.value)return[e];for(let t of e.children){let n=L0(i,t);if(n.length)return n.unshift(e),n}return[]}var ki=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function sc(i){let e={};return i&&i.children.forEach(t=>e[t.value.outlet]=t),e}var _m=class extends Cm{constructor(e,t){super(e),this.snapshot=t,$0(this,e)}toString(){return this.snapshot.toString()}};function QN(i){let e=y8(i),t=new mn([new pl("",{})]),n=new mn({}),r=new mn({}),o=new mn({}),s=new mn(""),a=new ui(t,n,o,s,r,ke,i,e.root);return a.snapshot=e.root,new _m(new ki(a,[]),e)}function y8(i){let e={},t={},n={},r="",o=new Eh([],e,n,r,t,ke,i,null,{});return new wm("",new ki(o,[]))}var ui=class{constructor(e,t,n,r,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(_e(u=>u[Th]))??le(void 0),this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(_e(e=>uc(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(_e(e=>uc(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function z0(i,e,t="emptyOnly"){let n,{routeConfig:r}=i;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:z(z({},e.params),i.params),data:z(z({},e.data),i.data),resolve:z(z(z(z({},i.data),e.data),r?.data),i._resolvedData)}:n={params:z({},i.params),data:z({},i.data),resolve:z(z({},i.data),i._resolvedData??{})},r&&XN(r)&&(n.resolve[Th]=r.title),n}var Eh=class{get title(){return this.data?.[Th]}constructor(e,t,n,r,o,s,a,l,u){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=uc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=uc(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},wm=class extends Cm{constructor(e,t){super(t),this.url=e,$0(this,t)}toString(){return ZN(this._root)}};function $0(i,e){e.value._routerState=i,e.children.forEach(t=>$0(i,t))}function ZN(i){let e=i.children.length>0?` { ${i.children.map(ZN).join(", ")} } `:"";return`${i.value}${e}`}function m0(i){if(i.snapshot){let e=i.snapshot,t=i._futureSnapshot;i.snapshot=t,Co(e.queryParams,t.queryParams)||i.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&i.fragmentSubject.next(t.fragment),Co(e.params,t.params)||i.paramsSubject.next(t.params),q5(e.url,t.url)||i.urlSubject.next(t.url),Co(e.data,t.data)||i.dataSubject.next(t.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function k0(i,e){let t=Co(i.params,e.params)&&Z5(i.url,e.url),n=!i.parent!=!e.parent;return t&&!n&&(!i.parent||k0(i.parent,e.parent))}function XN(i){return typeof i.title=="string"||i.title===null}var q0=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ke,this.activateEvents=new V,this.deactivateEvents=new V,this.attachEvents=new V,this.detachEvents=new V,this.parentContexts=F(Oh),this.location=F(Mn),this.changeDetector=F(jn),this.environmentInjector=F(Cn),this.inputBinder=F(Dm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new X(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new X(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new X(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new X(4013,!1);this._activatedRoute=n;let o=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,u=new V0(n,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ze({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Vt]});let i=e;return i})(),V0=class{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===ui?this.route:e===Oh?this.childContexts:this.parent.get(e,t)}},Dm=new ie(""),PN=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,o=Pu([r.queryParams,r.params,r.data]).pipe(An(([s,a,l],u)=>(l=z(z(z({},s),a),l),u===0?le(l):Promise.resolve(l)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let a=$F(r.component);if(!a){this.unsubscribeFromRouteData(n);return}for(let{templateName:l}of a.inputs)n.activatedComponentRef.setInput(l,s[l])});this.outletDataSubscriptions.set(n,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac});let i=e;return i})();function C8(i,e,t){let n=bh(i,e._root,t?t._root:void 0);return new _m(n,e)}function bh(i,e,t){if(t&&i.shouldReuseRoute(e.value,t.value.snapshot)){let n=t.value;n._futureSnapshot=e.value;let r=_8(i,e,t);return new ki(n,r)}else{if(i.shouldAttach(e.value)){let o=i.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>bh(i,a)),s}}let n=w8(e.value),r=e.children.map(o=>bh(i,o));return new ki(n,r)}}function _8(i,e,t){return e.children.map(n=>{for(let r of t.children)if(i.shouldReuseRoute(n.value,r.value.snapshot))return bh(i,n,r);return bh(i,n)})}function w8(i){return new ui(new mn(i.url),new mn(i.params),new mn(i.queryParams),new mn(i.fragment),new mn(i.data),i.outlet,i.component,i)}var JN="ngNavigationCancelingError";function e1(i,e){let{redirectTo:t,navigationBehaviorOptions:n}=cc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=t1(!1,hr.Redirect,e);return r.url=t,r.navigationBehaviorOptions=n,r}function t1(i,e,t){let n=new Error("NavigationCancelingError: "+(i||""));return n[JN]=!0,n.cancellationCode=e,t&&(n.url=t),n}function S8(i){return n1(i)&&cc(i.url)}function n1(i){return i&&i[JN]}var E8=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ce({type:e,selectors:[["ng-component"]],standalone:!0,features:[ye],decls:1,vars:0,template:function(r,o){r&1&&ne(0,"router-outlet")},dependencies:[q0],encapsulation:2});let i=e;return i})();function b8(i,e){return i.providers&&!i._injector&&(i._injector=Fv(i.providers,e,`Route: ${i.path}`)),i._injector??e}function K0(i){let e=i.children&&i.children.map(K0),t=e?Ue(z({},i),{children:e}):z({},i);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ke&&(t.component=E8),t}function wo(i){return i.outlet||ke}function D8(i,e){let t=i.filter(n=>wo(n)===e);return t.push(...i.filter(n=>wo(n)!==e)),t}function Ih(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let e=i.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var R8=(i,e,t,n)=>_e(r=>(new G0(e,r.targetRouterState,r.currentRouterState,t,n).activate(i),r)),G0=class{constructor(e,t,n,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),m0(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){let r=sc(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],n),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(e,t,n){let r=e.value,o=t?t.value:null;if(r===o)if(r.component){let s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,n);else o&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,o=sc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(n&&n.outlet){let s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,o=sc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,t,n){let r=sc(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new P0(o.value.snapshot))}),e.children.length&&this.forwardEvent(new M0(e.value.snapshot))}activateRoutes(e,t,n){let r=e.value,o=t?t.value:null;if(m0(r),r===o)if(r.component){let s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,n);else if(r.component){let s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),m0(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Ih(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,n)}},Sm=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},lc=class{constructor(e,t){this.component=e,this.route=t}};function T8(i,e,t){let n=i._root,r=e?e._root:null;return ph(n,r,t,[n.value])}function A8(i){let e=i.routeConfig?i.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:i,guards:e}}function pc(i,e){let t=Symbol(),n=e.get(i,t);return n===t?typeof i=="function"&&!XM(i)?i:e.get(i):n}function ph(i,e,t,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=sc(e);return i.children.forEach(s=>{O8(s,o[s.value.outlet],t,n.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>mh(a,t.getContext(s),r)),r}function O8(i,e,t,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=i.value,s=e?e.value:null,a=t?t.getContext(i.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=I8(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Sm(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ph(i,e,a?a.children:null,n,r):ph(i,e,t,n,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new lc(a.outlet.component,s))}else s&&mh(e,a,r),r.canActivateChecks.push(new Sm(n)),o.component?ph(i,null,a?a.children:null,n,r):ph(i,null,t,n,r);return r}function I8(i,e,t){if(typeof t=="function")return t(i,e);switch(t){case"pathParamsChange":return!fl(i.url,e.url);case"pathParamsOrQueryParamsChange":return!fl(i.url,e.url)||!Co(i.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!k0(i,e)||!Co(i.queryParams,e.queryParams);case"paramsChange":default:return!k0(i,e)}}function mh(i,e,t){let n=sc(i),r=i.value;Object.entries(n).forEach(([o,s])=>{r.component?e?mh(s,e.children.getContext(o),t):mh(s,null,t):mh(s,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new lc(e.outlet.component,r)):t.canDeactivateChecks.push(new lc(null,r)):t.canDeactivateChecks.push(new lc(null,r))}function Mh(i){return typeof i=="function"}function M8(i){return typeof i=="boolean"}function x8(i){return i&&Mh(i.canLoad)}function P8(i){return i&&Mh(i.canActivate)}function F8(i){return i&&Mh(i.canActivateChild)}function N8(i){return i&&Mh(i.canDeactivate)}function L8(i){return i&&Mh(i.canMatch)}function i1(i){return i instanceof $o||i?.name==="EmptyError"}var cm=Symbol("INITIAL_VALUE");function hc(){return An(i=>Pu(i.map(e=>e.pipe(Tt(1),Dd(cm)))).pipe(_e(e=>{for(let t of e)if(t!==!0){if(t===cm)return cm;if(t===!1||t instanceof Qs)return t}return!0}),nt(e=>e!==cm),Tt(1)))}function k8(i,e){return Rt(t=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?le(Ue(z({},t),{guardsResult:!0})):V8(s,n,r,i).pipe(Rt(a=>a&&M8(a)?G8(n,o,i,e):le(a)),_e(a=>Ue(z({},t),{guardsResult:a})))})}function V8(i,e,t,n){return Ct(i).pipe(Rt(r=>W8(r.component,r.route,t,e,n)),ro(r=>r!==!0,!0))}function G8(i,e,t,n){return Ct(e).pipe(qo(r=>io(B8(r.route.parent,n),H8(r.route,n),U8(i,r.path,t),j8(i,r.route,t))),ro(r=>r!==!0,!0))}function H8(i,e){return i!==null&&e&&e(new x0(i)),le(!0)}function B8(i,e){return i!==null&&e&&e(new I0(i)),le(!0)}function j8(i,e,t){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return le(!0);let r=n.map(o=>_g(()=>{let s=Ih(e)??t,a=pc(o,s),l=P8(a)?a.canActivate(e,i):vo(s,()=>a(e,i));return Js(l).pipe(ro())}));return le(r).pipe(hc())}function U8(i,e,t){let n=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>A8(s)).filter(s=>s!==null).map(s=>_g(()=>{let a=s.guards.map(l=>{let u=Ih(s.node)??t,c=pc(l,u),d=F8(c)?c.canActivateChild(n,i):vo(u,()=>c(n,i));return Js(d).pipe(ro())});return le(a).pipe(hc())}));return le(o).pipe(hc())}function W8(i,e,t,n,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return le(!0);let s=o.map(a=>{let l=Ih(e)??r,u=pc(a,l),c=N8(u)?u.canDeactivate(i,e,t,n):vo(l,()=>u(i,e,t,n));return Js(c).pipe(ro())});return le(s).pipe(hc())}function z8(i,e,t,n){let r=e.canLoad;if(r===void 0||r.length===0)return le(!0);let o=r.map(s=>{let a=pc(s,i),l=x8(a)?a.canLoad(e,t):vo(i,()=>a(e,t));return Js(l)});return le(o).pipe(hc(),r1(n))}function r1(i){return X_(Pt(e=>{if(cc(e))throw e1(i,e)}),_e(e=>e===!0))}function $8(i,e,t,n){let r=e.canMatch;if(!r||r.length===0)return le(!0);let o=r.map(s=>{let a=pc(s,i),l=L8(a)?a.canMatch(e,t):vo(i,()=>a(e,t));return Js(l)});return le(o).pipe(hc(),r1(n))}var Dh=class{constructor(e){this.segmentGroup=e||null}},Em=class extends Error{constructor(e){super(),this.urlTree=e}};function oc(i){return Mu(new Dh(i))}function q8(i){return Mu(new X(4e3,!1))}function K8(i){return Mu(t1(!1,hr.GuardRejected))}var H0=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return le(n);if(r.numberOfChildren>1||!r.children[ke])return q8(e.redirectTo);r=r.children[ke]}}applyRedirectCommands(e,t,n){let r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,n);if(t.startsWith("/"))throw new Em(r);return r}applyRedirectCreateUrlTree(e,t,n,r){let o=this.createSegmentGroup(e,t.root,n,r);return new Qs(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let n={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);n[r]=t[a]}else n[r]=o}),n}createSegmentGroup(e,t,n,r){let o=this.createSegments(e,t.segments,n,r),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,n,r)}),new ft(o,s)}createSegments(e,t,n,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,n))}findPosParam(e,t,n){let r=n[t.path.substring(1)];if(!r)throw new X(4001,!1);return r}findOrReturn(e,t){let n=0;for(let r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}},B0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Y8(i,e,t,n,r){let o=Y0(i,e,t);return o.matched?(n=b8(e,n),$8(n,e,t,r).pipe(_e(s=>s===!0?o:z({},B0)))):le(o)}function Y0(i,e,t){if(e.path==="**")return Q8(t);if(e.path==="")return e.pathMatch==="full"&&(i.hasChildren()||t.length>0)?z({},B0):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||$5)(t,i,e);if(!r)return z({},B0);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?z(z({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function Q8(i){return{matched:!0,parameters:i.at(-1)?.parameters??{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function FN(i,e,t,n){return t.length>0&&J8(i,t,n)?{segmentGroup:new ft(e,X8(n,new ft(t,i.children))),slicedSegments:[]}:t.length===0&&eK(i,t,n)?{segmentGroup:new ft(i.segments,Z8(i,t,n,i.children)),slicedSegments:t}:{segmentGroup:new ft(i.segments,i.children),slicedSegments:t}}function Z8(i,e,t,n){let r={};for(let o of t)if(Rm(i,e,o)&&!n[wo(o)]){let s=new ft([],{});r[wo(o)]=s}return z(z({},n),r)}function X8(i,e){let t={};t[ke]=e;for(let n of i)if(n.path===""&&wo(n)!==ke){let r=new ft([],{});t[wo(n)]=r}return t}function J8(i,e,t){return t.some(n=>Rm(i,e,n)&&wo(n)!==ke)}function eK(i,e,t){return t.some(n=>Rm(i,e,n))}function Rm(i,e,t){return(i.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function tK(i,e,t,n){return wo(i)!==n&&(n===ke||!Rm(e,t,i))?!1:Y0(e,i,t).matched}function nK(i,e,t){return e.length===0&&!i.children[t]}var j0=class{};function iK(i,e,t,n,r,o,s="emptyOnly"){return new U0(i,e,t,n,r,s,o).recognize()}var rK=31,U0=class{constructor(e,t,n,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=n,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new H0(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new X(4002,`'${e.segmentGroup}'`)}recognize(){let e=FN(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(_e(t=>{let n=new Eh([],Object.freeze({}),Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,{},ke,this.rootComponentType,null,{}),r=new ki(n,t),o=new wm("",r),s=d8(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ke).pipe(xs(n=>{if(n instanceof Em)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Dh?this.noMatchError(n):n}))}inheritParamsAndData(e,t){let n=e.value,r=z0(n,t,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,n))}processSegmentGroup(e,t,n,r){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,t,n):this.processSegment(e,t,n,n.segments,r,!0).pipe(_e(o=>o instanceof ki?[o]:[]))}processChildren(e,t,n){let r=[];for(let o of Object.keys(n.children))o==="primary"?r.unshift(o):r.push(o);return Ct(r).pipe(qo(o=>{let s=n.children[o],a=D8(t,o);return this.processSegmentGroup(e,a,s,o)}),uw((o,s)=>(o.push(...s),o)),Ps(null),lw(),Rt(o=>{if(o===null)return oc(n);let s=o1(o);return oK(s),le(s)}))}processSegment(e,t,n,r,o,s){return Ct(t).pipe(qo(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,n,r,o,s).pipe(xs(l=>{if(l instanceof Dh)return le(null);throw l}))),ro(a=>!!a),xs(a=>{if(i1(a))return nK(n,r,o)?le(new j0):oc(n);throw a}))}processSegmentAgainstRoute(e,t,n,r,o,s,a){return tK(n,r,o,s)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,n,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,n,o,s):oc(r):oc(r)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,o,s){let{matched:a,consumedSegments:l,positionalParamSegments:u,remainingSegments:c}=Y0(t,r,o);if(!a)return oc(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>rK&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,u);return this.applyRedirects.lineralizeSegments(r,d).pipe(Rt(h=>this.processSegment(e,n,t,h.concat(c),s,!1)))}matchSegmentAgainstRoute(e,t,n,r,o){let s=Y8(t,n,r,e,this.urlSerializer);return n.path==="**"&&(t.children={}),s.pipe(An(a=>a.matched?(e=n._injector??e,this.getChildConfig(e,n,r).pipe(An(({routes:l})=>{let u=n._loadedInjector??e,{consumedSegments:c,remainingSegments:d,parameters:h}=a,p=new Eh(c,h,Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,aK(n),wo(n),n.component??n._loadedComponent??null,n,lK(n)),{segmentGroup:f,slicedSegments:g}=FN(t,c,d,l);if(g.length===0&&f.hasChildren())return this.processChildren(u,l,f).pipe(_e(m=>m===null?null:new ki(p,m)));if(l.length===0&&g.length===0)return le(new ki(p,[]));let v=wo(n)===o;return this.processSegment(u,l,f,g,v?ke:o,!0).pipe(_e(m=>new ki(p,m instanceof ki?[m]:[])))}))):oc(t)))}getChildConfig(e,t,n){return t.children?le({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?le({routes:t._loadedRoutes,injector:t._loadedInjector}):z8(e,t,n,this.urlSerializer).pipe(Rt(r=>r?this.configLoader.loadChildren(e,t).pipe(Pt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):K8(t))):le({routes:[],injector:e})}};function oK(i){i.sort((e,t)=>e.value.outlet===ke?-1:t.value.outlet===ke?1:e.value.outlet.localeCompare(t.value.outlet))}function sK(i){let e=i.value.routeConfig;return e&&e.path===""}function o1(i){let e=[],t=new Set;for(let n of i){if(!sK(n)){e.push(n);continue}let r=e.find(o=>n.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...n.children),t.add(r)):e.push(n)}for(let n of t){let r=o1(n.children);e.push(new ki(n.value,r))}return e.filter(n=>!t.has(n))}function aK(i){return i.data||{}}function lK(i){return i.resolve||{}}function uK(i,e,t,n,r,o){return Rt(s=>iK(i,e,t,n,s.extractedUrl,r,o).pipe(_e(({state:a,tree:l})=>Ue(z({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function cK(i,e){return Rt(t=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=t;if(!r.length)return le(t);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let u of s1(l))s.add(u);let a=0;return Ct(s).pipe(qo(l=>o.has(l)?dK(l,n,i,e):(l.data=z0(l,l.parent,i).resolve,le(void 0))),Pt(()=>a++),Fu(1),Rt(l=>a===s.size?le(t):yn))})}function s1(i){let e=i.children.map(t=>s1(t)).flat();return[i,...e]}function dK(i,e,t,n){let r=i.routeConfig,o=i._resolve;return r?.title!==void 0&&!XN(r)&&(o[Th]=r.title),hK(o,i,e,n).pipe(_e(s=>(i._resolvedData=s,i.data=z0(i,i.parent,t).resolve,null)))}function hK(i,e,t,n){let r=_0(i);if(r.length===0)return le({});let o={};return Ct(r).pipe(Rt(s=>pK(i[s],e,t,n).pipe(ro(),Pt(a=>{o[s]=a}))),Fu(1),bd(o),xs(s=>i1(s)?yn:Mu(s)))}function pK(i,e,t,n){let r=Ih(e)??n,o=pc(i,r),s=o.resolve?o.resolve(e,t):vo(r,()=>o(e,t));return Js(s)}function y0(i){return An(e=>{let t=i(e);return t?Ct(t).pipe(_e(()=>e)):le(e)})}var a1=(()=>{let e=class e{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===ke);return r}getResolvedTitleForRoute(n){return n.data[Th]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>F(fK),providedIn:"root"});let i=e;return i})(),fK=(()=>{let e=class e extends a1{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(G(p0))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),xh=new ie("",{providedIn:"root",factory:()=>({})}),Rh=new ie("ROUTES"),Q0=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=F(kv)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return le(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Js(n.loadComponent()).pipe(_e(l1),Pt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Ko(()=>{this.componentLoaders.delete(n)})),o=new Au(r,()=>new me).pipe(Tu());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return le({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=gK(r,this.compiler,n,this.onLoadEndListener).pipe(Ko(()=>{this.childrenLoaders.delete(r)})),a=new Au(s,()=>new me).pipe(Tu());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function gK(i,e,t,n){return Js(i.loadChildren()).pipe(_e(l1),Rt(r=>r instanceof Wd||Array.isArray(r)?le(r):Ct(e.compileModuleAsync(r))),_e(r=>{n&&n(i);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(t).injector,s=o.get(Rh,[],{optional:!0,self:!0}).flat()),{routes:s.map(K0),injector:o}}))}function vK(i){return i&&typeof i=="object"&&"default"in i}function l1(i){return vK(i)?i.default:i}var Z0=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>F(mK),providedIn:"root"});let i=e;return i})(),mK=(()=>{let e=class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),u1=new ie(""),c1=new ie("");function yK(i,e,t){let n=i.get(c1),r=i.get(ge);return i.get(fe).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,Promise.resolve();let o,s=new Promise(u=>{o=u}),a=r.startViewTransition(()=>(o(),CK(i))),{onViewTransitionCreated:l}=n;return l&&vo(i,()=>l({transition:a,from:e,to:t})),s})}function CK(i){return new Promise(e=>{ME(e,{injector:i})})}var X0=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new me,this.transitionAbortSubject=new me,this.configLoader=F(Q0),this.environmentInjector=F(Cn),this.urlSerializer=F(Ah),this.rootContexts=F(Oh),this.location=F($s),this.inputBindingEnabled=F(Dm,{optional:!0})!==null,this.titleStrategy=F(a1),this.options=F(xh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=F(Z0),this.createViewTransition=F(u1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>le(void 0),this.rootComponentType=null;let n=o=>this.events.next(new A0(o)),r=o=>this.events.next(new O0(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(Ue(z(z({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,o){return this.transitions=new mn({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:vh,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(nt(s=>s.id!==0),_e(s=>Ue(z({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),An(s=>{this.currentTransition=s;let a=!1,l=!1;return le(s).pipe(Pt(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Ue(z({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),An(u=>{let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&d!=="reload"){let h="";return this.events.next(new Xs(u.id,this.urlSerializer.serialize(u.rawUrl),h,vm.IgnoredSameUrlNavigation)),u.resolve(null),yn}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return le(u).pipe(An(h=>{let p=this.transitions?.getValue();return this.events.next(new dc(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?yn:Promise.resolve(h)}),uK(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Pt(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=Ue(z({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let p=new mm(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:p,source:f,restoredState:g,extras:v}=u,m=new dc(h,this.urlSerializer.serialize(p),f,g);this.events.next(m);let _=QN(this.rootComponentType).snapshot;return this.currentTransition=s=Ue(z({},u),{targetSnapshot:_,urlAfterRedirects:p,extras:Ue(z({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,le(s)}else{let h="";return this.events.next(new Xs(u.id,this.urlSerializer.serialize(u.extractedUrl),h,vm.IgnoredByUrlHandlingStrategy)),u.resolve(null),yn}}),Pt(u=>{let c=new b0(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),_e(u=>(this.currentTransition=s=Ue(z({},u),{guards:T8(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),k8(this.environmentInjector,u=>this.events.next(u)),Pt(u=>{if(s.guardsResult=u.guardsResult,cc(u.guardsResult))throw e1(this.urlSerializer,u.guardsResult);let c=new D0(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),nt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",hr.GuardRejected),!1)),y0(u=>{if(u.guards.canActivateChecks.length)return le(u).pipe(Pt(c=>{let d=new R0(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),An(c=>{let d=!1;return le(c).pipe(cK(this.paramsInheritanceStrategy,this.environmentInjector),Pt({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(c,"",hr.NoDataFromResolver)}}))}),Pt(c=>{let d=new T0(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}))}),y0(u=>{let c=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Pt(p=>{d.component=p}),_e(()=>{})));for(let p of d.children)h.push(...c(p));return h};return Pu(c(u.targetSnapshot.root)).pipe(Ps(null),Tt(1))}),y0(()=>this.afterPreactivation()),An(()=>{let{currentSnapshot:u,targetSnapshot:c}=s,d=this.createViewTransition?.(this.environmentInjector,u.root,c.root);return d?Ct(d).pipe(_e(()=>s)):le(s)}),_e(u=>{let c=C8(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=Ue(z({},u),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,s}),Pt(()=>{this.events.next(new wh)}),R8(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Tt(1),Pt({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _o(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),_t(this.transitionAbortSubject.pipe(Pt(u=>{throw u}))),Ko(()=>{!a&&!l&&this.cancelNavigationTransition(s,"",hr.SupersededByNewNavigation),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),xs(u=>{if(l=!0,n1(u))this.events.next(new Zs(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),S8(u)?this.events.next(new Sh(u.url)):s.resolve(!1);else{this.events.next(new _h(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(u))}catch(c){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(c)}}return yn}))}))}cancelNavigationTransition(n,r,o){let s=new Zs(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function _K(i){return i!==vh}var wK=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>F(SK),providedIn:"root"});let i=e;return i})(),W0=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},SK=(()=>{let e=class e extends W0{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=nn(e)))(o||e)}})(),e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),d1=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>F(EK),providedIn:"root"});let i=e;return i})(),EK=(()=>{let e=class e extends d1{constructor(){super(...arguments),this.location=F($s),this.urlSerializer=F(Ah),this.options=F(xh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=F(Z0),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Qs,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=QN(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof dc)this.stateMemento=this.createStateMemento();else if(n instanceof Xs)this.rawUrlTree=r.initialUrl;else if(n instanceof mm){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else n instanceof wh?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof Zs&&(n.code===hr.GuardRejected||n.code===hr.NoDataFromResolver)?this.restoreHistory(r):n instanceof _h?this.restoreHistory(r,!0):n instanceof _o&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,a=z(z({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",a)}else{let s=z(z({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=nn(e)))(o||e)}})(),e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),fh=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(fh||{});function h1(i,e){i.events.pipe(nt(t=>t instanceof _o||t instanceof Zs||t instanceof _h||t instanceof Xs),_e(t=>t instanceof _o||t instanceof Xs?fh.COMPLETE:(t instanceof Zs?t.code===hr.Redirect||t.code===hr.SupersededByNewNavigation:!1)?fh.REDIRECTING:fh.FAILED),nt(t=>t!==fh.REDIRECTING),Tt(1)).subscribe(()=>{e()})}function bK(i){throw i}var DK={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},RK={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},St=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=F(Lv),this.stateManager=F(d1),this.options=F(xh,{optional:!0})||{},this.pendingTasks=F(cl),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=F(X0),this.urlSerializer=F(Ah),this.location=F($s),this.urlHandlingStrategy=F(Z0),this._events=new me,this.errorHandler=this.options.errorHandler||bK,this.navigated=!1,this.routeReuseStrategy=F(wK),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=F(Rh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!F(Dm,{optional:!0}),this.eventsSubscription=new Dt,this.isNgZoneEnabled=F(fe)instanceof fe&&fe.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Zs&&r.code!==hr.Redirect&&r.code!==hr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof _o)this.navigated=!0;else if(r instanceof Sh){let a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||_K(o.source)};this.scheduleNavigation(a,vh,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}AK(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),vh,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let u=z({},o);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let l=this.parseUrl(n);this.scheduleNavigation(l,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(K0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:a,d=null;switch(l){case"merge":d=z(z({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let p=o?o.snapshot:this.routerState.snapshot.root;h=$N(p)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),h=this.currentUrlTree.root}return qN(h,n,d,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=cc(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,vh,null,r)}navigate(n,r={skipLocationChange:!1}){return TK(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=z({},DK):r===!1?o=z({},RK):o=r,cc(n))return ON(this.currentUrlTree,n,o);let s=this.parseUrl(n);return ON(this.currentUrlTree,s,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(n,r,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,u,c;a?(l=a.resolve,u=a.reject,c=a.promise):c=new Promise((h,p)=>{l=h,u=p});let d=this.pendingTasks.add();return h1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:l,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function TK(i){for(let e=0;e<i.length;e++)if(i[e]==null)throw new X(4008,!1)}function AK(i){return!(i instanceof wh)&&!(i instanceof Sh)}var p1=(()=>{let e=class e{constructor(n,r,o,s,a,l){this.router=n,this.route=r,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new me,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof _o&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n!=null?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,o,s,a){if(this.urlTree===null||this.isAnchorElement&&(n!==0||r||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(this.urlTree,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=this.urlTree!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;let n=this.href===null?null:NP(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){let o=this.renderer,s=this.el.nativeElement;r!==null?o.setAttribute(s,n,r):o.removeAttribute(s,n)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(P(St),P(ui),gv("tabindex"),P(xi),P(Ge),P(Ur))},e.\u0275dir=Ze({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&Q("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&ti("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Ft.HasDecoratorInputTransform,"preserveFragment","preserveFragment",mo],skipLocationChange:[Ft.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",mo],replaceUrl:[Ft.HasDecoratorInputTransform,"replaceUrl","replaceUrl",mo],routerLink:"routerLink"},standalone:!0,features:[ec,Vt]});let i=e;return i})();var bm=class{};var OK=(()=>{let e=class e{constructor(n,r,o,s,a){this.router=n,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(nt(n=>n instanceof _o),qo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let o=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Fv(s.providers,n,`Route: ${s.path}`));let a=s._injector??n,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(l,s.children??s._loadedRoutes))}return Ct(o).pipe(Ms())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(n,r):o=le(null);let s=o.pipe(Rt(a=>a===null?le(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return Ct([s,a]).pipe(Ms())}else return s})}};e.\u0275fac=function(r){return new(r||e)(G(St),G(kv),G(Cn),G(bm),G(Q0))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),f1=new ie(""),IK=(()=>{let e=class e{constructor(n,r,o,s,a={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof dc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof _o?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Xs&&n.code===vm.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ym&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ym(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){WP()},e.\u0275prov=k({token:e,factory:e.\u0275fac});let i=e;return i})();function g1(i,...e){return Hs([{provide:Rh,multi:!0,useValue:i},[],{provide:ui,useFactory:v1,deps:[St]},{provide:ih,multi:!0,useFactory:m1},e.map(t=>t.\u0275providers)])}function v1(i){return i.routerState.root}function Ph(i,e){return{\u0275kind:i,\u0275providers:e}}function m1(){let i=F(gt);return e=>{let t=i.get(Un);if(e!==t.components[0])return;let n=i.get(St),r=i.get(y1);i.get(J0)===1&&n.initialNavigation(),i.get(C1,null,We.Optional)?.setUpPreloading(),i.get(f1,null,We.Optional)?.init(),n.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var y1=new ie("",{factory:()=>new me}),J0=new ie("",{providedIn:"root",factory:()=>1});function MK(){return Ph(2,[{provide:J0,useValue:0},{provide:Vv,multi:!0,deps:[gt],useFactory:e=>{let t=e.get(eN,Promise.resolve());return()=>t.then(()=>new Promise(n=>{let r=e.get(St),o=e.get(y1);h1(r,()=>{n(!0)}),e.get(X0).afterPreactivation=()=>(n(!0),o.closed?le(void 0):o),r.initialNavigation()}))}}])}function xK(){return Ph(3,[{provide:Vv,multi:!0,useFactory:()=>{let e=F(St);return()=>{e.setUpLocationChangeListener()}}},{provide:J0,useValue:2}])}var C1=new ie("");function PK(i){return Ph(0,[{provide:C1,useExisting:OK},{provide:bm,useExisting:i}])}function FK(){return Ph(8,[PN,{provide:Dm,useExisting:PN}])}function NK(i){let e=[{provide:u1,useValue:yK},{provide:c1,useValue:z({skipNextTransition:!!i?.skipInitialTransition},i)}];return Ph(9,e)}var NN=new ie("ROUTER_FORROOT_GUARD"),LK=[$s,{provide:Ah,useClass:yh},St,Oh,{provide:ui,useFactory:v1,deps:[St]},Q0,[]],eb=(()=>{let e=class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[LK,[],{provide:Rh,multi:!0,useValue:n},{provide:NN,useFactory:HK,deps:[[St,new Kd,new vv]]},{provide:xh,useValue:r||{}},r?.useHash?VK():GK(),kK(),r?.preloadingStrategy?PK(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?BK(r):[],r?.bindToComponentInputs?FK().\u0275providers:[],r?.enableViewTransitions?NK().\u0275providers:[],jK()]}}static forChild(n){return{ngModule:e,providers:[{provide:Rh,multi:!0,useValue:n}]}}};e.\u0275fac=function(r){return new(r||e)(G(NN,8))},e.\u0275mod=Re({type:e}),e.\u0275inj=De({});let i=e;return i})();function kK(){return{provide:f1,useFactory:()=>{let i=F(aN),e=F(fe),t=F(xh),n=F(X0),r=F(Ah);return t.scrollOffset&&i.setOffset(t.scrollOffset),new IK(r,n,i,e,t)}}}function VK(){return{provide:Ur,useClass:Yv}}function GK(){return{provide:Ur,useClass:YE}}function HK(i){return"guarded"}function BK(i){return[i.initialNavigation==="disabled"?xK().\u0275providers:[],i.initialNavigation==="enabledBlocking"?MK().\u0275providers:[]]}var LN=new ie("");function jK(){return[{provide:LN,useFactory:m1},{provide:ih,multi:!0,useExisting:LN}]}var Tm=class{constructor(){this.username="malaya.bradley@edu.fit.ba",this.password="1234"}};var _1={BACKEND_URL:"https://fromheartywebapp.azurewebsites.net"};var Am=class Am{};Am.serverAddress=_1.BACKEND_URL,Am.httpOptions=function(){let e=pt.getLoginToken(),t="";return e!=null&&(t=e.id),{headers:{Authorization:t}}};var vt=Am;var I1=(()=>{let e=class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};e.\u0275fac=function(r){return new(r||e)(P(xi),P(Ge))},e.\u0275dir=Ze({type:e});let i=e;return i})(),nb=(()=>{let e=class e extends I1{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=nn(e)))(o||e)}})(),e.\u0275dir=Ze({type:e,features:[ei]});let i=e;return i})(),ea=new ie("NgValueAccessor");var UK={provide:ea,useExisting:ai(()=>vc),multi:!0};function WK(){let i=as()?as().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var zK=new ie("CompositionEventMode"),vc=(()=>{let e=class e extends I1{constructor(n,r,o){super(n,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!WK())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};e.\u0275fac=function(r){return new(r||e)(P(xi),P(Ge),P(zK,8))},e.\u0275dir=Ze({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&Q("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Bt([UK]),ei]});let i=e;return i})();function $K(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}var Vh=new ie("NgValidators"),M1=new ie("NgAsyncValidators");function qK(i){return $K(i.value)?{required:!0}:null}function w1(i){return null}function x1(i){return i!=null}function P1(i){return ll(i)?Ct(i):i}function F1(i){let e={};return i.forEach(t=>{e=t!=null?z(z({},e),t):e}),Object.keys(e).length===0?null:e}function N1(i,e){return e.map(t=>t(i))}function KK(i){return!i.validate}function L1(i){return i.map(e=>KK(e)?e:t=>e.validate(t))}function YK(i){if(!i)return null;let e=i.filter(x1);return e.length==0?null:function(t){return F1(N1(t,e))}}function ib(i){return i!=null?YK(L1(i)):null}function QK(i){if(!i)return null;let e=i.filter(x1);return e.length==0?null:function(t){let n=N1(t,e).map(P1);return rw(n).pipe(_e(F1))}}function rb(i){return i!=null?QK(L1(i)):null}function S1(i,e){return i===null?[e]:Array.isArray(i)?[...i,e]:[i,e]}function ZK(i){return i._rawValidators}function XK(i){return i._rawAsyncValidators}function tb(i){return i?Array.isArray(i)?i:[i]:[]}function Im(i,e){return Array.isArray(i)?i.includes(e):i===e}function E1(i,e){let t=tb(e);return tb(i).forEach(r=>{Im(t,r)||t.push(r)}),t}function b1(i,e){return tb(e).filter(t=>!Im(i,t))}var Mm=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ib(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=rb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},gc=class extends Mm{get formDirective(){return null}get path(){return null}},kh=class extends Mm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},xm=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},JK={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},SEe=Ue(z({},JK),{"[class.ng-submitted]":"isSubmitted"}),ta=(()=>{let e=class e extends xm{constructor(n){super(n)}};e.\u0275fac=function(r){return new(r||e)(P(kh,2))},e.\u0275dir=Ze({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&it("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[ei]});let i=e;return i})(),mc=(()=>{let e=class e extends xm{constructor(n){super(n)}};e.\u0275fac=function(r){return new(r||e)(P(gc,10))},e.\u0275dir=Ze({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&it("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[ei]});let i=e;return i})();var Fh="VALID",Om="INVALID",fc="PENDING",Nh="DISABLED";function k1(i){return(Nm(i)?i.validators:i)||null}function eY(i){return Array.isArray(i)?ib(i):i||null}function V1(i,e){return(Nm(e)?e.asyncValidators:i)||null}function tY(i){return Array.isArray(i)?rb(i):i||null}function Nm(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function nY(i,e,t){let n=i.controls;if(!(e?Object.keys(n):n).length)throw new X(1e3,"");if(!n[t])throw new X(1001,"")}function iY(i,e,t){i._forEachChild((n,r)=>{if(t[r]===void 0)throw new X(1002,"")})}var Pm=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Fh}get invalid(){return this.status===Om}get pending(){return this.status==fc}get disabled(){return this.status===Nh}get enabled(){return this.status!==Nh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(E1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(E1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(b1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(b1(e,this._rawAsyncValidators))}hasValidator(e){return Im(this._rawValidators,e)}hasAsyncValidator(e){return Im(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=fc,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Nh,this.errors=null,this._forEachChild(n=>{n.disable(Ue(z({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ue(z({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Fh,this._forEachChild(n=>{n.enable(Ue(z({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ue(z({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fh||this.status===fc)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Nh:Fh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=fc,this._hasOwnPendingAsyncValidator=!0;let t=P1(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((n,r)=>n&&n._find(r),this)}getError(e,t){let n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new V,this.statusChanges=new V}_calculateStatus(){return this._allControlsDisabled()?Nh:this.errors?Om:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fc)?fc:this._anyControlsHaveStatus(Om)?Om:Fh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Nm(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=eY(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=tY(this._rawAsyncValidators)}},Fm=class extends Pm{constructor(e,t,n){super(k1(t),V1(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){iY(this,!0,e),Object.keys(e).forEach(n=>{nY(this,!0,n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(n=>{let r=this.controls[n];r&&r.patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,n)=>n._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,n]of Object.entries(this.controls))if(this.contains(t)&&e(n))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,n,r)=>((n.enabled||this.disabled)&&(t[r]=n.value),t))}_reduceChildren(e,t){let n=e;return this._forEachChild((r,o)=>{n=t(n,r,o)}),n}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var ob=new ie("CallSetDisabledState",{providedIn:"root",factory:()=>sb}),sb="always";function rY(i,e){return[...e.path,i]}function G1(i,e,t=sb){H1(i,e),e.valueAccessor.writeValue(i.value),(i.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(i.disabled),sY(i,e),lY(i,e),aY(i,e),oY(i,e)}function D1(i,e){i.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function oY(i,e){if(e.valueAccessor.setDisabledState){let t=n=>{e.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(t),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(t)})}}function H1(i,e){let t=ZK(i);e.validator!==null?i.setValidators(S1(t,e.validator)):typeof t=="function"&&i.setValidators([t]);let n=XK(i);e.asyncValidator!==null?i.setAsyncValidators(S1(n,e.asyncValidator)):typeof n=="function"&&i.setAsyncValidators([n]);let r=()=>i.updateValueAndValidity();D1(e._rawValidators,r),D1(e._rawAsyncValidators,r)}function sY(i,e){e.valueAccessor.registerOnChange(t=>{i._pendingValue=t,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&B1(i,e)})}function aY(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&B1(i,e),i.updateOn!=="submit"&&i.markAsTouched()})}function B1(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function lY(i,e){let t=(n,r)=>{e.valueAccessor.writeValue(n),r&&e.viewToModelUpdate(n)};i.registerOnChange(t),e._registerOnDestroy(()=>{i._unregisterOnChange(t)})}function uY(i,e){i==null,H1(i,e)}function cY(i,e){if(!i.hasOwnProperty("model"))return!1;let t=i.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function dY(i){return Object.getPrototypeOf(i.constructor)===nb}function hY(i,e){i._syncPendingControls(),e.forEach(t=>{let n=t.control;n.updateOn==="submit"&&n._pendingChange&&(t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function pY(i,e){if(!e)return null;Array.isArray(e);let t,n,r;return e.forEach(o=>{o.constructor===vc?t=o:dY(o)?n=o:r=o}),r||n||t||null}var fY={provide:gc,useExisting:ai(()=>gl)},Lh=Promise.resolve(),gl=(()=>{let e=class e extends gc{constructor(n,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new V,this.form=new Fm({},ib(n),rb(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Lh.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),G1(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Lh.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Lh.then(()=>{let r=this._findContainer(n.path),o=new Fm({});uY(o,n),r.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Lh.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Lh.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,hY(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}};e.\u0275fac=function(r){return new(r||e)(P(Vh,10),P(M1,10),P(ob,8))},e.\u0275dir=Ze({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&Q("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[Ft.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Bt([fY]),ei]});let i=e;return i})();function R1(i,e){let t=i.indexOf(e);t>-1&&i.splice(t,1)}function T1(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var gY=class extends Pm{constructor(e=null,t,n){super(k1(t),V1(n,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Nm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(T1(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){R1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){R1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){T1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var vY={provide:kh,useExisting:ai(()=>us)},A1=Promise.resolve(),us=(()=>{let e=class e extends kh{constructor(n,r,o,s,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new gY,this._registered=!1,this.name="",this.update=new V,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=pY(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),cY(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){G1(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){A1.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,o=r!==0&&mo(r);A1.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?rY(n,this._parent):[n]}};e.\u0275fac=function(r){return new(r||e)(P(gc,9),P(Vh,10),P(M1,10),P(ea,10),P(jn,8),P(ob,8))},e.\u0275dir=Ze({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Ft.None,"disabled","isDisabled"],model:[Ft.None,"ngModel","model"],options:[Ft.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Bt([vY]),ei,Vt]});let i=e;return i})(),yc=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ze({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let i=e;return i})();var mY=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=De({});let i=e;return i})();var yY={provide:ea,useExisting:ai(()=>Cc),multi:!0};function j1(i,e){return i==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${i}: ${e}`.slice(0,50))}function CY(i){return i.split(":")[0]}var Cc=(()=>{let e=class e extends nb{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),o=j1(r,n);this.setProperty("value",o)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=CY(n);return this._optionMap.has(r)?this._optionMap.get(r):n}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=nn(e)))(o||e)}})(),e.\u0275dir=Ze({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&Q("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Bt([yY]),ei]});let i=e;return i})(),_c=(()=>{let e=class e{constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(j1(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(P(Ge),P(xi),P(Cc,9))},e.\u0275dir=Ze({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let i=e;return i})(),_Y={provide:ea,useExisting:ai(()=>U1),multi:!0};function O1(i,e){return i==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${i}: ${e}`.slice(0,50))}function wY(i){return i.split(":")[0]}var U1=(()=>{let e=class e extends nb{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let o=n.map(s=>this._getOptionId(s));r=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else r=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let o=[],s=r.selectedOptions;if(s!==void 0){let a=s;for(let l=0;l<a.length;l++){let u=a[l],c=this._getOptionValue(u.value);o.push(c)}}else{let a=r.options;for(let l=0;l<a.length;l++){let u=a[l];if(u.selected){let c=this._getOptionValue(u.value);o.push(c)}}}this.value=o,n(o)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=wY(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=nn(e)))(o||e)}})(),e.\u0275dir=Ze({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&Q("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Bt([_Y]),ei]});let i=e;return i})(),wc=(()=>{let e=class e{constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(O1(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(O1(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(P(Ge),P(xi),P(U1,9))},e.\u0275dir=Ze({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let i=e;return i})();var SY=(()=>{let e=class e{constructor(){this._validator=w1}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):w1,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ze({type:e,features:[Vt]});let i=e;return i})();var EY={provide:Vh,useExisting:ai(()=>cs),multi:!0};var cs=(()=>{let e=class e extends SY{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=mo,this.createValidator=n=>qK}enabled(n){return n}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=nn(e)))(o||e)}})(),e.\u0275dir=Ze({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&ti("required",o._enabled?"":null)},inputs:{required:"required"},features:[Bt([EY]),ei]});let i=e;return i})();var bY=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=De({imports:[mY]});let i=e;return i})();var ab=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:ob,useValue:n.callSetDisabledState??sb}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=De({imports:[bY]});let i=e;return i})();var DY=[dl,ab,eb],st=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=De({imports:[DY,dl,ab,eb]});let i=e;return i})();var Lm=(()=>{let e=class e{constructor(){this.api={login:"/login",logout:"/logout"}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Ne=function(i){return i[i.State=0]="State",i[i.Transition=1]="Transition",i[i.Sequence=2]="Sequence",i[i.Group=3]="Group",i[i.Animate=4]="Animate",i[i.Keyframes=5]="Keyframes",i[i.Style=6]="Style",i[i.Trigger=7]="Trigger",i[i.Reference=8]="Reference",i[i.AnimateChild=9]="AnimateChild",i[i.AnimateRef=10]="AnimateRef",i[i.Query=11]="Query",i[i.Stagger=12]="Stagger",i}(Ne||{}),So="*";function z1(i,e){return{type:Ne.Trigger,name:i,definitions:e,options:{}}}function lb(i,e=null){return{type:Ne.Animate,styles:e,timings:i}}function $1(i,e=null){return{type:Ne.Sequence,steps:i,options:e}}function vl(i){return{type:Ne.Style,styles:i,offset:null}}function km(i,e,t){return{type:Ne.State,name:i,styles:e,options:t}}function ub(i,e,t=null){return{type:Ne.Transition,expr:i,animation:e,options:t}}var na=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}},Hh=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++n==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(n=>{let r=n.totalTime?Math.min(1,t/n.totalTime):1;n.setPosition(r)})}getPosition(){let e=this.players.reduce((t,n)=>t===null||n.totalTime>t.totalTime?n:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}},Vm="!";var q1=["toast-component",""];function RY(i,e){if(i&1){let t=At();b(0,"button",5),Q("click",function(){Me(t);let r=K();return xe(r.remove())}),b(1,"span",6),H(2,"\xD7"),D()()}}function TY(i,e){if(i&1&&(lr(0),H(1),ur()),i&2){let t=K(2);O(),Ot("[",t.duplicatesCount+1,"]")}}function AY(i,e){if(i&1&&(b(0,"div"),H(1),se(2,TY,2,1,"ng-container",4),D()),i&2){let t=K();rn(t.options.titleClass),ti("aria-label",t.title),O(),Ot(" ",t.title," "),O(),N("ngIf",t.duplicatesCount)}}function OY(i,e){if(i&1&&ne(0,"div",7),i&2){let t=K();rn(t.options.messageClass),N("innerHTML",t.message,vE)}}function IY(i,e){if(i&1&&(b(0,"div",8),H(1),D()),i&2){let t=K();rn(t.options.messageClass),ti("aria-label",t.message),O(),Ot(" ",t.message," ")}}function MY(i,e){if(i&1&&(b(0,"div"),ne(1,"div",9),D()),i&2){let t=K();O(),Pi("width",t.width+"%")}}function xY(i,e){if(i&1){let t=At();b(0,"button",5),Q("click",function(){Me(t);let r=K();return xe(r.remove())}),b(1,"span",6),H(2,"\xD7"),D()()}}function PY(i,e){if(i&1&&(lr(0),H(1),ur()),i&2){let t=K(2);O(),Ot("[",t.duplicatesCount+1,"]")}}function FY(i,e){if(i&1&&(b(0,"div"),H(1),se(2,PY,2,1,"ng-container",4),D()),i&2){let t=K();rn(t.options.titleClass),ti("aria-label",t.title),O(),Ot(" ",t.title," "),O(),N("ngIf",t.duplicatesCount)}}function NY(i,e){if(i&1&&ne(0,"div",7),i&2){let t=K();rn(t.options.messageClass),N("innerHTML",t.message,vE)}}function LY(i,e){if(i&1&&(b(0,"div",8),H(1),D()),i&2){let t=K();rn(t.options.messageClass),ti("aria-label",t.message),O(),Ot(" ",t.message," ")}}function kY(i,e){if(i&1&&(b(0,"div"),ne(1,"div",9),D()),i&2){let t=K();O(),Pi("width",t.width+"%")}}var cb=class{_attachedHost;component;viewContainerRef;injector;constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){let e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},db=class{_attachedPortal;_disposeFn;attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}},hb=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new me;_activate=new me;_manualClose=new me;_resetTimeout=new me;_countDuplicate=new me;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}},Sc=class{toastId;config;message;title;toastType;toastRef;_onTap=new me;_onAction=new me;constructor(e,t,n,r,o,s){this.toastId=e,this.config=t,this.message=n,this.title=r,this.toastType=o,this.toastRef=s,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}},K1={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},Y1=new ie("ToastConfig"),pb=class extends db{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,t,n){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=n}attachComponentPortal(e,t){let n=this._componentFactoryResolver.resolveComponentFactory(e.component),r;return r=n.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},VY=(()=>{class i{_document=F(ge);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}static \u0275fac=function(n){return new(n||i)};static \u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),fb=class{_portalHost;constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}},GY=(()=>{class i{_overlayContainer=F(VY);_componentFactoryResolver=F(ar);_appRef=F(Un);_document=F(ge);_paneElements=new Map;create(t,n){return this._createOverlayRef(this.getPaneElement(t,n))}getPaneElement(t="",n){return this._paneElements.get(n)||this._paneElements.set(n,{}),this._paneElements.get(n)[t]||(this._paneElements.get(n)[t]=this._createPaneElement(t,n)),this._paneElements.get(n)[t]}_createPaneElement(t,n){let r=this._document.createElement("div");return r.id="toast-container",r.classList.add(t),r.classList.add("toast-container"),n?n.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(t){return new pb(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new fb(this._createPortalHost(t))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),ci=(()=>{class i{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(t,n,r,o,s){this.overlay=n,this._injector=r,this.sanitizer=o,this.ngZone=s,this.toastrConfig=z(z({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=z(z({},t.default.iconClasses),t.config.iconClasses))}show(t,n,r={},o=""){return this._preBuildNotification(o,t,n,this.applyConfig(r))}success(t,n,r={}){let o=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(o,t,n,this.applyConfig(r))}error(t,n,r={}){let o=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(o,t,n,this.applyConfig(r))}info(t,n,r={}){let o=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(o,t,n,this.applyConfig(r))}warning(t,n,r={}){let o=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(o,t,n,this.applyConfig(r))}clear(t){for(let n of this.toasts)if(t!==void 0){if(n.toastId===t){n.toastRef.manualClose();return}}else n.toastRef.manualClose()}remove(t){let n=this._findToast(t);if(!n||(n.activeToast.toastRef.close(),this.toasts.splice(n.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(t="",n="",r,o){let{includeTitleDuplicates:s}=this.toastrConfig;for(let a of this.toasts){let l=s&&a.title===t;if((!s||l)&&a.message===n)return a.toastRef.onDuplicate(r,o),a}return null}applyConfig(t={}){return z(z({},this.toastrConfig),t)}_findToast(t){for(let n=0;n<this.toasts.length;n++)if(this.toasts[n].toastId===t)return{index:n,activeToast:this.toasts[n]};return null}_preBuildNotification(t,n,r,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,n,r,o)):this._buildNotification(t,n,r,o)}_buildNotification(t,n,r,o){if(!o.toastComponent)throw new Error("toastComponent required");let s=this.findDuplicate(r,n,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||n)&&this.toastrConfig.preventDuplicates&&s!==null)return s;this.previousToastMessage=n;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let l=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let u=n;n&&o.enableHtml&&(u=this.sanitizer.sanitize(Mi.HTML,n));let c=new hb(l),d=new Sc(this.index,o,u,r,t,c),h=[{provide:Sc,useValue:d}],p=gt.create({providers:h,parent:this._injector}),f=new cb(o.toastComponent,p),g=l.attach(f,o.newestOnTop);c.componentInstance=g.instance;let v={toastId:this.index,title:r||"",message:n||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:d.onTap(),onAction:d.onAction(),portal:g};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{v.toastRef.activate()})),this.toasts.push(v),v}static \u0275fac=function(n){return new(n||i)(G(Y1),G(GY),G(gt),G(f0),G(fe))};static \u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),HY=(()=>{class i{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if(this.state.value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(t,n,r){this.toastrService=t,this.toastPackage=n,this.ngZone=r,this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses=`${n.toastType} ${n.config.toastClass}`,this.sub=n.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Ue(z({},this.state),{value:"active"}),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let t=new Date().getTime(),n=this.hideTime-t;this.width=n/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Ue(z({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state.value!=="removed"&&(clearTimeout(this.timeout),this.state=Ue(z({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state.value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state.value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state.value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,n){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),n)):this.timeout=setTimeout(()=>t(),n)}outsideInterval(t,n){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),n)):this.intervalId=setInterval(()=>t(),n)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}static \u0275fac=function(n){return new(n||i)(P(ci),P(Sc),P(fe))};static \u0275cmp=ce({type:i,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(n,r){n&1&&Q("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),n&2&&(NE("@flyInOut",r.state),rn(r.toastClasses),Pi("display",r.displayStyle))},standalone:!0,features:[ye],attrs:q1,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(n,r){n&1&&se(0,RY,3,0,"button",0)(1,AY,3,5,"div",1)(2,OY,1,3,"div",2)(3,IY,2,4,"div",3)(4,MY,2,2,"div",4),n&2&&(N("ngIf",r.options.closeButton),O(),N("ngIf",r.title),O(),N("ngIf",r.message&&r.options.enableHtml),O(),N("ngIf",r.message&&!r.options.enableHtml),O(),N("ngIf",r.options.progressBar))},dependencies:[Li],encapsulation:2,data:{animation:[z1("flyInOut",[km("inactive",vl({opacity:0})),km("active",vl({opacity:1})),km("removed",vl({opacity:0})),ub("inactive => active",lb("{{ easeTime }}ms {{ easing }}")),ub("active => removed",lb("{{ easeTime }}ms {{ easing }}"))])]}})}return i})(),BY=Ue(z({},K1),{toastComponent:HY}),jY=(i={})=>Hs([{provide:Y1,useValue:{default:BY,config:i}}]),Q1=(()=>{class i{static forRoot(t={}){return{ngModule:i,providers:[jY(t)]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=De({})}return i})();var UY=(()=>{class i{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";get displayStyle(){return this.state==="inactive"?"none":null}state="inactive";timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(t,n,r){this.toastrService=t,this.toastPackage=n,this.appRef=r,this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses=`${n.toastType} ${n.config.toastClass}`,this.sub=n.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let t=new Date().getTime(),n=this.hideTime-t;this.width=n/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state!=="removed"&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(n){return new(n||i)(P(ci),P(Sc),P(Un))};static \u0275cmp=ce({type:i,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(n,r){n&1&&Q("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),n&2&&(rn(r.toastClasses),Pi("display",r.displayStyle))},standalone:!0,features:[ye],attrs:q1,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(n,r){n&1&&se(0,xY,3,0,"button",0)(1,FY,3,5,"div",1)(2,NY,1,3,"div",2)(3,LY,2,4,"div",3)(4,kY,2,2,"div",4),n&2&&(N("ngIf",r.options.closeButton),O(),N("ngIf",r.title),O(),N("ngIf",r.message&&r.options.enableHtml),O(),N("ngIf",r.message&&!r.options.enableHtml),O(),N("ngIf",r.options.progressBar))},dependencies:[Li],encapsulation:2})}return i})(),BEe=Ue(z({},K1),{toastComponent:UY});var Gm=(()=>{let e=class e{constructor(n,r,o,s){this.httpClient=n,this.router=r,this.loginService=o,this.toastr=s,this.loginRequest=new Tm}navigateToDefaultRoute(n){n.id&&(_n.Doctor==n.roleType?this.router.navigateByUrl("patients"):_n.Cardiolog==n.roleType?this.router.navigateByUrl("calendar"):this.router.navigateByUrl("home-page"))}ngOnInit(){this.loginToken=pt.getLoginToken(),this.navigateToDefaultRoute(this.loginToken)}login(){this.httpClient.post(vt.serverAddress+this.loginService.api.login,this.loginRequest).subscribe(n=>{n?(this.loginToken=n,pt.setLoginToken(n),pt.isLoggedIn(),this.navigateToDefaultRoute(this.loginToken)):this.toastr.error("Invalid credentials. Please check your login information.")})}};e.\u0275fac=function(r){return new(r||e)(P($t),P(St),P(Lm),P(ci))},e.\u0275cmp=ce({type:e,selectors:[["app-login"]],standalone:!0,features:[ye],decls:20,vars:2,consts:[[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-6"],[1,"card"],[1,"card-header"],[1,"text-center"],[1,"card-body"],[1,"form-group"],["for","username"],["type","text","id","username","name","username","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","id","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-center","mt-3"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),H(6,"Login"),D()(),b(7,"div",6)(8,"form")(9,"div",7)(10,"label",8),H(11,"Username:"),D(),b(12,"input",9),Q("ngModelChange",function(a){return o.loginRequest.username=a}),D()(),b(13,"div",7)(14,"label",10),H(15,"Password:"),D(),b(16,"input",11),Q("ngModelChange",function(a){return o.loginRequest.password=a}),D()(),b(17,"div",12)(18,"button",13),Q("click",function(){return o.login()}),H(19,"Login"),D()()()()()()()()),r&2&&(O(12),N("ngModel",o.loginRequest.username),O(4),N("ngModel",o.loginRequest.password))},dependencies:[st,yc,vc,ta,mc,cs,us,gl]});let i=e;return i})();var Z1=(()=>{let e=class e{constructor(n){this.rendererFactory=n,this.contrast="normal",this.textColor="#000000",this.fontSize="medium",this.isColorReplaced=!1,this.stylesApplied=!1,this.renderer=n.createRenderer(null,null)}applySettings(){let n=document.body;this.stylesApplied?this.removeStyles(n):this.applyStyles(n),this.stylesApplied=!this.stylesApplied}applyStyles(n){this.renderer.setStyle(n,"background-color",this.getContrastColor()),this.renderer.setStyle(n,"color",this.textColor),this.renderer.setStyle(n,"font-size",this.getFontSize());let r=document.querySelectorAll("div");r&&r.forEach(g=>{this.renderer.setStyle(g,"color","black"),this.renderer.setStyle(g,"font-weight","bold")});let o=document.querySelectorAll("label");o&&o.forEach(g=>{this.renderer.setStyle(g,"color","black"),this.renderer.setStyle(g,"font-weight","bold")});let s=document.querySelectorAll("#toast-container");s&&s.forEach(g=>{let v=g;this.renderer.setStyle(v,"color","#fff")});let a=document.querySelectorAll("h4");a&&a.forEach(g=>{this.renderer.setStyle(g,"color","black"),this.renderer.setStyle(g,"font-weight","bold")});let l=document.querySelectorAll(".fc-event-main");l&&l.forEach(g=>{let v=g;this.renderer.setStyle(v,"color","#fff")});let u=document.querySelector(".customtab2");u&&(u.querySelectorAll('[aria-selected="false"]').forEach(m=>{let _=m;this.renderer.setStyle(_,"color","#f5582a")}),u.querySelectorAll(".nav-link.active").forEach(m=>{let _=m;this.renderer.setStyle(_,"color","#4f5467")}));let c=document.querySelectorAll(".fc-col-header-cell a");c&&c.forEach(g=>{let v=g;this.renderer.setStyle(v,"color","#f5582a")});let d=document.querySelectorAll(".breadcrumb-item.active");d&&d.forEach(g=>{let v=g;this.renderer.setStyle(v,"color","#01767a")});let h=document.querySelectorAll(".fc-event");h&&h.forEach(g=>{let v=g;this.renderer.setStyle(v,"background","#01767a")});let p=document.querySelectorAll("header");p&&p.forEach(g=>{this.renderer.setStyle(g,"background","#01767a")});let f=document.getElementById("sidebarnav");if(f){let g=f.querySelectorAll("a"),v=f.querySelectorAll("span"),m=f.querySelectorAll("li"),_=f.querySelectorAll("i");g&&g.forEach(w=>{this.renderer.setStyle(w,"color","black"),this.renderer.setStyle(w,"font-weight","bold")}),m&&m.forEach(w=>{this.renderer.setStyle(w,"color","black"),this.renderer.setStyle(w,"font-weight","bold")}),_&&_.forEach(w=>{this.renderer.setStyle(w,"color","black")}),v&&v.forEach(w=>{this.renderer.setStyle(w,"color","black"),this.renderer.setStyle(w,"font-weight","bold")})}}removeStyles(n){this.renderer.removeStyle(n,"background-color"),this.renderer.removeStyle(n,"color"),this.renderer.removeStyle(n,"font-size");let r=document.querySelectorAll(".fc-event");r&&r.forEach(g=>{let v=g;this.renderer.removeStyle(v,"background")});let o=document.querySelectorAll(".fc-event-main");o&&o.forEach(g=>{let v=g;this.renderer.removeStyle(v,"color")});let s=document.querySelectorAll("#toast-container");s&&s.forEach(g=>{let v=g;this.renderer.removeStyle(v,"color")});let a=document.querySelectorAll(".breadcrumb-item.active");a&&a.forEach(g=>{let v=g;this.renderer.removeStyle(v,"color")});let l=document.querySelectorAll(".fc-col-header-cell a");l&&l.forEach(g=>{let v=g;this.renderer.removeStyle(v,"color")});let u=document.querySelector(".customtab2");u&&(u.querySelectorAll('[aria-selected="false"]').forEach(m=>{let _=m;this.renderer.removeStyle(_,"color")}),u.querySelectorAll(".nav-link.active").forEach(m=>{let _=m;this.renderer.removeStyle(_,"color")}));let c=document.querySelectorAll("header");c&&c.forEach(g=>{this.renderer.removeStyle(g,"background")});let d=document.querySelectorAll("div");d&&d.forEach(g=>{this.renderer.removeStyle(g,"color"),this.renderer.removeStyle(g,"font-weight")});let h=document.querySelectorAll("label");h&&h.forEach(g=>{this.renderer.removeStyle(g,"color"),this.renderer.removeStyle(g,"font-weight")});let p=document.querySelectorAll("h4");p&&p.forEach(g=>{this.renderer.removeStyle(g,"color"),this.renderer.removeStyle(g,"font-weight")});let f=document.getElementById("sidebarnav");if(f){let g=f.querySelectorAll("a"),v=f.querySelectorAll("i"),m=f.querySelectorAll("span"),_=f.querySelectorAll("li");g&&g.forEach(w=>{this.renderer.removeStyle(w,"color"),this.renderer.removeStyle(w,"font-weight")}),_&&_.forEach(w=>{this.renderer.removeStyle(w,"color"),this.renderer.removeStyle(w,"font-weight")}),v&&v.forEach(w=>{this.renderer.removeStyle(w,"color")}),m&&m.forEach(w=>{this.renderer.removeStyle(w,"color"),this.renderer.removeStyle(w,"font-weight")})}}getContrastColor(){return this.contrast==="normal"?"#ffffff":"#000000"}getFontSize(){return this.fontSize==="small"?"12px":this.fontSize==="medium"?"16px":"20px"}};e.\u0275fac=function(r){return new(r||e)(G(Gr))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var X1=(()=>{let e=class e{constructor(n){this.rendererFactory=n,this.contrast="normal",this.textColor="#000000",this.fontSize="medium",this.isColorReplaced=!1,this.renderer=n.createRenderer(null,null)}applySettings(){let n=document.body;this.applyStyles(n)}applyStyles(n){this.renderer.setStyle(n,"background-color",this.getContrastColor()),this.renderer.setStyle(n,"color",this.textColor),this.renderer.setStyle(n,"font-size",this.getFontSize());let r=document.querySelectorAll("div");r&&r.forEach(g=>{this.renderer.setStyle(g,"color","black"),this.renderer.setStyle(g,"font-weight","bold")});let o=document.querySelectorAll("label");o&&o.forEach(g=>{this.renderer.setStyle(g,"color","black"),this.renderer.setStyle(g,"font-weight","bold")});let s=document.querySelector(".customtab2");s&&(s.querySelectorAll('[aria-selected="false"]').forEach(m=>{let _=m;this.renderer.setStyle(_,"color","#f5582a")}),s.querySelectorAll(".nav-link.active").forEach(m=>{let _=m;this.renderer.setStyle(_,"color","#4f5467")}));let a=document.querySelectorAll(".fc-col-header-cell a");a&&a.forEach(g=>{let v=g;this.renderer.setStyle(v,"color","#f5582a")});let l=document.querySelectorAll(".breadcrumb-item.active");l&&l.forEach(g=>{let v=g;this.renderer.setStyle(v,"color","#01767a")});let u=document.querySelectorAll(".fc-event");u&&u.forEach(g=>{let v=g;this.renderer.setStyle(v,"background","#01767a")});let c=document.querySelectorAll(".fc-event-main");c&&c.forEach(g=>{let v=g;this.renderer.setStyle(v,"color","#fff")});let d=document.querySelectorAll("#toast-container");d&&d.forEach(g=>{let v=g;this.renderer.setStyle(v,"color","#fff")});let h=document.querySelectorAll("h4");h&&h.forEach(g=>{this.renderer.setStyle(g,"color","black"),this.renderer.setStyle(g,"font-weight","bold")});let p=document.querySelectorAll("header");p&&p.forEach(g=>{this.renderer.setStyle(g,"background","#01767a")});let f=document.getElementById("sidebarnav");if(f){let g=f.querySelectorAll("a"),v=f.querySelectorAll("span"),m=f.querySelectorAll("li"),_=f.querySelectorAll("i");g&&g.forEach(w=>{this.renderer.setStyle(w,"color","black"),this.renderer.setStyle(w,"font-weight","bold")}),m&&m.forEach(w=>{this.renderer.setStyle(w,"color","black"),this.renderer.setStyle(w,"font-weight","bold")}),_&&_.forEach(w=>{this.renderer.setStyle(w,"color","black")}),v&&v.forEach(w=>{this.renderer.setStyle(w,"color","black"),this.renderer.setStyle(w,"font-weight","bold")})}}getContrastColor(){return this.contrast==="normal"?"#ffffff":"#000000"}getFontSize(){return this.fontSize==="small"?"12px":this.fontSize==="medium"?"16px":"20px"}};e.\u0275fac=function(r){return new(r||e)(G(Gr))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function $Y(i,e){i&1&&ne(0,"i",42)}function qY(i,e){i&1&&ne(0,"i",43)}function KY(i,e){i&1&&(b(0,"li")(1,"a",44),ne(2,"i",45),b(3,"span",37),H(4,"Calendar"),D()()())}function YY(i,e){if(i&1){let t=At();b(0,"div",4)(1,"header",5)(2,"nav",6)(3,"button",7),Q("click",function(){Me(t);let r=K();return xe(r.toggleSidebar())}),ne(4,"span",8),D(),b(5,"div",9)(6,"a",10)(7,"b"),ne(8,"img",11),D(),b(9,"span",12),H(10," FromHearty"),D()(),b(11,"div",13),Q("click",function(){Me(t);let r=K();return xe(r.toggleAccessibilitySettings())}),se(12,$Y,1,0,"i",14)(13,qY,1,0,"i",15),D()(),b(14,"div",16),ne(15,"ul",17),b(16,"ul",18),ne(17,"li",19)(18,"li",19),b(19,"li",20)(20,"div",21)(21,"a",22),ne(22,"i",23),H(23," My Profile"),D(),ne(24,"div",24),b(25,"a",22),ne(26,"i",25),H(27," Account Settings"),D(),ne(28,"div",24),b(29,"a",26),Q("click",function(){Me(t);let r=K();return xe(r.logout())}),ne(30,"i",27),H(31," Logout"),D()()()()()()(),b(32,"aside",28)(33,"div",29)(34,"div",30),Q("click",function(){Me(t);let r=K();return xe(r.toggleSidebar())}),b(35,"i",31),H(36,"close"),D()(),b(37,"nav",32)(38,"ul",33)(39,"li",34),H(40,"--- PAGES"),D(),b(41,"li")(42,"a",35),ne(43,"i",36),b(44,"span",37),H(45,"Home Page"),D()()(),se(46,KY,5,0,"li",3),b(47,"li")(48,"a",38),ne(49,"i",39),b(50,"span",37),H(51,"Patients"),D()()(),b(52,"li",34),H(53,"--- SUPPORT"),D(),b(54,"li")(55,"a",40),Q("click",function(){Me(t);let r=K();return xe(r.logout())}),ne(56,"i",27),b(57,"span",37),H(58,"Log Out"),D()()()()()()(),b(59,"div",41),ne(60,"router-outlet"),D()()}if(i&2){let t=K();O(12),N("ngIf",t.isAccessibilityOn),O(),N("ngIf",!t.isAccessibilityOn),O(19),it("open",t.isSidebarOpen),O(14),N("ngIf",t.isCardiolog())}}function QY(i,e){i&1&&ne(0,"app-login")}var J1=(()=>{let e=class e{constructor(n,r,o,s,a){this.router=n,this.httpClient=r,this.loginService=o,this.accessibilityService=s,this.accessibilityServiceInit=a,this.title="FromHearty",this.isLoggedIn=!1,this.isAccessibilityOn=!1,this.isSidebarOpen=!1,this.roleType=pt.getLoginToken().roleType}ngDoCheck(){this.isAccessibilityOn==!0&&this.accessibilityServiceInit.applySettings(),this.checkLoginStatus()}checkLoginStatus(){this.isLoggedIn=pt.isLoggedIn()}logout(){this.httpClient.get(vt.serverAddress+this.loginService.api.logout).subscribe(n=>{console.log("Logout API was successful? ",n),pt.clearLocalStorage(),this.checkLoginStatus(),this.router.navigate([""])})}toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen}toggleAccessibilitySettings(){this.isAccessibilityOn=!this.isAccessibilityOn,this.accessibilityService.applySettings()}isCardiolog(){return pt.getLoginToken().roleType==_n.Cardiolog}};e.\u0275fac=function(r){return new(r||e)(P(St),P($t),P(Lm),P(Z1),P(X1))},e.\u0275cmp=ce({type:e,selectors:[["app-root"]],standalone:!0,features:[ye],decls:4,vars:2,consts:[["href","https://fonts.googleapis.com/icon?family=Material+Icons","rel","stylesheet"],[1,"skin-megna","fixed-layout"],["id","main-wrapper",4,"ngIf"],[4,"ngIf"],["id","main-wrapper"],[1,"topbar"],[1,"navbar","top-navbar","navbar-expand-md","navbar-dark"],["type","button",1,"navbar-toggler","custom-hamburger-display",3,"click"],[1,"navbar-toggler-icon"],[1,"navbar-header","d-flex","justify-content-between","align-items-center"],[1,"navbar-brand"],["src","./assets/images/logo.png","alt","logo",1,"light-logo"],[1,"hidden-xs"],[2,"display","flex","align-items","center","cursor","pointer","margin-right","20px",3,"click"],["class","fas fa-eye-slash","style","font-size: 18px; color: white",4,"ngIf"],["class","fas fa-eye","style","font-size: 18px; color:white",4,"ngIf"],[1,"navbar-collapse"],[1,"navbar-nav","me-auto"],[1,"navbar-nav","my-lg-0"],[1,"nav-item","dropdown"],[1,"nav-item","dropdown","u-pro"],[1,"dropdown-menu","dropdown-menu-end","animated","flipInY"],[1,"dropdown-item"],[1,"ti-user"],[1,"dropdown-divider"],[1,"ti-settings"],[1,"dropdown-item",3,"click"],[1,"fa","fa-power-off"],[1,"left-sidebar"],[1,"scroll-sidebar"],[1,"close-button","custom-hamburger-display",3,"click"],[1,"material-icons"],[1,"sidebar-nav"],["id","sidebarnav"],[1,"nav-small-cap"],["href","#","routerLink","home-page",1,"waves-effect","waves-dark"],[1,"fas","fa-home"],[1,"hide-menu"],["href","#","routerLink","patients",1,"waves-effect","waves-dark"],[1,"fas","fa-heartbeat"],["aria-expanded","false",1,"waves-effect","waves-dark",3,"click"],[1,"page-wrapper"],[1,"fas","fa-eye-slash",2,"font-size","18px","color","white"],[1,"fas","fa-eye",2,"font-size","18px","color","white"],["href","#","routerLink","calendar",1,"waves-effect","waves-dark"],[1,"fas","fa-calendar"]],template:function(r,o){r&1&&(ne(0,"link",0),b(1,"body",1),se(2,YY,61,5,"div",2)(3,QY,1,0,"app-login",3),D()),r&2&&(O(2),N("ngIf",o.isLoggedIn),O(),N("ngIf",!o.isLoggedIn))},dependencies:[st,Li,q0,p1,Gm],styles:[".left-sidebar[_ngcontent-%COMP%]{width:220px;height:100%;top:67px;overflow-y:auto;transition:all .3s;left:0;z-index:1000;padding-top:20px!important}.close-button[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;cursor:pointer}.close-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;color:#fff;padding:8px;background-color:#343a40;border-radius:50%}.custom-hamburger-display[_ngcontent-%COMP%]{display:none}.navbar-header[_ngcontent-%COMP%]{width:100%}.navbar-toggler[_ngcontent-%COMP%]:focus{box-shadow:none!important}@media (max-width: 1024px){.left-sidebar[_ngcontent-%COMP%]{position:fixed;left:-250px;z-index:1000}.left-sidebar.open[_ngcontent-%COMP%]{left:0}.page-wrapper[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]{margin-left:0}.custom-hamburger-display[_ngcontent-%COMP%]{display:block}}"]});let i=e;return i})();var eL=(()=>{let e=class e{constructor(){this.api={patients:"/patients"}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var tL=(()=>{let e=class e{constructor(n,r){this.httpClient=n,this.homePageService=r}};e.\u0275fac=function(r){return new(r||e)(P($t),P(eL))},e.\u0275cmp=ce({type:e,selectors:[["app-home-page"]],standalone:!0,features:[ye],decls:2,vars:0,template:function(r,o){r&1&&(b(0,"p"),H(1,"home-page works!"),D())},dependencies:[st]});let i=e;return i})();var nL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ce({type:e,selectors:[["ng-component"]],standalone:!0,features:[ye],decls:2,vars:0,template:function(r,o){r&1&&(b(0,"div"),H(1,"patient example view works"),D())},dependencies:[st]});let i=e;return i})();var Wm,de,aL,vb,bc,ml,iL,lL,uL,Bm={},cL=[],XY=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ia(i,e){for(var t in e)i[t]=e[t];return i}function dL(i){var e=i.parentNode;e&&e.removeChild(i)}function E(i,e,t){var n,r,o,s={};for(o in e)o=="key"?n=e[o]:o=="ref"?r=e[o]:s[o]=e[o];if(arguments.length>2&&(s.children=arguments.length>3?Wm.call(arguments,2):t),typeof i=="function"&&i.defaultProps!=null)for(o in i.defaultProps)s[o]===void 0&&(s[o]=i.defaultProps[o]);return Hm(i,s,n,r,null)}function Hm(i,e,t,n,r){var o={type:i,props:e,key:t,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:r??++aL};return r==null&&de.vnode!=null&&de.vnode(o),o}function Zt(){return{current:null}}function Xe(i){return i.children}function JY(i,e,t,n,r){var o;for(o in t)o==="children"||o==="key"||o in e||jm(i,o,null,t[o],n);for(o in e)r&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||t[o]===e[o]||jm(i,o,e[o],t[o],n)}function rL(i,e,t){e[0]==="-"?i.setProperty(e,t??""):i[e]=t==null?"":typeof t!="number"||XY.test(e)?t:t+"px"}function jm(i,e,t,n,r){var o;e:if(e==="style")if(typeof t=="string")i.style.cssText=t;else{if(typeof n=="string"&&(i.style.cssText=n=""),n)for(e in n)t&&e in t||rL(i.style,e,"");if(t)for(e in t)n&&t[e]===n[e]||rL(i.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in i?e.toLowerCase().slice(2):e.slice(2),i.l||(i.l={}),i.l[e+o]=t,t?n||i.addEventListener(e,o?sL:oL,o):i.removeEventListener(e,o?sL:oL,o);else if(e!=="dangerouslySetInnerHTML"){if(r)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in i)try{i[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?i.removeAttribute(e):i.setAttribute(e,t))}}function oL(i){bc=!0;try{return this.l[i.type+!1](de.event?de.event(i):i)}finally{bc=!1}}function sL(i){bc=!0;try{return this.l[i.type+!0](de.event?de.event(i):i)}finally{bc=!1}}function xn(i,e){this.props=i,this.context=e}function Bh(i,e){if(e==null)return i.__?Bh(i.__,i.__.__k.indexOf(i)+1):null;for(var t;e<i.__k.length;e++)if((t=i.__k[e])!=null&&t.__e!=null)return t.__e;return typeof i.type=="function"?Bh(i):null}function hL(i){var e,t;if((i=i.__)!=null&&i.__c!=null){for(i.__e=i.__c.base=null,e=0;e<i.__k.length;e++)if((t=i.__k[e])!=null&&t.__e!=null){i.__e=i.__c.base=t.__e;break}return hL(i)}}function e6(i){bc?setTimeout(i):lL(i)}function gb(i){(!i.__d&&(i.__d=!0)&&ml.push(i)&&!Um.__r++||iL!==de.debounceRendering)&&((iL=de.debounceRendering)||e6)(Um)}function Um(){var i,e,t,n,r,o,s,a;for(ml.sort(function(l,u){return l.__v.__b-u.__v.__b});i=ml.shift();)i.__d&&(e=ml.length,n=void 0,r=void 0,s=(o=(t=i).__v).__e,(a=t.__P)&&(n=[],(r=ia({},o)).__v=o.__v+1,mb(a,o,r,t.__n,a.ownerSVGElement!==void 0,o.__h!=null?[s]:null,n,s??Bh(o),o.__h),mL(n,o),o.__e!=s&&hL(o)),ml.length>e&&ml.sort(function(l,u){return l.__v.__b-u.__v.__b}));Um.__r=0}function pL(i,e,t,n,r,o,s,a,l,u){var c,d,h,p,f,g,v,m=n&&n.__k||cL,_=m.length;for(t.__k=[],c=0;c<e.length;c++)if((p=t.__k[c]=(p=e[c])==null||typeof p=="boolean"?null:typeof p=="string"||typeof p=="number"||typeof p=="bigint"?Hm(null,p,null,null,p):Array.isArray(p)?Hm(Xe,{children:p},null,null,null):p.__b>0?Hm(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p)!=null){if(p.__=t,p.__b=t.__b+1,(h=m[c])===null||h&&p.key==h.key&&p.type===h.type)m[c]=void 0;else for(d=0;d<_;d++){if((h=m[d])&&p.key==h.key&&p.type===h.type){m[d]=void 0;break}h=null}mb(i,p,h=h||Bm,r,o,s,a,l,u),f=p.__e,(d=p.ref)&&h.ref!=d&&(v||(v=[]),h.ref&&v.push(h.ref,null,p),v.push(d,p.__c||f,p)),f!=null?(g==null&&(g=f),typeof p.type=="function"&&p.__k===h.__k?p.__d=l=fL(p,l,i):l=gL(i,p,h,m,f,l),typeof t.type=="function"&&(t.__d=l)):l&&h.__e==l&&l.parentNode!=i&&(l=Bh(h))}for(t.__e=g,c=_;c--;)m[c]!=null&&(typeof t.type=="function"&&m[c].__e!=null&&m[c].__e==t.__d&&(t.__d=vL(n).nextSibling),CL(m[c],m[c]));if(v)for(c=0;c<v.length;c++)yL(v[c],v[++c],v[++c])}function fL(i,e,t){for(var n,r=i.__k,o=0;r&&o<r.length;o++)(n=r[o])&&(n.__=i,e=typeof n.type=="function"?fL(n,e,t):gL(t,n,n,r,n.__e,e));return e}function jh(i,e){return e=e||[],i==null||typeof i=="boolean"||(Array.isArray(i)?i.some(function(t){jh(t,e)}):e.push(i)),e}function gL(i,e,t,n,r,o){var s,a,l;if(e.__d!==void 0)s=e.__d,e.__d=void 0;else if(t==null||r!=o||r.parentNode==null)e:if(o==null||o.parentNode!==i)i.appendChild(r),s=null;else{for(a=o,l=0;(a=a.nextSibling)&&l<n.length;l+=1)if(a==r)break e;i.insertBefore(r,o),s=o}return s!==void 0?s:r.nextSibling}function vL(i){var e,t,n;if(i.type==null||typeof i.type=="string")return i.__e;if(i.__k){for(e=i.__k.length-1;e>=0;e--)if((t=i.__k[e])&&(n=vL(t)))return n}return null}function mb(i,e,t,n,r,o,s,a,l){var u,c,d,h,p,f,g,v,m,_,w,S,R,T,x,A=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(l=t.__h,a=e.__e=t.__e,e.__h=null,o=[a]),(u=de.__b)&&u(e);try{e:if(typeof A=="function"){if(v=e.props,m=(u=A.contextType)&&n[u.__c],_=u?m?m.props.value:u.__:n,t.__c?g=(c=e.__c=t.__c).__=c.__E:("prototype"in A&&A.prototype.render?e.__c=c=new A(v,_):(e.__c=c=new xn(v,_),c.constructor=A,c.render=n6),m&&m.sub(c),c.props=v,c.state||(c.state={}),c.context=_,c.__n=n,d=c.__d=!0,c.__h=[],c._sb=[]),c.__s==null&&(c.__s=c.state),A.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=ia({},c.__s)),ia(c.__s,A.getDerivedStateFromProps(v,c.__s))),h=c.props,p=c.state,c.__v=e,d)A.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(A.getDerivedStateFromProps==null&&v!==h&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(v,_),!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(v,c.__s,_)===!1||e.__v===t.__v){for(e.__v!==t.__v&&(c.props=v,c.state=c.__s,c.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(U){U&&(U.__=e)}),w=0;w<c._sb.length;w++)c.__h.push(c._sb[w]);c._sb=[],c.__h.length&&s.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(v,c.__s,_),c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(h,p,f)})}if(c.context=_,c.props=v,c.__P=i,S=de.__r,R=0,"prototype"in A&&A.prototype.render){for(c.state=c.__s,c.__d=!1,S&&S(e),u=c.render(c.props,c.state,c.context),T=0;T<c._sb.length;T++)c.__h.push(c._sb[T]);c._sb=[]}else do c.__d=!1,S&&S(e),u=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++R<25);c.state=c.__s,c.getChildContext!=null&&(n=ia(ia({},n),c.getChildContext())),d||c.getSnapshotBeforeUpdate==null||(f=c.getSnapshotBeforeUpdate(h,p)),x=u!=null&&u.type===Xe&&u.key==null?u.props.children:u,pL(i,Array.isArray(x)?x:[x],e,t,n,r,o,s,a,l),c.base=e.__e,e.__h=null,c.__h.length&&s.push(c),g&&(c.__E=c.__=null),c.__e=!1}else o==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=t6(t.__e,e,t,n,r,o,s,l);(u=de.diffed)&&u(e)}catch(U){e.__v=null,(l||o!=null)&&(e.__e=a,e.__h=!!l,o[o.indexOf(a)]=null),de.__e(U,e,t)}}function mL(i,e){de.__c&&de.__c(e,i),i.some(function(t){try{i=t.__h,t.__h=[],i.some(function(n){n.call(t)})}catch(n){de.__e(n,t.__v)}})}function t6(i,e,t,n,r,o,s,a){var l,u,c,d=t.props,h=e.props,p=e.type,f=0;if(p==="svg"&&(r=!0),o!=null){for(;f<o.length;f++)if((l=o[f])&&"setAttribute"in l==!!p&&(p?l.localName===p:l.nodeType===3)){i=l,o[f]=null;break}}if(i==null){if(p===null)return document.createTextNode(h);i=r?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,h.is&&h),o=null,a=!1}if(p===null)d===h||a&&i.data===h||(i.data=h);else{if(o=o&&Wm.call(i.childNodes),u=(d=t.props||Bm).dangerouslySetInnerHTML,c=h.dangerouslySetInnerHTML,!a){if(o!=null)for(d={},f=0;f<i.attributes.length;f++)d[i.attributes[f].name]=i.attributes[f].value;(c||u)&&(c&&(u&&c.__html==u.__html||c.__html===i.innerHTML)||(i.innerHTML=c&&c.__html||""))}if(JY(i,h,d,r,a),c)e.__k=[];else if(f=e.props.children,pL(i,Array.isArray(f)?f:[f],e,t,n,r&&p!=="foreignObject",o,s,o?o[0]:t.__k&&Bh(t,0),a),o!=null)for(f=o.length;f--;)o[f]!=null&&dL(o[f]);a||("value"in h&&(f=h.value)!==void 0&&(f!==i.value||p==="progress"&&!f||p==="option"&&f!==d.value)&&jm(i,"value",f,d.value,!1),"checked"in h&&(f=h.checked)!==void 0&&f!==i.checked&&jm(i,"checked",f,d.checked,!1))}return i}function yL(i,e,t){try{typeof i=="function"?i(e):i.current=e}catch(n){de.__e(n,t)}}function CL(i,e,t){var n,r;if(de.unmount&&de.unmount(i),(n=i.ref)&&(n.current&&n.current!==i.__e||yL(n,null,e)),(n=i.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(o){de.__e(o,e)}n.base=n.__P=null,i.__c=void 0}if(n=i.__k)for(r=0;r<n.length;r++)n[r]&&CL(n[r],e,t||typeof i.type!="function");t||i.__e==null||dL(i.__e),i.__=i.__e=i.__d=void 0}function n6(i,e,t){return this.constructor(i,t)}function ra(i,e,t){var n,r,o;de.__&&de.__(i,e),r=(n=typeof t=="function")?null:t&&t.__k||e.__k,o=[],mb(e,i=(!n&&t||e).__k=E(Xe,null,[i]),r||Bm,Bm,e.ownerSVGElement!==void 0,!n&&t?[t]:r?null:e.firstChild?Wm.call(e.childNodes):null,o,!n&&t?t:r?r.__e:e.firstChild,n),mL(o,i)}function zm(i,e){var t={__c:e="__cC"+uL++,__:i,Consumer:function(n,r){return n.children(r)},Provider:function(n){var r,o;return this.getChildContext||(r=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&r.some(function(a){a.__e=!0,gb(a)})},this.sub=function(s){r.push(s);var a=s.componentWillUnmount;s.componentWillUnmount=function(){r.splice(r.indexOf(s),1),a&&a.call(s)}}),n.children}};return t.Provider.__=t.Consumer.contextType=t}Wm=cL.slice,de={__e:function(i,e,t,n){for(var r,o,s;e=e.__;)if((r=e.__c)&&!r.__)try{if((o=r.constructor)&&o.getDerivedStateFromError!=null&&(r.setState(o.getDerivedStateFromError(i)),s=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(i,n||{}),s=r.__d),s)return r.__E=r}catch(a){i=a}throw i}},aL=0,vb=function(i){return i!=null&&i.constructor===void 0},bc=!1,xn.prototype.setState=function(i,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ia({},this.state),typeof i=="function"&&(i=i(ia({},t),this.props)),i&&ia(t,i),i!=null&&this.__v&&(e&&this._sb.push(e),gb(this))},xn.prototype.forceUpdate=function(i){this.__v&&(this.__e=!0,i&&this.__h.push(i),gb(this))},xn.prototype.render=Xe,ml=[],lL=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Um.__r=0,uL=0;var r6,Eo,yb,_L;var TL=[],Cb=[],wL=de.__b,SL=de.__r,EL=de.diffed,bL=de.__c,DL=de.unmount;function o6(){for(var i;i=TL.shift();)if(i.__P&&i.__H)try{i.__H.__h.forEach($m),i.__H.__h.forEach(_b),i.__H.__h=[]}catch(e){i.__H.__h=[],de.__e(e,i.__v)}}de.__b=function(i){Eo=null,wL&&wL(i)},de.__r=function(i){SL&&SL(i),r6=0;var e=(Eo=i.__c).__H;e&&(yb===Eo?(e.__h=[],Eo.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=Cb,t.__N=t.i=void 0})):(e.__h.forEach($m),e.__h.forEach(_b),e.__h=[])),yb=Eo},de.diffed=function(i){EL&&EL(i);var e=i.__c;e&&e.__H&&(e.__H.__h.length&&(TL.push(e)!==1&&_L===de.requestAnimationFrame||((_L=de.requestAnimationFrame)||s6)(o6)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==Cb&&(t.__=t.__V),t.i=void 0,t.__V=Cb})),yb=Eo=null},de.__c=function(i,e){e.some(function(t){try{t.__h.forEach($m),t.__h=t.__h.filter(function(n){return!n.__||_b(n)})}catch(n){e.some(function(r){r.__h&&(r.__h=[])}),e=[],de.__e(n,t.__v)}}),bL&&bL(i,e)},de.unmount=function(i){DL&&DL(i);var e,t=i.__c;t&&t.__H&&(t.__H.__.forEach(function(n){try{$m(n)}catch(r){e=r}}),t.__H=void 0,e&&de.__e(e,t.__v))};var RL=typeof requestAnimationFrame=="function";function s6(i){var e,t=function(){clearTimeout(n),RL&&cancelAnimationFrame(e),setTimeout(i)},n=setTimeout(t,100);RL&&(e=requestAnimationFrame(t))}function $m(i){var e=Eo,t=i.__c;typeof t=="function"&&(i.__c=void 0,t()),Eo=e}function _b(i){var e=Eo;i.__c=i.__(),Eo=e}function a6(i,e){for(var t in e)i[t]=e[t];return i}function AL(i,e){for(var t in i)if(t!=="__source"&&!(t in e))return!0;for(var n in e)if(n!=="__source"&&i[n]!==e[n])return!0;return!1}function OL(i){this.props=i}(OL.prototype=new xn).isPureReactComponent=!0,OL.prototype.shouldComponentUpdate=function(i,e){return AL(this.props,i)||AL(this.state,e)};var IL=de.__b;de.__b=function(i){i.type&&i.type.__f&&i.ref&&(i.props.ref=i.ref,i.ref=null),IL&&IL(i)};var S0e=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;var l6=de.__e;de.__e=function(i,e,t,n){if(i.then){for(var r,o=e;o=o.__;)if((r=o.__c)&&r.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),r.__c(i,e)}l6(i,e,t,n)};var ML=de.unmount;function kL(i,e,t){return i&&(i.__c&&i.__c.__H&&(i.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),i.__c.__H=null),(i=a6({},i)).__c!=null&&(i.__c.__P===t&&(i.__c.__P=e),i.__c=null),i.__k=i.__k&&i.__k.map(function(n){return kL(n,e,t)})),i}function VL(i,e,t){return i&&(i.__v=null,i.__k=i.__k&&i.__k.map(function(n){return VL(n,e,t)}),i.__c&&i.__c.__P===e&&(i.__e&&t.insertBefore(i.__e,i.__d),i.__c.__e=!0,i.__c.__P=t)),i}function wb(){this.__u=0,this.t=null,this.__b=null}function GL(i){var e=i.__.__c;return e&&e.__a&&e.__a(i)}function qm(){this.u=null,this.o=null}de.unmount=function(i){var e=i.__c;e&&e.__R&&e.__R(),e&&i.__h===!0&&(i.type=null),ML&&ML(i)},(wb.prototype=new xn).__c=function(i,e){var t=e.__c,n=this;n.t==null&&(n.t=[]),n.t.push(t);var r=GL(n.__v),o=!1,s=function(){o||(o=!0,t.__R=null,r?r(a):a())};t.__R=s;var a=function(){if(!--n.__u){if(n.state.__a){var u=n.state.__a;n.__v.__k[0]=VL(u,u.__c.__P,u.__c.__O)}var c;for(n.setState({__a:n.__b=null});c=n.t.pop();)c.forceUpdate()}},l=e.__h===!0;n.__u++||l||n.setState({__a:n.__b=n.__v.__k[0]}),i.then(s,s)},wb.prototype.componentWillUnmount=function(){this.t=[]},wb.prototype.render=function(i,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=kL(this.__b,t,n.__O=n.__P)}this.__b=null}var r=e.__a&&E(Xe,null,i.fallback);return r&&(r.__h=null),[E(Xe,null,e.__a?null:i.children),r]};var xL=function(i,e,t){if(++t[1]===t[0]&&i.o.delete(e),i.props.revealOrder&&(i.props.revealOrder[0]!=="t"||!i.o.size))for(t=i.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;i.u=t=t[2]}};function u6(i){return this.getChildContext=function(){return i.context},i.children}function c6(i){var e=this,t=i.i;e.componentWillUnmount=function(){ra(null,e.l),e.l=null,e.i=null},e.i&&e.i!==t&&e.componentWillUnmount(),i.__v?(e.l||(e.i=t,e.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,r){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),ra(E(u6,{context:e.context},i.__v),e.l)):e.l&&e.componentWillUnmount()}function HL(i,e){var t=E(c6,{__v:i,i:e});return t.containerInfo=e,t}(qm.prototype=new xn).__a=function(i){var e=this,t=GL(e.__v),n=e.o.get(i);return n[0]++,function(r){var o=function(){e.props.revealOrder?(n.push(r),xL(e,i,n)):r()};t?t(o):o()}},qm.prototype.render=function(i){this.u=null,this.o=new Map;var e=jh(i.children);i.revealOrder&&i.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return i.children},qm.prototype.componentDidUpdate=qm.prototype.componentDidMount=function(){var i=this;this.o.forEach(function(e,t){xL(i,t,e)})};var d6=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,h6=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,p6=typeof document<"u",f6=function(i){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(i)};xn.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(i){Object.defineProperty(xn.prototype,i,{configurable:!0,get:function(){return this["UNSAFE_"+i]},set:function(e){Object.defineProperty(this,i,{configurable:!0,writable:!0,value:e})}})});var PL=de.event;function g6(){}function v6(){return this.cancelBubble}function m6(){return this.defaultPrevented}de.event=function(i){return PL&&(i=PL(i)),i.persist=g6,i.isPropagationStopped=v6,i.isDefaultPrevented=m6,i.nativeEvent=i};var y6,FL={configurable:!0,get:function(){return this.class}},NL=de.vnode;de.vnode=function(i){var e=i.type,t=i.props,n=t;if(typeof e=="string"){var r=e.indexOf("-")===-1;for(var o in n={},t){var s=t[o];p6&&o==="children"&&e==="noscript"||o==="value"&&"defaultValue"in t&&s==null||(o==="defaultValue"&&"value"in t&&t.value==null?o="value":o==="download"&&s===!0?s="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+e)&&!f6(t.type)?o="oninput":/^onfocus$/i.test(o)?o="onfocusin":/^onblur$/i.test(o)?o="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(o)?o=o.toLowerCase():r&&h6.test(o)?o=o.replace(/[A-Z0-9]/g,"-$&").toLowerCase():s===null&&(s=void 0),/^oninput$/i.test(o)&&(o=o.toLowerCase(),n[o]&&(o="oninputCapture")),n[o]=s)}e=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=jh(t.children).forEach(function(a){a.props.selected=n.value.indexOf(a.props.value)!=-1})),e=="select"&&n.defaultValue!=null&&(n.value=jh(t.children).forEach(function(a){a.props.selected=n.multiple?n.defaultValue.indexOf(a.props.value)!=-1:n.defaultValue==a.props.value})),i.props=n,t.class!=t.className&&(FL.enumerable="className"in t,t.className!=null&&(n.class=t.className),Object.defineProperty(n,"className",FL))}i.$$typeof=d6,NL&&NL(i)};var LL=de.__r;de.__r=function(i){LL&&LL(i),y6=i.__c};var nk=[],Mb=new Map;function da(i){nk.push(i),Mb.forEach(e=>{ok(e,i)})}function ik(i){i.isConnected&&rk(i.getRootNode())}function rk(i){let e=Mb.get(i);if(!e||!e.isConnected){if(e=i.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");let t=_6();t&&(e.nonce=t);let n=i===document?document.head:i,r=i===document?n.querySelector("script,link[rel=stylesheet],link[as=style],style"):n.firstChild;n.insertBefore(e,r)}Mb.set(i,e),C6(e)}}function C6(i){for(let e of nk)ok(i,e)}function ok(i,e){let{sheet:t}=i,n=t.cssRules.length;e.split("}").forEach((r,o)=>{r=r.trim(),r&&t.insertRule(r+"}",n+o)})}var Sb;function _6(){return Sb===void 0&&(Sb=w6()),Sb}function w6(){let i=document.querySelector('meta[name="csp-nonce"]');if(i&&i.hasAttribute("content"))return i.getAttribute("content");let e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&rk(document);var S6=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';da(S6);var _l=class{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:n}=this;e in n&&(t?delete n[e]:(n[e]-=1,n[e]<=0&&delete n[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}};function op(i){i.parentNode&&i.parentNode.removeChild(i)}function sn(i,e){if(i.closest)return i.closest(e);if(!document.documentElement.contains(i))return null;do{if(Ub(i,e))return i;i=i.parentElement||i.parentNode}while(i!==null&&i.nodeType===1);return null}function Ub(i,e){return(i.matches||i.matchesSelector||i.msMatchesSelector).call(i,e)}function sk(i,e){let t=i instanceof HTMLElement?[i]:i,n=[];for(let r=0;r<t.length;r+=1){let o=t[r].querySelectorAll(e);for(let s=0;s<o.length;s+=1)n.push(o[s])}return n}var E6=/(top|left|right|bottom|width|height)$/i;function xl(i,e){for(let t in e)Wb(i,t,e[t])}function Wb(i,e,t){t==null?i.style[e]="":typeof t=="number"&&E6.test(e)?i.style[e]=`${t}px`:i.style[e]=t}function dy(i){var e,t;return(t=(e=i.composedPath)===null||e===void 0?void 0:e.call(i)[0])!==null&&t!==void 0?t:i.target}var BL=0;function vr(){return BL+=1,"fc-dom-"+BL}function sp(i){i.preventDefault()}function b6(i,e){return t=>{let n=sn(t.target,i);n&&e.call(n,t,n)}}function zb(i,e,t,n){let r=b6(t,n);return i.addEventListener(e,r),()=>{i.removeEventListener(e,r)}}function ak(i,e,t,n){let r;return zb(i,"mouseover",e,(o,s)=>{if(s!==r){r=s,t(o,s);let a=l=>{r=null,n(l,s),s.removeEventListener("mouseleave",a)};s.addEventListener("mouseleave",a)}})}var jL=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function $b(i,e){let t=n=>{e(n),jL.forEach(r=>{i.removeEventListener(r,t)})};jL.forEach(n=>{i.addEventListener(n,t)})}function lk(i){return Object.assign({onClick:i},uk(i))}function uk(i){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(i(e),e.preventDefault())}}}var UL=0;function gs(){return UL+=1,String(UL)}function ap(){document.body.classList.add("fc-not-allowed")}function lp(){document.body.classList.remove("fc-not-allowed")}function qb(i){i.style.userSelect="none",i.style.webkitUserSelect="none",i.addEventListener("selectstart",sp)}function Kb(i){i.style.userSelect="",i.style.webkitUserSelect="",i.removeEventListener("selectstart",sp)}function Yb(i){i.addEventListener("contextmenu",sp)}function Qb(i){i.removeEventListener("contextmenu",sp)}function ck(i){let e=[],t=[],n,r;for(typeof i=="string"?t=i.split(/\s*,\s*/):typeof i=="function"?t=[i]:Array.isArray(i)&&(t=i),n=0;n<t.length;n+=1)r=t[n],typeof r=="string"?e.push(r.charAt(0)==="-"?{field:r.substring(1),order:-1}:{field:r,order:1}):typeof r=="function"&&e.push({func:r});return e}function dk(i,e,t){let n,r;for(n=0;n<t.length;n+=1)if(r=D6(i,e,t[n]),r)return r;return 0}function D6(i,e,t){return t.func?t.func(i,e):hk(i[t.field],e[t.field])*(t.order||1)}function hk(i,e){return!i&&!e?0:e==null?-1:i==null?1:typeof i=="string"||typeof e=="string"?String(i).localeCompare(String(e)):i-e}function Cl(i,e){let t=String(i);return"000".substr(0,e-t.length)+t}function Oc(i,e,t){return typeof i=="function"?i(...e):typeof i=="string"?e.reduce((n,r,o)=>n.replace("$"+o,r||""),i):t}function Zb(i,e){return i-e}function Uh(i){return i%1===0}function R6(i){let e=i.querySelector(".fc-scrollgrid-shrink-frame"),t=i.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return i.getBoundingClientRect().width-e.getBoundingClientRect().width+t.getBoundingClientRect().width}var WL=["years","months","days","milliseconds"],T6=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function He(i,e){return typeof i=="string"?A6(i):typeof i=="object"&&i?zL(i):typeof i=="number"?zL({[e||"milliseconds"]:i}):null}function A6(i){let e=T6.exec(i);if(e){let t=e[1]?-1:1;return{years:0,months:0,days:t*(e[2]?parseInt(e[2],10):0),milliseconds:t*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function zL(i){let e={years:i.years||i.year||0,months:i.months||i.month||0,days:i.days||i.day||0,milliseconds:(i.hours||i.hour||0)*60*60*1e3+(i.minutes||i.minute||0)*60*1e3+(i.seconds||i.second||0)*1e3+(i.milliseconds||i.millisecond||i.ms||0)},t=i.weeks||i.week;return t&&(e.days+=t*7,e.specifiedWeeks=!0),e}function O6(i,e){return i.years===e.years&&i.months===e.months&&i.days===e.days&&i.milliseconds===e.milliseconds}function up(i,e){return{years:i.years+e.years,months:i.months+e.months,days:i.days+e.days,milliseconds:i.milliseconds+e.milliseconds}}function pk(i,e){return{years:i.years-e.years,months:i.months-e.months,days:i.days-e.days,milliseconds:i.milliseconds-e.milliseconds}}function Xb(i,e){return{years:i.years*e,months:i.months*e,days:i.days*e,milliseconds:i.milliseconds*e}}function I6(i){return Dc(i)/365}function M6(i){return Dc(i)/30}function Dc(i){return Vi(i)/864e5}function Vi(i){return i.years*(365*864e5)+i.months*(30*864e5)+i.days*864e5+i.milliseconds}function cp(i,e){let t=null;for(let n=0;n<WL.length;n+=1){let r=WL[n];if(e[r]){let o=i[r]/e[r];if(!Uh(o)||t!==null&&t!==o)return null;t=o}else if(i[r])return null}return t}function Wh(i){let e=i.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return i.days?i.specifiedWeeks&&i.days%7===0?{unit:"week",value:i.days/7}:{unit:"day",value:i.days}:i.months?{unit:"month",value:i.months}:i.years?{unit:"year",value:i.years}:{unit:"millisecond",value:0}}function Ro(i,e,t){if(i===e)return!0;let n=i.length,r;if(n!==e.length)return!1;for(r=0;r<n;r+=1)if(!(t?t(i[r],e[r]):i[r]===e[r]))return!1;return!0}var x6=["sun","mon","tue","wed","thu","fri","sat"];function hy(i,e){let t=sa(i);return t[2]+=e*7,di(t)}function jt(i,e){let t=sa(i);return t[2]+=e,di(t)}function bo(i,e){let t=sa(i);return t[6]+=e,di(t)}function Jb(i,e){return To(i,e)/7}function To(i,e){return(e.valueOf()-i.valueOf())/(1e3*60*60*24)}function P6(i,e){return(e.valueOf()-i.valueOf())/(1e3*60*60)}function F6(i,e){return(e.valueOf()-i.valueOf())/(1e3*60)}function N6(i,e){return(e.valueOf()-i.valueOf())/1e3}function fk(i,e){let t=at(i),n=at(e);return{years:0,months:0,days:Math.round(To(t,n)),milliseconds:e.valueOf()-n.valueOf()-(i.valueOf()-t.valueOf())}}function gk(i,e){let t=Rc(i,e);return t!==null&&t%7===0?t/7:null}function Rc(i,e){return aa(i)===aa(e)?Math.round(To(i,e)):null}function at(i){return di([i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()])}function L6(i){return di([i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours()])}function k6(i){return di([i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes()])}function V6(i){return di([i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds()])}function G6(i,e,t){let n=i.getUTCFullYear(),r=Eb(i,n,e,t);if(r<1)return Eb(i,n-1,e,t);let o=Eb(i,n+1,e,t);return o>=1?Math.min(r,o):r}function Eb(i,e,t,n){let r=di([e,0,1+H6(e,t,n)]),o=at(i),s=Math.round(To(r,o));return Math.floor(s/7)+1}function H6(i,e,t){let n=7+e-t;return-((7+di([i,0,n]).getUTCDay()-e)%7)+n-1}function $L(i){return[i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()]}function qL(i){return new Date(i[0],i[1]||0,i[2]==null?1:i[2],i[3]||0,i[4]||0,i[5]||0)}function sa(i){return[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()]}function di(i){return i.length===1&&(i=i.concat([0])),new Date(Date.UTC(...i))}function eD(i){return!isNaN(i.valueOf())}function aa(i){return i.getUTCHours()*1e3*60*60+i.getUTCMinutes()*1e3*60+i.getUTCSeconds()*1e3+i.getUTCMilliseconds()}function py(i,e,t=!1){let n=i.toISOString();return n=n.replace(".000",""),t&&(n=n.replace("T00:00:00Z","")),n.length>10&&(e==null?n=n.replace("Z",""):e!==0&&(n=n.replace("Z",iD(e,!0)))),n}function ha(i){return i.toISOString().replace(/T.*$/,"")}function tD(i){return i.toISOString().match(/^\d{4}-\d{2}/)[0]}function nD(i){return Cl(i.getUTCHours(),2)+":"+Cl(i.getUTCMinutes(),2)+":"+Cl(i.getUTCSeconds(),2)}function iD(i,e=!1){let t=i<0?"-":"+",n=Math.abs(i),r=Math.floor(n/60),o=Math.round(n%60);return e?`${t+Cl(r,2)}:${Cl(o,2)}`:`GMT${t}${r}${o?`:${Cl(o,2)}`:""}`}function ae(i,e,t){let n,r;return function(...o){if(!n)r=i.apply(this,o);else if(!Ro(n,o)){t&&t(r);let s=i.apply(this,o);(!e||!e(s,r))&&(r=s)}return n=o,r}}function Ic(i,e,t){let n,r;return o=>{if(!n)r=i.call(this,o);else if(!Gi(n,o)){t&&t(r);let s=i.call(this,o);(!e||!e(s,r))&&(r=s)}return n=o,r}}var KL={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},ty={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Km=/\s*([ap])\.?m\.?/i,B6=/,/g,j6=/\s+/g,U6=/\u200e/g,W6=/UTC|GMT/,xb=class{constructor(e){let t={},n={},r=0;for(let o in e)o in KL?(n[o]=e[o],r=Math.max(KL[o],r)):(t[o]=e[o],o in ty&&(r=Math.max(ty[o],r)));this.standardDateProps=t,this.extendedSettings=n,this.severity=r,this.buildFormattingFunc=ae(YL)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,n,r){let{standardDateProps:o,extendedSettings:s}=this,a=Q6(e.marker,t.marker,n.calendarSystem);if(!a)return this.format(e,n);let l=a;l>1&&(o.year==="numeric"||o.year==="2-digit")&&(o.month==="numeric"||o.month==="2-digit")&&(o.day==="numeric"||o.day==="2-digit")&&(l=1);let u=this.format(e,n),c=this.format(t,n);if(u===c)return u;let d=Z6(o,l),h=YL(d,s,n),p=h(e),f=h(t),g=X6(u,p,c,f),v=s.separator||r||n.defaultSeparator||"";return g?g.before+p+v+f+g.after:u+v+c}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}};function YL(i,e,t){let n=Object.keys(i).length;return n===1&&i.timeZoneName==="short"?r=>iD(r.timeZoneOffset):n===0&&e.week?r=>Y6(t.computeWeekNumber(r.marker),t.weekText,t.weekTextLong,t.locale,e.week):z6(i,e,t)}function z6(i,e,t){i=Object.assign({},i),e=Object.assign({},e),$6(i,e),i.timeZone="UTC";let n=new Intl.DateTimeFormat(t.locale.codes,i),r;if(e.omitZeroMinute){let o=Object.assign({},i);delete o.minute,r=new Intl.DateTimeFormat(t.locale.codes,o)}return o=>{let{marker:s}=o,a;r&&!s.getUTCMinutes()?a=r:a=n;let l=a.format(s);return q6(l,o,i,e,t)}}function $6(i,e){i.timeZoneName&&(i.hour||(i.hour="2-digit"),i.minute||(i.minute="2-digit")),i.timeZoneName==="long"&&(i.timeZoneName="short"),e.omitZeroMinute&&(i.second||i.millisecond)&&delete e.omitZeroMinute}function q6(i,e,t,n,r){return i=i.replace(U6,""),t.timeZoneName==="short"&&(i=K6(i,r.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":iD(e.timeZoneOffset))),n.omitCommas&&(i=i.replace(B6,"").trim()),n.omitZeroMinute&&(i=i.replace(":00","")),n.meridiem===!1?i=i.replace(Km,"").trim():n.meridiem==="narrow"?i=i.replace(Km,(o,s)=>s.toLocaleLowerCase()):n.meridiem==="short"?i=i.replace(Km,(o,s)=>`${s.toLocaleLowerCase()}m`):n.meridiem==="lowercase"&&(i=i.replace(Km,o=>o.toLocaleLowerCase())),i=i.replace(j6," "),i=i.trim(),i}function K6(i,e){let t=!1;return i=i.replace(W6,()=>(t=!0,e)),t||(i+=` ${e}`),i}function Y6(i,e,t,n,r){let o=[];return r==="long"?o.push(t):(r==="short"||r==="narrow")&&o.push(e),(r==="long"||r==="short")&&o.push(" "),o.push(n.simpleNumberFormat.format(i)),n.options.direction==="rtl"&&o.reverse(),o.join("")}function Q6(i,e,t){return t.getMarkerYear(i)!==t.getMarkerYear(e)?5:t.getMarkerMonth(i)!==t.getMarkerMonth(e)?4:t.getMarkerDay(i)!==t.getMarkerDay(e)?2:aa(i)!==aa(e)?1:0}function Z6(i,e){let t={};for(let n in i)(!(n in ty)||ty[n]<=e)&&(t[n]=i[n]);return t}function X6(i,e,t,n){let r=0;for(;r<i.length;){let o=i.indexOf(e,r);if(o===-1)break;let s=i.substr(0,o);r=o+e.length;let a=i.substr(r),l=0;for(;l<t.length;){let u=t.indexOf(n,l);if(u===-1)break;let c=t.substr(0,u);l=u+n.length;let d=t.substr(l);if(s===c&&a===d)return{before:s,after:a}}}return null}function QL(i,e){let t=e.markerToArray(i.marker);return{marker:i.marker,timeZoneOffset:i.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function ny(i,e,t,n){let r=QL(i,t.calendarSystem),o=e?QL(e,t.calendarSystem):null;return{date:r,start:r,end:o,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:n||t.defaultSeparator}}var Pb=class{constructor(e){this.cmdStr=e}format(e,t,n){return t.cmdFormatter(this.cmdStr,ny(e,null,t,n))}formatRange(e,t,n,r){return n.cmdFormatter(this.cmdStr,ny(e,t,n,r))}},Fb=class{constructor(e){this.func=e}format(e,t,n){return this.func(ny(e,null,t,n))}formatRange(e,t,n,r){return this.func(ny(e,t,n,r))}};function dt(i){return typeof i=="object"&&i?new xb(i):typeof i=="string"?new Pb(i):typeof i=="function"?new Fb(i):null}var rD={navLinkDayClick:M,navLinkWeekClick:M,duration:He,bootstrapFontAwesome:M,buttonIcons:M,customButtons:M,defaultAllDayEventDuration:He,defaultTimedEventDuration:He,nextDayThreshold:He,scrollTime:He,scrollTimeReset:Boolean,slotMinTime:He,slotMaxTime:He,dayPopoverFormat:dt,slotDuration:He,snapDuration:He,headerToolbar:M,footerToolbar:M,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:dt,dayHeaderClassNames:M,dayHeaderContent:M,dayHeaderDidMount:M,dayHeaderWillUnmount:M,dayCellClassNames:M,dayCellContent:M,dayCellDidMount:M,dayCellWillUnmount:M,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:M,weekNumbers:Boolean,weekNumberClassNames:M,weekNumberContent:M,weekNumberDidMount:M,weekNumberWillUnmount:M,editable:Boolean,viewClassNames:M,viewDidMount:M,viewWillUnmount:M,nowIndicator:Boolean,nowIndicatorClassNames:M,nowIndicatorContent:M,nowIndicatorDidMount:M,nowIndicatorWillUnmount:M,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:M,locale:M,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:M,eventOrder:ck,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:M,contentHeight:M,direction:String,weekNumberFormat:dt,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:M,initialDate:M,now:M,eventDataTransform:M,stickyHeaderDates:M,stickyFooterScrollbar:M,viewHeight:M,defaultAllDay:Boolean,eventSourceFailure:M,eventSourceSuccess:M,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:M,eventConstraint:M,eventAllow:M,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:M,eventContent:M,eventDidMount:M,eventWillUnmount:M,selectConstraint:M,selectOverlap:M,selectAllow:M,droppable:Boolean,unselectCancel:String,slotLabelFormat:M,slotLaneClassNames:M,slotLaneContent:M,slotLaneDidMount:M,slotLaneWillUnmount:M,slotLabelClassNames:M,slotLabelContent:M,slotLabelDidMount:M,slotLabelWillUnmount:M,dayMaxEvents:M,dayMaxEventRows:M,dayMinWidth:Number,slotLabelInterval:He,allDayText:String,allDayClassNames:M,allDayContent:M,allDayDidMount:M,allDayWillUnmount:M,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:dt,rerenderDelay:Number,moreLinkText:M,moreLinkHint:M,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:M,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:He,hiddenDays:M,fixedWeekCount:Boolean,validRange:M,visibleRange:M,titleFormat:M,eventInteractive:Boolean,noEventsText:String,viewHint:M,navLinkHint:M,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:M,moreLinkClassNames:M,moreLinkContent:M,moreLinkDidMount:M,moreLinkWillUnmount:M,monthStartFormat:dt,handleCustomRendering:M,customRenderingMetaMap:M,customRenderingReplaces:Boolean},pa={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},oD={datesSet:M,eventsSet:M,eventAdd:M,eventChange:M,eventRemove:M,windowResize:M,eventClick:M,eventMouseEnter:M,eventMouseLeave:M,select:M,unselect:M,loading:M,_unmount:M,_beforeprint:M,_afterprint:M,_noEventDrop:M,_noEventResize:M,_resize:M,_scrollRequest:M},sD={buttonText:M,buttonHints:M,views:M,plugins:M,initialEvents:M,events:M,eventSources:M},fa={headerToolbar:yl,footerToolbar:yl,buttonText:yl,buttonHints:yl,buttonIcons:yl,dateIncrement:yl,plugins:Ym,events:Ym,eventSources:Ym,resources:Ym};function yl(i,e){return typeof i=="object"&&typeof e=="object"&&i&&e?Gi(i,e):i===e}function Ym(i,e){return Array.isArray(i)&&Array.isArray(e)?Ro(i,e):i===e}var vk={type:String,component:M,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:M,usesMinMaxTime:Boolean,classNames:M,content:M,didMount:M,willUnmount:M};function fy(i){return vy(i,fa)}function gy(i,e){let t={},n={};for(let r in e)r in i&&(t[r]=e[r](i[r]));for(let r in i)r in e||(n[r]=i[r]);return{refined:t,extra:n}}function M(i){return i}var{hasOwnProperty:iy}=Object.prototype;function vy(i,e){let t={};if(e){for(let n in e)if(e[n]===yl){let r=[];for(let o=i.length-1;o>=0;o-=1){let s=i[o][n];if(typeof s=="object"&&s)r.unshift(s);else if(s!==void 0){t[n]=s;break}}r.length&&(t[n]=vy(r))}}for(let n=i.length-1;n>=0;n-=1){let r=i[n];for(let o in r)o in t||(t[o]=r[o])}return t}function ds(i,e){let t={};for(let n in i)e(i[n],n)&&(t[n]=i[n]);return t}function gr(i,e){let t={};for(let n in i)t[n]=e(i[n],n);return t}function aD(i){let e={};for(let t of i)e[t]=!0;return e}function my(i){let e=[];for(let t in i)e.push(i[t]);return e}function Gi(i,e){if(i===e)return!0;for(let t in i)if(iy.call(i,t)&&!(t in e))return!1;for(let t in e)if(iy.call(e,t)&&i[t]!==e[t])return!1;return!0}var J6=/^on[A-Z]/;function eQ(i,e){let t=Nb(i,e);for(let n of t)if(!J6.test(n))return!1;return!0}function Nb(i,e){let t=[];for(let n in i)iy.call(i,n)&&(n in e||t.push(n));for(let n in e)iy.call(e,n)&&i[n]!==e[n]&&t.push(n);return t}function Jm(i,e,t={}){if(i===e)return!0;for(let n in e)if(!(n in i&&tQ(i[n],e[n],t[n])))return!1;for(let n in i)if(!(n in e))return!1;return!0}function tQ(i,e,t){return i===e||t===!0?!0:t?t(i,e):!1}function mk(i,e=0,t,n=1){let r=[];t==null&&(t=Object.keys(i).length);for(let o=e;o<t;o+=n){let s=i[o];s!==void 0&&r.push(s)}return r}var yk={};function nQ(i,e){yk[i]=e}function iQ(i){return new yk[i]}var Lb=class{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return di(e)}markerToArray(e){return sa(e)}};nQ("gregory",Lb);var rQ=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function Ck(i){let e=rQ.exec(i);if(e){let t=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(eD(t)){let n=null;return e[13]&&(n=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:t,isTimeUnspecified:!e[6],timeZoneOffset:n}}}return null}var zh=class{constructor(e){let t=this.timeZone=e.timeZone,n=t!=="local"&&t!=="UTC";e.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=!!(!n||this.namedTimeZoneImpl),this.calendarSystem=iQ(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return t===null?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):di($L(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let t=null;return typeof e=="number"?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=di(e)),t===null||!eD(t)?null:{marker:t,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let t=Ck(e);if(t===null)return null;let{marker:n}=t,r=null;return t.timeZoneOffset!==null&&(this.canComputeOffset?n=this.timestampToMarker(n.valueOf()-t.timeZoneOffset*60*1e3):r=t.timeZoneOffset),{marker:n,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:r}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]+=t.years,n[1]+=t.months,n[2]+=t.days,n[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(n)}subtract(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]-=t.years,n[1]-=t.months,n[2]-=t.days,n[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(n)}addYears(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]+=t,this.calendarSystem.arrayToMarker(n)}addMonths(e,t){let n=this.calendarSystem.markerToArray(e);return n[1]+=t,this.calendarSystem.arrayToMarker(n)}diffWholeYears(e,t){let{calendarSystem:n}=this;return aa(e)===aa(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)&&n.getMarkerMonth(e)===n.getMarkerMonth(t)?n.getMarkerYear(t)-n.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:n}=this;return aa(e)===aa(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)?n.getMarkerMonth(t)-n.getMarkerMonth(e)+(n.getMarkerYear(t)-n.getMarkerYear(e))*12:null}greatestWholeUnit(e,t){let n=this.diffWholeYears(e,t);return n!==null?{unit:"year",value:n}:(n=this.diffWholeMonths(e,t),n!==null?{unit:"month",value:n}:(n=gk(e,t),n!==null?{unit:"week",value:n}:(n=Rc(e,t),n!==null?{unit:"day",value:n}:(n=P6(e,t),Uh(n)?{unit:"hour",value:n}:(n=F6(e,t),Uh(n)?{unit:"minute",value:n}:(n=N6(e,t),Uh(n)?{unit:"second",value:n}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,n){let r;return n.years&&(r=this.diffWholeYears(e,t),r!==null)?r/I6(n):n.months&&(r=this.diffWholeMonths(e,t),r!==null)?r/M6(n):n.days&&(r=Rc(e,t),r!==null)?r/Dc(n):(t.valueOf()-e.valueOf())/Vi(n)}startOf(e,t){return t==="year"?this.startOfYear(e):t==="month"?this.startOfMonth(e):t==="week"?this.startOfWeek(e):t==="day"?at(e):t==="hour"?L6(e):t==="minute"?k6(e):t==="second"?V6(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):G6(e,this.weekDow,this.weekDoy)}format(e,t,n={}){return t.format({marker:e,timeZoneOffset:n.forcedTzo!=null?n.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,n,r={}){return r.isEndExclusive&&(t=bo(t,-1)),n.formatRange({marker:e,timeZoneOffset:r.forcedStartTzo!=null?r.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:r.forcedEndTzo!=null?r.forcedEndTzo:this.offsetForMarker(t)},this,r.defaultSeparator)}formatIso(e,t={}){let n=null;return t.omitTimeZoneOffset||(t.forcedTzo!=null?n=t.forcedTzo:n=this.offsetForMarker(e)),py(e,n,t.omitTime)}timestampToMarker(e){return this.timeZone==="local"?di($L(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):di(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-qL(sa(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(sa(e)):null}toDate(e,t){return this.timeZone==="local"?qL(sa(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(sa(e))*1e3*60):new Date(e.valueOf()-(t||0))}},hs=class{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,n;if(typeof e=="object"&&e){t=Object.assign({},this.iconClasses);for(n in e)t[n]=this.applyIconOverridePrefix(e[n]);this.iconClasses=t}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&e.indexOf(t)!==0&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let n;return t&&this.rtlIconClasses?n=this.rtlIconClasses[e]||this.iconClasses[e]:n=this.iconClasses[e],n?`${this.baseIconClass} ${n}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}};hs.prototype.classes={};hs.prototype.iconClasses={};hs.prototype.baseIconClass="";hs.prototype.iconOverridePrefix="";function lD(i){i();let e=de.debounceRendering,t=[];function n(r){t.push(r)}for(de.debounceRendering=n,ra(E(kb,{}),document.createElement("div"));t.length;)t.shift()();de.debounceRendering=e}var kb=class extends xn{render(){return E("div",{})}componentDidMount(){this.setState({})}};function _k(i){let e=zm(i),t=e.Provider;return e.Provider=function(){let n=!this.getChildContext,r=t.apply(this,arguments);if(n){let o=[];this.shouldComponentUpdate=s=>{this.props.value!==s.value&&o.forEach(a=>{a.context=s.value,a.forceUpdate()})},this.sub=s=>{o.push(s);let a=s.componentWillUnmount;s.componentWillUnmount=()=>{o.splice(o.indexOf(s),1),a&&a.call(s)}}}return r},e}var ry=class{constructor(e,t,n,r){this.execFunc=e,this.emitter=t,this.scrollTime=n,this.scrollTimeReset=r,this.handleScrollRequest=o=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},o),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}},mr=_k({});function wk(i,e,t,n,r,o,s,a,l,u,c,d,h){return{dateEnv:r,options:t,pluginHooks:s,emitter:u,dispatch:a,getCurrentData:l,calendarApi:c,viewSpec:i,viewApi:e,dateProfileGenerator:n,theme:o,isRtl:t.direction==="rtl",addResizeHandler(p){u.on("_resize",p)},removeResizeHandler(p){u.off("_resize",p)},createScrollResponder(p){return new ry(p,u,He(t.scrollTime),t.scrollTimeReset)},registerInteractiveComponent:d,unregisterInteractiveComponent:h}}var dp=(()=>{class i extends xn{shouldComponentUpdate(t,n){return this.debug&&console.log(Nb(t,this.props),Nb(n,this.state)),!Jm(this.props,t,this.propEquality)||!Jm(this.state,n,this.stateEquality)}safeSetState(t){Jm(this.state,Object.assign(Object.assign({},this.state),t),this.stateEquality)||this.setState(t)}}return i.addPropsEquality=oQ,i.addStateEquality=sQ,i.contextType=mr,i})();dp.prototype.propEquality={};dp.prototype.stateEquality={};var Ke=(()=>{class i extends dp{}return i.contextType=mr,i})();function oQ(i){let e=Object.create(this.prototype.propEquality);Object.assign(e,i),this.prototype.propEquality=e}function sQ(i){let e=Object.create(this.prototype.stateEquality);Object.assign(e,i),this.prototype.stateEquality=e}function yr(i,e){typeof i=="function"?i(e):i&&(i.current=e)}var $h=class extends Ke{constructor(){super(...arguments),this.id=gs(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{let{options:t}=this.context,{generatorName:n}=this.props;(!t.customRenderingReplaces||!Vb(n,t))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&yr(this.props.elRef,e)}}render(){let{props:e,context:t}=this,{options:n}=t,{customGenerator:r,defaultGenerator:o,renderProps:s}=e,a=uD(e,[],this.handleEl),l=!1,u,c=[],d;if(r!=null){let h=typeof r=="function"?r(s,E):r;if(h===!0)l=!0;else{let p=h&&typeof h=="object";p&&"html"in h?a.dangerouslySetInnerHTML={__html:h.html}:p&&"domNodes"in h?c=Array.prototype.slice.call(h.domNodes):(p?vb(h):typeof h!="function")?u=h:d=h}}else l=!Vb(e.generatorName,n);return l&&o&&(u=o(s)),this.queuedDomNodes=c,this.currentGeneratorMeta=d,E(e.elTag,a,u)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;let{props:n,context:r}=this,{handleCustomRendering:o,customRenderingMetaMap:s}=r.options;if(o){let a=(t=this.currentGeneratorMeta)!==null&&t!==void 0?t:s?.[n.generatorName];a&&o(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:a},n),{elClasses:(n.elClasses||[]).filter(aQ)}))}}applyQueueudDomNodes(){let{queuedDomNodes:e,currentDomNodes:t}=this,n=this.base;if(!Ro(e,t)){t.forEach(op);for(let r of e)n.appendChild(r);this.currentDomNodes=e}}};$h.addPropsEquality({elClasses:Ro,elStyle:Gi,elAttrs:eQ,renderProps:Gi});function Vb(i,e){var t;return!!(e.handleCustomRendering&&i&&(!((t=e.customRenderingMetaMap)===null||t===void 0)&&t[i]))}function uD(i,e,t){let n=Object.assign(Object.assign({},i.elAttrs),{ref:t});return(i.elClasses||e)&&(n.className=(i.elClasses||[]).concat(e||[]).concat(n.className||[]).filter(Boolean).join(" ")),i.elStyle&&(n.style=i.elStyle),n}function aQ(i){return!!i}var cD=_k(0),an=(()=>{class i extends xn{constructor(){super(...arguments),this.InnerContent=lQ.bind(void 0,this),this.handleEl=t=>{this.el=t,this.props.elRef&&(yr(this.props.elRef,t),t&&this.didMountMisfire&&this.componentDidMount())}}render(){let{props:t}=this,n=uQ(t.classNameGenerator,t.renderProps);if(t.children){let r=uD(t,n,this.handleEl),o=t.children(this.InnerContent,t.renderProps,r);return t.elTag?E(t.elTag,r,o):o}else return E($h,Object.assign(Object.assign({},t),{elRef:this.handleEl,elTag:t.elTag||"div",elClasses:(t.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var t,n;this.el?(n=(t=this.props).didMount)===null||n===void 0||n.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var t,n;(n=(t=this.props).willUnmount)===null||n===void 0||n.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}return i.contextType=cD,i})();function lQ(i,e){let t=i.props;return E($h,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:i.context},e))}function uQ(i,e){let t=typeof i=="function"?i(e):i||[];return typeof t=="string"?[t]:t}var Wr=class extends Ke{render(){let{props:e,context:t}=this,{options:n}=t,r={view:t.viewApi};return E(an,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...dD(e.viewSpec),...e.elClasses||[]],renderProps:r,classNameGenerator:n.viewClassNames,generatorName:void 0,didMount:n.viewDidMount,willUnmount:n.viewWillUnmount}),()=>e.children)}};function dD(i){return[`fc-${i.type}-view`,"fc-view"]}function cQ(i,e){let t=null,n=null;return i.start&&(t=e.createMarker(i.start)),i.end&&(n=e.createMarker(i.end)),!t&&!n||t&&n&&n<t?null:{start:t,end:n}}function ZL(i,e){let t=[],{start:n}=e,r,o;for(i.sort(dQ),r=0;r<i.length;r+=1)o=i[r],o.start>n&&t.push({start:n,end:o.start}),o.end>n&&(n=o.end);return n<e.end&&t.push({start:n,end:e.end}),t}function dQ(i,e){return i.start.valueOf()-e.start.valueOf()}function Hi(i,e){let{start:t,end:n}=i,r=null;return e.start!==null&&(t===null?t=e.start:t=new Date(Math.max(t.valueOf(),e.start.valueOf()))),e.end!=null&&(n===null?n=e.end:n=new Date(Math.min(n.valueOf(),e.end.valueOf()))),(t===null||n===null||t<n)&&(r={start:t,end:n}),r}function Sk(i,e){return(i.start===null?null:i.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(i.end===null?null:i.end.valueOf())===(e.end===null?null:e.end.valueOf())}function yy(i,e){return(i.end===null||e.start===null||i.end>e.start)&&(i.start===null||e.end===null||i.start<e.end)}function Mc(i,e){return(i.start===null||e.start!==null&&e.start>=i.start)&&(i.end===null||e.end!==null&&e.end<=i.end)}function fr(i,e){return(i.start===null||e>=i.start)&&(i.end===null||e<i.end)}function hQ(i,e){return e.start!=null&&i<e.start?e.start:e.end!=null&&i>=e.end?new Date(e.end.valueOf()-1):i}function Ek(i){let e=Math.floor(To(i.start,i.end))||1,t=at(i.start),n=jt(t,e);return{start:t,end:n}}function Cy(i,e=He(0)){let t=null,n=null;if(i.end){n=at(i.end);let r=i.end.valueOf()-n.valueOf();r&&r>=Vi(e)&&(n=jt(n,1))}return i.start&&(t=at(i.start),n&&n<=t&&(n=jt(t,1))),{start:t,end:n}}function hD(i){let e=Cy(i);return To(e.start,e.end)>1}function la(i,e,t,n){return n==="year"?He(t.diffWholeYears(i,e),"year"):n==="month"?He(t.diffWholeMonths(i,e),"month"):fk(i,e)}function bk(i,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return i}}function Dk(i,e){let t=i.initialDate;return t!=null?e.createMarker(t):xc(i.now,e)}function xc(i,e){return typeof i=="function"&&(i=i()),i==null?e.createNowMarker():e.createMarker(i)}var wl=class{constructor(e){this.props=e,this.nowDate=xc(e.nowInput,e.dateEnv),this.initHiddenDays()}buildPrev(e,t,n){let{dateEnv:r}=this.props,o=r.subtract(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(o,-1,n)}buildNext(e,t,n){let{dateEnv:r}=this.props,o=r.add(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(o,1,n)}build(e,t,n=!0){let{props:r}=this,o,s,a,l,u,c;return o=this.buildValidRange(),o=this.trimHiddenDays(o),n&&(e=hQ(e,o)),s=this.buildCurrentRangeInfo(e,t),a=/^(year|month|week|day)$/.test(s.unit),l=this.buildRenderRange(this.trimHiddenDays(s.range),s.unit,a),l=this.trimHiddenDays(l),u=l,r.showNonCurrentDates||(u=Hi(u,s.range)),u=this.adjustActiveRange(u),u=Hi(u,o),c=yy(s.range,o),fr(l,e)||(e=l.start),{currentDate:e,validRange:o,currentRange:s.range,currentRangeUnit:s.unit,isRangeAllDay:a,activeRange:u,renderRange:l,slotMinTime:r.slotMinTime,slotMaxTime:r.slotMaxTime,isValid:c,dateIncrement:this.buildDateIncrement(s.duration)}}buildValidRange(){let e=this.props.validRangeInput,t=typeof e=="function"?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let{props:n}=this,r=null,o=null,s=null,a;return n.duration?(r=n.duration,o=n.durationUnit,s=this.buildRangeFromDuration(e,t,r,o)):(a=this.props.dayCount)?(o="day",s=this.buildRangeFromDayCount(e,t,a)):(s=this.buildCustomVisibleRange(e))?o=n.dateEnv.greatestWholeUnit(s.start,s.end).unit:(r=this.getFallbackDuration(),o=Wh(r).unit,s=this.buildRangeFromDuration(e,t,r,o)),{duration:r,unit:o,range:s}}getFallbackDuration(){return He({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:n,slotMinTime:r,slotMaxTime:o}=this.props,{start:s,end:a}=e;return n&&(Dc(r)<0&&(s=at(s),s=t.add(s,r)),Dc(o)>1&&(a=at(a),a=jt(a,-1),a=t.add(a,o))),{start:s,end:a}}buildRangeFromDuration(e,t,n,r){let{dateEnv:o,dateAlignment:s}=this.props,a,l,u;if(!s){let{dateIncrement:d}=this.props;d&&Vi(d)<Vi(n)?s=Wh(d).unit:s=r}Dc(n)<=1&&this.isHiddenDay(a)&&(a=this.skipHiddenDays(a,t),a=at(a));function c(){a=o.startOf(e,s),l=o.add(a,n),u={start:a,end:l}}return c(),this.trimHiddenDays(u)||(e=this.skipHiddenDays(e,t),c()),u}buildRangeFromDayCount(e,t,n){let{dateEnv:r,dateAlignment:o}=this.props,s=0,a=e,l;o&&(a=r.startOf(a,o)),a=at(a),a=this.skipHiddenDays(a,t),l=a;do l=jt(l,1),this.isHiddenDay(l)||(s+=1);while(s<n);return{start:a,end:l}}buildCustomVisibleRange(e){let{props:t}=this,n=t.visibleRangeInput,r=typeof n=="function"?n.call(t.calendarApi,t.dateEnv.toDate(e)):n,o=this.refineRange(r);return o&&(o.start==null||o.end==null)?null:o}buildRenderRange(e,t,n){return e}buildDateIncrement(e){let{dateIncrement:t}=this.props,n;return t||((n=this.props.dateAlignment)?He(1,n):e||He({days:1}))}refineRange(e){if(e){let t=cQ(e,this.props.dateEnv);return t&&(t=Cy(t)),t}return null}initHiddenDays(){let e=this.props.hiddenDays||[],t=[],n=0,r;for(this.props.weekends===!1&&e.push(0,6),r=0;r<7;r+=1)(t[r]=e.indexOf(r)!==-1)||(n+=1);if(!n)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(e){let{start:t,end:n}=e;return t&&(t=this.skipHiddenDays(t)),n&&(n=this.skipHiddenDays(n,-1,!0)),t==null||n==null||t<n?{start:t,end:n}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,n=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(n?t:0)+7)%7];)e=jt(e,t);return e}};function hp(i,e,t,n){return{instanceId:gs(),defId:i,range:e,forcedStartTzo:t??null,forcedEndTzo:n??null}}function pQ(i,e,t,n){for(let r=0;r<n.length;r+=1){let o=n[r].parse(i,t);if(o){let{allDay:s}=i;return s==null&&(s=e,s==null&&(s=o.allDayGuess,s==null&&(s=!1))),{allDay:s,duration:o.duration,typeData:o.typeData,typeId:r}}}return null}function Sl(i,e,t){let{dateEnv:n,pluginHooks:r,options:o}=t,{defs:s,instances:a}=i;a=ds(a,l=>!s[l.defId].recurringDef);for(let l in s){let u=s[l];if(u.recurringDef){let{duration:c}=u.recurringDef;c||(c=u.allDay?o.defaultAllDayEventDuration:o.defaultTimedEventDuration);let d=fQ(u,c,e,n,r.recurringTypes);for(let h of d){let p=hp(l,{start:h,end:n.add(h,c)});a[p.instanceId]=p}}}return{defs:s,instances:a}}function fQ(i,e,t,n,r){let s=r[i.recurringDef.typeId].expand(i.recurringDef.typeData,{start:n.subtract(t.start,e),end:t.end},n);return i.allDay&&(s=s.map(at)),s}var ey={id:String,groupId:String,title:String,url:String,interactive:Boolean},Rk={start:M,end:M,date:M,allDay:Boolean},gQ=Object.assign(Object.assign(Object.assign({},ey),Rk),{extendedProps:M});function Tk(i,e,t,n,r=pD(t),o,s){let{refined:a,extra:l}=_y(i,t,r),u=mQ(e,t),c=pQ(a,u,t.dateEnv,t.pluginHooks.recurringTypes);if(c){let h=qh(a,l,e?e.sourceId:"",c.allDay,!!c.duration,t,o);return h.recurringDef={typeId:c.typeId,typeData:c.typeData,duration:c.duration},{def:h,instance:null}}let d=vQ(a,u,t,n);if(d){let h=qh(a,l,e?e.sourceId:"",d.allDay,d.hasEnd,t,o),p=hp(h.defId,d.range,d.forcedStartTzo,d.forcedEndTzo);return s&&h.publicId&&s[h.publicId]&&(p.instanceId=s[h.publicId]),{def:h,instance:p}}return null}function _y(i,e,t=pD(e)){return gy(i,t)}function pD(i){return Object.assign(Object.assign(Object.assign({},oy),gQ),i.pluginHooks.eventRefiners)}function qh(i,e,t,n,r,o,s){let a={title:i.title||"",groupId:i.groupId||"",publicId:i.id||"",url:i.url||"",recurringDef:null,defId:(s&&i.id?s[i.id]:"")||gs(),sourceId:t,allDay:n,hasEnd:r,interactive:i.interactive,ui:Pc(i,o),extendedProps:Object.assign(Object.assign({},i.extendedProps||{}),e)};for(let l of o.pluginHooks.eventDefMemberAdders)Object.assign(a,l(i));return Object.freeze(a.ui.classNames),Object.freeze(a.extendedProps),a}function vQ(i,e,t,n){let{allDay:r}=i,o,s=null,a=!1,l,u=null,c=i.start!=null?i.start:i.date;if(o=t.dateEnv.createMarkerMeta(c),o)s=o.marker;else if(!n)return null;return i.end!=null&&(l=t.dateEnv.createMarkerMeta(i.end)),r==null&&(e!=null?r=e:r=(!o||o.isTimeUnspecified)&&(!l||l.isTimeUnspecified)),r&&s&&(s=at(s)),l&&(u=l.marker,r&&(u=at(u)),s&&u<=s&&(u=null)),u?a=!0:n||(a=t.options.forceEventDuration||!1,u=t.dateEnv.add(s,r?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:r,hasEnd:a,range:{start:s,end:u},forcedStartTzo:o?o.forcedTzo:null,forcedEndTzo:l?l.forcedTzo:null}}function mQ(i,e){let t=null;return i&&(t=i.defaultAllDay),t==null&&(t=e.options.defaultAllDay),t}function Kh(i,e,t,n,r,o){let s=Wn(),a=pD(t);for(let l of i){let u=Tk(l,e,t,n,a,r,o);u&&Yh(u,s)}return s}function Yh(i,e=Wn()){return e.defs[i.def.defId]=i.def,i.instance&&(e.instances[i.instance.instanceId]=i.instance),e}function pp(i,e){let t=i.instances[e];if(t){let n=i.defs[t.defId],r=Sy(i,o=>yQ(n,o));return r.defs[n.defId]=n,r.instances[t.instanceId]=t,r}return Wn()}function yQ(i,e){return!!(i.groupId&&i.groupId===e.groupId)}function Wn(){return{defs:{},instances:{}}}function wy(i,e){return{defs:Object.assign(Object.assign({},i.defs),e.defs),instances:Object.assign(Object.assign({},i.instances),e.instances)}}function Sy(i,e){let t=ds(i.defs,e),n=ds(i.instances,r=>t[r.defId]);return{defs:t,instances:n}}function CQ(i,e){let{defs:t,instances:n}=i,r={},o={};for(let s in t)e.defs[s]||(r[s]=t[s]);for(let s in n)!e.instances[s]&&r[n[s].defId]&&(o[s]=n[s]);return{defs:r,instances:o}}function _Q(i,e){return Array.isArray(i)?Kh(i,null,e,!0):typeof i=="object"&&i?Kh([i],null,e,!0):i!=null?String(i):null}function Gb(i){return Array.isArray(i)?i:typeof i=="string"?i.split(/\s+/):[]}var oy={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:M,overlap:M,allow:M,className:Gb,classNames:Gb,color:String,backgroundColor:String,borderColor:String,textColor:String},wQ={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Pc(i,e){let t=_Q(i.constraint,e);return{display:i.display||null,startEditable:i.startEditable!=null?i.startEditable:i.editable,durationEditable:i.durationEditable!=null?i.durationEditable:i.editable,constraints:t!=null?[t]:[],overlap:i.overlap!=null?i.overlap:null,allows:i.allow!=null?[i.allow]:[],backgroundColor:i.backgroundColor||i.color||"",borderColor:i.borderColor||i.color||"",textColor:i.textColor||"",classNames:(i.className||[]).concat(i.classNames||[])}}function fD(i){return i.reduce(SQ,wQ)}function SQ(i,e){return{display:e.display!=null?e.display:i.display,startEditable:e.startEditable!=null?e.startEditable:i.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:i.durationEditable,constraints:i.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:i.overlap,allows:i.allows.concat(e.allows),backgroundColor:e.backgroundColor||i.backgroundColor,borderColor:e.borderColor||i.borderColor,textColor:e.textColor||i.textColor,classNames:i.classNames.concat(e.classNames)}}var EQ={id:String,defaultAllDay:Boolean,url:String,format:String,events:M,eventDataTransform:M,success:M,failure:M};function gD(i,e,t=vD(e)){let n;if(typeof i=="string"?n={url:i}:typeof i=="function"||Array.isArray(i)?n={events:i}:typeof i=="object"&&i&&(n=i),n){let{refined:r,extra:o}=gy(n,t),s=bQ(r,e);if(s)return{_raw:i,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:r.defaultAllDay,eventDataTransform:r.eventDataTransform,success:r.success,failure:r.failure,publicId:r.id||"",sourceId:gs(),sourceDefId:s.sourceDefId,meta:s.meta,ui:Pc(r,e),extendedProps:o}}return null}function vD(i){return Object.assign(Object.assign(Object.assign({},oy),EQ),i.pluginHooks.eventSourceRefiners)}function bQ(i,e){let t=e.pluginHooks.eventSourceDefs;for(let n=t.length-1;n>=0;n-=1){let o=t[n].parseMeta(i);if(o)return{sourceDefId:n,meta:o}}return null}function Ak(i,e,t,n,r){switch(e.type){case"RECEIVE_EVENTS":return DQ(i,t[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,r);case"RESET_RAW_EVENTS":return RQ(i,t[e.sourceId],e.rawEvents,n.activeRange,r);case"ADD_EVENTS":return TQ(i,e.eventStore,n?n.activeRange:null,r);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return wy(i,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?Sl(i,n.activeRange,r):i;case"REMOVE_EVENTS":return CQ(i,e.eventStore);case"REMOVE_EVENT_SOURCE":return Ik(i,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Sy(i,o=>!o.sourceId);case"REMOVE_ALL_EVENTS":return Wn();default:return i}}function DQ(i,e,t,n,r,o){if(e&&t===e.latestFetchId){let s=Kh(Ok(r,e,o),e,o);return n&&(s=Sl(s,n,o)),wy(Ik(i,e.sourceId),s)}return i}function RQ(i,e,t,n,r){let{defIdMap:o,instanceIdMap:s}=OQ(i),a=Kh(Ok(t,e,r),e,r,!1,o,s);return Sl(a,n,r)}function Ok(i,e,t){let n=t.options.eventDataTransform,r=e?e.eventDataTransform:null;return r&&(i=XL(i,r)),n&&(i=XL(i,n)),i}function XL(i,e){let t;if(!e)t=i;else{t=[];for(let n of i){let r=e(n);r?t.push(r):r==null&&t.push(n)}}return t}function TQ(i,e,t,n){return t&&(e=Sl(e,t,n)),wy(i,e)}function mD(i,e,t){let{defs:n}=i,r=gr(i.instances,o=>n[o.defId].allDay?o:Object.assign(Object.assign({},o),{range:{start:t.createMarker(e.toDate(o.range.start,o.forcedStartTzo)),end:t.createMarker(e.toDate(o.range.end,o.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:o.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:o.forcedEndTzo}));return{defs:n,instances:r}}function Ik(i,e){return Sy(i,t=>t.sourceId!==e)}function AQ(i,e){return{defs:i.defs,instances:ds(i.instances,t=>!e[t.instanceId])}}function OQ(i){let{defs:e,instances:t}=i,n={},r={};for(let o in e){let s=e[o],{publicId:a}=s;a&&(n[a]=o)}for(let o in t){let s=t[o],a=e[s.defId],{publicId:l}=a;l&&(r[l]=o)}return{defIdMap:n,instanceIdMap:r}}var ps=class{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){IQ(this.handlers,e,t)}off(e,t){MQ(this.handlers,e,t)}trigger(e,...t){let n=this.handlers[e]||[],r=this.options&&this.options[e],o=[].concat(r||[],n);for(let s of o)s.apply(this.thisContext,t)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}};function IQ(i,e,t){(i[e]||(i[e]=[])).push(t)}function MQ(i,e,t){t?i[e]&&(i[e]=i[e].filter(n=>n!==t)):delete i[e]}var xQ={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function yD(i,e){return Kh(PQ(i),null,e)}function PQ(i){let e;return i===!0?e=[{}]:Array.isArray(i)?e=i.filter(t=>t.daysOfWeek):typeof i=="object"&&i?e=[i]:e=[],e=e.map(t=>Object.assign(Object.assign({},xQ),t)),e}function Ey(i,e,t){t.emitter.trigger("select",Object.assign(Object.assign({},CD(i,t)),{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function FQ(i,e){e.emitter.trigger("unselect",{jsEvent:i?i.origEvent:null,view:e.viewApi||e.calendarApi.view})}function CD(i,e){let t={};for(let n of e.pluginHooks.dateSpanTransforms)Object.assign(t,n(i,e));return Object.assign(t,$Q(i,e.dateEnv)),t}function sy(i,e,t){let{dateEnv:n,options:r}=t,o=e;return i?(o=at(o),o=n.add(o,r.defaultAllDayEventDuration)):o=n.add(o,r.defaultTimedEventDuration),o}function fp(i,e,t,n){let r=ay(i.defs,e),o=Wn();for(let s in i.defs){let a=i.defs[s];o.defs[s]=NQ(a,r[s],t,n)}for(let s in i.instances){let a=i.instances[s],l=o.defs[a.defId];o.instances[s]=LQ(a,l,r[a.defId],t,n)}return o}function NQ(i,e,t,n){let r=t.standardProps||{};r.hasEnd==null&&e.durationEditable&&(t.startDelta||t.endDelta)&&(r.hasEnd=!0);let o=Object.assign(Object.assign(Object.assign({},i),r),{ui:Object.assign(Object.assign({},i.ui),r.ui)});t.extendedProps&&(o.extendedProps=Object.assign(Object.assign({},o.extendedProps),t.extendedProps));for(let s of n.pluginHooks.eventDefMutationAppliers)s(o,t,n);return!o.hasEnd&&n.options.forceEventDuration&&(o.hasEnd=!0),o}function LQ(i,e,t,n,r){let{dateEnv:o}=r,s=n.standardProps&&n.standardProps.allDay===!0,a=n.standardProps&&n.standardProps.hasEnd===!1,l=Object.assign({},i);return s&&(l.range=Ek(l.range)),n.datesDelta&&t.startEditable&&(l.range={start:o.add(l.range.start,n.datesDelta),end:o.add(l.range.end,n.datesDelta)}),n.startDelta&&t.durationEditable&&(l.range={start:o.add(l.range.start,n.startDelta),end:l.range.end}),n.endDelta&&t.durationEditable&&(l.range={start:l.range.start,end:o.add(l.range.end,n.endDelta)}),a&&(l.range={start:l.range.start,end:sy(e.allDay,l.range.start,r)}),e.allDay&&(l.range={start:at(l.range.start),end:at(l.range.end)}),l.range.end<l.range.start&&(l.range.end=sy(e.allDay,l.range.start,r)),l}var oa=class{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}},Et=class i{constructor(e,t,n){this._context=e,this._def=t,this._instance=n||null}setProp(e,t){if(e in Rk)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")t=ey[e](t),this.mutate({standardProps:{publicId:t}});else if(e in ey)t=ey[e](t),this.mutate({standardProps:{[e]:t}});else if(e in oy){let n=oy[e](t);e==="color"?n={backgroundColor:t,borderColor:t}:e==="editable"?n={startEditable:t,durationEditable:t}:n={[e]:t},this.mutate({standardProps:{ui:n}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:n}=this._context,r=n.createMarker(e);if(r&&this._instance){let o=this._instance.range,s=la(o.start,r,n,t.granularity);t.maintainDuration?this.mutate({datesDelta:s}):this.mutate({startDelta:s})}}setEnd(e,t={}){let{dateEnv:n}=this._context,r;if(!(e!=null&&(r=n.createMarker(e),!r))&&this._instance)if(r){let o=la(this._instance.range.end,r,n,t.granularity);this.mutate({endDelta:o})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,n={}){let{dateEnv:r}=this._context,o={allDay:n.allDay},s=r.createMarker(e),a;if(s&&!(t!=null&&(a=r.createMarker(t),!a))&&this._instance){let l=this._instance.range;n.allDay===!0&&(l=Ek(l));let u=la(l.start,s,r,n.granularity);if(a){let c=la(l.end,a,r,n.granularity);O6(u,c)?this.mutate({datesDelta:u,standardProps:o}):this.mutate({startDelta:u,endDelta:c,standardProps:o})}else o.hasEnd=!1,this.mutate({datesDelta:u,standardProps:o})}}moveStart(e){let t=He(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=He(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=He(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let n={allDay:e},{maintainDuration:r}=t;r==null&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(n.hasEnd=r),this.mutate({standardProps:n})}formatRange(e){let{dateEnv:t}=this._context,n=this._instance,r=dt(e);return this._def.hasEnd?t.formatRange(n.range.start,n.range.end,r,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):t.format(n.range.start,r,{forcedTzo:n.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let n=this._def,r=this._context,{eventStore:o}=r.getCurrentData(),s=pp(o,t.instanceId);s=fp(s,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,r);let l=new i(r,n,t);this._def=s.defs[n.defId],this._instance=s.instances[t.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:s}),r.emitter.trigger("eventChange",{oldEvent:l,event:this,relatedEvents:Ao(s,r,t),revert(){r.dispatch({type:"RESET_EVENTS",eventStore:o})}})}}remove(){let e=this._context,t=Mk(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new oa(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:n}=t,{startStr:r,endStr:o}=this,s={allDay:t.allDay};return t.title&&(s.title=t.title),r&&(s.start=r),o&&(s.end=o),t.publicId&&(s.id=t.publicId),t.groupId&&(s.groupId=t.groupId),t.url&&(s.url=t.url),n.display&&n.display!=="auto"&&(s.display=n.display),e.collapseColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?s.color=n.backgroundColor:(n.backgroundColor&&(s.backgroundColor=n.backgroundColor),n.borderColor&&(s.borderColor=n.borderColor)),n.textColor&&(s.textColor=n.textColor),n.classNames.length&&(s.classNames=n.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(s,t.extendedProps):s.extendedProps=t.extendedProps),s}toJSON(){return this.toPlainObject()}};function Mk(i){let e=i._def,t=i._instance;return{defs:{[e.defId]:e},instances:t?{[t.instanceId]:t}:{}}}function Ao(i,e,t){let{defs:n,instances:r}=i,o=[],s=t?t.instanceId:"";for(let a in r){let l=r[a],u=n[l.defId];l.instanceId!==s&&o.push(new Et(e,u,l))}return o}function Tc(i,e,t,n){let r={},o={},s={},a=[],l=[],u=ay(i.defs,e);for(let c in i.defs){let d=i.defs[c];u[d.defId].display==="inverse-background"&&(d.groupId?(r[d.groupId]=[],s[d.groupId]||(s[d.groupId]=d)):o[c]=[])}for(let c in i.instances){let d=i.instances[c],h=i.defs[d.defId],p=u[h.defId],f=d.range,g=!h.allDay&&n?Cy(f,n):f,v=Hi(g,t);v&&(p.display==="inverse-background"?h.groupId?r[h.groupId].push(v):o[d.defId].push(v):p.display!=="none"&&(p.display==="background"?a:l).push({def:h,ui:p,instance:d,range:v,isStart:g.start&&g.start.valueOf()===v.start.valueOf(),isEnd:g.end&&g.end.valueOf()===v.end.valueOf()}))}for(let c in r){let d=r[c],h=ZL(d,t);for(let p of h){let f=s[c],g=u[f.defId];a.push({def:f,ui:g,instance:null,range:p,isStart:!1,isEnd:!1})}}for(let c in o){let d=o[c],h=ZL(d,t);for(let p of h)a.push({def:i.defs[c],ui:u[c],instance:null,range:p,isStart:!1,isEnd:!1})}return{bg:a,fg:l}}function _D(i){return i.ui.display==="background"||i.ui.display==="inverse-background"}function JL(i,e){i.fcSeg=e}function vs(i){return i.fcSeg||i.parentNode.fcSeg||null}function ay(i,e){return gr(i,t=>xk(t,e))}function xk(i,e){let t=[];return e[""]&&t.push(e[""]),e[i.defId]&&t.push(e[i.defId]),t.push(i.ui),fD(t)}function Pl(i,e){let t=i.map(kQ);return t.sort((n,r)=>dk(n,r,e)),t.map(n=>n._seg)}function kQ(i){let{eventRange:e}=i,t=e.def,n=e.instance?e.instance.range:e.range,r=n.start?n.start.valueOf():0,o=n.end?n.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:r,end:o,duration:o-r,allDay:Number(t.allDay),_seg:i})}function VQ(i,e){let{pluginHooks:t}=e,n=t.isDraggableTransformers,{def:r,ui:o}=i.eventRange,s=o.startEditable;for(let a of n)s=a(s,r,o,e);return s}function GQ(i,e){return i.isStart&&i.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function HQ(i,e){return i.isEnd&&i.eventRange.ui.durationEditable}function ga(i,e,t,n,r,o,s){let{dateEnv:a,options:l}=t,{displayEventTime:u,displayEventEnd:c}=l,d=i.eventRange.def,h=i.eventRange.instance;u==null&&(u=n!==!1),c==null&&(c=r!==!1);let p=h.range.start,f=h.range.end,g=o||i.start||i.eventRange.range.start,v=s||i.end||i.eventRange.range.end,m=at(p).valueOf()===at(g).valueOf(),_=at(bo(f,-1)).valueOf()===at(bo(v,-1)).valueOf();return u&&!d.allDay&&(m||_)?(g=m?p:g,v=_?f:v,c&&d.hasEnd?a.formatRange(g,v,e,{forcedStartTzo:o?null:h.forcedStartTzo,forcedEndTzo:s?null:h.forcedEndTzo}):a.format(g,e,{forcedTzo:o?null:h.forcedStartTzo})):""}function Bi(i,e,t){let n=i.eventRange.range;return{isPast:n.end<(t||e.start),isFuture:n.start>=(t||e.end),isToday:e&&fr(e,n.start)}}function BQ(i){let e=["fc-event"];return i.isMirror&&e.push("fc-event-mirror"),i.isDraggable&&e.push("fc-event-draggable"),(i.isStartResizable||i.isEndResizable)&&e.push("fc-event-resizable"),i.isDragging&&e.push("fc-event-dragging"),i.isResizing&&e.push("fc-event-resizing"),i.isSelected&&e.push("fc-event-selected"),i.isStart&&e.push("fc-event-start"),i.isEnd&&e.push("fc-event-end"),i.isPast&&e.push("fc-event-past"),i.isToday&&e.push("fc-event-today"),i.isFuture&&e.push("fc-event-future"),e}function gp(i){return i.instance?i.instance.instanceId:`${i.def.defId}:${i.range.start.toISOString()}`}function Fc(i,e){let{def:t,instance:n}=i.eventRange,{url:r}=t;if(r)return{href:r};let{emitter:o,options:s}=e,{eventInteractive:a}=s;return a==null&&(a=t.interactive,a==null&&(a=!!o.hasHandlers("eventClick"))),a?uk(l=>{o.trigger("eventClick",{el:l.target,event:new Et(e,t,n),jsEvent:l,view:e.viewApi})}):{}}var jQ={start:M,end:M,allDay:Boolean};function UQ(i,e,t){let n=WQ(i,e),{range:r}=n;if(!r.start)return null;if(!r.end){if(t==null)return null;r.end=e.add(r.start,t)}return n}function WQ(i,e){let{refined:t,extra:n}=gy(i,jQ),r=t.start?e.createMarkerMeta(t.start):null,o=t.end?e.createMarkerMeta(t.end):null,{allDay:s}=t;return s==null&&(s=r&&r.isTimeUnspecified&&(!o||o.isTimeUnspecified)),Object.assign({range:{start:r?r.marker:null,end:o?o.marker:null},allDay:s},n)}function wD(i,e){return Sk(i.range,e.range)&&i.allDay===e.allDay&&zQ(i,e)}function zQ(i,e){for(let t in e)if(t!=="range"&&t!=="allDay"&&i[t]!==e[t])return!1;for(let t in i)if(!(t in e))return!1;return!0}function $Q(i,e){return Object.assign(Object.assign({},Pk(i.range,e,i.allDay)),{allDay:i.allDay})}function SD(i,e,t){return Object.assign(Object.assign({},Pk(i,e,t)),{timeZone:e.timeZone})}function Pk(i,e,t){return{start:e.toDate(i.start),end:e.toDate(i.end),startStr:e.formatIso(i.start,{omitTime:t}),endStr:e.formatIso(i.end,{omitTime:t})}}function qQ(i,e,t){let n=_y({editable:!1},t),r=qh(n.refined,n.extra,"",i.allDay,!0,t);return{def:r,ui:xk(r,e),instance:hp(r.defId,i.range),range:i.range,isStart:!0,isEnd:!0}}function ED(i,e,t){let n=!1,r=function(a){n||(n=!0,e(a))},o=function(a){n||(n=!0,t(a))},s=i(r,o);s&&typeof s.then=="function"&&s.then(r,o)}var ly=class extends Error{constructor(e,t){super(e),this.response=t}};function bD(i,e,t){i=i.toUpperCase();let n={method:i};return i==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(t):(n.body=new URLSearchParams(t),n.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,n).then(r=>{if(r.ok)return r.json().then(o=>[o,r],()=>{throw new ly("Failure parsing JSON",r)});throw new ly("Request failed",r)})}var bb;function DD(){return bb==null&&(bb=KQ()),bb}function KQ(){if(typeof document>"u")return!0;let i=document.createElement("div");i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.innerHTML="<table><tr><td><div></div></td></tr></table>",i.querySelector("table").style.height="100px",i.querySelector("div").style.height="100%",document.body.appendChild(i);let t=i.querySelector("div").offsetHeight>0;return document.body.removeChild(i),t}var Qh=class extends Ke{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{this.setState({forPrint:!0})},this.handleAfterPrint=()=>{this.setState({forPrint:!1})}}render(){let{props:e}=this,{options:t}=e,{forPrint:n}=this.state,r=n||t.height==="auto"||t.contentHeight==="auto",o=!r&&t.height!=null?t.height:"",s=["fc",n?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return DD()||s.push("fc-liquid-hack"),e.children(s,o,r,n)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}},zr=class{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}};function Fk(i,e){return{component:i,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function vp(i){return{[i.component.uid]:i}}var Nc={},Zh=class{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:n}=this;n.currentCalendarOptionsRefiners[e]?n.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:n}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:n.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,t){let n=this.getCurrentData(),r;t=t||"day",r=n.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),r?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:r.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:t,toolbarConfig:n}=this.getCurrentData(),r=[].concat(n.header?n.header.viewsWithButtons:[],n.footer?n.footer.viewsWithButtons:[]),o,s;for(let a in t)r.push(a);for(o=0;o<r.length;o+=1)if(s=t[r[o]],s&&s.singleUnit===e)return s;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:xc(e.calendarOptions.now,e.dateEnv)})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),n=He(e);n&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,n)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:n}=this.getCurrentData();return n.format(n.createMarker(e),dt(t))}formatRange(e,t,n){let{dateEnv:r}=this.getCurrentData();return r.formatRange(r.createMarker(e),r.createMarker(t),dt(n),n)}formatIso(e,t){let{dateEnv:n}=this.getCurrentData();return n.formatIso(n.createMarker(e),{omitTime:t})}select(e,t){let n;t==null?e.start!=null?n=e:n={start:e,end:null}:n={start:e,end:t};let r=this.getCurrentData(),o=UQ(n,r.dateEnv,He({days:1}));o&&(this.dispatch({type:"SELECT_DATES",selection:o}),Ey(o,null,r))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),FQ(e,t))}addEvent(e,t){if(e instanceof Et){let s=e._def,a=e._instance;return this.getCurrentData().eventStore.defs[s.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Yh({def:s,instance:a})}),this.triggerEventAdd(e)),e}let n=this.getCurrentData(),r;if(t instanceof oa)r=t.internalEventSource;else if(typeof t=="boolean")t&&([r]=my(n.eventSources));else if(t!=null){let s=this.getEventSourceById(t);if(!s)return console.warn(`Could not find an event source with ID "${t}"`),null;r=s.internalEventSource}let o=Tk(e,r,n,!1);if(o){let s=new Et(n,o.def,o.def.recurringDef?null:o.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Yh(o)}),this.triggerEventAdd(s),s}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:Mk(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:n,instances:r}=t.eventStore;e=String(e);for(let o in n){let s=n[o];if(s.publicId===e){if(s.recurringDef)return new Et(t,s,null);for(let a in r){let l=r[a];if(l.defId===s.defId)return new Et(t,s,l)}}}return null}getEvents(){let e=this.getCurrentData();return Ao(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,n=[];for(let r in t)n.push(new oa(e,t[r]));return n}getEventSourceById(e){let t=this.getCurrentData(),n=t.eventSources;e=String(e);for(let r in n)if(n[r].publicId===e)return new oa(t,n[r]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof oa)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let n=gD(e,t);return n?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[n]}),new oa(t,n)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=He(e);t&&this.trigger("_scrollRequest",{time:t})}};function RD(i,e){return i.left>=e.left&&i.left<e.right&&i.top>=e.top&&i.top<e.bottom}function by(i,e){let t={left:Math.max(i.left,e.left),right:Math.min(i.right,e.right),top:Math.max(i.top,e.top),bottom:Math.min(i.bottom,e.bottom)};return t.left<t.right&&t.top<t.bottom?t:!1}function TD(i,e){return{left:Math.min(Math.max(i.left,e.left),e.right),top:Math.min(Math.max(i.top,e.top),e.bottom)}}function AD(i){return{left:(i.left+i.right)/2,top:(i.top+i.bottom)/2}}function OD(i,e){return{left:i.left-e.left,top:i.top-e.top}}var Db=Wn(),Xh=class{constructor(){this.getKeysForEventDefs=ae(this._getKeysForEventDefs),this.splitDateSelection=ae(this._splitDateSpan),this.splitEventStore=ae(this._splitEventStore),this.splitIndividualUi=ae(this._splitIndividualUi),this.splitEventDrag=ae(this._splitInteraction),this.splitEventResize=ae(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let t=this.getKeyInfo(e),n=this.getKeysForEventDefs(e.eventStore),r=this.splitDateSelection(e.dateSelection),o=this.splitIndividualUi(e.eventUiBases,n),s=this.splitEventStore(e.eventStore,n),a=this.splitEventDrag(e.eventDrag),l=this.splitEventResize(e.eventResize),u={};this.eventUiBuilders=gr(t,(c,d)=>this.eventUiBuilders[d]||ae(YQ));for(let c in t){let d=t[c],h=s[c]||Db,p=this.eventUiBuilders[c];u[c]={businessHours:d.businessHours||e.businessHours,dateSelection:r[c]||null,eventStore:h,eventUiBases:p(e.eventUiBases[""],d.ui,o[c]),eventSelection:h.instances[e.eventSelection]?e.eventSelection:"",eventDrag:a[c]||null,eventResize:l[c]||null}}return u}_splitDateSpan(e){let t={};if(e){let n=this.getKeysForDateSpan(e);for(let r of n)t[r]=e}return t}_getKeysForEventDefs(e){return gr(e.defs,t=>this.getKeysForEventDef(t))}_splitEventStore(e,t){let{defs:n,instances:r}=e,o={};for(let s in n)for(let a of t[s])o[a]||(o[a]=Wn()),o[a].defs[s]=n[s];for(let s in r){let a=r[s];for(let l of t[a.defId])o[l]&&(o[l].instances[s]=a)}return o}_splitIndividualUi(e,t){let n={};for(let r in e)if(r)for(let o of t[r])n[o]||(n[o]={}),n[o][r]=e[r];return n}_splitInteraction(e){let t={};if(e){let n=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),r=this._getKeysForEventDefs(e.mutatedEvents),o=this._splitEventStore(e.mutatedEvents,r),s=a=>{t[a]||(t[a]={affectedEvents:n[a]||Db,mutatedEvents:o[a]||Db,isEvent:e.isEvent})};for(let a in n)s(a);for(let a in o)s(a)}return t}};function YQ(i,e,t){let n=[];i&&n.push(i),e&&n.push(e);let r={"":fD(n)};return t&&Object.assign(r,t),r}function mp(i,e,t,n){return{dow:i.getUTCDay(),isDisabled:!!(n&&!fr(n.activeRange,i)),isOther:!!(n&&!fr(n.currentRange,i)),isToday:!!(e&&fr(e,i)),isPast:!!(t?i<t:e&&i<e.start),isFuture:!!(t?i>t:e&&i>=e.end)}}function Lc(i,e){let t=["fc-day",`fc-day-${x6[i.dow]}`];return i.isDisabled?t.push("fc-day-disabled"):(i.isToday&&(t.push("fc-day-today"),t.push(e.getClass("today"))),i.isPast&&t.push("fc-day-past"),i.isFuture&&t.push("fc-day-future"),i.isOther&&t.push("fc-day-other")),t}var QQ=dt({year:"numeric",month:"long",day:"numeric"}),ZQ=dt({week:"long"});function Oo(i,e,t="day",n=!0){let{dateEnv:r,options:o,calendarApi:s}=i,a=r.format(e,t==="week"?ZQ:QQ);if(o.navLinks){let l=r.toDate(e),u=c=>{let d=t==="day"?o.navLinkDayClick:t==="week"?o.navLinkWeekClick:null;typeof d=="function"?d.call(s,r.toDate(e),c):(typeof d=="string"&&(t=d),s.zoomTo(e,t))};return Object.assign({title:Oc(o.navLinkHint,[a,l],a),"data-navlink":""},n?lk(u):{onClick:u})}return{"aria-label":a}}var Rb=null;function Nk(){return Rb===null&&(Rb=XQ()),Rb}function XQ(){let i=document.createElement("div");xl(i,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),i.innerHTML="<div></div>",document.body.appendChild(i);let t=i.firstChild.getBoundingClientRect().left>i.getBoundingClientRect().left;return op(i),t}var Tb;function Lk(){return Tb||(Tb=JQ()),Tb}function JQ(){let i=document.createElement("div");i.style.overflow="scroll",i.style.position="absolute",i.style.top="-9999px",i.style.left="-9999px",document.body.appendChild(i);let e=kk(i);return document.body.removeChild(i),e}function kk(i){return{x:i.offsetHeight-i.clientHeight,y:i.offsetWidth-i.clientWidth}}function Vk(i,e=!1){let t=window.getComputedStyle(i),n=parseInt(t.borderLeftWidth,10)||0,r=parseInt(t.borderRightWidth,10)||0,o=parseInt(t.borderTopWidth,10)||0,s=parseInt(t.borderBottomWidth,10)||0,a=kk(i),l=a.y-n-r,u=a.x-o-s,c={borderLeft:n,borderRight:r,borderTop:o,borderBottom:s,scrollbarBottom:u,scrollbarLeft:0,scrollbarRight:0};return Nk()&&t.direction==="rtl"?c.scrollbarLeft=l:c.scrollbarRight=l,e&&(c.paddingLeft=parseInt(t.paddingLeft,10)||0,c.paddingRight=parseInt(t.paddingRight,10)||0,c.paddingTop=parseInt(t.paddingTop,10)||0,c.paddingBottom=parseInt(t.paddingBottom,10)||0),c}function ID(i,e=!1,t){let n=t?i.getBoundingClientRect():yp(i),r=Vk(i,e),o={left:n.left+r.borderLeft+r.scrollbarLeft,right:n.right-r.borderRight-r.scrollbarRight,top:n.top+r.borderTop,bottom:n.bottom-r.borderBottom-r.scrollbarBottom};return e&&(o.left+=r.paddingLeft,o.right-=r.paddingRight,o.top+=r.paddingTop,o.bottom-=r.paddingBottom),o}function yp(i){let e=i.getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,right:e.right+window.pageXOffset,bottom:e.bottom+window.pageYOffset}}function e7(i){let e=Dy(i),t=i.getBoundingClientRect();for(let n of e){let r=by(t,n.getBoundingClientRect());if(r)t=r;else return null}return t}function Dy(i){let e=[];for(;i instanceof HTMLElement;){let t=window.getComputedStyle(i);if(t.position==="fixed")break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&e.push(i),i=i.parentNode}return e}var $r=class{constructor(e,t,n,r){this.els=t;let o=this.originClientRect=e.getBoundingClientRect();n&&this.buildElHorizontals(o.left),r&&this.buildElVerticals(o.top)}buildElHorizontals(e){let t=[],n=[];for(let r of this.els){let o=r.getBoundingClientRect();t.push(o.left-e),n.push(o.right-e)}this.lefts=t,this.rights=n}buildElVerticals(e){let t=[],n=[];for(let r of this.els){let o=r.getBoundingClientRect();t.push(o.top-e),n.push(o.bottom-e)}this.tops=t,this.bottoms=n}leftToIndex(e){let{lefts:t,rights:n}=this,r=t.length,o;for(o=0;o<r;o+=1)if(e>=t[o]&&e<n[o])return o}topToIndex(e){let{tops:t,bottoms:n}=this,r=t.length,o;for(o=0;o<r;o+=1)if(e>=t[o]&&e<n[o])return o}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return Qm(this.tops||[],e.tops||[])&&Qm(this.bottoms||[],e.bottoms||[])&&Qm(this.lefts||[],e.lefts||[])&&Qm(this.rights||[],e.rights||[])}};function Qm(i,e){let t=i.length;if(t!==e.length)return!1;for(let n=0;n<t;n++)if(Math.round(i[n])!==Math.round(e[n]))return!1;return!0}var El=class{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}},Jh=class extends El{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}},ep=class extends El{getScrollTop(){return window.pageYOffset}getScrollLeft(){return window.pageXOffset}setScrollTop(e){window.scroll(window.pageXOffset,e)}setScrollLeft(e){window.scroll(e,window.pageYOffset)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}},Pn=class extends Ke{constructor(){super(...arguments),this.uid=gs()}prepareHits(){}queryHit(e,t,n,r){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!sn(e,".fc-event-mirror")}isValidDateDownEl(e){return!sn(e,".fc-event:not(.fc-bg-event)")&&!sn(e,".fc-more-link")&&!sn(e,"a[data-navlink]")&&!sn(e,".fc-popover")}};var bl=class{constructor(e=t=>t.thickness){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let n of e)this.insertEntry(n,t);return t}insertEntry(e,t){let n=this.findInsertion(e);return this.isInsertionValid(n,e)?(this.insertEntryAt(e,n),1):this.handleInvalidInsertion(n,e,t)}isInsertionValid(e,t){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,n){return this.allowReslicing&&e.touchingEntry?this.splitEntry(t,e.touchingEntry,n):(n.push(t),0)}splitEntry(e,t,n){let r=0,o=[],s=e.span,a=t.span;return s.start<a.start&&(r+=this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.start,end:a.start}},o)),s.end>a.end&&(r+=this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.end,end:s.end}},o)),r?(n.push({index:e.index,thickness:e.thickness,span:Cp(a,s)},...o),r):(n.push(e),0)}insertEntryAt(e,t){let{entriesByLevel:n,levelCoords:r}=this;t.lateral===-1?(Ab(r,t.level,t.levelCoord),Ab(n,t.level,[e])):Ab(n[t.level],t.lateral,e),this.stackCnts[Do(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:n,strictOrder:r,stackCnts:o}=this,s=t.length,a=0,l=-1,u=-1,c=null,d=0;for(let f=0;f<s;f+=1){let g=t[f];if(!r&&g>=a+this.getEntryThickness(e))break;let v=n[f],m,_=np(v,e.span.start,tp),w=_[0]+_[1];for(;(m=v[w])&&m.span.start<e.span.end;){let S=g+this.getEntryThickness(m);S>a&&(a=S,c=m,l=f,u=w),S===a&&(d=Math.max(d,o[Do(m)]+1)),w+=1}}let h=0;if(c)for(h=l+1;h<s&&t[h]<a;)h+=1;let p=-1;return h<s&&t[h]===a&&(p=np(n[h],e.span.end,tp)[0]),{touchingLevel:l,touchingLateral:u,touchingEntry:c,stackCnt:d,levelCoord:a,level:h,lateral:p}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,n=e.length,r=[];for(let o=0;o<n;o+=1){let s=e[o],a=t[o];for(let l of s)r.push(Object.assign(Object.assign({},l),{thickness:this.getEntryThickness(l),levelCoord:a}))}return r}};function tp(i){return i.span.end}function Do(i){return i.index+":"+i.span.start}function MD(i){let e=[];for(let t of i){let n=[],r={span:t.span,entries:[t]};for(let o of e)Cp(o.span,r.span)?r={entries:o.entries.concat(r.entries),span:t7(o.span,r.span)}:n.push(o);n.push(r),e=n}return e}function t7(i,e){return{start:Math.min(i.start,e.start),end:Math.max(i.end,e.end)}}function Cp(i,e){let t=Math.max(i.start,e.start),n=Math.min(i.end,e.end);return t<n?{start:t,end:n}:null}function Ab(i,e,t){i.splice(e,0,t)}function np(i,e,t){let n=0,r=i.length;if(!r||e<t(i[n]))return[0,0];if(e>t(i[r-1]))return[r,0];for(;n<r;){let o=Math.floor(n+(r-n)/2),s=t(i[o]);if(e<s)r=o;else if(e>s)n=o+1;else return[o,1]}return[n,0]}var ip=class{constructor(e,t){this.emitter=new ps}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}},_p={};function Gk(i,e){return!i||e>10?dt({weekday:"short"}):e>1?dt({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):dt({weekday:"long"})}var Hk="fc-col-header-cell";function Bk(i){return i.text}var uy=class extends Ke{render(){let{dateEnv:e,options:t,theme:n,viewApi:r}=this.context,{props:o}=this,{date:s,dateProfile:a}=o,l=mp(s,o.todayRange,null,a),u=[Hk].concat(Lc(l,n)),c=e.format(s,o.dayHeaderFormat),d=!l.isDisabled&&o.colCnt>1?Oo(this.context,s):{},h=Object.assign(Object.assign(Object.assign({date:e.toDate(s),view:r},o.extraRenderProps),{text:c}),l);return E(an,{elTag:"th",elClasses:u,elAttrs:Object.assign({role:"columnheader",colSpan:o.colSpan,"data-date":l.isDisabled?void 0:ha(s)},o.extraDataAttrs),renderProps:h,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:Bk,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},p=>E("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&E(p,{elTag:"a",elAttrs:d,elClasses:["fc-col-header-cell-cushion",o.isSticky&&"fc-sticky"]})))}},n7=dt({weekday:"long"}),cy=class extends Ke{render(){let{props:e}=this,{dateEnv:t,theme:n,viewApi:r,options:o}=this.context,s=jt(new Date(2592e5),e.dow),a={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=t.format(s,e.dayHeaderFormat),u=Object.assign(Object.assign(Object.assign(Object.assign({date:s},a),{view:r}),e.extraRenderProps),{text:l});return E(an,{elTag:"th",elClasses:[Hk,...Lc(a,n),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:u,generatorName:"dayHeaderContent",customGenerator:o.dayHeaderContent,defaultGenerator:Bk,classNameGenerator:o.dayHeaderClassNames,didMount:o.dayHeaderDidMount,willUnmount:o.dayHeaderWillUnmount},c=>E("div",{className:"fc-scrollgrid-sync-inner"},E(c,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(s,n7)}})))}},ms=(()=>{class i extends xn{constructor(t,n){super(t,n),this.initialNowDate=xc(n.options.now,n.dateEnv),this.initialNowQueriedMs=new Date().valueOf(),this.state=this.computeTiming().currentState}render(){let{props:t,state:n}=this;return t.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(t){t.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:t,context:n}=this,r=bo(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs),o=n.dateEnv.startOf(r,t.unit),s=n.dateEnv.add(o,He(1,t.unit)),a=s.valueOf()-r.valueOf();return a=Math.min(1e3*60*60*24,a),{currentState:{nowDate:o,todayRange:ek(o)},nextState:{nowDate:s,todayRange:ek(s)},waitMs:a}}setTimeout(){let{nextState:t,waitMs:n}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(t,()=>{this.setTimeout()})},n)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}return i.contextType=mr,i})();function ek(i){let e=at(i),t=jt(e,1);return{start:e,end:t}}var Dl=class extends Ke{constructor(){super(...arguments),this.createDayHeaderFormatter=ae(i7)}render(){let{context:e}=this,{dates:t,dateProfile:n,datesRepDistinctDays:r,renderIntro:o}=this.props,s=this.createDayHeaderFormatter(e.options.dayHeaderFormat,r,t.length);return E(ms,{unit:"day"},(a,l)=>E("tr",{role:"row"},o&&o("day"),t.map(u=>r?E(uy,{key:u.toISOString(),date:u,dateProfile:n,todayRange:l,colCnt:t.length,dayHeaderFormat:s}):E(cy,{key:u.getUTCDay(),dow:u.getUTCDay(),dayHeaderFormat:s}))))}};function i7(i,e,t){return i||Gk(e,t)}var Rl=class{constructor(e,t){let n=e.start,{end:r}=e,o=[],s=[],a=-1;for(;n<r;)t.isHiddenDay(n)?o.push(a+.5):(a+=1,o.push(a),s.push(n)),n=jt(n,1);this.dates=s,this.indices=o,this.cnt=s.length}sliceRange(e){let t=this.getDateDayIndex(e.start),n=this.getDateDayIndex(jt(e.end,-1)),r=Math.max(0,t),o=Math.min(this.cnt-1,n);return r=Math.ceil(r),o=Math.floor(o),r<=o?{firstIndex:r,lastIndex:o,isStart:t===r,isEnd:n===o}:null}getDateDayIndex(e){let{indices:t}=this,n=Math.floor(To(this.dates[0],e));return n<0?t[0]-1:n>=t.length?t[t.length-1]+1:t[n]}},Tl=class{constructor(e,t){let{dates:n}=e,r,o,s;if(t){for(o=n[0].getUTCDay(),r=1;r<n.length&&n[r].getUTCDay()!==o;r+=1);s=Math.ceil(n.length/r)}else s=1,r=n.length;this.rowCnt=s,this.colCnt=r,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let n=[];for(let r=0;r<this.colCnt;r+=1)n.push(this.buildCell(t,r));e.push(n)}return e}buildCell(e,t){let n=this.daySeries.dates[e*this.colCnt+t];return{key:n.toISOString(),date:n}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,n=this.daySeries.sliceRange(e),r=[];if(n){let{firstIndex:o,lastIndex:s}=n,a=o;for(;a<=s;){let l=Math.floor(a/t),u=Math.min((l+1)*t,s+1);r.push({row:l,firstCol:a%t,lastCol:(u-1)%t,isStart:n.isStart&&a===o,isEnd:n.isEnd&&u-1===s}),a=u}}return r}},Al=class{constructor(){this.sliceBusinessHours=ae(this._sliceBusinessHours),this.sliceDateSelection=ae(this._sliceDateSpan),this.sliceEventStore=ae(this._sliceEventStore),this.sliceEventDrag=ae(this._sliceInteraction),this.sliceEventResize=ae(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,n,r,...o){let{eventUiBases:s}=e,a=this.sliceEventStore(e.eventStore,s,t,n,...o);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,n,s,r,...o),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,n,r,...o),fgEventSegs:a.fg,bgEventSegs:a.bg,eventDrag:this.sliceEventDrag(e.eventDrag,s,t,n,...o),eventResize:this.sliceEventResize(e.eventResize,s,t,n,...o),eventSelection:e.eventSelection}}sliceNowDate(e,t,n,r,...o){return this._sliceDateSpan({range:{start:e,end:bo(e,1)},allDay:!1},t,n,{},r,...o)}_sliceBusinessHours(e,t,n,r,...o){return e?this._sliceEventStore(Sl(e,Zm(t,!!n),r),{},t,n,...o).bg:[]}_sliceEventStore(e,t,n,r,...o){if(e){let s=Tc(e,t,Zm(n,!!r),r);return{bg:this.sliceEventRanges(s.bg,o),fg:this.sliceEventRanges(s.fg,o)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,n,r,...o){if(!e)return null;let s=Tc(e.mutatedEvents,t,Zm(n,!!r),r);return{segs:this.sliceEventRanges(s.fg,o),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,n,r,o,...s){if(!e)return[];let a=Zm(t,!!n),l=Hi(e.range,a);if(l){e=Object.assign(Object.assign({},e),{range:l});let u=qQ(e,r,o),c=this.sliceRange(e.range,...s);for(let d of c)d.eventRange=u;return c}return[]}sliceEventRanges(e,t){let n=[];for(let r of e)n.push(...this.sliceEventRange(r,t));return n}sliceEventRange(e,t){let n=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(n={start:n.start,end:jt(n.start,1)});let r=this.sliceRange(n,...t);for(let o of r)o.eventRange=e,o.isStart=e.isStart&&o.isStart,o.isEnd=e.isEnd&&o.isEnd;return r}};function Zm(i,e){let t=i.activeRange;return e?t:{start:bo(t.start,i.slotMinTime.milliseconds),end:bo(t.end,i.slotMaxTime.milliseconds-864e5)}}function Ry(i,e,t){let{instances:n}=i.mutatedEvents;for(let r in n)if(!Mc(e.validRange,n[r].range))return!1;return jk({eventDrag:i},t)}function xD(i,e,t){return Mc(e.validRange,i.range)?jk({dateSelection:i},t):!1}function jk(i,e){let t=e.getCurrentData(),n=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},i);return(e.pluginHooks.isPropsValid||Uk)(n,e)}function Uk(i,e,t={},n){return!(i.eventDrag&&!r7(i,e,t,n)||i.dateSelection&&!o7(i,e,t,n))}function r7(i,e,t,n){let r=e.getCurrentData(),o=i.eventDrag,s=o.mutatedEvents,a=s.defs,l=s.instances,u=ay(a,o.isEvent?i.eventUiBases:{"":r.selectionConfig});n&&(u=gr(u,n));let c=AQ(i.eventStore,o.affectedEvents.instances),d=c.defs,h=c.instances,p=ay(d,i.eventUiBases);for(let f in l){let g=l[f],v=g.range,m=u[g.defId],_=a[g.defId];if(!Wk(m.constraints,v,c,i.businessHours,e))return!1;let{eventOverlap:w}=e.options,S=typeof w=="function"?w:null;for(let T in h){let x=h[T];if(yy(v,x.range)&&(p[x.defId].overlap===!1&&o.isEvent||m.overlap===!1||S&&!S(new Et(e,d[x.defId],x),new Et(e,_,g))))return!1}let R=r.eventStore;for(let T of m.allows){let x=Object.assign(Object.assign({},t),{range:g.range,allDay:_.allDay}),A=R.defs[_.defId],U=R.instances[f],q;if(A?q=new Et(e,A,U):q=new Et(e,_),!T(CD(x,e),q))return!1}}return!0}function o7(i,e,t,n){let r=i.eventStore,o=r.defs,s=r.instances,a=i.dateSelection,l=a.range,{selectionConfig:u}=e.getCurrentData();if(n&&(u=n(u)),!Wk(u.constraints,l,r,i.businessHours,e))return!1;let{selectOverlap:c}=e.options,d=typeof c=="function"?c:null;for(let h in s){let p=s[h];if(yy(l,p.range)&&(u.overlap===!1||d&&!d(new Et(e,o[p.defId],p),null)))return!1}for(let h of u.allows){let p=Object.assign(Object.assign({},t),a);if(!h(CD(p,e),null))return!1}return!0}function Wk(i,e,t,n,r){for(let o of i)if(!a7(s7(o,e,t,n,r),e))return!1;return!0}function s7(i,e,t,n,r){return i==="businessHours"?Ob(Sl(n,e,r)):typeof i=="string"?Ob(Sy(t,o=>o.groupId===i)):typeof i=="object"&&i?Ob(Sl(i,e,r)):[]}function Ob(i){let{instances:e}=i,t=[];for(let n in e)t.push(e[n].range);return t}function a7(i,e){for(let t of i)if(Mc(t,e))return!0;return!1}var Xm=/^(visible|hidden)$/,Ac=class extends Ke{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,yr(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:n}=e,r=t&&n,o=["fc-scroller"];return t&&(n?o.push("fc-scroller-liquid-absolute"):o.push("fc-scroller-liquid")),E("div",{ref:this.handleEl,className:o.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:r&&-(e.overcomeLeft||0)||"",right:r&&-(e.overcomeRight||0)||"",bottom:r&&-(e.overcomeBottom||0)||"",marginLeft:!r&&-(e.overcomeLeft||0)||"",marginRight:!r&&-(e.overcomeRight||0)||"",marginBottom:!r&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Xm.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:n}=e;for(let r=0;r<n.length;r+=1)if(n[r].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(Xm.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:n}=e;for(let r=0;r<n.length;r+=1)if(n[r].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return Xm.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Xm.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}},hi=class{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(t,n)=>{let{depths:r,currentMap:o}=this,s=!1,a=!1;t!==null?(s=n in o,o[n]=t,r[n]=(r[n]||0)+1,a=!0):(r[n]-=1,r[n]||(delete o[n],delete this.callbackMap[n],s=!0)),this.masterCallback&&(s&&this.masterCallback(null,String(n)),a&&this.masterCallback(t,String(n)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=n=>{this.handleValue(n,String(e))}),t}collect(e,t,n){return mk(this.currentMap,e,t,n)}getAll(){return my(this.currentMap)}};function zk(i){let e=sk(i,".fc-scrollgrid-shrink"),t=0;for(let n of e)t=Math.max(t,R6(n));return Math.ceil(t)}function PD(i,e){return i.liquid&&e.liquid}function $k(i,e){return e.maxHeight!=null||PD(i,e)}function qk(i,e,t,n){let{expandRows:r}=t;return typeof e.content=="function"?e.content(t):E("table",{role:"presentation",className:[e.tableClassName,i.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:r?t.clientHeight:""}},t.tableColGroupNode,E(n?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(t):e.rowContent))}function Kk(i,e){return Ro(i,e,Gi)}function Yk(i,e){let t=[];for(let n of i){let r=n.span||1;for(let o=0;o<r;o+=1)t.push(E("col",{style:{width:n.width==="shrink"?Qk(e):n.width||"",minWidth:n.minWidth||""}}))}return E("colgroup",{},...t)}function Qk(i){return i??4}function Zk(i){for(let e of i)if(e.width==="shrink")return!0;return!1}function Xk(i,e){let t=["fc-scrollgrid",e.theme.getClass("table")];return i&&t.push("fc-scrollgrid-liquid"),t}function Jk(i,e){let t=["fc-scrollgrid-section",`fc-scrollgrid-section-${i.type}`,i.className];return e&&i.liquid&&i.maxHeight==null&&t.push("fc-scrollgrid-section-liquid"),i.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function kc(i){return E("div",{className:"fc-scrollgrid-sticky-shim",style:{width:i.clientWidth,minWidth:i.tableMinWidth}})}function Fl(i){let{stickyHeaderDates:e}=i;return(e==null||e==="auto")&&(e=i.height==="auto"||i.viewHeight==="auto"),e}function wp(i){let{stickyFooterScrollbar:e}=i;return(e==null||e==="auto")&&(e=i.height==="auto"||i.viewHeight==="auto"),e}var ua=class extends Ke{constructor(){super(...arguments),this.processCols=ae(e=>e,Kk),this.renderMicroColGroup=ae(Yk),this.scrollerRefs=new hi,this.scrollerElRefs=new hi(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:t,context:n}=this,r=e.sections||[],o=this.processCols(e.cols),s=this.renderMicroColGroup(o,t.shrinkWidth),a=Xk(e.liquid,n);e.collapsibleWidth&&a.push("fc-scrollgrid-collapsible");let l=r.length,u=0,c,d=[],h=[],p=[];for(;u<l&&(c=r[u]).type==="header";)d.push(this.renderSection(c,s,!0)),u+=1;for(;u<l&&(c=r[u]).type==="body";)h.push(this.renderSection(c,s,!1)),u+=1;for(;u<l&&(c=r[u]).type==="footer";)p.push(this.renderSection(c,s,!0)),u+=1;let f=!DD(),g={role:"rowgroup"};return E("table",{role:"grid",className:a.join(" "),style:{height:e.height}},!!(!f&&d.length)&&E("thead",g,...d),!!(!f&&h.length)&&E("tbody",g,...h),!!(!f&&p.length)&&E("tfoot",g,...p),f&&E("tbody",g,...d,...h,...p))}renderSection(e,t,n){return"outerContent"in e?E(Xe,{key:e.key},e.outerContent):E("tr",{key:e.key,role:"presentation",className:Jk(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,n))}renderChunkTd(e,t,n,r){if("outerContent"in n)return n.outerContent;let{props:o}=this,{forceYScrollbars:s,scrollerClientWidths:a,scrollerClientHeights:l}=this.state,u=$k(o,e),c=PD(o,e),d=o.liquid?s?"scroll":u?"auto":"hidden":"visible",h=e.key,p=qk(e,n,{tableColGroupNode:t,tableMinWidth:"",clientWidth:!o.collapsibleWidth&&a[h]!==void 0?a[h]:null,clientHeight:l[h]!==void 0?l[h]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return E(r?"th":"td",{ref:n.elRef,role:"presentation"},E("div",{className:`fc-scroller-harness${c?" fc-scroller-harness-liquid":""}`},E(Ac,{ref:this.scrollerRefs.createRef(h),elRef:this.scrollerElRefs.createRef(h),overflowY:d,overflowX:o.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:c,liquidIsAbsolute:!0},p)))}_handleScrollerEl(e,t){let n=l7(this.props.sections,t);n&&yr(n.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return Zk(this.props.cols)?zk(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=Lk(),{scrollerRefs:t,scrollerElRefs:n}=this,r=!1,o={},s={};for(let a in t.currentMap){let l=t.currentMap[a];if(l&&l.needsYScrolling()){r=!0;break}}for(let a of this.props.sections){let l=a.key,u=n.currentMap[l];if(u){let c=u.parentNode;o[l]=Math.floor(c.getBoundingClientRect().width-(r?e.y:0)),s[l]=Math.floor(c.getBoundingClientRect().height)}}return{forceYScrollbars:r,scrollerClientWidths:o,scrollerClientHeights:s}}};ua.addStateEquality({scrollerClientWidths:Gi,scrollerClientHeights:Gi});function l7(i,e){for(let t of i)if(t.key===e)return t;return null}var fs=class extends Ke{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&JL(e,this.props.seg)}}render(){let{props:e,context:t}=this,{options:n}=t,{seg:r}=e,{eventRange:o}=r,{ui:s}=o,a={event:new Et(t,o.def,o.instance),view:t.viewApi,timeText:e.timeText,textColor:s.textColor,backgroundColor:s.backgroundColor,borderColor:s.borderColor,isDraggable:!e.disableDragging&&VQ(r,t),isStartResizable:!e.disableResizing&&GQ(r,t),isEndResizable:!e.disableResizing&&HQ(r),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!r.isStart,isEnd:!!r.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return E(an,Object.assign({},e,{elRef:this.handleEl,elClasses:[...BQ(a),...r.eventRange.ui.classNames,...e.elClasses||[]],renderProps:a,generatorName:"eventContent",customGenerator:n.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:n.eventClassNames,didMount:n.eventDidMount,willUnmount:n.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&JL(this.el,this.props.seg)}},Ol=class extends Ke{render(){let{props:e,context:t}=this,{options:n}=t,{seg:r}=e,{ui:o}=r.eventRange,s=n.eventTimeFormat||e.defaultTimeFormat,a=ga(r,s,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return E(fs,Object.assign({},e,{elTag:"a",elStyle:{borderColor:o.borderColor,backgroundColor:o.backgroundColor},elAttrs:Fc(r,t),defaultGenerator:u7,timeText:a}),(l,u)=>E(Xe,null,E(l,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:u.textColor}}),!!u.isStartResizable&&E("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!u.isEndResizable&&E("div",{className:"fc-event-resizer fc-event-resizer-end"})))}};function u7(i){return E("div",{className:"fc-event-main-frame"},i.timeText&&E("div",{className:"fc-event-time"},i.timeText),E("div",{className:"fc-event-title-container"},E("div",{className:"fc-event-title fc-sticky"},i.event.title||E(Xe,null,"\xA0"))))}var Sp=i=>E(mr.Consumer,null,e=>{let{options:t}=e,n={isAxis:i.isAxis,date:e.dateEnv.toDate(i.date),view:e.viewApi};return E(an,Object.assign({},i,{elTag:i.elTag||"div",renderProps:n,generatorName:"nowIndicatorContent",customGenerator:t.nowIndicatorContent,classNameGenerator:t.nowIndicatorClassNames,didMount:t.nowIndicatorDidMount,willUnmount:t.nowIndicatorWillUnmount}))}),c7=dt({day:"numeric"}),ca=class extends Ke{constructor(){super(...arguments),this.refineRenderProps=Ic(d7)}render(){let{props:e,context:t}=this,{options:n}=t,r=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:n.monthStartFormat});return E(an,Object.assign({},e,{elClasses:[...Lc(r,t.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),r.isDisabled?{}:{"data-date":ha(e.date)}),renderProps:r,generatorName:"dayCellContent",customGenerator:n.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.isDisabled?void 0:n.dayCellClassNames,didMount:n.dayCellDidMount,willUnmount:n.dayCellWillUnmount}))}};function Vc(i){return!!(i.dayCellContent||Vb("dayCellContent",i))}function d7(i){let{date:e,dateEnv:t,dateProfile:n,isMonthStart:r}=i,o=mp(e,i.todayRange,null,n),s=i.showDayNumber?t.format(e,r?i.monthStartFormat:c7):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(e),view:i.viewApi},o),{isMonthStart:r,dayNumberText:s}),i.extraRenderProps)}var Il=class extends Ke{render(){let{props:e}=this,{seg:t}=e;return E(fs,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:h7,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}};function h7(i){let{title:e}=i.event;return e&&E("div",{className:"fc-event-title"},i.event.title)}function Ep(i){return E("div",{className:`fc-${i}`})}var bp=i=>E(mr.Consumer,null,e=>{let{dateEnv:t,options:n}=e,{date:r}=i,o=n.weekNumberFormat||i.defaultFormat,s=t.computeWeekNumber(r),a=t.format(r,o);return E(an,Object.assign({},i,{renderProps:{num:s,text:a,date:r},generatorName:"weekNumberContent",customGenerator:n.weekNumberContent,defaultGenerator:p7,classNameGenerator:n.weekNumberClassNames,didMount:n.weekNumberDidMount,willUnmount:n.weekNumberWillUnmount}))});function p7(i){return i.text}var Ib=10,Hb=class extends Ke{constructor(){super(...arguments),this.state={titleId:vr()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&yr(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{let t=dy(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:n,state:r}=this,o=["fc-popover",e.getClass("popover")].concat(n.extraClassNames||[]);return HL(E("div",Object.assign({},n.extraAttrs,{id:n.id,className:o.join(" "),"aria-labelledby":r.titleId,ref:this.handleRootEl}),E("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},E("span",{className:"fc-popover-title",id:r.titleId},n.title),E("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),E("div",{className:"fc-popover-body "+e.getClass("popoverContent")},n.children)),n.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:n}=this.props,{rootEl:r}=this,o=e7(t);if(o){let s=r.getBoundingClientRect(),a=n?sn(t,".fc-scrollgrid").getBoundingClientRect().top:o.top,l=e?o.right-s.width:o.left;a=Math.max(a,Ib),l=Math.min(l,document.documentElement.clientWidth-Ib-s.width),l=Math.max(l,Ib);let u=r.offsetParent.getBoundingClientRect();xl(r,{top:a-u.top,left:l-u.left})}}},Bb=class extends Pn{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:n}=this,{startDate:r,todayRange:o,dateProfile:s}=n,a=t.format(r,e.dayPopoverFormat);return E(ca,{elRef:this.handleRootEl,date:r,dateProfile:s,todayRange:o},(l,u,c)=>E(Hb,{elRef:c.ref,id:n.id,title:a,extraClassNames:["fc-more-popover"].concat(c.className||[]),extraAttrs:c,parentEl:n.parentEl,alignmentEl:n.alignmentEl,alignGridTop:n.alignGridTop,onClose:n.onClose},Vc(e)&&E(l,{elTag:"div",elClasses:["fc-more-popover-misc"]}),n.children))}queryHit(e,t,n,r){let{rootEl:o,props:s}=this;return e>=0&&e<n&&t>=0&&t<r?{dateProfile:s.dateProfile,dateSpan:Object.assign({allDay:!s.forceTimed,range:{start:s.startDate,end:s.endDate}},s.extraDateSpan),dayEl:o,rect:{left:0,top:0,right:n,bottom:r},layer:1}:null}},Ml=class extends Ke{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:vr()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&yr(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:n}=this,{moreLinkClick:r}=n.options,o=tk(t).start;function s(a){let{def:l,instance:u,range:c}=a.eventRange;return{event:new Et(n,l,u),start:n.dateEnv.toDate(c.start),end:n.dateEnv.toDate(c.end),isStart:a.isStart,isEnd:a.isEnd}}typeof r=="function"&&(r=r({date:o,allDay:!!t.allDayDate,allSegs:t.allSegs.map(s),hiddenSegs:t.hiddenSegs.map(s),jsEvent:e,view:n.viewApi})),!r||r==="popover"?this.setState({isPopoverOpen:!0}):typeof r=="string"&&n.calendarApi.zoomTo(o,r)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return E(mr.Consumer,null,n=>{let{viewApi:r,options:o,calendarApi:s}=n,{moreLinkText:a}=o,{moreCnt:l}=e,u=tk(e),c=typeof a=="function"?a.call(s,l):`+${l} ${a}`,d=Oc(o.moreLinkHint,[l],c),h={num:l,shortText:`+${l}`,text:c,view:r};return E(Xe,null,!!e.moreCnt&&E(an,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),lk(this.handleClick)),{title:d,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:h,generatorName:"moreLinkContent",customGenerator:o.moreLinkContent,defaultGenerator:e.defaultGenerator||f7,classNameGenerator:o.moreLinkClassNames,didMount:o.moreLinkDidMount,willUnmount:o.moreLinkWillUnmount},e.children),t.isPopoverOpen&&E(Bb,{id:t.popoverId,startDate:u.start,endDate:u.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=sn(this.linkEl,".fc-view-harness"))}};function f7(i){return i.text}function tk(i){if(i.allDayDate)return{start:i.allDayDate,end:jt(i.allDayDate,1)};let{hiddenSegs:e}=i;return{start:Ty(e),end:v7(e)}}function Ty(i){return i.reduce(g7).eventRange.range.start}function g7(i,e){return i.eventRange.range.start<e.eventRange.range.start?i:e}function v7(i){return i.reduce(m7).eventRange.range.end}function m7(i,e){return i.eventRange.range.end>e.eventRange.range.end?i:e}var jb=class{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}},rp=class extends jb{constructor(){super(...arguments),this.map=new Map}handle(e){let{map:t}=this,n=!1;e.isActive?(t.set(e.id,e),n=!0):t.has(e.id)&&(t.delete(e.id),n=!0),n&&this.set(t)}};var y7=[],sV={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},aV=Object.assign(Object.assign({},sV),{buttonHints:{prev:"Previous $0",next:"Next $0",today(i,e){return e==="day"?"Today":`This ${i}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(i){return`Show ${i} more event${i===1?"":"s"}`}});function C7(i){let e=i.length>0?i[0].code:"en",t=y7.concat(i),n={en:aV};for(let r of t)n[r.code]=r;return{map:n,defaultCode:e}}function lV(i,e){return typeof i=="object"&&!Array.isArray(i)?uV(i.code,[i.code],i):_7(i,e)}function _7(i,e){let t=[].concat(i||[]),n=w7(t,e)||aV;return uV(i,t,n)}function w7(i,e){for(let t=0;t<i.length;t+=1){let n=i[t].toLocaleLowerCase().split("-");for(let r=n.length;r>0;r-=1){let o=n.slice(0,r).join("-");if(e[o])return e[o]}}return null}function uV(i,e,t){let n=vy([sV,t],["buttonText"]);delete n.code;let{week:r}=n;return delete n.week,{codeArg:i,codes:e,week:r,simpleNumberFormat:new Intl.NumberFormat(i),options:n}}function pi(i){return{id:gs(),name:i.name,premiumReleaseDate:i.premiumReleaseDate?new Date(i.premiumReleaseDate):void 0,deps:i.deps||[],reducers:i.reducers||[],isLoadingFuncs:i.isLoadingFuncs||[],contextInit:[].concat(i.contextInit||[]),eventRefiners:i.eventRefiners||{},eventDefMemberAdders:i.eventDefMemberAdders||[],eventSourceRefiners:i.eventSourceRefiners||{},isDraggableTransformers:i.isDraggableTransformers||[],eventDragMutationMassagers:i.eventDragMutationMassagers||[],eventDefMutationAppliers:i.eventDefMutationAppliers||[],dateSelectionTransformers:i.dateSelectionTransformers||[],datePointTransforms:i.datePointTransforms||[],dateSpanTransforms:i.dateSpanTransforms||[],views:i.views||{},viewPropsTransformers:i.viewPropsTransformers||[],isPropsValid:i.isPropsValid||null,externalDefTransforms:i.externalDefTransforms||[],viewContainerAppends:i.viewContainerAppends||[],eventDropTransformers:i.eventDropTransformers||[],componentInteractions:i.componentInteractions||[],calendarInteractions:i.calendarInteractions||[],themeClasses:i.themeClasses||{},eventSourceDefs:i.eventSourceDefs||[],cmdFormatter:i.cmdFormatter,recurringTypes:i.recurringTypes||[],namedTimeZonedImpl:i.namedTimeZonedImpl,initialView:i.initialView||"",elementDraggingImpl:i.elementDraggingImpl,optionChangeHandlers:i.optionChangeHandlers||{},scrollGridImpl:i.scrollGridImpl||null,listenerRefiners:i.listenerRefiners||{},optionRefiners:i.optionRefiners||{},propSetHandlers:i.propSetHandlers||{}}}function S7(i,e){let t={},n={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function r(o){for(let s of o){let a=s.name,l=t[a];l===void 0?(t[a]=s.id,r(s.deps),n=b7(n,s)):l!==s.id&&console.warn(`Duplicate plugin '${a}'`)}}return i&&r(i),r(e),n}function E7(){let i=[],e=[],t;return(n,r)=>((!t||!Ro(n,i)||!Ro(r,e))&&(t=S7(n,r)),i=n,e=r,t)}function b7(i,e){return{premiumReleaseDate:D7(i.premiumReleaseDate,e.premiumReleaseDate),reducers:i.reducers.concat(e.reducers),isLoadingFuncs:i.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:i.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},i.eventRefiners),e.eventRefiners),eventDefMemberAdders:i.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},i.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:i.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:i.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:i.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:i.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:i.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:i.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},i.views),e.views),viewPropsTransformers:i.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||i.isPropsValid,externalDefTransforms:i.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:i.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:i.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:i.calendarInteractions.concat(e.calendarInteractions),componentInteractions:i.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},i.themeClasses),e.themeClasses),eventSourceDefs:i.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||i.cmdFormatter,recurringTypes:i.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||i.namedTimeZonedImpl,initialView:i.initialView||e.initialView,elementDraggingImpl:i.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},i.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||i.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},i.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},i.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},i.propSetHandlers),e.propSetHandlers)}}function D7(i,e){return i===void 0?e:e===void 0?i:new Date(Math.max(i.valueOf(),e.valueOf()))}var Io=class extends hs{};Io.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Io.prototype.baseIconClass="fc-icon";Io.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Io.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Io.prototype.iconOverrideOption="buttonIcons";Io.prototype.iconOverrideCustomButtonOption="icon";Io.prototype.iconOverridePrefix="fc-icon-";function R7(i,e){let t={},n;for(n in i)ND(n,t,i,e);for(n in e)ND(n,t,i,e);return t}function ND(i,e,t,n){if(e[i])return e[i];let r=T7(i,e,t,n);return r&&(e[i]=r),r}function T7(i,e,t,n){let r=t[i],o=n[i],s=c=>r&&r[c]!==null?r[c]:o&&o[c]!==null?o[c]:null,a=s("component"),l=s("superType"),u=null;if(l){if(l===i)throw new Error("Can't have a custom view type that references itself");u=ND(l,e,t,n)}return!a&&u&&(a=u.component),a?{type:i,component:a,defaults:Object.assign(Object.assign({},u?u.defaults:{}),r?r.rawOptions:{}),overrides:Object.assign(Object.assign({},u?u.overrides:{}),o?o.rawOptions:{})}:null}function eV(i){return gr(i,A7)}function A7(i){let e=typeof i=="function"?{component:i}:i,{component:t}=e;return e.content?t=tV(e):t&&!(t.prototype instanceof Ke)&&(t=tV(Object.assign(Object.assign({},e),{content:t}))),{superType:e.type,component:t,rawOptions:e}}function tV(i){return e=>E(mr.Consumer,null,t=>E(an,{elTag:"div",elClasses:dD(t.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:i.content,classNameGenerator:i.classNames,didMount:i.didMount,willUnmount:i.willUnmount}))}function O7(i,e,t,n){let r=eV(i),o=eV(e.views),s=R7(r,o);return gr(s,a=>I7(a,o,e,t,n))}function I7(i,e,t,n,r){let o=i.overrides.duration||i.defaults.duration||n.duration||t.duration,s=null,a="",l="",u={};if(o&&(s=M7(o),s)){let h=Wh(s);a=h.unit,h.value===1&&(l=a,u=e[a]?e[a].rawOptions:{})}let c=h=>{let p=h.buttonText||{},f=i.defaults.buttonTextKey;return f!=null&&p[f]!=null?p[f]:p[i.type]!=null?p[i.type]:p[l]!=null?p[l]:null},d=h=>{let p=h.buttonHints||{},f=i.defaults.buttonTextKey;return f!=null&&p[f]!=null?p[f]:p[i.type]!=null?p[i.type]:p[l]!=null?p[l]:null};return{type:i.type,component:i.component,duration:s,durationUnit:a,singleUnit:l,optionDefaults:i.defaults,optionOverrides:Object.assign(Object.assign({},u),i.overrides),buttonTextOverride:c(n)||c(t)||i.overrides.buttonText,buttonTextDefault:c(r)||i.defaults.buttonText||c(pa)||i.type,buttonTitleOverride:d(n)||d(t)||i.overrides.buttonHint,buttonTitleDefault:d(r)||i.defaults.buttonHint||d(pa)}}var nV={};function M7(i){let e=JSON.stringify(i),t=nV[e];return t===void 0&&(t=He(i),nV[e]=t),t}function x7(i,e){switch(e.type){case"CHANGE_VIEW_TYPE":i=e.viewType}return i}function P7(i,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},i),{[e.optionName]:e.rawOptionValue});default:return i}}function F7(i,e,t,n){let r;switch(e.type){case"CHANGE_VIEW_TYPE":return n.build(e.dateMarker||t);case"CHANGE_DATE":return n.build(e.dateMarker);case"PREV":if(r=n.buildPrev(i,t),r.isValid)return r;break;case"NEXT":if(r=n.buildNext(i,t),r.isValid)return r;break}return i}function N7(i,e,t){let n=e?e.activeRange:null;return dV({},j7(i,t),n,t)}function L7(i,e,t,n){let r=t?t.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return dV(i,e.sources,r,n);case"REMOVE_EVENT_SOURCE":return V7(i,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?hV(i,r,n):i;case"FETCH_EVENT_SOURCES":return WD(i,e.sourceIds?aD(e.sourceIds):pV(i,n),r,e.isRefetch||!1,n);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return B7(i,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return i}}function k7(i,e,t){let n=e?e.activeRange:null;return WD(i,pV(i,t),n,!0,t)}function cV(i){for(let e in i)if(i[e].isFetching)return!0;return!1}function dV(i,e,t,n){let r={};for(let o of e)r[o.sourceId]=o;return t&&(r=hV(r,t,n)),Object.assign(Object.assign({},i),r)}function V7(i,e){return ds(i,t=>t.sourceId!==e)}function hV(i,e,t){return WD(i,ds(i,n=>G7(n,e,t)),e,!1,t)}function G7(i,e,t){return fV(i,t)?!t.options.lazyFetching||!i.fetchRange||i.isFetching||e.start<i.fetchRange.start||e.end>i.fetchRange.end:!i.latestFetchId}function WD(i,e,t,n,r){let o={};for(let s in i){let a=i[s];e[s]?o[s]=H7(a,t,n,r):o[s]=a}return o}function H7(i,e,t,n){let{options:r,calendarApi:o}=n,s=n.pluginHooks.eventSourceDefs[i.sourceDefId],a=gs();return s.fetch({eventSource:i,range:e,isRefetch:t,context:n},l=>{let{rawEvents:u}=l;r.eventSourceSuccess&&(u=r.eventSourceSuccess.call(o,u,l.response)||u),i.success&&(u=i.success.call(o,u,l.response)||u),n.dispatch({type:"RECEIVE_EVENTS",sourceId:i.sourceId,fetchId:a,fetchRange:e,rawEvents:u})},l=>{let u=!1;r.eventSourceFailure&&(r.eventSourceFailure.call(o,l),u=!0),i.failure&&(i.failure(l),u=!0),u||console.warn(l.message,l),n.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:i.sourceId,fetchId:a,fetchRange:e,error:l})}),Object.assign(Object.assign({},i),{isFetching:!0,latestFetchId:a})}function B7(i,e,t,n){let r=i[e];return r&&t===r.latestFetchId?Object.assign(Object.assign({},i),{[e]:Object.assign(Object.assign({},r),{isFetching:!1,fetchRange:n})}):i}function pV(i,e){return ds(i,t=>fV(t,e))}function j7(i,e){let t=vD(e),n=[].concat(i.eventSources||[]),r=[];i.initialEvents&&n.unshift(i.initialEvents),i.events&&n.unshift(i.events);for(let o of n){let s=gD(o,e,t);s&&r.push(s)}return r}function fV(i,e){return!e.pluginHooks.eventSourceDefs[i.sourceDefId].ignoreRange}function U7(i,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return i}}function W7(i,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return i}}function z7(i,e){let t;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return i}}function $7(i,e){let t;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return i}}function q7(i,e,t,n,r){let o=i.headerToolbar?iV(i.headerToolbar,i,e,t,n,r):null,s=i.footerToolbar?iV(i.footerToolbar,i,e,t,n,r):null;return{header:o,footer:s}}function iV(i,e,t,n,r,o){let s={},a=[],l=!1;for(let u in i){let c=i[u],d=K7(c,e,t,n,r,o);s[u]=d.widgets,a.push(...d.viewsWithButtons),l=l||d.hasTitle}return{sectionWidgets:s,viewsWithButtons:a,hasTitle:l}}function K7(i,e,t,n,r,o){let s=e.direction==="rtl",a=e.customButtons||{},l=t.buttonText||{},u=e.buttonText||{},c=t.buttonHints||{},d=e.buttonHints||{},h=i?i.split(" "):[],p=[],f=!1;return{widgets:h.map(v=>v.split(",").map(m=>{if(m==="title")return f=!0,{buttonName:m};let _,w,S,R,T,x;if(_=a[m])S=A=>{_.click&&_.click.call(A.target,A,A.target)},(R=n.getCustomButtonIconClass(_))||(R=n.getIconClass(m,s))||(T=_.text),x=_.hint||_.text;else if(w=r[m]){p.push(m),S=()=>{o.changeView(m)},(T=w.buttonTextOverride)||(R=n.getIconClass(m,s))||(T=w.buttonTextDefault);let A=w.buttonTextOverride||w.buttonTextDefault;x=Oc(w.buttonTitleOverride||w.buttonTitleDefault||e.viewHint,[A,m],A)}else if(o[m])if(S=()=>{o[m]()},(T=l[m])||(R=n.getIconClass(m,s))||(T=u[m]),m==="prevYear"||m==="nextYear"){let A=m==="prevYear"?"prev":"next";x=Oc(c[A]||d[A],[u.year||"year","year"],u[m])}else x=A=>Oc(c[m]||d[m],[u[A]||A,A],u[m]);return{buttonName:m,buttonClick:S,buttonIcon:R,buttonText:T,buttonHint:x}})),viewsWithButtons:p,hasTitle:f}}var LD=class{constructor(e,t,n){this.type=e,this.getCurrentData=t,this.dateEnv=n}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}},Y7={ignoreRange:!0,parseMeta(i){return Array.isArray(i.events)?i.events:null},fetch(i,e){e({rawEvents:i.eventSource.meta})}},Q7=pi({name:"array-event-source",eventSourceDefs:[Y7]}),Z7={parseMeta(i){return typeof i.events=="function"?i.events:null},fetch(i,e,t){let{dateEnv:n}=i.context,r=i.eventSource.meta;ED(r.bind(null,SD(i.range,n)),o=>e({rawEvents:o}),t)}},X7=pi({name:"func-event-source",eventSourceDefs:[Z7]}),J7={method:String,extraParams:M,startParam:String,endParam:String,timeZoneParam:String},e9={parseMeta(i){return i.url&&(i.format==="json"||!i.format)?{url:i.url,format:"json",method:(i.method||"GET").toUpperCase(),extraParams:i.extraParams,startParam:i.startParam,endParam:i.endParam,timeZoneParam:i.timeZoneParam}:null},fetch(i,e,t){let{meta:n}=i.eventSource,r=n9(n,i.range,i.context);bD(n.method,n.url,r).then(([o,s])=>{e({rawEvents:o,response:s})},t)}},t9=pi({name:"json-event-source",eventSourceRefiners:J7,eventSourceDefs:[e9]});function n9(i,e,t){let{dateEnv:n,options:r}=t,o,s,a,l,u={};return o=i.startParam,o==null&&(o=r.startParam),s=i.endParam,s==null&&(s=r.endParam),a=i.timeZoneParam,a==null&&(a=r.timeZoneParam),typeof i.extraParams=="function"?l=i.extraParams():l=i.extraParams||{},Object.assign(u,l),u[o]=n.formatIso(e.start),u[s]=n.formatIso(e.end),n.timeZone!=="local"&&(u[a]=n.timeZone),u}var i9={daysOfWeek:M,startTime:He,endTime:He,duration:He,startRecur:M,endRecur:M},r9={parse(i,e){if(i.daysOfWeek||i.startTime||i.endTime||i.startRecur||i.endRecur){let t={daysOfWeek:i.daysOfWeek||null,startTime:i.startTime||null,endTime:i.endTime||null,startRecur:i.startRecur?e.createMarker(i.startRecur):null,endRecur:i.endRecur?e.createMarker(i.endRecur):null},n;return i.duration&&(n=i.duration),!n&&i.startTime&&i.endTime&&(n=pk(i.endTime,i.startTime)),{allDayGuess:!i.startTime&&!i.endTime,duration:n,typeData:t}}return null},expand(i,e,t){let n=Hi(e,{start:i.startRecur,end:i.endRecur});return n?s9(i.daysOfWeek,i.startTime,n,t):[]}},o9=pi({name:"simple-recurring-event",recurringTypes:[r9],eventRefiners:i9});function s9(i,e,t,n){let r=i?aD(i):null,o=at(t.start),s=t.end,a=[];for(;o<s;){let l;(!r||r[o.getUTCDay()])&&(e?l=n.add(o,e):l=o,a.push(l)),o=jt(o,1)}return a}var a9=pi({name:"change-handler",optionChangeHandlers:{events(i,e){rV([i],e)},eventSources:rV}});function rV(i,e){let t=my(e.getCurrentData().eventSources);if(t.length===1&&i.length===1&&Array.isArray(t[0]._raw)&&Array.isArray(i[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:i[0]});return}let n=[];for(let r of i){let o=!1;for(let s=0;s<t.length;s+=1)if(t[s]._raw===r){t.splice(s,1),o=!0;break}o||n.push(r)}for(let r of t)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:r.sourceId});for(let r of n)e.calendarApi.addEventSource(r)}function l9(i,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},SD(i.activeRange,e.dateEnv)),{view:e.viewApi}))}function u9(i,e){let{emitter:t}=e;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",Ao(i,e))}var c9=[Q7,X7,t9,o9,a9,pi({name:"misc",isLoadingFuncs:[i=>cV(i.eventSources)],propSetHandlers:{dateProfile:l9,eventStore:u9}})],kD=class{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new _l(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t=[],n;for(;n=e.shift();)this.runTask(n),t.push(n);this.drained(t)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}};function d9(i,e,t){let n;return/^(year|month)$/.test(i.currentRangeUnit)?n=i.currentRange:n=i.activeRange,t.formatRange(n.start,n.end,dt(e.titleFormat||h9(i)),{isEndExclusive:i.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function h9(i){let{currentRangeUnit:e}=i;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let t=Rc(i.currentRange.start,i.currentRange.end);return t!==null&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}var VD=class{constructor(e){this.computeCurrentViewData=ae(this._computeCurrentViewData),this.organizeRawLocales=ae(C7),this.buildLocale=ae(lV),this.buildPluginHooks=E7(),this.buildDateEnv=ae(p9),this.buildTheme=ae(f9),this.parseToolbars=ae(q7),this.buildViewSpecs=ae(O7),this.buildDateProfileGenerator=Ic(g9),this.buildViewApi=ae(v9),this.buildViewUiProps=Ic(C9),this.buildEventUiBySource=ae(m9,Gi),this.buildEventUiBases=ae(y9),this.parseContextBusinessHours=Ic(_9),this.buildTitle=ae(d9),this.emitter=new ps,this.actionRunner=new kD(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=h=>{this.actionRunner.request(h)},this.props=e,this.actionRunner.pause();let t={},n=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),r=n.calendarOptions.initialView||n.pluginHooks.initialView,o=this.computeCurrentViewData(r,n,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(o.options);let s=Dk(n.calendarOptions,n.dateEnv),a=o.dateProfileGenerator.build(s);fr(a.activeRange,s)||(s=a.currentRange.start);let l={dateEnv:n.dateEnv,options:n.calendarOptions,pluginHooks:n.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let h of n.pluginHooks.contextInit)h(l);let u=N7(n.calendarOptions,a,l),c={dynamicOptionOverrides:t,currentViewType:r,currentDate:s,dateProfile:a,businessHours:this.parseContextBusinessHours(l),eventSources:u,eventUiBases:{},eventStore:Wn(),renderableEventStore:Wn(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(l).selectionConfig},d=Object.assign(Object.assign({},l),c);for(let h of n.pluginHooks.reducers)Object.assign(c,h(null,null,d));FD(c,l)&&this.emitter.trigger("loading",!0),this.state=c,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:n}=this;t===void 0?n.optionOverrides=e:(n.optionOverrides=Object.assign(Object.assign({},n.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(t===void 0||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:n,emitter:r}=this,o=P7(n.dynamicOptionOverrides,e),s=this.computeOptionsData(t.optionOverrides,o,t.calendarApi),a=x7(n.currentViewType,e),l=this.computeCurrentViewData(a,s,t.optionOverrides,o);t.calendarApi.currentDataManager=this,r.setThisContext(t.calendarApi),r.setOptions(l.options);let u={dateEnv:s.dateEnv,options:s.calendarOptions,pluginHooks:s.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:r,getCurrentData:this.getCurrentData},{currentDate:c,dateProfile:d}=n;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(d=l.dateProfileGenerator.build(c)),c=bk(c,e),d=F7(d,e,c,l.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!fr(d.currentRange,c))&&(c=d.currentRange.start);let h=L7(n.eventSources,e,d,u),p=Ak(n.eventStore,e,h,d,u),g=cV(h)&&!l.options.progressiveEventRendering&&n.renderableEventStore||p,{eventUiSingleBase:v,selectionConfig:m}=this.buildViewUiProps(u),_=this.buildEventUiBySource(h),w=this.buildEventUiBases(g.defs,v,_),S={dynamicOptionOverrides:o,currentViewType:a,currentDate:c,dateProfile:d,eventSources:h,eventStore:p,renderableEventStore:g,selectionConfig:m,eventUiBases:w,businessHours:this.parseContextBusinessHours(u),dateSelection:U7(n.dateSelection,e),eventSelection:W7(n.eventSelection,e),eventDrag:z7(n.eventDrag,e),eventResize:$7(n.eventResize,e)},R=Object.assign(Object.assign({},u),S);for(let A of s.pluginHooks.reducers)Object.assign(S,A(n,e,R));let T=FD(n,u),x=FD(S,u);!T&&x?r.trigger("loading",!0):T&&!x&&r.trigger("loading",!1),this.state=S,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,n=this.data,r=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),o=this.computeCurrentViewData(t.currentViewType,r,e.optionOverrides,t.dynamicOptionOverrides),s=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(t.dateProfile,o.options,r.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),o),t),a=r.pluginHooks.optionChangeHandlers,l=n&&n.calendarOptions,u=r.calendarOptions;if(l&&l!==u){l.timeZone!==u.timeZone&&(t.eventSources=s.eventSources=k7(s.eventSources,t.dateProfile,s),t.eventStore=s.eventStore=mD(s.eventStore,n.dateEnv,s.dateEnv),t.renderableEventStore=s.renderableEventStore=mD(s.renderableEventStore,n.dateEnv,s.dateEnv));for(let c in a)(this.optionsForHandling.indexOf(c)!==-1||l[c]!==u[c])&&a[c](u[c],s)}this.optionsForHandling=[],e.onData&&e.onData(s)}computeOptionsData(e,t,n){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:r,pluginHooks:o,localeDefaults:s,availableLocaleData:a,extra:l}=this.processRawCalendarOptions(e,t);oV(l);let u=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,o,a,r.defaultRangeSeparator),c=this.buildViewSpecs(o.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,s),d=this.buildTheme(r,o),h=this.parseToolbars(r,this.stableOptionOverrides,d,c,n);return this.stableCalendarOptionsData={calendarOptions:r,pluginHooks:o,dateEnv:u,viewSpecs:c,theme:d,toolbarConfig:h,localeDefaults:s,availableRawLocales:a.map}}processRawCalendarOptions(e,t){let{locales:n,locale:r}=fy([pa,e,t]),o=this.organizeRawLocales(n),s=o.map,a=this.buildLocale(r||o.defaultCode,s).options,l=this.buildPluginHooks(e.plugins||[],c9),u=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},rD),oD),sD),l.listenerRefiners),l.optionRefiners),c={},d=fy([pa,a,e,t]),h={},p=this.currentCalendarOptionsInput,f=this.currentCalendarOptionsRefined,g=!1;for(let v in d)this.optionsForRefining.indexOf(v)===-1&&(d[v]===p[v]||fa[v]&&v in p&&fa[v](p[v],d[v]))?h[v]=f[v]:u[v]?(h[v]=u[v](d[v]),g=!0):c[v]=p[v];return g&&(this.currentCalendarOptionsInput=d,this.currentCalendarOptionsRefined=h,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:o,localeDefaults:a,extra:c}}_computeCurrentViewData(e,t,n,r){let o=t.viewSpecs[e];if(!o)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:s,extra:a}=this.processRawViewOptions(o,t.pluginHooks,t.localeDefaults,n,r);oV(a);let l=this.buildDateProfileGenerator({dateProfileGeneratorClass:o.optionDefaults.dateProfileGeneratorClass,duration:o.duration,durationUnit:o.durationUnit,usesMinMaxTime:o.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,showNonCurrentDates:s.showNonCurrentDates,dayCount:s.dayCount,dateAlignment:s.dateAlignment,dateIncrement:s.dateIncrement,hiddenDays:s.hiddenDays,weekends:s.weekends,nowInput:s.now,validRangeInput:s.validRange,visibleRangeInput:s.visibleRange,fixedWeekCount:s.fixedWeekCount}),u=this.buildViewApi(e,this.getCurrentData,t.dateEnv);return{viewSpec:o,options:s,dateProfileGenerator:l,viewApi:u}}processRawViewOptions(e,t,n,r,o){let s=fy([pa,e.optionDefaults,n,r,e.optionOverrides,o]),a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},rD),oD),sD),vk),t.listenerRefiners),t.optionRefiners),l={},u=this.currentViewOptionsInput,c=this.currentViewOptionsRefined,d=!1,h={};for(let p in s)s[p]===u[p]||fa[p]&&fa[p](s[p],u[p])?l[p]=c[p]:(s[p]===this.currentCalendarOptionsInput[p]||fa[p]&&fa[p](s[p],this.currentCalendarOptionsInput[p])?p in this.currentCalendarOptionsRefined&&(l[p]=this.currentCalendarOptionsRefined[p]):a[p]?l[p]=a[p](s[p]):h[p]=s[p],d=!0);return d&&(this.currentViewOptionsInput=s,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:h}}};function p9(i,e,t,n,r,o,s,a){let l=lV(e||s.defaultCode,s.map);return new zh({calendarSystem:"gregory",timeZone:i,namedTimeZoneImpl:o.namedTimeZonedImpl,locale:l,weekNumberCalculation:t,firstDay:n,weekText:r,cmdFormatter:o.cmdFormatter,defaultSeparator:a})}function f9(i,e){let t=e.themeClasses[i.themeSystem]||Io;return new t(i)}function g9(i){let e=i.dateProfileGeneratorClass||wl;return new e(i)}function v9(i,e,t){return new LD(i,e,t)}function m9(i){return gr(i,e=>e.ui)}function y9(i,e,t){let n={"":e};for(let r in i){let o=i[r];o.sourceId&&t[o.sourceId]&&(n[r]=t[o.sourceId])}return n}function C9(i){let{options:e}=i;return{eventUiSingleBase:Pc({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},i),selectionConfig:Pc({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},i)}}function FD(i,e){for(let t of e.pluginHooks.isLoadingFuncs)if(t(i))return!0;return!1}function _9(i){return yD(i.options.businessHours,i)}function oV(i,e){for(let t in i)console.warn(`Unknown option '${t}'`+(e?` for view '${e}'`:""))}var GD=class extends Ke{render(){let e=this.props.widgetGroups.map(t=>this.renderWidgetGroup(t));return E("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:t}=this,{theme:n}=this.context,r=[],o=!0;for(let s of e){let{buttonName:a,buttonClick:l,buttonText:u,buttonIcon:c,buttonHint:d}=s;if(a==="title")o=!1,r.push(E("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let h=a===t.activeButton,p=!t.isTodayEnabled&&a==="today"||!t.isPrevEnabled&&a==="prev"||!t.isNextEnabled&&a==="next",f=[`fc-${a}-button`,n.getClass("button")];h&&f.push(n.getClass("buttonActive")),r.push(E("button",{type:"button",title:typeof d=="function"?d(t.navUnit):d,disabled:p,"aria-pressed":h,className:f.join(" "),onClick:l},u||(c?E("span",{className:c,role:"img"}):"")))}}if(r.length>1){let s=o&&n.getClass("buttonGroup")||"";return E("div",{className:s},...r)}return r[0]}},Ay=class extends Ke{render(){let{model:e,extraClassName:t}=this.props,n=!1,r,o,s=e.sectionWidgets,a=s.center;return s.left?(n=!0,r=s.left):r=s.start,s.right?(n=!0,o=s.right):o=s.end,E("div",{className:[t||"","fc-toolbar",n?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",r||[]),this.renderSection("center",a||[]),this.renderSection("end",o||[]))}renderSection(e,t){let{props:n}=this;return E(GD,{key:e,widgetGroups:t,title:n.title,navUnit:n.navUnit,activeButton:n.activeButton,isTodayEnabled:n.isTodayEnabled,isPrevEnabled:n.isPrevEnabled,isNextEnabled:n.isNextEnabled,titleId:n.titleId})}},HD=class extends Ke{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,yr(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:n}=e,r=["fc-view-harness",n||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],o="",s="";return n?t.availableWidth!==null?o=t.availableWidth/n:s=`${1/n*100}%`:o=e.height||"",E("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:r.join(" "),style:{height:o,paddingBottom:s}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}},BD=class extends zr{constructor(e){super(e),this.handleSegClick=(t,n)=>{let{component:r}=this,{context:o}=r,s=vs(n);if(s&&r.isValidSegDownEl(t.target)){let a=sn(t.target,".fc-event-forced-url"),l=a?a.querySelector("a[href]").href:"";o.emitter.trigger("eventClick",{el:n,event:new Et(r.context,s.eventRange.def,s.eventRange.instance),jsEvent:t,view:o.viewApi}),l&&!t.defaultPrevented&&(window.location.href=l)}},this.destroy=zb(e.el,"click",".fc-event",this.handleSegClick)}},jD=class extends zr{constructor(e){super(e),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,n)=>{vs(n)&&(this.currentSegEl=n,this.triggerEvent("eventMouseEnter",t,n))},this.handleSegLeave=(t,n)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,n))},this.removeHoverListeners=ak(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,n){let{component:r}=this,{context:o}=r,s=vs(n);(!t||r.isValidSegDownEl(t.target))&&o.emitter.trigger(e,{el:n,event:new Et(o,s.eventRange.def,s.eventRange.instance),jsEvent:t,view:o.viewApi})}},UD=class extends dp{constructor(){super(...arguments),this.buildViewContext=ae(wk),this.buildViewPropTransformers=ae(S9),this.buildToolbarProps=ae(w9),this.headerRef=Zt(),this.footerRef=Zt(),this.interactionsStore={},this.state={viewLabelId:vr()},this.registerInteractiveComponent=(e,t)=>{let n=Fk(e,t),s=[BD,jD].concat(this.props.pluginHooks.componentInteractions).map(a=>new a(n));this.interactionsStore[e.uid]=s,Nc[e.uid]=n},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let n of t)n.destroy();delete this.interactionsStore[e.uid]}delete Nc[e.uid]},this.resizeRunner=new _l(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:t,options:n}=e,r=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,xc(e.options.now,e.dateEnv),e.viewTitle),o=!1,s="",a;e.isHeightAuto||e.forPrint?s="":n.height!=null?o=!0:n.contentHeight!=null?s=n.contentHeight:a=Math.max(n.aspectRatio,.5);let l=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),u=t.header&&t.header.hasTitle?this.state.viewLabelId:"";return E(mr.Provider,{value:l},t.header&&E(Ay,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:t.header,titleId:u},r)),E(HD,{liquid:o,height:s,aspectRatio:a,labeledById:u},this.renderView(e),this.buildAppendContent()),t.footer&&E(Ay,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:t.footer,titleId:""},r)))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(n=>new n(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let n in t)t[n](e[n],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:n}=t.pluginHooks;for(let r in n)t[r]!==e[r]&&n[r](t[r],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,t=e.pluginHooks.viewContainerAppends.map(n=>n(e));return E(Xe,{},...t)}renderView(e){let{pluginHooks:t}=e,{viewSpec:n}=e,r={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},o=this.buildViewPropTransformers(t.viewPropsTransformers);for(let a of o)Object.assign(r,a.transform(r,e));let s=n.component;return E(s,Object.assign({},r))}};function w9(i,e,t,n,r,o){let s=t.build(r,void 0,!1),a=t.buildPrev(e,n,!1),l=t.buildNext(e,n,!1);return{title:o,activeButton:i.type,navUnit:i.singleUnit,isTodayEnabled:s.isValid&&!fr(e.currentRange,r),isPrevEnabled:a.isValid,isNextEnabled:l.isValid}}function S9(i){return i.map(e=>new e)}var Oy=class extends Zh{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=n=>{switch(n.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=n=>{this.currentData=n,this.renderRunner.request(n.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:n}=this;lD(()=>{ra(E(Qh,{options:n.calendarOptions,theme:n.theme,emitter:n.emitter},(r,o,s,a)=>(this.setClassNames(r),this.setHeight(o),E(cD.Provider,{value:this.customContentRenderId},E(UD,Object.assign({isHeightAuto:s,forPrint:a},n))))),this.el)})}else this.isRendered&&(this.isRendered=!1,ra(null,this.el),this.setClassNames([]),this.setHeight(""))},ik(e),this.el=e,this.renderRunner=new _l(this.handleRenderRequest),new VD({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){lD(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!Ro(e,this.currentClassNames)){let{classList:t}=this.el;for(let n of this.currentClassNames)t.remove(n);for(let n of e)t.add(n);this.currentClassNames=e}}setHeight(e){Wb(this.el,"height",e)}};var b9=["*"],D9=["rootEl"],Hc=i=>({$implicit:i});function R9(i,e){if(i&1&&(b(0,"div",1,2),Ws(2,3),D()),i&2){let t=K();N("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),O(2),N("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Br(4,Hc,t.renderProps))}}function T9(i,e){if(i&1&&(b(0,"span",1,2),Ws(2,3),D()),i&2){let t=K();N("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),O(2),N("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Br(4,Hc,t.renderProps))}}function A9(i,e){if(i&1&&(b(0,"a",1,2),Ws(2,3),D()),i&2){let t=K();N("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),O(2),N("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Br(4,Hc,t.renderProps))}}function O9(i,e){if(i&1&&(b(0,"tr",1,2),Ws(2,3),D()),i&2){let t=K();N("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),O(2),N("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Br(4,Hc,t.renderProps))}}function I9(i,e){if(i&1&&(b(0,"th",1,2),Ws(2,3),D()),i&2){let t=K();N("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),O(2),N("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Br(4,Hc,t.renderProps))}}function M9(i,e){if(i&1&&(b(0,"td",1,2),Ws(2,3),D()),i&2){let t=K();N("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),O(2),N("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Br(4,Hc,t.renderProps))}}var x9=["dayHeaderContent"],P9=["dayCellContent"],F9=["weekNumberContent"],N9=["nowIndicatorContent"],L9=["eventContent"],k9=["slotLaneContent"],V9=["slotLabelContent"],G9=["allDayContent"],H9=["moreLinkContent"],B9=["noEventsContent"],j9=["resourceAreaHeaderContent"],U9=["resourceGroupLabelContent"],W9=["resourceLabelContent"],z9=["resourceLaneContent"],$9=["resourceGroupLaneContent"];function q9(i,e){if(i&1&&ne(0,"transport-container",1),i&2){let t=e.$implicit,n=K();N("inPlaceOf",t.containerEl)("reportEl",t.reportNewContainerEl)("elTag",t.elTag)("elClasses",t.elClasses)("elStyle",t.elStyle)("elAttrs",t.elAttrs)("template",n.templateMap[t.generatorName])("renderProps",t.renderProps)}}var gV={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0},K9=["events","eventSources","resources"],Y9=Object.prototype.hasOwnProperty;function My(i){return Array.isArray(i)?i.map(My):i instanceof Date?new Date(i.valueOf()):typeof i=="object"&&i?mV(i,My):i}function mV(i,e){let t={};for(let n in i)Y9.call(i,n)&&(t[n]=e(i[n],n));return t}function $D(i,e){if(i===e)return!0;if(i&&e&&typeof i=="object"&&typeof e=="object"){if(i.constructor!==e.constructor)return!1;var t,n,r;if(Array.isArray(i)){if(t=i.length,t!=e.length)return!1;for(n=t;n--!==0;)if(!$D(i[n],e[n]))return!1;return!0}if(i.constructor===RegExp)return i.source===e.source&&i.flags===e.flags;if(i.valueOf!==Object.prototype.valueOf)return i.valueOf()===e.valueOf();if(i.toString!==Object.prototype.toString)return i.toString()===e.toString();if(r=Object.keys(i),t=r.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,r[n]))return!1;for(n=t;n--!==0;){var o=r[n];if(!$D(i[o],e[o]))return!1}return!0}return i!==i&&e!==e}var Iy=typeof document<"u"?document.createDocumentFragment():null,Q9=(()=>{class i{constructor(t){this.element=t}ngAfterViewInit(){Iy&&Iy.appendChild(this.element.nativeElement)}ngOnDestroy(){Iy&&Iy.removeChild(this.element.nativeElement)}}return i.\u0275fac=function(t){return new(t||i)(P(Ge))},i.\u0275cmp=ce({type:i,selectors:[["offscreen-fragment"]],ngContentSelectors:b9,decls:1,vars:0,template:function(t,n){t&1&&(Jd(),eh(0))},encapsulation:2}),i})(),Gc=typeof document<"u"?document.createDocumentFragment():null,Z9=(()=>{class i{ngAfterViewInit(){let t=this.rootElRef?.nativeElement;vV(t,this.inPlaceOf),zD(t,void 0,this.elAttrs),this.inPlaceOf.style.display="none",this.reportEl(t)}ngOnChanges(t){let n=this.rootElRef?.nativeElement;if(n)if(this.inPlaceOf.parentNode!==Gc)vV(n,this.inPlaceOf),zD(n,void 0,this.elAttrs),this.reportEl(n);else{let r=t.elAttrs;r&&zD(n,r.previousValue,r.currentValue)}}ngOnDestroy(){this.inPlaceOf.parentNode===Gc&&Gc&&Gc.removeChild(this.inPlaceOf),this.reportEl(null)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=ce({type:i,selectors:[["transport-container"]],viewQuery:function(t,n){if(t&1&&ni(D9,5),t&2){let r;rt(r=ot())&&(n.rootElRef=r.first)}},inputs:{inPlaceOf:"inPlaceOf",reportEl:"reportEl",elTag:"elTag",elClasses:"elClasses",elStyle:"elStyle",elAttrs:"elAttrs",template:"template",renderProps:"renderProps"},features:[Vt],decls:6,vars:6,consts:[[3,"ngIf"],[3,"ngClass","ngStyle"],["rootEl",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,n){t&1&&se(0,R9,3,6,"ng-template",0)(1,T9,3,6,"ng-template",0)(2,A9,3,6,"ng-template",0)(3,O9,3,6,"ng-template",0)(4,I9,3,6,"ng-template",0)(5,M9,3,6,"ng-template",0),t&2&&(N("ngIf",n.elTag=="div"),O(),N("ngIf",n.elTag=="span"),O(),N("ngIf",n.elTag=="a"),O(),N("ngIf",n.elTag=="tr"),O(),N("ngIf",n.elTag=="th"),O(),N("ngIf",n.elTag=="td"))},dependencies:[Li,qs,sN,oh],encapsulation:2}),i})();function vV(i,e){e.parentNode?.insertBefore(i,e.nextSibling),Gc&&Gc.appendChild(e)}function zD(i,e={},t={}){for(let n in e)n in t||(i[n]=null);for(let n in t)i[n]=t[n]}var yV=(()=>{class i{constructor(t,n){this.element=t,this.calendar=null,this.optionSnapshot={},this.customRenderingMap=new Map,this.templateMap={};let r=new rp;r.subscribe(o=>{this.customRenderingMap=o,this.customRenderingArray=void 0,n.detectChanges()}),this.handleCustomRendering=r.handle.bind(r),this.templateMap=this}ngAfterViewInit(){let{deepChangeDetection:t}=this,n=z(z({},this.options),this.buildInputOptions());this.optionSnapshot=mV(n,(a,l)=>t&&gV[l]?My(a):a);let r=this.element.nativeElement,o=this.calendar=new Oy(r,z(z({},n),this.buildExtraOptions())),s=r.closest("ion-content");s&&s.componentOnReady?s.componentOnReady().then(()=>{window.requestAnimationFrame(()=>{o.render()})}):o.render()}ngDoCheck(){if(this.calendar){let{deepChangeDetection:t,optionSnapshot:n}=this,r=z(z({},this.options),this.buildInputOptions()),o={},s=[];for(let l in r)if(r.hasOwnProperty(l)){let u=r[l];t&&gV[l]?$D(n[l],u)||(n[l]=My(u),s.push(l)):n[l]!==u&&(n[l]=u,s.push(l)),o[l]=u}let a=Object.keys(n);for(let l of a)l in r||(delete n[l],s.push(l));s.length&&(this.calendar.pauseRendering(),this.calendar.resetOptions(z(z({},o),this.buildExtraOptions()),s))}}ngAfterContentChecked(){this.calendar&&this.calendar.resumeRendering()}ngOnDestroy(){this.calendar&&(this.calendar.destroy(),this.calendar=null)}get customRenderings(){return this.customRenderingArray||(this.customRenderingArray=[...this.customRenderingMap.values()])}getApi(){return this.calendar}buildInputOptions(){let t={};for(let n of K9){let r=this[n];r!=null&&(t[n]=r)}return t}buildExtraOptions(){return{handleCustomRendering:this.handleCustomRendering,customRenderingMetaMap:this.templateMap,customRenderingReplaces:!0}}trackCustomRendering(t,n){return n.id}}return i.\u0275fac=function(t){return new(t||i)(P(Ge),P(jn))},i.\u0275cmp=ce({type:i,selectors:[["full-calendar"]],contentQueries:function(t,n,r){if(t&1&&(on(r,x9,7),on(r,P9,7),on(r,F9,7),on(r,N9,7),on(r,L9,7),on(r,k9,7),on(r,V9,7),on(r,G9,7),on(r,H9,7),on(r,B9,7),on(r,j9,7),on(r,U9,7),on(r,W9,7),on(r,z9,7),on(r,$9,7)),t&2){let o;rt(o=ot())&&(n.dayHeaderContent=o.first),rt(o=ot())&&(n.dayCellContent=o.first),rt(o=ot())&&(n.weekNumberContent=o.first),rt(o=ot())&&(n.nowIndicatorContent=o.first),rt(o=ot())&&(n.eventContent=o.first),rt(o=ot())&&(n.slotLaneContent=o.first),rt(o=ot())&&(n.slotLabelContent=o.first),rt(o=ot())&&(n.allDayContent=o.first),rt(o=ot())&&(n.moreLinkContent=o.first),rt(o=ot())&&(n.noEventsContent=o.first),rt(o=ot())&&(n.resourceAreaHeaderContent=o.first),rt(o=ot())&&(n.resourceGroupLabelContent=o.first),rt(o=ot())&&(n.resourceLabelContent=o.first),rt(o=ot())&&(n.resourceLaneContent=o.first),rt(o=ot())&&(n.resourceGroupLaneContent=o.first)}},inputs:{options:"options",deepChangeDetection:"deepChangeDetection",events:"events",eventSources:"eventSources",resources:"resources"},decls:2,vars:2,consts:[[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps",4,"ngFor","ngForOf","ngForTrackBy"],[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps"]],template:function(t,n){t&1&&(b(0,"offscreen-fragment"),se(1,q9,1,8,"transport-container",0),D()),t&2&&(O(),N("ngForOf",n.customRenderings)("ngForTrackBy",n.trackCustomRendering))},dependencies:[Q9,Z9,Ks],encapsulation:2}),i})(),CV=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Re({type:i}),i.\u0275inj=De({imports:[[dl]]}),i})();_p.touchMouseIgnoreWait=500;var qD=0,xy=0,KD=!1,Py=class{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&J9(t)&&this.tryStart(t)){let n=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let n=this.createEventFromMouse(t);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let n=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n);let r=t.target;this.shouldIgnoreMove||r.addEventListener("touchmove",this.handleTouchMove),r.addEventListener("touchend",this.handleTouchEnd),r.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let n=this.createEventFromTouch(t);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleTouchEnd=t=>{if(this.isDragging){let n=t.target;n.removeEventListener("touchmove",this.handleTouchMove),n.removeEventListener("touchend",this.handleTouchEnd),n.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,eZ()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let n=window.pageXOffset-this.prevScrollX+this.prevPageX,r=window.pageYOffset-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:n,pageY:r,deltaX:n-this.origPageX,deltaY:r-this.origPageY})}},this.containerEl=e,this.emitter=new ps,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),tZ()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),nZ()}tryStart(e){let t=this.querySubjectEl(e),n=e.target;return t&&(!this.handleSelector||sn(n,this.handleSelector))?(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){KD=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?sn(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return qD||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(KD=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let n=0,r=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(n=e.pageX-this.origPageX,r=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:n,deltaY:r}}createEventFromTouch(e,t){let n=e.touches,r,o,s=0,a=0;return n&&n.length?(r=n[0].pageX,o=n[0].pageY):(r=e.pageX,o=e.pageY),t?(this.origPageX=r,this.origPageY=o):(s=r-this.origPageX,a=o-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:r,pageY:o,deltaX:s,deltaY:a}}};function J9(i){return i.button===0&&!i.ctrlKey}function eZ(){qD+=1,setTimeout(()=>{qD-=1},_p.touchMouseIgnoreWait)}function tZ(){xy+=1,xy===1&&window.addEventListener("touchmove",wV,{passive:!1})}function nZ(){xy-=1,xy||window.removeEventListener("touchmove",wV,{passive:!1})}function wV(i){KD&&i.preventDefault()}var YD=class{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,n){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.pageXOffset,this.origScreenY=n-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.pageXOffset-this.origScreenX,this.deltaY=t-window.pageYOffset-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let n=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(n,this.revertDuration):setTimeout(n,0)}doRevertAnimation(e,t){let n=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();n.style.transition="top "+t+"ms,left "+t+"ms",xl(n,{left:r.left,top:r.top}),$b(n,()=>{n.style.transition="",e()})}cleanup(){this.mirrorEl&&(op(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&xl(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.classList.add("fc-event-dragging"),xl(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}},Fy=class extends El{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}},Ny=class extends Fy{constructor(e,t){super(new Jh(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return ID(this.scrollController.el)}},QD=class extends Fy{constructor(e){super(new ep,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}},_V=typeof performance=="function"?performance.now:Date.now,ZD=class{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.pageXOffset,this.pointerScreenY+window.pageYOffset);if(e){let t=_V();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let n=e-window.pageXOffset,r=t-window.pageYOffset,o=this.pointerScreenY===null?0:r-this.pointerScreenY,s=this.pointerScreenX===null?0:n-this.pointerScreenX;o<0?this.everMovedUp=!0:o>0&&(this.everMovedDown=!0),s<0?this.everMovedLeft=!0:s>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(_V()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:n}=e,{edgeThreshold:r}=this,o=r-e.distance,s=o*o/(r*r)*this.maxVelocity*t,a=1;switch(e.name){case"left":a=-1;case"right":n.setScrollLeft(n.getScrollLeft()+s*a);break;case"top":a=-1;case"bottom":n.setScrollTop(n.getScrollTop()+s*a);break}}computeBestEdge(e,t){let{edgeThreshold:n}=this,r=null,o=this.scrollCaches||[];for(let s of o){let a=s.clientRect,l=e-a.left,u=a.right-e,c=t-a.top,d=a.bottom-t;l>=0&&u>=0&&c>=0&&d>=0&&(c<=n&&this.everMovedUp&&s.canScrollUp()&&(!r||r.distance>c)&&(r={scrollCache:s,name:"top",distance:c}),d<=n&&this.everMovedDown&&s.canScrollDown()&&(!r||r.distance>d)&&(r={scrollCache:s,name:"bottom",distance:d}),l<=n&&this.everMovedLeft&&s.canScrollLeft()&&(!r||r.distance>l)&&(r={scrollCache:s,name:"left",distance:l}),u<=n&&this.everMovedRight&&s.canScrollRight()&&(!r||r.distance>u)&&(r={scrollCache:s,name:"right",distance:u}))}return r}buildCaches(e){return this.queryScrollEls(e).map(t=>t===window?new QD(!1):new Ny(t,!1))}queryScrollEls(e){let t=[];for(let n of this.scrollQuery)typeof n=="object"?t.push(n):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(n)));return t}},Nl=class extends ip{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=r=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,qb(document.body),Yb(document.body),r.isTouch||r.origEvent.preventDefault(),this.emitter.trigger("pointerdown",r),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(r.subjectEl,r.pageX,r.pageY),this.startDelay(r),this.minDistance||this.handleDistanceSurpassed(r)))},this.onPointerMove=r=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",r),!this.isDistanceSurpassed){let o=this.minDistance,s,{deltaX:a,deltaY:l}=r;s=a*a+l*l,s>=o*o&&this.handleDistanceSurpassed(r)}this.isDragging&&(r.origEvent.type!=="scroll"&&(this.mirror.handleMove(r.pageX,r.pageY),this.autoScroller.handleMove(r.pageX,r.pageY)),this.emitter.trigger("dragmove",r))}},this.onPointerUp=r=>{this.isInteracting&&(this.isInteracting=!1,Kb(document.body),Qb(document.body),this.emitter.trigger("pointerup",r),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(r)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let n=this.pointer=new Py(e);n.emitter.on("pointerdown",this.onPointerDown),n.emitter.on("pointermove",this.onPointerMove),n.emitter.on("pointerup",this.onPointerUp),t&&(n.selector=t),this.mirror=new YD,this.autoScroller=new ZD}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}},XD=class{constructor(e){this.origRect=yp(e),this.scrollCaches=Dy(e).map(t=>new Ny(t,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let n={left:e,top:t};for(let r of this.scrollCaches)if(!iZ(r.getEventTarget())&&!RD(n,r.clientRect))return!1;return!0}};function iZ(i){let e=i.tagName;return e==="HTML"||e==="BODY"}var Bc=class{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=n=>{let{dragging:r}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(n),this.initialHit||!this.requireInitial?(r.setIgnoreMove(!1),this.emitter.trigger("pointerdown",n)):r.setIgnoreMove(!0)},this.handleDragStart=n=>{this.emitter.trigger("dragstart",n),this.handleMove(n,!0)},this.handleDragMove=n=>{this.emitter.trigger("dragmove",n),this.handleMove(n)},this.handlePointerUp=n=>{this.releaseHits(),this.emitter.trigger("pointerup",n)},this.handleDragEnd=n=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,n),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",n)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new ps}processFirstCoord(e){let t={left:e.pageX,top:e.pageY},n=t,r=e.subjectEl,o;r instanceof HTMLElement&&(o=yp(r),n=TD(n,o));let s=this.initialHit=this.queryHitForOffset(n.left,n.top);if(s){if(this.useSubjectCenter&&o){let a=by(o,s.rect);a&&(n=AD(a))}this.coordAdjust=OD(n,t)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let n=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!Ly(this.movingHit,n))&&(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,e))}prepareHits(){this.offsetTrackers=gr(this.droppableStore,e=>(e.component.prepareHits(),new XD(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:n,offsetTrackers:r}=this,o=null;for(let s in n){let a=n[s].component,l=r[s];if(l&&l.isWithinClipping(e,t)){let u=l.computeLeft(),c=l.computeTop(),d=e-u,h=t-c,{origRect:p}=l,f=p.right-p.left,g=p.bottom-p.top;if(d>=0&&d<f&&h>=0&&h<g){let v=a.queryHit(d,h,f,g);v&&Mc(v.dateProfile.activeRange,v.dateSpan.range)&&(!o||v.layer>o.layer)&&(v.componentId=s,v.context=a.context,v.rect.left+=u,v.rect.right+=u,v.rect.top+=c,v.rect.bottom+=c,o=v)}}}return o}};function Ly(i,e){return!i&&!e?!0:!!i!=!!e?!1:wD(i.dateSpan,e.dateSpan)}function SV(i,e){let t={};for(let n of e.pluginHooks.datePointTransforms)Object.assign(t,n(i,e));return Object.assign(t,rZ(i,e.dateEnv)),t}function rZ(i,e){return{date:e.toDate(i.range.start),dateStr:e.formatIso(i.range.start,{omitTime:i.allDay}),allDay:i.allDay}}var JD=class extends zr{constructor(e){super(e),this.handlePointerDown=n=>{let{dragging:r}=this,o=n.origEvent.target;r.setIgnoreMove(!this.component.isValidDateDownEl(o))},this.handleDragEnd=n=>{let{component:r}=this,{pointer:o}=this.dragging;if(!o.wasTouchScroll){let{initialHit:s,finalHit:a}=this.hitDragging;if(s&&a&&Ly(s,a)){let{context:l}=r,u=Object.assign(Object.assign({},SV(s.dateSpan,l)),{dayEl:s.dayEl,jsEvent:n.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",u)}}},this.dragging=new Nl(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new Bc(this.dragging,vp(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}},eR=class extends zr{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=s=>{let{component:a,dragging:l}=this,{options:u}=a.context,c=u.selectable&&a.isValidDateDownEl(s.origEvent.target);l.setIgnoreMove(!c),l.delay=s.isTouch?oZ(a):null},this.handleDragStart=s=>{this.component.context.calendarApi.unselect(s)},this.handleHitUpdate=(s,a)=>{let{context:l}=this.component,u=null,c=!1;if(s){let d=this.hitDragging.initialHit;s.componentId===d.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(d,s)||(u=sZ(d,s,l.pluginHooks.dateSelectionTransformers)),(!u||!xD(u,s.dateProfile,l))&&(c=!0,u=null)}u?l.dispatch({type:"SELECT_DATES",selection:u}):a||l.dispatch({type:"UNSELECT_DATES"}),c?ap():lp(),a||(this.dragSelection=u)},this.handlePointerUp=s=>{this.dragSelection&&(Ey(this.dragSelection,s,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:n}=t.context,r=this.dragging=new Nl(e.el);r.touchScrollAllowed=!1,r.minDistance=n.selectMinDistance||0,r.autoScroller.isEnabled=n.dragScroll;let o=this.hitDragging=new Bc(this.dragging,vp(e));o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("hitupdate",this.handleHitUpdate),o.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}};function oZ(i){let{options:e}=i.context,t=e.selectLongPressDelay;return t==null&&(t=e.longPressDelay),t}function sZ(i,e,t){let n=i.dateSpan,r=e.dateSpan,o=[n.range.start,n.range.end,r.range.start,r.range.end];o.sort(Zb);let s={};for(let a of t){let l=a(i,e);if(l===!1)return null;l&&Object.assign(s,l)}return s.range={start:o[0],end:o[3]},s.allDay=n.allDay,s}var EV=(()=>{class i extends zr{constructor(t){super(t),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let l=a.origEvent.target,{component:u,dragging:c}=this,{mirror:d}=c,{options:h}=u.context,p=u.context;this.subjectEl=a.subjectEl;let f=this.subjectSeg=vs(a.subjectEl),v=(this.eventRange=f.eventRange).instance.instanceId;this.relevantEvents=pp(p.getCurrentData().eventStore,v),c.minDistance=a.isTouch?0:h.eventDragMinDistance,c.delay=a.isTouch&&v!==u.props.eventSelection?lZ(u):null,h.fixedMirrorParent?d.parentNode=h.fixedMirrorParent:d.parentNode=sn(l,".fc"),d.revertDuration=h.dragRevertDuration;let m=u.isValidSegDownEl(l)&&!sn(l,".fc-event-resizer");c.setIgnoreMove(!m),this.isDragging=m&&a.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=a=>{let l=this.component.context,u=this.eventRange,c=u.instance.instanceId;a.isTouch?c!==this.component.props.eventSelection&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:c}):l.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(l.calendarApi.unselect(a),l.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Et(l,u.def,u.instance),jsEvent:a.origEvent,view:l.viewApi}))},this.handleHitUpdate=(a,l)=>{if(!this.isDragging)return;let u=this.relevantEvents,c=this.hitDragging.initialHit,d=this.component.context,h=null,p=null,f=null,g=!1,v={affectedEvents:u,mutatedEvents:Wn(),isEvent:!0};if(a){h=a.context;let m=h.options;d===h||m.editable&&m.droppable?(p=aZ(c,a,h.getCurrentData().pluginHooks.eventDragMutationMassagers),p&&(f=fp(u,h.getCurrentData().eventUiBases,p,h),v.mutatedEvents=f,Ry(v,a.dateProfile,h)||(g=!0,p=null,f=null,v.mutatedEvents=Wn()))):h=null}this.displayDrag(h,v),g?ap():lp(),l||(d===h&&Ly(c,a)&&(p=null),this.dragging.setMirrorNeedsRevert(!p),this.dragging.setMirrorIsVisible(!a||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=h,this.validMutation=p,this.mutatedRelevantEvents=f)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=a=>{if(this.isDragging){let l=this.component.context,u=l.viewApi,{receivingContext:c,validMutation:d}=this,h=this.eventRange.def,p=this.eventRange.instance,f=new Et(l,h,p),g=this.relevantEvents,v=this.mutatedRelevantEvents,{finalHit:m}=this.hitDragging;if(this.clearDrag(),l.emitter.trigger("eventDragStop",{el:this.subjectEl,event:f,jsEvent:a.origEvent,view:u}),d){if(c===l){let _=new Et(l,v.defs[h.defId],p?v.instances[p.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:v});let w={oldEvent:f,event:_,relatedEvents:Ao(v,l,p),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:g})}},S={};for(let R of l.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(S,R(d,l));l.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},w),S),{el:a.subjectEl,delta:d.datesDelta,jsEvent:a.origEvent,view:u})),l.emitter.trigger("eventChange",w)}else if(c){let _={event:f,relatedEvents:Ao(g,l,p),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:g})}};l.emitter.trigger("eventLeave",Object.assign(Object.assign({},_),{draggedEl:a.subjectEl,view:u})),l.dispatch({type:"REMOVE_EVENTS",eventStore:g}),l.emitter.trigger("eventRemove",_);let w=v.defs[h.defId],S=v.instances[p.instanceId],R=new Et(c,w,S);c.dispatch({type:"MERGE_EVENTS",eventStore:v});let T={event:R,relatedEvents:Ao(v,c,S),revert(){c.dispatch({type:"REMOVE_EVENTS",eventStore:v})}};c.emitter.trigger("eventAdd",T),a.isTouch&&c.dispatch({type:"SELECT_EVENT",eventInstanceId:p.instanceId}),c.emitter.trigger("drop",Object.assign(Object.assign({},SV(m.dateSpan,c)),{draggedEl:a.subjectEl,jsEvent:a.origEvent,view:m.context.viewApi})),c.emitter.trigger("eventReceive",Object.assign(Object.assign({},T),{draggedEl:a.subjectEl,view:m.context.viewApi}))}}else l.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:r}=n.context,o=this.dragging=new Nl(t.el);o.pointer.selector=i.SELECTOR,o.touchScrollAllowed=!1,o.autoScroller.isEnabled=r.dragScroll;let s=this.hitDragging=new Bc(this.dragging,Nc);s.useSubjectCenter=t.useEventCenter,s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(t,n){let r=this.component.context,o=this.receivingContext;o&&o!==t&&(o===r?o.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:Wn(),isEvent:!0}}):o.dispatch({type:"UNSET_EVENT_DRAG"})),t&&t.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let t=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),t!==n&&t.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}return i.SELECTOR=".fc-event-draggable, .fc-event-resizable",i})();function aZ(i,e,t){let n=i.dateSpan,r=e.dateSpan,o=n.range.start,s=r.range.start,a={};n.allDay!==r.allDay&&(a.allDay=r.allDay,a.hasEnd=e.context.options.allDayMaintainDuration,r.allDay&&(o=at(o)));let l=la(o,s,i.context.dateEnv,i.componentId===e.componentId?i.largeUnit:null);l.milliseconds&&(a.allDay=!1);let u={datesDelta:l,standardProps:a};for(let c of t)c(u,i,e);return u}function lZ(i){let{options:e}=i.context,t=e.eventLongPressDelay;return t==null&&(t=e.longPressDelay),t}var tR=class extends zr{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let{component:s}=this,a=this.querySegEl(o),l=vs(a),u=this.eventRange=l.eventRange;this.dragging.minDistance=s.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(o.origEvent.target)||o.isTouch&&this.component.props.eventSelection!==u.instance.instanceId)},this.handleDragStart=o=>{let{context:s}=this.component,a=this.eventRange;this.relevantEvents=pp(s.getCurrentData().eventStore,this.eventRange.instance.instanceId);let l=this.querySegEl(o);this.draggingSegEl=l,this.draggingSeg=vs(l),s.calendarApi.unselect(),s.emitter.trigger("eventResizeStart",{el:l,event:new Et(s,a.def,a.instance),jsEvent:o.origEvent,view:s.viewApi})},this.handleHitUpdate=(o,s,a)=>{let{context:l}=this.component,u=this.relevantEvents,c=this.hitDragging.initialHit,d=this.eventRange.instance,h=null,p=null,f=!1,g={affectedEvents:u,mutatedEvents:Wn(),isEvent:!0};o&&(o.componentId===c.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(c,o)||(h=uZ(c,o,a.subjectEl.classList.contains("fc-event-resizer-start"),d.range))),h&&(p=fp(u,l.getCurrentData().eventUiBases,h,l),g.mutatedEvents=p,Ry(g,o.dateProfile,l)||(f=!0,h=null,p=null,g.mutatedEvents=null)),p?l.dispatch({type:"SET_EVENT_RESIZE",state:g}):l.dispatch({type:"UNSET_EVENT_RESIZE"}),f?ap():lp(),s||(h&&Ly(c,o)&&(h=null),this.validMutation=h,this.mutatedRelevantEvents=p)},this.handleDragEnd=o=>{let{context:s}=this.component,a=this.eventRange.def,l=this.eventRange.instance,u=new Et(s,a,l),c=this.relevantEvents,d=this.mutatedRelevantEvents;if(s.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:u,jsEvent:o.origEvent,view:s.viewApi}),this.validMutation){let h=new Et(s,d.defs[a.defId],l?d.instances[l.instanceId]:null);s.dispatch({type:"MERGE_EVENTS",eventStore:d});let p={oldEvent:u,event:h,relatedEvents:Ao(d,s,l),revert(){s.dispatch({type:"MERGE_EVENTS",eventStore:c})}};s.emitter.trigger("eventResize",Object.assign(Object.assign({},p),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||He(0),endDelta:this.validMutation.endDelta||He(0),jsEvent:o.origEvent,view:s.viewApi})),s.emitter.trigger("eventChange",p)}else s.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,n=this.dragging=new Nl(e.el);n.pointer.selector=".fc-event-resizer",n.touchScrollAllowed=!1,n.autoScroller.isEnabled=t.context.options.dragScroll;let r=this.hitDragging=new Bc(this.dragging,vp(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return sn(e.subjectEl,".fc-event")}};function uZ(i,e,t,n){let r=i.context.dateEnv,o=i.dateSpan.range.start,s=e.dateSpan.range.start,a=la(o,s,r,i.largeUnit);if(t){if(r.add(n.start,a)<n.end)return{startDelta:a}}else if(r.add(n.end,a)>n.start)return{endDelta:a};return null}var nR=class{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=n=>{n.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=n=>{let r=this.context.options.unselectCancel,o=dy(n.origEvent);this.matchesCancel=!!sn(o,r),this.matchesEvent=!!sn(o,EV.SELECTOR)},this.onDocumentPointerUp=n=>{let{context:r}=this,{documentPointer:o}=this,s=r.getCurrentData();if(!o.wasTouchScroll){if(s.dateSelection&&!this.isRecentPointerDateSelect){let a=r.options.unselectAuto;a&&(!a||!this.matchesCancel)&&r.calendarApi.unselect(n)}s.eventSelection&&!this.matchesEvent&&r.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new Py(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}},cZ={fixedMirrorParent:M},dZ={dateClick:M,eventDragStart:M,eventDragStop:M,eventDrop:M,eventResizeStart:M,eventResizeStop:M,eventResize:M,drop:M,eventReceive:M,eventLeave:M};_p.dataAttrPrefix="";var bV=pi({name:"@fullcalendar/interaction",componentInteractions:[JD,eR,EV,tR],calendarInteractions:[nR],elementDraggingImpl:Nl,optionRefiners:cZ,listenerRefiners:dZ});var iR=class extends Pn{constructor(){super(...arguments),this.headerElRef=Zt()}renderSimpleLayout(e,t){let{props:n,context:r}=this,o=[],s=Fl(r.options);return e&&o.push({type:"header",key:"header",isSticky:s,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),o.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),E(Wr,{elClasses:["fc-daygrid"],viewSpec:r.viewSpec},E(ua,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:o}))}renderHScrollLayout(e,t,n,r){let o=this.context.pluginHooks.scrollGridImpl;if(!o)throw new Error("No ScrollGrid implementation");let{props:s,context:a}=this,l=!s.forPrint&&Fl(a.options),u=!s.forPrint&&wp(a.options),c=[];return e&&c.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),c.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),u&&c.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:kc}]}),E(Wr,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},E(o,{liquid:!s.isHeightAuto&&!s.forPrint,forPrint:s.forPrint,collapsibleWidth:s.forPrint,colGroups:[{cols:[{span:n,minWidth:r}]}],sections:c}))}};function ky(i,e){let t=[];for(let n=0;n<e;n+=1)t[n]=[];for(let n of i)t[n.row].push(n);return t}function Vy(i,e){let t=[];for(let n=0;n<e;n+=1)t[n]=[];for(let n of i)t[n.firstCol].push(n);return t}function DV(i,e){let t=[];if(i){for(let n=0;n<e;n+=1)t[n]={affectedInstances:i.affectedInstances,isEvent:i.isEvent,segs:[]};for(let n of i.segs)t[n.row].segs.push(n)}else for(let n=0;n<e;n+=1)t[n]=null;return t}var RV=dt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function TV(i){let{display:e}=i.eventRange.ui;return e==="list-item"||e==="auto"&&!i.eventRange.def.allDay&&i.firstCol===i.lastCol&&i.isStart&&i.isEnd}var Gy=class extends Ke{render(){let{props:e}=this;return E(Ol,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:RV,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}},Hy=class extends Ke{render(){let{props:e,context:t}=this,{options:n}=t,{seg:r}=e,o=n.eventTimeFormat||RV,s=ga(r,o,t,!0,e.defaultDisplayEventEnd);return E(fs,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:Fc(e.seg,t),defaultGenerator:hZ,timeText:s,isResizing:!1,isDateSelecting:!1}))}};function hZ(i){return E(Xe,null,E("div",{className:"fc-daygrid-event-dot",style:{borderColor:i.borderColor||i.backgroundColor}}),i.timeText&&E("div",{className:"fc-event-time"},i.timeText),E("div",{className:"fc-event-title"},i.event.title||E(Xe,null,"\xA0")))}var rR=class extends Ke{constructor(){super(...arguments),this.compileSegs=ae(pZ)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:n}=this.compileSegs(e.singlePlacements);return E(Ml,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:n,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let r=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return E(Xe,null,t.map(o=>{let s=o.eventRange.instance.instanceId;return E("div",{className:"fc-daygrid-event-harness",key:s,style:{visibility:r[s]?"hidden":""}},TV(o)?E(Hy,Object.assign({seg:o,isDragging:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},Bi(o,e.todayRange))):E(Gy,Object.assign({seg:o,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},Bi(o,e.todayRange))))}))}})}};function pZ(i){let e=[],t=[];for(let n of i)e.push(n.seg),n.isVisible||t.push(n.seg);return{allSegs:e,invisibleSegs:t}}var fZ=dt({week:"narrow"}),oR=class extends Pn{constructor(){super(...arguments),this.rootElRef=Zt(),this.state={dayNumberId:vr()},this.handleRootEl=e=>{yr(this.rootElRef,e),yr(this.props.elRef,e)}}render(){let{context:e,props:t,state:n,rootElRef:r}=this,{options:o,dateEnv:s}=e,{date:a,dateProfile:l}=t,u=t.showDayNumber&&vZ(a,l.currentRange,s);return E(ca,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":n.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:gZ,date:a,dateProfile:l,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:u,extraRenderProps:t.extraRenderProps},(c,d)=>E("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&E(bp,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Oo(e,a,"week"),date:a,defaultFormat:fZ}),!d.isDisabled&&(t.showDayNumber||Vc(o)||t.forceDayTop)?E("div",{className:"fc-daygrid-day-top"},E(c,{elTag:"a",elClasses:["fc-daygrid-day-number",u&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Oo(e,a)),{id:n.dayNumberId})})):t.showDayNumber?E("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},E("a",{className:"fc-daygrid-day-number"},"\xA0")):void 0,E("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,E("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},E(rR,{allDayDate:a,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:r,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),E("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}};function gZ(i){return i.dayNumberText||E(Xe,null,"\xA0")}function vZ(i,e,t){let{start:n,end:r}=e,o=bo(r,-1),s=t.getYear(n),a=t.getMonth(n),l=t.getYear(o),u=t.getMonth(o);return!(s===l&&a===u)&&(i.valueOf()===n.valueOf()||t.getDay(i)===1&&i.valueOf()<r.valueOf())}function AV(i){return i.eventRange.instance.instanceId+":"+i.firstCol}function OV(i){return AV(i)+":"+i.lastCol}function mZ(i,e,t,n,r,o,s){let a=new sR(m=>{let _=i[m.index].eventRange.instance.instanceId+":"+m.span.start+":"+(m.span.end-1);return r[_]});a.allowReslicing=!0,a.strictOrder=n,e===!0||t===!0?(a.maxCoord=o,a.hiddenConsumes=!0):typeof e=="number"?a.maxStackCnt=e:typeof t=="number"&&(a.maxStackCnt=t,a.hiddenConsumes=!0);let l=[],u=[];for(let m=0;m<i.length;m+=1){let _=i[m],w=OV(_);r[w]!=null?l.push({index:m,span:{start:_.firstCol,end:_.lastCol+1}}):u.push(_)}let c=a.addSegs(l),d=a.toRects(),{singleColPlacements:h,multiColPlacements:p,leftoverMargins:f}=yZ(d,i,s),g=[],v=[];for(let m of u){p[m.firstCol].push({seg:m,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let _=m.firstCol;_<=m.lastCol;_+=1)h[_].push({seg:jc(m,_,_+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let m=0;m<s.length;m+=1)g.push(0);for(let m of c){let _=i[m.index],w=m.span;p[w.start].push({seg:jc(_,w.start,w.end,s),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let S=w.start;S<w.end;S+=1)g[S]+=1,h[S].push({seg:jc(_,S,S+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let m=0;m<s.length;m+=1)v.push(f[m]);return{singleColPlacements:h,multiColPlacements:p,moreCnts:g,moreMarginTops:v}}function yZ(i,e,t){let n=CZ(i,t.length),r=[],o=[],s=[];for(let a=0;a<t.length;a+=1){let l=n[a],u=[],c=0,d=0;for(let p of l){let f=e[p.index];u.push({seg:jc(f,a,a+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:p.levelCoord,marginTop:p.levelCoord-c}),c=p.levelCoord+p.thickness}let h=[];c=0,d=0;for(let p of l){let f=e[p.index],g=p.span.end-p.span.start>1,v=p.span.start===a;d+=p.levelCoord-c,c=p.levelCoord+p.thickness,g?(d+=p.thickness,v&&h.push({seg:jc(f,p.span.start,p.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:p.levelCoord,marginTop:0})):v&&(h.push({seg:jc(f,p.span.start,p.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:p.levelCoord,marginTop:d}),d=0)}r.push(u),o.push(h),s.push(d)}return{singleColPlacements:r,multiColPlacements:o,leftoverMargins:s}}function CZ(i,e){let t=[];for(let n=0;n<e;n+=1)t.push([]);for(let n of i)for(let r=n.span.start;r<n.span.end;r+=1)t[r].push(n);return t}function jc(i,e,t,n){if(i.firstCol===e&&i.lastCol===t-1)return i;let r=i.eventRange,o=r.range,s=Hi(o,{start:n[e].date,end:jt(n[t-1].date,1)});return Object.assign(Object.assign({},i),{firstCol:e,lastCol:t-1,eventRange:{def:r.def,ui:Object.assign(Object.assign({},r.ui),{durationEditable:!1}),instance:r.instance,range:s},isStart:i.isStart&&s.start.valueOf()===o.start.valueOf(),isEnd:i.isEnd&&s.end.valueOf()===o.end.valueOf()})}var sR=class extends bl{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){let t=super.addSegs(e),{entriesByLevel:n}=this,r=o=>!this.forceHidden[Do(o)];for(let o=0;o<n.length;o+=1)n[o]=n[o].filter(r);return t}handleInvalidInsertion(e,t,n){let{entriesByLevel:r,forceHidden:o}=this,{touchingEntry:s,touchingLevel:a,touchingLateral:l}=e;if(this.hiddenConsumes&&s){let u=Do(s);if(!o[u])if(this.allowReslicing){let c=Object.assign(Object.assign({},s),{span:Cp(s.span,t.span)}),d=Do(c);o[d]=!0,r[a][l]=c,this.splitEntry(s,t,n)}else o[u]=!0,n.push(s)}return super.handleInvalidInsertion(e,t,n)}},By=class extends Pn{constructor(){super(...arguments),this.cellElRefs=new hi,this.frameElRefs=new hi,this.fgElRefs=new hi,this.segHarnessRefs=new hi,this.rootElRef=Zt(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:n}=this,{options:r}=n,o=e.cells.length,s=Vy(e.businessHourSegs,o),a=Vy(e.bgEventSegs,o),l=Vy(this.getHighlightSegs(),o),u=Vy(this.getMirrorSegs(),o),{singleColPlacements:c,multiColPlacements:d,moreCnts:h,moreMarginTops:p}=mZ(Pl(e.fgEventSegs,r.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,r.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),f=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return E("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((g,v)=>{let m=this.renderFgSegs(v,e.forPrint?c[v]:d[v],e.todayRange,f),_=this.renderFgSegs(v,_Z(u[v],d),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return E(oR,{key:g.key,elRef:this.cellElRefs.createRef(g.key),innerElRef:this.frameElRefs.createRef(g.key),dateProfile:e.dateProfile,date:g.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&v===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:g.extraRenderProps,extraDataAttrs:g.extraDataAttrs,extraClassNames:g.extraClassNames,extraDateSpan:g.extraDateSpan,moreCnt:h[v],moreMarginTop:p[v],singlePlacements:c[v],fgContentElRef:this.fgElRefs.createRef(g.key),fgContent:E(Xe,null,E(Xe,null,m),E(Xe,null,_)),bgContent:E(Xe,null,this.renderFillSegs(l[v],"highlight"),this.renderFillSegs(s[v],"non-business"),this.renderFillSegs(a[v],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let n=this.props;this.updateSizing(!Gi(e,n))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,n,r,o,s,a){let{context:l}=this,{eventSelection:u}=this.props,{framePositions:c}=this.state,d=this.props.cells.length===1,h=o||s||a,p=[];if(c)for(let f of t){let{seg:g}=f,{instanceId:v}=g.eventRange.instance,m=f.isVisible&&!r[v],_=f.isAbsolute,w="",S="";_&&(l.isRtl?(S=0,w=c.lefts[g.lastCol]-c.lefts[g.firstCol]):(w=0,S=c.rights[g.firstCol]-c.rights[g.lastCol])),p.push(E("div",{className:"fc-daygrid-event-harness"+(_?" fc-daygrid-event-harness-abs":""),key:AV(g),ref:h?null:this.segHarnessRefs.createRef(OV(g)),style:{visibility:m?"":"hidden",marginTop:_?"":f.marginTop,top:_?f.absoluteTop:"",left:w,right:S}},TV(g)?E(Hy,Object.assign({seg:g,isDragging:o,isSelected:v===u,defaultDisplayEventEnd:d},Bi(g,n))):E(Gy,Object.assign({seg:g,isDragging:o,isResizing:s,isDateSelecting:a,isSelected:v===u,defaultDisplayEventEnd:d},Bi(g,n)))))}return p}renderFillSegs(e,t){let{isRtl:n}=this.context,{todayRange:r}=this.props,{framePositions:o}=this.state,s=[];if(o)for(let a of e){let l=n?{right:0,left:o.lefts[a.lastCol]-o.lefts[a.firstCol]}:{left:0,right:o.rights[a.firstCol]-o.rights[a.lastCol]};s.push(E("div",{key:gp(a.eventRange),className:"fc-daygrid-bg-harness",style:l},t==="bg-event"?E(Il,Object.assign({seg:a},Bi(a,r))):Ep(t)))}return E(Xe,{},...s)}updateSizing(e){let{props:t,state:n,frameElRefs:r}=this;if(!t.forPrint&&t.clientWidth!==null){if(e){let l=t.cells.map(u=>r.currentMap[u.key]);if(l.length){let u=this.rootElRef.current,c=new $r(u,l,!0,!1);(!n.framePositions||!n.framePositions.similarTo(c))&&this.setState({framePositions:new $r(u,l,!0,!1)})}}let o=this.state.segHeights,s=this.querySegHeights(),a=t.dayMaxEvents===!0||t.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},o),s),maxContentHeight:a?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let n in e){let r=Math.round(e[n].getBoundingClientRect().height);t[n]=Math.max(t[n]||0,r)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-n.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}};By.addStateEquality({segHeights:Gi});function _Z(i,e){if(!i.length)return[];let t=wZ(e);return i.map(n=>({seg:n,isVisible:!0,isAbsolute:!0,absoluteTop:t[n.eventRange.instance.instanceId],marginTop:0}))}function wZ(i){let e={};for(let t of i)for(let n of t)e[n.seg.eventRange.instance.instanceId]=n.absoluteTop;return e}var aR=class extends Pn{constructor(){super(...arguments),this.splitBusinessHourSegs=ae(ky),this.splitBgEventSegs=ae(ky),this.splitFgEventSegs=ae(ky),this.splitDateSelectionSegs=ae(ky),this.splitEventDrag=ae(DV),this.splitEventResize=ae(DV),this.rowRefs=new hi}render(){let{props:e,context:t}=this,n=e.cells.length,r=this.splitBusinessHourSegs(e.businessHourSegs,n),o=this.splitBgEventSegs(e.bgEventSegs,n),s=this.splitFgEventSegs(e.fgEventSegs,n),a=this.splitDateSelectionSegs(e.dateSelectionSegs,n),l=this.splitEventDrag(e.eventDrag,n),u=this.splitEventResize(e.eventResize,n),c=n>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return E(ms,{unit:"day"},(d,h)=>E(Xe,null,e.cells.map((p,f)=>E(By,{ref:this.rowRefs.createRef(f),key:p.length?p[0].date.toISOString():f,showDayNumbers:n>1,showWeekNumbers:e.showWeekNumbers,todayRange:h,dateProfile:e.dateProfile,cells:p,renderIntro:e.renderRowIntro,businessHourSegs:r[f],eventSelection:e.eventSelection,bgEventSegs:o[f].filter(SZ),fgEventSegs:s[f],dateSelectionSegs:a[f],eventDrag:l[f],eventResize:u[f],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:c,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){let e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new $r(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new $r(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:n,rowPositions:r}=this,o=n.leftToIndex(e),s=r.topToIndex(t);if(s!=null&&o!=null){let a=this.props.cells[s][o];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(s,o),allDay:!0},a.extraDateSpan),dayEl:this.getCellEl(s,o),rect:{left:n.lefts[o],right:n.rights[o],top:r.tops[s],bottom:r.bottoms[s]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let n=this.props.cells[e][t].date,r=jt(n,1);return{start:n,end:r}}};function SZ(i){return i.eventRange.def.allDay}var lR=class extends Pn{constructor(){super(...arguments),this.elRef=Zt(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:n,expandRows:r}=e,o=n===!0||t===!0;o&&!r&&(o=!1,t=null,n=null);let s=["fc-daygrid-body",o?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",r?"":"fc-daygrid-body-natural"];return E("div",{ref:this.elRef,className:s.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},E("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:r?e.clientHeight:""}},e.colGroupNode,E("tbody",{role:"presentation"},E(aR,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:n,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){let e=EZ(this.elRef.current,this.props.dateProfile);if(e){let t=e.closest(".fc-daygrid-body"),n=t.closest(".fc-scroller"),r=e.getBoundingClientRect().top-t.getBoundingClientRect().top;n.scrollTop=r?r+1:0}this.needsScrollReset=!1}}};function EZ(i,e){let t;return e.currentRangeUnit.match(/year|month/)&&(t=i.querySelector(`[data-date="${tD(e.currentDate)}-01"]`)),t||(t=i.querySelector(`[data-date="${ha(e.currentDate)}"]`)),t}var uR=class extends Al{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}},Dp=class extends Pn{constructor(){super(...arguments),this.slicer=new uR,this.tableRef=Zt()}render(){let{props:e,context:t}=this;return E(lR,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}},jy=class extends iR{constructor(){super(...arguments),this.buildDayTableModel=ae(bZ),this.headerRef=Zt(),this.tableRef=Zt()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:n}=this,r=this.buildDayTableModel(n.dateProfile,t),o=e.dayHeaders&&E(Dl,{ref:this.headerRef,dateProfile:n.dateProfile,dates:r.headerDates,datesRepDistinctDays:r.rowCnt===1}),s=a=>E(Dp,{ref:this.tableRef,dateProfile:n.dateProfile,dayTableModel:r,businessHours:n.businessHours,dateSelection:n.dateSelection,eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:a.tableColGroupNode,tableMinWidth:a.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!n.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:a.clientWidth,clientHeight:a.clientHeight,forPrint:n.forPrint});return e.dayMinWidth?this.renderHScrollLayout(o,s,r.colCnt,e.dayMinWidth):this.renderSimpleLayout(o,s)}};function bZ(i,e){let t=new Rl(i.renderRange,e);return new Tl(t,/year|month|week/.test(i.currentRangeUnit))}var Uy=class extends wl{buildRenderRange(e,t,n){let r=super.buildRenderRange(e,t,n),{props:o}=this;return DZ({currentRange:r,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:o.fixedWeekCount,dateEnv:o.dateEnv})}};function DZ(i){let{dateEnv:e,currentRange:t}=i,{start:n,end:r}=t,o;if(i.snapToWeek&&(n=e.startOfWeek(n),o=e.startOfWeek(r),o.valueOf()!==r.valueOf()&&(r=hy(o,1))),i.fixedWeekCount){let s=e.startOfWeek(e.startOfMonth(jt(t.end,-1))),a=Math.ceil(Jb(s,r));r=hy(r,6-a)}return{start:n,end:r}}var RZ=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';da(RZ);var IV=pi({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:jy,dateProfileGeneratorClass:Uy},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});var TZ='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';da(TZ);var dR=class extends Xh{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?_D(e)?["timed","allDay"]:["allDay"]:["timed"]}},AZ=dt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function NV(i){let e=["fc-timegrid-slot","fc-timegrid-slot-label",i.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return E(mr.Consumer,null,t=>{if(!i.isLabeled)return E("td",{className:e.join(" "),"data-time":i.isoTimeStr});let{dateEnv:n,options:r,viewApi:o}=t,s=r.slotLabelFormat==null?AZ:Array.isArray(r.slotLabelFormat)?dt(r.slotLabelFormat[0]):dt(r.slotLabelFormat),a={level:0,time:i.time,date:n.toDate(i.date),view:o,text:n.format(i.date,s)};return E(an,{elTag:"td",elClasses:e,elAttrs:{"data-time":i.isoTimeStr},renderProps:a,generatorName:"slotLabelContent",customGenerator:r.slotLabelContent,defaultGenerator:OZ,classNameGenerator:r.slotLabelClassNames,didMount:r.slotLabelDidMount,willUnmount:r.slotLabelWillUnmount},l=>E("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},E(l,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function OZ(i){return i.text}var hR=class extends Ke{render(){return this.props.slatMetas.map(e=>E("tr",{key:e.key},E(NV,Object.assign({},e))))}},IZ=dt({week:"short"}),MZ=5,pR=class extends Pn{constructor(){super(...arguments),this.allDaySplitter=new dR,this.headerElRef=Zt(),this.rootElRef=Zt(),this.scrollerElRef=Zt(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let t=this.scrollerElRef.current;t&&(t.scrollTop=e)},this.renderHeadAxis=(e,t="")=>{let{options:n}=this.context,{dateProfile:r}=this.props,o=r.renderRange,a=To(o.start,o.end)===1?Oo(this.context,o.start,"week"):{};return n.weekNumbers&&e==="day"?E(bp,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:o.start,defaultFormat:IZ},l=>E("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:t}},E(l,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:a}))):E("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},E("div",{className:"fc-timegrid-axis-frame",style:{height:t}}))},this.renderTableRowAxis=e=>{let{options:t,viewApi:n}=this.context,r={text:t.allDayText,view:n};return E(an,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:r,generatorName:"allDayContent",customGenerator:t.allDayContent,defaultGenerator:xZ,classNameGenerator:t.allDayClassNames,didMount:t.allDayDidMount,willUnmount:t.allDayWillUnmount},o=>E("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},E(o,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,t,n){let{context:r,props:o}=this,s=[],a=Fl(r.options);return e&&s.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(s.push({type:"body",key:"all-day",chunk:{content:t}}),s.push({type:"body",key:"all-day-divider",outerContent:E("tr",{role:"presentation",className:"fc-scrollgrid-section"},E("td",{className:"fc-timegrid-divider "+r.theme.getClass("tableCellShaded")}))})),s.push({type:"body",key:"body",liquid:!0,expandRows:!!r.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:n}}),E(Wr,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:r.viewSpec},E(ua,{liquid:!o.isHeightAuto&&!o.forPrint,collapsibleWidth:o.forPrint,cols:[{width:"shrink"}],sections:s}))}renderHScrollLayout(e,t,n,r,o,s,a){let l=this.context.pluginHooks.scrollGridImpl;if(!l)throw new Error("No ScrollGrid implementation");let{context:u,props:c}=this,d=!c.forPrint&&Fl(u.options),h=!c.forPrint&&wp(u.options),p=[];e&&p.push({type:"header",key:"header",isSticky:d,syncRowHeights:!0,chunks:[{key:"axis",rowContent:g=>E("tr",{role:"presentation"},this.renderHeadAxis("day",g.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(p.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:g=>E("tr",{role:"presentation"},this.renderTableRowAxis(g.rowSyncHeights[0]))},{key:"cols",content:t}]}),p.push({key:"all-day-divider",type:"body",outerContent:E("tr",{role:"presentation",className:"fc-scrollgrid-section"},E("td",{colSpan:2,className:"fc-timegrid-divider "+u.theme.getClass("tableCellShaded")}))}));let f=u.options.nowIndicator;return p.push({type:"body",key:"body",liquid:!0,expandRows:!!u.options.expandRows,chunks:[{key:"axis",content:g=>E("div",{className:"fc-timegrid-axis-chunk"},E("table",{"aria-hidden":!0,style:{height:g.expandRows?g.clientHeight:""}},g.tableColGroupNode,E("tbody",null,E(hR,{slatMetas:s}))),E("div",{className:"fc-timegrid-now-indicator-container"},E(ms,{unit:f?"minute":"day"},v=>{let m=f&&a&&a.safeComputeTop(v);return typeof m=="number"?E(Sp,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:m},isAxis:!0,date:v}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:n}]}),h&&p.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:kc},{key:"cols",content:kc}]}),E(Wr,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:u.viewSpec},E(l,{liquid:!c.isHeightAuto&&!c.forPrint,forPrint:c.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:r,minWidth:o}]}],sections:p}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:t}=this.context.options;return(e===!0||t===!0)&&(e=void 0,t=MZ),{dayMaxEvents:e,dayMaxEventRows:t}}};function xZ(i){return i.text}var fR=class{constructor(e,t,n){this.positions=e,this.dateProfile=t,this.slotDuration=n}safeComputeTop(e){let{dateProfile:t}=this;if(fr(t.currentRange,e)){let n=at(e),r=e.valueOf()-n.valueOf();if(r>=Vi(t.slotMinTime)&&r<Vi(t.slotMaxTime))return this.computeTimeTop(He(r))}return null}computeDateTop(e,t){return t||(t=at(e)),this.computeTimeTop(He(e.valueOf()-t.valueOf()))}computeTimeTop(e){let{positions:t,dateProfile:n}=this,r=t.els.length,o=(e.milliseconds-Vi(n.slotMinTime))/Vi(this.slotDuration),s,a;return o=Math.max(0,o),o=Math.min(r,o),s=Math.floor(o),s=Math.min(s,r-1),a=o-s,t.tops[s]+t.getHeight(s)*a}},gR=class extends Ke{render(){let{props:e,context:t}=this,{options:n}=t,{slatElRefs:r}=e;return E("tbody",null,e.slatMetas.map((o,s)=>{let a={time:o.time,date:t.dateEnv.toDate(o.date),view:t.viewApi};return E("tr",{key:o.key,ref:r.createRef(o.key)},e.axis&&E(NV,Object.assign({},o)),E(an,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!o.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":o.isoTimeStr},renderProps:a,generatorName:"slotLaneContent",customGenerator:n.slotLaneContent,classNameGenerator:n.slotLaneClassNames,didMount:n.slotLaneDidMount,willUnmount:n.slotLaneWillUnmount}))}))}},vR=class extends Ke{constructor(){super(...arguments),this.rootElRef=Zt(),this.slatElRefs=new hi}render(){let{props:e,context:t}=this;return E("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},E("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,E(gR,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:t}=this;t.onCoords&&t.clientWidth!==null&&this.rootElRef.current.offsetHeight&&t.onCoords(new fR(new $r(this.rootElRef.current,PZ(this.slatElRefs.currentMap,t.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}};function PZ(i,e){return e.map(t=>i[t.key])}function Rp(i,e){let t=[],n;for(n=0;n<e;n+=1)t.push([]);if(i)for(n=0;n<i.length;n+=1)t[i[n].col].push(i[n]);return t}function MV(i,e){let t=[];if(i){for(let n=0;n<e;n+=1)t[n]={affectedInstances:i.affectedInstances,isEvent:i.isEvent,segs:[]};for(let n of i.segs)t[n.col].segs.push(n)}else for(let n=0;n<e;n+=1)t[n]=null;return t}var mR=class extends Ke{render(){let{props:e}=this;return E(Ml,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>LV(e.hiddenSegs,e),defaultGenerator:FZ,forceTimed:!0},t=>E(t,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}};function FZ(i){return i.shortText}function NZ(i,e,t){let n=new bl;e!=null&&(n.strictOrder=e),t!=null&&(n.maxStackCnt=t);let r=n.addSegs(i),o=MD(r),s=LZ(n);return s=HZ(s,1),{segRects:BZ(s),hiddenGroups:o}}function LZ(i){let{entriesByLevel:e}=i,t=ER((n,r)=>n+":"+r,(n,r)=>{let o=GZ(i,n,r),s=xV(o,t),a=e[n][r];return[Object.assign(Object.assign({},a),{nextLevelNodes:s[0]}),a.thickness+s[1]]});return xV(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,t)[0]}function xV(i,e){if(!i)return[[],0];let{level:t,lateralStart:n,lateralEnd:r}=i,o=n,s=[];for(;o<r;)s.push(e(t,o)),o+=1;return s.sort(kZ),[s.map(VZ),s[0][1]]}function kZ(i,e){return e[1]-i[1]}function VZ(i){return i[0]}function GZ(i,e,t){let{levelCoords:n,entriesByLevel:r}=i,o=r[e][t],s=n[e]+o.thickness,a=n.length,l=e;for(;l<a&&n[l]<s;l+=1);for(;l<a;l+=1){let u=r[l],c,d=np(u,o.span.start,tp),h=d[0]+d[1],p=h;for(;(c=u[p])&&c.span.start<o.span.end;)p+=1;if(h<p)return{level:l,lateralStart:h,lateralEnd:p}}return null}function HZ(i,e){let t=ER((n,r,o)=>Do(n),(n,r,o)=>{let{nextLevelNodes:s,thickness:a}=n,l=a+o,u=a/l,c,d=[];if(!s.length)c=e;else for(let p of s)if(c===void 0){let f=t(p,r,l);c=f[0],d.push(f[1])}else{let f=t(p,c,0);d.push(f[1])}let h=(c-r)*u;return[c-h,Object.assign(Object.assign({},n),{thickness:h,nextLevelNodes:d})]});return i.map(n=>t(n,0,0)[1])}function BZ(i){let e=[],t=ER((r,o,s)=>Do(r),(r,o,s)=>{let a=Object.assign(Object.assign({},r),{levelCoord:o,stackDepth:s,stackForward:0});return e.push(a),a.stackForward=n(r.nextLevelNodes,o+r.thickness,s+1)+1});function n(r,o,s){let a=0;for(let l of r)a=Math.max(t(l,o,s),a);return a}return n(i,0,0),e}function ER(i,e){let t={};return(...n)=>{let r=i(...n);return r in t?t[r]:t[r]=e(...n)}}function PV(i,e,t=null,n=0){let r=[];if(t)for(let o=0;o<i.length;o+=1){let s=i[o],a=t.computeDateTop(s.start,e),l=Math.max(a+(n||0),t.computeDateTop(s.end,e));r.push({start:Math.round(a),end:Math.round(l)})}return r}function jZ(i,e,t,n){let r=[],o=[];for(let u=0;u<i.length;u+=1){let c=e[u];c?r.push({index:u,thickness:1,span:c}):o.push(i[u])}let{segRects:s,hiddenGroups:a}=NZ(r,t,n),l=[];for(let u of s)l.push({seg:i[u.index],rect:u});for(let u of o)l.push({seg:u,rect:null});return{segPlacements:l,hiddenGroups:a}}var UZ=dt({hour:"numeric",minute:"2-digit",meridiem:!1}),Wy=class extends Ke{render(){return E(Ol,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:UZ}))}},yR=class extends Ke{constructor(){super(...arguments),this.sortEventSegs=ae(Pl)}render(){let{props:e,context:t}=this,{options:n}=t,r=n.selectMirror,o=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||r&&e.dateSelectionSegs||[],s=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},a=this.sortEventSegs(e.fgEventSegs,n.eventOrder);return E(ca,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},l=>E("div",{className:"fc-timegrid-col-frame"},E("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),E("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(a,s,!1,!1,!1)),E("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(o,{},!!e.eventDrag,!!e.eventResize,!!r,"mirror")),E("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),Vc(n)&&E(l,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,t,n,r,o,s){let{props:a}=this;return a.forPrint?LV(e,a):this.renderPositionedFgSegs(e,t,n,r,o,s)}renderPositionedFgSegs(e,t,n,r,o,s){let{eventMaxStack:a,eventShortHeight:l,eventOrderStrict:u,eventMinHeight:c}=this.context.options,{date:d,slatCoords:h,eventSelection:p,todayRange:f,nowDate:g}=this.props,v=n||r||o,m=PV(e,d,h,c),{segPlacements:_,hiddenGroups:w}=jZ(e,m,u,a);return E(Xe,null,this.renderHiddenGroups(w,e),_.map(S=>{let{seg:R,rect:T}=S,x=R.eventRange.instance.instanceId,A=v||!!(!t[x]&&T),U=cR(T&&T.span),q=!v&&T?this.computeSegHStyle(T):{left:0,right:0},$=!!T&&T.stackForward>0,oe=!!T&&T.span.end-T.span.start<l;return E("div",{className:"fc-timegrid-event-harness"+($?" fc-timegrid-event-harness-inset":""),key:s||x,style:Object.assign(Object.assign({visibility:A?"":"hidden"},U),q)},E(Wy,Object.assign({seg:R,isDragging:n,isResizing:r,isDateSelecting:o,isSelected:x===p,isShort:oe},Bi(R,f,g))))}))}renderHiddenGroups(e,t){let{extraDateSpan:n,dateProfile:r,todayRange:o,nowDate:s,eventSelection:a,eventDrag:l,eventResize:u}=this.props;return E(Xe,null,e.map(c=>{let d=cR(c.span),h=WZ(c.entries,t);return E(mR,{key:py(Ty(h)),hiddenSegs:h,top:d.top,bottom:d.bottom,extraDateSpan:n,dateProfile:r,todayRange:o,nowDate:s,eventSelection:a,eventDrag:l,eventResize:u})}))}renderFillSegs(e,t){let{props:n,context:r}=this,s=PV(e,n.date,n.slatCoords,r.options.eventMinHeight).map((a,l)=>{let u=e[l];return E("div",{key:gp(u.eventRange),className:"fc-timegrid-bg-harness",style:cR(a)},t==="bg-event"?E(Il,Object.assign({seg:u},Bi(u,n.todayRange,n.nowDate))):Ep(t))});return E(Xe,null,s)}renderNowIndicator(e){let{slatCoords:t,date:n}=this.props;return t?e.map((r,o)=>E(Sp,{key:o,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:t.computeDateTop(r.start,n)},isAxis:!1,date:n})):null}computeSegHStyle(e){let{isRtl:t,options:n}=this.context,r=n.slotEventOverlap,o=e.levelCoord,s=e.levelCoord+e.thickness,a,l;r&&(s=Math.min(1,o+(s-o)*2)),t?(a=1-s,l=o):(a=o,l=1-s);let u={zIndex:e.stackDepth+1,left:a*100+"%",right:l*100+"%"};return r&&!e.stackForward&&(u[t?"marginLeft":"marginRight"]=10*2),u}};function LV(i,{todayRange:e,nowDate:t,eventSelection:n,eventDrag:r,eventResize:o}){let s=(r?r.affectedInstances:null)||(o?o.affectedInstances:null)||{};return E(Xe,null,i.map(a=>{let l=a.eventRange.instance.instanceId;return E("div",{key:l,style:{visibility:s[l]?"hidden":""}},E(Wy,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:l===n,isShort:!1},Bi(a,e,t))))}))}function cR(i){return i?{top:i.start,bottom:-i.end}:{top:"",bottom:""}}function WZ(i,e){return i.map(t=>e[t.index])}var CR=class extends Ke{constructor(){super(...arguments),this.splitFgEventSegs=ae(Rp),this.splitBgEventSegs=ae(Rp),this.splitBusinessHourSegs=ae(Rp),this.splitNowIndicatorSegs=ae(Rp),this.splitDateSelectionSegs=ae(Rp),this.splitEventDrag=ae(MV),this.splitEventResize=ae(MV),this.rootElRef=Zt(),this.cellElRefs=new hi}render(){let{props:e,context:t}=this,n=t.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),r=e.cells.length,o=this.splitFgEventSegs(e.fgEventSegs,r),s=this.splitBgEventSegs(e.bgEventSegs,r),a=this.splitBusinessHourSegs(e.businessHourSegs,r),l=this.splitNowIndicatorSegs(e.nowIndicatorSegs,r),u=this.splitDateSelectionSegs(e.dateSelectionSegs,r),c=this.splitEventDrag(e.eventDrag,r),d=this.splitEventResize(e.eventResize,r);return E("div",{className:"fc-timegrid-cols",ref:this.rootElRef},E("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,E("tbody",{role:"presentation"},E("tr",{role:"row"},e.axis&&E("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},E("div",{className:"fc-timegrid-col-frame"},E("div",{className:"fc-timegrid-now-indicator-container"},typeof n=="number"&&E(Sp,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:n},isAxis:!0,date:e.nowDate})))),e.cells.map((h,p)=>E(yR,{key:h.key,elRef:this.cellElRefs.createRef(h.key),dateProfile:e.dateProfile,date:h.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:h.extraRenderProps,extraDataAttrs:h.extraDataAttrs,extraClassNames:h.extraClassNames,extraDateSpan:h.extraDateSpan,fgEventSegs:o[p],bgEventSegs:s[p],businessHourSegs:a[p],nowIndicatorSegs:l[p],dateSelectionSegs:u[p],eventDrag:c[p],eventResize:d[p],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new $r(this.rootElRef.current,zZ(this.cellElRefs.currentMap,e.cells),!0,!1))}};function zZ(i,e){return e.map(t=>i[t.key])}var _R=class extends Pn{constructor(){super(...arguments),this.processSlotOptions=ae($Z),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:t}=this.props,{slatCoords:n}=this.state;if(t&&n){if(e.time){let r=n.computeTimeTop(e.time);r=Math.ceil(r),r&&(r+=1),t(r)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:t}=this;return E("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},E(vR,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),E(CR,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,t){let{dateEnv:n,options:r}=this.context,{colCoords:o}=this,{dateProfile:s}=this.props,{slatCoords:a}=this.state,{snapDuration:l,snapsPerSlot:u}=this.processSlotOptions(this.props.slotDuration,r.snapDuration),c=o.leftToIndex(e),d=a.positions.topToIndex(t);if(c!=null&&d!=null){let h=this.props.cells[c],p=a.positions.tops[d],f=a.positions.getHeight(d),g=(t-p)/f,v=Math.floor(g*u),m=d*u+v,_=this.props.cells[c].date,w=up(s.slotMinTime,Xb(l,m)),S=n.add(_,w),R=n.add(S,l);return{dateProfile:s,dateSpan:Object.assign({range:{start:S,end:R},allDay:!1},h.extraDateSpan),dayEl:o.els[c],rect:{left:o.lefts[c],right:o.rights[c],top:p,bottom:p+f},layer:0}}return null}};function $Z(i,e){let t=e||i,n=cp(i,t);return n===null&&(t=i,n=1),{snapDuration:t,snapsPerSlot:n}}var wR=class extends Al{sliceRange(e,t){let n=[];for(let r=0;r<t.length;r+=1){let o=Hi(e,t[r]);o&&n.push({start:o.start,end:o.end,isStart:o.start.valueOf()===e.start.valueOf(),isEnd:o.end.valueOf()===e.end.valueOf(),col:r})}return n}},SR=class extends Pn{constructor(){super(...arguments),this.buildDayRanges=ae(qZ),this.slicer=new wR,this.timeColsRef=Zt()}render(){let{props:e,context:t}=this,{dateProfile:n,dayTableModel:r}=e,{nowIndicator:o,nextDayThreshold:s}=t.options,a=this.buildDayRanges(r,n,t.dateEnv);return E(ms,{unit:o?"minute":"day"},(l,u)=>E(_R,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,n,null,t,a),{forPrint:e.forPrint,axis:e.axis,dateProfile:n,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:r.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:l,nowIndicatorSegs:o&&this.slicer.sliceNowDate(l,n,s,t,a),todayRange:u,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}};function qZ(i,e,t){let n=[];for(let r of i.headerDates)n.push({start:t.add(r,e.slotMinTime),end:t.add(r,e.slotMaxTime)});return n}var FV=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function KZ(i,e,t,n,r){let o=new Date(0),s=i,a=He(0),l=t||YZ(n),u=[];for(;Vi(s)<Vi(e);){let c=r.add(o,s),d=cp(a,l)!==null;u.push({date:c,time:s,key:c.toISOString(),isoTimeStr:nD(c),isLabeled:d}),s=up(s,n),a=up(a,n)}return u}function YZ(i){let e,t,n;for(e=FV.length-1;e>=0;e-=1)if(t=He(FV[e]),n=cp(t,i),n!==null&&n>1)return t;return i}var zy=class extends pR{constructor(){super(...arguments),this.buildTimeColsModel=ae(QZ),this.buildSlatMetas=ae(KZ)}render(){let{options:e,dateEnv:t,dateProfileGenerator:n}=this.context,{props:r}=this,{dateProfile:o}=r,s=this.buildTimeColsModel(o,n),a=this.allDaySplitter.splitProps(r),l=this.buildSlatMetas(o.slotMinTime,o.slotMaxTime,e.slotLabelInterval,e.slotDuration,t),{dayMinWidth:u}=e,c=!u,d=u,h=e.dayHeaders&&E(Dl,{dates:s.headerDates,dateProfile:o,datesRepDistinctDays:!0,renderIntro:c?this.renderHeadAxis:null}),p=e.allDaySlot!==!1&&(g=>E(Dp,Object.assign({},a.allDay,{dateProfile:o,dayTableModel:s,nextDayThreshold:e.nextDayThreshold,tableMinWidth:g.tableMinWidth,colGroupNode:g.tableColGroupNode,renderRowIntro:c?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:g.clientWidth,clientHeight:g.clientHeight,forPrint:r.forPrint},this.getAllDayMaxEventProps()))),f=g=>E(SR,Object.assign({},a.timed,{dayTableModel:s,dateProfile:o,axis:c,slotDuration:e.slotDuration,slatMetas:l,forPrint:r.forPrint,tableColGroupNode:g.tableColGroupNode,tableMinWidth:g.tableMinWidth,clientWidth:g.clientWidth,clientHeight:g.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:g.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return d?this.renderHScrollLayout(h,p,f,s.colCnt,u,l,this.state.slatCoords):this.renderSimpleLayout(h,p,f)}};function QZ(i,e){let t=new Rl(i.renderRange,e);return new Tl(t,!1)}var ZZ={allDaySlot:Boolean},kV=pi({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:ZZ,views:{timeGrid:{component:zy,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});var bR=class extends Ke{constructor(){super(...arguments),this.state={textId:vr()}}render(){let{theme:e,dateEnv:t,options:n,viewApi:r}=this.context,{cellId:o,dayDate:s,todayRange:a}=this.props,{textId:l}=this.state,u=mp(s,a),c=n.listDayFormat?t.format(s,n.listDayFormat):"",d=n.listDaySideFormat?t.format(s,n.listDaySideFormat):"",h=Object.assign({date:t.toDate(s),view:r,textId:l,text:c,sideText:d,navLinkAttrs:Oo(this.context,s),sideNavLinkAttrs:Oo(this.context,s,"day",!1)},u);return E(an,{elTag:"tr",elClasses:["fc-list-day",...Lc(u,e)],elAttrs:{"data-date":ha(s)},renderProps:h,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:XZ,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},p=>E("th",{scope:"colgroup",colSpan:3,id:o,"aria-labelledby":l},E(p,{elTag:"div",elClasses:["fc-list-day-cushion",e.getClass("tableCellShaded")]})))}};function XZ(i){return E(Xe,null,i.text&&E("a",Object.assign({id:i.textId,className:"fc-list-day-text"},i.navLinkAttrs),i.text),i.sideText&&E("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},i.sideNavLinkAttrs),i.sideText))}var JZ=dt({hour:"numeric",minute:"2-digit",meridiem:"short"}),DR=class extends Ke{render(){let{props:e,context:t}=this,{options:n}=t,{seg:r,timeHeaderId:o,eventHeaderId:s,dateHeaderId:a}=e,l=n.eventTimeFormat||JZ;return E(fs,Object.assign({},e,{elTag:"tr",elClasses:["fc-list-event",r.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>eX(r,t),seg:r,timeText:"",disableDragging:!0,disableResizing:!0}),(u,c)=>E(Xe,null,tX(r,l,t,o,a),E("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},E("span",{className:"fc-list-event-dot",style:{borderColor:c.borderColor||c.backgroundColor}})),E(u,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${s} ${a}`}})))}};function eX(i,e){let t=Fc(i,e);return E("a",Object.assign({},t),i.eventRange.def.title)}function tX(i,e,t,n,r){let{options:o}=t;if(o.displayEventTime!==!1){let s=i.eventRange.def,a=i.eventRange.instance,l=!1,u;if(s.allDay?l=!0:hD(i.eventRange.range)?i.isStart?u=ga(i,e,t,null,null,a.range.start,i.end):i.isEnd?u=ga(i,e,t,null,null,i.start,a.range.end):l=!0:u=ga(i,e,t),l){let c={text:t.options.allDayText,view:t.viewApi};return E(an,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${n} ${r}`},renderProps:c,generatorName:"allDayContent",customGenerator:o.allDayContent,defaultGenerator:nX,classNameGenerator:o.allDayClassNames,didMount:o.allDayDidMount,willUnmount:o.allDayWillUnmount})}return E("td",{className:"fc-list-event-time"},u)}return null}function nX(i){return i.text}var $y=class extends Pn{constructor(){super(...arguments),this.computeDateVars=ae(rX),this.eventStoreToSegs=ae(this._eventStoreToSegs),this.state={timeHeaderId:vr(),eventHeaderId:vr(),dateHeaderIdRoot:vr()},this.setRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:e,context:t}=this,{dayDates:n,dayRanges:r}=this.computeDateVars(e.dateProfile),o=this.eventStoreToSegs(e.eventStore,e.eventUiBases,r);return E(Wr,{elRef:this.setRootEl,elClasses:["fc-list",t.theme.getClass("table"),t.options.stickyHeaderDates!==!1?"fc-list-sticky":""],viewSpec:t.viewSpec},E(Ac,{liquid:!e.isHeightAuto,overflowX:e.isHeightAuto?"visible":"hidden",overflowY:e.isHeightAuto?"visible":"auto"},o.length>0?this.renderSegList(o,n):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:e,viewApi:t}=this.context,n={text:e.noEventsText,view:t};return E(an,{elTag:"div",elClasses:["fc-list-empty"],renderProps:n,generatorName:"noEventsContent",customGenerator:e.noEventsContent,defaultGenerator:iX,classNameGenerator:e.noEventsClassNames,didMount:e.noEventsDidMount,willUnmount:e.noEventsWillUnmount},r=>E(r,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(e,t){let{theme:n,options:r}=this.context,{timeHeaderId:o,eventHeaderId:s,dateHeaderIdRoot:a}=this.state,l=oX(e);return E(ms,{unit:"day"},(u,c)=>{let d=[];for(let h=0;h<l.length;h+=1){let p=l[h];if(p){let f=ha(t[h]),g=a+"-"+f;d.push(E(bR,{key:f,cellId:g,dayDate:t[h],todayRange:c})),p=Pl(p,r.eventOrder);for(let v of p)d.push(E(DR,Object.assign({key:f+":"+v.eventRange.instance.instanceId,seg:v,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:o,eventHeaderId:s,dateHeaderId:g},Bi(v,c,u))))}}return E("table",{className:"fc-list-table "+n.getClass("table")},E("thead",null,E("tr",null,E("th",{scope:"col",id:o},r.timeHint),E("th",{scope:"col","aria-hidden":!0}),E("th",{scope:"col",id:s},r.eventHint))),E("tbody",null,d))})}_eventStoreToSegs(e,t,n){return this.eventRangesToSegs(Tc(e,t,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,n)}eventRangesToSegs(e,t){let n=[];for(let r of e)n.push(...this.eventRangeToSegs(r,t));return n}eventRangeToSegs(e,t){let{dateEnv:n}=this.context,{nextDayThreshold:r}=this.context.options,o=e.range,s=e.def.allDay,a,l,u,c=[];for(a=0;a<t.length;a+=1)if(l=Hi(o,t[a]),l&&(u={component:this,eventRange:e,start:l.start,end:l.end,isStart:e.isStart&&l.start.valueOf()===o.start.valueOf(),isEnd:e.isEnd&&l.end.valueOf()===o.end.valueOf(),dayIndex:a},c.push(u),!u.isEnd&&!s&&a+1<t.length&&o.end<n.add(t[a+1].start,r))){u.end=o.end,u.isEnd=!0;break}return c}};function iX(i){return i.text}function rX(i){let e=at(i.renderRange.start),t=i.renderRange.end,n=[],r=[];for(;e<t;)n.push(e),r.push({start:e,end:jt(e,1)}),e=jt(e,1);return{dayDates:n,dayRanges:r}}function oX(i){let e=[],t,n;for(t=0;t<i.length;t+=1)n=i[t],(e[n.dayIndex]||(e[n.dayIndex]=[])).push(n);return e}var sX=':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}';da(sX);var aX={listDayFormat:VV,listDaySideFormat:VV,noEventsClassNames:M,noEventsContent:M,noEventsDidMount:M,noEventsWillUnmount:M};function VV(i){return i===!1?null:dt(i)}var GV=pi({name:"@fullcalendar/list",optionRefiners:aX,views:{list:{component:$y,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});var qy=class{constructor(e){this.cp=e.cp,this.trestBps=e.trestBps,this.chol=e.chol,this.fbs=e.fbs,this.restEcg=e.restEcg,this.thalach=e.thalach,this.exang=e.exang,this.oldPeak=e.oldPeak,this.slope=e.slope,this.ca=e.ca,this.thal=e.thal}};var Tp=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Uc=class extends Tp{constructor(e,t,n,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=n,this.componentFactoryResolver=r,this.projectableNodes=o}},Wc=class extends Tp{constructor(e,t,n,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},RR=class extends Tp{constructor(e){super(),this.element=e instanceof Ge?e.nativeElement:e}},Ky=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof Uc)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Wc)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof RR)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Yy=class extends Ky{constructor(e,t,n,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(e){let n=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(n,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=n.create(e.injector||this._defaultInjector||gt.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,n=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(n);r!==-1&&t.remove(r)}),this._attachedPortal=e,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var Qy=(()=>{let e=class e extends Ky{constructor(n,r,o){super(),this._componentFactoryResolver=n,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new V,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let l=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(l,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(n){n.setAttachedHost(this);let r=n.viewContainerRef!=null?n.viewContainerRef:this._viewContainerRef,s=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component),a=r.createComponent(s,r.length,n.injector||r.injector,n.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=n,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(n){n.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){let n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}};e.\u0275fac=function(r){return new(r||e)(P(ar),P(Mn),P(ge))},e.\u0275dir=Ze({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[Ft.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[ei]});let i=e;return i})();var TR;try{TR=typeof Intl<"u"&&Intl.v8BreakIterator}catch{TR=!1}var ys=(()=>{let e=class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?Jv(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||TR)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(r){return new(r||e)(G(Ii))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Ll;function HV(){if(Ll==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Ll=!1,Ll;if("scrollBehavior"in document.documentElement.style)Ll=!0;else{let i=Element.prototype.scrollTo;i?Ll=!/\{\s*\[native code\]\s*\}/.test(i.toString()):Ll=!1}}return Ll}function AR(i){return i.composedPath?i.composedPath()[0]:i.target}function OR(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function MR(i){return Array.isArray(i)?i:[i]}function qt(i){return i==null?"":typeof i=="string"?i:`${i}px`}function BV(i){return i instanceof Ge?i.nativeElement:i}var cX=(()=>{let e=class e{constructor(n){this._platform=n}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return hX(n)&&getComputedStyle(n).visibility==="visible"}isTabbable(n){if(!this._platform.isBrowser)return!1;let r=dX(_X(n));if(r&&(jV(r)===-1||!this.isVisible(r)))return!1;let o=n.nodeName.toLowerCase(),s=jV(n);return n.hasAttribute("contenteditable")?s!==-1:o==="iframe"||o==="object"||this._platform.WEBKIT&&this._platform.IOS&&!yX(n)?!1:o==="audio"?n.hasAttribute("controls")?s!==-1:!1:o==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||n.hasAttribute("controls"):n.tabIndex>=0}isFocusable(n,r){return CX(n)&&!this.isDisabled(n)&&(r?.ignoreVisibility||this.isVisible(n))}};e.\u0275fac=function(r){return new(r||e)(G(ys))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function dX(i){try{return i.frameElement}catch{return null}}function hX(i){return!!(i.offsetWidth||i.offsetHeight||typeof i.getClientRects=="function"&&i.getClientRects().length)}function pX(i){let e=i.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function fX(i){return vX(i)&&i.type=="hidden"}function gX(i){return mX(i)&&i.hasAttribute("href")}function vX(i){return i.nodeName.toLowerCase()=="input"}function mX(i){return i.nodeName.toLowerCase()=="a"}function WV(i){if(!i.hasAttribute("tabindex")||i.tabIndex===void 0)return!1;let e=i.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function jV(i){if(!WV(i))return null;let e=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function yX(i){let e=i.nodeName.toLowerCase(),t=e==="input"&&i.type;return t==="text"||t==="password"||e==="select"||e==="textarea"}function CX(i){return fX(i)?!1:pX(i)||gX(i)||i.hasAttribute("contenteditable")||WV(i)}function _X(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}var xR=class{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,n,r,o=!1){this._element=e,this._checker=t,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){let e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){let n=this._getFirstTabbableElement(t);return n?.focus(e),!!n}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){let t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let n=0;n<t.length;n++){let r=t[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let n=t.length-1;n>=0;n--){let r=t[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(r)return r}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Tt(1)).subscribe(e)}};var PR=class extends xR{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._enabled?this._focusTrapManager.register(this):this._focusTrapManager.deregister(this)}constructor(e,t,n,r,o,s,a){super(e,t,n,r,a.defer),this._focusTrapManager=o,this._inertStrategy=s,this._focusTrapManager.register(this)}destroy(){this._focusTrapManager.deregister(this),super.destroy()}_enable(){this._inertStrategy.preventFocus(this),this.toggleAnchors(!0)}_disable(){this._inertStrategy.allowFocus(this),this.toggleAnchors(!1)}},wX=new ie("FOCUS_TRAP_INERT_STRATEGY"),FR=class{constructor(){this._listener=null}preventFocus(e){this._listener&&e._document.removeEventListener("focus",this._listener,!0),this._listener=t=>this._trapFocus(e,t),e._ngZone.runOutsideAngular(()=>{e._document.addEventListener("focus",this._listener,!0)})}allowFocus(e){this._listener&&(e._document.removeEventListener("focus",this._listener,!0),this._listener=null)}_trapFocus(e,t){let n=t.target,r=e._element;n&&!r.contains(n)&&!n.closest?.("div.cdk-overlay-pane")&&setTimeout(()=>{e.enabled&&!r.contains(e._document.activeElement)&&e.focusFirstTabbableElement()})}},SX=(()=>{let e=class e{constructor(){this._focusTrapStack=[]}register(n){this._focusTrapStack=this._focusTrapStack.filter(o=>o!==n);let r=this._focusTrapStack;r.length&&r[r.length-1]._disable(),r.push(n),n._enable()}deregister(n){n._disable();let r=this._focusTrapStack,o=r.indexOf(n);o!==-1&&(r.splice(o,1),r.length&&r[r.length-1]._enable())}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),zV=(()=>{let e=class e{constructor(n,r,o,s,a){this._checker=n,this._ngZone=r,this._focusTrapManager=o,this._document=s,this._inertStrategy=a||new FR}create(n,r={defer:!1}){let o;return typeof r=="boolean"?o={defer:r}:o=r,new PR(n,this._checker,this._ngZone,this._document,this._focusTrapManager,this._inertStrategy,o)}};e.\u0275fac=function(r){return new(r||e)(G(cX),G(fe),G(SX),G(ge),G(wX,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var bX=new ie("cdk-dir-doc",{providedIn:"root",factory:DX});function DX(){return F(ge)}var RX=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function TX(i){let e=i?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?RX.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var $V=(()=>{let e=class e{constructor(n){if(this.value="ltr",this.change=new V,n){let r=n.body?n.body.dir:null,o=n.documentElement?n.documentElement.dir:null;this.value=TX(r||o||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(r){return new(r||e)(G(bX,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var OX=20,qV=(()=>{let e=class e{constructor(n,r,o){this._ngZone=n,this._platform=r,this._scrolled=new me,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){let r=this.scrollContainers.get(n);r&&(r.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=OX){return this._platform.isBrowser?new ve(r=>{this._globalSubscription||this._addGlobalListener();let o=n>0?this._scrolled.pipe(Eg(n)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):le()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(n,r){let o=this.getAncestorScrollContainers(n);return this.scrolled(r).pipe(nt(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(n){let r=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,n)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,r){let o=BV(r),s=n.getElementRef().nativeElement;do if(o==s)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let n=this._getWindow();return kt(n.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(r){return new(r||e)(G(fe),G(ys),G(ge,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var IX=20,NR=(()=>{let e=class e{constructor(n,r,o){this._platform=n,this._change=new me,this._changeListener=s=>{this._change.next(s)},this._document=o,r.runOutsideAngular(()=>{if(n.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){let n=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+o,right:n.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let n=this._document,r=this._getWindow(),o=n.documentElement,s=o.getBoundingClientRect(),a=-s.top||n.body.scrollTop||r.scrollY||o.scrollTop||0,l=-s.left||n.body.scrollLeft||r.scrollX||o.scrollLeft||0;return{top:a,left:l}}change(n=IX){return n>0?this._change.pipe(Eg(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(r){return new(r||e)(G(ys),G(fe),G(ge,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var KV=HV(),LR=class{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=qt(-this._previousScrollPosition.left),e.style.top=qt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,n=e.style,r=t.style,o=n.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),KV&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),KV&&(n.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.body,n=this._viewportRuler.getViewportSize();return t.scrollHeight>n.height||t.scrollWidth>n.width}};var kR=class{constructor(e,t,n,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(nt(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Zy=class{enable(){}disable(){}attach(){}};function VR(i,e){return e.some(t=>{let n=i.bottom<t.top,r=i.top>t.bottom,o=i.right<t.left,s=i.left>t.right;return n||r||o||s})}function YV(i,e){return e.some(t=>{let n=i.top<t.top,r=i.bottom>t.bottom,o=i.left<t.left,s=i.right>t.right;return n||r||o||s})}var GR=class{constructor(e,t,n,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();VR(t,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},PX=(()=>{let e=class e{constructor(n,r,o,s){this._scrollDispatcher=n,this._viewportRuler=r,this._ngZone=o,this.noop=()=>new Zy,this.close=a=>new kR(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new LR(this._viewportRuler,this._document),this.reposition=a=>new GR(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}};e.\u0275fac=function(r){return new(r||e)(G(qV),G(NR),G(fe),G(ge))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Ap=class{constructor(e){if(this.scrollStrategy=new Zy,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let t=Object.keys(e);for(let n of t)e[n]!==void 0&&(this[n]=e[n])}}};var HR=class{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var eG=(()=>{let e=class e{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){let r=this._attachedOverlays.indexOf(n);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}};e.\u0275fac=function(r){return new(r||e)(G(ge))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),FX=(()=>{let e=class e extends eG{constructor(n,r){super(n),this._ngZone=r,this._keydownListener=o=>{let s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){let l=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(o)):l.next(o);break}}}add(n){super.add(n),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};e.\u0275fac=function(r){return new(r||e)(G(ge),G(fe,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),NX=(()=>{let e=class e extends eG{constructor(n,r,o){super(n),this._platform=r,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=AR(s)},this._clickListener=s=>{let a=AR(s),l=s.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let u=this._attachedOverlays.slice();for(let c=u.length-1;c>-1;c--){let d=u[c];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(a)||d.overlayElement.contains(l))break;let h=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(s)):h.next(s)}}}add(n){if(super.add(n),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let n=this._document.body;n.removeEventListener("pointerdown",this._pointerDownListener,!0),n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(n){n.addEventListener("pointerdown",this._pointerDownListener,!0),n.addEventListener("click",this._clickListener,!0),n.addEventListener("auxclick",this._clickListener,!0),n.addEventListener("contextmenu",this._clickListener,!0)}};e.\u0275fac=function(r){return new(r||e)(G(ge),G(ys),G(fe,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),tG=(()=>{let e=class e{constructor(n,r){this._platform=r,this._document=n}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n="cdk-overlay-container";if(this._platform.isBrowser||OR()){let o=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let s=0;s<o.length;s++)o[s].remove()}let r=this._document.createElement("div");r.classList.add(n),OR()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}};e.\u0275fac=function(r){return new(r||e)(G(ge),G(ys))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),BR=class{constructor(e,t,n,r,o,s,a,l,u,c=!1){this._portalOutlet=e,this._host=t,this._pane=n,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=u,this._animationsDisabled=c,this._backdropElement=null,this._backdropClick=new me,this._attachments=new me,this._detachments=new me,this._locationChanges=Dt.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new me,this._outsidePointerEvents=new me,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Tt(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=z(z({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Ue(z({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=qt(this._config.width),e.height=qt(this._config.height),e.minWidth=qt(this._config.minWidth),e.minHeight=qt(this._config.minHeight),e.maxWidth=qt(this._config.maxWidth),e.maxHeight=qt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,n){let r=MR(t||[]).filter(o=>!!o);r.length&&(n?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let e=this._ngZone.onStable.pipe(_t(Sd(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},QV="cdk-overlay-connected-position-bounding-box",LX=/([A-Za-z%]+)$/,jR=class{get positions(){return this._preferredPositions}constructor(e,t,n,r,o){this._viewportRuler=t,this._document=n,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new me,this._resizeSubscription=Dt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(QV),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,n=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,r,a),u=this._getOverlayPoint(l,t,a),c=this._getOverlayFit(u,t,n,a);if(c.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(c,u,n)){o.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!s||s.overlayFit.visibleArea<c.visibleArea)&&(s={overlayFit:c,overlayPoint:u,originPoint:l,position:a,overlayRect:t})}if(o.length){let a=null,l=-1;for(let u of o){let c=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);c>l&&(l=c,a=u)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&kl(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(QV),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,n){let r;if(n.originX=="center")r=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r=n.originX=="start"?s:a}t.left<0&&(r-=t.left);let o;return n.originY=="center"?o=e.top+e.height/2:o=n.originY=="top"?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,n){let r;n.overlayX=="center"?r=-t.width/2:n.overlayX==="start"?r=this._isRtl()?-t.width:0:r=this._isRtl()?0:-t.width;let o;return n.overlayY=="center"?o=-t.height/2:o=n.overlayY=="top"?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,n,r){let o=XV(t),{x:s,y:a}=e,l=this._getOffset(r,"x"),u=this._getOffset(r,"y");l&&(s+=l),u&&(a+=u);let c=0-s,d=s+o.width-n.width,h=0-a,p=a+o.height-n.height,f=this._subtractOverflows(o.width,c,d),g=this._subtractOverflows(o.height,h,p),v=f*g;return{visibleArea:v,isCompletelyWithinViewport:o.width*o.height===v,fitsInViewportVertically:g===o.height,fitsInViewportHorizontally:f==o.width}}_canFitWithFlexibleDimensions(e,t,n){if(this._hasFlexibleDimensions){let r=n.bottom-t.y,o=n.right-t.x,s=ZV(this._overlayRef.getConfig().minHeight),a=ZV(this._overlayRef.getConfig().minWidth),l=e.fitsInViewportVertically||s!=null&&s<=r,u=e.fitsInViewportHorizontally||a!=null&&a<=o;return l&&u}return!1}_pushOverlayOnScreen(e,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let r=XV(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),l=Math.max(o.top-n.top-e.y,0),u=Math.max(o.left-n.left-e.x,0),c=0,d=0;return r.width<=o.width?c=u||-s:c=e.x<this._viewportMargin?o.left-n.left-e.x:0,r.height<=o.height?d=l||-a:d=e.y<this._viewportMargin?o.top-n.top-e.y:0,this._previousPushAmount={x:c,y:d},{x:e.x+c,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){let n=this._getScrollVisibility(),r=new HR(e,n);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,r=e.overlayY;e.overlayX==="center"?n="center":this._isRtl()?n=e.overlayX==="start"?"right":"left":n=e.overlayX==="start"?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(e,t){let n=this._viewportRect,r=this._isRtl(),o,s,a;if(t.overlayY==="top")s=e.y,o=n.height-s+this._viewportMargin;else if(t.overlayY==="bottom")a=n.height-e.y+this._viewportMargin*2,o=n.height-a+this._viewportMargin;else{let p=Math.min(n.bottom-e.y+n.top,e.y),f=this._lastBoundingBoxSize.height;o=p*2,s=e.y-p,o>f&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-f/2)}let l=t.overlayX==="start"&&!r||t.overlayX==="end"&&r,u=t.overlayX==="end"&&!r||t.overlayX==="start"&&r,c,d,h;if(u)h=n.width-e.x+this._viewportMargin,c=e.x-this._viewportMargin;else if(l)d=e.x,c=n.right-e.x;else{let p=Math.min(n.right-e.x+n.left,e.x),f=this._lastBoundingBoxSize.width;c=p*2,d=e.x-p,c>f&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-f/2)}return{top:s,left:d,bottom:a,right:h,width:c,height:o}}_setBoundingBoxStyles(e,t){let n=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=qt(n.height),r.top=qt(n.top),r.bottom=qt(n.bottom),r.width=qt(n.width),r.left=qt(n.left),r.right=qt(n.right),t.overlayX==="center"?r.alignItems="center":r.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?r.justifyContent="center":r.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=qt(o)),s&&(r.maxWidth=qt(s))}this._lastBoundingBoxSize=n,kl(this._boundingBox.style,r)}_resetBoundingBoxStyles(){kl(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){kl(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let n={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let c=this._viewportRuler.getViewportScrollPosition();kl(n,this._getExactOverlayY(t,e,c)),kl(n,this._getExactOverlayX(t,e,c))}else n.position="static";let a="",l=this._getOffset(t,"x"),u=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),u&&(a+=`translateY(${u}px)`),n.transform=a.trim(),s.maxHeight&&(r?n.maxHeight=qt(s.maxHeight):o&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=qt(s.maxWidth):o&&(n.maxWidth="")),kl(this._pane.style,n)}_getExactOverlayY(e,t,n){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=qt(o.y);return r}_getExactOverlayX(e,t,n){let r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=qt(o.x);return r}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:YV(e,n),isOriginOutsideView:VR(e,n),isOverlayClipped:YV(t,n),isOverlayOutsideView:VR(t,n)}}_subtractOverflows(e,...t){return t.reduce((n,r)=>n-Math.max(r,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&MR(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof Ge)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+t,height:n,width:t}}};function kl(i,e){for(let t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function ZV(i){if(typeof i!="number"&&i!=null){let[e,t]=i.split(LX);return!t||t==="px"?parseFloat(e):null}return i||null}function XV(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}var JV="cdk-global-overlay-wrapper",UR=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(JV),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=n,l=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),u=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),c=this._xPosition,d=this._xOffset,h=this._overlayRef.getConfig().direction==="rtl",p="",f="",g="";l?g="flex-start":c==="center"?(g="center",h?f=d:p=d):h?c==="left"||c==="end"?(g="flex-end",p=d):(c==="right"||c==="start")&&(g="flex-start",f=d):c==="left"||c==="start"?(g="flex-start",p=d):(c==="right"||c==="end")&&(g="flex-end",f=d),e.position=this._cssPosition,e.marginLeft=l?"0":p,e.marginTop=u?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":f,t.justifyContent=g,t.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove(JV),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},kX=(()=>{let e=class e{constructor(n,r,o,s){this._viewportRuler=n,this._document=r,this._platform=o,this._overlayContainer=s}global(){return new UR}flexibleConnectedTo(n){return new jR(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};e.\u0275fac=function(r){return new(r||e)(G(NR),G(ge),G(ys),G(tG))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),VX=0,nG=(()=>{let e=class e{constructor(n,r,o,s,a,l,u,c,d,h,p,f){this.scrollStrategies=n,this._overlayContainer=r,this._componentFactoryResolver=o,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=l,this._ngZone=u,this._document=c,this._directionality=d,this._location=h,this._outsideClickDispatcher=p,this._animationsModuleType=f}create(n){let r=this._createHostElement(),o=this._createPaneElement(r),s=this._createPortalOutlet(o),a=new Ap(n);return a.direction=a.direction||this._directionality.value,new BR(s,r,o,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(n){let r=this._document.createElement("div");return r.id=`cdk-overlay-${VX++}`,r.classList.add("cdk-overlay-pane"),n.appendChild(r),r}_createHostElement(){let n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(Un)),new Yy(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};e.\u0275fac=function(r){return new(r||e)(G(PX),G(tG),G(ar),G(kX),G(FX),G(gt),G(fe),G(ge),G($V),G($s),G(NX),G(Yd,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var HX=["dialog"],BX=["content"];function jX(i,e){}var UX=i=>({"rounded-0":i}),zR=class{animation=!0;backdrop=!0;ignoreBackdropClick=!1;keyboard=!0;modalClass="";containerClass="";viewContainerRef;data=null;nonInvasive=!1},Mo=class{_overlayRef;_container;constructor(e,t){this._overlayRef=e,this._container=t}component;onClose$=new me;onClose=this.onClose$.asObservable();close(e){this._container._close(),setTimeout(()=>{this._container._config.nonInvasive&&this._container._onNonInvasiveModalHidden(),this._container._restoreScrollbar(),this.onClose$.next(e),this.onClose$.complete(),this._overlayRef.detach(),this._overlayRef.dispose()},this._container.MODAL_TRANSITION)}},WX=992,WR="modal-open",iG="modal-non-invasive-open",rG="modal-non-invasive-show",oG=(()=>{class i{_document;_elementRef;_renderer;_focusTrapFactory;_ngZone;_portalOutlet;modalDialog;modalContent;_destroy$=new me;backdropClick$=new me;_config;BACKDROP_TRANSITION=150;MODAL_TRANSITION=200;NON_INVASIVE_TRANSITION=450;_previouslyFocusedElement;_focusTrap;modal=!0;get hasAnimation(){return this._config.animation}onWindowResize(){this._ngZone.runOutsideAngular(()=>{this._config.nonInvasive&&this._handleWindowResize()})}get host(){return this._elementRef.nativeElement}_isScrollable=!1;_isBottomRight=!1;_isBottomLeft=!1;_isTopRight=!1;_isTopLeft=!1;_isSideTopModal=!1;_isSideBottomModal=!1;_isSideModal=!1;_isModalBottom=!1;_modalContentRect;_modalContentComputedStyles;_modalDialogComputedStyles;_topOffset=0;_leftOffset=0;_rightOffset=0;_bottomOffset=0;constructor(t,n,r,o,s){this._document=t,this._elementRef=n,this._renderer=r,this._focusTrapFactory=o,this._ngZone=s}ngOnInit(){this._updateContainerClass(),this._renderer.setStyle(this.host,"display","block"),this._config.nonInvasive||(this._focusTrap=this._focusTrapFactory.create(this.host),this._previouslyFocusedElement=this._document.activeElement),this._config.animation?setTimeout(()=>{this._renderer.addClass(this.host,"show"),setTimeout(()=>{this._focusTrap?.focusInitialElementWhenReady()},this.MODAL_TRANSITION)},this.BACKDROP_TRANSITION):this._focusTrap?.focusInitialElementWhenReady()}ngAfterViewInit(){let t=this._document.body.offsetWidth;this._renderer.addClass(this._document.body,WR),this._config.nonInvasive&&(this._renderer.addClass(this._document.body,iG),setTimeout(()=>{this._onNonInvasiveModalShown()},this.NON_INVASIVE_TRANSITION)),this._config.nonInvasive||this._renderer.setStyle(this._document.body,"overflow","hidden");let n=this._document.body.offsetWidth;this._config.nonInvasive||this._renderer.setStyle(this._document.body,"padding-right",`${n-t}px`),!this._config.ignoreBackdropClick&&!this._config.nonInvasive&&kt(this.host,"mousedown").pipe(nt(r=>{let o=r.target,s=this.modalDialog.nativeElement,a=o!==s,l=!s.contains(o);return a&&l}),_t(this._destroy$)).subscribe(r=>{this.backdropClick$.next(r)})}ngOnDestroy(){this._previouslyFocusedElement?.focus(),this._focusTrap?.destroy(),this._destroy$.next(),this._destroy$.complete()}_updateContainerClass(){if(this._config.containerClass===""||this._config.containerClass.length&&this._config.containerClass.length===0)return;this._config.containerClass.split(" ").forEach(n=>{this._renderer.addClass(this.host,n)})}_onNonInvasiveModalShown(){this._isScrollable=this._config.modalClass.includes("modal-dialog-scrollable"),this._isBottomRight=this._config.modalClass.includes("modal-bottom-right"),this._isBottomLeft=this._config.modalClass.includes("modal-bottom-left"),this._isTopRight=this._config.modalClass.includes("modal-top-right"),this._isTopLeft=this._config.modalClass.includes("modal-top-left"),this._isModalBottom=this._config.modalClass.includes("modal-bottom"),this._isSideTopModal=this._isTopLeft||this._isTopRight,this._isSideBottomModal=this._isBottomLeft||this._isBottomRight,this._isSideModal=this._isSideTopModal||this._isSideBottomModal,this._modalContentRect=this.modalContent.nativeElement.getBoundingClientRect(),this._modalContentComputedStyles=window.getComputedStyle(this.modalContent.nativeElement),this._modalDialogComputedStyles=window.getComputedStyle(this.modalDialog.nativeElement),this._topOffset=parseInt(this._modalDialogComputedStyles.top,0),this._leftOffset=parseInt(this._modalDialogComputedStyles.left,0),this._rightOffset=parseInt(this._modalDialogComputedStyles.right,0),this._bottomOffset=parseInt(this._modalDialogComputedStyles.bottom,0),this._renderer.addClass(this.host,rG),this._setNonInvasiveStyles()}_setNonInvasiveStyles(t=0,n=0){let r=window.innerWidth>=WX;this._renderer.setStyle(this.host,"left",`${this._modalContentRect.left+t}px`),this._renderer.setStyle(this.host,"width",this._modalContentComputedStyles.width),this._isScrollable||(this._renderer.setStyle(this.host,"height",this._modalContentComputedStyles.height),this._renderer.setStyle(this.host,"display","")),r&&((this._isSideBottomModal||this._isModalBottom)&&this._renderer.setStyle(this.host,"top",`${this._modalContentRect.top+n}px`),this._isSideModal&&this._renderer.setStyle(this.host,"overflowX","auto")),r||(this.host.style.height="")}_onNonInvasiveModalHidden(){this._renderer.removeClass(this.host,rG),this._resetNonInvasiveStyles(),this._removeNonInvasiveClass()}_resetNonInvasiveStyles(){this._renderer.setStyle(this.host,"left",""),this._renderer.setStyle(this.host,"top",""),this._renderer.setStyle(this.host,"height",""),this._renderer.setStyle(this.host,"width",""),this._isScrollable||this._renderer.setStyle(this.host,"display",""),this._isSideModal&&this._renderer.setStyle(this.host,"overflowX","")}_removeNonInvasiveClass(){this._document.body.querySelector(".modal.show.modal-non-invasive-show")?this._renderer.addClass(this._document.body,WR):this._renderer.removeClass(this._document.body,iG)}_handleWindowResize(){let t=this.host.querySelector(".modal-content");if(this._resetNonInvasiveStyles(),this._modalContentRect=t.getBoundingClientRect(),this._modalContentComputedStyles=window.getComputedStyle(t),this._isSideTopModal||this._isSideBottomModal){let n=0,r=0;(this._isBottomRight||this._isBottomLeft)&&(r=-this._bottomOffset),(this._isBottomRight||this._isTopRight)&&(n=-this._rightOffset),(this._isBottomLeft||this._isTopLeft)&&(n=this._leftOffset),this._setNonInvasiveStyles(n,r)}else this._setNonInvasiveStyles()}_close(){this._config.animation&&this._renderer.removeClass(this.host,"show");let t=Array.from(this.host.querySelectorAll("iframe")),n=Array.from(this.host.querySelectorAll("video"));t.forEach(r=>{let o=r.getAttribute("src");this._renderer.setAttribute(r,"src",o)}),n.forEach(r=>{r.pause()})}_restoreScrollbar(){this._renderer.removeClass(this._document.body,WR),this._renderer.removeStyle(this._document.body,"overflow"),this._renderer.removeStyle(this._document.body,"padding-right")}attachComponentPortal(t){return this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.attachTemplatePortal(t)}static \u0275fac=function(n){return new(n||i)(P(ge),P(Ge),P(xi),P(zV),P(fe))};static \u0275cmp=ce({type:i,selectors:[["mdb-modal-container"]],viewQuery:function(n,r){if(n&1&&(ni(Qy,7),ni(HX,7),ni(BX,7)),n&2){let o;rt(o=ot())&&(r._portalOutlet=o.first),rt(o=ot())&&(r.modalDialog=o.first),rt(o=ot())&&(r.modalContent=o.first)}},hostVars:4,hostBindings:function(n,r){n&1&&Q("resize",function(s){return r.onWindowResize(s)},!1,rP),n&2&&it("modal",r.modal)("fade",r.hasAnimation)},decls:5,vars:5,consts:[["dialog",""],[1,"modal-content",3,"ngClass"],["content",""],["cdkPortalOutlet",""]],template:function(n,r){n&1&&(b(0,"div",null,0)(2,"div",1,2),se(4,jX,0,0,"ng-template",3),D()()),n&2&&(rn("modal-dialog"+(r._config.modalClass?" "+r._config.modalClass:"")),O(2),N("ngClass",Br(3,UX,r._config.modalClass.includes("modal-frame"))))},dependencies:[qs,Qy],encapsulation:2})}return i})(),Cr=(()=>{class i{_document;_overlay;_injector;_cfr;constructor(t,n,r,o){this._document=t,this._overlay=n,this._injector=r,this._cfr=o}open(t,n){let r=new zR;n=n?Object.assign(r,n):r;let o=this._createOverlay(n),s=this._createContainer(o,n),a=this._createContent(t,s,o,n);return this._registerListeners(a,n,s),a}_createOverlay(t){let n=this._getOverlayConfig(t);return this._overlay.create(n)}_getOverlayConfig(t){return new Ap({positionStrategy:this._overlay.position().global(),scrollStrategy:this._overlay.scrollStrategies.noop(),hasBackdrop:t.nonInvasive?!1:t.backdrop,backdropClass:"mdb-backdrop"})}_createContainer(t,n){let r=new Uc(oG,null,this._injector,this._cfr),o=t.attach(r);return o.instance._config=n,o.instance}_createContent(t,n,r,o){let s=new Mo(r,n);if(t instanceof Xn)n.attachTemplatePortal(new Wc(t,null,{$implicit:o.data,modalRef:s}));else{let a=this._createInjector(o,s,n),l=n.attachComponentPortal(new Uc(t,o.viewContainerRef,a));o.data&&Object.assign(l.instance,z({},o.data)),s.component=l.instance}return s}_createInjector(t,n,r){let o=t&&t.viewContainerRef&&t.viewContainerRef.injector,s=[{provide:oG,useValue:r},{provide:Mo,useValue:n}];return gt.create({parent:o||this._injector,providers:s})}_registerListeners(t,n,r){r.backdropClick$.pipe(Tt(1)).subscribe(()=>{t.close()}),n.keyboard&&kt(r._elementRef.nativeElement,"keydown").pipe(nt(o=>o.key==="Escape"),Tt(1)).subscribe(()=>{t.close()})}static \u0275fac=function(n){return new(n||i)(G(ge),G(nG),G(gt),G(ar))};static \u0275prov=k({token:i,factory:i.\u0275fac})}return i})();function Ip(i){i||(sE(Ip),i=F(Xu));let e=new ve(t=>i.onDestroy(t.next.bind(t)));return t=>t.pipe(_t(e))}var Xt="top",Fn="bottom",Sn="right",ln="left",Xy="auto",va=[Xt,Fn,Sn,ln],Cs="start",Vl="end",sG="clippingParents",Jy="viewport",zc="popper",aG="reference",$R=va.reduce(function(i,e){return i.concat([e+"-"+Cs,e+"-"+Vl])},[]),eC=[].concat(va,[Xy]).reduce(function(i,e){return i.concat([e,e+"-"+Cs,e+"-"+Vl])},[]),zX="beforeRead",$X="read",qX="afterRead",KX="beforeMain",YX="main",QX="afterMain",ZX="beforeWrite",XX="write",JX="afterWrite",lG=[zX,$X,qX,KX,YX,QX,ZX,XX,JX];function En(i){return i?(i.nodeName||"").toLowerCase():null}function It(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var e=i.ownerDocument;return e&&e.defaultView||window}return i}function _r(i){var e=It(i).Element;return i instanceof e||i instanceof Element}function un(i){var e=It(i).HTMLElement;return i instanceof e||i instanceof HTMLElement}function $c(i){if(typeof ShadowRoot>"u")return!1;var e=It(i).ShadowRoot;return i instanceof e||i instanceof ShadowRoot}function eJ(i){var e=i.state;Object.keys(e.elements).forEach(function(t){var n=e.styles[t]||{},r=e.attributes[t]||{},o=e.elements[t];!un(o)||!En(o)||(Object.assign(o.style,n),Object.keys(r).forEach(function(s){var a=r[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function tJ(i){var e=i.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(n){var r=e.elements[n],o=e.attributes[n]||{},s=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:t[n]),a=s.reduce(function(l,u){return l[u]="",l},{});!un(r)||!En(r)||(Object.assign(r.style,a),Object.keys(o).forEach(function(l){r.removeAttribute(l)}))})}}var uG={name:"applyStyles",enabled:!0,phase:"write",fn:eJ,effect:tJ,requires:["computeStyles"]};function bn(i){return i.split("-")[0]}var qr=Math.max,Gl=Math.min,_s=Math.round;function qc(){var i=navigator.userAgentData;return i!=null&&i.brands&&Array.isArray(i.brands)?i.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Mp(){return!/^((?!chrome|android).)*safari/i.test(qc())}function wr(i,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var n=i.getBoundingClientRect(),r=1,o=1;e&&un(i)&&(r=i.offsetWidth>0&&_s(n.width)/i.offsetWidth||1,o=i.offsetHeight>0&&_s(n.height)/i.offsetHeight||1);var s=_r(i)?It(i):window,a=s.visualViewport,l=!Mp()&&t,u=(n.left+(l&&a?a.offsetLeft:0))/r,c=(n.top+(l&&a?a.offsetTop:0))/o,d=n.width/r,h=n.height/o;return{width:d,height:h,top:c,right:u+d,bottom:c+h,left:u,x:u,y:c}}function Hl(i){var e=wr(i),t=i.offsetWidth,n=i.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:i.offsetLeft,y:i.offsetTop,width:t,height:n}}function xp(i,e){var t=e.getRootNode&&e.getRootNode();if(i.contains(e))return!0;if(t&&$c(t)){var n=e;do{if(n&&i.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function ii(i){return It(i).getComputedStyle(i)}function qR(i){return["table","td","th"].indexOf(En(i))>=0}function Nn(i){return((_r(i)?i.ownerDocument:i.document)||window.document).documentElement}function ws(i){return En(i)==="html"?i:i.assignedSlot||i.parentNode||($c(i)?i.host:null)||Nn(i)}function cG(i){return!un(i)||ii(i).position==="fixed"?null:i.offsetParent}function nJ(i){var e=/firefox/i.test(qc()),t=/Trident/i.test(qc());if(t&&un(i)){var n=ii(i);if(n.position==="fixed")return null}var r=ws(i);for($c(r)&&(r=r.host);un(r)&&["html","body"].indexOf(En(r))<0;){var o=ii(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function Kr(i){for(var e=It(i),t=cG(i);t&&qR(t)&&ii(t).position==="static";)t=cG(t);return t&&(En(t)==="html"||En(t)==="body"&&ii(t).position==="static")?e:t||nJ(i)||e}function Bl(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function jl(i,e,t){return qr(i,Gl(e,t))}function dG(i,e,t){var n=jl(i,e,t);return n>t?t:n}function Pp(){return{top:0,right:0,bottom:0,left:0}}function Fp(i){return Object.assign({},Pp(),i)}function Np(i,e){return e.reduce(function(t,n){return t[n]=i,t},{})}var iJ=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Fp(typeof e!="number"?e:Np(e,va))};function rJ(i){var e,t=i.state,n=i.name,r=i.options,o=t.elements.arrow,s=t.modifiersData.popperOffsets,a=bn(t.placement),l=Bl(a),u=[ln,Sn].indexOf(a)>=0,c=u?"height":"width";if(!(!o||!s)){var d=iJ(r.padding,t),h=Hl(o),p=l==="y"?Xt:ln,f=l==="y"?Fn:Sn,g=t.rects.reference[c]+t.rects.reference[l]-s[l]-t.rects.popper[c],v=s[l]-t.rects.reference[l],m=Kr(o),_=m?l==="y"?m.clientHeight||0:m.clientWidth||0:0,w=g/2-v/2,S=d[p],R=_-h[c]-d[f],T=_/2-h[c]/2+w,x=jl(S,T,R),A=l;t.modifiersData[n]=(e={},e[A]=x,e.centerOffset=x-T,e)}}function oJ(i){var e=i.state,t=i.options,n=t.element,r=n===void 0?"[data-popper-arrow]":n;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||xp(e.elements.popper,r)&&(e.elements.arrow=r))}var KR={name:"arrow",enabled:!0,phase:"main",fn:rJ,effect:oJ,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Sr(i){return i.split("-")[1]}var sJ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function aJ(i,e){var t=i.x,n=i.y,r=e.devicePixelRatio||1;return{x:_s(t*r)/r||0,y:_s(n*r)/r||0}}function hG(i){var e,t=i.popper,n=i.popperRect,r=i.placement,o=i.variation,s=i.offsets,a=i.position,l=i.gpuAcceleration,u=i.adaptive,c=i.roundOffsets,d=i.isFixed,h=s.x,p=h===void 0?0:h,f=s.y,g=f===void 0?0:f,v=typeof c=="function"?c({x:p,y:g}):{x:p,y:g};p=v.x,g=v.y;var m=s.hasOwnProperty("x"),_=s.hasOwnProperty("y"),w=ln,S=Xt,R=window;if(u){var T=Kr(t),x="clientHeight",A="clientWidth";if(T===It(t)&&(T=Nn(t),ii(T).position!=="static"&&a==="absolute"&&(x="scrollHeight",A="scrollWidth")),T=T,r===Xt||(r===ln||r===Sn)&&o===Vl){S=Fn;var U=d&&T===R&&R.visualViewport?R.visualViewport.height:T[x];g-=U-n.height,g*=l?1:-1}if(r===ln||(r===Xt||r===Fn)&&o===Vl){w=Sn;var q=d&&T===R&&R.visualViewport?R.visualViewport.width:T[A];p-=q-n.width,p*=l?1:-1}}var $=Object.assign({position:a},u&&sJ),oe=c===!0?aJ({x:p,y:g},It(t)):{x:p,y:g};if(p=oe.x,g=oe.y,l){var Ae;return Object.assign({},$,(Ae={},Ae[S]=_?"0":"",Ae[w]=m?"0":"",Ae.transform=(R.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",Ae))}return Object.assign({},$,(e={},e[S]=_?g+"px":"",e[w]=m?p+"px":"",e.transform="",e))}function lJ(i){var e=i.state,t=i.options,n=t.gpuAcceleration,r=n===void 0?!0:n,o=t.adaptive,s=o===void 0?!0:o,a=t.roundOffsets,l=a===void 0?!0:a,u={placement:bn(e.placement),variation:Sr(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,hG(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,hG(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var pG={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:lJ,data:{}};var tC={passive:!0};function uJ(i){var e=i.state,t=i.instance,n=i.options,r=n.scroll,o=r===void 0?!0:r,s=n.resize,a=s===void 0?!0:s,l=It(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",t.update,tC)}),a&&l.addEventListener("resize",t.update,tC),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",t.update,tC)}),a&&l.removeEventListener("resize",t.update,tC)}}var fG={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:uJ,data:{}};var cJ={left:"right",right:"left",bottom:"top",top:"bottom"};function Kc(i){return i.replace(/left|right|bottom|top/g,function(e){return cJ[e]})}var dJ={start:"end",end:"start"};function nC(i){return i.replace(/start|end/g,function(e){return dJ[e]})}function Ul(i){var e=It(i),t=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:t,scrollTop:n}}function Wl(i){return wr(Nn(i)).left+Ul(i).scrollLeft}function YR(i,e){var t=It(i),n=Nn(i),r=t.visualViewport,o=n.clientWidth,s=n.clientHeight,a=0,l=0;if(r){o=r.width,s=r.height;var u=Mp();(u||!u&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:o,height:s,x:a+Wl(i),y:l}}function QR(i){var e,t=Nn(i),n=Ul(i),r=(e=i.ownerDocument)==null?void 0:e.body,o=qr(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=qr(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-n.scrollLeft+Wl(i),l=-n.scrollTop;return ii(r||t).direction==="rtl"&&(a+=qr(t.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function zl(i){var e=ii(i),t=e.overflow,n=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+r+n)}function iC(i){return["html","body","#document"].indexOf(En(i))>=0?i.ownerDocument.body:un(i)&&zl(i)?i:iC(ws(i))}function ma(i,e){var t;e===void 0&&(e=[]);var n=iC(i),r=n===((t=i.ownerDocument)==null?void 0:t.body),o=It(n),s=r?[o].concat(o.visualViewport||[],zl(n)?n:[]):n,a=e.concat(s);return r?a:a.concat(ma(ws(s)))}function Yc(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function hJ(i,e){var t=wr(i,!1,e==="fixed");return t.top=t.top+i.clientTop,t.left=t.left+i.clientLeft,t.bottom=t.top+i.clientHeight,t.right=t.left+i.clientWidth,t.width=i.clientWidth,t.height=i.clientHeight,t.x=t.left,t.y=t.top,t}function gG(i,e,t){return e===Jy?Yc(YR(i,t)):_r(e)?hJ(e,t):Yc(QR(Nn(i)))}function pJ(i){var e=ma(ws(i)),t=["absolute","fixed"].indexOf(ii(i).position)>=0,n=t&&un(i)?Kr(i):i;return _r(n)?e.filter(function(r){return _r(r)&&xp(r,n)&&En(r)!=="body"}):[]}function ZR(i,e,t,n){var r=e==="clippingParents"?pJ(i):[].concat(e),o=[].concat(r,[t]),s=o[0],a=o.reduce(function(l,u){var c=gG(i,u,n);return l.top=qr(c.top,l.top),l.right=Gl(c.right,l.right),l.bottom=Gl(c.bottom,l.bottom),l.left=qr(c.left,l.left),l},gG(i,s,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Lp(i){var e=i.reference,t=i.element,n=i.placement,r=n?bn(n):null,o=n?Sr(n):null,s=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(r){case Xt:l={x:s,y:e.y-t.height};break;case Fn:l={x:s,y:e.y+e.height};break;case Sn:l={x:e.x+e.width,y:a};break;case ln:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var u=r?Bl(r):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case Cs:l[u]=l[u]-(e[c]/2-t[c]/2);break;case Vl:l[u]=l[u]+(e[c]/2-t[c]/2);break;default:}}return l}function ya(i,e){e===void 0&&(e={});var t=e,n=t.placement,r=n===void 0?i.placement:n,o=t.strategy,s=o===void 0?i.strategy:o,a=t.boundary,l=a===void 0?sG:a,u=t.rootBoundary,c=u===void 0?Jy:u,d=t.elementContext,h=d===void 0?zc:d,p=t.altBoundary,f=p===void 0?!1:p,g=t.padding,v=g===void 0?0:g,m=Fp(typeof v!="number"?v:Np(v,va)),_=h===zc?aG:zc,w=i.rects.popper,S=i.elements[f?_:h],R=ZR(_r(S)?S:S.contextElement||Nn(i.elements.popper),l,c,s),T=wr(i.elements.reference),x=Lp({reference:T,element:w,strategy:"absolute",placement:r}),A=Yc(Object.assign({},w,x)),U=h===zc?A:T,q={top:R.top-U.top+m.top,bottom:U.bottom-R.bottom+m.bottom,left:R.left-U.left+m.left,right:U.right-R.right+m.right},$=i.modifiersData.offset;if(h===zc&&$){var oe=$[r];Object.keys(q).forEach(function(Ae){var tt=[Sn,Fn].indexOf(Ae)>=0?1:-1,je=[Xt,Fn].indexOf(Ae)>=0?"y":"x";q[Ae]+=oe[je]*tt})}return q}function XR(i,e){e===void 0&&(e={});var t=e,n=t.placement,r=t.boundary,o=t.rootBoundary,s=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,u=l===void 0?eC:l,c=Sr(n),d=c?a?$R:$R.filter(function(f){return Sr(f)===c}):va,h=d.filter(function(f){return u.indexOf(f)>=0});h.length===0&&(h=d);var p=h.reduce(function(f,g){return f[g]=ya(i,{placement:g,boundary:r,rootBoundary:o,padding:s})[bn(g)],f},{});return Object.keys(p).sort(function(f,g){return p[f]-p[g]})}function fJ(i){if(bn(i)===Xy)return[];var e=Kc(i);return[nC(i),e,nC(e)]}function gJ(i){var e=i.state,t=i.options,n=i.name;if(!e.modifiersData[n]._skip){for(var r=t.mainAxis,o=r===void 0?!0:r,s=t.altAxis,a=s===void 0?!0:s,l=t.fallbackPlacements,u=t.padding,c=t.boundary,d=t.rootBoundary,h=t.altBoundary,p=t.flipVariations,f=p===void 0?!0:p,g=t.allowedAutoPlacements,v=e.options.placement,m=bn(v),_=m===v,w=l||(_||!f?[Kc(v)]:fJ(v)),S=[v].concat(w).reduce(function(ht,Fr){return ht.concat(bn(Fr)===Xy?XR(e,{placement:Fr,boundary:c,rootBoundary:d,padding:u,flipVariations:f,allowedAutoPlacements:g}):Fr)},[]),R=e.rects.reference,T=e.rects.popper,x=new Map,A=!0,U=S[0],q=0;q<S.length;q++){var $=S[q],oe=bn($),Ae=Sr($)===Cs,tt=[Xt,Fn].indexOf(oe)>=0,je=tt?"width":"height",J=ya(e,{placement:$,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),Y=tt?Ae?Sn:ln:Ae?Fn:Xt;R[je]>T[je]&&(Y=Kc(Y));var te=Kc(Y),he=[];if(o&&he.push(J[oe]<=0),a&&he.push(J[Y]<=0,J[te]<=0),he.every(function(ht){return ht})){U=$,A=!1;break}x.set($,he)}if(A)for(var et=f?3:1,gn=function(Fr){var Ba=S.find(function(Wt){var qn=x.get(Wt);if(qn)return qn.slice(0,Fr).every(function(Gn){return Gn})});if(Ba)return U=Ba,"break"},xt=et;xt>0;xt--){var Vn=gn(xt);if(Vn==="break")break}e.placement!==U&&(e.modifiersData[n]._skip=!0,e.placement=U,e.reset=!0)}}var JR={name:"flip",enabled:!0,phase:"main",fn:gJ,requiresIfExists:["offset"],data:{_skip:!1}};function vJ(i,e,t){var n=bn(i),r=[ln,Xt].indexOf(n)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:i})):t,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[ln,Sn].indexOf(n)>=0?{x:a,y:s}:{x:s,y:a}}function mJ(i){var e=i.state,t=i.options,n=i.name,r=t.offset,o=r===void 0?[0,0]:r,s=eC.reduce(function(c,d){return c[d]=vJ(d,e.rects,o),c},{}),a=s[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[n]=s}var eT={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:mJ};function yJ(i){var e=i.state,t=i.name;e.modifiersData[t]=Lp({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var vG={name:"popperOffsets",enabled:!0,phase:"read",fn:yJ,data:{}};function tT(i){return i==="x"?"y":"x"}function CJ(i){var e=i.state,t=i.options,n=i.name,r=t.mainAxis,o=r===void 0?!0:r,s=t.altAxis,a=s===void 0?!1:s,l=t.boundary,u=t.rootBoundary,c=t.altBoundary,d=t.padding,h=t.tether,p=h===void 0?!0:h,f=t.tetherOffset,g=f===void 0?0:f,v=ya(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),m=bn(e.placement),_=Sr(e.placement),w=!_,S=Bl(m),R=tT(S),T=e.modifiersData.popperOffsets,x=e.rects.reference,A=e.rects.popper,U=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,q=typeof U=="number"?{mainAxis:U,altAxis:U}:Object.assign({mainAxis:0,altAxis:0},U),$=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,oe={x:0,y:0};if(T){if(o){var Ae,tt=S==="y"?Xt:ln,je=S==="y"?Fn:Sn,J=S==="y"?"height":"width",Y=T[S],te=Y+v[tt],he=Y-v[je],et=p?-A[J]/2:0,gn=_===Cs?x[J]:A[J],xt=_===Cs?-A[J]:-x[J],Vn=e.elements.arrow,ht=p&&Vn?Hl(Vn):{width:0,height:0},Fr=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Pp(),Ba=Fr[tt],Wt=Fr[je],qn=jl(0,x[J],ht[J]),Gn=w?x[J]/2-et-qn-Ba-q.mainAxis:gn-qn-Ba-q.mainAxis,Cu=w?-x[J]/2+et+qn+Wt+q.mainAxis:xt+qn+Wt+q.mainAxis,ja=e.elements.arrow&&Kr(e.elements.arrow),zU=ja?S==="y"?ja.clientTop||0:ja.clientLeft||0:0,sI=(Ae=$?.[S])!=null?Ae:0,$U=Y+Gn-sI-zU,qU=Y+Cu-sI,aI=jl(p?Gl(te,$U):te,Y,p?qr(he,qU):he);T[S]=aI,oe[S]=aI-Y}if(a){var lI,KU=S==="x"?Xt:ln,YU=S==="x"?Fn:Sn,Ua=T[R],$f=R==="y"?"height":"width",uI=Ua+v[KU],cI=Ua-v[YU],j_=[Xt,ln].indexOf(m)!==-1,dI=(lI=$?.[R])!=null?lI:0,hI=j_?uI:Ua-x[$f]-A[$f]-dI+q.altAxis,pI=j_?Ua+x[$f]+A[$f]-dI-q.altAxis:cI,fI=p&&j_?dG(hI,Ua,pI):jl(p?hI:uI,Ua,p?pI:cI);T[R]=fI,oe[R]=fI-Ua}e.modifiersData[n]=oe}}var nT={name:"preventOverflow",enabled:!0,phase:"main",fn:CJ,requiresIfExists:["offset"]};function iT(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function rT(i){return i===It(i)||!un(i)?Ul(i):iT(i)}function _J(i){var e=i.getBoundingClientRect(),t=_s(e.width)/i.offsetWidth||1,n=_s(e.height)/i.offsetHeight||1;return t!==1||n!==1}function oT(i,e,t){t===void 0&&(t=!1);var n=un(e),r=un(e)&&_J(e),o=Nn(e),s=wr(i,r,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!t)&&((En(e)!=="body"||zl(o))&&(a=rT(e)),un(e)?(l=wr(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=Wl(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function wJ(i){var e=new Map,t=new Set,n=[];i.forEach(function(o){e.set(o.name,o)});function r(o){t.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&r(l)}}),n.push(o)}return i.forEach(function(o){t.has(o.name)||r(o)}),n}function sT(i){var e=wJ(i);return lG.reduce(function(t,n){return t.concat(e.filter(function(r){return r.phase===n}))},[])}function aT(i){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(i())})})),e}}function lT(i){var e=i.reduce(function(t,n){var r=t[n.name];return t[n.name]=r?Object.assign({},r,n,{options:Object.assign({},r.options,n.options),data:Object.assign({},r.data,n.data)}):n,t},{});return Object.keys(e).map(function(t){return e[t]})}var mG={placement:"bottom",modifiers:[],strategy:"absolute"};function yG(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function CG(i){i===void 0&&(i={});var e=i,t=e.defaultModifiers,n=t===void 0?[]:t,r=e.defaultOptions,o=r===void 0?mG:r;return function(a,l,u){u===void 0&&(u=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},mG,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,p={state:c,setOptions:function(m){var _=typeof m=="function"?m(c.options):m;g(),c.options=Object.assign({},o,c.options,_),c.scrollParents={reference:_r(a)?ma(a):a.contextElement?ma(a.contextElement):[],popper:ma(l)};var w=sT(lT([].concat(n,c.options.modifiers)));return c.orderedModifiers=w.filter(function(S){return S.enabled}),f(),p.update()},forceUpdate:function(){if(!h){var m=c.elements,_=m.reference,w=m.popper;if(yG(_,w)){c.rects={reference:oT(_,Kr(w),c.options.strategy==="fixed"),popper:Hl(w)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(q){return c.modifiersData[q.name]=Object.assign({},q.data)});for(var S=0;S<c.orderedModifiers.length;S++){if(c.reset===!0){c.reset=!1,S=-1;continue}var R=c.orderedModifiers[S],T=R.fn,x=R.options,A=x===void 0?{}:x,U=R.name;typeof T=="function"&&(c=T({state:c,options:A,name:U,instance:p})||c)}}}},update:aT(function(){return new Promise(function(v){p.forceUpdate(),v(c)})}),destroy:function(){g(),h=!0}};if(!yG(a,l))return p;p.setOptions(u).then(function(v){!h&&u.onFirstUpdate&&u.onFirstUpdate(v)});function f(){c.orderedModifiers.forEach(function(v){var m=v.name,_=v.options,w=_===void 0?{}:_,S=v.effect;if(typeof S=="function"){var R=S({state:c,name:m,instance:p,options:w}),T=function(){};d.push(R||T)}})}function g(){d.forEach(function(v){return v()}),d=[]}return p}}var SJ=[fG,vG,pG,uG],uT=CG({defaultModifiers:SJ});var EJ=["*"];var bJ=["ngbDatepickerDayView",""],DJ=["month"],RJ=["year"];function TJ(i,e){if(i&1&&(b(0,"option",4),H(1),D()),i&2){let t=e.$implicit,n=K();N("value",t),ti("aria-label",n.i18n.getMonthFullName(t,n.date.year)),O(),Nt(n.i18n.getMonthShortName(t,n.date.year))}}function AJ(i,e){if(i&1&&(b(0,"option",4),H(1),D()),i&2){let t=e.$implicit,n=K();N("value",t),O(),Nt(n.i18n.getYearNumerals(t))}}function OJ(i,e){if(i&1){let t=At();b(0,"ngb-datepicker-navigation-select",6),Q("select",function(r){Me(t);let o=K();return xe(o.select.emit(r))}),D()}if(i&2){let t=K();N("date",t.date)("disabled",t.disabled)("months",t.selectBoxes.months)("years",t.selectBoxes.years)}}function IJ(i,e){i&1&&ne(0,"div",9)}function MJ(i,e){i&1&&ne(0,"div",9)}function xJ(i,e){if(i&1&&(se(0,IJ,1,0,"div",7),b(1,"div",8),H(2),D(),se(3,MJ,1,0,"div",7)),i&2){let t=e.$implicit,n=e.$index,r=K(2);zt(0,n>0?0:-1),O(2),Ot(" ",r.i18n.getMonthLabel(t.firstDate)," "),O(),zt(3,n!==r.months.length-1?3:-1)}}function PJ(i,e){if(i&1&&js(0,xJ,4,3,null,null,Bs),i&2){let t=K();Us(t.months)}}function FJ(i,e){if(i&1&&(b(0,"div",3),H(1),D()),i&2){let t=K(2);O(),Nt(t.i18n.getWeekLabel())}}function NJ(i,e){if(i&1&&(b(0,"div",4),H(1),D()),i&2){let t=e.$implicit;O(),Nt(t)}}function LJ(i,e){if(i&1&&(b(0,"div",1),se(1,FJ,2,1,"div",2),js(2,NJ,2,1,"div",5,Bs),D()),i&2){let t=K();O(),zt(1,t.datepicker.showWeekNumbers?1:-1),O(),Us(t.viewModel.weekdays)}}function kJ(i,e){if(i&1&&(b(0,"div",9),H(1),D()),i&2){let t=K(2).$implicit,n=K();O(),Nt(n.i18n.getWeekNumerals(t.number))}}function VJ(i,e){}function GJ(i,e){if(i&1&&se(0,VJ,0,0,"ng-template",11),i&2){let t=K().$implicit,n=K(3);N("ngTemplateOutlet",n.datepicker.dayTemplate)("ngTemplateOutletContext",t.context)}}function HJ(i,e){if(i&1){let t=At();b(0,"div",10),Q("click",function(r){let s=Me(t).$implicit;return K(3).doSelect(s),xe(r.preventDefault())}),se(1,GJ,1,2,null,11),D()}if(i&2){let t=e.$implicit;it("disabled",t.context.disabled)("hidden",t.hidden)("ngb-dp-today",t.context.today),N("tabindex",t.tabindex),ti("aria-label",t.ariaLabel),O(),zt(1,t.hidden?-1:1)}}function BJ(i,e){if(i&1&&(b(0,"div",7),se(1,kJ,2,1,"div",8),js(2,HJ,2,9,"div",12,Bs),D()),i&2){let t=K().$implicit,n=K();O(),zt(1,n.datepicker.showWeekNumbers?1:-1),O(),Us(t.days)}}function jJ(i,e){if(i&1&&se(0,BJ,4,1,"div",6),i&2){let t=e.$implicit;zt(0,t.collapsed?-1:0)}}var UJ=["defaultDayTemplate"],WJ=["content"];function zJ(i,e){if(i&1&&ne(0,"div",8),i&2){let t=e.date,n=e.currentMonth,r=e.selected,o=e.disabled,s=e.focused;N("date",t)("currentMonth",n)("selected",r)("disabled",o)("focused",s)}}function $J(i,e){if(i&1&&(b(0,"div",12),H(1),D()),i&2){let t=K().$implicit,n=K(2);O(),Ot(" ",n.i18n.getMonthLabel(t.firstDate)," ")}}function qJ(i,e){if(i&1&&(b(0,"div",9),se(1,$J,2,1,"div",10),ne(2,"ngb-datepicker-month",11),D()),i&2){let t=e.$implicit,n=K(2);O(),zt(1,n.navigation==="none"||n.displayMonths>1&&n.navigation==="select"?1:-1),O(),N("month",t.firstDate)}}function KJ(i,e){if(i&1&&js(0,qJ,3,2,"div",13,Bs),i&2){let t=K();Us(t.model.months)}}function YJ(i,e){if(i&1){let t=At();b(0,"ngb-datepicker-navigation",14),Q("navigate",function(r){Me(t);let o=K();return xe(o.onNavigateEvent(r))})("select",function(r){Me(t);let o=K();return xe(o.onNavigateDateSelect(r))}),D()}if(i&2){let t=K();N("date",t.model.firstDate)("months",t.model.months)("disabled",t.model.disabled)("showSelect",t.model.navigation==="select")("prevDisabled",t.model.prevDisabled)("nextDisabled",t.model.nextDisabled)("selectBoxes",t.model.selectBoxes)}}function QJ(i,e){}function ZJ(i,e){}var XJ=i=>({$implicit:i}),JJ=["dialog"];function eee(i,e){if(i&1){let t=At();b(0,"button",8),Q("click",function(){Me(t);let r=K();return xe(r.changeHour(r.hourStep))}),ne(1,"span",9),b(2,"span",10),zs(3,11),D()()}if(i&2){let t=K();it("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),N("disabled",t.disabled)}}function tee(i,e){if(i&1){let t=At();b(0,"button",8),Q("click",function(){Me(t);let r=K();return xe(r.changeHour(-r.hourStep))}),ne(1,"span",12),b(2,"span",10),zs(3,13),D()()}if(i&2){let t=K();it("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),N("disabled",t.disabled)}}function nee(i,e){if(i&1){let t=At();b(0,"button",8),Q("click",function(){Me(t);let r=K();return xe(r.changeMinute(r.minuteStep))}),ne(1,"span",9),b(2,"span",10),zs(3,14),D()()}if(i&2){let t=K();it("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),N("disabled",t.disabled)}}function iee(i,e){if(i&1){let t=At();b(0,"button",8),Q("click",function(){Me(t);let r=K();return xe(r.changeMinute(-r.minuteStep))}),ne(1,"span",12),b(2,"span",10),zs(3,15),D()()}if(i&2){let t=K();it("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),N("disabled",t.disabled)}}function ree(i,e){if(i&1){let t=At();b(0,"button",8),Q("click",function(){Me(t);let r=K(2);return xe(r.changeSecond(r.secondStep))}),ne(1,"span",9),b(2,"span",10),zs(3,18),D()()}if(i&2){let t=K(2);it("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),N("disabled",t.disabled)}}function oee(i,e){if(i&1){let t=At();b(0,"button",8),Q("click",function(){Me(t);let r=K(2);return xe(r.changeSecond(-r.secondStep))}),ne(1,"span",12),b(2,"span",10),zs(3,19),D()()}if(i&2){let t=K(2);it("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),N("disabled",t.disabled)}}function see(i,e){if(i&1){let t=At();b(0,"div",5),H(1,":"),D(),b(2,"div",16),se(3,ree,4,7,"button",3),b(4,"input",17),Q("change",function(r){Me(t);let o=K();return xe(o.updateSecond(r.target.value))})("blur",function(){Me(t);let r=K();return xe(r.handleBlur())})("input",function(r){Me(t);let o=K();return xe(o.formatInput(r.target))})("keydown.ArrowUp",function(r){Me(t);let o=K();return o.changeSecond(o.secondStep),xe(r.preventDefault())})("keydown.ArrowDown",function(r){Me(t);let o=K();return o.changeSecond(-o.secondStep),xe(r.preventDefault())}),D(),se(5,oee,4,7,"button",3),D()}if(i&2){let t=K();O(3),zt(3,t.spinners?3:-1),O(),it("form-control-sm",t.isSmallSize)("form-control-lg",t.isLargeSize),N("value",t.formatMinSec(t.model==null?null:t.model.second))("readOnly",t.readonlyInputs)("disabled",t.disabled),O(),zt(5,t.spinners?5:-1)}}function aee(i,e){if(i&1&&(lr(0),zs(1,22),ur()),i&2){let t=K(2);O(),LE(t.i18n.getAfternoonPeriod()),FF(1)}}function lee(i,e){if(i&1&&(lr(0),H(1),ur()),i&2){let t=K(2);O(),Nt(t.i18n.getMorningPeriod())}}function uee(i,e){if(i&1){let t=At();ne(0,"div",5),b(1,"div",20)(2,"button",21),Q("click",function(){Me(t);let r=K();return xe(r.toggleMeridian())}),se(3,aee,2,1,"ng-container")(4,lee,2,1),D()()}if(i&2){let t=K();O(2),it("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),N("disabled",t.disabled),O(),zt(3,t.model&&t.model.hour>=12?3:4)}}var DG={animation:!0,transitionTimerDelayMs:5},cee=(()=>{let e=class e{constructor(){this.animation=DG.animation}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function dee(i){let{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(i),n=parseFloat(e),r=parseFloat(t);return(n+r)*1e3}function Ln(i){return parseInt(`${i}`,10)}function lC(i){return typeof i=="string"}function cn(i){return!isNaN(Ln(i))}function Lt(i){return typeof i=="number"&&isFinite(i)&&Math.floor(i)===i}function dT(i){return i!=null}function hee(i){return i&&i.then}function Qc(i){return cn(i)?`0${i}`.slice(-2):""}function pee(i,e){return!e||typeof i.closest>"u"?null:i.closest(e)}function RG(i){return(i||document.body).getBoundingClientRect()}function fee(i){return e=>new ve(t=>{let n=s=>i.run(()=>t.next(s)),r=s=>i.run(()=>t.error(s)),o=()=>i.run(()=>t.complete());return e.subscribe({next:n,error:r,complete:o})})}var gee=()=>{},{transitionTimerDelayMs:vee}=DG,rC=new Map,$l=(i,e,t,n)=>{let r=n.context||{},o=rC.get(e);if(o)switch(n.runningTransition){case"continue":return yn;case"stop":i.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),rC.delete(e)}let s=t(e,n.animation,r)||gee;if(!n.animation||window.getComputedStyle(e).transitionProperty==="none")return i.run(()=>s()),le(void 0).pipe(fee(i));let a=new me,l=new me,u=a.pipe(aw(!0));rC.set(e,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});let c=dee(e);return i.runOutsideAngular(()=>{let d=kt(e,"transitionend").pipe(_t(u),nt(({target:p})=>p===e)),h=Ka(c+vee).pipe(_t(u));Sg(h,d,l).pipe(_t(u)).subscribe(()=>{rC.delete(e),i.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};var TG=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=De({});let i=e;return i})();var AG=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=De({});let i=e;return i})();var OG=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=De({});let i=e;return i})(),IG=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=De({});let i=e;return i})(),gi=class i{static from(e){return e instanceof i?e:e?new i(e.year,e.month,e.day):null}constructor(e,t,n){this.year=Lt(e)?e:null,this.month=Lt(t)?t:null,this.day=Lt(n)?n:null}equals(e){return e!=null&&this.year===e.year&&this.month===e.month&&this.day===e.day}before(e){return e?this.year===e.year?this.month===e.month?this.day===e.day?!1:this.day<e.day:this.month<e.month:this.year<e.year:!1}after(e){return e?this.year===e.year?this.month===e.month?this.day===e.day?!1:this.day>e.day:this.month>e.month:this.year>e.year:!1}};function _G(i){return new gi(i.getFullYear(),i.getMonth()+1,i.getDate())}function oC(i){let e=new Date(i.year,i.month-1,i.day,12);return isNaN(e.getTime())||e.setFullYear(i.year),e}function mee(){return new yee}var hC=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>mee(),providedIn:"root"});let i=e;return i})(),yee=(()=>{let e=class e extends hC{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(n,r="d",o=1){let s=oC(n),a=!0,l=s.getMonth();switch(r){case"y":s.setFullYear(s.getFullYear()+o);break;case"m":l+=o,s.setMonth(l),l=l%12,l<0&&(l=l+12);break;case"d":s.setDate(s.getDate()+o),a=!1;break;default:return n}return a&&s.getMonth()!==l&&s.setDate(0),_G(s)}getPrev(n,r="d",o=1){return this.getNext(n,r,-o)}getWeekday(n){let o=oC(n).getDay();return o===0?7:o}getWeekNumber(n,r){r===7&&(r=0);let o=(11-r)%7,s=n[o],a=oC(s);a.setDate(a.getDate()+4-(a.getDay()||7));let l=a.getTime();return a.setMonth(0),a.setDate(1),Math.floor(Math.round((l-a.getTime())/864e5)/7)+1}getToday(){return _G(new Date)}isValid(n){if(!n||!Lt(n.year)||!Lt(n.month)||!Lt(n.day)||n.year===0)return!1;let r=oC(n);return!isNaN(r.getTime())&&r.getFullYear()===n.year&&r.getMonth()+1===n.month&&r.getDate()===n.day}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=nn(e)))(o||e)}})(),e.\u0275prov=k({token:e,factory:e.\u0275fac});let i=e;return i})();function Zc(i,e){return!Cee(i,e)}function MG(i,e){return!i&&!e?!1:!i||!e?!0:i.year!==e.year||i.month!==e.month}function Cee(i,e){return!i&&!e||!!i&&!!e&&i.equals(e)}function _ee(i,e){if(e&&i&&e.before(i))throw new Error(`'maxDate' ${e} should be greater than 'minDate' ${i}`)}function sC(i,e,t){return i&&e&&i.before(e)?e:i&&t&&i.after(t)?t:i||null}function cT(i,e){let{minDate:t,maxDate:n,disabled:r,markDisabled:o}=e;return!(i==null||r||o&&o(i,{year:i.year,month:i.month})||t&&i.before(t)||n&&i.after(n))}function wee(i,e,t,n){if(!e)return[];let r=i.getMonths(e.year);if(t&&e.year===t.year){let o=r.findIndex(s=>s===t.month);r=r.slice(o)}if(n&&e.year===n.year){let o=r.findIndex(s=>s===n.month);r=r.slice(0,o+1)}return r}function See(i,e,t){if(!i)return[];let n=e?Math.max(e.year,i.year-500):i.year-10,o=(t?Math.min(t.year,i.year+500):i.year+10)-n+1,s=Array(o);for(let a=0;a<o;a++)s[a]=n+a;return s}function Eee(i,e,t){let n=Object.assign(i.getNext(e,"m"),{day:1});return t!=null&&n.after(t)}function bee(i,e,t){let n=Object.assign(i.getPrev(e,"m"),{day:1});return t!=null&&(n.year===t.year&&n.month<t.month||n.year<t.year&&t.month===1)}function Dee(i,e,t,n,r){let{displayMonths:o,months:s}=t,a=s.splice(0,s.length);return Array.from({length:o},(u,c)=>{let d=Object.assign(i.getNext(e,"m",c),{day:1});if(s[c]=null,!r){let h=a.findIndex(p=>p.firstDate.equals(d));h!==-1&&(s[c]=a.splice(h,1)[0])}return d}).forEach((u,c)=>{s[c]===null&&(s[c]=Ree(i,u,t,n,a.shift()||{}))}),s}function Ree(i,e,t,n,r={}){let{dayTemplateData:o,minDate:s,maxDate:a,firstDayOfWeek:l,markDisabled:u,outsideDays:c,weekdayWidth:d,weekdaysVisible:h}=t,p=i.getToday();r.firstDate=null,r.lastDate=null,r.number=e.month,r.year=e.year,r.weeks=r.weeks||[],r.weekdays=r.weekdays||[],e=Tee(i,e,l),h||(r.weekdays.length=0);for(let f=0;f<i.getWeeksPerMonth();f++){let g=r.weeks[f];g||(g=r.weeks[f]={number:0,days:[],collapsed:!0});let v=g.days;for(let m=0;m<i.getDaysPerWeek();m++){f===0&&h&&(r.weekdays[m]=n.getWeekdayLabel(i.getWeekday(e),d));let _=new gi(e.year,e.month,e.day),w=i.getNext(_),S=n.getDayAriaLabel(_),R=!!(s&&_.before(s)||a&&_.after(a));!R&&u&&(R=u(_,{month:r.number,year:r.year}));let T=_.equals(p),x=o?o(_,{month:r.number,year:r.year}):void 0;r.firstDate===null&&_.month===r.number&&(r.firstDate=_),_.month===r.number&&w.month!==r.number&&(r.lastDate=_);let A=v[m];A||(A=v[m]={}),A.date=_,A.context=Object.assign(A.context||{},{$implicit:_,date:_,data:x,currentMonth:r.number,currentYear:r.year,disabled:R,focused:!1,selected:!1,today:T}),A.tabindex=-1,A.ariaLabel=S,A.hidden=!1,e=w}g.number=i.getWeekNumber(v.map(m=>m.date),l),g.collapsed=c==="collapsed"&&v[0].date.month!==r.number&&v[v.length-1].date.month!==r.number}return r}function Tee(i,e,t){let n=i.getDaysPerWeek(),r=new gi(e.year,e.month,1),o=i.getWeekday(r)%n;return i.getPrev(r,"d",(n+o-t)%n)}var ql=(()=>{let e=class e{getMonthLabel(n){return`${this.getMonthFullName(n.month,n.year)} ${this.getYearNumerals(n.year)}`}getDayNumerals(n){return`${n.day}`}getWeekNumerals(n){return`${n}`}getYearNumerals(n){return`${n}`}getWeekLabel(){return""}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>new Aee,providedIn:"root"});let i=e;return i})(),Aee=(()=>{let e=class e extends ql{constructor(){super(...arguments),this._locale=F(tc),this._monthsShort=Qv(this._locale,Qt.Standalone,Qe.Abbreviated),this._monthsFull=Qv(this._locale,Qt.Standalone,Qe.Wide)}getWeekdayLabel(n,r){let o=ZE(this._locale,Qt.Standalone,r===void 0?Qe.Short:r);return o.map((a,l)=>o[(l+1)%7])[n-1]||""}getMonthShortName(n){return this._monthsShort[n-1]||""}getMonthFullName(n){return this._monthsFull[n-1]||""}getDayAriaLabel(n){let r=new Date(n.year,n.month-1,n.day);return iN(r,"fullDate",this._locale)}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=nn(e)))(o||e)}})(),e.\u0275prov=k({token:e,factory:e.\u0275fac});let i=e;return i})(),hT=(()=>{let e=class e{constructor(){this._VALIDATORS={dayTemplateData:n=>{if(this._state.dayTemplateData!==n)return{dayTemplateData:n}},displayMonths:n=>{if(n=Ln(n),Lt(n)&&n>0&&this._state.displayMonths!==n)return{displayMonths:n}},disabled:n=>{if(this._state.disabled!==n)return{disabled:n}},firstDayOfWeek:n=>{if(n=Ln(n),Lt(n)&&n>=0&&this._state.firstDayOfWeek!==n)return{firstDayOfWeek:n}},focusVisible:n=>{if(this._state.focusVisible!==n&&!this._state.disabled)return{focusVisible:n}},markDisabled:n=>{if(this._state.markDisabled!==n)return{markDisabled:n}},maxDate:n=>{let r=this.toValidDate(n,null);if(Zc(this._state.maxDate,r))return{maxDate:r}},minDate:n=>{let r=this.toValidDate(n,null);if(Zc(this._state.minDate,r))return{minDate:r}},navigation:n=>{if(this._state.navigation!==n)return{navigation:n}},outsideDays:n=>{if(this._state.outsideDays!==n)return{outsideDays:n}},weekdays:n=>{let r=n===!0||n===!1?Qe.Short:n,o=n===!0||n===!1?n:!0;if(this._state.weekdayWidth!==r||this._state.weekdaysVisible!==o)return{weekdayWidth:r,weekdaysVisible:o}}},this._calendar=F(hC),this._i18n=F(ql),this._model$=new me,this._dateSelect$=new me,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:Qe.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe(nt(n=>n.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(nt(n=>n!==null))}set(n){let r=Object.keys(n).map(o=>this._VALIDATORS[o](n[o])).reduce((o,s)=>z(z({},o),s),{});Object.keys(r).length>0&&this._nextState(r)}focus(n){let r=this.toValidDate(n,null);r!=null&&!this._state.disabled&&Zc(this._state.focusDate,r)&&this._nextState({focusDate:n})}focusSelect(){cT(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(n){let r=this.toValidDate(n,this._calendar.getToday());r!=null&&!this._state.disabled&&(!this._state.firstDate||MG(this._state.firstDate,r))&&this._nextState({firstDate:r})}select(n,r={}){let o=this.toValidDate(n,null);o!=null&&!this._state.disabled&&(Zc(this._state.selectedDate,o)&&this._nextState({selectedDate:o}),r.emitEvent&&cT(o,this._state)&&this._dateSelect$.next(o))}toValidDate(n,r){let o=gi.from(n);return r===void 0&&(r=this._calendar.getToday()),this._calendar.isValid(o)?o:r}getMonth(n){for(let r of this._state.months)if(n.month===r.number&&n.year===r.year)return r;throw new Error(`month ${n.month} of year ${n.year} not found`)}_nextState(n){let r=this._updateState(n);this._patchContexts(r),this._state=r,this._model$.next(this._state)}_patchContexts(n){let{months:r,displayMonths:o,selectedDate:s,focusDate:a,focusVisible:l,disabled:u,outsideDays:c}=n;n.months.forEach(d=>{d.weeks.forEach(h=>{h.days.forEach(p=>{a&&(p.context.focused=a.equals(p.date)&&l),p.tabindex=!u&&a&&p.date.equals(a)&&a.month===d.number?0:-1,u===!0&&(p.context.disabled=!0),s!==void 0&&(p.context.selected=s!==null&&s.equals(p.date)),d.number!==p.date.month&&(p.hidden=c==="hidden"||c==="collapsed"||o>1&&p.date.after(r[0].firstDate)&&p.date.before(r[o-1].lastDate))})})})}_updateState(n){let r=Object.assign({},this._state,n),o=r.firstDate;if(("minDate"in n||"maxDate"in n)&&(_ee(r.minDate,r.maxDate),r.focusDate=sC(r.focusDate,r.minDate,r.maxDate),r.firstDate=sC(r.firstDate,r.minDate,r.maxDate),o=r.focusDate),"disabled"in n&&(r.focusVisible=!1),"selectedDate"in n&&this._state.months.length===0&&(o=r.selectedDate),"focusVisible"in n||"focusDate"in n&&(r.focusDate=sC(r.focusDate,r.minDate,r.maxDate),o=r.focusDate,r.months.length!==0&&r.focusDate&&!r.focusDate.before(r.firstDate)&&!r.focusDate.after(r.lastDate)))return r;if("firstDate"in n&&(r.firstDate=sC(r.firstDate,r.minDate,r.maxDate),o=r.firstDate),o){let s="dayTemplateData"in n||"firstDayOfWeek"in n||"markDisabled"in n||"minDate"in n||"maxDate"in n||"disabled"in n||"outsideDays"in n||"weekdaysVisible"in n,a=Dee(this._calendar,o,r,this._i18n,s);r.months=a,r.firstDate=a[0].firstDate,r.lastDate=a[a.length-1].lastDate,"selectedDate"in n&&!cT(r.selectedDate,r)&&(r.selectedDate=null),"firstDate"in n&&(!r.focusDate||r.focusDate.before(r.firstDate)||r.focusDate.after(r.lastDate))&&(r.focusDate=o);let l=!this._state.firstDate||this._state.firstDate.year!==r.firstDate.year,u=!this._state.firstDate||this._state.firstDate.month!==r.firstDate.month;r.navigation==="select"?(("minDate"in n||"maxDate"in n||r.selectBoxes.years.length===0||l)&&(r.selectBoxes.years=See(r.firstDate,r.minDate,r.maxDate)),("minDate"in n||"maxDate"in n||r.selectBoxes.months.length===0||l)&&(r.selectBoxes.months=wee(this._calendar,r.firstDate,r.minDate,r.maxDate))):r.selectBoxes={years:[],months:[]},(r.navigation==="arrows"||r.navigation==="select")&&(u||l||"minDate"in n||"maxDate"in n||"disabled"in n)&&(r.prevDisabled=r.disabled||bee(this._calendar,r.firstDate,r.minDate),r.nextDisabled=r.disabled||Eee(this._calendar,r.lastDate,r.maxDate))}return r}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac});let i=e;return i})(),uC=function(i){return i[i.PREV=0]="PREV",i[i.NEXT=1]="NEXT",i}(uC||{}),gT=(()=>{let e=class e{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=Qe.Short}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Oee(){return new Iee}var vT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>Oee(),providedIn:"root"});let i=e;return i})(),Iee=(()=>{let e=class e extends vT{fromModel(n){return n&&Lt(n.year)&&Lt(n.month)&&Lt(n.day)?{year:n.year,month:n.month,day:n.day}:null}toModel(n){return n&&Lt(n.year)&&Lt(n.month)&&Lt(n.day)?{year:n.year,month:n.month,day:n.day}:null}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=nn(e)))(o||e)}})(),e.\u0275prov=k({token:e,factory:e.\u0275fac});let i=e;return i})(),fi=function(i){return i[i.Tab=9]="Tab",i[i.Enter=13]="Enter",i[i.Escape=27]="Escape",i[i.Space=32]="Space",i[i.PageUp=33]="PageUp",i[i.PageDown=34]="PageDown",i[i.End=35]="End",i[i.Home=36]="Home",i[i.ArrowLeft=37]="ArrowLeft",i[i.ArrowUp=38]="ArrowUp",i[i.ArrowRight=39]="ArrowRight",i[i.ArrowDown=40]="ArrowDown",i}(fi||{}),Mee=(()=>{let e=class e{processKey(n,r){let{state:o,calendar:s}=r;switch(n.which){case fi.PageUp:r.focusDate(s.getPrev(o.focusedDate,n.shiftKey?"y":"m",1));break;case fi.PageDown:r.focusDate(s.getNext(o.focusedDate,n.shiftKey?"y":"m",1));break;case fi.End:r.focusDate(n.shiftKey?o.maxDate:o.lastDate);break;case fi.Home:r.focusDate(n.shiftKey?o.minDate:o.firstDate);break;case fi.ArrowLeft:r.focusDate(s.getPrev(o.focusedDate,"d",1));break;case fi.ArrowUp:r.focusDate(s.getPrev(o.focusedDate,"d",s.getDaysPerWeek()));break;case fi.ArrowRight:r.focusDate(s.getNext(o.focusedDate,"d",1));break;case fi.ArrowDown:r.focusDate(s.getNext(o.focusedDate,"d",s.getDaysPerWeek()));break;case fi.Enter:case fi.Space:r.focusSelect();break;default:return}n.preventDefault(),n.stopPropagation()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),xee=(()=>{let e=class e{constructor(){this.i18n=F(ql)}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ce({type:e,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(r,o){r&2&&it("bg-primary",o.selected)("text-white",o.selected)("text-muted",o.isMuted())("outside",o.isMuted())("active",o.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[ye],attrs:bJ,decls:1,vars:1,template:function(r,o){r&1&&H(0),r&2&&Nt(o.i18n.getDayNumerals(o.date))},styles:[`[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-tertiary-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}
`],encapsulation:2,changeDetection:0});let i=e;return i})(),Pee=(()=>{let e=class e{constructor(){this._month=-1,this._year=-1,this.i18n=F(ql),this.select=new V}changeMonth(n){this.select.emit(new gi(this.date.year,Ln(n),1))}changeYear(n){this.select.emit(new gi(Ln(n),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this.monthSelect.nativeElement.value=`${this._month}`),this.date.year!==this._year&&(this._year=this.date.year,this.yearSelect.nativeElement.value=`${this._year}`))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ce({type:e,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(r,o){if(r&1&&(ni(DJ,7,Ge),ni(RJ,7,Ge)),r&2){let s;rt(s=ot())&&(o.monthSelect=s.first),rt(s=ot())&&(o.yearSelect=s.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[ye],decls:8,vars:2,consts:()=>{let n;n=$localize`:@@ngb.datepicker.select-month:Select month`;let r;r=$localize`:@@ngb.datepicker.select-month:Select month`;let o;o=$localize`:@@ngb.datepicker.select-year:Select year`;let s;return s=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",n,"title",r,1,"form-select",3,"disabled","change"],["month",""],["aria-label",o,"title",s,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(r,o){r&1&&(b(0,"select",0,1),Q("change",function(a){return o.changeMonth(a.target.value)}),js(2,TJ,2,3,"option",4,Bs),D(),b(4,"select",2,3),Q("change",function(a){return o.changeYear(a.target.value)}),js(6,AJ,2,2,"option",4,Bs),D()),r&2&&(N("disabled",o.disabled),O(2),Us(o.months),O(2),N("disabled",o.disabled),O(2),Us(o.years))},styles:[`ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}
`],encapsulation:2,changeDetection:0});let i=e;return i})(),Fee=(()=>{let e=class e{constructor(){this.navigation=uC,this.i18n=F(ql),this.months=[],this.navigate=new V,this.select=new V}onClickPrev(n){n.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(n){n.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ce({type:e,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[ye],decls:8,vars:4,consts:()=>{let n;n=$localize`:@@ngb.datepicker.previous-month:Previous month`;let r;r=$localize`:@@ngb.datepicker.previous-month:Previous month`;let o;o=$localize`:@@ngb.datepicker.next-month:Next month`;let s;return s=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow","ngb-dp-arrow-prev"],["type","button","aria-label",n,"title",r,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years"],[1,"ngb-dp-arrow","ngb-dp-arrow-next"],["type","button","aria-label",o,"title",s,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["class","ngb-dp-arrow"],[1,"ngb-dp-month-name"],[1,"ngb-dp-arrow"]]},template:function(r,o){r&1&&(b(0,"div",0)(1,"button",1),Q("click",function(a){return o.onClickPrev(a)}),ne(2,"span",2),D()(),se(3,OJ,1,4,"ngb-datepicker-navigation-select",3)(4,PJ,2,0),b(5,"div",4)(6,"button",5),Q("click",function(a){return o.onClickNext(a)}),ne(7,"span",2),D()()),r&2&&(O(),N("disabled",o.prevDisabled),O(2),zt(3,o.showSelect?3:-1),O(),zt(4,o.showSelect?-1:4),O(2),N("disabled",o.nextDisabled))},dependencies:[Pee],styles:[`ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow-next{justify-content:flex-end}.ngb-dp-arrow-next .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}
`],encapsulation:2,changeDetection:0});let i=e;return i})(),Nee=(()=>{let e=class e{constructor(){this.templateRef=F(Xn)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ze({type:e,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0});let i=e;return i})(),Lee=(()=>{let e=class e{constructor(){this._keyboardService=F(Mee),this._service=F(hT),this.i18n=F(ql),this.datepicker=F(xG)}set month(n){this.viewModel=this._service.getMonth(n)}onKeyDown(n){this._keyboardService.processKey(n,this.datepicker)}doSelect(n){!n.context.disabled&&!n.hidden&&this.datepicker.onDateSelect(n.date)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ce({type:e,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(r,o){r&1&&Q("keydown",function(a){return o.onKeyDown(a)})},inputs:{month:"month"},standalone:!0,features:[ye],decls:3,vars:1,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-weekday small","role","columnheader"],["class","ngb-dp-week","role","row"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today"]],template:function(r,o){r&1&&(se(0,LJ,4,1,"div",0),js(1,jJ,1,1,null,null,Bs)),r&2&&(zt(0,o.viewModel.weekdays.length>0?0:-1),O(),Us(o.viewModel.weeks))},dependencies:[oh],styles:[`ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-tertiary-bg)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}
`],encapsulation:2});let i=e;return i})(),xG=(()=>{let e=class e{constructor(){this.injector=F(gt),this._service=F(hT),this._calendar=F(hC),this._i18n=F(ql),this._config=F(gT),this._nativeElement=F(Ge).nativeElement,this._ngbDateAdapter=F(vT),this._ngZone=F(fe),this._destroyRef=F(Xu),this._controlValue=null,this._publicState={},this.dayTemplate=this._config.dayTemplate,this.dayTemplateData=this._config.dayTemplateData,this.displayMonths=this._config.displayMonths,this.firstDayOfWeek=this._config.firstDayOfWeek,this.footerTemplate=this._config.footerTemplate,this.markDisabled=this._config.markDisabled,this.maxDate=this._config.maxDate,this.minDate=this._config.minDate,this.navigation=this._config.navigation,this.outsideDays=this._config.outsideDays,this.showWeekNumbers=this._config.showWeekNumbers,this.startDate=this._config.startDate,this.weekdays=this._config.weekdays,this.navigate=new V,this.dateSelect=new V,this.onChange=r=>{},this.onTouched=()=>{};let n=F(jn);this._service.dateSelect$.pipe(Ip()).subscribe(r=>{this.dateSelect.emit(r)}),this._service.model$.pipe(Ip()).subscribe(r=>{let o=r.firstDate,s=this.model?this.model.firstDate:null;this._publicState={maxDate:r.maxDate,minDate:r.minDate,firstDate:r.firstDate,lastDate:r.lastDate,focusedDate:r.focusDate,months:r.months.map(d=>d.firstDate)};let a=!1;if(!o.equals(s)&&(this.navigate.emit({current:s?{year:s.year,month:s.month}:null,next:{year:o.year,month:o.month},preventDefault:()=>a=!0}),a&&s!==null)){this._service.open(s);return}let l=r.selectedDate,u=r.focusDate,c=this.model?this.model.focusDate:null;this.model=r,Zc(l,this._controlValue)&&(this._controlValue=l,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(l))),Zc(u,c)&&c&&r.focusVisible&&this.focus(),n.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}get i18n(){return this._i18n}focusDate(n){this._service.focus(gi.from(n))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(Tt(1)).subscribe(()=>this._nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]')?.focus())}navigateTo(n){this._service.open(gi.from(n?n.day?n:Ue(z({},n),{day:1}):null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{let n=kt(this._contentEl.nativeElement,"focusin"),r=kt(this._contentEl.nativeElement,"focusout");Sd(n,r).pipe(nt(o=>{let s=o.target,a=o.relatedTarget;return!(s?.classList.contains("ngb-dp-day")&&a?.classList.contains("ngb-dp-day")&&this._nativeElement.contains(s)&&this._nativeElement.contains(a))}),Ip(this._destroyRef)).subscribe(({type:o})=>this._ngZone.run(()=>this._service.set({focusVisible:o==="focusin"})))})}ngOnInit(){if(this.model===void 0){let n={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(r=>n[r]=this[r]),this._service.set(n),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(n){let r={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(o=>o in n).forEach(o=>r[o]=this[o]),this._service.set(r),"startDate"in n){let{currentValue:o,previousValue:s}=n.startDate;MG(s,o)&&this.navigateTo(this.startDate)}}onDateSelect(n){this._service.focus(n),this._service.select(n,{emitEvent:!0})}onNavigateDateSelect(n){this._service.open(n)}onNavigateEvent(n){switch(n){case uC.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case uC.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1));break}}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this._service.set({disabled:n})}writeValue(n){this._controlValue=gi.from(this._ngbDateAdapter.fromModel(n)),this._service.select(this._controlValue)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ce({type:e,selectors:[["ngb-datepicker"]],contentQueries:function(r,o,s){if(r&1&&on(s,Nee,7),r&2){let a;rt(a=ot())&&(o.contentTemplateFromContent=a.first)}},viewQuery:function(r,o){if(r&1&&(ni(UJ,7),ni(WJ,7)),r&2){let s;rt(s=ot())&&(o._defaultDayTemplate=s.first),rt(s=ot())&&(o._contentEl=s.first)}},hostVars:2,hostBindings:function(r,o){r&2&&it("disabled",o.model.disabled)},inputs:{contentTemplate:"contentTemplate",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[Bt([{provide:ea,useExisting:ai(()=>e),multi:!0},hT]),Vt,ye],decls:10,vars:9,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet","ngTemplateOutletContext","ngTemplateOutletInjector"],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],[1,"ngb-dp-month"],["class","ngb-dp-month-name"],[3,"month"],[1,"ngb-dp-month-name"],["class","ngb-dp-month"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(r,o){if(r&1&&(se(0,zJ,1,5,"ng-template",null,0,nh)(2,KJ,2,0,"ng-template",null,1,nh),b(4,"div",2),se(5,YJ,1,7,"ngb-datepicker-navigation",3),D(),b(6,"div",4,5),se(8,QJ,0,0,"ng-template",6),D(),se(9,ZJ,0,0,"ng-template",7)),r&2){let s=ul(3);O(5),zt(5,o.navigation!=="none"?5:-1),O(),it("ngb-dp-months",!o.contentTemplate),O(2),N("ngTemplateOutlet",o.contentTemplate||(o.contentTemplateFromContent==null?null:o.contentTemplateFromContent.templateRef)||s)("ngTemplateOutletContext",Br(7,XJ,o))("ngTemplateOutletInjector",o.injector),O(),N("ngTemplateOutlet",o.footerTemplate)}},dependencies:[oh,xee,Lee,Fee],styles:[`ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-tertiary-bg)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-tertiary-bg)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}
`],encapsulation:2,changeDetection:0});let i=e;return i})(),aC=(i,e)=>e?e.some(t=>t.contains(i)):!1,wG=(i,e)=>!e||pee(i,e)!=null,kee=(()=>{let i=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(i()||e()):!1})(),Vee=i=>kee?()=>setTimeout(()=>i(),100):i;function Gee(i,e,t,n,r,o,s,a){t&&i.runOutsideAngular(Vee(()=>{let l=h=>{let p=h.target;return h.button===2||aC(p,s)?!1:t==="inside"?aC(p,o)&&wG(p,a):t==="outside"?!aC(p,o):wG(p,a)||!aC(p,o)},u=kt(e,"keydown").pipe(_t(r),nt(h=>h.which===fi.Escape),Pt(h=>h.preventDefault())),c=kt(e,"mousedown").pipe(_e(l),_t(r)),d=kt(e,"mouseup").pipe(Rd(c),nt(([h,p])=>p),sw(0),_t(r));Sg([u.pipe(_e(h=>0)),d.pipe(_e(h=>1))]).subscribe(h=>i.run(()=>n(h)))}))}var Hee=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function PG(i){let e=Array.from(i.querySelectorAll(Hee)).filter(t=>t.tabIndex!==-1);return[e[0],e[e.length-1]]}var FG=(i,e,t,n=!1)=>{i.runOutsideAngular(()=>{let r=kt(e,"focusin").pipe(_t(t),_e(o=>o.target));kt(e,"keydown").pipe(_t(t),nt(o=>o.which===fi.Tab),Rd(r)).subscribe(([o,s])=>{let[a,l]=PG(e);(s===a||s===e)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),n&&kt(e,"click").pipe(_t(t),Rd(r),_e(o=>o[1])).subscribe(o=>o.focus())})},Bee=(()=>{let e=class e{constructor(){this._element=F(ge).documentElement}isRTL(){return(this._element.getAttribute("dir")||"").toLowerCase()==="rtl"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),jee=/\s+/,Uee=/  +/gi,Wee={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]};function zee(i,e){let[t,n]=Wee[i];return e&&n||t}var $ee=/^left/,qee=/^right/,Kee=/^start/,Yee=/^end/;function Qee(i,e){let[t,n]=e.split("-"),r=t.replace($ee,"start").replace(qee,"end"),o=[r];if(n){let s=n;(t==="left"||t==="right")&&(s=s.replace(Kee,"top").replace(Yee,"bottom")),o.push(`${r}-${s}`)}return i&&(o=o.map(s=>`${i}-${s}`)),o.join(" ")}function SG({placement:i,baseClass:e},t){let n=Array.isArray(i)?i:i.split(jee),r=["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"],o=n.findIndex(u=>u==="auto");o>=0&&r.forEach(function(u){n.find(c=>c.search("^"+u)!==-1)==null&&n.splice(o++,1,u)});let s=n.map(u=>zee(u,t.isRTL()));return{placement:s.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!e,phase:"write",fn({state:u}){let c=new RegExp(e+"(-[a-z]+)*","gi"),d=u.elements.popper,h=u.placement,p=d.className;p=p.replace(c,""),p+=` ${Qee(e,h)}`,p=p.trim().replace(Uee," "),d.className=p}},JR,nT,KR,{enabled:!0,name:"flip",options:{fallbackPlacements:s}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function EG(i){return i}function Zee(){let i=F(Bee),e=null;return{createPopper(t){if(!e){let r=(t.updatePopperOptions||EG)(SG(t,i));e=uT(t.hostElement,t.targetElement,r)}},update(){e&&e.update()},setOptions(t){if(e){let r=(t.updatePopperOptions||EG)(SG(t,i));e.setOptions(r)}},destroy(){e&&(e.destroy(),e=null)}}}function Xee(){return new Jee}var NG=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>Xee(),providedIn:"root"});let i=e;return i})(),Jee=(()=>{let e=class e extends NG{parse(n){if(n!=null){let r=n.trim().split("-");if(r.length===1&&cn(r[0]))return{year:Ln(r[0]),month:null,day:null};if(r.length===2&&cn(r[0])&&cn(r[1]))return{year:Ln(r[0]),month:Ln(r[1]),day:null};if(r.length===3&&cn(r[0])&&cn(r[1])&&cn(r[2]))return{year:Ln(r[0]),month:Ln(r[1]),day:Ln(r[2])}}return null}format(n){return n?`${n.year}-${cn(n.month)?Qc(n.month):""}-${cn(n.day)?Qc(n.day):""}`:""}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=nn(e)))(o||e)}})(),e.\u0275prov=k({token:e,factory:e.\u0275fac});let i=e;return i})(),bG=(()=>{let e=class e extends gT{constructor(){super(...arguments),this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=n=>n,this.restoreFocus=!0}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=nn(e)))(o||e)}})(),e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function ete(i){return e=>(e.modifiers.push(eT,{name:"offset",options:{offset:()=>i}}),e)}var LG=(()=>{let e=class e{constructor(){this._parserFormatter=F(NG),this._elRef=F(Ge),this._vcRef=F(Mn),this._ngZone=F(fe),this._calendar=F(hC),this._dateAdapter=F(vT),this._document=F(ge),this._changeDetector=F(jn),this._config=F(bG),this._cRef=null,this._disabled=!1,this._elWithFocus=null,this._model=null,this._positioning=Zee(),this._destroyCloseHandlers$=new me,this.autoClose=this._config.autoClose,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.container=this._config.container,this.positionTarget=this._config.positionTarget,this.dateSelect=new V,this.navigate=new V,this.closed=new V,this._onChange=n=>{},this._onTouched=()=>{},this._validatorChange=()=>{}}get disabled(){return this._disabled}set disabled(n){this._disabled=n===""||n&&n!=="false",this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}registerOnChange(n){this._onChange=n}registerOnTouched(n){this._onTouched=n}registerOnValidatorChange(n){this._validatorChange=n}setDisabledState(n){this.disabled=n}validate(n){let{value:r}=n;if(r!=null){let o=this._fromDateStruct(this._dateAdapter.fromModel(r));if(!o)return{ngbDate:{invalid:r}};if(this.minDate&&o.before(gi.from(this.minDate)))return{ngbDate:{minDate:{minDate:this.minDate,actual:r}}};if(this.maxDate&&o.after(gi.from(this.maxDate)))return{ngbDate:{maxDate:{maxDate:this.maxDate,actual:r}}}}return null}writeValue(n){this._model=this._fromDateStruct(this._dateAdapter.fromModel(n)),this._writeModelValue(this._model)}manualDateChange(n,r=!1){let o=n!==this._inputValue;o&&(this._inputValue=n,this._model=this._fromDateStruct(this._parserFormatter.parse(n))),(o||!r)&&this._onChange(this._model?this._dateAdapter.toModel(this._model):n===""?null:n),r&&this._model&&this._writeModelValue(this._model)}isOpen(){return!!this._cRef}open(){if(!this.isOpen()){this._cRef=this._vcRef.createComponent(xG),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(r=>{this.writeValue(r),this._onChange(r),this._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),this.container==="body"&&this._document.querySelector(this.container)?.appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,FG(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),setTimeout(()=>this._cRef?.instance.focus());let n;if(lC(this.positionTarget)?n=this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?n=this.positionTarget:n=this._elRef.nativeElement,this.positionTarget&&!n)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");this._ngZone.runOutsideAngular(()=>{this._cRef&&n&&(this._positioning.createPopper({hostElement:n,targetElement:this._cRef.location.nativeElement,placement:this.placement,appendToBody:this.container==="body",updatePopperOptions:r=>this.popperOptions(ete([0,2])(r))}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update()))}),this._setCloseHandlers()}}close(){if(this.isOpen()){this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.closed.emit(),this._changeDetector.markForCheck();let n=this._elWithFocus;lC(this.restoreFocus)?n=this._document.querySelector(this.restoreFocus):this.restoreFocus!==void 0&&(n=this.restoreFocus),n&&n.focus?n.focus():this._document.body.focus()}}toggle(){this.isOpen()?this.close():this.open()}navigateTo(n){this.isOpen()&&this._cRef.instance.navigateTo(n)}onBlur(){this._onTouched()}onFocus(){this._elWithFocus=this._elRef.nativeElement}ngOnChanges(n){if((n.minDate||n.maxDate)&&(this._validatorChange(),this.isOpen()&&(n.minDate&&this._cRef.setInput("minDate",this.minDate),n.maxDate&&this._cRef.setInput("maxDate",this.maxDate))),n.datepickerClass){let{currentValue:r,previousValue:o}=n.datepickerClass;this._applyPopupClass(r,o)}n.autoClose&&this.isOpen()&&this._setCloseHandlers()}ngOnDestroy(){this.close()}_applyDatepickerInputs(n){["contentTemplate","dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekNumbers","weekdays"].forEach(r=>{this[r]!==void 0&&n.setInput(r,this[r])}),n.setInput("startDate",this.startDate||this._model)}_applyPopupClass(n,r){let o=this._cRef?.location.nativeElement;o&&(n&&o.classList.add(n),r&&o.classList.remove(r))}_applyPopupStyling(n){n.classList.add("dropdown-menu","show"),this.container==="body"&&n.classList.add("ngb-dp-body"),this._applyPopupClass(this.datepickerClass)}_subscribeForDatepickerOutputs(n){n.navigate.subscribe(r=>this.navigate.emit(r)),n.dateSelect.subscribe(r=>{this.dateSelect.emit(r),(this.autoClose===!0||this.autoClose==="inside")&&this.close()})}_writeModelValue(n){let r=this._parserFormatter.format(n);this._inputValue=r,this._elRef.nativeElement.value=r,this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(n)),this._onTouched())}_fromDateStruct(n){let r=n?new gi(n.year,n.month,n.day):null;return this._calendar.isValid(r)?r:null}_setCloseHandlers(){this._destroyCloseHandlers$.next(),Gee(this._ngZone,this._document,this.autoClose,()=>this.close(),this._destroyCloseHandlers$,[],[this._elRef.nativeElement,this._cRef.location.nativeElement])}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ze({type:e,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(r,o){r&1&&Q("input",function(a){return o.manualDateChange(a.target.value)})("change",function(a){return o.manualDateChange(a.target.value,!0)})("focus",function(){return o.onFocus()})("blur",function(){return o.onBlur()}),r&2&&FE("disabled",o.disabled)},inputs:{autoClose:"autoClose",contentTemplate:"contentTemplate",datepickerClass:"datepickerClass",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",popperOptions:"popperOptions",restoreFocus:"restoreFocus",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget",weekdays:"weekdays",disabled:"disabled"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],standalone:!0,features:[Bt([{provide:ea,useExisting:ai(()=>e),multi:!0},{provide:Vh,useExisting:ai(()=>e),multi:!0},{provide:gT,useExisting:bG}]),Vt]});let i=e;return i})();var pIe=new Date(1882,10,12),fIe=new Date(2174,10,25);var gIe=1e3*60*60*24;var mT=1080,tte=24*mT,nte=12*mT+793,vIe=29*tte+nte,mIe=11*mT+204;var pC=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=De({});let i=e;return i})();var kG=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=De({});let i=e;return i})(),ite=(()=>{let e=class e{constructor(){this._ngbConfig=F(cee),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(n){this._animation=n}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Xc=class{constructor(e,t,n){this.nodes=e,this.viewRef=t,this.componentRef=n}};var rte=(()=>{let e=class e{constructor(){this._document=F(ge)}hide(){let n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,o=r.style,{overflow:s,paddingRight:a}=o;if(n>0){let l=parseFloat(window.getComputedStyle(r).paddingRight);o.paddingRight=`${l+n}px`}return o.overflow="hidden",()=>{n>0&&(o.paddingRight=a),o.overflow=s}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),ote=(()=>{let e=class e{constructor(){this._nativeElement=F(Ge).nativeElement,this._zone=F(fe)}ngOnInit(){this._zone.onStable.asObservable().pipe(Tt(1)).subscribe(()=>{$l(this._zone,this._nativeElement,(n,r)=>{r&&RG(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return $l(this._zone,this._nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ce({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,o){r&2&&(rn("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),it("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[ye],decls:0,vars:0,template:function(r,o){},encapsulation:2});let i=e;return i})(),cC=class{update(e){}close(e){}dismiss(e){}},ste=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],ate=["animation","backdropClass"],pT=class{_applyWindowOptions(e,t){ste.forEach(n=>{dT(t[n])&&(e[n]=t[n])})}_applyBackdropOptions(e,t){ate.forEach(n=>{dT(t[n])&&(e[n]=t[n])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(_t(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(_t(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,t,n,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new me,this._dismissed=new me,this._hidden=new me,e.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(e);else{let t=this._beforeDismiss();hee(t)?t.then(n=>{n!==!1&&this._dismiss(e)},()=>{}):t!==!1&&this._dismiss(e)}}_removeModalElements(){let e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():le(void 0);e.subscribe(()=>{let{nativeElement:n}=this._windowCmptRef.location;n.parentNode.removeChild(n),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:n}=this._backdropCmptRef.location;n.parentNode.removeChild(n),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ed(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},fT=function(i){return i[i.BACKDROP_CLICK=0]="BACKDROP_CLICK",i[i.ESC=1]="ESC",i}(fT||{}),lte=(()=>{let e=class e{constructor(){this._document=F(ge),this._elRef=F(Ge),this._zone=F(fe),this._closed$=new me,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new V,this.shown=new me,this.hidden=new me}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":lC(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Tt(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:n}=this._elRef,r={animation:this.animation,runningTransition:"stop"},o=$l(this._zone,n,()=>n.classList.remove("show"),r),s=$l(this._zone,this._dialogEl.nativeElement,()=>{},r),a=Ed(o,s);return a.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),a}_show(){let n={animation:this.animation,runningTransition:"continue"},r=$l(this._zone,this._elRef.nativeElement,(s,a)=>{a&&RG(s),s.classList.add("show")},n),o=$l(this._zone,this._dialogEl.nativeElement,()=>{},n);Ed(r,o).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{kt(n,"keydown").pipe(_t(this._closed$),nt(o=>o.which===fi.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(fT.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let r=!1;kt(this._dialogEl.nativeElement,"mousedown").pipe(_t(this._closed$),Pt(()=>r=!1),An(()=>kt(n,"mouseup").pipe(_t(this._closed$),Tt(1))),nt(({target:o})=>n===o)).subscribe(()=>{r=!0}),kt(n,"click").pipe(_t(this._closed$)).subscribe(({target:o})=>{n===o&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!r&&this._zone.run(()=>this.dismiss(fT.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){let r=n.querySelector("[ngbAutofocus]"),o=PG(n)[0];(r||o||n).focus()}}_restoreFocus(){let n=this._document.body,r=this._elWithFocus,o;r&&r.focus&&n.contains(r)?o=r:o=n,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&$l(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ce({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(r,o){if(r&1&&ni(JJ,7),r&2){let s;rt(s=ot())&&(o._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,o){r&2&&(ti("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy),rn("modal d-block"+(o.windowClass?" "+o.windowClass:"")),it("fade",o.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[ye],ngContentSelectors:EJ,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(r,o){r&1&&(Jd(),b(0,"div",0,1)(2,"div",2),eh(3),D()()),r&2&&rn("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+o.fullscreenClass+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2});let i=e;return i})(),ute=(()=>{let e=class e{constructor(){this._applicationRef=F(Un),this._injector=F(gt),this._environmentInjector=F(Cn),this._document=F(ge),this._scrollBar=F(rte),this._activeWindowCmptHasChanged=new me,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new V;let n=F(fe);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let r=this._windowCmpts[this._windowCmpts.length-1];FG(n,r.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(r.location.nativeElement)}})}_restoreScrollBar(){let n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,r,o){let s=o.container instanceof HTMLElement?o.container:dT(o.container)?this._document.querySelector(o.container):this._document.body;if(!s)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let a=new cC;n=o.injector||n;let l=n.get(Cn,null)||this._environmentInjector,u=this._getContentRef(n,l,r,a,o),c=o.backdrop!==!1?this._attachBackdrop(s):void 0,d=this._attachWindowComponent(s,u.nodes),h=new pT(d,u,c,o.beforeDismiss);return this._registerModalRef(h),this._registerWindowCmpt(d),h.hidden.pipe(Tt(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=p=>{h.close(p)},a.dismiss=p=>{h.dismiss(p)},a.update=p=>{h.update(p)},h.update(o),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),c&&c.instance&&c.changeDetectorRef.detectChanges(),d.changeDetectorRef.detectChanges(),h}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(r=>r.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let r=Gv(ote,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),n.appendChild(r.location.nativeElement),r}_attachWindowComponent(n,r){let o=Gv(lte,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(o.hostView),n.appendChild(o.location.nativeElement),o}_getContentRef(n,r,o,s,a){return o?o instanceof Xn?this._createFromTemplateRef(o,s):lC(o)?this._createFromString(o):this._createFromComponent(n,r,o,s,a):new Xc([])}_createFromTemplateRef(n,r){let o={$implicit:r,close(a){r.close(a)},dismiss(a){r.dismiss(a)}},s=n.createEmbeddedView(o);return this._applicationRef.attachView(s),new Xc([s.rootNodes],s)}_createFromString(n){let r=this._document.createTextNode(`${n}`);return new Xc([[r]])}_createFromComponent(n,r,o,s,a){let l=gt.create({providers:[{provide:cC,useValue:s}],parent:n}),u=Gv(o,{environmentInjector:r,elementInjector:l}),c=u.location.nativeElement;return a.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new Xc([[c]],u.hostView,u)}_setAriaHidden(n){let r=n.parentElement;r&&n!==this._document.body&&(Array.from(r.children).forEach(o=>{o!==n&&o.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,r)=>{n?r.setAttribute("aria-hidden",n):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){let r=()=>{let o=this._modalRefs.indexOf(n);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(r,r)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{let r=this._windowCmpts.indexOf(n);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),cte=(()=>{let e=class e{constructor(){this._injector=F(gt),this._modalStack=F(ute),this._config=F(ite)}open(n,r={}){let o=z(Ue(z({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._injector,n,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),VG=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=De({providers:[cte]});let i=e;return i})();var GG=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=De({});let i=e;return i})();var HG=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=De({});let i=e;return i})();var BG=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=De({});let i=e;return i})();var jG=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=De({});let i=e;return i})();var UG=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=De({});let i=e;return i})();var WG=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=De({});let i=e;return i})(),dC=class{constructor(e,t,n){this.hour=Ln(e),this.minute=Ln(t),this.second=Ln(n)}changeHour(e=1){this.updateHour((isNaN(this.hour)?0:this.hour)+e)}updateHour(e){cn(e)?this.hour=(e<0?24+e:e)%24:this.hour=NaN}changeMinute(e=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+e)}updateMinute(e){cn(e)?(this.minute=e%60<0?60+e%60:e%60,this.changeHour(Math.floor(e/60))):this.minute=NaN}changeSecond(e=1){this.updateSecond((isNaN(this.second)?0:this.second)+e)}updateSecond(e){cn(e)?(this.second=e<0?60+e%60:e%60,this.changeMinute(Math.floor(e/60))):this.second=NaN}isValid(e=!0){return cn(this.hour)&&cn(this.minute)&&(e?cn(this.second):!0)}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}},dte=(()=>{let e=class e{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function hte(){return new pte}var zG=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>hte(),providedIn:"root"});let i=e;return i})(),pte=(()=>{let e=class e extends zG{fromModel(n){return n&&Lt(n.hour)&&Lt(n.minute)?{hour:n.hour,minute:n.minute,second:Lt(n.second)?n.second:null}:null}toModel(n){return n&&Lt(n.hour)&&Lt(n.minute)?{hour:n.hour,minute:n.minute,second:Lt(n.second)?n.second:null}:null}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=nn(e)))(o||e)}})(),e.\u0275prov=k({token:e,factory:e.\u0275fac});let i=e;return i})(),$G=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>new fte,providedIn:"root"});let i=e;return i})(),fte=(()=>{let e=class e extends $G{constructor(){super(...arguments),this._periods=QE(F(tc),Qt.Standalone,Qe.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=nn(e)))(o||e)}})(),e.\u0275prov=k({token:e,factory:e.\u0275fac});let i=e;return i})(),gte=/[^0-9]/g,qG=(()=>{let e=class e{set hourStep(n){this._hourStep=Lt(n)?n:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(n){this._minuteStep=Lt(n)?n:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(n){this._secondStep=Lt(n)?n:this._config.secondStep}get secondStep(){return this._secondStep}constructor(n,r,o,s){this._config=n,this._ngbTimeAdapter=r,this._cd=o,this.i18n=s,this.onChange=a=>{},this.onTouched=()=>{},this.meridian=n.meridian,this.spinners=n.spinners,this.seconds=n.seconds,this.hourStep=n.hourStep,this.minuteStep=n.minuteStep,this.secondStep=n.secondStep,this.disabled=n.disabled,this.readonlyInputs=n.readonlyInputs,this.size=n.size}writeValue(n){let r=this._ngbTimeAdapter.fromModel(n);this.model=r?new dC(r.hour,r.minute,r.second):new dC,!this.seconds&&(!r||!cn(r.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.disabled=n}changeHour(n){this.model?.changeHour(n),this.propagateModelChange()}changeMinute(n){this.model?.changeMinute(n),this.propagateModelChange()}changeSecond(n){this.model?.changeSecond(n),this.propagateModelChange()}updateHour(n){let r=this.model?this.model.hour>=12:!1,o=Ln(n);this.meridian&&(r&&o<12||!r&&o===12)?this.model?.updateHour(o+12):this.model?.updateHour(o),this.propagateModelChange()}updateMinute(n){this.model?.updateMinute(Ln(n)),this.propagateModelChange()}updateSecond(n){this.model?.updateSecond(Ln(n)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(n){n.value=n.value.replace(gte,"")}formatHour(n){return cn(n)?this.meridian?Qc(n%12===0?12:n%12):Qc(n%24):Qc(NaN)}formatMinSec(n){return Qc(cn(n)?n:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return this.size==="small"}get isLargeSize(){return this.size==="large"}ngOnChanges(n){n.seconds&&!this.seconds&&this.model&&!cn(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(n=!0){n&&this.onTouched(),this.model?.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}};e.\u0275fac=function(r){return new(r||e)(P(dte),P(zG),P(jn),P($G))},e.\u0275cmp=ce({type:e,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},exportAs:["ngbTimepicker"],standalone:!0,features:[Bt([{provide:ea,useExisting:ai(()=>e),multi:!0}]),Vt,ye],decls:14,vars:23,consts:()=>{let n;n=$localize`:@@ngb.timepicker.HH:HH`;let r;r=$localize`:@@ngb.timepicker.hours:Hours`;let o;o=$localize`:@@ngb.timepicker.MM:MM`;let s;s=$localize`:@@ngb.timepicker.minutes:Minutes`;let a;a=$localize`:@@ngb.timepicker.increment-hours:Increment hours`;let l;l=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`;let u;u=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`;let c;c=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`;let d;d=$localize`:@@ngb.timepicker.SS:SS`;let h;h=$localize`:@@ngb.timepicker.seconds:Seconds`;let p;p=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`;let f;f=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`;let g;return g=$localize`:@@ngb.timepicker.PM:${"\uFFFD0\uFFFD"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled"],["type","text","maxlength","2","inputmode","numeric","placeholder",n,"aria-label",r,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",o,"aria-label",s,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],a,[1,"chevron","ngb-tp-chevron","bottom"],l,u,c,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",d,"aria-label",h,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],p,f,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],g]},template:function(r,o){r&1&&(b(0,"fieldset",0)(1,"div",1)(2,"div",2),se(3,eee,4,7,"button",3),b(4,"input",4),Q("change",function(a){return o.updateHour(a.target.value)})("blur",function(){return o.handleBlur()})("input",function(a){return o.formatInput(a.target)})("keydown.ArrowUp",function(a){return o.changeHour(o.hourStep),a.preventDefault()})("keydown.ArrowDown",function(a){return o.changeHour(-o.hourStep),a.preventDefault()}),D(),se(5,tee,4,7,"button",3),D(),b(6,"div",5),H(7,":"),D(),b(8,"div",6),se(9,nee,4,7,"button",3),b(10,"input",7),Q("change",function(a){return o.updateMinute(a.target.value)})("blur",function(){return o.handleBlur()})("input",function(a){return o.formatInput(a.target)})("keydown.ArrowUp",function(a){return o.changeMinute(o.minuteStep),a.preventDefault()})("keydown.ArrowDown",function(a){return o.changeMinute(-o.minuteStep),a.preventDefault()}),D(),se(11,iee,4,7,"button",3),D(),se(12,see,6,9)(13,uee,5,8),D()()),r&2&&(it("disabled",o.disabled),N("disabled",o.disabled),O(3),zt(3,o.spinners?3:-1),O(),it("form-control-sm",o.isSmallSize)("form-control-lg",o.isLargeSize),N("value",o.formatHour(o.model==null?null:o.model.hour))("readOnly",o.readonlyInputs)("disabled",o.disabled),O(),zt(5,o.spinners?5:-1),O(4),zt(9,o.spinners?9:-1),O(),it("form-control-sm",o.isSmallSize)("form-control-lg",o.isLargeSize),N("value",o.formatMinSec(o.model==null?null:o.model.minute))("readOnly",o.readonlyInputs)("disabled",o.disabled),O(),zt(11,o.spinners?11:-1),O(),zt(12,o.seconds?12:-1),O(),zt(13,o.meridian?13:-1))},styles:[`ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}
`],encapsulation:2});let i=e;return i})(),fC=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=De({});let i=e;return i})();var KG=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=De({});let i=e;return i})();var YG=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=De({});let i=e;return i})();var yIe=new ie("live announcer delay",{providedIn:"root",factory:()=>100});var QG=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=De({});let i=e;return i})();var ZG=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=De({});let i=e;return i})(),vte=[TG,AG,OG,IG,pC,kG,VG,GG,ZG,HG,BG,jG,UG,WG,fC,KG,YG,QG],XG=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=De({imports:[vte,TG,AG,OG,IG,pC,kG,VG,GG,ZG,HG,BG,jG,UG,WG,fC,KG,YG,QG]});let i=e;return i})();var JG=(i,e)=>({"btn-success":i,"btn-danger":e}),eH=(()=>{let e=class e{constructor(n){this.modalRefConfirmationModal=n}onYesButtonClick(){this.confirmationInfo.realise=!0,this.modalRefConfirmationModal.close(this.confirmationInfo)}onNoButtonClick(){this.confirmationInfo.realise=!1,this.modalRefConfirmationModal.close(this.confirmationInfo)}};e.\u0275fac=function(r){return new(r||e)(P(Mo))},e.\u0275cmp=ce({type:e,selectors:[["app-confirmation-modal"]],standalone:!0,features:[ye],decls:11,vars:10,consts:[[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn",3,"ngClass","click"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"h5",1),H(2),D(),b(3,"button",2),Q("click",function(){return o.modalRefConfirmationModal.close()}),D()(),b(4,"div",3),H(5),D(),b(6,"div",4)(7,"button",5),Q("click",function(){return o.onNoButtonClick()}),H(8,"No"),D(),b(9,"button",5),Q("click",function(){return o.onYesButtonClick()}),H(10,"Yes"),D()()),r&2&&(O(2),Nt(o.confirmationInfo.title),O(3),Nt(o.confirmationInfo.question),O(2),N("ngClass",Nv(4,JG,o.confirmationInfo.action==="Cancel",o.confirmationInfo.action==="Approve")),O(2),N("ngClass",Nv(7,JG,o.confirmationInfo.action==="Approve",o.confirmationInfo.action==="Cancel")))},dependencies:[st,qs]});let i=e;return i})();function yte(i,e){i&1&&(b(0,"h5",28),H(1,"Book an Appointment"),D())}function Cte(i,e){i&1&&(b(0,"h5",28),H(1,"Edit Appointment"),D())}function _te(i,e){if(i&1){let t=At();b(0,"button",29),Q("click",function(){Me(t);let r=K();return xe(r.openCancel())}),H(1," Cancel the Appointment "),D()}}function wte(i,e){if(i&1){let t=At();b(0,"button",30),Q("click",function(){Me(t);let r=K();return xe(r.openApprove())}),H(1," Approve the Appointment "),D()}}var tH=(()=>{let e=class e{constructor(n,r,o){this.modalRef=n,this.toastr=r,this.modalService=o,this.isEdit=!1,this.appointments=[],this.startDateModel={year:0,month:0,day:0},this.endDateModel={year:0,month:0,day:0},this.startTime={},this.endTime={},this.modalRefConfirmation=null,this.approveMessage="Are you sure you want to approve the appointment?"}ngOnInit(){this.formatDateStruct(new Date(this.appointmentInfo.start),this.startDateModel),this.formatDateStruct(new Date(this.appointmentInfo.end),this.endDateModel),this.formatTime(new Date(this.appointmentInfo.start),this.startTime),this.formatTime(new Date(this.appointmentInfo.end),this.endTime)}formatDateStruct(n,r){r.day=n.getDate(),r.month=n.getMonth()+1,r.year=n.getFullYear()}formatTime(n,r){r.hour=n.getHours(),r.minute=n.getMinutes()}formatDate(n,r){let o=new Date;return o.setDate(n.day),o.setMonth(n.month-1),o.setFullYear(n.year),o.setHours(r.hour),o.setMinutes(r.minute),o.setSeconds(0),o.setMilliseconds(0),o}formatDateWithoutTime(n){let r=new Date;return r.setDate(n.day),r.setMonth(n.month-1),r.setFullYear(n.year),r}saveClicked(){pt.getLoginToken().roleType==_n.Doctor?this.save():pt.getLoginToken().roleType==_n.Cardiolog&&!this.appointmentInfo.id?this.openApprove("Would you like to approve the newly created appointment?"):pt.getLoginToken().roleType==_n.Cardiolog&&this.appointmentInfo.id&&this.save()}save(){this.appointmentInfo.start=this.formatDate(this.startDateModel,this.startTime),this.appointmentInfo.end=this.formatDate(this.endDateModel,this.endTime),this.validateDates()&&this.validateAppointments()&&(this.appointmentInfo.start.setHours(this.appointmentInfo.start.getHours()+1),this.appointmentInfo.end.setHours(this.appointmentInfo.end.getHours()+1),this.modalRef.close(this.appointmentInfo))}validateDates(){return this.formatDate(this.startDateModel,this.startTime).getTime()>this.formatDate(this.endDateModel,this.endTime).getTime()?(this.toastr.error("The start time of the appointment must be greater than the end time!"),!1):this.formatDate(this.startDateModel,this.startTime).getTime()==this.formatDate(this.endDateModel,this.endTime).getTime()?(this.toastr.error("The start and end times of the appointment cannot be the same!"),!1):this.formatDateWithoutTime(this.startDateModel).getTime()!=this.formatDateWithoutTime(this.endDateModel).getTime()?(this.toastr.error("Appointment should be completed in one day and should not extend to the following days!"),!1):!0}validateAppointments(){return this.appointments.find(r=>(this.appointmentInfo.start.getTime()>=new Date(r.start).getTime()&&this.appointmentInfo.start.getTime()<new Date(r.end).getTime()||this.appointmentInfo.end.getTime()>new Date(r.start).getTime()&&this.appointmentInfo.end.getTime()<=new Date(r.end).getTime()||new Date(r.start).getTime()>=this.appointmentInfo.start.getTime()&&new Date(r.start).getTime()<this.appointmentInfo.end.getTime()||new Date(r.end).getTime()>this.appointmentInfo.start.getTime()&&new Date(r.end).getTime()<=this.appointmentInfo.end.getTime())&&r.cardiologistId===this.appointmentInfo.cardiologistId&&r.id!=this.appointmentInfo.id)?(this.toastr.error("The selected appointment slot is already taken or overlaps with an existing one!"),!1):!0}isVisibleApprove(){return this.isVisible()&&!this.appointmentInfo.approved&&this.appointmentInfo.id}isVisibleCancel(){return this.isVisible()&&this.appointmentInfo.id}isVisible(){return pt.getLoginToken().roleType==_n.Cardiolog}openApprove(n=this.approveMessage){let r={title:"Approve the Appointment",question:n,action:"Approve",realise:!1};this.openConfirmationModal(r)}openCancel(){let n={title:"Cancel the Appointment",question:"Are you sure you want to cancel the appointment?",action:"Cancel",realise:!1};this.openConfirmationModal(n)}approve(){this.appointmentInfo.approved=!0,this.save()}cancel(){this.appointmentInfo.delete=!0,this.modalRef.close(this.appointmentInfo)}openConfirmationModal(n){this.modalRefConfirmation=this.modalService.open(eH,{modalClass:"modal-sm",data:{confirmationInfo:n}}),this.modalRefConfirmation.onClose.subscribe(r=>{r&&r.realise&&r.action==="Approve"?this.approve():r&&!r.realise&&r.action==="Approve"?this.save():r&&r.realise&&r.action==="Cancel"&&this.cancel()})}};e.\u0275fac=function(r){return new(r||e)(P(Mo),P(ci),P(Cr))},e.\u0275cmp=ce({type:e,selectors:[["app-new-appointment"]],standalone:!0,features:[Bt([Cr]),ye],decls:37,vars:13,consts:[[1,"modal-header"],["class","modal-title","id","exampleModalLabel",4,"ngIf"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"form-material","form-horizontal"],[1,"form-group","col-md-12","d-flex"],[1,"far","fa-edit","m-r-10","align-self-center"],["type","text","id","title","name","title","placeholder","Add title","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-1","align-self-center"],[1,"col-md-2"],["type","text","id","patientName","name","patientName","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"far","fa-clock","m-r-10","align-self-center"],["name","startDateModel","placeholder","Start date","ngbDatepicker","",1,"form-control","align-self-center",3,"ngModel","ngModelChange"],["dpstart","ngbDatepicker"],["type","button",1,"btn","btn-outline-secondary","align-self-center",3,"click"],[1,"far","fa-calendar"],["name","startTime",3,"ngModel","meridian","ngModelChange"],["name","endDateModel","placeholder","End date","ngbDatepicker","",1,"form-control","align-self-center",2,"margin-left","10px",3,"ngModel","ngModelChange"],["dpend","ngbDatepicker"],["name","endTime",3,"ngModel","meridian","ngModelChange"],[1,"form-group"],[1,"col-md-12"],["name","description","rows","3",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],["id","exampleModalLabel",1,"modal-title"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-success",3,"click"]],template:function(r,o){if(r&1){let s=At();b(0,"div",0),se(1,yte,2,0,"h5",1)(2,Cte,2,0,"h5",1),b(3,"button",2),Q("click",function(){return o.modalRef.close()}),D()(),b(4,"div",3)(5,"form",4)(6,"div",5),ne(7,"i",6),b(8,"input",7),Q("ngModelChange",function(l){return o.appointmentInfo.title=l}),D(),b(9,"label",8),H(10,"Patient:"),D(),b(11,"div",9)(12,"input",10),Q("ngModelChange",function(l){return o.appointmentInfo.patientName=l}),D()()(),b(13,"div",5),ne(14,"i",11),b(15,"input",12,13),Q("ngModelChange",function(l){return o.startDateModel=l}),D(),b(17,"button",14),Q("click",function(){Me(s);let l=ul(16);return xe(l.toggle())}),ne(18,"i",15),D(),b(19,"ngb-timepicker",16),Q("ngModelChange",function(l){return o.startTime=l}),D(),b(20,"input",17,18),Q("ngModelChange",function(l){return o.endDateModel=l}),D(),b(22,"button",14),Q("click",function(){Me(s);let l=ul(21);return xe(l.toggle())}),ne(23,"i",15),D(),b(24,"ngb-timepicker",19),Q("ngModelChange",function(l){return o.endTime=l}),D()(),b(25,"div",20)(26,"label",21),H(27,"Description"),D(),b(28,"div",21)(29,"textarea",22),Q("ngModelChange",function(l){return o.appointmentInfo.description=l}),D()()()()(),b(30,"div",23)(31,"button",24),Q("click",function(){return o.modalRef.close()}),H(32," Close "),D(),se(33,_te,2,0,"button",25)(34,wte,2,0,"button",26),b(35,"button",27),Q("click",function(){return o.saveClicked()}),H(36,"Save"),D()()}r&2&&(O(),N("ngIf",!o.isEdit),O(),N("ngIf",o.isEdit),O(6),N("ngModel",o.appointmentInfo.title),O(4),N("ngModel",o.appointmentInfo.patientName),O(3),N("ngModel",o.startDateModel),O(4),N("ngModel",o.startTime)("meridian",!0),O(),N("ngModel",o.endDateModel),O(4),N("ngModel",o.endTime)("meridian",!0),O(5),N("ngModel",o.appointmentInfo.description),O(4),N("ngIf",o.isVisibleCancel()),O(),N("ngIf",o.isVisibleApprove()))},dependencies:[st,Li,yc,vc,ta,mc,cs,us,gl,XG,LG,qG,pC,fC]});let i=e;return i})();var nH=(()=>{let e=class e{constructor(){this.api={appointments:"/appointments",appointment:"/appointment"}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Er=(()=>{let e=class e{constructor(){this.api={patients:"/patients"}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Ca=class{constructor(){this.trestBps=1,this.chol=1,this.fbs=1,this.oldPeak=1,this.slope=1,this.ca=0,this.thal=0}};var xo=(()=>{let e=class e{constructor(){this.predictionRequest=new Ca,this.cpOptions=[{value:1,label:"typical angina"},{value:2,label:"atypical angina"},{value:3,label:"non-anginal pain"},{value:4,label:"asymptomatic"}],this.restEcgOptions=[{value:0,label:"normal"},{value:1,label:"having ST-T wave abnormality"},{value:2,label:"showing probable or definite left ventricular hypertrophy by Estes' criteria"}],this.thal=[{value:0,label:"No"},{value:1,label:"Yes"}],this.trestBps=[{value:1,label:"Optimal pressure (< 120/80 mmHg)"},{value:2,label:"Normal pressure (120/80 mmHg)"},{value:3,label:"Normal high blood pressure (130-139/85-89 mmHg)"},{value:4,label:"Stage 1 hypertension (mild) (140-159/90-99 mmHg)"},{value:5,label:"Stage 2 hypertension (moderate) (160-170/100-109 mmHg)"},{value:6,label:"Stage 3 hypertension (severe) (> 180/110 mmHg)"},{value:7,label:"Isolated systolic hypertension (> 140/ < 90 mmHg)"}],this.thalachOptions=[{value:3,label:"normal (60 - 100 beats per minute)"},{value:6,label:"Increased (Tachycardia) (> 100 beats per minute) "},{value:7,label:"Decreased (Bradycardia) (< 60 beats per minute)"}],this.api={predict:"/predict",openAiPredict:"/open-ai-predict",predictionResult:"/prediction-result"}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Ete(i,e){if(i&1&&(b(0,"i"),H(1),D()),i&2){let t=K().$implicit;O(),Nt(t.event.title)}}function bte(i,e){if(i&1&&(b(0,"b"),H(1),D(),se(2,Ete,2,1,"i",3)),i&2){let t=e.$implicit;O(),Nt(t.timeText),O(),N("ngIf",t.event&&t.event.title!==void 0)}}function Dte(i,e){if(i&1&&(b(0,"full-calendar",1),se(1,bte,3,2,"ng-template",null,2,nh),D()),i&2){let t=K();N("options",t.calendarOptions())}}var Vp=(()=>{let e=class e{constructor(n,r,o,s,a,l,u){this.changeDetector=n,this.calendarService=r,this.httpClient=o,this.toastr=s,this.patientService=a,this.aiPredictionService=l,this.modalService=u,this.appointments=[],this.calendarVisible=!1,this.calendarOptions=this.initCalendar(),this.currentEvents=Dv([]),this.roleType=pt.getLoginToken().roleType,this.modalRef=null,this.currentEventsArray=[]}ngOnChanges(n){this.getAppointments(),this.calendarVisible=!0}getAppointments(){this.cardiologistId&&this.httpClient.get(vt.serverAddress+this.calendarService.api.appointments+`\\${this.cardiologistId}`).subscribe(n=>{this.appointments=n,this.calendarOptions=this.initCalendar()})}getAppointmentById(n){this.cardiologistId&&this.httpClient.get(vt.serverAddress+this.calendarService.api.appointment+`\\${n}`).subscribe(r=>{r.approved&&this.roleType==_n.Doctor?this.toastr.warning("You cannot edit an appointment that has been approved by the cardiologist!"):(this.appointment=r,this.getPatient(this.appointment.patientId,n))})}getPatient(n,r){this.httpClient.get(vt.serverAddress+this.patientService.api.patients+"/"+n).subscribe(o=>{this.editPatient=o;let s={id:r,title:`${this.editPatient?.firstName} ${this.editPatient?.lastName}`,patientName:`${this.editPatient?.firstName} ${this.editPatient?.lastName}`,patientId:this.editPatient?.id,start:this.appointment.start,end:this.appointment.end,allDay:this.appointment.allDay,cardiologistId:this.cardiologistId,description:this.appointment.description,approve:!1,delete:!1,approved:this.appointment.approved};this.openModal(s,!0)})}handleDateSelect(n){let r={title:`${this.patient?.firstName} ${this.patient?.lastName}`,patientName:`${this.patient?.firstName} ${this.patient?.lastName}`,patientId:this.patient?.id,start:n.startStr,end:n.endStr,allDay:n.allDay,cardiologistId:this.cardiologistId,approve:!1,delete:!1,approved:!1};this.openModal(r)}openModal(n,r=!1){this.modalRef=this.modalService.open(tH,{modalClass:"modal-xl",data:{appointmentInfo:n,appointments:this.appointments,isEdit:r}}),this.modalRef.onClose.subscribe(o=>{o&&(o.delete&&r?this.deleteAppointment(o.id):(r||this.createOrUpdateAppointment(o),r&&this.createOrUpdateAppointment(o,!0)))})}createOrUpdateAppointment(n,r=!1){if(!n)return;let o={id:n.id,title:n.title,start:new Date(n.start),end:new Date(n.end),allDay:n.allDay,cardiologistId:n.cardiologistId,patientId:n.patientId,description:n.description,approved:n.approved},s=r?this.calendarService.api.appointment:this.calendarService.api.appointments;this.httpClient.put(vt.serverAddress+s,o).subscribe(a=>{r?this.toastr.success("Successfully updated the appointment!"):this.toastr.success("Successfully booked an appointment!"),this.getAppointments(),this.roleType==_n.Doctor&&!r&&this.createPredictionResult()})}createPredictionResult(){let n=new qy(this.aiPredictionService.predictionRequest);n.patientId=this.patient.id,n.houseDoctorId=pt.getLoginToken().userId,n.cardiologistId=this.cardiologistId,n.label=Math.round(this.aiPredictionService.prediction),this.httpClient.put(vt.serverAddress+this.aiPredictionService.api.predictionResult,n).subscribe(r=>{this.toastr.success("The created prediction has been stored in the Archive!")})}deleteAppointment(n){this.cardiologistId&&this.httpClient.delete(vt.serverAddress+this.calendarService.api.appointments+"/"+n).subscribe(r=>{this.toastr.success("Successfully deleted an appointment!"),this.getAppointments()})}handleEventClick(n){this.getAppointmentById(n.event.id)}handleEvents(n){this.currentEvents.set(n),this.changeDetector.detectChanges()}initCalendar(){return Dv({plugins:[bV,IV,kV,GV],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},initialView:"timeGridWeek",events:this.appointments,editable:!1,selectable:!0,selectMirror:!0,dayMaxEvents:!0,select:this.handleDateSelect.bind(this),eventClick:this.handleEventClick.bind(this),eventsSet:this.handleEvents.bind(this),height:"auto"})}findAppointmentById(n){return this.appointments.find(r=>r.id===n)}};e.\u0275fac=function(r){return new(r||e)(P(jn),P(nH),P($t),P(ci),P(Er),P(xo),P(Cr))},e.\u0275cmp=ce({type:e,selectors:[["app-calendar"]],inputs:{cardiologistId:"cardiologistId",patient:"patient"},standalone:!0,features:[Bt([Cr]),Vt,ye],decls:1,vars:1,consts:[[3,"options",4,"ngIf"],[3,"options"],["eventContent",""],[4,"ngIf"]],template:function(r,o){r&1&&se(0,Dte,3,1,"full-calendar",0),r&2&&N("ngIf",o.calendarVisible)},dependencies:[st,Li,CV,yV],styles:[".fc-event-main[_ngcontent-%COMP%]{overflow:hidden!important;text-overflow:ellipsis!important;white-space:nowrap!important;height:21px!important}"]});let i=e;return i})();var iH=(()=>{let e=class e{constructor(){this.api={cardiologists:"/cardiologists"}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Tte(i,e){if(i&1&&(b(0,"option",18),H(1),D()),i&2){let t=e.$implicit;N("value",t.id),O(),Ot("",t.firstName+" "+t.lastName," ")}}var rH=(()=>{let e=class e{constructor(n,r,o,s,a){this.httpClient=n,this.appointmentService=r,this.patientService=o,this.router=s,this.route=a,this.cardiologists=[]}ngOnInit(){this.handleQueryParams(),this.getCardiologists()}handleQueryParams(){this.route.queryParams.subscribe(n=>{n.patientId&&this.getPatient(n.patientId)})}getPatient(n){this.httpClient.get(vt.serverAddress+this.patientService.api.patients+"/"+n).subscribe(r=>{this.patient=r})}getCardiologists(){this.httpClient.get(vt.serverAddress+this.appointmentService.api.cardiologists).subscribe(n=>{this.cardiologists=n,this.cardiologists.length>0&&(this.selected=this.cardiologists[0].id)})}goBack(){this.router.navigate(["../"])}};e.\u0275fac=function(r){return new(r||e)(P($t),P(iH),P(Er),P(St),P(ui))},e.\u0275cmp=ce({type:e,selectors:[["app-appointment"]],viewQuery:function(r,o){if(r&1&&ni(Vp,7),r&2){let s;rt(s=ot())&&(o.calendarComponent=s.first)}},standalone:!0,features:[ye],decls:24,vars:5,consts:[[1,"container-fluid"],[1,"row","page-titles"],[1,"col-12","col-sm-3","col-md-5","align-self-center"],[1,"d-flex","display-flex","align-items-center"],["type","button",1,"btn","btn-info","d-lg-block","m-r-15","text-white",3,"click"],[1,"fas","fa-angle-left"],[1,"text-themecolor"],[1,"col-12","col-sm-9","col-md-7","align-self-center","text-end"],[1,"d-flex","display-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],[1,"breadcrumb-item","active"],[1,"form-group","form-element"],["for","cp"],["id","cardiologist","name","cardiologist","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"calendar-element"],[3,"cardiologistId","patient"],[3,"value"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),Q("click",function(){return o.goBack()}),ne(5,"i",5),D(),b(6,"h4",6),H(7,"Book an Appointment"),D()()(),b(8,"div",7)(9,"div",8)(10,"ol",9)(11,"li",10),H(12,"Pages"),D(),b(13,"li",11),H(14,"Book an Appointment"),D(),b(15,"li",10),H(16),D()()()()()(),b(17,"div",12)(18,"label",13),H(19,"Select a cardiologist:"),D(),b(20,"select",14),Q("ngModelChange",function(a){return o.selected=a}),se(21,Tte,2,2,"option",15),D()(),b(22,"div",16),ne(23,"app-calendar",17),D()),r&2&&(O(16),Nt((o.patient==null?null:o.patient.firstName)+" "+(o.patient==null?null:o.patient.lastName)),O(4),N("ngModel",o.selected),O(),N("ngForOf",o.cardiologists),O(2),N("cardiologistId",o.selected)("patient",o.patient))},dependencies:[st,Ks,_c,wc,Cc,ta,cs,us,Vp],styles:[".form-element[_ngcontent-%COMP%], .calendar-element[_ngcontent-%COMP%]{margin:10px}"]});let i=e;return i})();function Ate(i,e){if(i&1&&(b(0,"option",15),H(1),D()),i&2){let t=e.$implicit;N("value",t.id),O(),Ot("",t.firstName+" "+t.lastName," ")}}var oH=(()=>{let e=class e{constructor(n,r,o){this.httpClient=n,this.toastr=r,this.patientService=o,this.patients=[],this.userId=pt.getLoginToken().userId,this.getPatients()}getPatients(){this.httpClient.get(vt.serverAddress+this.patientService.api.patients).subscribe(n=>{this.patients=n,this.selected=this.patients[0]})}getPatient(n){this.httpClient.get(vt.serverAddress+this.patientService.api.patients+"/"+n).subscribe(r=>{this.selected=r})}onPatientSelectionChange(n){this.getPatient(n.target.value)}};e.\u0275fac=function(r){return new(r||e)(P($t),P(ci),P(Er))},e.\u0275cmp=ce({type:e,selectors:[["app-cardiologist-calendar"]],standalone:!0,features:[ye],decls:19,vars:3,consts:[[1,"container-fluid"],[1,"row","page-titles"],[1,"col-12","col-sm-3","col-md-5","align-self-center"],[1,"text-themecolor"],[1,"col-12","col-sm-9","col-md-7","align-self-center","text-end"],[1,"d-flex","display-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],[1,"breadcrumb-item","active"],[1,"form-group","form-element"],["for","patient"],["id","patient","name","patient","required","",1,"form-control",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"calendar-element"],[1,"calendar-element",3,"cardiologistId","patient"],[3,"value"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),H(4,"Calendar"),D()(),b(5,"div",4)(6,"div",5)(7,"ol",6)(8,"li",7),H(9,"Pages"),D(),b(10,"li",8),H(11,"Calendar"),D()()()()()(),b(12,"div",9)(13,"label",10),H(14,"Select a patient:"),D(),b(15,"select",11),Q("change",function(a){return o.onPatientSelectionChange(a)}),se(16,Ate,2,2,"option",12),D()(),b(17,"div",13),ne(18,"app-calendar",14),D()),r&2&&(O(16),N("ngForOf",o.patients),O(2),N("cardiologistId",o.userId)("patient",o.selected))},dependencies:[st,Ks,_c,wc,Vp],styles:[".form-element[_ngcontent-%COMP%], .calendar-element[_ngcontent-%COMP%]{margin:10px}"]});let i=e;return i})();function Bo(i){return i==null||i===""?null:i}function B(i,e){return e===void 0&&(e=!1),i!=null&&(i!==""||e)}function ue(i){return!B(i)}function Yi(i){return i==null||i.length===0}function bf(i){return i!=null&&typeof i.toString=="function"?i.toString():null}function Fa(i){if(i!==void 0){if(i===null||i==="")return null;if(typeof i=="number")return isNaN(i)?void 0:i;var e=parseInt(i,10);return isNaN(e)?void 0:e}}function UC(i){if(i!==void 0)return i===null||i===""?!1:typeof i=="boolean"?i:/true/i.test(i)}function Ote(i){if(!(i==null||i===""))return i}function CA(i,e){var t=i?JSON.stringify(i):null,n=e?JSON.stringify(e):null;return t===n}function Ite(i,e,t){t===void 0&&(t=!1);var n=i==null,r=e==null;if(i&&i.toNumber&&(i=i.toNumber()),e&&e.toNumber&&(e=e.toNumber()),n&&r)return 0;if(n)return-1;if(r)return 1;function o(s,a){return s>a?1:s<a?-1:0}if(typeof i!="string"||!t)return o(i,e);try{return i.localeCompare(e)}catch{return o(i,e)}}function iu(i){if(i instanceof Set||i instanceof Map){var e=[];return i.forEach(function(t){return e.push(t)}),e}return Object.values(i)}var Mte=Object.freeze({__proto__:null,makeNull:Bo,exists:B,missing:ue,missingOrEmpty:Yi,toStringOrNull:bf,attrToNumber:Fa,attrToBoolean:UC,attrToString:Ote,jsonEquals:CA,defaultComparator:Ite,values:iu}),xte=function(){function i(){this.existingKeys={}}return i.prototype.addExistingKeys=function(e){for(var t=0;t<e.length;t++)this.existingKeys[e[t]]=!0},i.prototype.getUniqueKey=function(e,t){e=bf(e);for(var n=0;;){var r=void 0;if(e?(r=e,n!==0&&(r+="_"+n)):t?(r=t,n!==0&&(r+="_"+n)):r=n,!this.existingKeys[r])return this.existingKeys[r]=!0,String(r);n++}},i}(),Pte=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fte=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o};function zn(i,e){var t,n;if(i!=null){if(Array.isArray(i)){for(var r=0;r<i.length;r++)e(r.toString(),i[r]);return}try{for(var o=Pte(Object.entries(i)),s=o.next();!s.done;s=o.next()){var a=Fte(s.value,2),l=a[0],u=a[1];e(l,u)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}}function GA(i){for(var e={},t=Object.keys(i),n=0;n<t.length;n++){var r=t[n],o=i[r];e[r]=o}return e}function Nte(i){return JSON.parse(JSON.stringify(i))}function WC(i,e){if(i){var t=i,n={};return Object.keys(t).forEach(function(r){if(!(e&&e.indexOf(r)>=0)){var o=t[r],s=zC(o)&&o.constructor===Object;s?n[r]=WC(o):n[r]=o}}),n}}function yB(i,e){return i[e]}function CB(i,e,t){i[e]=t}function Lte(i,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];t.forEach(function(r){return _B(i,e,r)})}function _B(i,e,t,n){var r=yB(i,t);r!==void 0&&CB(e,t,n?n(r):r)}function wB(i){var e={};return i.filter(function(t){return t!=null}).forEach(function(t){Object.keys(t).forEach(function(n){return e[n]=null})}),Object.keys(e)}function La(i){if(!i)return[];var e=Object;if(typeof e.values=="function")return e.values(i);var t=[];for(var n in i)i.hasOwnProperty(n)&&i.propertyIsEnumerable(n)&&t.push(i[n]);return t}function Qi(i,e,t,n){t===void 0&&(t=!0),n===void 0&&(n=!1),B(e)&&zn(e,function(r,o){var s=i[r];if(s!==o){if(n){var a=s==null&&o!=null;if(a){var l=typeof o=="object"&&o.constructor===Object,u=l;u&&(s={},i[r]=s)}}zC(o)&&zC(s)&&!Array.isArray(s)?Qi(s,o,t,n):(t||o!==void 0)&&(i[r]=o)}})}function kte(i){return ue(i)||Object.keys(i).length===0}function Vte(i,e,t){if(i==null)return t;for(var n=e.split("."),r=i;n.length>1;)if(r=r[n.shift()],r==null)return t;var o=r[n[0]];return o??t}function Gte(i,e,t){if(i!=null){var n=e.split("."),r=i;n.forEach(function(o,s){r[o]||(r[o]={}),s<n.length-1&&(r=r[o])}),r[n[n.length-1]]=t}}function ld(i,e,t){if(!(!e||!i)){if(!t)return i[e];for(var n=e.split("."),r=i,o=0;o<n.length;o++){if(r==null)return;r=r[n[o]]}return r}}function SB(i,e,t){e===void 0&&(e=[]),Object.keys(i).forEach(function(s){var a=i[s];typeof a=="object"&&!e.includes(s)&&(i[s]=void 0)});var n=Object.getPrototypeOf(i),r={},o=function(s){return"AG Grid: Grid API function ".concat(s,`() cannot be called as the grid has been destroyed.
    It is recommended to remove local references to the grid api. Alternatively, check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
    To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: `).concat(t)};Object.getOwnPropertyNames(n).forEach(function(s){var a=n[s];if(typeof a=="function"&&!e.includes(s)){var l=function(){console.warn(o(s))};r[s]={value:l,writable:!0}}}),Object.defineProperties(i,r)}function zC(i){return typeof i=="object"&&i!==null}var Hte=Object.freeze({__proto__:null,iterateObject:zn,cloneObject:GA,deepCloneObject:Nte,deepCloneDefinition:WC,getProperty:yB,setProperty:CB,copyPropertiesIfPresent:Lte,copyPropertyIfPresent:_B,getAllKeysInObjects:wB,getAllValuesInObject:La,mergeDeep:Qi,missingOrEmptyObject:kte,get:Vte,set:Gte,getValueUsingField:ld,removeAllReferences:SB,isNonNullObject:zC}),sH={};function dd(i,e){sH[e]||(i(),sH[e]=!0)}function Se(i){dd(function(){return console.warn("AG Grid: "+i)},i)}function Qr(i){dd(function(){return console.error("AG Grid: "+i)},i)}function d_(i){if(i.name)return i.name;var e=/function\s+([^\(]+)/.exec(i.toString());return e&&e.length===2?e[1].trim():null}function h_(i){return!!(i&&i.constructor&&i.call&&i.apply)}function EB(i){bB(i,400)}var yT=[],CT=!1;function _A(i){yT.push(i),!CT&&(CT=!0,window.setTimeout(function(){var e=yT.slice();yT.length=0,CT=!1,e.forEach(function(t){return t()})},0))}function bB(i,e){e===void 0&&(e=0),i.length>0&&window.setTimeout(function(){return i.forEach(function(t){return t()})},e)}function Ar(i,e){var t;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=this;window.clearTimeout(t),t=window.setTimeout(function(){i.apply(o,n)},e)}}function wA(i,e){var t=0;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=this,s=new Date().getTime();s-t<e||(t=s,i.apply(o,n))}}function HA(i,e,t,n){t===void 0&&(t=100);var r=new Date().getTime(),o=null,s=!1,a=function(){var l=new Date().getTime()-r>t;(i()||l)&&(e(),s=!0,o!=null&&(window.clearInterval(o),o=null),l&&n&&console.warn(n))};a(),s||(o=window.setInterval(a,10))}function Bte(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];return function(t){return i.reduce(function(n,r){return r(n)},t)}}function DB(i){i&&i()}var jte=function(){},Ute=Object.freeze({__proto__:null,doOnce:dd,warnOnce:Se,errorOnce:Qr,getFunctionName:d_,isFunction:h_,executeInAWhile:EB,executeNextVMTurn:_A,executeAfter:bB,debounce:Ar,throttle:wA,waitUntil:HA,compose:Bte,callIfPresent:DB,noop:jte}),re=function(i){return i.CommunityCoreModule="@ag-grid-community/core",i.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",i.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",i.CsvExportModule="@ag-grid-community/csv-export",i.EnterpriseCoreModule="@ag-grid-enterprise/core",i.RowGroupingModule="@ag-grid-enterprise/row-grouping",i.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",i.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",i.MenuModule="@ag-grid-enterprise/menu",i.SetFilterModule="@ag-grid-enterprise/set-filter",i.MultiFilterModule="@ag-grid-enterprise/multi-filter",i.StatusBarModule="@ag-grid-enterprise/status-bar",i.SideBarModule="@ag-grid-enterprise/side-bar",i.RangeSelectionModule="@ag-grid-enterprise/range-selection",i.MasterDetailModule="@ag-grid-enterprise/master-detail",i.RichSelectModule="@ag-grid-enterprise/rich-select",i.GridChartsModule="@ag-grid-enterprise/charts",i.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",i.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",i.ExcelExportModule="@ag-grid-enterprise/excel-export",i.ClipboardModule="@ag-grid-enterprise/clipboard",i.SparklinesModule="@ag-grid-enterprise/sparklines",i.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",i.AngularModule="@ag-grid-community/angular",i.ReactModule="@ag-grid-community/react",i.VueModule="@ag-grid-community/vue",i}(re||{}),Gp=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},aH=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},lt=function(){function i(){}return i.register=function(e){i.__register(e,!0,void 0)},i.registerModules=function(e){i.__registerModules(e,!0,void 0)},i.__register=function(e,t,n){i.runVersionChecks(e),n!==void 0?(i.areGridScopedModules=!0,i.gridModulesMap[n]===void 0&&(i.gridModulesMap[n]={}),i.gridModulesMap[n][e.moduleName]=e):i.globalModulesMap[e.moduleName]=e,i.setModuleBased(t)},i.__unRegisterGridModules=function(e){delete i.gridModulesMap[e]},i.__registerModules=function(e,t,n){i.setModuleBased(t),e&&e.forEach(function(r){return i.__register(r,t,n)})},i.isValidModuleVersion=function(e){var t=Gp(e.version.split(".")||[],2),n=t[0],r=t[1],o=Gp(i.currentModuleVersion.split(".")||[],2),s=o[0],a=o[1];return n===s&&r===a},i.runVersionChecks=function(e){if(i.currentModuleVersion||(i.currentModuleVersion=e.version),e.version?i.isValidModuleVersion(e)||console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '".concat(e.moduleName,"' is version ").concat(e.version," but the other modules are version ").concat(this.currentModuleVersion,". Please update all modules to the same version.")):console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '".concat(e.moduleName,"' is incompatible. Please update all modules to the same version.")),e.validate){var t=e.validate();if(!t.isValid){var n=t;console.error("AG Grid: ".concat(n.message))}}},i.setModuleBased=function(e){i.moduleBased===void 0?i.moduleBased=e:i.moduleBased!==e&&dd(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},i.__setIsBundled=function(){i.isBundled=!0},i.__assertRegistered=function(e,t,n){var r;if(this.__isRegistered(e,n))return!0;var o=t+e,s;if(i.isBundled)s="AG Grid: unable to use ".concat(t,` as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`);else if(i.moduleBased||i.moduleBased===void 0){var a=(r=Object.entries(re).find(function(l){var u=Gp(l,2);u[0];var c=u[1];return c===e}))===null||r===void 0?void 0:r[0];s="AG Grid: unable to use ".concat(t," as the ").concat(a," is not registered").concat(i.areGridScopedModules?" for gridId: ".concat(n):"",`. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { `).concat(a," } from '").concat(e,`';
    
    ModuleRegistry.registerModules([ `).concat(a,` ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`)}else s="AG Grid: unable to use ".concat(t,` as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';
            
For more info see: https://www.ag-grid.com/javascript-grid/packages/`);return dd(function(){console.warn(s)},o),!1},i.__isRegistered=function(e,t){var n;return!!i.globalModulesMap[e]||!!(!((n=i.gridModulesMap[t])===null||n===void 0)&&n[e])},i.__getRegisteredModules=function(e){return aH(aH([],Gp(iu(i.globalModulesMap)),!1),Gp(iu(i.gridModulesMap[e]||{})),!1)},i.__getGridRegisteredModules=function(e){var t;return iu((t=i.gridModulesMap[e])!==null&&t!==void 0?t:{})||[]},i.__isPackageBased=function(){return!i.moduleBased},i.globalModulesMap={},i.gridModulesMap={},i.areGridScopedModules=!1,i}(),Wte=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},zte=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},$te=function(){function i(e,t){if(this.beanWrappers={},this.destroyed=!1,!(!e||!e.beanClasses)){this.contextParams=e,this.logger=t,this.logger.log(">> creating ag-Application Context"),this.createBeans();var n=this.getBeanInstances();this.wireBeans(n),this.logger.log(">> ag-Application Context ready - component is alive")}}return i.prototype.getBeanInstances=function(){return iu(this.beanWrappers).map(function(e){return e.beanInstance})},i.prototype.createBean=function(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.wireBeans([e],t),e},i.prototype.wireBeans=function(e,t){this.autoWireBeans(e),this.methodWireBeans(e),this.callLifeCycleMethods(e,"preConstructMethods"),B(t)&&e.forEach(t),this.callLifeCycleMethods(e,"postConstructMethods")},i.prototype.createBeans=function(){var e=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),zn(this.beanWrappers,function(n,r){var o;r.bean.__agBeanMetaData&&r.bean.__agBeanMetaData.autowireMethods&&r.bean.__agBeanMetaData.autowireMethods.agConstructor&&(o=r.bean.__agBeanMetaData.autowireMethods.agConstructor);var s=e.getBeansForParameters(o,r.bean.name),a=new(r.bean.bind.apply(r.bean,zte([null],Wte(s),!1)));r.beanInstance=a});var t=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: ".concat(t))},i.prototype.createBeanWrapper=function(e){var t=e.__agBeanMetaData;if(!t){var n=void 0;e.prototype.constructor?n=d_(e.prototype.constructor):n=""+e,console.error("Context item ".concat(n," is not a bean"));return}var r={bean:e,beanInstance:null,beanName:t.beanName};this.beanWrappers[t.beanName]=r},i.prototype.autoWireBeans=function(e){var t=this;e.forEach(function(n){t.forEachMetaDataInHierarchy(n,function(r,o){var s=r.agClassAttributes;s&&s.forEach(function(a){var l=t.lookupBeanInstance(o,a.beanName,a.optional);n[a.attributeName]=l})})})},i.prototype.methodWireBeans=function(e){var t=this;e.forEach(function(n){t.forEachMetaDataInHierarchy(n,function(r,o){zn(r.autowireMethods,function(s,a){if(s!=="agConstructor"){var l=t.getBeansForParameters(a,o);n[s].apply(n,l)}})})})},i.prototype.forEachMetaDataInHierarchy=function(e,t){for(var n=Object.getPrototypeOf(e);n!=null;){var r=n.constructor;if(r.hasOwnProperty("__agBeanMetaData")){var o=r.__agBeanMetaData,s=this.getBeanName(r);t(o,s)}n=Object.getPrototypeOf(n)}},i.prototype.getBeanName=function(e){if(e.__agBeanMetaData&&e.__agBeanMetaData.beanName)return e.__agBeanMetaData.beanName;var t=e.toString(),n=t.substring(9,t.indexOf("("));return n},i.prototype.getBeansForParameters=function(e,t){var n=this,r=[];return e&&zn(e,function(o,s){var a=n.lookupBeanInstance(t,s);r[Number(o)]=a}),r},i.prototype.lookupBeanInstance=function(e,t,n){if(n===void 0&&(n=!1),this.destroyed)return this.logger.log("AG Grid: bean reference ".concat(t," is used after the grid is destroyed!")),null;if(t==="context")return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(t))return this.contextParams.providedBeanInstances[t];var r=this.beanWrappers[t];return r?r.beanInstance:(n||console.error("AG Grid: unable to find bean reference ".concat(t," while initialising ").concat(e)),null)},i.prototype.callLifeCycleMethods=function(e,t){var n=this;e.forEach(function(r){return n.callLifeCycleMethodsOnBean(r,t)})},i.prototype.callLifeCycleMethodsOnBean=function(e,t,n){var r={};this.forEachMetaDataInHierarchy(e,function(s){var a=s[t];a&&a.forEach(function(l){l!=n&&(r[l]=!0)})});var o=Object.keys(r);o.forEach(function(s){return e[s]()})},i.prototype.getBean=function(e){return this.lookupBeanInstance("getBean",e,!0)},i.prototype.destroy=function(){if(!this.destroyed){this.destroyed=!0,this.logger.log(">> Shutting down ag-Application Context");var e=this.getBeanInstances();this.destroyBeans(e),this.contextParams.providedBeanInstances=null,lt.__unRegisterGridModules(this.contextParams.gridId),this.logger.log(">> ag-Application Context shut down - component is dead")}},i.prototype.destroyBean=function(e){e&&this.destroyBeans([e])},i.prototype.destroyBeans=function(e){var t=this;return e?(e.forEach(function(n){t.callLifeCycleMethodsOnBean(n,"preDestroyMethods","destroy");var r=n;typeof r.destroy=="function"&&r.destroy()}),[]):[]},i.prototype.isDestroyed=function(){return this.destroyed},i.prototype.getGridId=function(){return this.contextParams.gridId},i}();function lH(i,e,t){var n=uu(i.constructor);n.preConstructMethods||(n.preConstructMethods=[]),n.preConstructMethods.push(e)}function W(i,e,t){var n=uu(i.constructor);n.postConstructMethods||(n.postConstructMethods=[]),n.postConstructMethods.push(e)}function oi(i,e,t){var n=uu(i.constructor);n.preDestroyMethods||(n.preDestroyMethods=[]),n.preDestroyMethods.push(e)}function ee(i){return function(e){var t=uu(e);t.beanName=i}}function y(i){return function(e,t,n){RB(e,i,!1,e,t,null)}}function $e(i){return function(e,t,n){RB(e,i,!0,e,t,null)}}function RB(i,e,t,n,r,o){if(e===null){console.error("AG Grid: Autowired name should not be null");return}if(typeof o=="number"){console.error("AG Grid: Autowired should be on an attribute");return}var s=uu(i.constructor);s.agClassAttributes||(s.agClassAttributes=[]),s.agClassAttributes.push({attributeName:r,beanName:e,optional:t})}function Or(i){return function(e,t,n){var r=typeof e=="function"?e:e.constructor,o;if(typeof n=="number"){var s=void 0;t?(o=uu(r),s=t):(o=uu(r),s="agConstructor"),o.autowireMethods||(o.autowireMethods={}),o.autowireMethods[s]||(o.autowireMethods[s]={}),o.autowireMethods[s][n]=i}}}function uu(i){return i.hasOwnProperty("__agBeanMetaData")||(i.__agBeanMetaData={}),i.__agBeanMetaData}var uH=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},gC=function(i,e){return function(t,n){e(t,n,i)}},ka=function(){function i(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return i.prototype.setBeans=function(e,t,n,r){if(n===void 0&&(n=null),r===void 0&&(r=null),this.frameworkOverrides=t,this.gridOptionsService=e,n){var o=e.useAsyncEvents();this.addGlobalListener(n,o)}r&&this.addGlobalListener(r,!1)},i.prototype.setFrameworkOverrides=function(e){this.frameworkOverrides=e},i.prototype.getListeners=function(e,t,n){var r=t?this.allAsyncListeners:this.allSyncListeners,o=r.get(e);return!o&&n&&(o=new Set,r.set(e,o)),o},i.prototype.noRegisteredListenersExist=function(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0},i.prototype.addEventListener=function(e,t,n){n===void 0&&(n=!1),this.getListeners(e,n,!0).add(t)},i.prototype.removeEventListener=function(e,t,n){n===void 0&&(n=!1);var r=this.getListeners(e,n,!1);if(r&&(r.delete(t),r.size===0)){var o=n?this.allAsyncListeners:this.allSyncListeners;o.delete(e)}},i.prototype.addGlobalListener=function(e,t){t===void 0&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)},i.prototype.removeGlobalListener=function(e,t){t===void 0&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)},i.prototype.dispatchEvent=function(e){var t=e;this.gridOptionsService&&this.gridOptionsService.addGridCommonParams(t),this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0},i.prototype.dispatchEventOnce=function(e){this.firedEvents[e.type]||this.dispatchEvent(e)},i.prototype.dispatchToListeners=function(e,t){var n=this,r,o=e.type;if(t&&"event"in e){var s=e.event;s instanceof Event&&(e.eventPath=s.composedPath())}var a=function(d,h){return d.forEach(function(p){if(h.has(p)){var f=n.frameworkOverrides?function(){return n.frameworkOverrides.wrapIncoming(function(){return p(e)})}:function(){return p(e)};t?n.dispatchAsync(f):f()}})},l=(r=this.getListeners(o,t,!1))!==null&&r!==void 0?r:new Set,u=new Set(l);u.size>0&&a(u,l);var c=new Set(t?this.globalAsyncListeners:this.globalSyncListeners);c.forEach(function(d){var h=n.frameworkOverrides?function(){return n.frameworkOverrides.wrapIncoming(function(){return d(o,e)})}:function(){return d(o,e)};t?n.dispatchAsync(h):h()})},i.prototype.dispatchAsync=function(e){var t=this;this.asyncFunctionsQueue.push(e),this.scheduled||(this.frameworkOverrides.wrapIncoming(function(){window.setTimeout(t.flushAsyncQueue.bind(t),0)}),this.scheduled=!0)},i.prototype.flushAsyncQueue=function(){this.scheduled=!1;var e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(function(t){return t()})},uH([gC(0,Or("gridOptionsService")),gC(1,Or("frameworkOverrides")),gC(2,Or("globalEventListener")),gC(3,Or("globalSyncEventListener"))],i.prototype,"setBeans",null),i=uH([ee("eventService")],i),i}(),BA=function(){function i(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}return i.prototype.wrap=function(e){var t=this,n=e;return this.frameworkOverrides.shouldWrapOutgoing&&(n=function(r){t.frameworkOverrides.wrapOutgoing(function(){return e(r)})},this.wrappedListeners.set(e,n)),n},i.prototype.wrapGlobal=function(e){var t=this,n=e;return this.frameworkOverrides.shouldWrapOutgoing&&(n=function(r,o){t.frameworkOverrides.wrapOutgoing(function(){return e(r,o)})},this.wrappedGlobalListeners.set(e,n)),n},i.prototype.unwrap=function(e){var t;return(t=this.wrappedListeners.get(e))!==null&&t!==void 0?t:e},i.prototype.unwrapGlobal=function(e){var t;return(t=this.wrappedGlobalListeners.get(e))!==null&&t!==void 0?t:e},i}(),Hp=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},qte={resizable:!0,sortable:!0},Kte=0;function TB(){return Kte++}var mt=function(){function i(e,t,n,r){this.instanceId=TB(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.eventService=new ka,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=r,this.setState(e)}return i.prototype.getInstanceId=function(){return this.instanceId},i.prototype.setState=function(e){e.sort!==void 0?(e.sort==="asc"||e.sort==="desc")&&(this.sort=e.sort):(e.initialSort==="asc"||e.initialSort==="desc")&&(this.sort=e.initialSort);var t=e.sortIndex,n=e.initialSortIndex;t!==void 0?t!==null&&(this.sortIndex=t):n!==null&&(this.sortIndex=n);var r=e.hide,o=e.initialHide;r!==void 0?this.visible=!r:this.visible=!o,e.pinned!==void 0?this.setPinned(e.pinned):this.setPinned(e.initialPinned);var s=e.flex,a=e.initialFlex;s!==void 0?this.flex=s:a!==void 0&&(this.flex=a)},i.prototype.setColDef=function(e,t,n){n===void 0&&(n="api"),this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged",n))},i.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},i.prototype.setParent=function(e){this.parent=e},i.prototype.getParent=function(){return this.parent},i.prototype.setOriginalParent=function(e){this.originalParent=e},i.prototype.getOriginalParent=function(){return this.originalParent},i.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()},i.prototype.initDotNotation=function(){var e=this.gridOptionsService.get("suppressFieldDotNotation");this.fieldContainsDots=B(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=B(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e},i.prototype.initMinAndMaxWidths=function(){var e=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(e),this.maxWidth=this.columnUtils.calculateColMaxWidth(e)},i.prototype.initTooltip=function(){this.tooltipEnabled=B(this.colDef.tooltipField)||B(this.colDef.tooltipValueGetter)||B(this.colDef.tooltipComponent)},i.prototype.resetActualWidth=function(e){e===void 0&&(e="api");var t=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)},i.prototype.isEmptyGroup=function(){return!1},i.prototype.isRowGroupDisplayed=function(e){if(ue(this.colDef)||ue(this.colDef.showRowGroup))return!1;var t=this.colDef.showRowGroup===!0,n=this.colDef.showRowGroup===e;return t||n},i.prototype.isPrimary=function(){return this.primary},i.prototype.isFilterAllowed=function(){var e=!!this.colDef.filter;return e},i.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},i.prototype.isTooltipEnabled=function(){return this.tooltipEnabled},i.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},i.prototype.addEventListener=function(e,t){var n,r;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new BA(this.frameworkOverrides));var o=(r=(n=this.frameworkEventListenerService)===null||n===void 0?void 0:n.wrap(t))!==null&&r!==void 0?r:t;this.eventService.addEventListener(e,o)},i.prototype.removeEventListener=function(e,t){var n,r,o=(r=(n=this.frameworkEventListenerService)===null||n===void 0?void 0:n.unwrap(t))!==null&&r!==void 0?r:t;this.eventService.removeEventListener(e,o)},i.prototype.createColumnFunctionCallbackParams=function(e){return this.gridOptionsService.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})},i.prototype.isSuppressNavigable=function(e){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){var t=this.createColumnFunctionCallbackParams(e),n=this.colDef.suppressNavigable;return n(t)}return!1},i.prototype.isCellEditable=function(e){return e.group&&!this.gridOptionsService.get("enableGroupEdit")?!1:this.isColumnFunc(e,this.colDef.editable)},i.prototype.isSuppressFillHandle=function(){return!!this.colDef.suppressFillHandle},i.prototype.isAutoHeight=function(){return!!this.colDef.autoHeight},i.prototype.isAutoHeaderHeight=function(){return!!this.colDef.autoHeaderHeight},i.prototype.isRowDrag=function(e){return this.isColumnFunc(e,this.colDef.rowDrag)},i.prototype.isDndSource=function(e){return this.isColumnFunc(e,this.colDef.dndSource)},i.prototype.isCellCheckboxSelection=function(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)},i.prototype.isSuppressPaste=function(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)},i.prototype.isResizable=function(){return!!this.getColDefValue("resizable")},i.prototype.getColDefValue=function(e){var t;return(t=this.colDef[e])!==null&&t!==void 0?t:qte[e]},i.prototype.isColumnFunc=function(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){var n=this.createColumnFunctionCallbackParams(e),r=t;return r(n)}return!1},i.prototype.setMoving=function(e,t){t===void 0&&(t="api"),this.moving=e,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",t))},i.prototype.createColumnEvent=function(e,t){return this.gridOptionsService.addGridCommonParams({type:e,column:this,columns:[this],source:t})},i.prototype.isMoving=function(){return this.moving},i.prototype.getSort=function(){return this.sort},i.prototype.setSort=function(e,t){t===void 0&&(t="api"),this.sort!==e&&(this.sort=e,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",t))),this.dispatchStateUpdatedEvent("sort")},i.prototype.setMenuVisible=function(e,t){t===void 0&&(t="api"),this.menuVisible!==e&&(this.menuVisible=e,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))},i.prototype.isMenuVisible=function(){return this.menuVisible},i.prototype.isSortable=function(){return!!this.getColDefValue("sortable")},i.prototype.isSortAscending=function(){return this.sort==="asc"},i.prototype.isSortDescending=function(){return this.sort==="desc"},i.prototype.isSortNone=function(){return ue(this.sort)},i.prototype.isSorting=function(){return B(this.sort)},i.prototype.getSortIndex=function(){return this.sortIndex},i.prototype.setSortIndex=function(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")},i.prototype.setAggFunc=function(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")},i.prototype.getAggFunc=function(){return this.aggFunc},i.prototype.getLeft=function(){return this.left},i.prototype.getOldLeft=function(){return this.oldLeft},i.prototype.getRight=function(){return this.left+this.actualWidth},i.prototype.setLeft=function(e,t){t===void 0&&(t="api"),this.oldLeft=this.left,this.left!==e&&(this.left=e,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))},i.prototype.isFilterActive=function(){return this.filterActive},i.prototype.setFilterActive=function(e,t,n){t===void 0&&(t="api"),this.filterActive!==e&&(this.filterActive=e,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));var r=this.createColumnEvent("filterChanged",t);n&&Qi(r,n),this.eventService.dispatchEvent(r)},i.prototype.isHovered=function(){return this.columnHoverService.isHovered(this)},i.prototype.setPinned=function(e){e===!0||e==="left"?this.pinned="left":e==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")},i.prototype.setFirstRightPinned=function(e,t){t===void 0&&(t="api"),this.firstRightPinned!==e&&(this.firstRightPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))},i.prototype.setLastLeftPinned=function(e,t){t===void 0&&(t="api"),this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))},i.prototype.isFirstRightPinned=function(){return this.firstRightPinned},i.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},i.prototype.isPinned=function(){return this.pinned==="left"||this.pinned==="right"},i.prototype.isPinnedLeft=function(){return this.pinned==="left"},i.prototype.isPinnedRight=function(){return this.pinned==="right"},i.prototype.getPinned=function(){return this.pinned},i.prototype.setVisible=function(e,t){t===void 0&&(t="api");var n=e===!0;this.visible!==n&&(this.visible=n,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",t))),this.dispatchStateUpdatedEvent("hide")},i.prototype.isVisible=function(){return this.visible},i.prototype.isSpanHeaderHeight=function(){var e=this.getColDef();return!e.suppressSpanHeaderHeight&&!e.autoHeaderHeight},i.prototype.getColDef=function(){return this.colDef},i.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},i.prototype.getColId=function(){return this.colId},i.prototype.getId=function(){return this.colId},i.prototype.getUniqueId=function(){return this.colId},i.prototype.getDefinition=function(){return this.colDef},i.prototype.getActualWidth=function(){return this.actualWidth},i.prototype.getAutoHeaderHeight=function(){return this.autoHeaderHeight},i.prototype.setAutoHeaderHeight=function(e){var t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t},i.prototype.createBaseColDefParams=function(e){var t=this.gridOptionsService.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this});return t},i.prototype.getColSpan=function(e){if(ue(this.colDef.colSpan))return 1;var t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)},i.prototype.getRowSpan=function(e){if(ue(this.colDef.rowSpan))return 1;var t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)},i.prototype.setActualWidth=function(e,t,n){t===void 0&&(t="api"),n===void 0&&(n=!1),this.minWidth!=null&&(e=Math.max(e,this.minWidth)),this.maxWidth!=null&&(e=Math.min(e,this.maxWidth)),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")},i.prototype.fireColumnWidthChangedEvent=function(e){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",e))},i.prototype.isGreaterThanMax=function(e){return this.maxWidth!=null?e>this.maxWidth:!1},i.prototype.getMinWidth=function(){return this.minWidth},i.prototype.getMaxWidth=function(){return this.maxWidth},i.prototype.getFlex=function(){return this.flex||0},i.prototype.setFlex=function(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")},i.prototype.setMinimum=function(e){e===void 0&&(e="api"),B(this.minWidth)&&this.setActualWidth(this.minWidth,e)},i.prototype.setRowGroupActive=function(e,t){t===void 0&&(t="api"),this.rowGroupActive!==e&&(this.rowGroupActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t))),this.dispatchStateUpdatedEvent("rowGroup")},i.prototype.isRowGroupActive=function(){return this.rowGroupActive},i.prototype.setPivotActive=function(e,t){t===void 0&&(t="api"),this.pivotActive!==e&&(this.pivotActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t))),this.dispatchStateUpdatedEvent("pivot")},i.prototype.isPivotActive=function(){return this.pivotActive},i.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},i.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},i.prototype.setValueActive=function(e,t){t===void 0&&(t="api"),this.aggregationActive!==e&&(this.aggregationActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))},i.prototype.isValueActive=function(){return this.aggregationActive},i.prototype.isAllowPivot=function(){return this.colDef.enablePivot===!0},i.prototype.isAllowValue=function(){return this.colDef.enableValue===!0},i.prototype.isAllowRowGroup=function(){return this.colDef.enableRowGroup===!0},i.prototype.getMenuTabs=function(e){var t=this.getColDef().menuTabs;return t==null&&(t=e),t},i.prototype.dispatchStateUpdatedEvent=function(e){this.eventService.dispatchEvent({type:i.EVENT_STATE_UPDATED,key:e})},i.EVENT_MOVING_CHANGED="movingChanged",i.EVENT_LEFT_CHANGED="leftChanged",i.EVENT_WIDTH_CHANGED="widthChanged",i.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",i.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",i.EVENT_VISIBLE_CHANGED="visibleChanged",i.EVENT_FILTER_CHANGED="filterChanged",i.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",i.EVENT_SORT_CHANGED="sortChanged",i.EVENT_COL_DEF_CHANGED="colDefChanged",i.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",i.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",i.EVENT_PIVOT_CHANGED="columnPivotChanged",i.EVENT_VALUE_CHANGED="columnValueChanged",i.EVENT_STATE_UPDATED="columnStateUpdated",Hp([y("gridOptionsService")],i.prototype,"gridOptionsService",void 0),Hp([y("columnUtils")],i.prototype,"columnUtils",void 0),Hp([y("columnHoverService")],i.prototype,"columnHoverService",void 0),Hp([y("frameworkOverrides")],i.prototype,"frameworkOverrides",void 0),Hp([W],i.prototype,"initialise",null),i}(),Yte=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Ut=function(){function i(e,t,n,r){this.localEventService=new ka,this.expandable=!1,this.instanceId=TB(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=n,this.level=r}return i.prototype.destroy=function(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)},i.prototype.reset=function(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0},i.prototype.getInstanceId=function(){return this.instanceId},i.prototype.setOriginalParent=function(e){this.originalParent=e},i.prototype.getOriginalParent=function(){return this.originalParent},i.prototype.getLevel=function(){return this.level},i.prototype.isVisible=function(){return this.children?this.children.some(function(e){return e.isVisible()}):!1},i.prototype.isPadding=function(){return this.padding},i.prototype.setExpanded=function(e){this.expanded=e===void 0?!1:e;var t={type:i.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(t)},i.prototype.isExpandable=function(){return this.expandable},i.prototype.isExpanded=function(){return this.expanded},i.prototype.getGroupId=function(){return this.groupId},i.prototype.getId=function(){return this.getGroupId()},i.prototype.setChildren=function(e){this.children=e},i.prototype.getChildren=function(){return this.children},i.prototype.getColGroupDef=function(){return this.colGroupDef},i.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},i.prototype.addLeafColumns=function(e){this.children&&this.children.forEach(function(t){t instanceof mt?e.push(t):t instanceof i&&t.addLeafColumns(e)})},i.prototype.getColumnGroupShow=function(){var e=this.colGroupDef;if(e)return e.columnGroupShow},i.prototype.setupExpandable=function(){var e=this;this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();var t=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(function(n){return n.addEventListener("visibleChanged",t)}),this.expandableListenerRemoveCallback=function(){e.getLeafColumns().forEach(function(n){return n.removeEventListener("visibleChanged",t)}),e.expandableListenerRemoveCallback=null}},i.prototype.setExpandable=function(){if(!this.isPadding()){for(var e=!1,t=!1,n=!1,r=this.findChildrenRemovingPadding(),o=0,s=r.length;o<s;o++){var a=r[o];if(a.isVisible()){var l=a.getColumnGroupShow();l==="open"?(e=!0,n=!0):l==="closed"?(t=!0,n=!0):(e=!0,t=!0)}}var u=e&&t&&n;if(this.expandable!==u){this.expandable=u;var c={type:i.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(c)}}},i.prototype.findChildrenRemovingPadding=function(){var e=[],t=function(n){n.forEach(function(r){var o=r instanceof i&&r.isPadding();o?t(r.children):e.push(r)})};return t(this.children),e},i.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},i.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},i.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},i.EVENT_EXPANDED_CHANGED="expandedChanged",i.EVENT_EXPANDABLE_CHANGED="expandableChanged",Yte([oi],i.prototype,"destroy",null),i}(),Qte={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function AB(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];for(var t=0;t<i.length;t++){var n=i[t];if(B(n))return n}return null}function Zte(i){return i!=null&&i.length>0}function Je(i){if(!(!i||!i.length))return i[i.length-1]}function Rs(i,e,t){return i==null&&e==null?!0:i!=null&&e!=null&&i.length===e.length&&i.every(function(n,r){return t?t(n,e[r]):e[r]===n})}function Xte(i,e){return Rs(i,e)}function OB(i){return i.sort(function(e,t){return e-t})}function Jte(i,e){if(i)for(var t=i.length-2;t>=0;t--){var n=i[t]===e,r=i[t+1]===e;n&&r&&i.splice(t+1,1)}}function jA(i,e){var t=i.indexOf(e);t>=0&&(i[t]=i[i.length-1],i.pop())}function Ki(i,e){var t=i.indexOf(e);t>=0&&i.splice(t,1)}function IB(i,e){for(var t=0;t<e.length;t++)jA(i,e[t])}function MB(i,e){for(var t=0;t<e.length;t++)Ki(i,e[t])}function Df(i,e,t){i.splice(t,0,e)}function ene(i,e,t){if(!(i==null||e==null))for(var n=e.length-1;n>=0;n--){var r=e[n];Df(i,r,t)}}function SA(i,e,t){MB(i,e),e.slice().reverse().forEach(function(n){return Df(i,n,t)})}function Xr(i,e){return i.indexOf(e)>-1}function xB(i){return[].concat.apply([],i)}function EA(i,e){e==null||i==null||e.forEach(function(t){return i.push(t)})}function tne(i){return i.map(bf)}function nne(i,e){if(i!=null)for(var t=i.length-1;t>=0;t--)e(i[t],t)}var ine=Object.freeze({__proto__:null,firstExistingValue:AB,existsAndNotEmpty:Zte,last:Je,areEqual:Rs,shallowCompare:Xte,sortNumerically:OB,removeRepeatsFromArray:Jte,removeFromUnorderedArray:jA,removeFromArray:Ki,removeAllFromUnorderedArray:IB,removeAllFromArray:MB,insertIntoArray:Df,insertArrayIntoArray:ene,moveInArray:SA,includes:Xr,flatten:xB,pushAll:EA,toStrings:tne,forEachReverse:nne}),PB="__ag_Grid_Stop_Propagation",rne=["touchstart","touchend","touchmove","touchcancel","scroll"],_T={};function Uo(i){i[PB]=!0}function Jr(i){return i[PB]===!0}var UA=function(){var i={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},e=function(t){if(typeof _T[t]=="boolean")return _T[t];var n=document.createElement(i[t]||"div");return t="on"+t,_T[t]=t in n};return e}();function $C(i,e,t){for(var n=e;n;){var r=i.getDomData(n,t);if(r)return r;n=n.parentElement}return null}function qC(i,e){return!e||!i?!1:NB(e).indexOf(i)>=0}function FB(i){for(var e=[],t=i.target;t;)e.push(t),t=t.parentElement;return e}function NB(i){var e=i;return e.path?e.path:e.composedPath?e.composedPath():FB(e)}function LB(i,e,t,n){var r=Xr(rne,t),o=r?{passive:!0}:void 0;i&&i.addEventListener&&i.addEventListener(e,t,n,o)}var one=Object.freeze({__proto__:null,stopPropagationForAgGrid:Uo,isStopPropagationForAgGrid:Jr,isEventSupported:UA,getCtrlForEventTarget:$C,isElementInEventPath:qC,createEventPath:FB,getEventPath:NB,addSafePassiveEventListener:LB}),Kl=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},j=function(){function i(){var e=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.lastChangeSetIdLookup={},this.propertyListenerId=0,this.isAlive=function(){return!e.destroyed}}return i.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},i.prototype.getContext=function(){return this.context},i.prototype.destroy=function(){this.destroyFunctions.forEach(function(e){return e()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:i.EVENT_DESTROYED})},i.prototype.addEventListener=function(e,t){this.localEventService||(this.localEventService=new ka),this.localEventService.addEventListener(e,t)},i.prototype.removeEventListener=function(e,t){this.localEventService&&this.localEventService.removeEventListener(e,t)},i.prototype.dispatchEvent=function(e){this.localEventService&&this.localEventService.dispatchEvent(e)},i.prototype.addManagedListener=function(e,t,n){var r=this;if(!this.destroyed){e instanceof HTMLElement?LB(this.getFrameworkOverrides(),e,t,n):e.addEventListener(t,n);var o=function(){return e.removeEventListener(t,n),r.destroyFunctions=r.destroyFunctions.filter(function(s){return s!==o}),null};return this.destroyFunctions.push(o),o}},i.prototype.setupGridOptionListener=function(e,t){var n=this;this.gridOptionsService.addEventListener(e,t);var r=function(){return n.gridOptionsService.removeEventListener(e,t),n.destroyFunctions=n.destroyFunctions.filter(function(o){return o!==r}),null};return this.destroyFunctions.push(r),r},i.prototype.addManagedPropertyListener=function(e,t){return this.destroyed?function(){return null}:this.setupGridOptionListener(e,t)},i.prototype.addManagedPropertyListeners=function(e,t){var n=this;if(!this.destroyed){var r=e.join("-")+this.propertyListenerId++,o=function(s){if(s.changeSet){if(s.changeSet&&s.changeSet.id===n.lastChangeSetIdLookup[r])return;n.lastChangeSetIdLookup[r]=s.changeSet.id}var a={type:"gridPropertyChanged",changeSet:s.changeSet};t(a)};e.forEach(function(s){return n.setupGridOptionListener(s,o)})}},i.prototype.addDestroyFunc=function(e){this.isAlive()?this.destroyFunctions.push(e):e()},i.prototype.createManagedBean=function(e,t){var n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n},i.prototype.createBean=function(e,t,n){return(t||this.getContext()).createBean(e,n)},i.prototype.destroyBean=function(e,t){return(t||this.getContext()).destroyBean(e)},i.prototype.destroyBeans=function(e,t){var n=this;return e&&e.forEach(function(r){return n.destroyBean(r,t)}),[]},i.EVENT_DESTROYED="destroyed",Kl([y("frameworkOverrides")],i.prototype,"frameworkOverrides",void 0),Kl([y("context")],i.prototype,"context",void 0),Kl([y("eventService")],i.prototype,"eventService",void 0),Kl([y("gridOptionsService")],i.prototype,"gridOptionsService",void 0),Kl([y("localeService")],i.prototype,"localeService",void 0),Kl([y("environment")],i.prototype,"environment",void 0),Kl([oi],i.prototype,"destroy",null),i}(),sne=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),vC=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ane=function(i,e){return function(t,n){e(t,n,i)}},lne=function(i){sne(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.setBeans=function(t){this.logger=t.create("ColumnFactory")},e.prototype.createColumnTree=function(t,n,r){var o=new xte,s=this.extractExistingTreeData(r),a=s.existingCols,l=s.existingGroups,u=s.existingColKeys;o.addExistingKeys(u);var c=this.recursivelyCreateColumns(t,0,n,a,o,l),d=this.findMaxDept(c,0);this.logger.log("Number of levels for grouped columns is "+d);var h=this.balanceColumnTree(c,0,d,o),p=function(f,g){f instanceof Ut&&f.setupExpandable(),f.setOriginalParent(g)};return this.columnUtils.depthFirstOriginalTreeSearch(null,h,p),{columnTree:h,treeDept:d}},e.prototype.extractExistingTreeData=function(t){var n=[],r=[],o=[];return t&&this.columnUtils.depthFirstOriginalTreeSearch(null,t,function(s){if(s instanceof Ut){var a=s;r.push(a)}else{var l=s;o.push(l.getId()),n.push(l)}}),{existingCols:n,existingGroups:r,existingColKeys:o}},e.prototype.createForAutoGroups=function(t,n){var r=this;return t.map(function(o){return r.createAutoGroupTreeItem(n,o)})},e.prototype.createAutoGroupTreeItem=function(t,n){for(var r=this.findDepth(t),o=n,s=r-1;s>=0;s--){var a=new Ut(null,"FAKE_PATH_".concat(n.getId(),"}_").concat(s),!0,s);this.createBean(a),a.setChildren([o]),o.setOriginalParent(a),o=a}return r===0&&n.setOriginalParent(null),o},e.prototype.findDepth=function(t){for(var n=0,r=t;r&&r[0]&&r[0]instanceof Ut;)n++,r=r[0].getChildren();return n},e.prototype.balanceColumnTree=function(t,n,r,o){for(var s=[],a=0;a<t.length;a++){var l=t[a];if(l instanceof Ut){var u=l,c=this.balanceColumnTree(u.getChildren(),n+1,r,o);u.setChildren(c),s.push(u)}else{for(var d=void 0,h=void 0,p=r-1;p>=n;p--){var f=o.getUniqueKey(null,null),g=this.createMergedColGroupDef(null),v=new Ut(g,f,!0,n);this.createBean(v),h&&h.setChildren([v]),h=v,d||(d=h)}if(d&&h){s.push(d);var m=t.some(function(_){return _ instanceof Ut});if(m){h.setChildren([l]);continue}else{h.setChildren(t);break}}s.push(l)}}return s},e.prototype.findMaxDept=function(t,n){for(var r=n,o=0;o<t.length;o++){var s=t[o];if(s instanceof Ut){var a=s,l=this.findMaxDept(a.getChildren(),n+1);r<l&&(r=l)}}return r},e.prototype.recursivelyCreateColumns=function(t,n,r,o,s,a){if(!t)return[];for(var l=new Array(t.length),u=0;u<l.length;u++){var c=t[u];this.isColumnGroup(c)?l[u]=this.createColumnGroup(r,c,n,o,s,a):l[u]=this.createColumn(r,c,o,s)}return l},e.prototype.createColumnGroup=function(t,n,r,o,s,a){var l=this.createMergedColGroupDef(n),u=s.getUniqueKey(l.groupId||null,null),c=new Ut(l,u,!1,r);this.createBean(c);var d=this.findExistingGroup(n,a);d&&a.splice(d.idx,1);var h=d?.group;h&&c.setExpanded(h.isExpanded());var p=this.recursivelyCreateColumns(l.children,r+1,t,o,s,a);return c.setChildren(p),c},e.prototype.createMergedColGroupDef=function(t){var n={};return Object.assign(n,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(n,t),n},e.prototype.createColumn=function(t,n,r,o){var s=this.findExistingColumn(n,r);s&&r?.splice(s.idx,1);var a=s?.column;if(a){var u=this.addColumnDefaultAndTypes(n,a.getColId());a.setColDef(u,n),this.applyColumnState(a,u)}else{var l=o.getUniqueKey(n.colId,n.field),u=this.addColumnDefaultAndTypes(n,l);a=new mt(u,n,l,t),this.context.createBean(a)}return this.dataTypeService.addColumnListeners(a),a},e.prototype.applyColumnState=function(t,n){var r=Fa(n.flex);r!==void 0&&t.setFlex(r);var o=t.getFlex()<=0;if(o){var s=Fa(n.width);if(s!=null)t.setActualWidth(s);else{var a=t.getActualWidth();t.setActualWidth(a)}}n.sort!==void 0&&(n.sort=="asc"||n.sort=="desc"?t.setSort(n.sort):t.setSort(void 0));var l=Fa(n.sortIndex);l!==void 0&&t.setSortIndex(l);var u=UC(n.hide);u!==void 0&&t.setVisible(!u),n.pinned!==void 0&&t.setPinned(n.pinned)},e.prototype.findExistingColumn=function(t,n){if(n)for(var r=0;r<n.length;r++){var o=n[r].getUserProvidedColDef();if(o){var s=t.colId!=null;if(s){if(n[r].getId()===t.colId)return{idx:r,column:n[r]};continue}var a=t.field!=null;if(a){if(o.field===t.field)return{idx:r,column:n[r]};continue}if(o===t)return{idx:r,column:n[r]}}}},e.prototype.findExistingGroup=function(t,n){var r=t.groupId!=null;if(r)for(var o=0;o<n.length;o++){var s=n[o],a=s.getColGroupDef();if(a&&s.getId()===t.groupId)return{idx:o,group:s}}},e.prototype.addColumnDefaultAndTypes=function(t,n){var r={},o=this.gridOptionsService.get("defaultColDef");Qi(r,o,!1,!0);var s=this.dataTypeService.updateColDefAndGetColumnType(r,t,n);s&&this.assignColumnTypes(s,r),Qi(r,t,!1,!0);var a=this.gridOptionsService.get("autoGroupColumnDef"),l=this.gridOptionsService.isColumnsSortingCoupledToGroup();return t.rowGroup&&a&&l&&Qi(r,{sort:a.sort,initialSort:a.initialSort},!1,!0),this.dataTypeService.validateColDef(r),r},e.prototype.assignColumnTypes=function(t,n){if(t.length){var r=Object.assign({},Qte),o=this.gridOptionsService.get("columnTypes")||{};zn(o,function(s,a){if(s in r)console.warn("AG Grid: the column type '".concat(s,"' is a default column type and cannot be overridden."));else{var l=a;l.type&&Se("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),r[s]=a}}),t.forEach(function(s){var a=r[s.trim()];a?Qi(n,a,!1,!0):console.warn("AG Grid: colDef.type '"+s+"' does not correspond to defined gridOptions.columnTypes")})}},e.prototype.isColumnGroup=function(t){return t.children!==void 0},vC([y("columnUtils")],e.prototype,"columnUtils",void 0),vC([y("dataTypeService")],e.prototype,"dataTypeService",void 0),vC([ane(0,Or("loggerFactory"))],e.prototype,"setBeans",null),e=vC([ee("columnFactory")],e),e}(j),une=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},dn=function(){function i(e,t,n,r){this.displayedChildren=[],this.localEventService=new ka,this.groupId=t,this.partId=n,this.providedColumnGroup=e,this.pinned=r}return i.createUniqueId=function(e,t){return e+"_"+t},i.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},i.prototype.getParent=function(){return this.parent},i.prototype.setParent=function(e){this.parent=e},i.prototype.getUniqueId=function(){return i.createUniqueId(this.groupId,this.partId)},i.prototype.isEmptyGroup=function(){return this.displayedChildren.length===0},i.prototype.isMoving=function(){var e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(function(t){return t.isMoving()})},i.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(r){r instanceof i&&r.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsService.get("enableRtl")){var e=Je(this.displayedChildren),t=e.getLeft();this.setLeft(t)}else{var n=this.displayedChildren[0].getLeft();this.setLeft(n)}else this.setLeft(null)},i.prototype.getLeft=function(){return this.left},i.prototype.getOldLeft=function(){return this.oldLeft},i.prototype.setLeft=function(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.localEventService.dispatchEvent(this.createAgEvent(i.EVENT_LEFT_CHANGED)))},i.prototype.getPinned=function(){return this.pinned},i.prototype.createAgEvent=function(e){return{type:e}},i.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},i.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},i.prototype.getGroupId=function(){return this.groupId},i.prototype.getPartId=function(){return this.partId},i.prototype.isChildInThisGroupDeepSearch=function(e){var t=!1;return this.children.forEach(function(n){e===n&&(t=!0),n instanceof i&&n.isChildInThisGroupDeepSearch(e)&&(t=!0)}),t},i.prototype.getActualWidth=function(){var e=0;return this.displayedChildren&&this.displayedChildren.forEach(function(t){e+=t.getActualWidth()}),e},i.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var e=!1;return this.displayedChildren.forEach(function(t){t.isResizable()&&(e=!0)}),e},i.prototype.getMinWidth=function(){var e=0;return this.displayedChildren.forEach(function(t){e+=t.getMinWidth()||0}),e},i.prototype.addChild=function(e){this.children||(this.children=[]),this.children.push(e)},i.prototype.getDisplayedChildren=function(){return this.displayedChildren},i.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},i.prototype.getDisplayedLeafColumns=function(){var e=[];return this.addDisplayedLeafColumns(e),e},i.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},i.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},i.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},i.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},i.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},i.prototype.setExpanded=function(e){this.providedColumnGroup.setExpanded(e)},i.prototype.addDisplayedLeafColumns=function(e){this.displayedChildren.forEach(function(t){t instanceof mt?e.push(t):t instanceof i&&t.addDisplayedLeafColumns(e)})},i.prototype.addLeafColumns=function(e){this.children.forEach(function(t){t instanceof mt?e.push(t):t instanceof i&&t.addLeafColumns(e)})},i.prototype.getChildren=function(){return this.children},i.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},i.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},i.prototype.getPaddingLevel=function(){var e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()},i.prototype.calculateDisplayedColumns=function(){var e=this;this.displayedChildren=[];for(var t=this;t!=null&&t.isPadding();)t=t.getParent();var n=t?t.providedColumnGroup.isExpandable():!1;if(!n){this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(i.EVENT_DISPLAYED_CHILDREN_CHANGED));return}this.children.forEach(function(r){var o=r instanceof i&&(!r.displayedChildren||!r.displayedChildren.length);if(!o){var s=r.getColumnGroupShow();switch(s){case"open":t.providedColumnGroup.isExpanded()&&e.displayedChildren.push(r);break;case"closed":t.providedColumnGroup.isExpanded()||e.displayedChildren.push(r);break;default:e.displayedChildren.push(r);break}}}),this.localEventService.dispatchEvent(this.createAgEvent(i.EVENT_DISPLAYED_CHILDREN_CHANGED))},i.EVENT_LEFT_CHANGED="leftChanged",i.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",une([y("gridOptionsService")],i.prototype,"gridOptionsService",void 0),i}(),C=function(){function i(){}return i.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",i.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",i.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",i.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",i.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",i.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",i.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",i.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",i.EVENT_COLUMN_MOVED="columnMoved",i.EVENT_COLUMN_VISIBLE="columnVisible",i.EVENT_COLUMN_PINNED="columnPinned",i.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",i.EVENT_COLUMN_RESIZED="columnResized",i.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",i.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED="suppressMovableColumns",i.EVENT_SUPPRESS_MENU_HIDE_CHANGED="suppressMenuHide",i.EVENT_SUPPRESS_FIELD_DOT_NOTATION="suppressFieldDotNotation",i.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",i.EVENT_COLUMN_HEADER_MOUSE_OVER="columnHeaderMouseOver",i.EVENT_COLUMN_HEADER_MOUSE_LEAVE="columnHeaderMouseLeave",i.EVENT_COLUMN_HEADER_CLICKED="columnHeaderClicked",i.EVENT_COLUMN_HEADER_CONTEXT_MENU="columnHeaderContextMenu",i.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",i.EVENT_ROW_GROUP_OPENED="rowGroupOpened",i.EVENT_ROW_DATA_UPDATED="rowDataUpdated",i.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",i.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",i.EVENT_CHART_CREATED="chartCreated",i.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",i.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",i.EVENT_CHART_DESTROYED="chartDestroyed",i.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",i.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",i.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",i.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",i.EVENT_MODEL_UPDATED="modelUpdated",i.EVENT_CUT_START="cutStart",i.EVENT_CUT_END="cutEnd",i.EVENT_PASTE_START="pasteStart",i.EVENT_PASTE_END="pasteEnd",i.EVENT_FILL_START="fillStart",i.EVENT_FILL_END="fillEnd",i.EVENT_RANGE_DELETE_START="rangeDeleteStart",i.EVENT_RANGE_DELETE_END="rangeDeleteEnd",i.EVENT_UNDO_STARTED="undoStarted",i.EVENT_UNDO_ENDED="undoEnded",i.EVENT_REDO_STARTED="redoStarted",i.EVENT_REDO_ENDED="redoEnded",i.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",i.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",i.EVENT_CELL_CLICKED="cellClicked",i.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",i.EVENT_CELL_MOUSE_DOWN="cellMouseDown",i.EVENT_CELL_CONTEXT_MENU="cellContextMenu",i.EVENT_CELL_VALUE_CHANGED="cellValueChanged",i.EVENT_CELL_EDIT_REQUEST="cellEditRequest",i.EVENT_ROW_VALUE_CHANGED="rowValueChanged",i.EVENT_CELL_FOCUSED="cellFocused",i.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",i.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",i.EVENT_ROW_SELECTED="rowSelected",i.EVENT_SELECTION_CHANGED="selectionChanged",i.EVENT_TOOLTIP_SHOW="tooltipShow",i.EVENT_TOOLTIP_HIDE="tooltipHide",i.EVENT_CELL_KEY_DOWN="cellKeyDown",i.EVENT_CELL_MOUSE_OVER="cellMouseOver",i.EVENT_CELL_MOUSE_OUT="cellMouseOut",i.EVENT_FILTER_CHANGED="filterChanged",i.EVENT_FILTER_MODIFIED="filterModified",i.EVENT_FILTER_OPENED="filterOpened",i.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED="advancedFilterBuilderVisibleChanged",i.EVENT_SORT_CHANGED="sortChanged",i.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",i.EVENT_ROW_CLICKED="rowClicked",i.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",i.EVENT_GRID_READY="gridReady",i.EVENT_GRID_PRE_DESTROYED="gridPreDestroyed",i.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",i.EVENT_VIEWPORT_CHANGED="viewportChanged",i.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",i.EVENT_FIRST_DATA_RENDERED="firstDataRendered",i.EVENT_DRAG_STARTED="dragStarted",i.EVENT_DRAG_STOPPED="dragStopped",i.EVENT_CHECKBOX_CHANGED="checkboxChanged",i.EVENT_ROW_EDITING_STARTED="rowEditingStarted",i.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",i.EVENT_CELL_EDITING_STARTED="cellEditingStarted",i.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",i.EVENT_BODY_SCROLL="bodyScroll",i.EVENT_BODY_SCROLL_END="bodyScrollEnd",i.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",i.EVENT_PAGINATION_CHANGED="paginationChanged",i.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",i.EVENT_STORE_REFRESHED="storeRefreshed",i.EVENT_STATE_UPDATED="stateUpdated",i.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",i.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",i.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",i.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",i.EVENT_FLASH_CELLS="flashCells",i.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",i.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",i.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",i.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",i.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",i.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",i.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",i.EVENT_ROW_DRAG_ENTER="rowDragEnter",i.EVENT_ROW_DRAG_MOVE="rowDragMove",i.EVENT_ROW_DRAG_LEAVE="rowDragLeave",i.EVENT_ROW_DRAG_END="rowDragEnd",i.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",i.EVENT_POPUP_TO_FRONT="popupToFront",i.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",i.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",i.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",i.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",i.EVENT_STORE_UPDATED="storeUpdated",i.EVENT_FILTER_DESTROYED="filterDestroyed",i.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted",i.EVENT_ROW_COUNT_READY="rowCountReady",i.EVENT_ADVANCED_FILTER_ENABLED_CHANGED="advancedFilterEnabledChanged",i.EVENT_DATA_TYPES_INFERRED="dataTypesInferred",i.EVENT_FIELD_VALUE_CHANGED="fieldValueChanged",i.EVENT_FIELD_PICKER_VALUE_SELECTED="fieldPickerValueSelected",i.EVENT_SIDE_BAR_UPDATED="sideBarUpdated",i}(),kB=function(){function i(){this.existingIds={}}return i.prototype.getInstanceIdForKey=function(e){var t=this.existingIds[e],n;return typeof t!="number"?n=0:n=t+1,this.existingIds[e]=n,n},i}(),cne=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),wT=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},hd="ag-Grid-AutoColumn",dne=function(i){cne(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createAutoGroupColumns=function(t){var n=this,r=[],o=this.gridOptionsService.get("treeData"),s=this.gridOptionsService.isGroupMultiAutoColumn();return o&&s&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),s=!1),s?t.forEach(function(a,l){r.push(n.createOneAutoGroupColumn(a,l))}):r.push(this.createOneAutoGroupColumn()),r},e.prototype.updateAutoGroupColumns=function(t){var n=this;t.forEach(function(r,o){return n.updateOneAutoGroupColumn(r,o)})},e.prototype.createOneAutoGroupColumn=function(t,n){var r;t?r="".concat(hd,"-").concat(t.getId()):r=hd;var o=this.createAutoGroupColDef(r,t,n);o.colId=r;var s=new mt(o,null,r,!0);return this.context.createBean(s),s},e.prototype.updateOneAutoGroupColumn=function(t,n){var r=t.getColDef(),o=typeof r.showRowGroup=="string"?r.showRowGroup:void 0,s=o!=null?this.columnModel.getPrimaryColumn(o):void 0,a=this.createAutoGroupColDef(t.getId(),s??void 0,n);t.setColDef(a,null),this.columnFactory.applyColumnState(t,a)},e.prototype.createAutoGroupColDef=function(t,n,r){var o=this.createBaseColDef(n),s=this.gridOptionsService.get("autoGroupColumnDef");if(Qi(o,s),o=this.columnFactory.addColumnDefaultAndTypes(o,t),!this.gridOptionsService.get("treeData")){var a=ue(o.field)&&ue(o.valueGetter)&&ue(o.filterValueGetter)&&o.filter!=="agGroupColumnFilter";a&&(o.filter=!1)}r&&r>0&&(o.headerCheckboxSelection=!1);var l=this.gridOptionsService.isColumnsSortingCoupledToGroup(),u=o.valueGetter||o.field!=null;return l&&!u&&(o.sortIndex=void 0,o.initialSort=void 0),o},e.prototype.createBaseColDef=function(t){var n=this.gridOptionsService.get("autoGroupColumnDef"),r=this.localeService.getLocaleTextFunc(),o={headerName:r("group","Group")},s=n&&(n.cellRenderer||n.cellRendererSelector);if(s||(o.cellRenderer="agGroupCellRenderer"),t){var a=t.getColDef();Object.assign(o,{headerName:this.columnModel.getDisplayNameForColumn(t,"header"),headerValueGetter:a.headerValueGetter}),a.cellRenderer&&Object.assign(o,{cellRendererParams:{innerRenderer:a.cellRenderer,innerRendererParams:a.cellRendererParams}}),o.showRowGroup=t.getColId()}else o.showRowGroup=!0;return o},wT([y("columnModel")],e.prototype,"columnModel",void 0),wT([y("columnFactory")],e.prototype,"columnFactory",void 0),e=wT([ee("autoGroupColService")],e),e}(j),hne=/[&<>"']/g,pne={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function fne(i){var e=String.fromCharCode;function t(d){var h=[];if(!d)return[];for(var p=d.length,f=0,g,v;f<p;)g=d.charCodeAt(f++),g>=55296&&g<=56319&&f<p?(v=d.charCodeAt(f++),(v&64512)==56320?h.push(((g&1023)<<10)+(v&1023)+65536):(h.push(g),f--)):h.push(g);return h}function n(d){if(d>=55296&&d<=57343)throw Error("Lone surrogate U+"+d.toString(16).toUpperCase()+" is not a scalar value")}function r(d,h){return e(d>>h&63|128)}function o(d){if(d>=0&&d<=31&&d!==10){var h=d.toString(16).toUpperCase(),p=h.padStart(4,"0");return"_x".concat(p,"_")}if(!(d&4294967168))return e(d);var f="";return d&4294965248?d&4294901760?d&4292870144||(f=e(d>>18&7|240),f+=r(d,12),f+=r(d,6)):(n(d),f=e(d>>12&15|224),f+=r(d,6)):f=e(d>>6&31|192),f+=e(d&63|128),f}for(var s=t(i),a=s.length,l=-1,u,c="";++l<a;)u=s[l],c+=o(u);return c}function gne(i){return i[0].toUpperCase()+i.substring(1).toLowerCase()}function tn(i,e){if(i==null)return null;var t=i.toString().toString();return e?t:t.replace(hne,function(n){return pne[n]})}function VB(i){if(!i||i==null)return null;var e=/([a-z])([A-Z])/g,t=/([A-Z]+)([A-Z])([a-z])/g,n=i.replace(e,"$1 $2").replace(t,"$1 $2$3").replace(/\./g," ").split(" ");return n.map(function(r){return r.substring(0,1).toUpperCase()+(r.length>1?r.substring(1,r.length):"")}).join(" ")}function GB(i){return i.replace(/[A-Z]/g,function(e){return"-".concat(e.toLocaleLowerCase())})}var vne=Object.freeze({__proto__:null,utf8_encode:fne,capitalise:gne,escapeString:tn,camelCaseToHumanText:VB,camelCaseToHyphenated:GB});function xa(i){var e=new Map;return i.forEach(function(t){return e.set(t[0],t[1])}),e}function mne(i,e){var t=new Map;return i.forEach(function(n){return t.set(e(n),n)}),t}function yne(i){var e=[];return i.forEach(function(t,n){return e.push(n)}),e}var Cne=Object.freeze({__proto__:null,convertToMap:xa,mapById:mne,keys:yne}),_ne=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),kn=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},wne=function(i,e){return function(t,n){e(t,n,i)}},Sne=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t},ji=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Ui=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},ST=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ene=function(i){_ne(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.primaryHeaderRowCount=0,t.secondaryHeaderRowCount=0,t.gridHeaderRowCount=0,t.displayedColumnsLeft=[],t.displayedColumnsRight=[],t.displayedColumnsCenter=[],t.displayedColumns=[],t.displayedColumnsAndGroupsMap={},t.viewportColumns=[],t.viewportColumnsHash="",t.headerViewportColumns=[],t.viewportColumnsCenter=[],t.headerViewportColumnsCenter=[],t.viewportRowLeft={},t.viewportRowRight={},t.viewportRowCenter={},t.autoHeightActiveAtLeastOnce=!1,t.rowGroupColumns=[],t.valueColumns=[],t.pivotColumns=[],t.ready=!1,t.autoGroupsNeedBuilding=!1,t.forceRecreateAutoGroups=!1,t.pivotMode=!1,t.bodyWidth=0,t.leftWidth=0,t.rightWidth=0,t.bodyWidthDirty=!0,t.shouldQueueResizeOperations=!1,t.resizeOperationQueue=[],t}return e.prototype.init=function(){var t=this;this.suppressColumnVirtualisation=this.gridOptionsService.get("suppressColumnVirtualisation");var n=this.gridOptionsService.get("pivotMode");this.isPivotSettingAllowed(n)&&(this.pivotMode=n),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],function(){return t.buildAutoGroupColumns()}),this.addManagedPropertyListener("autoGroupColumnDef",function(){return t.onAutoGroupColumnDefChanged()}),this.addManagedPropertyListeners(["defaultColDef","columnTypes","suppressFieldDotNotation"],function(r){return t.onSharedColDefChanged(r.source)}),this.addManagedPropertyListener("pivotMode",function(r){return t.setPivotMode(t.gridOptionsService.get("pivotMode"),r.source)}),this.addManagedListener(this.eventService,C.EVENT_FIRST_DATA_RENDERED,function(){return t.onFirstDataRendered()})},e.prototype.buildAutoGroupColumns=function(){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged"))},e.prototype.onAutoGroupColumnDefChanged=function(){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns)},e.prototype.onSharedColDefChanged=function(t){t===void 0&&(t="api"),this.gridColumns&&(this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns),this.createColumnsFromColumnDefs(!0,t))},e.prototype.setColumnDefs=function(t,n){n===void 0&&(n="api");var r=!!this.columnDefs;this.columnDefs=t,this.createColumnsFromColumnDefs(r,n)},e.prototype.recreateColumnDefs=function(t){t===void 0&&(t="api"),this.onSharedColDefChanged(t)},e.prototype.destroyOldColumns=function(t,n){var r={};if(t){this.columnUtils.depthFirstOriginalTreeSearch(null,t,function(s){r[s.getInstanceId()]=s}),n&&this.columnUtils.depthFirstOriginalTreeSearch(null,n,function(s){r[s.getInstanceId()]=null});var o=Object.values(r).filter(function(s){return s!=null});this.destroyBeans(o)}},e.prototype.destroyColumns=function(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)},e.prototype.createColumnsFromColumnDefs=function(t,n){var r=this;n===void 0&&(n="api");var o=t?this.compareColumnStatesAndDispatchEvents(n):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var s=this.primaryColumns,a=this.primaryColumnTree,l=this.columnFactory.createColumnTree(this.columnDefs,!0,a);this.destroyOldColumns(this.primaryColumnTree,l.columnTree),this.primaryColumnTree=l.columnTree,this.primaryHeaderRowCount=l.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(d){return r.primaryColumnsMap[d.getId()]=d}),this.extractRowGroupColumns(n,s),this.extractPivotColumns(n,s),this.extractValueColumns(n,s),this.ready=!0;var u=this.gridColsArePrimary===void 0,c=this.gridColsArePrimary||u||this.autoGroupsNeedBuilding;c&&(this.updateGridColumns(),t&&this.gridColsArePrimary&&!this.gridOptionsService.get("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(n),this.checkViewportColumns()),this.dispatchEverythingChanged(n),o&&o(),this.dispatchNewColumnsLoaded(n)},e.prototype.dispatchNewColumnsLoaded=function(t){var n={type:C.EVENT_NEW_COLUMNS_LOADED,source:t};this.eventService.dispatchEvent(n),t==="gridInitializing"&&this.onColumnsReady()},e.prototype.dispatchEverythingChanged=function(t){t===void 0&&(t="api");var n={type:C.EVENT_COLUMN_EVERYTHING_CHANGED,source:t};this.eventService.dispatchEvent(n)},e.prototype.orderGridColumnsLikePrimary=function(){var t=this,n=this.primaryColumns;if(n){var r=n.filter(function(s){return t.gridColumns.indexOf(s)>=0}),o=this.gridColumns.filter(function(s){return r.indexOf(s)<0});this.gridColumns=Ui(Ui([],ji(o),!1),ji(r),!1),this.gridColumns=this.placeLockedColumns(this.gridColumns)}},e.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},e.prototype.setViewport=function(){this.gridOptionsService.get("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},e.prototype.getDisplayedColumnsStartingAt=function(t){for(var n=t,r=[];n!=null;)r.push(n),n=this.getDisplayedColAfter(n);return r},e.prototype.checkViewportColumns=function(t){if(t===void 0&&(t=!1),this.displayedColumnsCenter!=null){var n=this.extractViewport();if(n){var r={type:C.EVENT_VIRTUAL_COLUMNS_CHANGED,afterScroll:t};this.eventService.dispatchEvent(r)}}},e.prototype.setViewportPosition=function(t,n,r){r===void 0&&(r=!1),(t!==this.scrollWidth||n!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=t,this.scrollPosition=n,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns(r))},e.prototype.isPivotMode=function(){return this.pivotMode},e.prototype.isPivotSettingAllowed=function(t){return t&&this.gridOptionsService.get("treeData")?(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1):!0},e.prototype.setPivotMode=function(t,n){if(n===void 0&&(n="api"),!(t===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode))&&(this.pivotMode=t,!!this.gridColumns)){this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(n);var r={type:C.EVENT_COLUMN_PIVOT_MODE_CHANGED};this.eventService.dispatchEvent(r)}},e.prototype.getSecondaryPivotColumn=function(t,n){if(ue(this.secondaryColumns))return null;var r=this.getPrimaryColumn(n),o=null;return this.secondaryColumns.forEach(function(s){var a=s.getColDef().pivotKeys,l=s.getColDef().pivotValueColumn,u=Rs(a,t),c=l===r;u&&c&&(o=s)}),o},e.prototype.setBeans=function(t){this.logger=t.create("columnModel")},e.prototype.setFirstRightAndLastLeftPinned=function(t){var n,r;this.gridOptionsService.get("enableRtl")?(n=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,r=this.displayedColumnsRight?Je(this.displayedColumnsRight):null):(n=this.displayedColumnsLeft?Je(this.displayedColumnsLeft):null,r=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(o){o.setLastLeftPinned(o===n,t),o.setFirstRightPinned(o===r,t)})},e.prototype.autoSizeColumns=function(t){var n=this;if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return n.autoSizeColumns(t)});return}var r=t.columns,o=t.skipHeader,s=t.skipHeaderGroups,a=t.stopAtGroup,l=t.source,u=l===void 0?"api":l;this.animationFrameService.flushAllFrames();for(var c=[],d=-1,h=o??this.gridOptionsService.get("skipHeaderOnAutoSize"),p=s??h;d!==0;)d=0,this.actionOnGridColumns(r,function(f){if(c.indexOf(f)>=0)return!1;var g=n.autoWidthCalculator.getPreferredWidthForColumn(f,h);if(g>0){var v=n.normaliseColumnWidth(f,g);f.setActualWidth(v,u),c.push(f),d++}return!0},u);p||this.autoSizeColumnGroupsByColumns(r,u,a),this.dispatchColumnResizedEvent(c,!0,"autosizeColumns")},e.prototype.dispatchColumnResizedEvent=function(t,n,r,o){if(o===void 0&&(o=null),t&&t.length){var s={type:C.EVENT_COLUMN_RESIZED,columns:t,column:t.length===1?t[0]:null,flexColumns:o,finished:n,source:r};this.eventService.dispatchEvent(s)}},e.prototype.dispatchColumnChangedEvent=function(t,n,r){var o={type:t,columns:n,column:n&&n.length==1?n[0]:null,source:r};this.eventService.dispatchEvent(o)},e.prototype.dispatchColumnMovedEvent=function(t){var n=t.movedColumns,r=t.source,o=t.toIndex,s=t.finished,a={type:C.EVENT_COLUMN_MOVED,columns:n,column:n&&n.length===1?n[0]:null,toIndex:o,finished:s,source:r};this.eventService.dispatchEvent(a)},e.prototype.dispatchColumnPinnedEvent=function(t,n){if(t.length){var r=t.length===1?t[0]:null,o=this.getCommonValue(t,function(a){return a.getPinned()}),s={type:C.EVENT_COLUMN_PINNED,pinned:o??null,columns:t,column:r,source:n};this.eventService.dispatchEvent(s)}},e.prototype.dispatchColumnVisibleEvent=function(t,n){if(t.length){var r=t.length===1?t[0]:null,o=this.getCommonValue(t,function(a){return a.isVisible()}),s={type:C.EVENT_COLUMN_VISIBLE,visible:o,columns:t,column:r,source:n};this.eventService.dispatchEvent(s)}},e.prototype.autoSizeColumn=function(t,n,r){r===void 0&&(r="api"),t&&this.autoSizeColumns({columns:[t],skipHeader:n,skipHeaderGroups:!0,source:r})},e.prototype.autoSizeColumnGroupsByColumns=function(t,n,r){var o,s,a,l,u=new Set,c=this.getGridColumns(t);c.forEach(function(w){for(var S=w.getParent();S&&S!=r;)S.isPadding()||u.add(S),S=S.getParent()});var d,h=[];try{for(var p=ST(u),f=p.next();!f.done;f=p.next()){var g=f.value;try{for(var v=(a=void 0,ST(this.ctrlsService.getHeaderRowContainerCtrls())),m=v.next();!m.done;m=v.next()){var _=m.value;if(d=_.getHeaderCtrlForColumn(g),d)break}}catch(w){a={error:w}}finally{try{m&&!m.done&&(l=v.return)&&l.call(v)}finally{if(a)throw a.error}}d&&d.resizeLeafColumnsToFit(n)}}catch(w){o={error:w}}finally{try{f&&!f.done&&(s=p.return)&&s.call(p)}finally{if(o)throw o.error}}return h},e.prototype.autoSizeAllColumns=function(t,n){var r=this;if(n===void 0&&(n="api"),this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return r.autoSizeAllColumns(t,n)});return}var o=this.getAllDisplayedColumns();this.autoSizeColumns({columns:o,skipHeader:t,source:n})},e.prototype.getColumnsFromTree=function(t){var n=[],r=function(o){for(var s=0;s<o.length;s++){var a=o[s];a instanceof mt?n.push(a):a instanceof Ut&&r(a.getChildren())}};return r(t),n},e.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},e.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},e.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},e.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},e.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},e.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},e.prototype.isColumnDisplayed=function(t){return this.getAllDisplayedColumns().indexOf(t)>=0},e.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},e.prototype.getViewportColumns=function(){return this.viewportColumns},e.prototype.getDisplayedLeftColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsLeft):this.displayedColumnsLeft},e.prototype.getDisplayedRightColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsRight):this.displayedColumnsRight},e.prototype.isColSpanActive=function(){return this.colSpanActive},e.prototype.getDisplayedColumnsForRow=function(t,n,r,o){for(var s=[],a=null,l=function(d){var h=n[d],p=n.length-d,f=Math.min(h.getColSpan(t),p),g=[h];if(f>1){for(var v=f-1,m=1;m<=v;m++)g.push(n[d+m]);d+=v}var _;if(r?(_=!1,g.forEach(function(S){r(S)&&(_=!0)})):_=!0,_){if(s.length===0&&a){var w=o?o(h):!1;w&&s.push(a)}s.push(h)}a=h,u=d},u,c=0;c<n.length;c++)l(c),c=u;return s},e.prototype.getViewportCenterColumnsForRow=function(t){var n=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var r=function(s){var a=s.getLeft();return B(a)&&a>n.viewportLeft},o=this.suppressColumnVirtualisation?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(t,this.displayedColumnsCenter,o,r)},e.prototype.isColumnAtEdge=function(t,n){var r=this.getAllDisplayedColumns();if(!r.length)return!1;var o=n==="first",s;if(t instanceof dn){var a=t.getDisplayedLeafColumns();if(!a.length)return!1;s=o?a[0]:Je(a)}else s=t;return(o?r[0]:Je(r))===s},e.prototype.getAriaColumnIndex=function(t){var n;return t instanceof dn?n=t.getLeafColumns()[0]:n=t,this.ariaOrderColumns.indexOf(n)+1},e.prototype.isColumnInHeaderViewport=function(t){return t.isAutoHeaderHeight()?!0:this.isColumnInRowViewport(t)},e.prototype.isColumnInRowViewport=function(t){if(t.isAutoHeight()||this.viewportRight===0)return!0;var n=t.getLeft()||0,r=n+t.getActualWidth(),o=this.viewportLeft-200,s=this.viewportRight+200,a=n<o&&r<o,l=n>s&&r>s;return!a&&!l},e.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},e.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},e.prototype.updatePrimaryColumnList=function(t,n,r,o,s,a){var l=this;if(a===void 0&&(a="api"),!(!t||Yi(t))){var u=!1;if(t.forEach(function(d){var h=l.getPrimaryColumn(d);if(h){if(r){if(n.indexOf(h)>=0)return;n.push(h)}else{if(n.indexOf(h)<0)return;Ki(n,h)}o(h),u=!0}}),!!u){this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(a);var c={type:s,columns:n,column:n.length===1?n[0]:null,source:a};this.eventService.dispatchEvent(c)}}},e.prototype.setRowGroupColumns=function(t,n){n===void 0&&(n="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(t,this.rowGroupColumns,C.EVENT_COLUMN_ROW_GROUP_CHANGED,!0,this.setRowGroupActive.bind(this),n)},e.prototype.setRowGroupActive=function(t,n,r){t!==n.isRowGroupActive()&&(n.setRowGroupActive(t,r),t&&!this.gridOptionsService.get("suppressRowGroupHidesColumns")&&this.setColumnVisible(n,!1,r),!t&&!this.gridOptionsService.get("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnVisible(n,!0,r))},e.prototype.addRowGroupColumn=function(t,n){n===void 0&&(n="api"),t&&this.addRowGroupColumns([t],n)},e.prototype.addRowGroupColumns=function(t,n){n===void 0&&(n="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),C.EVENT_COLUMN_ROW_GROUP_CHANGED,n)},e.prototype.removeRowGroupColumns=function(t,n){n===void 0&&(n="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),C.EVENT_COLUMN_ROW_GROUP_CHANGED,n)},e.prototype.removeRowGroupColumn=function(t,n){n===void 0&&(n="api"),t&&this.removeRowGroupColumns([t],n)},e.prototype.addPivotColumns=function(t,n){n===void 0&&(n="api"),this.updatePrimaryColumnList(t,this.pivotColumns,!0,function(r){return r.setPivotActive(!0,n)},C.EVENT_COLUMN_PIVOT_CHANGED,n)},e.prototype.setPivotColumns=function(t,n){n===void 0&&(n="api"),this.setPrimaryColumnList(t,this.pivotColumns,C.EVENT_COLUMN_PIVOT_CHANGED,!0,function(r,o){o.setPivotActive(r,n)},n)},e.prototype.addPivotColumn=function(t,n){n===void 0&&(n="api"),this.addPivotColumns([t],n)},e.prototype.removePivotColumns=function(t,n){n===void 0&&(n="api"),this.updatePrimaryColumnList(t,this.pivotColumns,!1,function(r){return r.setPivotActive(!1,n)},C.EVENT_COLUMN_PIVOT_CHANGED,n)},e.prototype.removePivotColumn=function(t,n){n===void 0&&(n="api"),this.removePivotColumns([t],n)},e.prototype.setPrimaryColumnList=function(t,n,r,o,s,a){var l=this;if(this.gridColumns){var u=new Map;n.forEach(function(c,d){return u.set(c,d)}),n.length=0,B(t)&&t.forEach(function(c){var d=l.getPrimaryColumn(c);d&&n.push(d)}),n.forEach(function(c,d){var h=u.get(c);if(h===void 0){u.set(c,0);return}o&&h!==d||u.delete(c)}),(this.primaryColumns||[]).forEach(function(c){var d=n.indexOf(c)>=0;s(d,c)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(a),this.dispatchColumnChangedEvent(r,Ui([],ji(u.keys()),!1),a)}},e.prototype.setValueColumns=function(t,n){n===void 0&&(n="api"),this.setPrimaryColumnList(t,this.valueColumns,C.EVENT_COLUMN_VALUE_CHANGED,!1,this.setValueActive.bind(this),n)},e.prototype.setValueActive=function(t,n,r){if(t!==n.isValueActive()&&(n.setValueActive(t,r),t&&!n.getAggFunc())){var o=this.aggFuncService.getDefaultAggFunc(n);n.setAggFunc(o)}},e.prototype.addValueColumns=function(t,n){n===void 0&&(n="api"),this.updatePrimaryColumnList(t,this.valueColumns,!0,this.setValueActive.bind(this,!0),C.EVENT_COLUMN_VALUE_CHANGED,n)},e.prototype.addValueColumn=function(t,n){n===void 0&&(n="api"),t&&this.addValueColumns([t],n)},e.prototype.removeValueColumn=function(t,n){n===void 0&&(n="api"),this.removeValueColumns([t],n)},e.prototype.removeValueColumns=function(t,n){n===void 0&&(n="api"),this.updatePrimaryColumnList(t,this.valueColumns,!1,this.setValueActive.bind(this,!1),C.EVENT_COLUMN_VALUE_CHANGED,n)},e.prototype.normaliseColumnWidth=function(t,n){var r=t.getMinWidth();B(r)&&n<r&&(n=r);var o=t.getMaxWidth();return B(o)&&t.isGreaterThanMax(n)&&(n=o),n},e.prototype.getPrimaryOrGridColumn=function(t){var n=this.getPrimaryColumn(t);return n||this.getGridColumn(t)},e.prototype.setColumnWidths=function(t,n,r,o){var s=this;o===void 0&&(o="api");var a=[];t.forEach(function(l){var u=s.getPrimaryOrGridColumn(l.key);if(u){a.push({width:l.newWidth,ratios:[1],columns:[u]});var c=s.gridOptionsService.get("colResizeDefault")==="shift";if(c&&(n=!n),n){var d=s.getDisplayedColAfter(u);if(!d)return;var h=u.getActualWidth()-l.newWidth,p=d.getActualWidth()+h;a.push({width:p,ratios:[1],columns:[d]})}}}),a.length!==0&&this.resizeColumnSets({resizeSets:a,finished:r,source:o})},e.prototype.checkMinAndMaxWidthsForSet=function(t){var n=t.columns,r=t.width,o=0,s=0,a=!0;n.forEach(function(c){var d=c.getMinWidth();o+=d||0;var h=c.getMaxWidth();B(h)&&h>0?s+=h:a=!1});var l=r>=o,u=!a||r<=s;return l&&u},e.prototype.resizeColumnSets=function(t){var n=this,r=t.resizeSets,o=t.finished,s=t.source,a=!r||r.every(function(f){return n.checkMinAndMaxWidthsForSet(f)});if(!a){if(o){var l=r&&r.length>0?r[0].columns:null;this.dispatchColumnResizedEvent(l,o,s)}return}var u=[],c=[];r.forEach(function(f){var g=f.width,v=f.columns,m=f.ratios,_={},w={};v.forEach(function(A){return c.push(A)});for(var S=!0,R=0,T=function(){if(R++,R>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";S=!1;var A=[],U=0,q=g;v.forEach(function(oe,Ae){var tt=w[oe.getId()];if(tt)q-=_[oe.getId()];else{A.push(oe);var je=m[Ae];U+=je}});var $=1/U;A.forEach(function(oe,Ae){var tt=Ae===A.length-1,je;tt?je=q:(je=Math.round(m[Ae]*g*$),q-=je);var J=oe.getMinWidth(),Y=oe.getMaxWidth();B(J)&&je<J?(je=J,w[oe.getId()]=!0,S=!0):B(Y)&&Y>0&&je>Y&&(je=Y,w[oe.getId()]=!0,S=!0),_[oe.getId()]=je})};S;){var x=T();if(x==="break")break}v.forEach(function(A){var U=_[A.getId()],q=A.getActualWidth();q!==U&&(A.setActualWidth(U,s),u.push(A))})});var d=u.length>0,h=[];d&&(h=this.refreshFlexedColumns({resizingCols:c,skipSetLeft:!0}),this.setLeftValues(s),this.updateBodyWidths(),this.checkViewportColumns());var p=c.concat(h);(d||o)&&this.dispatchColumnResizedEvent(p,o,s,h)},e.prototype.setColumnAggFunc=function(t,n,r){if(r===void 0&&(r="api"),!!t){var o=this.getPrimaryColumn(t);o&&(o.setAggFunc(n),this.dispatchColumnChangedEvent(C.EVENT_COLUMN_VALUE_CHANGED,[o],r))}},e.prototype.moveRowGroupColumn=function(t,n,r){if(r===void 0&&(r="api"),!this.isRowGroupEmpty()){var o=this.rowGroupColumns[t],s=this.rowGroupColumns.slice(t,n);this.rowGroupColumns.splice(t,1),this.rowGroupColumns.splice(n,0,o);var a={type:C.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:s,column:s.length===1?s[0]:null,source:r};this.eventService.dispatchEvent(a)}},e.prototype.moveColumns=function(t,n,r,o){if(r===void 0&&(r="api"),o===void 0&&(o=!0),!!this.gridColumns){if(this.columnAnimationService.start(),n>this.gridColumns.length-t.length){console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+n),console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");return}var s=this.getGridColumns(t),a=!this.doesMovePassRules(s,n);a||(SA(this.gridColumns,s,n),this.updateDisplayedColumns(r),this.dispatchColumnMovedEvent({movedColumns:s,source:r,toIndex:n,finished:o}),this.columnAnimationService.finish())}},e.prototype.doesMovePassRules=function(t,n){var r=this.getProposedColumnOrder(t,n);return this.doesOrderPassRules(r)},e.prototype.doesOrderPassRules=function(t){return!(!this.doesMovePassMarryChildren(t)||!this.doesMovePassLockedPositions(t))},e.prototype.getProposedColumnOrder=function(t,n){var r=this.gridColumns.slice();return SA(r,t,n),r},e.prototype.sortColumnsLikeGridColumns=function(t){var n=this;if(!(!t||t.length<=1)){var r=t.filter(function(o){return n.gridColumns.indexOf(o)<0}).length>0;r||t.sort(function(o,s){var a=n.gridColumns.indexOf(o),l=n.gridColumns.indexOf(s);return a-l})}},e.prototype.doesMovePassLockedPositions=function(t){var n=0,r=!0,o=function(s){return s?s===!0||s==="left"?0:2:1};return t.forEach(function(s){var a=o(s.getColDef().lockPosition);a<n&&(r=!1),n=a}),r},e.prototype.doesMovePassMarryChildren=function(t){var n=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(r){if(r instanceof Ut){var o=r,s=o.getColGroupDef(),a=s&&s.marryChildren;if(a){var l=[];o.getLeafColumns().forEach(function(p){var f=t.indexOf(p);l.push(f)});var u=Math.max.apply(Math,l),c=Math.min.apply(Math,l),d=u-c,h=o.getLeafColumns().length-1;d>h&&(n=!1)}}}),n},e.prototype.moveColumn=function(t,n,r){r===void 0&&(r="api"),this.moveColumns([t],n,r)},e.prototype.moveColumnByIndex=function(t,n,r){if(r===void 0&&(r="api"),!!this.gridColumns){var o=this.gridColumns[t];this.moveColumn(o,n,r)}},e.prototype.getColumnDefs=function(){var t=this;if(this.primaryColumns){var n=this.primaryColumns.slice();return this.gridColsArePrimary?n.sort(function(r,o){return t.gridColumns.indexOf(r)-t.gridColumns.indexOf(o)}):this.lastPrimaryOrder&&n.sort(function(r,o){return t.lastPrimaryOrder.indexOf(r)-t.lastPrimaryOrder.indexOf(o)}),this.columnDefFactory.buildColumnDefs(n,this.rowGroupColumns,this.pivotColumns)}},e.prototype.getBodyContainerWidth=function(){return this.bodyWidth},e.prototype.getContainerWidth=function(t){switch(t){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}},e.prototype.updateBodyWidths=function(){var t=this.getWidthOfColsInList(this.displayedColumnsCenter),n=this.getWidthOfColsInList(this.displayedColumnsLeft),r=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==t;var o=this.bodyWidth!==t||this.leftWidth!==n||this.rightWidth!==r;if(o){this.bodyWidth=t,this.leftWidth=n,this.rightWidth=r;var s={type:C.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED};this.eventService.dispatchEvent(s)}},e.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},e.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},e.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},e.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},e.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},e.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},e.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},e.prototype.getDisplayedColumns=function(t){switch(t){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},e.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},e.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},e.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},e.prototype.getAllGridColumns=function(){var t;return(t=this.gridColumns)!==null&&t!==void 0?t:[]},e.prototype.isEmpty=function(){return Yi(this.gridColumns)},e.prototype.isRowGroupEmpty=function(){return Yi(this.rowGroupColumns)},e.prototype.setColumnVisible=function(t,n,r){r===void 0&&(r="api"),this.setColumnsVisible([t],n,r)},e.prototype.setColumnsVisible=function(t,n,r){n===void 0&&(n=!1),r===void 0&&(r="api"),this.applyColumnState({state:t.map(function(o){return{colId:typeof o=="string"?o:o.getColId(),hide:!n}})},r)},e.prototype.setColumnPinned=function(t,n,r){r===void 0&&(r="api"),t&&this.setColumnsPinned([t],n,r)},e.prototype.setColumnsPinned=function(t,n,r){if(r===void 0&&(r="api"),!!this.gridColumns){if(this.gridOptionsService.isDomLayout("print")){console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();var o;n===!0||n==="left"?o="left":n==="right"?o="right":o=null,this.actionOnGridColumns(t,function(s){return s.getPinned()!==o?(s.setPinned(o),!0):!1},r,function(){var s={type:C.EVENT_COLUMN_PINNED,pinned:o,column:null,columns:null,source:r};return s}),this.columnAnimationService.finish()}},e.prototype.actionOnGridColumns=function(t,n,r,o){var s=this;if(!Yi(t)){var a=[];if(t.forEach(function(u){var c=s.getGridColumn(u);if(c){var d=n(c);d!==!1&&a.push(c)}}),!!a.length&&(this.updateDisplayedColumns(r),B(o)&&o)){var l=o();l.columns=a,l.column=a.length===1?a[0]:null,this.eventService.dispatchEvent(l)}}},e.prototype.getDisplayedColBefore=function(t){var n=this.getAllDisplayedColumns(),r=n.indexOf(t);return r>0?n[r-1]:null},e.prototype.getDisplayedColAfter=function(t){var n=this.getAllDisplayedColumns(),r=n.indexOf(t);return r<n.length-1?n[r+1]:null},e.prototype.getDisplayedGroupAfter=function(t){return this.getDisplayedGroupAtDirection(t,"After")},e.prototype.getDisplayedGroupBefore=function(t){return this.getDisplayedGroupAtDirection(t,"Before")},e.prototype.getDisplayedGroupAtDirection=function(t,n){for(var r=t.getProvidedColumnGroup().getLevel()+t.getPaddingLevel(),o=t.getDisplayedLeafColumns(),s=n==="After"?Je(o):o[0],a="getDisplayedCol".concat(n);;){var l=this[a](s);if(!l)return null;var u=this.getColumnGroupAtLevel(l,r);if(u!==t)return u}},e.prototype.getColumnGroupAtLevel=function(t,n){for(var r=t.getParent(),o,s;;){var a=r.getProvidedColumnGroup();if(o=a.getLevel(),s=r.getPaddingLevel(),o+s<=n)break;r=r.getParent()}return r},e.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},e.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},e.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var t;return(t=[]).concat.apply(t,[this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]])},e.prototype.createStateItemFromColumn=function(t){var n=t.isRowGroupActive()?this.rowGroupColumns.indexOf(t):null,r=t.isPivotActive()?this.pivotColumns.indexOf(t):null,o=t.isValueActive()?t.getAggFunc():null,s=t.getSort()!=null?t.getSort():null,a=t.getSortIndex()!=null?t.getSortIndex():null,l=t.getFlex()!=null&&t.getFlex()>0?t.getFlex():null,u={colId:t.getColId(),width:t.getActualWidth(),hide:!t.isVisible(),pinned:t.getPinned(),sort:s,sortIndex:a,aggFunc:o,rowGroup:t.isRowGroupActive(),rowGroupIndex:n,pivot:t.isPivotActive(),pivotIndex:r,flex:l};return u},e.prototype.getColumnState=function(){if(ue(this.primaryColumns)||!this.isAlive())return[];var t=this.getPrimaryAndSecondaryAndAutoColumns(),n=t.map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(n),n},e.prototype.orderColumnStateList=function(t){var n=xa(this.gridColumns.map(function(r,o){return[r.getColId(),o]}));t.sort(function(r,o){var s=n.has(r.colId)?n.get(r.colId):-1,a=n.has(o.colId)?n.get(o.colId):-1;return s-a})},e.prototype.resetColumnState=function(t){var n=this;if(t===void 0&&(t="api"),!Yi(this.primaryColumns)){var r=this.getColumnsFromTree(this.primaryColumnTree),o=[],s=1e3,a=1e3,l=[];this.groupAutoColumns&&(l=l.concat(this.groupAutoColumns)),r&&(l=l.concat(r)),l.forEach(function(u){var c=n.getColumnStateFromColDef(u);ue(c.rowGroupIndex)&&c.rowGroup&&(c.rowGroupIndex=s++),ue(c.pivotIndex)&&c.pivot&&(c.pivotIndex=a++),o.push(c)}),this.applyColumnState({state:o,applyOrder:!0},t)}},e.prototype.getColumnStateFromColDef=function(t){var n=function(v,m){return v??m??null},r=t.getColDef(),o=n(r.sort,r.initialSort),s=n(r.sortIndex,r.initialSortIndex),a=n(r.hide,r.initialHide),l=n(r.pinned,r.initialPinned),u=n(r.width,r.initialWidth),c=n(r.flex,r.initialFlex),d=n(r.rowGroupIndex,r.initialRowGroupIndex),h=n(r.rowGroup,r.initialRowGroup);d==null&&(h==null||h==!1)&&(d=null,h=null);var p=n(r.pivotIndex,r.initialPivotIndex),f=n(r.pivot,r.initialPivot);p==null&&(f==null||f==!1)&&(p=null,f=null);var g=n(r.aggFunc,r.initialAggFunc);return{colId:t.getColId(),sort:o,sortIndex:s,hide:a,pinned:l,width:u,flex:c,rowGroup:h,rowGroupIndex:d,pivot:f,pivotIndex:p,aggFunc:g}},e.prototype.applyColumnState=function(t,n){var r=this;if(Yi(this.primaryColumns))return!1;if(t&&t.state&&!t.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var o=function(u,c,d){var h=r.compareColumnStatesAndDispatchEvents(n);r.autoGroupsNeedBuilding=!0;var p=c.slice(),f={},g={},v=[],m=[],_=0,w=r.rowGroupColumns.slice(),S=r.pivotColumns.slice();u.forEach(function(A){var U=A.colId||"",q=U.startsWith(hd);if(q){v.push(A),m.push(A);return}var $=d(U);$?(r.syncColumnWithStateItem($,A,t.defaultState,f,g,!1,n),Ki(p,$)):(m.push(A),_+=1)});var R=function(A){return r.syncColumnWithStateItem(A,null,t.defaultState,f,g,!1,n)};p.forEach(R);var T=function(A,U,q,$){var oe=A[q.getId()],Ae=A[$.getId()],tt=oe!=null,je=Ae!=null;if(tt&&je)return oe-Ae;if(tt)return-1;if(je)return 1;var J=U.indexOf(q),Y=U.indexOf($),te=J>=0,he=Y>=0;return te&&he?J-Y:te?-1:1};r.rowGroupColumns.sort(T.bind(r,f,w)),r.pivotColumns.sort(T.bind(r,g,S)),r.updateGridColumns();var x=r.groupAutoColumns?r.groupAutoColumns.slice():[];return v.forEach(function(A){var U=r.getAutoColumn(A.colId);Ki(x,U),r.syncColumnWithStateItem(U,A,t.defaultState,null,null,!0,n)}),x.forEach(R),r.applyOrderAfterApplyState(t),r.updateDisplayedColumns(n),r.dispatchEverythingChanged(n),h(),{unmatchedAndAutoStates:m,unmatchedCount:_}};this.columnAnimationService.start();var s=o(t.state||[],this.primaryColumns||[],function(u){return r.getPrimaryColumn(u)}),a=s.unmatchedAndAutoStates,l=s.unmatchedCount;return(a.length>0||B(t.defaultState))&&(l=o(a,this.secondaryColumns||[],function(u){return r.getSecondaryColumn(u)}).unmatchedCount),this.columnAnimationService.finish(),l===0},e.prototype.applyOrderAfterApplyState=function(t){var n=this;if(!(!t.applyOrder||!t.state)){var r=[],o={};t.state.forEach(function(a){if(!(!a.colId||o[a.colId])){var l=n.gridColumnsMap[a.colId];l&&(r.push(l),o[a.colId]=!0)}});var s=0;if(this.gridColumns.forEach(function(a){var l=a.getColId(),u=o[l]!=null;if(!u){var c=l.startsWith(hd);c?Df(r,a,s++):r.push(a)}}),r=this.placeLockedColumns(r),!this.doesMovePassMarryChildren(r)){console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.gridColumns=r}},e.prototype.compareColumnStatesAndDispatchEvents=function(t){var n=this,r={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},o=this.getColumnState(),s={};return o.forEach(function(a){s[a.colId]=a}),function(){var a=n.getPrimaryAndSecondaryAndAutoColumns(),l=function(_,w,S,R){var T=w.map(R),x=S.map(R),A=Rs(T,x);if(!A){var U=new Set(w);S.forEach(function(oe){U.delete(oe)||U.add(oe)});var q=Ui([],ji(U),!1),$={type:_,columns:q,column:q.length===1?q[0]:null,source:t};n.eventService.dispatchEvent($)}},u=function(_){var w=[];return a.forEach(function(S){var R=s[S.getColId()];R&&_(R,S)&&w.push(S)}),w},c=function(_){return _.getColId()};l(C.EVENT_COLUMN_ROW_GROUP_CHANGED,r.rowGroupColumns,n.rowGroupColumns,c),l(C.EVENT_COLUMN_PIVOT_CHANGED,r.pivotColumns,n.pivotColumns,c);var d=function(_,w){var S=_.aggFunc!=null,R=S!=w.isValueActive(),T=S&&_.aggFunc!=w.getAggFunc();return R||T},h=u(d);h.length>0&&n.dispatchColumnChangedEvent(C.EVENT_COLUMN_VALUE_CHANGED,h,t);var p=function(_,w){return _.width!=w.getActualWidth()};n.dispatchColumnResizedEvent(u(p),!0,t);var f=function(_,w){return _.pinned!=w.getPinned()};n.dispatchColumnPinnedEvent(u(f),t);var g=function(_,w){return _.hide==w.isVisible()};n.dispatchColumnVisibleEvent(u(g),t);var v=function(_,w){return _.sort!=w.getSort()||_.sortIndex!=w.getSortIndex()},m=u(v);m.length>0&&n.sortController.dispatchSortChangedEvents(t,m),n.normaliseColumnMovedEventForColumnState(o,t)}},e.prototype.getCommonValue=function(t,n){if(!(!t||t.length==0)){for(var r=n(t[0]),o=1;o<t.length;o++)if(r!==n(t[o]))return;return r}},e.prototype.normaliseColumnMovedEventForColumnState=function(t,n){var r=this,o=this.getColumnState(),s={};o.forEach(function(d){return s[d.colId]=d});var a={};t.forEach(function(d){s[d.colId]&&(a[d.colId]=!0)});var l=t.filter(function(d){return a[d.colId]}),u=o.filter(function(d){return a[d.colId]}),c=[];u.forEach(function(d,h){var p=l&&l[h];if(p&&p.colId!==d.colId){var f=r.getGridColumn(p.colId);f&&c.push(f)}}),c.length&&this.dispatchColumnMovedEvent({movedColumns:c,source:n,finished:!0})},e.prototype.syncColumnWithStateItem=function(t,n,r,o,s,a,l){if(t){var u=function(A,U){var q={value1:void 0,value2:void 0},$=!1;return n&&(n[A]!==void 0&&(q.value1=n[A],$=!0),B(U)&&n[U]!==void 0&&(q.value2=n[U],$=!0)),!$&&r&&(r[A]!==void 0&&(q.value1=r[A]),B(U)&&r[U]!==void 0&&(q.value2=r[U])),q},c=u("hide").value1;c!==void 0&&t.setVisible(!c,l);var d=u("pinned").value1;d!==void 0&&t.setPinned(d);var h=this.columnUtils.calculateColMinWidth(t.getColDef()),p=u("flex").value1;if(p!==void 0)t.setFlex(p);else{var f=u("width").value1;f!=null&&h!=null&&f>=h&&t.setActualWidth(f,l)}var g=u("sort").value1;g!==void 0&&(g==="desc"||g==="asc"?t.setSort(g,l):t.setSort(void 0,l));var v=u("sortIndex").value1;if(v!==void 0&&t.setSortIndex(v),!(a||!t.isPrimary())){var m=u("aggFunc").value1;m!==void 0&&(typeof m=="string"?(t.setAggFunc(m),t.isValueActive()||(t.setValueActive(!0,l),this.valueColumns.push(t))):(B(m)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),t.isValueActive()&&(t.setValueActive(!1,l),Ki(this.valueColumns,t))));var _=u("rowGroup","rowGroupIndex"),w=_.value1,S=_.value2;(w!==void 0||S!==void 0)&&(typeof S=="number"||w?(t.isRowGroupActive()||(t.setRowGroupActive(!0,l),this.rowGroupColumns.push(t)),o&&typeof S=="number"&&(o[t.getId()]=S)):t.isRowGroupActive()&&(t.setRowGroupActive(!1,l),Ki(this.rowGroupColumns,t)));var R=u("pivot","pivotIndex"),T=R.value1,x=R.value2;(T!==void 0||x!==void 0)&&(typeof x=="number"||T?(t.isPivotActive()||(t.setPivotActive(!0,l),this.pivotColumns.push(t)),s&&typeof x=="number"&&(s[t.getId()]=x)):t.isPivotActive()&&(t.setPivotActive(!1,l),Ki(this.pivotColumns,t)))}}},e.prototype.getGridColumns=function(t){return this.getColumns(t,this.getGridColumn.bind(this))},e.prototype.getColumns=function(t,n){var r=[];return t&&t.forEach(function(o){var s=n(o);s&&r.push(s)}),r},e.prototype.getColumnWithValidation=function(t){if(t==null)return null;var n=this.getGridColumn(t);return n||console.warn("AG Grid: could not find column "+t),n},e.prototype.getPrimaryColumn=function(t){return this.primaryColumns?this.getColumn(t,this.primaryColumns,this.primaryColumnsMap):null},e.prototype.getGridColumn=function(t){return this.getColumn(t,this.gridColumns,this.gridColumnsMap)},e.prototype.lookupGridColumn=function(t){return this.gridColumnsMap[t]},e.prototype.getSecondaryColumn=function(t){return this.secondaryColumns?this.getColumn(t,this.secondaryColumns,this.secondaryColumnsMap):null},e.prototype.getColumn=function(t,n,r){if(!t||!r)return null;if(typeof t=="string"&&r[t])return r[t];for(var o=0;o<n.length;o++)if(this.columnsMatch(n[o],t))return n[o];return this.getAutoColumn(t)},e.prototype.getSourceColumnsForGroupColumn=function(t){var n=t.getColDef().showRowGroup;if(!n)return null;if(n===!0)return this.rowGroupColumns.slice(0);var r=this.getPrimaryColumn(n);return r?[r]:null},e.prototype.getAutoColumn=function(t){var n=this;return!this.groupAutoColumns||!B(this.groupAutoColumns)||ue(this.groupAutoColumns)?null:this.groupAutoColumns.find(function(r){return n.columnsMatch(r,t)})||null},e.prototype.columnsMatch=function(t,n){var r=t===n,o=t.getColDef()===n,s=t.getColId()==n;return r||o||s},e.prototype.getDisplayNameForColumn=function(t,n,r){if(r===void 0&&(r=!1),!t)return null;var o=this.getHeaderName(t.getColDef(),t,null,null,n);return r?this.wrapHeaderNameWithAggFunc(t,o):o},e.prototype.getDisplayNameForProvidedColumnGroup=function(t,n,r){var o=n?n.getColGroupDef():null;return o?this.getHeaderName(o,null,t,n,r):null},e.prototype.getDisplayNameForColumnGroup=function(t,n){return this.getDisplayNameForProvidedColumnGroup(t,t.getProvidedColumnGroup(),n)},e.prototype.getHeaderName=function(t,n,r,o,s){var a=t.headerValueGetter;if(a){var l=this.gridOptionsService.addGridCommonParams({colDef:t,column:n,columnGroup:r,providedColumnGroup:o,location:s});return typeof a=="function"?a(l):typeof a=="string"?this.expressionService.evaluate(a,l):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}else{if(t.headerName!=null)return t.headerName;if(t.field)return VB(t.field)}return""},e.prototype.wrapHeaderNameWithAggFunc=function(t,n){if(this.gridOptionsService.get("suppressAggFuncInHeader"))return n;var r=t.getColDef().pivotValueColumn,o=B(r),s=null,a;if(o){var l=this.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn")&&this.valueColumns.length===1,u=t.getColDef().pivotTotalColumnIds!==void 0;if(l&&!u)return n;s=r?r.getAggFunc():null,a=!0}else{var c=t.isValueActive(),d=this.pivotMode||!this.isRowGroupEmpty();c&&d?(s=t.getAggFunc(),a=!0):a=!1}if(a){var h=typeof s=="string"?s:"func",p=this.localeService.getLocaleTextFunc(),f=p(h,h);return"".concat(f,"(").concat(n,")")}return n},e.prototype.getColumnGroup=function(t,n){if(!t)return null;if(t instanceof dn)return t;var r=this.getAllDisplayedTrees(),o=typeof n=="number",s=null;return this.columnUtils.depthFirstAllColumnTreeSearch(r,function(a){if(a instanceof dn){var l=a,u=void 0;o?u=t===l.getGroupId()&&n===l.getPartId():u=t===l.getGroupId(),u&&(s=l)}}),s},e.prototype.isReady=function(){return this.ready},e.prototype.extractValueColumns=function(t,n){this.valueColumns=this.extractColumns(n,this.valueColumns,function(r,o){return r.setValueActive(o,t)},function(){},function(){},function(r){var o=r.aggFunc;if(o===null||o==="")return null;if(o!==void 0)return!!o},function(r){return r.initialAggFunc!=null&&r.initialAggFunc!=""}),this.valueColumns.forEach(function(r){var o=r.getColDef();o.aggFunc!=null&&o.aggFunc!=""?r.setAggFunc(o.aggFunc):r.getAggFunc()||r.setAggFunc(o.initialAggFunc)})},e.prototype.extractRowGroupColumns=function(t,n){this.rowGroupColumns=this.extractColumns(n,this.rowGroupColumns,function(r,o){return r.setRowGroupActive(o,t)},function(r){return r.rowGroupIndex},function(r){return r.initialRowGroupIndex},function(r){return r.rowGroup},function(r){return r.initialRowGroup})},e.prototype.extractColumns=function(t,n,r,o,s,a,l){t===void 0&&(t=[]),n===void 0&&(n=[]);var u=[],c=[];(this.primaryColumns||[]).forEach(function(p){var f=t.indexOf(p)<0,g=p.getColDef(),v=UC(a(g)),m=UC(l(g)),_=Fa(o(g)),w=Fa(s(g)),S,R=v!==void 0,T=_!==void 0,x=m!==void 0,A=w!==void 0;if(R?S=v:T?_===null?S=!1:S=_>=0:f?x?S=m:A?S=w!=null&&w>=0:S=!1:S=n.indexOf(p)>=0,S){var U=f?_!=null||w!=null:_!=null;U?u.push(p):c.push(p)}});var d=function(p){var f=o(p.getColDef()),g=s(p.getColDef());return f??g};u.sort(function(p,f){var g=d(p),v=d(f);return g===v?0:g<v?-1:1});var h=[].concat(u);return n.forEach(function(p){c.indexOf(p)>=0&&h.push(p)}),c.forEach(function(p){h.indexOf(p)<0&&h.push(p)}),n.forEach(function(p){h.indexOf(p)<0&&r(p,!1)}),h.forEach(function(p){n.indexOf(p)<0&&r(p,!0)}),h},e.prototype.extractPivotColumns=function(t,n){this.pivotColumns=this.extractColumns(n,this.pivotColumns,function(r,o){return r.setPivotActive(o,t)},function(r){return r.pivotIndex},function(r){return r.initialPivotIndex},function(r){return r.pivot},function(r){return r.initialPivot})},e.prototype.resetColumnGroupState=function(t){if(t===void 0&&(t="api"),!!this.primaryColumnTree){var n=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(r){if(r instanceof Ut){var o=r.getColGroupDef(),s={groupId:r.getGroupId(),open:o?o.openByDefault:void 0};n.push(s)}}),this.setColumnGroupState(n,t)}},e.prototype.getColumnGroupState=function(){var t=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(n){n instanceof Ut&&t.push({groupId:n.getGroupId(),open:n.isExpanded()})}),t},e.prototype.setColumnGroupState=function(t,n){var r=this;if(n===void 0&&(n="api"),!!this.gridBalancedTree){this.columnAnimationService.start();var o=[];if(t.forEach(function(a){var l=a.groupId,u=a.open,c=r.getProvidedColumnGroup(l);c&&c.isExpanded()!==u&&(r.logger.log("columnGroupOpened("+c.getGroupId()+","+u+")"),c.setExpanded(u),o.push(c))}),this.updateGroupsAndDisplayedColumns(n),this.setFirstRightAndLastLeftPinned(n),o.length){var s={type:C.EVENT_COLUMN_GROUP_OPENED,columnGroup:Ut.length===1?o[0]:void 0,columnGroups:o};this.eventService.dispatchEvent(s)}this.columnAnimationService.finish()}},e.prototype.setColumnGroupOpened=function(t,n,r){r===void 0&&(r="api");var o;t instanceof Ut?o=t.getId():o=t||"",this.setColumnGroupState([{groupId:o,open:n}],r)},e.prototype.getProvidedColumnGroup=function(t){typeof t!="string"&&console.error("AG Grid: group key must be a string");var n=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(r){r instanceof Ut&&r.getId()===t&&(n=r)}),n},e.prototype.calculateColumnsForDisplay=function(){var t=this,n;return this.pivotMode&&ue(this.secondaryColumns)?n=this.gridColumns.filter(function(r){var o=t.groupAutoColumns&&Xr(t.groupAutoColumns,r),s=t.valueColumns&&Xr(t.valueColumns,r);return o||s}):n=this.gridColumns.filter(function(r){var o=t.groupAutoColumns&&Xr(t.groupAutoColumns,r);return o||r.isVisible()}),n},e.prototype.checkColSpanActiveInCols=function(t){var n=!1;return t.forEach(function(r){B(r.getColDef().colSpan)&&(n=!0)}),n},e.prototype.calculateColumnsForGroupDisplay=function(){var t=this;this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};var n=function(r){var o=r.getColDef(),s=o.showRowGroup;o&&B(s)&&(t.groupDisplayColumns.push(r),typeof s=="string"?t.groupDisplayColumnsMap[s]=r:s===!0&&t.getRowGroupColumns().forEach(function(a){t.groupDisplayColumnsMap[a.getId()]=r}))};this.gridColumns.forEach(n)},e.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},e.prototype.getGroupDisplayColumnForGroup=function(t){return this.groupDisplayColumnsMap[t]},e.prototype.updateDisplayedColumns=function(t){var n=this.calculateColumnsForDisplay();this.buildDisplayedTrees(n),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t)},e.prototype.isSecondaryColumnsPresent=function(){return B(this.secondaryColumns)},e.prototype.setSecondaryColumns=function(t,n){var r=this;if(n===void 0&&(n="api"),!!this.gridColumns){var o=t&&t.length>0;if(!(!o&&ue(this.secondaryColumns))){if(o){this.processSecondaryColumnDefinitions(t);var s=this.columnFactory.createColumnTree(t,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.destroyOldColumns(this.secondaryBalancedTree,s.columnTree),this.secondaryBalancedTree=s.columnTree,this.secondaryHeaderRowCount=s.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(function(a){return r.secondaryColumnsMap[a.getId()]=a}),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(n)}}},e.prototype.processSecondaryColumnDefinitions=function(t){var n=this.gridOptionsService.get("processPivotResultColDef"),r=this.gridOptionsService.get("processPivotResultColGroupDef");if(!(!n&&!r)){var o=function(s){s.forEach(function(a){var l=B(a.children);if(l){var u=a;r&&r(u),o(u.children)}else{var c=a;n&&n(c)}})};t&&o(t)}},e.prototype.updateGridColumns=function(){var t=this,n=this.gridBalancedTree;this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns;var r=this.createGroupAutoColumnsIfNeeded();if(r){var o=xa(this.groupAutoColumns.map(function(u){return[u,!0]}));this.lastPrimaryOrder&&(this.lastPrimaryOrder=this.lastPrimaryOrder.filter(function(u){return!o.has(u)}),this.lastPrimaryOrder=Ui(Ui([],ji(this.groupAutoColumns),!1),ji(this.lastPrimaryOrder),!1)),this.lastSecondaryOrder&&(this.lastSecondaryOrder=this.lastSecondaryOrder.filter(function(u){return!o.has(u)}),this.lastSecondaryOrder=Ui(Ui([],ji(this.groupAutoColumns),!1),ji(this.lastSecondaryOrder),!1))}var s;if(this.secondaryColumns&&this.secondaryBalancedTree){var a=this.secondaryColumns.some(function(u){return t.gridColumnsMap[u.getColId()]!==void 0});this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,a&&(s=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,s=this.lastPrimaryOrder);if(this.addAutoGroupToGridColumns(),this.orderGridColsLike(s),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(u){return t.gridColumnsMap[u.getId()]=u}),this.setAutoHeightActive(),!Rs(n,this.gridBalancedTree)){var l={type:C.EVENT_GRID_COLUMNS_CHANGED};this.eventService.dispatchEvent(l)}},e.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter(function(n){return n.isAutoHeight()}).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var t=this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.isRowModelType("serverSide");t||Se("autoHeight columns only work with Client Side Row Model and Server Side Row Model.")}},e.prototype.orderGridColsLike=function(t){if(!ue(t)){var n=xa(t.map(function(c,d){return[c,d]})),r=!0;if(this.gridColumns.forEach(function(c){n.has(c)&&(r=!1)}),!r){var o=xa(this.gridColumns.map(function(c){return[c,!0]})),s=t.filter(function(c){return o.has(c)}),a=xa(s.map(function(c){return[c,!0]})),l=this.gridColumns.filter(function(c){return!a.has(c)}),u=s.slice();l.forEach(function(c){var d=c.getOriginalParent();if(!d){u.push(c);return}for(var h=[];!h.length&&d;){var p=d.getLeafColumns();p.forEach(function(v){var m=u.indexOf(v)>=0,_=h.indexOf(v)<0;m&&_&&h.push(v)}),d=d.getOriginalParent()}if(!h.length){u.push(c);return}var f=h.map(function(v){return u.indexOf(v)}),g=Math.max.apply(Math,Ui([],ji(f),!1));Df(u,c,g+1)}),this.gridColumns=u}}},e.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},e.prototype.refreshQuickFilterColumns=function(){var t,n=(t=this.isPivotMode()?this.secondaryColumns:this.primaryColumns)!==null&&t!==void 0?t:[];this.groupAutoColumns&&(n=n.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gridOptionsService.get("includeHiddenColumnsInQuickFilter")?n:n.filter(function(r){return r.isVisible()||r.isRowGroupActive()})},e.prototype.placeLockedColumns=function(t){var n=[],r=[],o=[];return t.forEach(function(s){var a=s.getColDef().lockPosition;a==="right"?o.push(s):a==="left"||a===!0?n.push(s):r.push(s)}),Ui(Ui(Ui([],ji(n),!1),ji(r),!1),ji(o),!1)},e.prototype.addAutoGroupToGridColumns=function(){if(ue(this.groupAutoColumns)){this.destroyOldColumns(this.groupAutoColsBalancedTree),this.groupAutoColsBalancedTree=null;return}this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var t=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,t),this.groupAutoColsBalancedTree=t,this.gridBalancedTree=t.concat(this.gridBalancedTree)},e.prototype.clearDisplayedAndViewportColumns=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.ariaOrderColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""},e.prototype.updateGroupsAndDisplayedColumns=function(t){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(t),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();var n={type:C.EVENT_DISPLAYED_COLUMNS_CHANGED};this.eventService.dispatchEvent(n)},e.prototype.deriveDisplayedColumns=function(t){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinColumnsAriaOrder(),this.joinDisplayedColumns(),this.setLeftValues(t),this.displayedAutoHeightCols=this.displayedColumns.filter(function(n){return n.isAutoHeight()})},e.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},e.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},e.prototype.joinColumnsAriaOrder=function(){var t,n,r=this.getAllGridColumns(),o=[],s=[],a=[];try{for(var l=ST(r),u=l.next();!u.done;u=l.next()){var c=u.value,d=c.getPinned();d?d===!0||d==="left"?o.push(c):a.push(c):s.push(c)}}catch(h){t={error:h}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}this.ariaOrderColumns=o.concat(s).concat(a)},e.prototype.joinDisplayedColumns=function(){this.gridOptionsService.get("enableRtl")?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},e.prototype.setLeftValues=function(t){this.setLeftValuesOfColumns(t),this.setLeftValuesOfGroups()},e.prototype.setLeftValuesOfColumns=function(t){var n=this;if(this.primaryColumns){var r=this.getPrimaryAndSecondaryAndAutoColumns().slice(0),o=this.gridOptionsService.get("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(s){if(o){var a=n.getWidthOfColsInList(s);s.forEach(function(u){a-=u.getActualWidth(),u.setLeft(a,t)})}else{var l=0;s.forEach(function(u){u.setLeft(l,t),l+=u.getActualWidth()})}IB(r,s)}),r.forEach(function(s){s.setLeft(null,t)})}},e.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(t){t.forEach(function(n){if(n instanceof dn){var r=n;r.checkLeft()}})})},e.prototype.derivedDisplayedColumnsFromDisplayedTree=function(t,n){n.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(t,function(r){r instanceof mt&&n.push(r)})},e.prototype.extractViewportColumns=function(){this.suppressColumnVirtualisation?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},e.prototype.getVirtualHeaderGroupRow=function(t,n){var r;switch(t){case"left":r=this.viewportRowLeft[n];break;case"right":r=this.viewportRowRight[n];break;default:r=this.viewportRowCenter[n];break}return ue(r)&&(r=[]),r},e.prototype.calculateHeaderRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var t={};this.headerViewportColumns.forEach(function(r){return t[r.getId()]=!0});var n=function(r,o,s){for(var a=!1,l=0;l<r.length;l++){var u=r[l],c=!1;if(u instanceof mt)c=t[u.getId()]===!0;else{var d=u,h=d.getDisplayedChildren();h&&(c=n(h,o,s+1))}c&&(a=!0,o[s]||(o[s]=[]),o[s].push(u))}return a};n(this.displayedTreeLeft,this.viewportRowLeft,0),n(this.displayedTreeRight,this.viewportRowRight,0),n(this.displayedTreeCentre,this.viewportRowCenter,0)},e.prototype.extractViewport=function(){var t=function(o){return"".concat(o.getId(),"-").concat(o.getPinned()||"normal")};this.extractViewportColumns();var n=this.viewportColumns.map(t).join("#"),r=this.viewportColumnsHash!==n;return r&&(this.viewportColumnsHash=n,this.calculateHeaderRows()),r},e.prototype.refreshFlexedColumns=function(t){var n;t===void 0&&(t={});var r=t.source?t.source:"flex";if(t.viewportWidth!=null&&(this.flexViewportWidth=t.viewportWidth),!this.flexViewportWidth)return[];var o=-1;if(t.resizingCols){for(var s=new Set(t.resizingCols),a=this.displayedColumnsCenter,l=a.length-1;l>=0;l--)if(s.has(a[l])){o=l;break}}for(var u=0,c=[],d=0,h=0,l=0;l<this.displayedColumnsCenter.length;l++){var p=this.displayedColumnsCenter[l].getFlex()&&l>o;p?(c.push(this.displayedColumnsCenter[l]),h+=this.displayedColumnsCenter[l].getFlex(),d+=(n=this.displayedColumnsCenter[l].getMinWidth())!==null&&n!==void 0?n:0):u+=this.displayedColumnsCenter[l].getActualWidth()}if(!c.length)return[];var f=[];u+d>this.flexViewportWidth&&(c.forEach(function(A){var U;return A.setActualWidth((U=A.getMinWidth())!==null&&U!==void 0?U:0,r)}),f=c,c=[]);var g=[],v;e:for(;;){v=this.flexViewportWidth-u;for(var m=v/h,l=0;l<c.length;l++){var _=c[l],w=m*_.getFlex(),S=0,R=_.getMinWidth(),T=_.getMaxWidth();if(B(R)&&w<R?S=R:B(T)&&w>T&&(S=T),S){_.setActualWidth(S,r),jA(c,_),h-=_.getFlex(),f.push(_),u+=_.getActualWidth();continue e}g[l]=Math.round(w)}break}var x=v;return c.forEach(function(A,U){A.setActualWidth(Math.min(g[U],x),r),f.push(A),x-=g[U]}),t.skipSetLeft||this.setLeftValues(r),t.updateBodyWidths&&this.updateBodyWidths(),t.fireResizedEvent&&this.dispatchColumnResizedEvent(f,!0,r,c),c},e.prototype.sizeColumnsToFit=function(t,n,r,o){var s=this,a,l,u,c,d;if(n===void 0&&(n="sizeColumnsToFit"),this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return s.sizeColumnsToFit(t,n,r,o)});return}var h={};o&&((a=o?.columnLimits)===null||a===void 0||a.forEach(function(Y){var te=Y.key,he=Sne(Y,["key"]);h[typeof te=="string"?te:te.getColId()]=he}));var p=this.getAllDisplayedColumns(),f=t===this.getWidthOfColsInList(p);if(!(t<=0||!p.length||f)){var g=[],v=[];p.forEach(function(Y){Y.getColDef().suppressSizeToFit===!0?v.push(Y):g.push(Y)});var m=g.slice(0),_=!1,w=function(Y){Ki(g,Y),v.push(Y)};for(g.forEach(function(Y){var te,he;Y.resetActualWidth(n);var et=h?.[Y.getId()],gn=(te=et?.minWidth)!==null&&te!==void 0?te:o?.defaultMinWidth,xt=(he=et?.maxWidth)!==null&&he!==void 0?he:o?.defaultMaxWidth,Vn=Y.getActualWidth();typeof gn=="number"&&Vn<gn?Y.setActualWidth(gn,n,!0):typeof xt=="number"&&Vn>xt&&Y.setActualWidth(xt,n,!0)});!_;){_=!0;var S=t-this.getWidthOfColsInList(v);if(S<=0)g.forEach(function(Y){var te,he,et=(he=(te=h?.[Y.getId()])===null||te===void 0?void 0:te.minWidth)!==null&&he!==void 0?he:o?.defaultMinWidth;if(typeof et=="number"){Y.setActualWidth(et,n,!0);return}Y.setMinimum(n)});else for(var R=S/this.getWidthOfColsInList(g),T=S,x=g.length-1;x>=0;x--){var A=g[x],U=h?.[A.getId()],q=(l=U?.minWidth)!==null&&l!==void 0?l:o?.defaultMinWidth,$=(u=U?.maxWidth)!==null&&u!==void 0?u:o?.defaultMaxWidth,oe=(c=A.getMinWidth())!==null&&c!==void 0?c:0,Ae=(d=A.getMaxWidth())!==null&&d!==void 0?d:Number.MAX_VALUE,tt=typeof q=="number"&&q>oe?q:A.getMinWidth(),je=typeof $=="number"&&$<Ae?$:A.getMaxWidth(),J=Math.round(A.getActualWidth()*R);B(tt)&&J<tt?(J=tt,w(A),_=!1):B(je)&&J>je?(J=je,w(A),_=!1):x===0&&(J=T),A.setActualWidth(J,n,!0),T-=J}}m.forEach(function(Y){Y.fireColumnWidthChangedEvent(n)}),this.setLeftValues(n),this.updateBodyWidths(),!r&&this.dispatchColumnResizedEvent(m,!0,n)}},e.prototype.buildDisplayedTrees=function(t){var n=[],r=[],o=[];t.forEach(function(a){switch(a.getPinned()){case"left":n.push(a);break;case"right":r.push(a);break;default:o.push(a);break}});var s=new kB;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(n,s,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(r,s,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(o,s,null,this.displayedTreeCentre),this.updateDisplayedMap()},e.prototype.updateDisplayedMap=function(){var t=this;this.displayedColumnsAndGroupsMap={};var n=function(r){t.displayedColumnsAndGroupsMap[r.getUniqueId()]=r};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,n),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,n),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,n)},e.prototype.isDisplayed=function(t){var n=this.displayedColumnsAndGroupsMap[t.getUniqueId()];return n===t},e.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var t=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(t,function(n){n instanceof dn&&n.calculateDisplayedColumns()})},e.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},e.prototype.createGroupAutoColumnsIfNeeded=function(){var t=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;var n=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),r=this.pivotMode?this.gridOptionsService.get("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn(),o=this.rowGroupColumns.length>0||this.gridOptionsService.get("treeData"),s=o&&!r&&!n;if(s){var a=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns),l=!this.autoColsEqual(a,this.groupAutoColumns);if(l||t)return this.groupAutoColumns=a,!0}else this.groupAutoColumns=null;return!1},e.prototype.isGroupSuppressAutoColumn=function(){var t=this.gridOptionsService.get("groupDisplayType"),n=t==="custom";if(n)return!0;var r=this.gridOptionsService.get("treeDataDisplayType");return r==="custom"},e.prototype.autoColsEqual=function(t,n){return Rs(t,n,function(r,o){return r.getColId()===o.getColId()})},e.prototype.getWidthOfColsInList=function(t){return t.reduce(function(n,r){return n+r.getActualWidth()},0)},e.prototype.getFirstDisplayedColumn=function(){var t=this.gridOptionsService.get("enableRtl"),n=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];t&&n.reverse();for(var r=0;r<n.length;r++){var o=this[n[r]]();if(o.length)return t?Je(o):o[0]}return null},e.prototype.setColumnHeaderHeight=function(t,n){var r=t.setAutoHeaderHeight(n);if(r){var o={type:C.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:t,columns:[t],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(o)}},e.prototype.getColumnGroupHeaderRowHeight=function(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()},e.prototype.getColumnHeaderRowHeight=function(){var t=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),n=this.getAllDisplayedColumns().filter(function(r){return r.isAutoHeaderHeight()}).map(function(r){return r.getAutoHeaderHeight()||0});return Math.max.apply(Math,Ui([t],ji(n),!1))},e.prototype.getHeaderHeight=function(){var t;return(t=this.gridOptionsService.get("headerHeight"))!==null&&t!==void 0?t:this.environment.getFromTheme(25,"headerHeight")},e.prototype.getFloatingFiltersHeight=function(){var t;return(t=this.gridOptionsService.get("floatingFiltersHeight"))!==null&&t!==void 0?t:this.getHeaderHeight()},e.prototype.getGroupHeaderHeight=function(){var t;return(t=this.gridOptionsService.get("groupHeaderHeight"))!==null&&t!==void 0?t:this.getHeaderHeight()},e.prototype.getPivotHeaderHeight=function(){var t;return(t=this.gridOptionsService.get("pivotHeaderHeight"))!==null&&t!==void 0?t:this.getHeaderHeight()},e.prototype.getPivotGroupHeaderHeight=function(){var t;return(t=this.gridOptionsService.get("pivotGroupHeaderHeight"))!==null&&t!==void 0?t:this.getGroupHeaderHeight()},e.prototype.queueResizeOperations=function(){this.shouldQueueResizeOperations=!0},e.prototype.processResizeOperations=function(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(function(t){return t()}),this.resizeOperationQueue=[]},e.prototype.resetColumnDefIntoColumn=function(t,n){var r=t.getUserProvidedColDef();if(!r)return!1;var o=this.columnFactory.addColumnDefaultAndTypes(r,t.getColId());return t.setColDef(o,r,n),!0},e.prototype.isColumnGroupingLocked=function(t){var n=this.gridOptionsService.get("groupLockGroupColumns");if(!t.isRowGroupActive()||n===0)return!1;if(n===-1)return!0;var r=this.rowGroupColumns.findIndex(function(o){return o.getColId()===t.getColId()});return n>r},e.prototype.generateColumnStateForRowGroupAndPivotIndexes=function(t,n){var r=this,o={},s=function(a,l,u,c,d,h){if(!l.length||!r.primaryColumns)return[];for(var p=Object.keys(a),f=new Set(p),g=new Set(p),v=new Set(l.map(function(q){var $=q.getColId();return g.delete($),$}).concat(p)),m=[],_={},w=0,S=0;S<r.primaryColumns.length;S++){var R=r.primaryColumns[S].getColId();v.has(R)&&(m.push(R),_[R]=w++)}var T=1e3,x=!1,A=0,U=function(q){for(var $=_[q],oe=A;oe<$;oe++){var Ae=m[oe];g.has(Ae)&&(a[Ae][d]=T++,g.delete(Ae))}A=$};l.forEach(function(q){var $=q.getColId();if(f.has($))U($),a[$][d]=T++;else{var oe=q.getColDef(),Ae=oe[d]===null||oe[d]===void 0&&oe[h]==null;if(Ae){if(!x){var tt=oe[u]||oe[u]===void 0&&oe[c];tt?U($):(g.forEach(function(je){a[je][d]=T+_[je]}),T+=m.length,x=!0)}o[$]||(o[$]={colId:$}),o[$][d]=T++}}})};return s(t,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),s(n,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(o)},e.prototype.onColumnsReady=function(){var t=this,n=this.gridOptionsService.get("autoSizeStrategy");if(n){var r=n.type;setTimeout(function(){if(r==="fitGridWidth"){var o=n.columnLimits,s=n.defaultMinWidth,a=n.defaultMaxWidth,l=o?.map(function(u){var c=u.colId,d=u.minWidth,h=u.maxWidth;return{key:c,minWidth:d,maxWidth:h}});t.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:s,defaultMaxWidth:a,columnLimits:l})}else r==="fitProvidedWidth"&&t.sizeColumnsToFit(n.width,"sizeColumnsToFit")})}},e.prototype.onFirstDataRendered=function(){var t=this,n=this.gridOptionsService.get("autoSizeStrategy");if(n?.type==="fitCellContents"){var r=n.colIds,o=n.skipHeader;setTimeout(function(){r?t.autoSizeColumns({columns:r,skipHeader:o,source:"autosizeColumns"}):t.autoSizeAllColumns(o,"autosizeColumns")})}},kn([y("expressionService")],e.prototype,"expressionService",void 0),kn([y("columnFactory")],e.prototype,"columnFactory",void 0),kn([y("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),kn([y("ctrlsService")],e.prototype,"ctrlsService",void 0),kn([y("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),kn([y("columnUtils")],e.prototype,"columnUtils",void 0),kn([y("columnAnimationService")],e.prototype,"columnAnimationService",void 0),kn([y("autoGroupColService")],e.prototype,"autoGroupColService",void 0),kn([$e("aggFuncService")],e.prototype,"aggFuncService",void 0),kn([$e("valueCache")],e.prototype,"valueCache",void 0),kn([$e("animationFrameService")],e.prototype,"animationFrameService",void 0),kn([y("sortController")],e.prototype,"sortController",void 0),kn([y("columnDefFactory")],e.prototype,"columnDefFactory",void 0),kn([W],e.prototype,"init",null),kn([oi],e.prototype,"destroyColumns",null),kn([wne(0,Or("loggerFactory"))],e.prototype,"setBeans",null),e=kn([ee("columnModel")],e),e}(j),bne=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Dne=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Rne=function(i){bne(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.calculateColMinWidth=function(t){return t.minWidth!=null?t.minWidth:this.environment.getMinColWidth()},e.prototype.calculateColMaxWidth=function(t){return t.maxWidth!=null?t.maxWidth:Number.MAX_SAFE_INTEGER},e.prototype.calculateColInitialWidth=function(t){var n=this.calculateColMinWidth(t),r=this.calculateColMaxWidth(t),o,s=Fa(t.width),a=Fa(t.initialWidth);return s!=null?o=s:a!=null?o=a:o=200,Math.max(Math.min(o,r),n)},e.prototype.getOriginalPathForColumn=function(t,n){var r=[],o=!1,s=function(a,l){for(var u=0;u<a.length;u++){if(o)return;var c=a[u];if(c instanceof Ut){var d=c;s(d.getChildren(),l+1),r[l]=c}else c===t&&(o=!0)}};return s(n,0),o?r:null},e.prototype.depthFirstOriginalTreeSearch=function(t,n,r){var o=this;n&&n.forEach(function(s){s instanceof Ut&&o.depthFirstOriginalTreeSearch(s,s.getChildren(),r),r(s,t)})},e.prototype.depthFirstAllColumnTreeSearch=function(t,n){var r=this;t&&t.forEach(function(o){o instanceof dn&&r.depthFirstAllColumnTreeSearch(o.getChildren(),n),n(o)})},e.prototype.depthFirstDisplayedColumnTreeSearch=function(t,n){var r=this;t&&t.forEach(function(o){o instanceof dn&&r.depthFirstDisplayedColumnTreeSearch(o.getDisplayedChildren(),n),n(o)})},e=Dne([ee("columnUtils")],e),e}(j),Tne=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ane=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},One=function(i){Tne(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createDisplayedGroups=function(t,n,r,o){for(var s=this,a=this.mapOldGroupsById(o),l=[],u=t,c=function(){var d=u;u=[];for(var h=0,p=function(R){var T=h;h=R;var x=d[T],A=x instanceof dn?x.getProvidedColumnGroup():x,U=A.getOriginalParent();if(U==null){for(var q=T;q<R;q++)l.push(d[q]);return}for(var $=s.createColumnGroup(U,n,a,r),q=T;q<R;q++)$.addChild(d[q]);u.push($)},f=1;f<d.length;f++){var g=d[f],v=g instanceof dn?g.getProvidedColumnGroup():g,m=v.getOriginalParent(),_=d[h],w=_ instanceof dn?_.getProvidedColumnGroup():_,S=w.getOriginalParent();m!==S&&p(f)}h<d.length&&p(d.length)};u.length;)c();return this.setupParentsIntoColumns(l,null),l},e.prototype.createColumnGroup=function(t,n,r,o){var s=t.getGroupId(),a=n.getInstanceIdForKey(s),l=dn.createUniqueId(s,a),u=r[l];return u&&u.getProvidedColumnGroup()!==t&&(u=null),B(u)?u.reset():(u=new dn(t,s,a,o),this.context.createBean(u)),u},e.prototype.mapOldGroupsById=function(t){var n={},r=function(o){o.forEach(function(s){if(s instanceof dn){var a=s;n[s.getUniqueId()]=a,r(a.getChildren())}})};return t&&r(t),n},e.prototype.setupParentsIntoColumns=function(t,n){var r=this;t.forEach(function(o){if(o.setParent(n),o instanceof dn){var s=o;r.setupParentsIntoColumns(s.getChildren(),s)}})},e=Ane([ee("displayedGroupCreator")],e),e}(j),_a=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},wa=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},Ine={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,excludeHiddenColumnsFromQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,enableChartToolPanelsButton:!0,suppressChartToolPanelsButton:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressParentsInRowNodes:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,suppressAggAtRootLevel:!0,removePivotHeaderRowWhenSingleValueColumn:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,functionsPassive:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0},Ho=function(){function i(){}return i.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator"],i.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy"],i.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],i.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],i.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilterAllLevels","serverSideSortAllLevels","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents"],i.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher"],i.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering"],i.FUNCTION_PROPERTIES=wa(wa([],_a(i.FUNCTIONAL_PROPERTIES),!1),_a(i.CALLBACK_PROPERTIES),!1),i.ALL_PROPERTIES=wa(wa(wa(wa(wa(wa([],_a(i.ARRAY_PROPERTIES),!1),_a(i.OBJECT_PROPERTIES),!1),_a(i.STRING_PROPERTIES),!1),_a(i.NUMBER_PROPERTIES),!1),_a(i.FUNCTION_PROPERTIES),!1),_a(i.BOOLEAN_PROPERTIES),!1),i}(),bA=function(){return bA=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},bA.apply(this,arguments)},cH=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},dH=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},Pf=function(){function i(){}i.getCallbackForEvent=function(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substring(1)},i.getGridOptionKeys=function(){return this.ALL_PROPERTIES_AND_CALLBACKS},i.combineAttributesAndGridOptions=function(t,n){typeof t!="object"&&(t={});var r=bA({},t),o=i.getGridOptionKeys();return o.forEach(function(s){var a=n[s];typeof a<"u"&&a!==i.VUE_OMITTED_PROPERTY&&(r[s]=a)}),r},i.processOnChange=function(t,n){if(t){var r={},o=!1;if(Object.keys(t).filter(function(a){return i.ALL_PROPERTIES_AND_CALLBACKS_SET.has(a)}).forEach(function(a){r[a]=t[a],o=!0}),!!o){n.__internalUpdateGridOptions(r);var s={type:C.EVENT_COMPONENT_STATE_CHANGED};zn(r,function(a,l){s[a]=l}),n.dispatchEvent(s)}}};var e;return e=i,i.EVENTS=iu(C),i.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY",i.EXCLUDED_INTERNAL_EVENTS=[C.EVENT_SCROLLBAR_WIDTH_CHANGED,C.EVENT_CHECKBOX_CHANGED,C.EVENT_HEIGHT_SCALE_CHANGED,C.EVENT_BODY_HEIGHT_CHANGED,C.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,C.EVENT_SCROLL_VISIBILITY_CHANGED,C.EVENT_COLUMN_HOVER_CHANGED,C.EVENT_FLASH_CELLS,C.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,C.EVENT_DISPLAYED_ROWS_CHANGED,C.EVENT_LEFT_PINNED_WIDTH_CHANGED,C.EVENT_RIGHT_PINNED_WIDTH_CHANGED,C.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,C.EVENT_POPUP_TO_FRONT,C.EVENT_STORE_UPDATED,C.EVENT_COLUMN_PANEL_ITEM_DRAG_START,C.EVENT_COLUMN_PANEL_ITEM_DRAG_END,C.EVENT_FILL_START,C.EVENT_FILL_END,C.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,C.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,C.EVENT_FULL_WIDTH_ROW_FOCUSED,C.EVENT_HEADER_HEIGHT_CHANGED,C.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,C.EVENT_CELL_FOCUS_CLEARED,C.EVENT_GRID_STYLES_CHANGED,C.EVENT_FILTER_DESTROYED,C.EVENT_ROW_DATA_UPDATE_STARTED,C.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,C.EVENT_DATA_TYPES_INFERRED,C.EVENT_FIELD_VALUE_CHANGED,C.EVENT_FIELD_PICKER_VALUE_SELECTED,C.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,C.EVENT_SUPPRESS_MENU_HIDE_CHANGED,C.EVENT_SUPPRESS_FIELD_DOT_NOTATION,C.EVENT_ROW_COUNT_READY,C.EVENT_SIDE_BAR_UPDATED],i.PUBLIC_EVENTS=i.EVENTS.filter(function(t){return!Xr(i.EXCLUDED_INTERNAL_EVENTS,t)}),i.EVENT_CALLBACKS=i.EVENTS.map(function(t){return i.getCallbackForEvent(t)}),i.STRING_PROPERTIES=Ho.STRING_PROPERTIES,i.OBJECT_PROPERTIES=Ho.OBJECT_PROPERTIES,i.ARRAY_PROPERTIES=Ho.ARRAY_PROPERTIES,i.NUMBER_PROPERTIES=Ho.NUMBER_PROPERTIES,i.BOOLEAN_PROPERTIES=Ho.BOOLEAN_PROPERTIES,i.FUNCTION_PROPERTIES=Ho.FUNCTION_PROPERTIES,i.ALL_PROPERTIES=Ho.ALL_PROPERTIES,i.ALL_PROPERTIES_AND_CALLBACKS=dH(dH([],cH(e.ALL_PROPERTIES),!1),cH(e.EVENT_CALLBACKS),!1),i.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(i.ALL_PROPERTIES_AND_CALLBACKS),i}(),Mne=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),xne=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Pne=function(i){Mne(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.componentsMappedByName={},t}return e.prototype.setupComponents=function(t){var n=this;t&&t.forEach(function(r){return n.addComponent(r)})},e.prototype.addComponent=function(t){var n=t.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=n.toUpperCase();this.componentsMappedByName[r]=t.componentClass},e.prototype.getComponentClass=function(t){return this.componentsMappedByName[t]},e=xne([ee("agStackComponentsRegistry")],e),e}(j);function er(i,e,t){t==null||typeof t=="string"&&t==""?WA(i,e):xr(i,e,t)}function xr(i,e,t){i.setAttribute(HB(e),t.toString())}function WA(i,e){i.removeAttribute(HB(e))}function HB(i){return"aria-".concat(i)}function fn(i,e){e?i.setAttribute("role",e):i.removeAttribute("role")}function BB(i){var e;return i==="asc"?e="ascending":i==="desc"?e="descending":i==="mixed"?e="other":e="none",e}function jB(i){return parseInt(i.getAttribute("aria-level"),10)}function UB(i){return parseInt(i.getAttribute("aria-posinset"),10)}function WB(i){return i.getAttribute("aria-label")}function As(i,e){er(i,"label",e)}function KC(i,e){er(i,"labelledby",e)}function zB(i,e){er(i,"description",e)}function Fne(i,e){er(i,"describedby",e)}function zA(i,e){er(i,"live",e)}function Nne(i,e){er(i,"atomic",e)}function $B(i,e){er(i,"relevant",e)}function qB(i,e){er(i,"level",e)}function $A(i,e){er(i,"disabled",e)}function p_(i,e){er(i,"hidden",e)}function qA(i,e){er(i,"activedescendant",e)}function Zr(i,e){xr(i,"expanded",e)}function KB(i){WA(i,"expanded")}function KA(i,e){xr(i,"setsize",e)}function YA(i,e){xr(i,"posinset",e)}function YB(i,e){xr(i,"multiselectable",e)}function QB(i,e){xr(i,"rowcount",e)}function QA(i,e){xr(i,"rowindex",e)}function ZB(i,e){xr(i,"colcount",e)}function ZA(i,e){xr(i,"colindex",e)}function XB(i,e){xr(i,"colspan",e)}function JB(i,e){xr(i,"sort",e)}function ej(i){WA(i,"sort")}function pd(i,e){er(i,"selected",e)}function Lne(i,e){xr(i,"checked",e===void 0?"mixed":e)}function XA(i,e){er(i,"controls",e.id),KC(e,i.id)}function f_(i,e){return e===void 0?i("ariaIndeterminate","indeterminate"):e===!0?i("ariaChecked","checked"):i("ariaUnchecked","unchecked")}var kne=Object.freeze({__proto__:null,setAriaRole:fn,getAriaSortState:BB,getAriaLevel:jB,getAriaPosInSet:UB,getAriaLabel:WB,setAriaLabel:As,setAriaLabelledBy:KC,setAriaDescription:zB,setAriaDescribedBy:Fne,setAriaLive:zA,setAriaAtomic:Nne,setAriaRelevant:$B,setAriaLevel:qB,setAriaDisabled:$A,setAriaHidden:p_,setAriaActiveDescendant:qA,setAriaExpanded:Zr,removeAriaExpanded:KB,setAriaSetSize:KA,setAriaPosInSet:YA,setAriaMultiSelectable:YB,setAriaRowCount:QB,setAriaRowIndex:QA,setAriaColCount:ZB,setAriaColIndex:ZA,setAriaColSpan:XB,setAriaSort:JB,removeAriaSort:ej,setAriaSelected:pd,setAriaChecked:Lne,setAriaControls:XA,getAriaCheckboxStateName:f_}),ET,mC,bT,DT,RT,TT,DA,RA;function eo(){return ET===void 0&&(ET=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),ET}function JA(){if(mC===void 0)if(eo()){var i=navigator.userAgent.match(/version\/(\d+)/i);i&&(mC=i[1]!=null?parseFloat(i[1]):0)}else mC=0;return mC}function g_(){if(bT===void 0){var i=window;bT=!!i.chrome&&(!!i.chrome.webstore||!!i.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return bT}function eO(){return DT===void 0&&(DT=/(firefox)/i.test(navigator.userAgent)),DT}function tO(){return RT===void 0&&(RT=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),RT}function Va(){return TT===void 0&&(TT=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),TT}function nO(){return!eo()||JA()>=15}function YC(i){if(!i)return null;var e=i.tabIndex,t=i.getAttribute("tabIndex");return e===-1&&(t===null||t===""&&!eO())?null:e.toString()}function tj(){if(!document.body)return-1;var i=1e6,e=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,t=document.createElement("div");for(document.body.appendChild(t);;){var n=i*2;if(t.style.height=n+"px",n>e||t.clientHeight!==n)break;i=n}return document.body.removeChild(t),i}function nj(){var i,e,t;return(e=(i=document.body)===null||i===void 0?void 0:i.clientWidth)!==null&&e!==void 0?e:window.innerHeight||((t=document.documentElement)===null||t===void 0?void 0:t.clientWidth)||-1}function ij(){var i,e,t;return(e=(i=document.body)===null||i===void 0?void 0:i.clientHeight)!==null&&e!==void 0?e:window.innerHeight||((t=document.documentElement)===null||t===void 0?void 0:t.clientHeight)||-1}function rj(){return RA==null&&oj(),RA}function oj(){var i=document.body,e=document.createElement("div");e.style.width=e.style.height="100px",e.style.opacity="0",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",e.style.position="absolute",i.appendChild(e);var t=e.offsetWidth-e.clientWidth;t===0&&e.clientWidth===0&&(t=null),e.parentNode&&e.parentNode.removeChild(e),t!=null&&(RA=t,DA=t===0)}function iO(){return DA==null&&oj(),DA}var Vne=Object.freeze({__proto__:null,isBrowserSafari:eo,getSafariVersion:JA,isBrowserChrome:g_,isBrowserFirefox:eO,isMacOsUserAgent:tO,isIOSUserAgent:Va,browserSupportsPreventScroll:nO,getTabIndex:YC,getMaxDivHeight:tj,getBodyWidth:nj,getBodyHeight:ij,getScrollbarWidth:rj,isInvisibleScrollbar:iO});function ud(i,e){return i.toString().padStart(e,"0")}function sj(i,e){for(var t=[],n=i;n<=e;n++)t.push(n);return t}function Gne(i){return typeof i=="string"&&(i=parseInt(i,10)),typeof i=="number"?Math.floor(i):null}function Hne(i,e){for(var t="",n=0;n<e;n++)t+=String.fromCharCode(i&255),i>>>=8;return t}function Bne(i,e,t){return typeof i!="number"?"":rO(Math.round(i*100)/100,e,t)}function rO(i,e,t){return typeof i!="number"?"":i.toString().replace(".",t).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1".concat(e))}function jne(i){return i==null?null:i.reduce(function(e,t){return e+t},0)}var Une=Object.freeze({__proto__:null,padStartWidthZeros:ud,createArrayOfNumbers:sj,cleanNumber:Gne,decToHex:Hne,formatNumberTwoDecimalPlacesAndCommas:Bne,formatNumberCommas:rO,sum:jne}),AT=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o};function Ir(i,e,t){if(e===void 0&&(e=!0),t===void 0&&(t="-"),!i)return null;var n=[i.getFullYear(),i.getMonth()+1,i.getDate()].map(function(r){return ud(r,2)}).join(t);return e&&(n+=" "+[i.getHours(),i.getMinutes(),i.getSeconds()].map(function(r){return ud(r,2)}).join(":")),n}var OT=function(i){if(i>3&&i<21)return"th";var e=i%10;switch(e){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function cd(i,e){e===void 0&&(e="YYYY-MM-DD");var t=ud(i.getFullYear(),4),n=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:function(){return t.slice(t.length-4,t.length)},YY:function(){return t.slice(t.length-2,t.length)},Y:function(){return"".concat(i.getFullYear())},MMMM:function(){return n[i.getMonth()]},MMM:function(){return n[i.getMonth()].slice(0,3)},MM:function(){return ud(i.getMonth()+1,2)},Mo:function(){return"".concat(i.getMonth()+1).concat(OT(i.getMonth()+1))},M:function(){return"".concat(i.getMonth()+1)},Do:function(){return"".concat(i.getDate()).concat(OT(i.getDate()))},DD:function(){return ud(i.getDate(),2)},D:function(){return"".concat(i.getDate())},dddd:function(){return r[i.getDay()]},ddd:function(){return r[i.getDay()].slice(0,3)},dd:function(){return r[i.getDay()].slice(0,2)},do:function(){return"".concat(i.getDay()).concat(OT(i.getDay()))},d:function(){return"".concat(i.getDay())}},s=new RegExp(Object.keys(o).join("|"),"g");return e.replace(s,function(a){return a in o?o[a]():a})}function Di(i){if(!i)return null;var e=AT(i.split(" "),2),t=e[0],n=e[1];if(!t)return null;var r=t.split("-").map(function(f){return parseInt(f,10)});if(r.filter(function(f){return!isNaN(f)}).length!==3)return null;var o=AT(r,3),s=o[0],a=o[1],l=o[2],u=new Date(s,a-1,l);if(u.getFullYear()!==s||u.getMonth()!==a-1||u.getDate()!==l)return null;if(!n||n==="00:00:00")return u;var c=AT(n.split(":").map(function(f){return parseInt(f,10)}),3),d=c[0],h=c[1],p=c[2];return d>=0&&d<24&&u.setHours(d),h>=0&&h<60&&u.setMinutes(h),p>=0&&p<60&&u.setSeconds(p),u}var Wne=Object.freeze({__proto__:null,serialiseDate:Ir,dateToFormattedString:cd,parseDateTimeFromString:Di}),zne=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$ne=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},yC;function TA(i,e,t){for(var n=i.parentElement,r=n&&n.firstChild;r;)e&&r.classList.toggle(e,r===i),t&&r.classList.toggle(t,r!==i),r=r.nextSibling}var aj="[tabindex], input, select, button, textarea, [href]",oO="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function sO(i){var e=Element.prototype.matches||Element.prototype.msMatchesSelector,t="input, select, button, textarea",n=e.call(i,t),r=e.call(i,oO),o=Ji(i),s=n&&!r&&o;return s}function qe(i,e,t){t===void 0&&(t={});var n=t.skipAriaHidden;i.classList.toggle("ag-hidden",!e),n||p_(i,!e)}function lj(i,e,t){t===void 0&&(t={});var n=t.skipAriaHidden;i.classList.toggle("ag-invisible",!e),n||p_(i,!e)}function fd(i,e){var t="disabled",n=e?function(r){return r.setAttribute(t,"")}:function(r){return r.removeAttribute(t)};n(i),pO(i.querySelectorAll("input"),function(r){return n(r)})}function ru(i,e,t){for(var n=0;i;){if(i.classList.contains(e))return!0;if(i=i.parentElement,typeof t=="number"){if(++n>t)break}else if(i===t)break}return!1}function Ga(i){var e=window.getComputedStyle(i),t=e.height,n=e.width,r=e.borderTopWidth,o=e.borderRightWidth,s=e.borderBottomWidth,a=e.borderLeftWidth,l=e.paddingTop,u=e.paddingRight,c=e.paddingBottom,d=e.paddingLeft,h=e.marginTop,p=e.marginRight,f=e.marginBottom,g=e.marginLeft,v=e.boxSizing;return{height:parseFloat(t||"0"),width:parseFloat(n||"0"),borderTopWidth:parseFloat(r||"0"),borderRightWidth:parseFloat(o||"0"),borderBottomWidth:parseFloat(s||"0"),borderLeftWidth:parseFloat(a||"0"),paddingTop:parseFloat(l||"0"),paddingRight:parseFloat(u||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(d||"0"),marginTop:parseFloat(h||"0"),marginRight:parseFloat(p||"0"),marginBottom:parseFloat(f||"0"),marginLeft:parseFloat(g||"0"),boxSizing:v}}function Ff(i){var e=Ga(i);return e.boxSizing==="border-box"?e.height-e.paddingTop-e.paddingBottom:e.height}function cu(i){var e=Ga(i);return e.boxSizing==="border-box"?e.width-e.paddingLeft-e.paddingRight:e.width}function aO(i){var e=Ga(i),t=e.marginBottom+e.marginTop;return Math.ceil(i.offsetHeight+t)}function Rf(i){var e=Ga(i),t=e.marginLeft+e.marginRight;return Math.ceil(i.offsetWidth+t)}function lO(i){var e=i.getBoundingClientRect(),t=Ga(i),n=t.borderTopWidth,r=t.borderLeftWidth,o=t.borderRightWidth,s=t.borderBottomWidth;return{top:e.top+(n||0),left:e.left+(r||0),right:e.right+(o||0),bottom:e.bottom+(s||0)}}function Tf(){if(typeof yC=="boolean")return yC;var i=document.createElement("div");return i.style.direction="rtl",i.style.width="1px",i.style.height="1px",i.style.position="fixed",i.style.top="0px",i.style.overflow="hidden",i.dir="rtl",i.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(i),i.scrollLeft=1,yC=Math.floor(i.scrollLeft)===0,document.body.removeChild(i),yC}function Af(i,e){var t=i.scrollLeft;return e&&(t=Math.abs(t),g_()&&!Tf()&&(t=i.scrollWidth-i.clientWidth-t)),t}function Of(i,e,t){t&&(Tf()?e*=-1:(eo()||g_())&&(e=i.scrollWidth-i.clientWidth-e)),i.scrollLeft=e}function Rn(i){for(;i&&i.firstChild;)i.removeChild(i.firstChild)}function Ts(i){i&&i.parentNode&&i.parentNode.removeChild(i)}function uO(i){return!!i.offsetParent}function Ji(i){var e=i;if(e.checkVisibility)return e.checkVisibility({checkVisibilityCSS:!0});var t=!uO(i)||window.getComputedStyle(i).visibility!=="visible";return!t}function bi(i){var e=document.createElement("div");return e.innerHTML=(i||"").trim(),e.firstChild}function cO(i,e,t){t&&t.nextSibling===e||(t?t.nextSibling?i.insertBefore(e,t.nextSibling):i.appendChild(e):i.firstChild&&i.firstChild!==e&&i.insertAdjacentElement("afterbegin",e))}function dO(i,e){for(var t=0;t<e.length;t++){var n=e[t],r=i.children[t];r!==n&&i.insertBefore(n,r)}}function uj(i,e,t){t?t.insertAdjacentElement("afterend",e):i.firstChild?i.insertAdjacentElement("afterbegin",e):i.appendChild(e)}function hO(i,e){var t,n;if(e)try{for(var r=zne(Object.entries(e)),o=r.next();!o.done;o=r.next()){var s=$ne(o.value,2),a=s[0],l=s[1];if(!(!a||!a.length||l==null)){var u=GB(a),c=l.toString(),d=c.replace(/\s*!important/g,""),h=d.length!=c.length?"important":void 0;i.style.setProperty(u,d,h)}}}catch(p){t={error:p}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}function cj(i){return i.clientWidth<i.scrollWidth}function dj(i){return i.clientHeight<i.scrollHeight}function If(i,e){e==="flex"?(i.style.removeProperty("width"),i.style.removeProperty("minWidth"),i.style.removeProperty("maxWidth"),i.style.flex="1 1 auto"):Mr(i,e)}function Mr(i,e){e=v_(e),i.style.width=e.toString(),i.style.maxWidth=e.toString(),i.style.minWidth=e.toString()}function qne(i,e){e==="flex"?(i.style.removeProperty("height"),i.style.removeProperty("minHeight"),i.style.removeProperty("maxHeight"),i.style.flex="1 1 auto"):ou(i,e)}function ou(i,e){e=v_(e),i.style.height=e.toString(),i.style.maxHeight=e.toString(),i.style.minHeight=e.toString()}function v_(i){return typeof i=="number"?"".concat(i,"px"):i}function Nf(i){return i instanceof Node||i instanceof HTMLElement}function hj(i){if(i==null)return[];var e=[];return pO(i,function(t){return e.push(t)}),e}function pj(i,e){if(i)for(var t=0;t<i.length;t++){var n=i[t];e(n.name,n.value)}}function jo(i,e,t){t==null?i.removeAttribute(e):i.setAttribute(e,t.toString())}function pO(i,e){if(i!=null)for(var t=0;t<i.length;t++)e(i[t])}function fO(i,e){i.then(function(t){var n=t.getGui();n!=null&&(typeof n=="object"?e.appendChild(n):e.innerHTML=n)})}var Kne=Object.freeze({__proto__:null,radioCssClass:TA,FOCUSABLE_SELECTOR:aj,FOCUSABLE_EXCLUDE:oO,isFocusableFormField:sO,setDisplayed:qe,setVisible:lj,setDisabled:fd,isElementChildOfClass:ru,getElementSize:Ga,getInnerHeight:Ff,getInnerWidth:cu,getAbsoluteHeight:aO,getAbsoluteWidth:Rf,getElementRectWithOffset:lO,isRtlNegativeScroll:Tf,getScrollLeft:Af,setScrollLeft:Of,clearElement:Rn,removeFromParent:Ts,isInDOM:uO,isVisible:Ji,loadTemplate:bi,ensureDomOrder:cO,setDomChildOrder:dO,insertWithDomOrder:uj,addStylesToElement:hO,isHorizontalScrollShowing:cj,isVerticalScrollShowing:dj,setElementWidth:If,setFixedWidth:Mr,setElementHeight:qne,setFixedHeight:ou,formatSize:v_,isNodeOrElement:Nf,copyNodeList:hj,iterateNamedNodeMap:pj,addOrRemoveAttribute:jo,nodeListForEach:pO,bindCellRendererToHtmlElement:fO}),Yne=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function fj(i,e,t){var n={},r=i.filter(function(o){return!e.some(function(s){return s===o})});return r.length>0&&r.forEach(function(o){return n[o]=Lf(o,t).values}),n}function Lf(i,e,t,n){var r,o,s=e.map(function(f,g){return{value:f,relevance:Qne(i.toLowerCase(),f.toLocaleLowerCase()),idx:g}});if(s.sort(function(f,g){return g.relevance-f.relevance}),t&&(s=s.filter(function(f){return f.relevance!==0})),s.length>0&&n&&n>0){var a=s[0].relevance,l=a*n;s=s.filter(function(f){return l-f.relevance<0})}var u=[],c=[];try{for(var d=Yne(s),h=d.next();!h.done;h=d.next()){var p=h.value;u.push(p.value),c.push(p.idx)}}catch(f){r={error:f}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}return{values:u,indices:c}}function Qne(i,e){for(var t=i.replace(/\s/g,""),n=e.replace(/\s/g,""),r=0,o=-1,s=0;s<t.length;s++){var a=n.indexOf(t[s],o+1);a!==-1&&(o=a,r+=100-o*100/1e4*100)}return r}var Zne=Object.freeze({__proto__:null,fuzzyCheckStrings:fj,fuzzySuggestions:Lf}),gj={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus"};function Rr(i,e,t){var n=Kt(i,e,t);if(n){var r=n.className;if(typeof r=="string"&&r.indexOf("ag-icon")>-1||typeof r=="object"&&r["ag-icon"])return n}var o=document.createElement("span");return o.appendChild(n),o}function Kt(i,e,t,n){var r=null,o=t&&t.getColDef().icons;if(o&&(r=o[i]),e&&!r){var s=e.get("icons");s&&(r=s[i])}if(r){var a=void 0;if(typeof r=="function")a=r();else if(typeof r=="string")a=r;else throw new Error("icon from grid options needs to be a string or a function");if(typeof a=="string")return bi(a);if(Nf(a))return a;console.warn("AG Grid: iconRenderer should return back a string or a dom object")}else{var l=document.createElement("span"),u=gj[i];return u||(n?u=i:(console.warn("AG Grid: Did not find icon ".concat(i)),u="")),l.setAttribute("class","ag-icon ag-icon-".concat(u)),l.setAttribute("unselectable","on"),fn(l,"presentation"),l}}var Xne=Object.freeze({__proto__:null,iconNameClassMap:gj,createIcon:Rr,createIconNoSpan:Kt}),I=function(){function i(){}return i.BACKSPACE="Backspace",i.TAB="Tab",i.ENTER="Enter",i.ESCAPE="Escape",i.SPACE=" ",i.LEFT="ArrowLeft",i.UP="ArrowUp",i.RIGHT="ArrowRight",i.DOWN="ArrowDown",i.DELETE="Delete",i.F2="F2",i.PAGE_UP="PageUp",i.PAGE_DOWN="PageDown",i.PAGE_HOME="Home",i.PAGE_END="End",i.A="KeyA",i.C="KeyC",i.D="KeyD",i.V="KeyV",i.X="KeyX",i.Y="KeyY",i.Z="KeyZ",i}(),Jne=65,eie=67,tie=86,nie=68,iie=90,rie=89;function m_(i){if(i.altKey||i.ctrlKey||i.metaKey)return!1;var e=i.key.length===1;return e}function QC(i,e,t,n,r){var o=n?n.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;var s=i.addGridCommonParams({event:e,editing:r,column:n,node:t,data:t.data,colDef:n.getColDef()});if(o){var a=o(s);if(a)return!0}return!1}function vj(i,e,t,n){var r=n.getDefinition(),o=r&&r.suppressHeaderKeyboardEvent;if(!B(o))return!1;var s=i.addGridCommonParams({colDef:r,column:n,headerRowIndex:t,event:e});return!!o(s)}function mj(i){var e=i.keyCode,t;switch(e){case Jne:t=I.A;break;case eie:t=I.C;break;case tie:t=I.V;break;case nie:t=I.D;break;case iie:t=I.Z;break;case rie:t=I.Y;break;default:t=i.code}return t}function yj(i,e){return e===void 0&&(e=!1),i===I.DELETE?!0:!e&&i===I.BACKSPACE?tO():!1}var oie=Object.freeze({__proto__:null,isEventFromPrintableCharacter:m_,isUserSuppressingKeyboardEvent:QC,isUserSuppressingHeaderKeyboardEvent:vj,normaliseQwertyAzerty:mj,isDeleteKey:yj});function gO(i,e,t){if(t===0)return!1;var n=Math.abs(i.clientX-e.clientX),r=Math.abs(i.clientY-e.clientY);return Math.max(n,r)<=t}var sie=Object.freeze({__proto__:null,areEventsNear:gO});function aie(i,e){if(!i)return!1;for(var t=function(a,l){var u=e[a.id],c=e[l.id],d=u!==void 0,h=c!==void 0,p=d&&h,f=!d&&!h;return p?u-c:f?a.__objectId-l.__objectId:d?1:-1},n,r,o=!1,s=0;s<i.length-1;s++)if(n=i[s],r=i[s+1],t(n,r)>0){o=!0;break}return o?(i.sort(t),!0):!1}var lie=Object.freeze({__proto__:null,sortRowNodesByOrder:aie});function vO(i){var e=new Set;return i.forEach(function(t){return e.add(t)}),e}var uie=Object.freeze({__proto__:null,convertToSet:vO}),Jt=function(){return Jt=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},Jt.apply(this,arguments)},cie=Jt(Jt(Jt(Jt(Jt(Jt(Jt(Jt(Jt(Jt(Jt(Jt(Jt(Jt(Jt(Jt(Jt(Jt({},kne),ine),Vne),Wne),Kne),one),Ute),Zne),Mte),Xne),oie),Cne),sie),Une),Hte),lie),uie),vne),Te=cie,gd=function(){function i(e,t){e===void 0&&(e=0),t===void 0&&(t=1),this.nextValue=e,this.step=t}return i.prototype.next=function(){var e=this.nextValue;return this.nextValue+=this.step,e},i.prototype.peek=function(){return this.nextValue},i.prototype.skip=function(e){this.nextValue+=e},i}(),yf=function(i){return i[i.IN_PROGRESS=0]="IN_PROGRESS",i[i.RESOLVED=1]="RESOLVED",i}(yf||{}),Tr=function(){function i(e){var t=this;this.status=yf.IN_PROGRESS,this.resolution=null,this.waiters=[],e(function(n){return t.onDone(n)},function(n){return t.onReject(n)})}return i.all=function(e){return new i(function(t){var n=e.length,r=new Array(n);e.forEach(function(o,s){o.then(function(a){r[s]=a,n--,n===0&&t(r)})})})},i.resolve=function(e){return e===void 0&&(e=null),new i(function(t){return t(e)})},i.prototype.then=function(e){var t=this;return new i(function(n){t.status===yf.RESOLVED?n(e(t.resolution)):t.waiters.push(function(r){return n(e(r))})})},i.prototype.resolveNow=function(e,t){return this.status===yf.RESOLVED?t(this.resolution):e},i.prototype.onDone=function(e){this.status=yf.RESOLVED,this.resolution=e,this.waiters.forEach(function(t){return t(e)})},i.prototype.onReject=function(e){console.warn("TBI")},i}(),nMe=function(){function i(){this.timestamp=new Date().getTime()}return i.prototype.print=function(e){var t=new Date().getTime()-this.timestamp;console.info("".concat(e," = ").concat(t)),this.timestamp=new Date().getTime()},i}(),die=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),tu=function(){return tu=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},tu.apply(this,arguments)},IT=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Vo=function(i){return i[i.NOTHING=0]="NOTHING",i[i.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",i[i.SHOWING=2]="SHOWING",i}(Vo||{}),Es=function(i){return i[i.HOVER=0]="HOVER",i[i.FOCUS=1]="FOCUS",i}(Es||{}),mO=function(i){die(e,i);function e(t,n,r){var o=i.call(this)||this;return o.parentComp=t,o.tooltipShowDelayOverride=n,o.tooltipHideDelayOverride=r,o.SHOW_QUICK_TOOLTIP_DIFF=1e3,o.FADE_OUT_TOOLTIP_TIMEOUT=1e3,o.INTERACTIVE_HIDE_DELAY=100,o.interactionEnabled=!1,o.isInteractingWithTooltip=!1,o.state=Vo.NOTHING,o.tooltipInstanceCount=0,o.tooltipMouseTrack=!1,o}return e.prototype.postConstruct=function(){this.gridOptionsService.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gridOptionsService.get("tooltipMouseTrack");var t=this.parentComp.getGui();this.tooltipTrigger===Es.HOVER&&(this.addManagedListener(t,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(t,"mouseleave",this.onMouseLeave.bind(this))),this.tooltipTrigger===Es.FOCUS&&(this.addManagedListener(t,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(t,"focusout",this.onFocusOut.bind(this))),this.addManagedListener(t,"mousemove",this.onMouseMove.bind(this)),this.interactionEnabled||(this.addManagedListener(t,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(t,"keydown",this.onKeyDown.bind(this)))},e.prototype.getGridOptionsTooltipDelay=function(t){var n=this.gridOptionsService.get(t);return n<0&&Se("".concat(t," should not be lower than 0")),Math.max(200,n)},e.prototype.getTooltipDelay=function(t){var n,r;return t==="show"?(n=this.tooltipShowDelayOverride)!==null&&n!==void 0?n:this.getGridOptionsTooltipDelay("tooltipShowDelay"):(r=this.tooltipHideDelayOverride)!==null&&r!==void 0?r:this.getGridOptionsTooltipDelay("tooltipHideDelay")},e.prototype.destroy=function(){this.setToDoNothing(),i.prototype.destroy.call(this)},e.prototype.getTooltipTrigger=function(){var t=this.gridOptionsService.get("tooltipTrigger");return!t||t==="hover"?Es.HOVER:Es.FOCUS},e.prototype.onMouseEnter=function(t){var n=this;this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Va()&&(e.isLocked?this.showTooltipTimeoutId=window.setTimeout(function(){n.prepareToShowTooltip(t)},this.INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(t))},e.prototype.onMouseMove=function(t){this.lastMouseEvent&&(this.lastMouseEvent=t),this.tooltipMouseTrack&&this.state===Vo.SHOWING&&this.tooltipComp&&this.positionTooltip()},e.prototype.onMouseDown=function(){this.setToDoNothing()},e.prototype.onMouseLeave=function(){this.interactionEnabled?this.lockService():this.setToDoNothing()},e.prototype.onFocusIn=function(){this.prepareToShowTooltip()},e.prototype.onFocusOut=function(t){var n,r=t.relatedTarget,o=this.parentComp.getGui(),s=(n=this.tooltipComp)===null||n===void 0?void 0:n.getGui();this.isInteractingWithTooltip||o.contains(r)||this.interactionEnabled&&s?.contains(r)||this.setToDoNothing()},e.prototype.onKeyDown=function(){this.setToDoNothing()},e.prototype.prepareToShowTooltip=function(t){if(this.state!=Vo.NOTHING||e.isLocked)return!1;var n=0;return t&&(n=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=t||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),n),this.state=Vo.WAITING_TO_SHOW,!0},e.prototype.isLastTooltipHiddenRecently=function(){var t=new Date().getTime(),n=e.lastTooltipHideTime;return t-n<this.SHOW_QUICK_TOOLTIP_DIFF},e.prototype.setToDoNothing=function(){this.state===Vo.SHOWING&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=Vo.NOTHING,this.lastMouseEvent=null},e.prototype.showTooltip=function(){var t=tu({},this.parentComp.getTooltipParams());if(!B(t.value)){this.setToDoNothing();return}this.state=Vo.SHOWING,this.tooltipInstanceCount++;var n=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount),r=this.userComponentFactory.getTooltipCompDetails(t);r.newAgStackInstance().then(n)},e.prototype.hideTooltip=function(t){if(!(!t&&this.isInteractingWithTooltip)){this.tooltipComp&&(this.destroyTooltipComp(),e.lastTooltipHideTime=new Date().getTime());var n={type:C.EVENT_TOOLTIP_HIDE,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(n),this.state=Vo.NOTHING}},e.prototype.newTooltipComponentCallback=function(t,n){var r=this.state!==Vo.SHOWING||this.tooltipInstanceCount!==t;if(r){this.getContext().destroyBean(n);return}var o=n.getGui();this.tooltipComp=n,o.classList.contains("ag-tooltip")||o.classList.add("ag-tooltip-custom"),this.tooltipTrigger===Es.HOVER&&o.classList.add("ag-tooltip-animate"),this.interactionEnabled&&o.classList.add("ag-tooltip-interactive");var s=this.localeService.getLocaleTextFunc(),a=this.popupService.addPopup({eChild:o,ariaLabel:s("ariaLabelTooltip","Tooltip")});a&&(this.tooltipPopupDestroyFunc=a.hideFunc),this.positionTooltip(),this.tooltipTrigger===Es.FOCUS&&(this.onBodyScrollEventCallback=this.addManagedListener(this.eventService,C.EVENT_BODY_SCROLL,this.setToDoNothing.bind(this)),this.onColumnMovedEventCallback=this.addManagedListener(this.eventService,C.EVENT_COLUMN_MOVED,this.setToDoNothing.bind(this))),this.interactionEnabled&&(this.tooltipTrigger===Es.HOVER?(this.tooltipMouseEnterListener=this.addManagedListener(o,"mouseenter",this.onTooltipMouseEnter.bind(this))||null,this.tooltipMouseLeaveListener=this.addManagedListener(o,"mouseleave",this.onTooltipMouseLeave.bind(this))||null):(this.tooltipFocusInListener=this.addManagedListener(o,"focusin",this.onTooltipFocusIn.bind(this))||null,this.tooltipFocusOutListener=this.addManagedListener(o,"focusout",this.onTooltipFocusOut.bind(this))||null));var l={type:C.EVENT_TOOLTIP_SHOW,tooltipGui:o,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(l),this.startHideTimeout()},e.prototype.onTooltipMouseEnter=function(){this.isInteractingWithTooltip=!0,this.unlockService()},e.prototype.onTooltipMouseLeave=function(){this.isInteractingWithTooltip=!1,this.lockService()},e.prototype.onTooltipFocusIn=function(){this.isInteractingWithTooltip=!0},e.prototype.onTooltipFocusOut=function(t){var n,r=this.parentComp.getGui(),o=(n=this.tooltipComp)===null||n===void 0?void 0:n.getGui(),s=t.relatedTarget;o?.contains(s)||(this.isInteractingWithTooltip=!1,r.contains(s)?this.startHideTimeout():this.hideTooltip())},e.prototype.positionTooltip=function(){var t={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(tu(tu({},t),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(tu(tu({},t),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))},e.prototype.destroyTooltipComp=function(){var t=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var n=this.tooltipPopupDestroyFunc,r=this.tooltipComp,o=this.tooltipTrigger===Es.HOVER?this.FADE_OUT_TOOLTIP_TIMEOUT:0;window.setTimeout(function(){n(),t.getContext().destroyBean(r)},o),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},e.prototype.clearTooltipListeners=function(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(function(t){t&&t()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null},e.prototype.lockService=function(){var t=this;e.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(function(){t.unlockService(),t.setToDoNothing()},this.INTERACTIVE_HIDE_DELAY)},e.prototype.unlockService=function(){e.isLocked=!1,this.clearInteractiveTimeout()},e.prototype.startHideTimeout=function(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))},e.prototype.clearShowTimeout=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)},e.prototype.clearHideTimeout=function(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},e.prototype.clearInteractiveTimeout=function(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)},e.prototype.clearTimeouts=function(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()},e.isLocked=!1,IT([y("popupService")],e.prototype,"popupService",void 0),IT([y("userComponentFactory")],e.prototype,"userComponentFactory",void 0),IT([W],e.prototype,"postConstruct",null),e}(j),hie=function(){function i(e){this.cssClassStates={},this.getGui=e}return i.prototype.addCssClass=function(e){var t=this,n=(e||"").split(" ");if(n.length>1){n.forEach(function(s){return t.addCssClass(s)});return}var r=this.cssClassStates[e]!==!0;if(r&&e.length){var o=this.getGui();o&&o.classList.add(e),this.cssClassStates[e]=!0}},i.prototype.removeCssClass=function(e){var t=this,n=(e||"").split(" ");if(n.length>1){n.forEach(function(s){return t.removeCssClass(s)});return}var r=this.cssClassStates[e]!==!1;if(r&&e.length){var o=this.getGui();o&&o.classList.remove(e),this.cssClassStates[e]=!1}},i.prototype.containsCssClass=function(e){var t=this.getGui();return t?t.classList.contains(e):!1},i.prototype.addOrRemoveCssClass=function(e,t){var n=this;if(e){if(e.indexOf(" ")>=0){var r=(e||"").split(" ");if(r.length>1){r.forEach(function(a){return n.addOrRemoveCssClass(a,t)});return}}var o=this.cssClassStates[e]!==t;if(o&&e.length){var s=this.getGui();s&&s.classList.toggle(e,t),this.cssClassStates[e]=t}}},i}(),pie=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),MT=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},fie=new gd,be=function(i){pie(e,i);function e(t){var n=i.call(this)||this;return n.displayed=!0,n.visible=!0,n.compId=fie.next(),n.cssClassManager=new hie(function(){return n.eGui}),t&&n.setTemplate(t),n}return e.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsService.get("enableBrowserTooltips")},e.prototype.getCompId=function(){return this.compId},e.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},e.prototype.setTooltip=function(t,n,r){var o=this,s=function(){o.usingBrowserTooltips?o.getGui().removeAttribute("title"):o.tooltipFeature=o.destroyBean(o.tooltipFeature)},a=function(){o.usingBrowserTooltips?o.getGui().setAttribute("title",o.tooltipText):o.tooltipFeature=o.createBean(new mO(o,n,r))};this.tooltipText!=t&&(this.tooltipText&&s(),t!=null&&(this.tooltipText=t,this.tooltipText&&a()))},e.prototype.createChildComponentsFromTags=function(t,n){var r=this,o=hj(t.childNodes);o.forEach(function(s){if(s instanceof HTMLElement){var a=r.createComponentFromElement(s,function(u){var c=u.getGui();c&&r.copyAttributesFromNode(s,u.getGui())},n);if(a){if(a.addItems&&s.children.length){r.createChildComponentsFromTags(s,n);var l=Array.prototype.slice.call(s.children);a.addItems(l)}r.swapComponentForNode(a,t,s)}else s.childNodes&&r.createChildComponentsFromTags(s,n)}})},e.prototype.createComponentFromElement=function(t,n,r){var o=t.nodeName,s=r?r[t.getAttribute("ref")]:void 0,a=this.agStackComponentsRegistry.getComponentClass(o);if(a){e.elementGettingCreated=t;var l=new a(s);return l.setParentComponent(this),this.createBean(l,null,n),l}return null},e.prototype.copyAttributesFromNode=function(t,n){pj(t.attributes,function(r,o){return n.setAttribute(r,o)})},e.prototype.swapComponentForNode=function(t,n,r){var o=t.getGui();n.replaceChild(o,r),n.insertBefore(document.createComment(r.nodeName),o),this.addDestroyFunc(this.destroyBean.bind(this,t)),this.swapInComponentForQuerySelectors(t,r)},e.prototype.swapInComponentForQuerySelectors=function(t,n){var r=this;this.iterateOverQuerySelectors(function(o){r[o.attributeName]===n&&(r[o.attributeName]=t)})},e.prototype.iterateOverQuerySelectors=function(t){for(var n=Object.getPrototypeOf(this);n!=null;){var r=n.__agComponentMetaData,o=d_(n.constructor);r&&r[o]&&r[o].querySelectors&&r[o].querySelectors.forEach(function(s){return t(s)}),n=Object.getPrototypeOf(n)}},e.prototype.activateTabIndex=function(t){var n=this.gridOptionsService.get("tabIndex");t||(t=[]),t.length||t.push(this.getGui()),t.forEach(function(r){return r.setAttribute("tabindex",n.toString())})},e.prototype.setTemplate=function(t,n){var r=bi(t);this.setTemplateFromElement(r,n)},e.prototype.setTemplateFromElement=function(t,n){this.eGui=t,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),n)},e.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},e.prototype.wireQuerySelectors=function(){var t=this;if(this.eGui){var n=this;this.iterateOverQuerySelectors(function(r){var o=function(l){return n[r.attributeName]=l},s=r.refSelector&&t.getAttribute("ref")===r.refSelector;if(s)o(t.eGui);else{var a=t.eGui.querySelector(r.querySelector);a&&o(a.__agComponent||a)}})}},e.prototype.getGui=function(){return this.eGui},e.prototype.getFocusableElement=function(){return this.eGui},e.prototype.getAriaElement=function(){return this.getFocusableElement()},e.prototype.setParentComponent=function(t){this.parentComponent=t},e.prototype.getParentComponent=function(){return this.parentComponent},e.prototype.setGui=function(t){this.eGui=t},e.prototype.queryForHtmlElement=function(t){return this.eGui.querySelector(t)},e.prototype.queryForHtmlInputElement=function(t){return this.eGui.querySelector(t)},e.prototype.appendChild=function(t,n){if(t!=null)if(n||(n=this.eGui),Nf(t))n.appendChild(t);else{var r=t;n.appendChild(r.getGui())}},e.prototype.isDisplayed=function(){return this.displayed},e.prototype.setVisible=function(t,n){if(n===void 0&&(n={}),t!==this.visible){this.visible=t;var r=n.skipAriaHidden;lj(this.eGui,t,{skipAriaHidden:r})}},e.prototype.setDisplayed=function(t,n){if(n===void 0&&(n={}),t!==this.displayed){this.displayed=t;var r=n.skipAriaHidden;qe(this.eGui,t,{skipAriaHidden:r});var o={type:e.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(o)}},e.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.parentComponent&&(this.parentComponent=void 0);var t=this.eGui;t&&t.__agComponent&&(t.__agComponent=void 0),i.prototype.destroy.call(this)},e.prototype.addGuiEventListener=function(t,n,r){var o=this;this.eGui.addEventListener(t,n,r),this.addDestroyFunc(function(){return o.eGui.removeEventListener(t,n)})},e.prototype.addCssClass=function(t){this.cssClassManager.addCssClass(t)},e.prototype.removeCssClass=function(t){this.cssClassManager.removeCssClass(t)},e.prototype.containsCssClass=function(t){return this.cssClassManager.containsCssClass(t)},e.prototype.addOrRemoveCssClass=function(t,n){this.cssClassManager.addOrRemoveCssClass(t,n)},e.prototype.getAttribute=function(t){var n=this.eGui;return n?n.getAttribute(t):null},e.prototype.getRefElement=function(t){return this.queryForHtmlElement('[ref="'.concat(t,'"]'))},e.EVENT_DISPLAYED_CHANGED="displayedChanged",MT([y("agStackComponentsRegistry")],e.prototype,"agStackComponentsRegistry",void 0),MT([lH],e.prototype,"preConstructOnComponent",null),MT([lH],e.prototype,"createChildComponentsPreConstruct",null),e}(j);function Z(i){return gie.bind(this,"[ref=".concat(i,"]"),i)}function gie(i,e,t,n,r){if(i===null){console.error("AG Grid: QuerySelector selector should not be null");return}if(typeof r=="number"){console.error("AG Grid: QuerySelector should be on an attribute");return}vie(t,"querySelectors",{attributeName:n,querySelector:i,refSelector:e})}function vie(i,e,t){var n=mie(i,d_(i.constructor));n[e]||(n[e]=[]),n[e].push(t)}function mie(i,e){return i.__agComponentMetaData||(i.__agComponentMetaData={}),i.__agComponentMetaData[e]||(i.__agComponentMetaData[e]={}),i.__agComponentMetaData[e]}var yie=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),hH=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Cie=function(i){yie(e,i);function e(){return i.call(this,`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>
            </div>`)||this}return e.prototype.destroy=function(){i.prototype.destroy.call(this)},e.prototype.init=function(t){this.params=t;var n=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),r=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel("".concat(n," ").concat(r("ariaFilterInput","Filter Input")))},e.prototype.onParentModelChanged=function(t){var n=this;if(t==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(function(r){if(r.getModelAsString){var o=r.getModelAsString(t);n.eFloatingFilterText.setValue(o)}})},e.prototype.onParamsUpdated=function(t){this.refresh(t)},e.prototype.refresh=function(t){this.init(t)},hH([Z("eFloatingFilterText")],e.prototype,"eFloatingFilterText",void 0),hH([y("columnModel")],e.prototype,"columnModel",void 0),e}(be),Cj=function(){function i(e,t,n,r){var o=this;this.alive=!0,this.context=e,this.eParent=r;var s=t.getDateCompDetails(n),a=s.newAgStackInstance();a.then(function(l){if(!o.alive){e.destroyBean(l);return}o.dateComp=l,l&&(r.appendChild(l.getGui()),l.afterGuiAttached&&l.afterGuiAttached(),o.tempValue&&l.setDate(o.tempValue),o.disabled!=null&&o.setDateCompDisabled(o.disabled))})}return i.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},i.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},i.prototype.setDate=function(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e},i.prototype.setDisabled=function(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e},i.prototype.setDisplayed=function(e){qe(this.eParent,e)},i.prototype.setInputPlaceholder=function(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)},i.prototype.setInputAriaLabel=function(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)},i.prototype.afterGuiAttached=function(e){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(e)},i.prototype.updateParams=function(e){var t,n,r=!1;if(!((t=this.dateComp)===null||t===void 0)&&t.refresh&&typeof this.dateComp.refresh=="function"){var o=this.dateComp.refresh(e);o!==null&&(r=!0)}!r&&(!((n=this.dateComp)===null||n===void 0)&&n.onParamsUpdated)&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(e)},i.prototype.setDateCompDisabled=function(e){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(e)},i}(),_j=function(){function i(){this.customFilterOptions={}}return i.prototype.init=function(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)},i.prototype.getFilterOptions=function(){return this.filterOptions},i.prototype.mapCustomOptions=function(){var e=this;this.filterOptions&&this.filterOptions.forEach(function(t){if(typeof t!="string"){var n=[["displayKey"],["displayName"],["predicate","test"]],r=function(o){return o.some(function(s){return t[s]!=null})?!0:(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '".concat(o,"'")),!1)};if(!n.every(r)){e.filterOptions=e.filterOptions.filter(function(o){return o===t})||[];return}e.customFilterOptions[t.displayKey]=t}})},i.prototype.selectDefaultItem=function(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){var t=this.filterOptions[0];typeof t=="string"?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},i.prototype.getDefaultOption=function(){return this.defaultOption},i.prototype.getCustomOption=function(e){return this.customFilterOptions[e]},i}(),wj={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},_ie=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),AA=function(){return AA=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},AA.apply(this,arguments)},pH=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},du=function(i){_ie(e,i);function e(t,n){n===void 0&&(n={});var r=i.call(this)||this;return r.eFocusableElement=t,r.callbacks=n,r.callbacks=AA({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(o){if(!o.defaultPrevented){var s=r.focusService.findNextFocusableElement(r.eFocusableElement,!1,o.shiftKey);s&&(s.focus(),o.preventDefault())}}},n),r}return e.prototype.postConstruct=function(){this.eFocusableElement.classList.add(e.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},e.prototype.addKeyDownListeners=function(t){var n=this;this.addManagedListener(t,"keydown",function(r){if(!(r.defaultPrevented||Jr(r))){if(n.callbacks.shouldStopEventPropagation(r)){Uo(r);return}r.key===I.TAB?n.callbacks.onTabKeyDown(r):n.callbacks.handleKeyDown&&n.callbacks.handleKeyDown(r)}})},e.FOCUS_MANAGED_CLASS="ag-focus-managed",pH([y("focusService")],e.prototype,"focusService",void 0),pH([W],e.prototype,"postConstruct",null),e}(j),wie=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),xT=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Sj="ag-resizer-wrapper",Sie='<div class="'.concat(Sj,`">
        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>
        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>
        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>
        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>
        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>
        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>
        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>
        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>
    </div>`),Ej=function(i){wie(e,i);function e(t,n){var r=i.call(this)||this;return r.element=t,r.dragStartPosition={x:0,y:0},r.position={x:0,y:0},r.lastSize={width:-1,height:-1},r.positioned=!1,r.resizersAdded=!1,r.resizeListeners=[],r.boundaryEl=null,r.isResizing=!1,r.isMoving=!1,r.resizable={},r.movable=!1,r.currentResizer=null,r.config=Object.assign({},{popup:!1},n),r}return e.prototype.center=function(){var t=this.offsetParent,n=t.clientHeight,r=t.clientWidth,o=r/2-this.getWidth()/2,s=n/2-this.getHeight()/2;this.offsetElement(o,s)},e.prototype.initialisePosition=function(){if(!this.positioned){var t=this.config,n=t.centered,r=t.forcePopupParentAsOffsetParent,o=t.minWidth,s=t.width,a=t.minHeight,l=t.height,u=t.x,c=t.y;this.offsetParent||this.setOffsetParent();var d=0,h=0,p=Ji(this.element);if(p){var f=this.findBoundaryElement(),g=window.getComputedStyle(f);if(g.minWidth!=null){var v=f.offsetWidth-this.element.offsetWidth;h=parseInt(g.minWidth,10)-v}if(g.minHeight!=null){var m=f.offsetHeight-this.element.offsetHeight;d=parseInt(g.minHeight,10)-m}}if(this.minHeight=a||d,this.minWidth=o||h,s&&this.setWidth(s),l&&this.setHeight(l),(!s||!l)&&this.refreshSize(),n)this.center();else if(u||c)this.offsetElement(u,c);else if(p&&r){var f=this.boundaryEl,_=!0;if(f||(f=this.findBoundaryElement(),_=!1),f){var w=parseFloat(f.style.top),S=parseFloat(f.style.left);_?this.offsetElement(isNaN(S)?0:S,isNaN(w)?0:w):this.setPosition(S,w)}}this.positioned=!!this.offsetParent}},e.prototype.isPositioned=function(){return this.positioned},e.prototype.getPosition=function(){return this.position},e.prototype.setMovable=function(t,n){if(!(!this.config.popup||t===this.movable)){this.movable=t;var r=this.moveElementDragListener||{eElement:n,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};t?(this.dragService.addDragSource(r),this.moveElementDragListener=r):(this.dragService.removeDragSource(r),this.moveElementDragListener=void 0)}},e.prototype.setResizable=function(t){var n=this;if(this.clearResizeListeners(),t?this.addResizers():this.removeResizers(),typeof t=="boolean"){if(t===!1)return;t={topLeft:t,top:t,topRight:t,right:t,bottomRight:t,bottom:t,bottomLeft:t,left:t}}Object.keys(t).forEach(function(r){var o=t,s=!!o[r],a=n.getResizerElement(r),l={dragStartPixels:0,eElement:a,onDragStart:function(u){return n.onResizeStart(u,r)},onDragging:n.onResize.bind(n),onDragStop:function(u){return n.onResizeEnd(u,r)}};(s||!n.isAlive()&&!s)&&(s?(n.dragService.addDragSource(l),n.resizeListeners.push(l),a.style.pointerEvents="all"):a.style.pointerEvents="none",n.resizable[r]=s)})},e.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},e.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var t=this.lastSize,n=t.height,r=t.width;r!==-1&&(this.element.style.width="".concat(r,"px")),n!==-1&&(this.element.style.height="".concat(n,"px"))},e.prototype.getHeight=function(){return this.element.offsetHeight},e.prototype.setHeight=function(t){var n=this.config.popup,r=this.element,o=!1;if(typeof t=="string"&&t.indexOf("%")!==-1)ou(r,t),t=aO(r),o=!0;else if(t=Math.max(this.minHeight,t),this.positioned){var s=this.getAvailableHeight();s&&t>s&&(t=s)}this.getHeight()!==t&&(o?(r.style.maxHeight="unset",r.style.minHeight="unset"):n?ou(r,t):(r.style.height="".concat(t,"px"),r.style.flex="0 0 auto",this.lastSize.height=typeof t=="number"?t:parseFloat(t)))},e.prototype.getAvailableHeight=function(){var t=this.config,n=t.popup,r=t.forcePopupParentAsOffsetParent;this.positioned||this.initialisePosition();var o=this.offsetParent.clientHeight;if(!o)return null;var s=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),l=n?this.position.y:s.top,u=n?0:a.top,c=0;if(r){var d=this.element.parentElement;if(d){var h=d.getBoundingClientRect().bottom;c=h-s.bottom}}var p=o+u-l-c;return p},e.prototype.getWidth=function(){return this.element.offsetWidth},e.prototype.setWidth=function(t){var n=this.element,r=this.config.popup,o=!1;if(typeof t=="string"&&t.indexOf("%")!==-1)Mr(n,t),t=Rf(n),o=!0;else if(this.positioned){t=Math.max(this.minWidth,t);var s=this.offsetParent.clientWidth,a=r?this.position.x:this.element.getBoundingClientRect().left;s&&t+a>s&&(t=s-a)}this.getWidth()!==t&&(o?(n.style.maxWidth="unset",n.style.minWidth="unset"):this.config.popup?Mr(n,t):(n.style.width="".concat(t,"px"),n.style.flex=" unset",this.lastSize.width=typeof t=="number"?t:parseFloat(t)))},e.prototype.offsetElement=function(t,n){t===void 0&&(t=0),n===void 0&&(n=0);var r=this.config.forcePopupParentAsOffsetParent,o=r?this.boundaryEl:this.element;o&&(this.popupService.positionPopup({ePopup:o,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:function(){return{x:t,y:n}}}),this.setPosition(parseFloat(o.style.left),parseFloat(o.style.top)))},e.prototype.constrainSizeToAvailableHeight=function(t){var n=this;if(this.config.forcePopupParentAsOffsetParent){var r=function(){var o=n.getAvailableHeight();n.element.style.setProperty("max-height","".concat(o,"px"))};t?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),r):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}},e.prototype.setPosition=function(t,n){this.position.x=t,this.position.y=n},e.prototype.updateDragStartPosition=function(t,n){this.dragStartPosition={x:t,y:n}},e.prototype.calculateMouseMovement=function(t){var n=t.e,r=t.isLeft,o=t.isTop,s=t.anywhereWithin,a=t.topBuffer,l=n.clientX-this.dragStartPosition.x,u=n.clientY-this.dragStartPosition.y,c=this.shouldSkipX(n,!!r,!!s,l)?0:l,d=this.shouldSkipY(n,!!o,a,u)?0:u;return{movementX:c,movementY:d}},e.prototype.shouldSkipX=function(t,n,r,o){var s=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),u=this.config.popup?this.position.x:s.left,c=u<=0&&a.left>=t.clientX||a.right<=t.clientX&&a.right<=l.right;return c?!0:(n?c=o<0&&t.clientX>u+a.left||o>0&&t.clientX<u+a.left:r?c=o<0&&t.clientX>l.right||o>0&&t.clientX<u+a.left:c=o<0&&t.clientX>l.right||o>0&&t.clientX<l.right,c)},e.prototype.shouldSkipY=function(t,n,r,o){r===void 0&&(r=0);var s=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),u=this.config.popup?this.position.y:s.top,c=u<=0&&a.top>=t.clientY||a.bottom<=t.clientY&&a.bottom<=l.bottom;return c?!0:(n?c=o<0&&t.clientY>u+a.top+r||o>0&&t.clientY<u+a.top:c=o<0&&t.clientY>l.bottom||o>0&&t.clientY<l.bottom,c)},e.prototype.createResizeMap=function(){var t=this.element;this.resizerMap={topLeft:{element:t.querySelector("[ref=eTopLeftResizer]")},top:{element:t.querySelector("[ref=eTopResizer]")},topRight:{element:t.querySelector("[ref=eTopRightResizer]")},right:{element:t.querySelector("[ref=eRightResizer]")},bottomRight:{element:t.querySelector("[ref=eBottomRightResizer]")},bottom:{element:t.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:t.querySelector("[ref=eBottomLeftResizer]")},left:{element:t.querySelector("[ref=eLeftResizer]")}}},e.prototype.addResizers=function(){if(!this.resizersAdded){var t=this.element;if(t){var n=new DOMParser,r=n.parseFromString(Sie,"text/html").body;t.appendChild(r.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},e.prototype.removeResizers=function(){this.resizerMap=void 0;var t=this.element.querySelector(".".concat(Sj));t&&this.element.removeChild(t),this.resizersAdded=!1},e.prototype.getResizerElement=function(t){return this.resizerMap[t].element},e.prototype.onResizeStart=function(t,n){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!n.match(/top/i),isRight:!!n.match(/right/i),isBottom:!!n.match(/bottom/i),isLeft:!!n.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[n].element.classList.add("ag-active");var r=this.config,o=r.popup,s=r.forcePopupParentAsOffsetParent;!o&&!s&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(t.clientX,t.clientY)},e.prototype.getSiblings=function(){var t=this.element,n=t.parentElement;return n?Array.prototype.slice.call(n.children).filter(function(r){return!r.classList.contains("ag-hidden")}):null},e.prototype.getMinSizeOfSiblings=function(){for(var t=this.getSiblings()||[],n=0,r=0,o=0;o<t.length;o++){var s=t[o],a=!!s.style.flex&&s.style.flex!=="0 0 auto";if(s!==this.element){var l=this.minHeight||0,u=this.minWidth||0;if(a){var c=window.getComputedStyle(s);c.minHeight&&(l=parseInt(c.minHeight,10)),c.minWidth&&(u=parseInt(c.minWidth,10))}else l=s.offsetHeight,u=s.offsetWidth;n+=l,r+=u}}return{height:n,width:r}},e.prototype.applySizeToSiblings=function(t){var n=null,r=this.getSiblings();if(r){for(var o=0;o<r.length;o++){var s=r[o];s!==n&&(t?s.style.height="".concat(s.offsetHeight,"px"):s.style.width="".concat(s.offsetWidth,"px"),s.style.flex="0 0 auto",s===this.element&&(n=r[o+1]))}n&&(n.style.removeProperty("height"),n.style.removeProperty("min-height"),n.style.removeProperty("max-height"),n.style.flex="1 1 auto")}},e.prototype.isResizable=function(){return Object.values(this.resizable).some(function(t){return t})},e.prototype.onResize=function(t){if(!(!this.isResizing||!this.currentResizer)){var n=this.config,r=n.popup,o=n.forcePopupParentAsOffsetParent,s=this.currentResizer,a=s.isTop,l=s.isRight,u=s.isBottom,c=s.isLeft,d=l||c,h=u||a,p=this.calculateMouseMovement({e:t,isLeft:c,isTop:a}),f=p.movementX,g=p.movementY,v=this.position.x,m=this.position.y,_=0,w=0;if(d&&f){var S=c?-1:1,R=this.getWidth(),T=R+f*S,x=!1;c&&(_=R-T,(v+_<=0||T<=this.minWidth)&&(x=!0,_=0)),x||this.setWidth(T)}if(h&&g){var S=a?-1:1,A=this.getHeight(),U=A+g*S,q=!1;a?(w=A-U,(m+w<=0||U<=this.minHeight)&&(q=!0,w=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&A<U&&this.getMinSizeOfSiblings().height+U>this.element.parentElement.offsetHeight&&(q=!0),q||this.setHeight(U)}this.updateDragStartPosition(t.clientX,t.clientY),((r||o)&&_||w)&&this.offsetElement(v+_,m+w)}},e.prototype.onResizeEnd=function(t,n){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var r={type:"resize"};this.element.classList.remove("ag-resizing"),this.resizerMap[n].element.classList.remove("ag-active"),this.dispatchEvent(r)},e.prototype.refreshSize=function(){var t=this.element;this.config.popup&&(this.config.width||this.setWidth(t.offsetWidth),this.config.height||this.setHeight(t.offsetHeight))},e.prototype.onMoveStart=function(t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(t.clientX,t.clientY)},e.prototype.onMove=function(t){if(this.isMoving){var n=this.position,r=n.x,o=n.y,s;this.config.calculateTopBuffer&&(s=this.config.calculateTopBuffer());var a=this.calculateMouseMovement({e:t,isTop:!0,anywhereWithin:!0,topBuffer:s}),l=a.movementX,u=a.movementY;this.offsetElement(r+l,o+u),this.updateDragStartPosition(t.clientX,t.clientY)}},e.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},e.prototype.setOffsetParent=function(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent},e.prototype.findBoundaryElement=function(){for(var t=this.element;t;){if(window.getComputedStyle(t).position!=="static")return t;t=t.parentElement}return this.element},e.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var t=this.resizeListeners.pop();this.dragService.removeDragSource(t)}},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()},xT([y("popupService")],e.prototype,"popupService",void 0),xT([y("resizeObserverService")],e.prototype,"resizeObserverService",void 0),xT([y("dragService")],e.prototype,"dragService",void 0),e}(j),Eie=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),PT=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ZC=function(i){Eie(e,i);function e(t){var n=i.call(this)||this;return n.filterNameKey=t,n.applyActive=!1,n.hidePopup=null,n.debouncePending=!1,n.appliedModel=null,n.buttonListeners=[],n}return e.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new du(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new Ej(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},e.prototype.handleKeyDown=function(t){},e.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},e.prototype.isFilterActive=function(){return!!this.appliedModel},e.prototype.resetTemplate=function(t){var n=this.getGui();n&&n.removeEventListener("submit",this.onFormSubmit);var r=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-`.concat(this.getCssIdentifier(),`-body-wrapper" ref="eFilterBody">
                    `).concat(this.createBodyTemplate(),`
                </div>
            </form>`);this.setTemplate(r,t),n=this.getGui(),n&&n.addEventListener("submit",this.onFormSubmit)},e.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},e.prototype.init=function(t){var n=this;this.setParams(t),this.resetUiToDefaults(!0).then(function(){n.updateUiVisibility(),n.setupOnBtApplyDebounce()})},e.prototype.setParams=function(t){this.providedFilterParams=t,this.applyActive=e.isUseApplyButton(t),this.resetButtonsPanel()},e.prototype.updateParams=function(t){var n=this;this.providedFilterParams=t,this.applyActive=e.isUseApplyButton(t),this.resetUiToActiveModel(this.getModel(),function(){n.updateUiVisibility(),n.setupOnBtApplyDebounce()})},e.prototype.resetButtonsPanel=function(){var t=this,n=this.providedFilterParams.buttons,r=n&&n.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(Rn(this.eButtonsPanel),this.buttonListeners.forEach(function(a){return a?.()}),this.buttonListeners=[]):r&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!r){this.eButtonsPanel&&Ts(this.eButtonsPanel);return}var o=document.createDocumentFragment(),s=function(a){var l,u;switch(a){case"apply":l=t.translate("applyFilter"),u=function(h){return t.onBtApply(!1,!1,h)};break;case"clear":l=t.translate("clearFilter"),u=function(){return t.onBtClear()};break;case"reset":l=t.translate("resetFilter"),u=function(){return t.onBtReset()};break;case"cancel":l=t.translate("cancelFilter"),u=function(h){t.onBtCancel(h)};break;default:console.warn("AG Grid: Unknown button type specified");return}var c=a==="apply"?"submit":"button",d=bi(`<button
                    type="`.concat(c,`"
                    ref="`).concat(a,`FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >`).concat(l,`
                </button>`));t.buttonListeners.push(t.addManagedListener(d,"click",u)),o.append(d)};vO(n).forEach(function(a){return s(a)}),this.eButtonsPanel.append(o),this.getGui().appendChild(this.eButtonsPanel)},e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.setupOnBtApplyDebounce=function(){var t=this,n=e.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),r=Ar(this.checkApplyDebounce.bind(this),n);this.onBtApplyDebounce=function(){t.debouncePending=!0,r()}},e.prototype.checkApplyDebounce=function(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())},e.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},e.prototype.setModel=function(t){var n=this,r=t!=null?this.setModelIntoUi(t):this.resetUiToDefaults();return r.then(function(){n.updateUiVisibility(),n.applyModel("api")})},e.prototype.onBtCancel=function(t){var n=this;this.resetUiToActiveModel(this.getModel(),function(){n.handleCancelEnd(t)})},e.prototype.handleCancelEnd=function(t){this.providedFilterParams.closeOnApply&&this.close(t)},e.prototype.resetUiToActiveModel=function(t,n){var r=this,o=function(){r.onUiChanged(!1,"prevent"),n?.()};t!=null?this.setModelIntoUi(t).then(o):this.resetUiToDefaults().then(o)},e.prototype.onBtClear=function(){var t=this;this.resetUiToDefaults().then(function(){return t.onUiChanged()})},e.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},e.prototype.applyModel=function(t){var n=this.getModelFromUi();if(!this.isModelValid(n))return!1;var r=this.appliedModel;return this.appliedModel=n,!this.areModelsEqual(r,n)},e.prototype.isModelValid=function(t){return!0},e.prototype.onFormSubmit=function(t){t.preventDefault()},e.prototype.onBtApply=function(t,n,r){if(t===void 0&&(t=!1),n===void 0&&(n=!1),r&&r.preventDefault(),this.applyModel(n?"rowDataUpdated":"ui")){var o="columnFilter";this.providedFilterParams.filterChangedCallback({afterFloatingFilter:t,afterDataChange:n,source:o})}var s=this.providedFilterParams.closeOnApply;s&&this.applyActive&&!t&&!n&&this.close(r)},e.prototype.onNewRowsLoaded=function(){},e.prototype.close=function(t){if(this.hidePopup){var n=t,r=n&&n.key,o;(r==="Enter"||r==="Space")&&(o={keyboardEvent:n}),this.hidePopup(o),this.hidePopup=null}},e.prototype.onUiChanged=function(t,n){if(t===void 0&&(t=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){var r=this.isModelValid(this.getModelFromUi()),o=this.getRefElement("applyFilterButton");o&&fd(o,!r)}t&&!n||n==="immediately"?this.onBtApply(t):(!this.applyActive&&!n||n==="debounce")&&this.onBtApplyDebounce()},e.prototype.afterGuiAttached=function(t){t&&(this.hidePopup=t.hidePopup),this.refreshFilterResizer(t?.container)},e.prototype.refreshFilterResizer=function(t){if(!(!this.positionableFeature||t==="toolPanel")){var n=t==="floatingFilter",r=this,o=r.positionableFeature,s=r.gridOptionsService;n?(o.restoreLastSize(),o.setResizable(s.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}},e.prototype.afterGuiDetached=function(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)},e.getDebounceMs=function(t,n){return e.isUseApplyButton(t)?(t.debounceMs!=null&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):t.debounceMs!=null?t.debounceMs:n},e.isUseApplyButton=function(t){return!!t.buttons&&t.buttons.indexOf("apply")>=0},e.prototype.refresh=function(t){return this.providedFilterParams=t,!0},e.prototype.destroy=function(){var t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,i.prototype.destroy.call(this)},e.prototype.translate=function(t){var n=this.localeService.getLocaleTextFunc();return n(t,wj[t])},e.prototype.getCellValue=function(t){return this.providedFilterParams.getValue(t)},e.prototype.getPositionableElement=function(){return this.eFilterBody},PT([y("rowModel")],e.prototype,"rowModel",void 0),PT([Z("eFilterBody")],e.prototype,"eFilterBody",void 0),PT([W],e.prototype,"postConstruct",null),e}(be),bie=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Die=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},bj=function(i){bie(e,i);function e(t,n){var r=i.call(this,n)||this;return r.labelSeparator="",r.labelAlignment="left",r.disabled=!1,r.label="",r.config=t||{},r}return e.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var t=this.config,n=t.labelSeparator,r=t.label,o=t.labelWidth,s=t.labelAlignment;n!=null&&this.setLabelSeparator(n),r!=null&&this.setLabel(r),o!=null&&this.setLabelWidth(o),this.setLabelAlignment(s||this.labelAlignment),this.refreshLabel()},e.prototype.refreshLabel=function(){Rn(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(qe(this.eLabel,!1),fn(this.eLabel,"presentation")):(qe(this.eLabel,!0),fn(this.eLabel,null))},e.prototype.setLabelSeparator=function(t){return this.labelSeparator===t?this:(this.labelSeparator=t,this.label!=null&&this.refreshLabel(),this)},e.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-".concat(this.getCompId(),"-label"),this.eLabel.id},e.prototype.getLabel=function(){return this.label},e.prototype.setLabel=function(t){return this.label===t?this:(this.label=t,this.refreshLabel(),this)},e.prototype.setLabelAlignment=function(t){var n=this.getGui(),r=n.classList;return r.toggle("ag-label-align-left",t==="left"),r.toggle("ag-label-align-right",t==="right"),r.toggle("ag-label-align-top",t==="top"),this},e.prototype.setLabelEllipsis=function(t){return this.eLabel.classList.toggle("ag-label-ellipsis",t),this},e.prototype.setLabelWidth=function(t){return this.label==null?this:(If(this.eLabel,t),this)},e.prototype.setDisabled=function(t){t=!!t;var n=this.getGui();return fd(n,t),n.classList.toggle("ag-disabled",t),this.disabled=t,this},e.prototype.isDisabled=function(){return!!this.disabled},Die([W],e.prototype,"postConstruct",null),e}(be),Rie=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Dj=function(i){Rie(e,i);function e(t,n,r){var o=i.call(this,t,n)||this;return o.className=r,o}return e.prototype.postConstruct=function(){i.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()},e.prototype.refreshAriaLabelledBy=function(){var t=this.getAriaElement(),n=this.getLabelId();WB(t)!==null?KC(t,""):KC(t,n??"")},e.prototype.setAriaLabel=function(t){return As(this.getAriaElement(),t),this.refreshAriaLabelledBy(),this},e.prototype.onValueChange=function(t){var n=this;return this.addManagedListener(this,C.EVENT_FIELD_VALUE_CHANGED,function(){return t(n.getValue())}),this},e.prototype.getWidth=function(){return this.getGui().clientWidth},e.prototype.setWidth=function(t){return Mr(this.getGui(),t),this},e.prototype.getPreviousValue=function(){return this.previousValue},e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(t,n){return this.value===t?this:(this.previousValue=this.value,this.value=t,n||this.dispatchEvent({type:C.EVENT_FIELD_VALUE_CHANGED}),this)},e}(bj),Tie=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Bp=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Aie=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,Rj=function(i){Tie(e,i);function e(t){var n=i.call(this,t,t?.template||Aie,t?.className)||this;if(n.isPickerDisplayed=!1,n.skipClick=!1,n.pickerGap=4,n.hideCurrentPicker=null,n.ariaRole=t?.ariaRole,n.onPickerFocusIn=n.onPickerFocusIn.bind(n),n.onPickerFocusOut=n.onPickerFocusOut.bind(n),!t)return n;var r=t.pickerGap,o=t.maxPickerHeight,s=t.variableWidth,a=t.minPickerWidth,l=t.maxPickerWidth;return r!=null&&(n.pickerGap=r),n.variableWidth=!!s,o!=null&&n.setPickerMaxHeight(o),a!=null&&n.setPickerMinWidth(a),l!=null&&n.setPickerMaxWidth(l),n}return e.prototype.postConstruct=function(){i.prototype.postConstruct.call(this),this.setupAria();var t="ag-".concat(this.getCompId(),"-display");this.eDisplayField.setAttribute("id",t);var n=this.getAriaElement();this.addManagedListener(n,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(this.eLabel,"mousedown",this.onLabelOrWrapperMouseDown.bind(this)),this.addManagedListener(this.eWrapper,"mousedown",this.onLabelOrWrapperMouseDown.bind(this));var r=this.config.pickerIcon;if(r){var o=Kt(r,this.gridOptionsService);o&&this.eIcon.appendChild(o)}},e.prototype.setupAria=function(){var t=this.getAriaElement();t.setAttribute("tabindex",this.gridOptionsService.get("tabIndex").toString()),Zr(t,!1),this.ariaRole&&fn(t,this.ariaRole)},e.prototype.onLabelOrWrapperMouseDown=function(t){if(t){var n=this.getFocusableElement();if(n!==this.eWrapper&&t?.target===n)return;t.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())},e.prototype.onKeyDown=function(t){switch(t.key){case I.UP:case I.DOWN:case I.ENTER:case I.SPACE:t.preventDefault(),this.onLabelOrWrapperMouseDown();break;case I.ESCAPE:this.isPickerDisplayed&&(t.preventDefault(),t.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}},e.prototype.showPicker=function(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());var t=this.pickerComponent.getGui();t.addEventListener("focusin",this.onPickerFocusIn),t.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)},e.prototype.renderAndPositionPicker=function(){var t=this,n=this.gridOptionsService.getDocument(),r=this.pickerComponent.getGui();this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")||(this.destroyMouseWheelFunc=this.addManagedListener(this.eventService,C.EVENT_BODY_SCROLL,function(){t.hidePicker()}));var o=this.localeService.getLocaleTextFunc(),s=this.config,a=s.pickerAriaLabelKey,l=s.pickerAriaLabelValue,u=s.modalPicker,c=u===void 0?!0:u,d={modal:c,eChild:r,closeOnEsc:!0,closedCallback:function(){var w=n.activeElement===n.body;t.beforeHidePicker(),w&&t.isAlive()&&t.getFocusableElement().focus()},ariaLabel:o(a,l)},h=this.popupService.addPopup(d),p=this,f=p.maxPickerHeight,g=p.minPickerWidth,v=p.maxPickerWidth,m=p.variableWidth;m?(g&&(r.style.minWidth=g),r.style.width=v_(Rf(this.eWrapper)),v&&(r.style.maxWidth=v)):If(r,v??Rf(this.eWrapper));var _=f??"".concat(Ff(this.popupService.getPopupParent()),"px");return r.style.setProperty("max-height",_),r.style.position="absolute",this.alignPickerToComponent(),h.hideFunc},e.prototype.alignPickerToComponent=function(){if(this.pickerComponent){var t=this.config.pickerType,n=this.pickerGap,r=this.gridOptionsService.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:t,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:r,keepWithinBounds:!0,nudgeY:n})}},e.prototype.beforeHidePicker=function(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);var t=this.pickerComponent.getGui();t.removeEventListener("focusin",this.onPickerFocusIn),t.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null},e.prototype.toggleExpandedStyles=function(t){if(this.isAlive()){var n=this.getAriaElement();Zr(n,t),this.eWrapper.classList.toggle("ag-picker-expanded",t),this.eWrapper.classList.toggle("ag-picker-collapsed",!t)}},e.prototype.onPickerFocusIn=function(){this.togglePickerHasFocus(!0)},e.prototype.onPickerFocusOut=function(t){var n;!((n=this.pickerComponent)===null||n===void 0)&&n.getGui().contains(t.relatedTarget)||this.togglePickerHasFocus(!1)},e.prototype.togglePickerHasFocus=function(t){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",t)},e.prototype.hidePicker=function(){this.hideCurrentPicker&&this.hideCurrentPicker()},e.prototype.setInputWidth=function(t){return If(this.eWrapper,t),this},e.prototype.getFocusableElement=function(){return this.eWrapper},e.prototype.setPickerGap=function(t){return this.pickerGap=t,this},e.prototype.setPickerMinWidth=function(t){return typeof t=="number"&&(t="".concat(t,"px")),this.minPickerWidth=t??void 0,this},e.prototype.setPickerMaxWidth=function(t){return typeof t=="number"&&(t="".concat(t,"px")),this.maxPickerWidth=t??void 0,this},e.prototype.setPickerMaxHeight=function(t){return typeof t=="number"&&(t="".concat(t,"px")),this.maxPickerHeight=t??void 0,this},e.prototype.destroy=function(){this.hidePicker(),i.prototype.destroy.call(this)},Bp([y("popupService")],e.prototype,"popupService",void 0),Bp([Z("eLabel")],e.prototype,"eLabel",void 0),Bp([Z("eWrapper")],e.prototype,"eWrapper",void 0),Bp([Z("eDisplayField")],e.prototype,"eDisplayField",void 0),Bp([Z("eIcon")],e.prototype,"eIcon",void 0),e}(Dj),Oie=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Iie=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},fH=function(i){Oie(e,i);function e(t){t===void 0&&(t="default");var n=i.call(this,'<div class="ag-list ag-'.concat(t,'-list" role="listbox"></div>'))||this;return n.cssIdentifier=t,n.options=[],n.itemEls=[],n}return e.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},e.prototype.handleKeyDown=function(t){var n=t.key;switch(n){case I.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{var r=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(r)}break;case I.DOWN:case I.UP:var o=n===I.DOWN,s=void 0;if(t.preventDefault(),!this.highlightedEl)s=this.itemEls[o?0:this.itemEls.length-1];else{var a=this.itemEls.indexOf(this.highlightedEl),l=a+(o?1:-1);l=Math.min(Math.max(l,0),this.itemEls.length-1),s=this.itemEls[l]}this.highlightItem(s);break}},e.prototype.addOptions=function(t){var n=this;return t.forEach(function(r){return n.addOption(r)}),this},e.prototype.addOption=function(t){var n=t.value,r=t.text,o=tn(r||n);return this.options.push({value:n,text:o}),this.renderOption(n,o),this.updateIndices(),this},e.prototype.updateIndices=function(){var t=this.getGui().querySelectorAll(".ag-list-item");t.forEach(function(n,r){YA(n,r+1),KA(n,t.length)})},e.prototype.renderOption=function(t,n){var r=this,o=document.createElement("div");fn(o,"option"),o.classList.add("ag-list-item","ag-".concat(this.cssIdentifier,"-list-item")),o.innerHTML="<span>".concat(n,"</span>"),o.tabIndex=-1,this.itemEls.push(o),this.addManagedListener(o,"mouseover",function(){return r.highlightItem(o)}),this.addManagedListener(o,"mouseleave",function(){return r.clearHighlighted()}),this.addManagedListener(o,"click",function(){return r.setValue(t)}),this.getGui().appendChild(o)},e.prototype.setValue=function(t,n){if(this.value===t)return this.fireItemSelected(),this;if(t==null)return this.reset(),this;var r=this.options.findIndex(function(s){return s.value===t});if(r!==-1){var o=this.options[r];this.value=o.value,this.displayValue=o.text!=null?o.text:o.value,this.highlightItem(this.itemEls[r]),n||this.fireChangeEvent()}return this},e.prototype.setValueByIndex=function(t){return this.setValue(this.options[t].value)},e.prototype.getValue=function(){return this.value},e.prototype.getDisplayValue=function(){return this.displayValue},e.prototype.refreshHighlighted=function(){var t=this;this.clearHighlighted();var n=this.options.findIndex(function(r){return r.value===t.value});n!==-1&&this.highlightItem(this.itemEls[n])},e.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},e.prototype.highlightItem=function(t){Ji(t)&&(this.clearHighlighted(),this.highlightedEl=t,this.highlightedEl.classList.add(e.ACTIVE_CLASS),pd(this.highlightedEl,!0),this.highlightedEl.focus())},e.prototype.clearHighlighted=function(){!this.highlightedEl||!Ji(this.highlightedEl)||(this.highlightedEl.classList.remove(e.ACTIVE_CLASS),pd(this.highlightedEl,!1),this.highlightedEl=null)},e.prototype.fireChangeEvent=function(){this.dispatchEvent({type:C.EVENT_FIELD_VALUE_CHANGED}),this.fireItemSelected()},e.prototype.fireItemSelected=function(){this.dispatchEvent({type:e.EVENT_ITEM_SELECTED})},e.EVENT_ITEM_SELECTED="selectedItem",e.ACTIVE_CLASS="ag-active-item",Iie([W],e.prototype,"init",null),e}(be),Mie=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),OA=function(){return OA=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},OA.apply(this,arguments)},y_=function(i){Mie(e,i);function e(t){return i.call(this,OA({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox"},t))||this}return e.prototype.postConstruct=function(){i.prototype.postConstruct.call(this),this.createListComponent(),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex")},e.prototype.createListComponent=function(){var t=this;this.listComponent=this.createBean(new fH("select")),this.listComponent.setParentComponent(this);var n=this.listComponent.getAriaElement(),r="ag-select-list-".concat(this.listComponent.getCompId());n.setAttribute("id",r),XA(this.getAriaElement(),n),this.listComponent.addGuiEventListener("keydown",function(o){o.key===I.TAB&&(o.preventDefault(),o.stopImmediatePropagation(),t.getGui().dispatchEvent(new KeyboardEvent("keydown",{key:o.key,shiftKey:o.shiftKey,ctrlKey:o.ctrlKey,bubbles:!0})))}),this.listComponent.addManagedListener(this.listComponent,fH.EVENT_ITEM_SELECTED,function(){t.hidePicker(),t.dispatchEvent({type:e.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,C.EVENT_FIELD_VALUE_CHANGED,function(){t.listComponent&&(t.setValue(t.listComponent.getValue(),!1,!0),t.hidePicker())})},e.prototype.createPickerComponent=function(){return this.listComponent},e.prototype.showPicker=function(){this.listComponent&&(i.prototype.showPicker.call(this),this.listComponent.refreshHighlighted())},e.prototype.addOptions=function(t){var n=this;return t.forEach(function(r){return n.addOption(r)}),this},e.prototype.addOption=function(t){return this.listComponent.addOption(t),this},e.prototype.setValue=function(t,n,r){if(this.value===t||!this.listComponent)return this;r||this.listComponent.setValue(t,!0);var o=this.listComponent.getValue();return o===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),i.prototype.setValue.call(this,t,n))},e.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),i.prototype.destroy.call(this)},e.EVENT_ITEM_SELECTED="selectedItem",e}(Rj),xie=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),FT=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Pa=function(i){xie(e,i);function e(t,n,r,o){r===void 0&&(r="text"),o===void 0&&(o="input");var s=i.call(this,t,`
            <div role="presentation">
                <div ref="eLabel" class="ag-input-field-label"></div>
                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <`.concat(o,' ref="eInput" class="ag-input-field-input"></').concat(o,`>
                </div>
            </div>`),n)||this;return s.inputType=r,s.displayFieldTag=o,s}return e.prototype.postConstruct=function(){i.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add("".concat(this.className,"-label")),this.eWrapper.classList.add("".concat(this.className,"-input-wrapper")),this.eInput.classList.add("".concat(this.className,"-input")),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-".concat(this.getCompId(),"-input");var t=this.config,n=t.width,r=t.value;n!=null&&this.setWidth(n),r!=null&&this.setValue(r),this.addInputListeners(),this.activateTabIndex([this.eInput])},e.prototype.addInputListeners=function(){var t=this;this.addManagedListener(this.eInput,"input",function(n){return t.setValue(n.target.value)})},e.prototype.setInputType=function(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)},e.prototype.getInputElement=function(){return this.eInput},e.prototype.setInputWidth=function(t){return If(this.eWrapper,t),this},e.prototype.setInputName=function(t){return this.getInputElement().setAttribute("name",t),this},e.prototype.getFocusableElement=function(){return this.eInput},e.prototype.setMaxLength=function(t){var n=this.eInput;return n.maxLength=t,this},e.prototype.setInputPlaceholder=function(t){return jo(this.eInput,"placeholder",t),this},e.prototype.setInputAriaLabel=function(t){return As(this.eInput,t),this.refreshAriaLabelledBy(),this},e.prototype.setDisabled=function(t){return fd(this.eInput,t),i.prototype.setDisabled.call(this,t)},e.prototype.setAutoComplete=function(t){if(t===!0)jo(this.eInput,"autocomplete",null);else{var n=typeof t=="string"?t:"off";jo(this.eInput,"autocomplete",n)}return this},FT([Z("eLabel")],e.prototype,"eLabel",void 0),FT([Z("eWrapper")],e.prototype,"eWrapper",void 0),FT([Z("eInput")],e.prototype,"eInput",void 0),e}(Dj),Pie=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),C_=function(i){Pie(e,i);function e(t,n,r){n===void 0&&(n="ag-checkbox"),r===void 0&&(r="checkbox");var o=i.call(this,t,n,r)||this;return o.labelAlignment="right",o.selected=!1,o.readOnly=!1,o.passive=!1,o}return e.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},e.prototype.getNextValue=function(){return this.selected===void 0?!0:!this.selected},e.prototype.setPassive=function(t){this.passive=t},e.prototype.isReadOnly=function(){return this.readOnly},e.prototype.setReadOnly=function(t){this.eWrapper.classList.toggle("ag-disabled",t),this.eInput.disabled=t,this.readOnly=t},e.prototype.setDisabled=function(t){return this.eWrapper.classList.toggle("ag-disabled",t),i.prototype.setDisabled.call(this,t)},e.prototype.toggle=function(){if(!this.eInput.disabled){var t=this.isSelected(),n=this.getNextValue();this.passive?this.dispatchChange(n,t):this.setValue(n)}},e.prototype.getValue=function(){return this.isSelected()},e.prototype.setValue=function(t,n){return this.refreshSelectedClass(t),this.setSelected(t,n),this},e.prototype.setName=function(t){var n=this.getInputElement();return n.name=t,this},e.prototype.isSelected=function(){return this.selected},e.prototype.setSelected=function(t,n){this.isSelected()!==t&&(this.previousValue=this.isSelected(),t=this.selected=typeof t=="boolean"?t:void 0,this.eInput.checked=t,this.eInput.indeterminate=t===void 0,n||this.dispatchChange(this.selected,this.previousValue))},e.prototype.dispatchChange=function(t,n,r){this.dispatchEvent({type:C.EVENT_FIELD_VALUE_CHANGED,selected:t,previousValue:n,event:r});var o=this.getInputElement(),s={type:C.EVENT_CHECKBOX_CHANGED,id:o.id,name:o.name,selected:t,previousValue:n};this.eventService.dispatchEvent(s)},e.prototype.onCheckboxClick=function(t){if(!(this.passive||this.eInput.disabled)){var n=this.isSelected(),r=this.selected=t.target.checked;this.refreshSelectedClass(r),this.dispatchChange(r,n,t)}},e.prototype.refreshSelectedClass=function(t){this.eWrapper.classList.toggle("ag-checked",t===!0),this.eWrapper.classList.toggle("ag-indeterminate",t==null)},e}(Pa),Fie=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Tj=function(i){Fie(e,i);function e(t){return i.call(this,t,"ag-radio-button","radio")||this}return e.prototype.isSelected=function(){return this.eInput.checked},e.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},e.prototype.addInputListeners=function(){i.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,C.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},e.prototype.onChange=function(t){t.selected&&t.name&&this.eInput.name&&this.eInput.name===t.name&&t.id&&this.eInput.id!==t.id&&this.setValue(!1,!0)},e}(C_),Nie=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Lie=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},kie=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},yO=function(){function i(e,t,n){this.localeService=e,this.optionsFactory=t,this.valueFormatter=n}return i.prototype.getModelAsString=function(e){var t=this;if(!e)return null;var n=e.operator!=null,r=this.localeService.getLocaleTextFunc();if(n){var o=e,s=o.conditions;if(!s){var a=o.condition1,l=o.condition2;s=[a,l]}var u=s.map(function(m){return t.getModelAsString(m)}),c=o.operator==="AND"?"andCondition":"orCondition";return u.join(" ".concat(r(c,wj[c])," "))}else{if(e.type===Mt.BLANK||e.type===Mt.NOT_BLANK)return r(e.type,e.type);var d=e,h=this.optionsFactory.getCustomOption(d.type),p=h||{},f=p.displayKey,g=p.displayName,v=p.numberOfInputs;return f&&g&&v===0?(r(f,g),g):this.conditionToString(d,h)}},i.prototype.updateParams=function(e){this.optionsFactory=e.optionsFactory},i.prototype.formatValue=function(e){var t;return this.valueFormatter?(t=this.valueFormatter(e??null))!==null&&t!==void 0?t:"":String(e)},i}(),Mt=function(i){Nie(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.eTypes=[],t.eJoinOperatorPanels=[],t.eJoinOperatorsAnd=[],t.eJoinOperatorsOr=[],t.eConditionBodies=[],t.listener=function(){return t.onUiChanged()},t.lastUiCompletePosition=null,t.joinOperatorId=0,t}return e.prototype.getNumberOfInputs=function(t){var n=this.optionsFactory.getCustomOption(t);if(n){var r=n.numberOfInputs;return r??1}var o=[e.EMPTY,e.NOT_BLANK,e.BLANK];return t&&o.indexOf(t)>=0?0:t===e.IN_RANGE?2:1},e.prototype.onFloatingFilterChanged=function(t,n){this.setTypeFromFloatingFilter(t),this.setValueFromFloatingFilter(n),this.onUiChanged(!0)},e.prototype.setTypeFromFloatingFilter=function(t){var n=this;this.eTypes.forEach(function(r,o){o===0?r.setValue(t,!0):r.setValue(n.optionsFactory.getDefaultOption(),!0)})},e.prototype.getModelFromUi=function(){var t=this.getUiCompleteConditions();return t.length===0?null:this.maxNumConditions>1&&t.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:t[0],condition2:t[1],conditions:t}:t[0]},e.prototype.getConditionTypes=function(){return this.eTypes.map(function(t){return t.getValue()})},e.prototype.getConditionType=function(t){return this.eTypes[t].getValue()},e.prototype.getJoinOperator=function(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"},e.prototype.areModelsEqual=function(t,n){var r=this;if(!t&&!n)return!0;if(!t&&n||t&&!n)return!1;var o=!t.operator,s=!n.operator,a=!o&&s||o&&!s;if(a)return!1;var l;if(o){var u=t,c=n;l=this.areSimpleModelsEqual(u,c)}else{var d=t,h=n;l=d.operator===h.operator&&Rs(d.conditions,h.conditions,function(p,f){return r.areSimpleModelsEqual(p,f)})}return l},e.prototype.shouldRefresh=function(t){var n,r,o,s=this.getModel(),a=s?(n=s.conditions)!==null&&n!==void 0?n:[s]:null,l=(o=(r=t.filterOptions)===null||r===void 0?void 0:r.map(function(c){return typeof c=="string"?c:c.displayKey}))!==null&&o!==void 0?o:this.getDefaultFilterOptions(),u=!a||a.every(function(c){return l.find(function(d){return d===c.type})!==void 0});return!(!u||typeof t.maxNumConditions=="number"&&a&&a.length>t.maxNumConditions)},e.prototype.refresh=function(t){if(!this.shouldRefresh(t))return!1;var n=i.prototype.refresh.call(this,t);return n?(this.setParams(t),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0):!1},e.prototype.setModelIntoUi=function(t){var n=this,r=t.operator;if(r){var o=t;o.conditions||(o.conditions=[o.condition1,o.condition2]);var s=this.validateAndUpdateConditions(o.conditions),a=this.getNumConditions();if(s<a)this.removeConditionsAndOperators(s);else if(s>a)for(var l=a;l<s;l++)this.createJoinOperatorPanel(),this.createOption();var u=o.operator==="OR";this.eJoinOperatorsAnd.forEach(function(d){return d.setValue(!u,!0)}),this.eJoinOperatorsOr.forEach(function(d){return d.setValue(u,!0)}),o.conditions.forEach(function(d,h){n.eTypes[h].setValue(d.type,!0),n.setConditionIntoUi(d,h)})}else{var c=t;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(c.type,!0),this.setConditionIntoUi(c,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),Tr.resolve()},e.prototype.validateAndUpdateConditions=function(t){var n=t.length;return n>this.maxNumConditions&&(t.splice(this.maxNumConditions),Se('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),n=this.maxNumConditions),n},e.prototype.doesFilterPass=function(t){var n=this,r,o=this.getModel();if(o==null)return!0;var s=o.operator,a=[];if(s){var l=o;a.push.apply(a,kie([],Lie((r=l.conditions)!==null&&r!==void 0?r:[]),!1))}else a.push(o);var u=s&&s==="OR"?"some":"every";return a[u](function(c){return n.individualConditionPasses(t,c)})},e.prototype.setParams=function(t){i.prototype.setParams.call(this,t),this.setNumConditions(t),this.defaultJoinOperator=this.getDefaultJoinOperator(t.defaultJoinOperator),this.filterPlaceholder=t.filterPlaceholder,this.optionsFactory=new _j,this.optionsFactory.init(t,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")},e.prototype.setNumConditions=function(t){var n,r;t.suppressAndOrCondition!=null&&Se('Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.'),t.alwaysShowBothConditions!=null&&Se('Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.'),this.maxNumConditions=(n=t.maxNumConditions)!==null&&n!==void 0?n:t.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(Se('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=(r=t.numAlwaysVisibleConditions)!==null&&r!==void 0?r:t.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(Se('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(Se('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)},e.prototype.createOption=function(){var t=this,n=this.createManagedBean(new y_);this.eTypes.push(n),n.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(n.getGui());var r=this.createValueElement();this.eConditionBodies.push(r),this.eFilterBody.appendChild(r),this.putOptionsIntoDropdown(n),this.resetType(n);var o=this.getNumConditions()-1;this.forEachPositionInput(o,function(s){return t.resetInput(s)}),this.addChangedListeners(n,o)},e.prototype.createJoinOperatorPanel=function(){var t=document.createElement("div");this.eJoinOperatorPanels.push(t),t.classList.add("ag-filter-condition");var n=this.createJoinOperator(this.eJoinOperatorsAnd,t,"and"),r=this.createJoinOperator(this.eJoinOperatorsOr,t,"or");this.eFilterBody.appendChild(t);var o=this.eJoinOperatorPanels.length-1,s=this.joinOperatorId++;this.resetJoinOperatorAnd(n,o,s),this.resetJoinOperatorOr(r,o,s),this.isReadOnly()||(n.onValueChange(this.listener),r.onValueChange(this.listener))},e.prototype.createJoinOperator=function(t,n,r){var o=this.createManagedBean(new Tj);return t.push(o),o.addCssClass("ag-filter-condition-operator"),o.addCssClass("ag-filter-condition-operator-".concat(r)),n.appendChild(o.getGui()),o},e.prototype.getDefaultJoinOperator=function(t){return t==="AND"||t==="OR"?t:"AND"},e.prototype.createFilterListOptions=function(){var t=this,n=this.optionsFactory.getFilterOptions();this.filterListOptions=n.map(function(r){return typeof r=="string"?t.createBoilerplateListOption(r):t.createCustomListOption(r)})},e.prototype.putOptionsIntoDropdown=function(t){this.filterListOptions.forEach(function(n){t.addOption(n)}),t.setDisabled(this.filterListOptions.length<=1)},e.prototype.createBoilerplateListOption=function(t){return{value:t,text:this.translate(t)}},e.prototype.createCustomListOption=function(t){var n=t.displayKey,r=this.optionsFactory.getCustomOption(t.displayKey);return{value:n,text:r?this.localeService.getLocaleTextFunc()(r.displayKey,r.displayName):this.translate(n)}},e.prototype.isAllowTwoConditions=function(){return this.maxNumConditions>=2},e.prototype.createBodyTemplate=function(){return""},e.prototype.getCssIdentifier=function(){return"simple-filter"},e.prototype.updateUiVisibility=function(){var t=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,t)},e.prototype.updateNumConditions=function(){for(var t,n=-1,r=!0,o=0;o<this.getNumConditions();o++)this.isConditionUiComplete(o)?n=o:r=!1;if(this.shouldAddNewConditionAtEnd(r))this.createJoinOperatorPanel(),this.createOption();else{var s=(t=this.lastUiCompletePosition)!==null&&t!==void 0?t:this.getNumConditions()-2;if(n<s){this.removeConditionsAndOperators(s+1);var a=n+1,l=s-a;l>0&&this.removeConditionsAndOperators(a,l),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=n},e.prototype.updateConditionStatusesAndValues=function(t,n){var r=this;this.eTypes.forEach(function(s,a){var l=r.isConditionDisabled(a,t);s.setDisabled(l||r.filterListOptions.length<=1),a===1&&(fd(r.eJoinOperatorPanels[0],l),r.eJoinOperatorsAnd[0].setDisabled(l),r.eJoinOperatorsOr[0].setDisabled(l))}),this.eConditionBodies.forEach(function(s,a){qe(s,r.isConditionBodyVisible(a))});var o=(n??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(function(s,a){s.setValue(!o,!0)}),this.eJoinOperatorsOr.forEach(function(s,a){s.setValue(o,!0)}),this.forEachInput(function(s,a,l,u){r.setElementDisplayed(s,a<u),r.setElementDisabled(s,r.isConditionDisabled(l,t))}),this.resetPlaceholder()},e.prototype.shouldAddNewConditionAtEnd=function(t){return t&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()},e.prototype.removeConditionsAndOperators=function(t,n){if(!(t>=this.getNumConditions())){this.removeComponents(this.eTypes,t,n),this.removeElements(this.eConditionBodies,t,n),this.removeValueElements(t,n);var r=Math.max(t-1,0);this.removeElements(this.eJoinOperatorPanels,r,n),this.removeComponents(this.eJoinOperatorsAnd,r,n),this.removeComponents(this.eJoinOperatorsOr,r,n)}},e.prototype.removeElements=function(t,n,r){var o=this.removeItems(t,n,r);o.forEach(function(s){return Ts(s)})},e.prototype.removeComponents=function(t,n,r){var o=this,s=this.removeItems(t,n,r);s.forEach(function(a){Ts(a.getGui()),o.destroyBean(a)})},e.prototype.removeItems=function(t,n,r){return r==null?t.splice(n):t.splice(n,r)},e.prototype.afterGuiAttached=function(t){if(i.prototype.afterGuiAttached.call(this,t),this.resetPlaceholder(),!t?.suppressFocus)if(this.isReadOnly())this.eFilterBody.focus();else{var n=this.getInputs(0)[0];if(!n)return;n instanceof Pa&&n.getInputElement().focus()}},e.prototype.afterGuiDetached=function(){i.prototype.afterGuiDetached.call(this);var t=this.getModel();this.resetUiToActiveModel(t);for(var n=-1,r=-1,o=!1,s=this.getJoinOperator(),a=this.getNumConditions()-1;a>=0;a--)if(this.isConditionUiComplete(a))n===-1&&(n=a,r=a);else{var l=a>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(a-1),u=a<n;(l||u)&&(this.removeConditionsAndOperators(a,1),o=!0,u&&r--)}var c=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),c=!0),this.shouldAddNewConditionAtEnd(r===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),c=!0),c&&this.updateConditionStatusesAndValues(r,s),o&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=r},e.prototype.getPlaceholderText=function(t,n){var r=this.translate(t);if(h_(this.filterPlaceholder)){var o=this.filterPlaceholder,s=this.eTypes[n].getValue(),a=this.translate(s);r=o({filterOptionKey:s,filterOption:a,placeholder:r})}else typeof this.filterPlaceholder=="string"&&(r=this.filterPlaceholder);return r},e.prototype.resetPlaceholder=function(){var t=this,n=this.localeService.getLocaleTextFunc();this.forEachInput(function(r,o,s,a){if(r instanceof Pa){var l=o===0&&a>1?"inRangeStart":o===0?"filterOoo":"inRangeEnd",u=o===0&&a>1?n("ariaFilterFromValue","Filter from value"):o===0?n("ariaFilterValue","Filter Value"):n("ariaFilterToValue","Filter to Value");r.setInputPlaceholder(t.getPlaceholderText(l,s)),r.setInputAriaLabel(u)}})},e.prototype.setElementValue=function(t,n,r){t instanceof Pa&&t.setValue(n!=null?String(n):null,!0)},e.prototype.setElementDisplayed=function(t,n){t instanceof be&&qe(t.getGui(),n)},e.prototype.setElementDisabled=function(t,n){t instanceof be&&fd(t.getGui(),n)},e.prototype.attachElementOnChange=function(t,n){t instanceof Pa&&t.onValueChange(n)},e.prototype.forEachInput=function(t){var n=this;this.getConditionTypes().forEach(function(r,o){n.forEachPositionTypeInput(o,r,t)})},e.prototype.forEachPositionInput=function(t,n){var r=this.getConditionType(t);this.forEachPositionTypeInput(t,r,n)},e.prototype.forEachPositionTypeInput=function(t,n,r){for(var o=this.getNumberOfInputs(n),s=this.getInputs(t),a=0;a<s.length;a++){var l=s[a];l!=null&&r(l,a,t,o)}},e.prototype.isConditionDisabled=function(t,n){return this.isReadOnly()?!0:t===0?!1:t>n+1},e.prototype.isConditionBodyVisible=function(t){var n=this.getConditionType(t),r=this.getNumberOfInputs(n);return r>0},e.prototype.isConditionUiComplete=function(t){if(t>=this.getNumConditions())return!1;var n=this.getConditionType(t);return!(n===e.EMPTY||this.getValues(t).some(function(r){return r==null}))},e.prototype.getNumConditions=function(){return this.eTypes.length},e.prototype.getUiCompleteConditions=function(){for(var t=[],n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)&&t.push(this.createCondition(n));return t},e.prototype.createMissingConditionsAndOperators=function(){if(!this.isReadOnly())for(var t=this.getNumConditions();t<this.numAlwaysVisibleConditions;t++)this.createJoinOperatorPanel(),this.createOption()},e.prototype.resetUiToDefaults=function(t){var n=this;return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(function(r){return n.resetType(r)}),this.eJoinOperatorsAnd.forEach(function(r,o){return n.resetJoinOperatorAnd(r,o,n.joinOperatorId+o)}),this.eJoinOperatorsOr.forEach(function(r,o){return n.resetJoinOperatorOr(r,o,n.joinOperatorId+o)}),this.joinOperatorId++,this.forEachInput(function(r){return n.resetInput(r)}),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,t||this.onUiChanged(),Tr.resolve()},e.prototype.resetType=function(t){var n=this.localeService.getLocaleTextFunc(),r=n("ariaFilteringOperator","Filtering operator");t.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(r).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)},e.prototype.resetJoinOperatorAnd=function(t,n,r){this.resetJoinOperator(t,n,this.isDefaultOperator("AND"),this.translate("andCondition"),r)},e.prototype.resetJoinOperatorOr=function(t,n,r){this.resetJoinOperator(t,n,this.isDefaultOperator("OR"),this.translate("orCondition"),r)},e.prototype.resetJoinOperator=function(t,n,r,o,s){this.updateJoinOperatorDisabled(t.setValue(r,!0).setName("ag-simple-filter-and-or-".concat(this.getCompId(),"-").concat(s)).setLabel(o),n)},e.prototype.updateJoinOperatorsDisabled=function(){var t=this;this.eJoinOperatorsAnd.forEach(function(n,r){return t.updateJoinOperatorDisabled(n,r)}),this.eJoinOperatorsOr.forEach(function(n,r){return t.updateJoinOperatorDisabled(n,r)})},e.prototype.updateJoinOperatorDisabled=function(t,n){t.setDisabled(this.isReadOnly()||n>0)},e.prototype.resetInput=function(t){this.setElementValue(t,null),this.setElementDisabled(t,this.isReadOnly())},e.prototype.setConditionIntoUi=function(t,n){var r=this,o=this.mapValuesFromModel(t);this.forEachInput(function(s,a,l,u){l===n&&r.setElementValue(s,o[a]!=null?o[a]:null)})},e.prototype.setValueFromFloatingFilter=function(t){var n=this;this.forEachInput(function(r,o,s,a){n.setElementValue(r,o===0&&s===0?t:null,!0)})},e.prototype.isDefaultOperator=function(t){return t===this.defaultJoinOperator},e.prototype.addChangedListeners=function(t,n){var r=this;this.isReadOnly()||(t.onValueChange(this.listener),this.forEachPositionInput(n,function(o){r.attachElementOnChange(o,r.listener)}))},e.prototype.individualConditionPasses=function(t,n){var r=this.getCellValue(t.node),o=this.mapValuesFromModel(n),s=this.optionsFactory.getCustomOption(n.type),a=this.evaluateCustomFilter(s,o,r);return a??(r==null?this.evaluateNullValue(n.type):this.evaluateNonNullValue(o,r,n,t))},e.prototype.evaluateCustomFilter=function(t,n,r){if(t!=null){var o=t.predicate;if(o!=null&&!n.some(function(s){return s==null}))return o(n,r)}},e.prototype.isBlank=function(t){return t==null||typeof t=="string"&&t.trim().length===0},e.prototype.hasInvalidInputs=function(){return!1},e.EMPTY="empty",e.BLANK="blank",e.NOT_BLANK="notBlank",e.EQUALS="equals",e.NOT_EQUAL="notEqual",e.LESS_THAN="lessThan",e.LESS_THAN_OR_EQUAL="lessThanOrEqual",e.GREATER_THAN="greaterThan",e.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",e.IN_RANGE="inRange",e.CONTAINS="contains",e.NOT_CONTAINS="notContains",e.STARTS_WITH="startsWith",e.ENDS_WITH="endsWith",e}(ZC),Vie=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),en=function(i){Vie(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.setParams=function(t){i.prototype.setParams.call(this,t),this.scalarFilterParams=t},e.prototype.evaluateNullValue=function(t){switch(t){case e.EQUALS:case e.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case e.GREATER_THAN:case e.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case e.LESS_THAN:case e.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case e.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case e.BLANK:return!0;case e.NOT_BLANK:return!1}return!1},e.prototype.evaluateNonNullValue=function(t,n,r){var o=this.comparator(),s=t[0]!=null?o(t[0],n):0;switch(r.type){case e.EQUALS:return s===0;case e.NOT_EQUAL:return s!==0;case e.GREATER_THAN:return s>0;case e.GREATER_THAN_OR_EQUAL:return s>=0;case e.LESS_THAN:return s<0;case e.LESS_THAN_OR_EQUAL:return s<=0;case e.IN_RANGE:{var a=o(t[1],n);return this.scalarFilterParams.inRangeInclusive?s>=0&&a<=0:s>0&&a<0}case e.BLANK:return this.isBlank(n);case e.NOT_BLANK:return!this.isBlank(n);default:return console.warn('AG Grid: Unexpected type of filter "'+r.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},e}(Mt),Aj=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),IA=function(){return IA=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},IA.apply(this,arguments)},Gie=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},gH=1e3,vH=1/0,Oj=function(i){Aj(e,i);function e(t,n,r){var o=i.call(this,n,r)||this;return o.dateFilterParams=t,o}return e.prototype.conditionToString=function(t,n){var r=t.type,o=(n||{}).numberOfInputs,s=r==Mt.IN_RANGE||o===2,a=Di(t.dateFrom),l=Di(t.dateTo),u=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(s){var c=a!==null?cd(a,u):"null",d=l!==null?cd(l,u):"null";return"".concat(c,"-").concat(d)}return a!=null?cd(a,u):"".concat(r)},e.prototype.updateParams=function(t){i.prototype.updateParams.call(this,t),this.dateFilterParams=t.dateFilterParams},e}(yO),Ij=function(i){Aj(e,i);function e(){var t=i.call(this,"dateFilter")||this;return t.eConditionPanelsFrom=[],t.eConditionPanelsTo=[],t.dateConditionFromComps=[],t.dateConditionToComps=[],t.minValidYear=gH,t.maxValidYear=vH,t.minValidDate=null,t.maxValidDate=null,t}return e.prototype.afterGuiAttached=function(t){i.prototype.afterGuiAttached.call(this,t),this.dateConditionFromComps[0].afterGuiAttached(t)},e.prototype.mapValuesFromModel=function(t){var n=t||{},r=n.dateFrom,o=n.dateTo,s=n.type;return[r&&Di(r)||null,o&&Di(o)||null].slice(0,this.getNumberOfInputs(s))},e.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},e.prototype.defaultComparator=function(t,n){var r=n;return n==null||r<t?-1:r>t?1:0},e.prototype.setParams=function(t){this.dateFilterParams=t,i.prototype.setParams.call(this,t);var n=function(r,o){if(t[r]!=null)if(isNaN(t[r]))console.warn("AG Grid: DateFilter ".concat(r," is not a number"));else return t[r]==null?o:Number(t[r]);return o};this.minValidYear=n("minValidYear",gH),this.maxValidYear=n("maxValidYear",vH),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),t.minValidDate?this.minValidDate=t.minValidDate instanceof Date?t.minValidDate:Di(t.minValidDate):this.minValidDate=null,t.maxValidDate?this.maxValidDate=t.maxValidDate instanceof Date?t.maxValidDate:Di(t.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&console.warn("AG Grid: DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new Oj(this.dateFilterParams,this.localeService,this.optionsFactory)},e.prototype.createDateCompWrapper=function(t){var n=this,r=new Cj(this.getContext(),this.userComponentFactory,{onDateChanged:function(){return n.onUiChanged()},filterParams:this.dateFilterParams},t);return this.addDestroyFunc(function(){return r.destroy()}),r},e.prototype.setElementValue=function(t,n){t.setDate(n)},e.prototype.setElementDisplayed=function(t,n){t.setDisplayed(n)},e.prototype.setElementDisabled=function(t,n){t.setDisabled(n)},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueElement=function(){var t=document.createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t},e.prototype.createFromToElement=function(t,n,r,o){var s=document.createElement("div");s.classList.add("ag-filter-".concat(o)),s.classList.add("ag-filter-date-".concat(o)),n.push(s),t.appendChild(s),r.push(this.createDateCompWrapper(s))},e.prototype.removeValueElements=function(t,n){this.removeDateComps(this.dateConditionFromComps,t,n),this.removeDateComps(this.dateConditionToComps,t,n),this.removeItems(this.eConditionPanelsFrom,t,n),this.removeItems(this.eConditionPanelsTo,t,n)},e.prototype.removeDateComps=function(t,n,r){var o=this.removeItems(t,n,r);o.forEach(function(s){return s.destroy()})},e.prototype.isValidDateValue=function(t){if(t===null)return!1;if(this.minValidDate){if(t<this.minValidDate)return!1}else if(t.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(t>this.maxValidDate)return!1}else if(t.getUTCFullYear()>this.maxValidYear)return!1;return!0},e.prototype.isConditionUiComplete=function(t){var n=this;if(!i.prototype.isConditionUiComplete.call(this,t))return!1;var r=!0;return this.forEachInput(function(o,s,a,l){a!==t||!r||s>=l||(r=r&&n.isValidDateValue(o.getDate()))}),r},e.prototype.areSimpleModelsEqual=function(t,n){return t.dateFrom===n.dateFrom&&t.dateTo===n.dateTo&&t.type===n.type},e.prototype.getFilterType=function(){return"date"},e.prototype.createCondition=function(t){var n=this.getConditionType(t),r={},o=this.getValues(t);return o.length>0&&(r.dateFrom=Ir(o[0])),o.length>1&&(r.dateTo=Ir(o[1])),IA({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:n},r)},e.prototype.resetPlaceholder=function(){var t=this.localeService.getLocaleTextFunc(),n=this.translate("dateFormatOoo"),r=t("ariaFilterValue","Filter Value");this.forEachInput(function(o){o.setInputPlaceholder(n),o.setInputAriaLabel(r)})},e.prototype.getInputs=function(t){return t>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[t],this.dateConditionToComps[t]]},e.prototype.getValues=function(t){var n=[];return this.forEachPositionInput(t,function(r,o,s,a){o<a&&n.push(r.getDate())}),n},e.prototype.translate=function(t){return t===en.LESS_THAN?i.prototype.translate.call(this,"before"):t===en.GREATER_THAN?i.prototype.translate.call(this,"after"):i.prototype.translate.call(this,t)},e.prototype.getModelAsString=function(t){var n;return(n=this.filterModelFormatter.getModelAsString(t))!==null&&n!==void 0?n:""},e.DEFAULT_FILTER_OPTIONS=[en.EQUALS,en.NOT_EQUAL,en.LESS_THAN,en.GREATER_THAN,en.IN_RANGE,en.BLANK,en.NOT_BLANK],Gie([y("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(en),Hie=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Mj=function(i){Hie(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.destroy=function(){i.prototype.destroy.call(this)},e.prototype.isEventFromFloatingFilter=function(t){return t&&t.afterFloatingFilter},e.prototype.isEventFromDataChange=function(t){return t?.afterDataChange},e.prototype.getLastType=function(){return this.lastType},e.prototype.isReadOnly=function(){return this.readOnly},e.prototype.setLastTypeFromModel=function(t){if(!t){this.lastType=this.optionsFactory.getDefaultOption();return}var n=t.operator,r;if(n){var o=t;r=o.conditions[0]}else r=t;this.lastType=r.type},e.prototype.canWeEditAfterModelFromParentFilter=function(t){if(!t)return this.isTypeEditable(this.lastType);var n=t.operator;if(n)return!1;var r=t;return this.isTypeEditable(r.type)},e.prototype.init=function(t){this.setSimpleParams(t,!1)},e.prototype.setSimpleParams=function(t,n){n===void 0&&(n=!0),this.optionsFactory=new _j,this.optionsFactory.init(t.filterParams,this.getDefaultFilterOptions()),n||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!t.filterParams.readOnly;var r=this.isTypeEditable(this.lastType);this.setEditable(r)},e.prototype.onParamsUpdated=function(t){this.refresh(t)},e.prototype.refresh=function(t){this.setSimpleParams(t)},e.prototype.doesFilterHaveSingleInput=function(t){var n=this.optionsFactory.getCustomOption(t),r=(n||{}).numberOfInputs;return r==null||r==1},e.prototype.isTypeEditable=function(t){var n=[Mt.IN_RANGE,Mt.EMPTY,Mt.BLANK,Mt.NOT_BLANK];return!!t&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(t)&&n.indexOf(t)<0},e}(be),Bie=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),NT=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},jie=function(i){Bie(e,i);function e(){return i.call(this,`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>
                <div ref="eDateWrapper" style="display: flex;"></div>
            </div>`)||this}return e.prototype.getDefaultFilterOptions=function(){return Ij.DEFAULT_FILTER_OPTIONS},e.prototype.init=function(t){i.prototype.init.call(this,t),this.params=t,this.filterParams=t.filterParams,this.createDateComponent(),this.filterModelFormatter=new Oj(this.filterParams,this.localeService,this.optionsFactory);var n=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(n("ariaDateFilterInput","Date Filter Input"))},e.prototype.onParamsUpdated=function(t){this.refresh(t)},e.prototype.refresh=function(t){i.prototype.refresh.call(this,t),this.params=t,this.filterParams=t.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(t.currentParentModel())},e.prototype.updateCompOnModelChange=function(t){var n=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(t);if(this.setEditable(n),n){if(t){var r=t;this.dateComp.setDate(Di(r.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(t)),this.dateComp.setDate(null)},e.prototype.setEditable=function(t){qe(this.eDateWrapper,t),qe(this.eReadOnlyText.getGui(),!t)},e.prototype.onParentModelChanged=function(t,n){this.isEventFromFloatingFilter(n)||this.isEventFromDataChange(n)||(i.prototype.setLastTypeFromModel.call(this,t),this.updateCompOnModelChange(t))},e.prototype.onDateChanged=function(){var t=this,n=this.dateComp.getDate(),r=Ir(n);this.params.parentFilterInstance(function(o){if(o){var s=Di(r);o.onFloatingFilterChanged(t.getLastType()||null,s)}})},e.prototype.getDateComponentParams=function(){var t=ZC.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:Ar(this.onDateChanged.bind(this),t),filterParams:this.params.column.getColDef().filterParams}},e.prototype.createDateComponent=function(){var t=this;this.dateComp=new Cj(this.getContext(),this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper),this.addDestroyFunc(function(){return t.dateComp.destroy()})},e.prototype.updateDateComponent=function(){var t=this.gridOptionsService.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(t)},e.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},NT([y("userComponentFactory")],e.prototype,"userComponentFactory",void 0),NT([Z("eReadOnlyText")],e.prototype,"eReadOnlyText",void 0),NT([Z("eDateWrapper")],e.prototype,"eDateWrapper",void 0),e}(Mj),Uie=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Wie=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},zie=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},$ie=function(i){Uie(e,i);function e(){return i.call(this,`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>
            </div>`)||this}return e.prototype.destroy=function(){i.prototype.destroy.call(this)},e.prototype.init=function(t){var n=this;this.params=t,this.setParams(t);var r=this.gridOptionsService.getDocument(),o=this.eDateInput.getInputElement();this.addManagedListener(o,"mousedown",function(){n.eDateInput.isDisabled()||n.usingSafariDatePicker||o.focus()}),this.addManagedListener(o,"input",function(s){s.target===r.activeElement&&(n.eDateInput.isDisabled()||n.params.onDateChanged())})},e.prototype.setParams=function(t){var n=this.eDateInput.getInputElement(),r=this.shouldUseBrowserDatePicker(t);this.usingSafariDatePicker=r&&eo(),n.type=r?"date":"text";var o=t.filterParams||{},s=o.minValidYear,a=o.maxValidYear,l=o.minValidDate,u=o.maxValidDate;if(l&&s&&Se("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),u&&a&&Se("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),l&&u){var c=zie([l,u].map(function(p){return p instanceof Date?p:Di(p)}),2),d=c[0],h=c[1];d&&h&&d.getTime()>h.getTime()&&Se("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}l?l instanceof Date?n.min=cd(l):n.min=l:s&&(n.min="".concat(s,"-01-01")),u?u instanceof Date?n.max=cd(u):n.max=u:a&&(n.max="".concat(a,"-12-31"))},e.prototype.onParamsUpdated=function(t){this.refresh(t)},e.prototype.refresh=function(t){this.params=t,this.setParams(t)},e.prototype.getDate=function(){return Di(this.eDateInput.getValue())},e.prototype.setDate=function(t){this.eDateInput.setValue(Ir(t,!1))},e.prototype.setInputPlaceholder=function(t){this.eDateInput.setInputPlaceholder(t)},e.prototype.setDisabled=function(t){this.eDateInput.setDisabled(t)},e.prototype.afterGuiAttached=function(t){(!t||!t.suppressFocus)&&this.eDateInput.getInputElement().focus()},e.prototype.shouldUseBrowserDatePicker=function(t){return t.filterParams&&t.filterParams.browserDatePicker!=null?t.filterParams.browserDatePicker:g_()||eO()||eo()&&JA()>=14.1},Wie([Z("eDateInput")],e.prototype,"eDateInput",void 0),e}(be),qie=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),hu=function(i){qie(e,i);function e(t,n,r){return n===void 0&&(n="ag-text-field"),r===void 0&&(r="text"),i.call(this,t,n,r)||this}return e.prototype.postConstruct=function(){i.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},e.prototype.setValue=function(t,n){return this.eInput.value!==t&&(this.eInput.value=B(t)?t:""),i.prototype.setValue.call(this,t,n)},e.prototype.setStartValue=function(t){this.setValue(t,!0)},e.prototype.preventDisallowedCharacters=function(){var t=new RegExp("[".concat(this.config.allowedCharPattern,"]")),n=function(r){m_(r)&&r.key&&!t.test(r.key)&&r.preventDefault()};this.addManagedListener(this.eInput,"keydown",n),this.addManagedListener(this.eInput,"paste",function(r){var o,s=(o=r.clipboardData)===null||o===void 0?void 0:o.getData("text");s&&s.split("").some(function(a){return!t.test(a)})&&r.preventDefault()})},e}(Pa),Kie=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),CO=function(i){Kie(e,i);function e(t){return i.call(this,t,"ag-number-field","number")||this}return e.prototype.postConstruct=function(){var t=this;i.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var n=parseFloat(t.eInput.value),r=isNaN(n)?"":t.normalizeValue(n.toString());t.value!==r&&t.setValue(r)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"},e.prototype.onWheel=function(t){document.activeElement===this.eInput&&t.preventDefault()},e.prototype.normalizeValue=function(t){if(t==="")return"";this.precision!=null&&(t=this.adjustPrecision(t));var n=parseFloat(t);return this.min!=null&&n<this.min?t=this.min.toString():this.max!=null&&n>this.max&&(t=this.max.toString()),t},e.prototype.adjustPrecision=function(t,n){if(this.precision==null)return t;if(n){var r=parseFloat(t).toFixed(this.precision);return parseFloat(r).toString()}var o=String(t).split(".");if(o.length>1){if(o[1].length<=this.precision)return t;if(this.precision>0)return"".concat(o[0],".").concat(o[1].slice(0,this.precision))}return o[0]},e.prototype.setMin=function(t){return this.min===t?this:(this.min=t,jo(this.eInput,"min",t),this)},e.prototype.setMax=function(t){return this.max===t?this:(this.max=t,jo(this.eInput,"max",t),this)},e.prototype.setPrecision=function(t){return this.precision=t,this},e.prototype.setStep=function(t){return this.step===t?this:(this.step=t,jo(this.eInput,"step",t),this)},e.prototype.setValue=function(t,n){var r=this;return this.setValueOrInputValue(function(o){return i.prototype.setValue.call(r,o,n)},function(){return r},t)},e.prototype.setStartValue=function(t){var n=this;return this.setValueOrInputValue(function(r){return i.prototype.setValue.call(n,r,!0)},function(r){n.eInput.value=r},t)},e.prototype.setValueOrInputValue=function(t,n,r){if(B(r)){var o=this.isScientificNotation(r);if(o&&this.eInput.validity.valid)return t(r);if(!o){r=this.adjustPrecision(r);var s=this.normalizeValue(r);o=r!=s}if(o)return n(r)}return t(r)},e.prototype.getValue=function(){if(this.eInput.validity.valid){var t=this.eInput.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):i.prototype.getValue.call(this)}},e.prototype.isScientificNotation=function(t){return typeof t=="string"&&t.includes("e")},e}(hu),xj=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Pj=function(i){xj(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.conditionToString=function(t,n){var r=(n||{}).numberOfInputs,o=t.type==Mt.IN_RANGE||r===2;return o?"".concat(this.formatValue(t.filter),"-").concat(this.formatValue(t.filterTo)):t.filter!=null?this.formatValue(t.filter):"".concat(t.type)},e}(yO);function MA(i){var e=(i??{}).allowedCharPattern;return e??null}var Fj=function(i){xj(e,i);function e(){var t=i.call(this,"numberFilter")||this;return t.eValuesFrom=[],t.eValuesTo=[],t}return e.prototype.refresh=function(t){return this.numberFilterParams.allowedCharPattern!==t.allowedCharPattern?!1:i.prototype.refresh.call(this,t)},e.prototype.mapValuesFromModel=function(t){var n=t||{},r=n.filter,o=n.filterTo,s=n.type;return[this.processValue(r),this.processValue(o)].slice(0,this.getNumberOfInputs(s))},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.comparator=function(){return function(t,n){return t===n?0:t<n?1:-1}},e.prototype.setParams=function(t){this.numberFilterParams=t,i.prototype.setParams.call(this,t),this.filterModelFormatter=new Pj(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.setElementValue=function(t,n,r){var o=!r&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(n??null):n;i.prototype.setElementValue.call(this,t,o)},e.prototype.createValueElement=function(){var t=MA(this.numberFilterParams),n=document.createElement("div");return n.classList.add("ag-filter-body"),fn(n,"presentation"),this.createFromToElement(n,this.eValuesFrom,"from",t),this.createFromToElement(n,this.eValuesTo,"to",t),n},e.prototype.createFromToElement=function(t,n,r,o){var s=this.createManagedBean(o?new hu({allowedCharPattern:o}):new CO);s.addCssClass("ag-filter-".concat(r)),s.addCssClass("ag-filter-filter"),n.push(s),t.appendChild(s.getGui())},e.prototype.removeValueElements=function(t,n){this.removeComponents(this.eValuesFrom,t,n),this.removeComponents(this.eValuesTo,t,n)},e.prototype.getValues=function(t){var n=this,r=[];return this.forEachPositionInput(t,function(o,s,a,l){s<l&&r.push(n.processValue(n.stringToFloat(o.getValue())))}),r},e.prototype.areSimpleModelsEqual=function(t,n){return t.filter===n.filter&&t.filterTo===n.filterTo&&t.type===n.type},e.prototype.getFilterType=function(){return"number"},e.prototype.processValue=function(t){return t==null||isNaN(t)?null:t},e.prototype.stringToFloat=function(t){if(typeof t=="number")return t;var n=Bo(t);return n!=null&&n.trim()===""&&(n=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(n):n==null||n.trim()==="-"?null:parseFloat(n)},e.prototype.createCondition=function(t){var n=this.getConditionType(t),r={filterType:this.getFilterType(),type:n},o=this.getValues(t);return o.length>0&&(r.filter=o[0]),o.length>1&&(r.filterTo=o[1]),r},e.prototype.getInputs=function(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]},e.prototype.getModelAsString=function(t){var n;return(n=this.filterModelFormatter.getModelAsString(t))!==null&&n!==void 0?n:""},e.prototype.hasInvalidInputs=function(){var t=!1;return this.forEachInput(function(n){if(!n.getInputElement().validity.valid){t=!0;return}}),t},e.DEFAULT_FILTER_OPTIONS=[en.EQUALS,en.NOT_EQUAL,en.GREATER_THAN,en.GREATER_THAN_OR_EQUAL,en.LESS_THAN,en.LESS_THAN_OR_EQUAL,en.IN_RANGE,en.BLANK,en.NOT_BLANK],e}(en),Nj=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),XC=function(){return XC=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},XC.apply(this,arguments)},Lj=function(i){Nj(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.conditionToString=function(t,n){var r=(n||{}).numberOfInputs,o=t.type==Mt.IN_RANGE||r===2;return o?"".concat(t.filter,"-").concat(t.filterTo):t.filter!=null?"".concat(t.filter):"".concat(t.type)},e}(yO),_O=function(i){Nj(e,i);function e(){var t=i.call(this,"textFilter")||this;return t.eValuesFrom=[],t.eValuesTo=[],t}return e.trimInput=function(t){var n=t&&t.trim();return n===""?t:n},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.setParams=function(t){this.textFilterParams=t,i.prototype.setParams.call(this,t),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?e.DEFAULT_FORMATTER:e.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new Lj(this.localeService,this.optionsFactory)},e.prototype.getTextMatcher=function(){var t=this.textFilterParams.textCustomComparator;return t?(Te.warnOnce("textCustomComparator is deprecated, use textMatcher instead."),function(n){var r=n.filterOption,o=n.value,s=n.filterText;return t(r,o,s)}):this.textFilterParams.textMatcher||e.DEFAULT_MATCHER},e.prototype.createCondition=function(t){var n=this.getConditionType(t),r={filterType:this.getFilterType(),type:n},o=this.getValuesWithSideEffects(t,!0);return o.length>0&&(r.filter=o[0]),o.length>1&&(r.filterTo=o[1]),r},e.prototype.getFilterType=function(){return"text"},e.prototype.areSimpleModelsEqual=function(t,n){return t.filter===n.filter&&t.filterTo===n.filterTo&&t.type===n.type},e.prototype.getInputs=function(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]},e.prototype.getValues=function(t){return this.getValuesWithSideEffects(t,!1)},e.prototype.getValuesWithSideEffects=function(t,n){var r=this,o=[];return this.forEachPositionInput(t,function(s,a,l,u){var c;if(a<u){var d=Bo(s.getValue());n&&r.textFilterParams.trimInput&&(d=(c=e.trimInput(d))!==null&&c!==void 0?c:null,s.setValue(d,!0)),o.push(d)}}),o},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueElement=function(){var t=document.createElement("div");return t.classList.add("ag-filter-body"),fn(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from"),this.createFromToElement(t,this.eValuesTo,"to"),t},e.prototype.createFromToElement=function(t,n,r){var o=this.createManagedBean(new hu);o.addCssClass("ag-filter-".concat(r)),o.addCssClass("ag-filter-filter"),n.push(o),t.appendChild(o.getGui())},e.prototype.removeValueElements=function(t,n){this.removeComponents(this.eValuesFrom,t,n),this.removeComponents(this.eValuesTo,t,n)},e.prototype.mapValuesFromModel=function(t){var n=t||{},r=n.filter,o=n.filterTo,s=n.type;return[r||null,o||null].slice(0,this.getNumberOfInputs(s))},e.prototype.evaluateNullValue=function(t){var n=[Mt.NOT_EQUAL,Mt.NOT_CONTAINS,Mt.BLANK];return t?n.indexOf(t)>=0:!1},e.prototype.evaluateNonNullValue=function(t,n,r,o){var s=this,a=t.map(function(m){return s.formatter(m)})||[],l=this.formatter(n),u=this.textFilterParams,c=u.api,d=u.colDef,h=u.column,p=u.columnApi,f=u.context,g=u.textFormatter;if(r.type===Mt.BLANK)return this.isBlank(n);if(r.type===Mt.NOT_BLANK)return!this.isBlank(n);var v={api:c,colDef:d,column:h,columnApi:p,context:f,node:o.node,data:o.data,filterOption:r.type,value:l,textFormatter:g};return a.some(function(m){return s.matcher(XC(XC({},v),{filterText:m}))})},e.prototype.getModelAsString=function(t){var n;return(n=this.filterModelFormatter.getModelAsString(t))!==null&&n!==void 0?n:""},e.DEFAULT_FILTER_OPTIONS=[Mt.CONTAINS,Mt.NOT_CONTAINS,Mt.EQUALS,Mt.NOT_EQUAL,Mt.STARTS_WITH,Mt.ENDS_WITH,Mt.BLANK,Mt.NOT_BLANK],e.DEFAULT_FORMATTER=function(t){return t},e.DEFAULT_LOWERCASE_FORMATTER=function(t){return t==null?null:t.toString().toLowerCase()},e.DEFAULT_MATCHER=function(t){var n=t.filterOption,r=t.value,o=t.filterText;if(o==null)return!1;switch(n){case e.CONTAINS:return r.indexOf(o)>=0;case e.NOT_CONTAINS:return r.indexOf(o)<0;case e.EQUALS:return r===o;case e.NOT_EQUAL:return r!=o;case e.STARTS_WITH:return r.indexOf(o)===0;case e.ENDS_WITH:var s=r.lastIndexOf(o);return s>=0&&s===r.length-o.length;default:return!1}},e}(Mt),kj=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),LT=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Vj=function(i){kj(e,i);function e(t){var n=i.call(this)||this;return n.params=t,n.valueChangedListener=function(){},n}return e.prototype.setupGui=function(t){var n=this,r;this.eFloatingFilterTextInput=this.createManagedBean(new hu((r=this.params)===null||r===void 0?void 0:r.config));var o=this.eFloatingFilterTextInput.getGui();t.appendChild(o),this.addManagedListener(o,"input",function(s){return n.valueChangedListener(s)}),this.addManagedListener(o,"keydown",function(s){return n.valueChangedListener(s)})},e.prototype.setEditable=function(t){this.eFloatingFilterTextInput.setDisabled(!t)},e.prototype.setAutoComplete=function(t){this.eFloatingFilterTextInput.setAutoComplete(t)},e.prototype.getValue=function(){return this.eFloatingFilterTextInput.getValue()},e.prototype.setValue=function(t,n){this.eFloatingFilterTextInput.setValue(t,n)},e.prototype.setValueChangedListener=function(t){this.valueChangedListener=t},e.prototype.setParams=function(t){this.setAriaLabel(t.ariaLabel),t.autoComplete!==void 0&&this.setAutoComplete(t.autoComplete)},e.prototype.setAriaLabel=function(t){this.eFloatingFilterTextInput.setInputAriaLabel(t)},e}(j),Gj=function(i){kj(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>
        `)},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.onParentModelChanged=function(t,n){this.isEventFromFloatingFilter(n)||this.isEventFromDataChange(n)||(this.setLastTypeFromModel(t),this.setEditable(this.canWeEditAfterModelFromParentFilter(t)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(t)))},e.prototype.init=function(t){this.setupFloatingFilterInputService(t),i.prototype.init.call(this,t),this.setTextInputParams(t)},e.prototype.setupFloatingFilterInputService=function(t){this.floatingFilterInputService=this.createFloatingFilterInputService(t),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)},e.prototype.setTextInputParams=function(t){var n;this.params=t;var r=(n=t.browserAutoComplete)!==null&&n!==void 0?n:!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(t),autoComplete:r}),this.applyActive=ZC.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){var o=ZC.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),s=Ar(this.syncUpWithParentFilter.bind(this),o);this.floatingFilterInputService.setValueChangedListener(s)}},e.prototype.onParamsUpdated=function(t){this.refresh(t)},e.prototype.refresh=function(t){i.prototype.refresh.call(this,t),this.setTextInputParams(t)},e.prototype.recreateFloatingFilterInputService=function(t){var n=this.floatingFilterInputService.getValue();Rn(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(t),this.floatingFilterInputService.setValue(n,!0)},e.prototype.getAriaLabel=function(t){var n=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),r=this.localeService.getLocaleTextFunc();return"".concat(n," ").concat(r("ariaFilterInput","Filter Input"))},e.prototype.syncUpWithParentFilter=function(t){var n=this,r=t.key===I.ENTER;if(!(this.applyActive&&!r)){var o=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(o=_O.trimInput(o),this.floatingFilterInputService.setValue(o,!0)),this.params.parentFilterInstance(function(s){s&&s.onFloatingFilterChanged(n.getLastType()||null,o||null)})}},e.prototype.setEditable=function(t){this.floatingFilterInputService.setEditable(t)},LT([y("columnModel")],e.prototype,"columnModel",void 0),LT([Z("eFloatingFilterInputContainer")],e.prototype,"eFloatingFilterInputContainer",void 0),LT([W],e.prototype,"postConstruct",null),e}(Mj),Hj=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Yie=function(i){Hj(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.valueChangedListener=function(){},t.numberInputActive=!0,t}return e.prototype.setupGui=function(t){var n=this;this.eFloatingFilterNumberInput=this.createManagedBean(new CO),this.eFloatingFilterTextInput=this.createManagedBean(new hu),this.eFloatingFilterTextInput.setDisabled(!0);var r=this.eFloatingFilterNumberInput.getGui(),o=this.eFloatingFilterTextInput.getGui();t.appendChild(r),t.appendChild(o),this.setupListeners(r,function(s){return n.valueChangedListener(s)}),this.setupListeners(o,function(s){return n.valueChangedListener(s)})},e.prototype.setEditable=function(t){this.numberInputActive=t,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)},e.prototype.setAutoComplete=function(t){this.eFloatingFilterNumberInput.setAutoComplete(t),this.eFloatingFilterTextInput.setAutoComplete(t)},e.prototype.getValue=function(){return this.getActiveInputElement().getValue()},e.prototype.setValue=function(t,n){this.getActiveInputElement().setValue(t,n)},e.prototype.getActiveInputElement=function(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput},e.prototype.setValueChangedListener=function(t){this.valueChangedListener=t},e.prototype.setupListeners=function(t,n){this.addManagedListener(t,"input",n),this.addManagedListener(t,"keydown",n)},e.prototype.setParams=function(t){this.setAriaLabel(t.ariaLabel),t.autoComplete!==void 0&&this.setAutoComplete(t.autoComplete)},e.prototype.setAriaLabel=function(t){this.eFloatingFilterNumberInput.setInputAriaLabel(t),this.eFloatingFilterTextInput.setInputAriaLabel(t)},e}(j),Qie=function(i){Hj(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(t){var n;i.prototype.init.call(this,t),this.filterModelFormatter=new Pj(this.localeService,this.optionsFactory,(n=t.filterParams)===null||n===void 0?void 0:n.numberFormatter)},e.prototype.onParamsUpdated=function(t){this.refresh(t)},e.prototype.refresh=function(t){var n=MA(t.filterParams);n!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(t),i.prototype.refresh.call(this,t),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},e.prototype.getDefaultFilterOptions=function(){return Fj.DEFAULT_FILTER_OPTIONS},e.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},e.prototype.createFloatingFilterInputService=function(t){return this.allowedCharPattern=MA(t.filterParams),this.allowedCharPattern?this.createManagedBean(new Vj({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new Yie)},e}(Gj),Zie=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Xie=function(i){Zie(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(t){i.prototype.init.call(this,t),this.filterModelFormatter=new Lj(this.localeService,this.optionsFactory)},e.prototype.onParamsUpdated=function(t){this.refresh(t)},e.prototype.refresh=function(t){i.prototype.refresh.call(this,t),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},e.prototype.getDefaultFilterOptions=function(){return _O.DEFAULT_FILTER_OPTIONS},e.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},e.prototype.createFloatingFilterInputService=function(){return this.createManagedBean(new Vj)},e}(Gj),Zi=function(){function i(e,t){t===void 0&&(t=!1);var n=this;this.destroyFuncs=[],this.touching=!1,this.eventService=new ka,this.eElement=e,this.preventMouseClick=t;var r=this.onTouchStart.bind(this),o=this.onTouchMove.bind(this),s=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",r,{passive:!0}),this.eElement.addEventListener("touchmove",o,{passive:!0}),this.eElement.addEventListener("touchend",s,{passive:!1}),this.destroyFuncs.push(function(){n.eElement.removeEventListener("touchstart",r,{passive:!0}),n.eElement.removeEventListener("touchmove",o,{passive:!0}),n.eElement.removeEventListener("touchend",s,{passive:!1})})}return i.prototype.getActiveTouch=function(e){for(var t=0;t<e.length;t++){var n=e[t].identifier===this.touchStart.identifier;if(n)return e[t]}return null},i.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},i.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},i.prototype.onTouchStart=function(e){var t=this;if(!this.touching){this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;var n=this.touchStart;window.setTimeout(function(){var r=t.touchStart===n;if(t.touching&&r&&!t.moved){t.moved=!0;var o={type:i.EVENT_LONG_TAP,touchStart:t.touchStart,touchEvent:e};t.eventService.dispatchEvent(o)}},500)}},i.prototype.onTouchMove=function(e){if(this.touching){var t=this.getActiveTouch(e.touches);if(t){var n=!gO(t,this.touchStart,4);n&&(this.moved=!0)}}},i.prototype.onTouchEnd=function(e){if(this.touching){if(!this.moved){var t={type:i.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}},i.prototype.checkForDoubleTap=function(){var e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0){var t=e-this.lastTapTime;if(t>i.DOUBLE_TAP_MILLIS){var n={type:i.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=e}else this.lastTapTime=e},i.prototype.destroy=function(){this.destroyFuncs.forEach(function(e){return e()})},i.EVENT_TAP="tap",i.EVENT_DOUBLE_TAP="doubleTap",i.EVENT_LONG_TAP="longTap",i.DOUBLE_TAP_MILLIS=500,i}(),Jie=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Yl=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},wO=function(i){Jie(e,i);function e(t){var n=i.call(this)||this;return t||n.setTemplate(e.TEMPLATE),n}return e.prototype.attachCustomElements=function(t,n,r,o,s){this.eSortOrder=t,this.eSortAsc=n,this.eSortDesc=r,this.eSortMixed=o,this.eSortNone=s},e.prototype.setupSort=function(t,n){var r=this;n===void 0&&(n=!1),this.column=t,this.suppressOrder=n,this.setupMultiSortIndicator(),this.column.isSortable()&&(this.addInIcon("sortAscending",this.eSortAsc,t),this.addInIcon("sortDescending",this.eSortDesc,t),this.addInIcon("sortUnSort",this.eSortNone,t),this.addManagedPropertyListener("unSortIcon",function(){return r.updateIcons()}),this.addManagedListener(this.eventService,C.EVENT_NEW_COLUMNS_LOADED,function(){return r.updateIcons()}),this.addManagedListener(this.eventService,C.EVENT_SORT_CHANGED,function(){return r.onSortChanged()}),this.addManagedListener(this.eventService,C.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return r.onSortChanged()}),this.onSortChanged())},e.prototype.addInIcon=function(t,n,r){if(n!=null){var o=Kt(t,this.gridOptionsService,r);o&&n.appendChild(o)}},e.prototype.onSortChanged=function(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()},e.prototype.updateIcons=function(){var t=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){var n=t==="asc";qe(this.eSortAsc,n,{skipAriaHidden:!0})}if(this.eSortDesc){var r=t==="desc";qe(this.eSortDesc,r,{skipAriaHidden:!0})}if(this.eSortNone){var o=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.get("unSortIcon"),s=t==null;qe(this.eSortNone,!o&&s,{skipAriaHidden:!0})}},e.prototype.setupMultiSortIndicator=function(){var t=this;this.addInIcon("sortUnSort",this.eSortMixed,this.column);var n=this.column.getColDef().showRowGroup,r=this.gridOptionsService.isColumnsSortingCoupledToGroup();r&&n&&(this.addManagedListener(this.eventService,C.EVENT_SORT_CHANGED,function(){return t.updateMultiSortIndicator()}),this.addManagedListener(this.eventService,C.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return t.updateMultiSortIndicator()}),this.updateMultiSortIndicator())},e.prototype.updateMultiSortIndicator=function(){if(this.eSortMixed){var t=this.sortController.getDisplaySortForColumn(this.column)==="mixed";qe(this.eSortMixed,t,{skipAriaHidden:!0})}},e.prototype.updateSortOrder=function(){var t=this,n;if(this.eSortOrder){var r=this.sortController.getColumnsWithSortingOrdered(),o=(n=this.sortController.getDisplaySortIndexForColumn(this.column))!==null&&n!==void 0?n:-1,s=r.some(function(l){var u;return(u=t.sortController.getDisplaySortIndexForColumn(l))!==null&&u!==void 0?u:-1>=1}),a=o>=0&&s;qe(this.eSortOrder,a,{skipAriaHidden:!0}),o>=0?this.eSortOrder.textContent=(o+1).toString():Rn(this.eSortOrder)}},e.TEMPLATE=`<span class="ag-sort-indicator-container">
            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>
            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>
        </span>`,Yl([Z("eSortOrder")],e.prototype,"eSortOrder",void 0),Yl([Z("eSortAsc")],e.prototype,"eSortAsc",void 0),Yl([Z("eSortDesc")],e.prototype,"eSortDesc",void 0),Yl([Z("eSortMixed")],e.prototype,"eSortMixed",void 0),Yl([Z("eSortNone")],e.prototype,"eSortNone",void 0),Yl([y("columnModel")],e.prototype,"columnModel",void 0),Yl([y("sortController")],e.prototype,"sortController",void 0),e}(be),ere=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),vi=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},tre=function(i){ere(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.lastMovingChanged=0,t}return e.prototype.destroy=function(){i.prototype.destroy.call(this)},e.prototype.refresh=function(t){return this.params=t,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide?!1:(this.setDisplayName(t),!0)},e.prototype.workOutTemplate=function(){var t=AB(this.params.template,e.TEMPLATE);return t=t&&t.trim?t.trim():t,t},e.prototype.init=function(t){this.params=t,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(t.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(t)},e.prototype.setDisplayName=function(t){if(this.currentDisplayName!=t.displayName){this.currentDisplayName=t.displayName;var n=tn(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=n)}},e.prototype.setupIcons=function(t){this.addInIcon("menu",this.eMenu,t),this.addInIcon("filter",this.eFilter,t)},e.prototype.addInIcon=function(t,n,r){if(n!=null){var o=Kt(t,this.gridOptionsService,r);o&&n.appendChild(o)}},e.prototype.setupTap=function(){var t=this,n=this,r=n.gridOptionsService,o=n.api;if(!r.get("suppressTouch")){var s=new Zi(this.getGui(),!0),a=r.get("suppressMenuHide"),l=a&&B(this.eMenu),u=l?new Zi(this.eMenu,!0):s;if(this.params.enableMenu){var c=l?"EVENT_TAP":"EVENT_LONG_TAP",d=function(p){o.showColumnMenuAfterMouseClick(t.params.column,p.touchStart)};this.addManagedListener(u,Zi[c],d)}if(this.params.enableSorting){var h=function(p){var f=p.touchStart.target;a&&t.eMenu.contains(f)||t.sortController.progressSort(t.params.column,!1,"uiColumnSorted")};this.addManagedListener(s,Zi.EVENT_TAP,h)}this.addDestroyFunc(function(){return s.destroy()}),l&&this.addDestroyFunc(function(){return u.destroy()})}},e.prototype.workOutShowMenu=function(){var t=!this.gridOptionsService.get("suppressMenuHide"),n=Va()&&t,r=this.params.enableMenu&&!n;return r},e.prototype.shouldSuppressMenuHide=function(){return this.gridOptionsService.get("suppressMenuHide")},e.prototype.setMenu=function(){var t=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Ts(this.eMenu);return}this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedListener(this.eMenu,"click",function(){return t.showMenu(t.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}},e.prototype.showMenu=function(t){t||(t=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,t,"columnMenu")},e.prototype.workOutSort=function(){return this.params.enableSorting},e.prototype.setupSort=function(){var t=this;if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new wO(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!!this.currentSort){this.addManagedListener(this.params.column,mt.EVENT_MOVING_CHANGED,function(){t.lastMovingChanged=new Date().getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(r){var o=t.params.column.isMoving(),s=new Date().getTime(),a=s-t.lastMovingChanged<50,l=o||a;if(!l){var u=t.gridOptionsService.get("multiSortKey")==="ctrl",c=u?r.ctrlKey||r.metaKey:r.shiftKey;t.params.progressSort(c)}});var n=function(){if(t.addOrRemoveCssClass("ag-header-cell-sorted-asc",t.params.column.isSortAscending()),t.addOrRemoveCssClass("ag-header-cell-sorted-desc",t.params.column.isSortDescending()),t.addOrRemoveCssClass("ag-header-cell-sorted-none",t.params.column.isSortNone()),t.params.column.getColDef().showRowGroup){var r=t.columnModel.getSourceColumnsForGroupColumn(t.params.column),o=r?.every(function(a){return t.params.column.getSort()==a.getSort()}),s=!o;t.addOrRemoveCssClass("ag-header-cell-sorted-mixed",s)}};this.addManagedListener(this.eventService,C.EVENT_SORT_CHANGED,n),this.addManagedListener(this.eventService,C.EVENT_COLUMN_ROW_GROUP_CHANGED,n)}},e.prototype.setupFilterIcon=function(){this.eFilter&&(this.addManagedListener(this.params.column,mt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},e.prototype.onFilterChanged=function(){var t=this.params.column.isFilterActive();qe(this.eFilter,t,{skipAriaHidden:!0})},e.TEMPLATE=`<div class="ag-cell-label-container" role="presentation">
            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
            <div ref="eLabel" class="ag-header-cell-label" role="presentation">
                <span ref="eText" class="ag-header-cell-text"></span>
                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>
            </div>
        </div>`,vi([y("sortController")],e.prototype,"sortController",void 0),vi([y("menuFactory")],e.prototype,"menuFactory",void 0),vi([y("columnModel")],e.prototype,"columnModel",void 0),vi([y("gridApi")],e.prototype,"api",void 0),vi([Z("eFilter")],e.prototype,"eFilter",void 0),vi([Z("eSortIndicator")],e.prototype,"eSortIndicator",void 0),vi([Z("eMenu")],e.prototype,"eMenu",void 0),vi([Z("eLabel")],e.prototype,"eLabel",void 0),vi([Z("eText")],e.prototype,"eText",void 0),vi([Z("eSortOrder")],e.prototype,"eSortOrder",void 0),vi([Z("eSortAsc")],e.prototype,"eSortAsc",void 0),vi([Z("eSortDesc")],e.prototype,"eSortDesc",void 0),vi([Z("eSortMixed")],e.prototype,"eSortMixed",void 0),vi([Z("eSortNone")],e.prototype,"eSortNone",void 0),e}(be),nre=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),kT=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ire=function(i){nre(e,i);function e(){return i.call(this,e.TEMPLATE)||this}return e.prototype.destroy=function(){i.prototype.destroy.call(this)},e.prototype.init=function(t){this.params=t,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},e.prototype.checkWarnings=function(){var t=this.params;t.template&&Se("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")},e.prototype.setupExpandIcons=function(){var t=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var n=function(s){if(!Jr(s)){var a=!t.params.columnGroup.isExpanded();t.columnModel.setColumnGroupOpened(t.params.columnGroup.getProvidedColumnGroup(),a,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,n),this.addTouchAndClickListeners(this.eOpenIcon,n);var r=function(s){Uo(s)};this.addManagedListener(this.eCloseIcon,"dblclick",r),this.addManagedListener(this.eOpenIcon,"dblclick",r),this.addManagedListener(this.getGui(),"dblclick",n),this.updateIconVisibility();var o=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(o,Ut.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(o,Ut.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},e.prototype.addTouchAndClickListeners=function(t,n){var r=new Zi(t,!0);this.addManagedListener(r,Zi.EVENT_TAP,n),this.addDestroyFunc(function(){return r.destroy()}),this.addManagedListener(t,"click",n)},e.prototype.updateIconVisibility=function(){var t=this.params.columnGroup;if(t.isExpandable()){var n=this.params.columnGroup.isExpanded();qe(this.eOpenIcon,n),qe(this.eCloseIcon,!n)}else qe(this.eOpenIcon,!1),qe(this.eCloseIcon,!1)},e.prototype.addInIcon=function(t,n){var r=Kt(t,this.gridOptionsService,null);r&&this.getRefElement(n).appendChild(r)},e.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable()){qe(this.eOpenIcon,!1),qe(this.eCloseIcon,!1);return}},e.prototype.setupLabel=function(){var t,n=this.params,r=n.displayName,o=n.columnGroup;if(B(r)){var s=tn(r,!0);this.getRefElement("agLabel").textContent=s}this.addOrRemoveCssClass("ag-sticky-label",!(!((t=o.getColGroupDef())===null||t===void 0)&&t.suppressStickyLabel))},e.TEMPLATE=`<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">
            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`,kT([y("columnModel")],e.prototype,"columnModel",void 0),kT([Z("agOpened")],e.prototype,"eOpenIcon",void 0),kT([Z("agClosed")],e.prototype,"eCloseIcon",void 0),e}(be),rre=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),pu=function(i){rre(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.isPopup=function(){return!0},e.prototype.setParentComponent=function(t){t.addCssClass("ag-has-popup"),i.prototype.setParentComponent.call(this,t)},e.prototype.destroy=function(){var t=this.parentComponent,n=t&&t.isAlive();n&&t.getGui().classList.remove("ag-has-popup"),i.prototype.destroy.call(this)},e}(be),ore=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),sre=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},are=function(i){ore(e,i);function e(){return i.call(this,e.TEMPLATE)||this}return e.prototype.init=function(t){this.params=t,this.focusAfterAttached=t.cellStartedEdit,this.eTextArea.setMaxLength(t.maxLength||200).setCols(t.cols||60).setRows(t.rows||10),B(t.value,!0)&&this.eTextArea.setValue(t.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()},e.prototype.onKeyDown=function(t){var n=t.key;(n===I.LEFT||n===I.UP||n===I.RIGHT||n===I.DOWN||t.shiftKey&&n===I.ENTER)&&t.stopPropagation()},e.prototype.afterGuiAttached=function(){var t=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(t("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},e.prototype.getValue=function(){var t=this.eTextArea.getValue();return!B(t)&&!B(this.params.value)?this.params.value:this.params.parseValue(t)},e.TEMPLATE=`<div class="ag-large-text">
            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,sre([Z("eTextArea")],e.prototype,"eTextArea",void 0),e}(pu),lre=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),mH=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ure=function(i){lre(e,i);function e(){var t=i.call(this,`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" ref="eSelect"></ag-select>
            </div>`)||this;return t.startedByEnter=!1,t}return e.prototype.init=function(t){this.focusAfterAttached=t.cellStartedEdit;var n=this,r=n.eSelect,o=n.valueFormatterService,s=n.gridOptionsService,a=t.values,l=t.value,u=t.eventKey;if(ue(a)){console.warn("AG Grid: no values found for select cellEditor");return}this.startedByEnter=u!=null?u===I.ENTER:!1;var c=!1;a.forEach(function(f){var g={value:f},v=o.formatValue(t.column,null,f),m=v!=null;g.text=m?v:f,r.addOption(g),c=c||l===f}),c?r.setValue(t.value,!0):t.values.length&&r.setValue(t.values[0],!0);var d=t.valueListGap,h=t.valueListMaxWidth,p=t.valueListMaxHeight;d!=null&&r.setPickerGap(d),p!=null&&r.setPickerMaxHeight(p),h!=null&&r.setPickerMaxWidth(h),s.get("editType")!=="fullRow"&&this.addManagedListener(this.eSelect,y_.EVENT_ITEM_SELECTED,function(){return t.stopEditing()})},e.prototype.afterGuiAttached=function(){var t=this;this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(function(){t.isAlive()&&t.eSelect.showPicker()})},e.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},e.prototype.getValue=function(){return this.eSelect.getValue()},e.prototype.isPopup=function(){return!1},mH([y("valueFormatterService")],e.prototype,"valueFormatterService",void 0),mH([Z("eSelect")],e.prototype,"eSelect",void 0),e}(pu),cre=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),dre=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},__=function(i){cre(e,i);function e(t){var n=i.call(this,`
            <div class="ag-cell-edit-wrapper">
                `.concat(t.getTemplate(),`
            </div>`))||this;return n.cellEditorInput=t,n}return e.prototype.init=function(t){this.params=t;var n=this.eInput;this.cellEditorInput.init(n,t);var r;if(t.cellStartedEdit){this.focusAfterAttached=!0;var o=t.eventKey;o===I.BACKSPACE||t.eventKey===I.DELETE?r="":o&&o.length===1?r=o:(r=this.cellEditorInput.getStartValue(),o!==I.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,r=this.cellEditorInput.getStartValue();r!=null&&n.setStartValue(r),this.addManagedListener(n.getGui(),"keydown",function(s){var a=s.key;(a===I.PAGE_UP||a===I.PAGE_DOWN)&&s.preventDefault()})},e.prototype.afterGuiAttached=function(){var t,n,r=this.localeService.getLocaleTextFunc(),o=this.eInput;if(o.setInputAriaLabel(r("ariaInputEditor","Input Editor")),!!this.focusAfterAttached){eo()||o.getFocusableElement().focus();var s=o.getInputElement();this.highlightAllOnFocus?s.select():(n=(t=this.cellEditorInput).setCaret)===null||n===void 0||n.call(t)}},e.prototype.focusIn=function(){var t=this.eInput,n=t.getFocusableElement(),r=t.getInputElement();n.focus(),r.select()},e.prototype.getValue=function(){return this.cellEditorInput.getValue()},e.prototype.isPopup=function(){return!1},dre([Z("eInput")],e.prototype,"eInput",void 0),e}(pu),hre=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),pre=function(){function i(){}return i.prototype.getTemplate=function(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'},i.prototype.init=function(e,t){this.eInput=e,this.params=t,t.maxLength!=null&&e.setMaxLength(t.maxLength)},i.prototype.getValue=function(){var e=this.eInput.getValue();return!B(e)&&!B(this.params.value)?this.params.value:this.params.parseValue(e)},i.prototype.getStartValue=function(){var e=this.params.useFormatter||this.params.column.getColDef().refData;return e?this.params.formatValue(this.params.value):this.params.value},i.prototype.setCaret=function(){var e=this.eInput.getValue(),t=B(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)},i}(),yH=function(i){hre(e,i);function e(){return i.call(this,new pre)||this}return e}(__),fre=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),gre=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},vre="\u2191",mre="\u2193",yre=function(i){fre(e,i);function e(){var t=i.call(this)||this;t.refreshCount=0;var n=document.createElement("span"),r=document.createElement("span");r.setAttribute("class","ag-value-change-delta");var o=document.createElement("span");return o.setAttribute("class","ag-value-change-value"),n.appendChild(r),n.appendChild(o),t.setTemplateFromElement(n),t}return e.prototype.init=function(t){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(t,!0)},e.prototype.showDelta=function(t,n){var r=Math.abs(n),o=t.formatValue(r),s=B(o)?o:r,a=n>=0;a?this.eDelta.textContent=vre+s:this.eDelta.textContent=mre+s,this.eDelta.classList.toggle("ag-value-change-delta-up",a),this.eDelta.classList.toggle("ag-value-change-delta-down",!a)},e.prototype.setTimerToRemoveDelta=function(){var t=this;this.refreshCount++;var n=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(function(){window.setTimeout(function(){n===t.refreshCount&&t.hideDeltaValue()},2e3)})},e.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),Rn(this.eDelta)},e.prototype.refresh=function(t,n){n===void 0&&(n=!1);var r=t.value;if(r===this.lastValue||(B(t.valueFormatted)?this.eValue.textContent=t.valueFormatted:B(t.value)?this.eValue.textContent=r:Rn(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof r=="number"&&typeof this.lastValue=="number"){var o=r-this.lastValue;this.showDelta(t,o)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),n||this.setTimerToRemoveDelta(),this.lastValue=r,!0},gre([y("filterManager")],e.prototype,"filterManager",void 0),e}(be),Cre=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_re=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},wre=function(i){Cre(e,i);function e(){var t=i.call(this)||this;t.refreshCount=0;var n=document.createElement("span"),r=document.createElement("span");return r.setAttribute("class","ag-value-slide-current"),n.appendChild(r),t.setTemplateFromElement(n),t.eCurrent=t.queryForHtmlElement(".ag-value-slide-current"),t}return e.prototype.init=function(t){this.refresh(t,!0)},e.prototype.addSlideAnimation=function(){var t=this;this.refreshCount++;var n=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);var r=document.createElement("span");r.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=r,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(function(){window.setTimeout(function(){n===t.refreshCount&&t.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){n===t.refreshCount&&(t.getGui().removeChild(t.ePrevious),t.ePrevious=null)},3e3)})},e.prototype.refresh=function(t,n){n===void 0&&(n=!1);var r=t.value;return ue(r)&&(r=""),r===this.lastValue||this.filterManager.isSuppressFlashingCellsBecauseFiltering()?!1:(n||this.addSlideAnimation(),this.lastValue=r,B(t.valueFormatted)?this.eCurrent.textContent=t.valueFormatted:B(t.value)?this.eCurrent.textContent=r:Rn(this.eCurrent),!0)},_re([y("filterManager")],e.prototype,"filterManager",void 0),e}(be),sd=function(){return sd=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},sd.apply(this,arguments)},Pe=function(){function i(e){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=i.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=e}return i.prototype.setData=function(e){this.setDataCommon(e,!1)},i.prototype.updateData=function(e){this.setDataCommon(e,!0)},i.prototype.setDataCommon=function(e,t){var n=this.data;this.data=e,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();var r=this.createDataChangedEvent(e,n,t);this.dispatchLocalEvent(r)},i.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},i.prototype.createDataChangedEvent=function(e,t,n){return{type:i.EVENT_DATA_CHANGED,node:this,oldData:t,newData:e,update:n}},i.prototype.createLocalRowEvent=function(e){return{type:e,node:this}},i.prototype.getRowIndexString=function(){return this.rowPinned==="top"?"t-"+this.rowIndex:this.rowPinned==="bottom"?"b-"+this.rowIndex:this.rowIndex.toString()},i.prototype.createDaemonNode=function(){var e=new i(this.beans);return e.id=this.id,e.data=this.data,e.__daemon=!0,e.selected=this.selected,e.level=this.level,e},i.prototype.setDataAndId=function(e,t){var n=B(this.id)?this.createDaemonNode():null,r=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,n);var o=this.createDataChangedEvent(e,r,!1);this.dispatchLocalEvent(o)},i.prototype.checkRowSelectable=function(){var e=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(e?e(this):!0)},i.prototype.setRowSelectable=function(e,t){if(this.selectable!==e){if(this.selectable=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_SELECTABLE_CHANGED)),t)return;var n=this.beans.gridOptionsService.get("groupSelectsChildren");if(n){var r=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:r??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}},i.prototype.setId=function(e){var t=this.beans.gridOptionsService.getCallback("getRowId");if(t)if(this.data){var n=this.getGroupKeys(!0);this.id=t({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level}),this.id!==null&&typeof this.id=="string"&&this.id.startsWith(i.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with ".concat(i.ID_PREFIX_ROW_GROUP,", this is a reserved prefix for AG Grid's row grouping feature.")),this.id!==null&&typeof this.id!="string"&&(this.id=""+this.id)}else this.id=void 0;else this.id=e},i.prototype.getGroupKeys=function(e){e===void 0&&(e=!1);var t=[],n=this;for(e&&(n=n.parent);n&&n.level>=0;)t.push(n.key),n=n.parent;return t.reverse(),t},i.prototype.isPixelInRange=function(e){return!B(this.rowTop)||!B(this.rowHeight)?!1:e>=this.rowTop&&e<this.rowTop+this.rowHeight},i.prototype.setFirstChild=function(e){this.firstChild!==e&&(this.firstChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_FIRST_CHILD_CHANGED)))},i.prototype.setLastChild=function(e){this.lastChild!==e&&(this.lastChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_LAST_CHILD_CHANGED)))},i.prototype.setChildIndex=function(e){this.childIndex!==e&&(this.childIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_CHILD_INDEX_CHANGED)))},i.prototype.setRowTop=function(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_TOP_CHANGED)),this.setDisplayed(e!==null))},i.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},i.prototype.setDisplayed=function(e){this.displayed!==e&&(this.displayed=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_DISPLAYED_CHANGED)))},i.prototype.setDragging=function(e){this.dragging!==e&&(this.dragging=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_DRAGGING_CHANGED)))},i.prototype.setHighlighted=function(e){e!==this.highlighted&&(this.highlighted=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_HIGHLIGHT_CHANGED)))},i.prototype.setHovered=function(e){this.hovered!==e&&(this.hovered=e)},i.prototype.isHovered=function(){return this.hovered},i.prototype.setAllChildrenCount=function(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},i.prototype.setMaster=function(e){this.master!==e&&(this.master&&!e&&(this.expanded=!1),this.master=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_MASTER_CHANGED)))},i.prototype.setGroup=function(e){this.group!==e&&(this.group&&!e&&(this.expanded=!1),this.group=e,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_GROUP_CHANGED)))},i.prototype.setRowHeight=function(e,t){t===void 0&&(t=!1),this.rowHeight=e,this.rowHeightEstimated=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_HEIGHT_CHANGED))},i.prototype.setRowAutoHeight=function(e,t){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[t.getId()]=e,e!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=Ar(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},i.prototype.checkAutoHeights=function(){var e=this,t=!1,n=!0,r=0,o=this.__autoHeights;if(o!=null){var s=this.beans.columnModel.getAllDisplayedAutoHeightCols();if(s.forEach(function(l){var u=o[l.getId()];if(u==null)if(e.beans.columnModel.isColSpanActive()){var c=[];switch(l.getPinned()){case"left":c=e.beans.columnModel.getDisplayedLeftColumnsForRow(e);break;case"right":c=e.beans.columnModel.getDisplayedRightColumnsForRow(e);break;case null:c=e.beans.columnModel.getViewportCenterColumnsForRow(e);break}if(c.includes(l)){t=!0;return}u=-1}else{t=!0;return}else n=!1;u>r&&(r=u)}),!t&&((n||r<10)&&(r=this.beans.gridOptionsService.getRowHeightForNode(this).height),r!=this.rowHeight)){this.setRowHeight(r);var a=this.beans.rowModel;a.onRowHeightChangedDebounced&&a.onRowHeightChangedDebounced()}}},i.prototype.setRowIndex=function(e){this.rowIndex!==e&&(this.rowIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_ROW_INDEX_CHANGED)))},i.prototype.setUiLevel=function(e){this.uiLevel!==e&&(this.uiLevel=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_UI_LEVEL_CHANGED)))},i.prototype.setExpanded=function(e,t){if(this.expanded!==e){this.expanded=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_EXPANDED_CHANGED));var n=Object.assign({},this.createGlobalRowEvent(C.EVENT_ROW_GROUP_OPENED),{expanded:e,event:t||null});this.beans.rowNodeEventThrottle.dispatchExpanded(n),this.sibling&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},i.prototype.createGlobalRowEvent=function(e){return this.beans.gridOptionsService.addGridCommonParams({type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})},i.prototype.dispatchLocalEvent=function(e){this.eventService&&this.eventService.dispatchEvent(e)},i.prototype.setDataValue=function(e,t,n){var r=this,o=function(){var u;return typeof e!="string"?e:(u=r.beans.columnModel.getGridColumn(e))!==null&&u!==void 0?u:r.beans.columnModel.getPrimaryColumn(e)},s=o(),a=this.getValueFromValueService(s);if(this.beans.gridOptionsService.get("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(s,a,t,n),!1;var l=this.beans.valueService.setValue(this,s,t,n);return this.dispatchCellChangedEvent(s,t,a),this.checkRowSelectable(),l},i.prototype.getValueFromValueService=function(e){var t=this.leafGroup&&this.beans.columnModel.isPivotMode(),n=this.group&&this.expanded&&!this.footer&&!t,r=this.beans.gridOptionsService.getGroupIncludeFooter(),o=r({node:this}),s=this.beans.gridOptionsService.get("groupSuppressBlankHeader"),a=n&&o&&!s,l=this.beans.valueService.getValue(e,this,!1,a);return l},i.prototype.dispatchEventForSaveValueReadOnly=function(e,t,n,r){var o=this.beans.gridOptionsService.addGridCommonParams({type:C.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:e,colDef:e.getColDef(),data:this.data,node:this,oldValue:t,newValue:n,value:n,source:r});this.beans.eventService.dispatchEvent(o)},i.prototype.setGroupValue=function(e,t){var n=this.beans.columnModel.getGridColumn(e);ue(this.groupData)&&(this.groupData={});var r=n.getColId(),o=this.groupData[r];o!==t&&(this.groupData[r]=t,this.dispatchCellChangedEvent(n,t,o))},i.prototype.setAggData=function(e){var t=this,n=wB([this.aggData,e]),r=this.aggData;this.aggData=e,this.eventService&&n.forEach(function(o){var s=t.aggData?t.aggData[o]:void 0,a=r?r[o]:void 0;if(s!==a){var l=t.beans.columnModel.lookupGridColumn(o);l&&t.dispatchCellChangedEvent(l,s,a)}})},i.prototype.updateHasChildren=function(){var e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0,t=this.beans.gridOptionsService.isRowModelType("serverSide");if(t){var n=this.beans.gridOptionsService.get("treeData"),r=this.beans.gridOptionsService.get("isServerSideGroup");e=!this.stub&&!this.footer&&(n?!!r&&r(this.data):!!this.group)}e!==this.__hasChildren&&(this.__hasChildren=!!e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_HAS_CHILDREN_CHANGED)))},i.prototype.hasChildren=function(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren},i.prototype.isEmptyRowGroupNode=function(){return this.group&&Yi(this.childrenAfterGroup)},i.prototype.dispatchCellChangedEvent=function(e,t,n){var r={type:i.EVENT_CELL_CHANGED,node:this,column:e,newValue:t,oldValue:n};this.dispatchLocalEvent(r)},i.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},i.prototype.isExpandable=function(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master},i.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},i.prototype.depthFirstSearch=function(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(t){return t.depthFirstSearch(e)}),e(this)},i.prototype.calculateSelectedFromChildren=function(){var e,t=!1,n=!1,r=!1;if(!(!((e=this.childrenAfterGroup)===null||e===void 0)&&e.length))return this.selectable?this.selected:null;for(var o=0;o<this.childrenAfterGroup.length;o++){var s=this.childrenAfterGroup[o],a=s.isSelected();if(!s.selectable){var l=s.calculateSelectedFromChildren();if(l===null)continue;a=l}switch(a){case!0:t=!0;break;case!1:n=!0;break;default:r=!0;break}}if(!(r||t&&n))return t?!0:n?!1:this.selectable?this.selected:null},i.prototype.setSelectedInitialValue=function(e){this.selected=e},i.prototype.selectThisNode=function(e,t,n){n===void 0&&(n="api");var r=!this.selectable&&e,o=this.selected===e;if(r||o)return!1;if(this.selected=e,this.eventService){this.dispatchLocalEvent(this.createLocalRowEvent(i.EVENT_ROW_SELECTED));var s=this.sibling;s&&s.footer&&s.dispatchLocalEvent(s.createLocalRowEvent(i.EVENT_ROW_SELECTED))}var a=sd(sd({},this.createGlobalRowEvent(C.EVENT_ROW_SELECTED)),{event:t||null,source:n});return this.beans.eventService.dispatchEvent(a),!0},i.prototype.setSelected=function(e,t,n){if(t===void 0&&(t=!1),n===void 0&&(n="api"),typeof n=="boolean"){console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:e,clearSelection:t,rangeSelect:!1,source:n})},i.prototype.setSelectedParams=function(e){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):this.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(sd(sd({},e),{nodes:[this.footer?this.sibling:this]}))},i.prototype.isRowPinned=function(){return this.rowPinned==="top"||this.rowPinned==="bottom"},i.prototype.isParentOfNode=function(e){for(var t=this.parent;t;){if(t===e)return!0;t=t.parent}return!1},i.prototype.addEventListener=function(e,t){var n,r;this.eventService||(this.eventService=new ka),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new BA(this.beans.frameworkOverrides));var o=(r=(n=this.frameworkEventListenerService)===null||n===void 0?void 0:n.wrap(t))!==null&&r!==void 0?r:t;this.eventService.addEventListener(e,o)},i.prototype.removeEventListener=function(e,t){var n,r;if(this.eventService){var o=(r=(n=this.frameworkEventListenerService)===null||n===void 0?void 0:n.unwrap(t))!==null&&r!==void 0?r:t;this.eventService.removeEventListener(e,o),this.eventService.noRegisteredListenersExist()&&(this.eventService=null)}},i.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(i.EVENT_MOUSE_ENTER))},i.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(i.EVENT_MOUSE_LEAVE))},i.prototype.getFirstChildOfFirstChild=function(e){for(var t=this,n=!0,r=!1,o=null;n&&!r;){var s=t.parent,a=B(s)&&t.firstChild;a?s.rowGroupColumn===e&&(r=!0,o=s):n=!1,t=s}return r?o:null},i.prototype.isFullWidthCell=function(){if(this.detail)return!0;var e=this.beans.gridOptionsService.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1},i.prototype.getRoute=function(){if(this.key!=null){for(var e=[],t=this;t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}},i.prototype.createFooter=function(){var e=this;if(!this.sibling){var t=new Set(["eventService","__objectId","sticky"]),n=new i(this.beans);Object.keys(this).forEach(function(r){t.has(r)||(n[r]=e[r])}),n.footer=!0,n.setRowTop(null),n.setRowIndex(null),n.oldRowTop=null,n.id="rowGroupFooter_"+this.id,n.sibling=this,this.sibling=n}},i.prototype.destroyFooter=function(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)},i.ID_PREFIX_ROW_GROUP="row-group-",i.ID_PREFIX_TOP_PINNED="t-",i.ID_PREFIX_BOTTOM_PINNED="b-",i.OBJECT_ID_SEQUENCE=0,i.EVENT_ROW_SELECTED="rowSelected",i.EVENT_DATA_CHANGED="dataChanged",i.EVENT_CELL_CHANGED="cellChanged",i.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",i.EVENT_MASTER_CHANGED="masterChanged",i.EVENT_GROUP_CHANGED="groupChanged",i.EVENT_MOUSE_ENTER="mouseEnter",i.EVENT_MOUSE_LEAVE="mouseLeave",i.EVENT_HEIGHT_CHANGED="heightChanged",i.EVENT_TOP_CHANGED="topChanged",i.EVENT_DISPLAYED_CHANGED="displayedChanged",i.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",i.EVENT_LAST_CHILD_CHANGED="lastChildChanged",i.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",i.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",i.EVENT_EXPANDED_CHANGED="expandedChanged",i.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",i.EVENT_SELECTABLE_CHANGED="selectableChanged",i.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",i.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",i.EVENT_DRAGGING_CHANGED="draggingChanged",i}(),Sre=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),JC=function(){return JC=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},JC.apply(this,arguments)},CH=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Bj=function(i){Sre(e,i);function e(){return i.call(this,`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)||this}return e.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0);var t=this.eCheckbox.getInputElement();zA(t,"polite"),$B(t,"text")},e.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},e.prototype.onDataChanged=function(){this.onSelectionChanged()},e.prototype.onSelectableChanged=function(){this.showOrHideSelect()},e.prototype.onSelectionChanged=function(){var t=this.localeService.getLocaleTextFunc(),n=this.rowNode.isSelected(),r=f_(t,n),o=t("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(n,!0),this.eCheckbox.setInputAriaLabel("".concat(o," (").concat(r,")"))},e.prototype.onClicked=function(t,n,r){return this.rowNode.setSelectedParams({newValue:t,rangeSelect:r.shiftKey,groupSelectsFiltered:n,event:r,source:"checkboxSelected"})},e.prototype.init=function(t){var n=this;this.rowNode=t.rowNode,this.column=t.column,this.overrides=t.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",function(a){Uo(a)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(a){Uo(a);var l=n.gridOptionsService.get("groupSelectsFiltered"),u=n.eCheckbox.getValue();if(n.shouldHandleIndeterminateState(u,l)){var c=n.onClicked(!0,l,a||{});c===0&&n.onClicked(!1,l,a)}else u?n.onClicked(!1,l,a):n.onClicked(!0,l,a||{})}),this.addManagedListener(this.rowNode,Pe.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,Pe.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,Pe.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this));var r=this.gridOptionsService.get("isRowSelectable"),o=r||typeof this.getIsVisible()=="function";if(o){var s=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_CHANGED,s),this.addManagedListener(this.rowNode,Pe.EVENT_DATA_CHANGED,s),this.addManagedListener(this.rowNode,Pe.EVENT_CELL_CHANGED,s),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},e.prototype.shouldHandleIndeterminateState=function(t,n){return n&&(this.eCheckbox.getPreviousValue()===void 0||t===void 0)&&this.gridOptionsService.isRowModelType("clientSide")},e.prototype.showOrHideSelect=function(){var t,n,r,o,s=this.rowNode.selectable,a=this.getIsVisible();if(s)if(typeof a=="function"){var l=(t=this.overrides)===null||t===void 0?void 0:t.callbackParams,u=(n=this.column)===null||n===void 0?void 0:n.createColumnFunctionCallbackParams(this.rowNode);s=u?a(JC(JC({},l),u)):!1}else s=a??!1;var c=(r=this.column)===null||r===void 0?void 0:r.getColDef().showDisabledCheckboxes;if(c){this.eCheckbox.setDisabled(!s),this.setVisible(!0),this.setDisplayed(!0);return}if(!((o=this.overrides)===null||o===void 0)&&o.removeHidden){this.setDisplayed(s);return}this.setVisible(s)},e.prototype.getIsVisible=function(){var t,n;return this.overrides?this.overrides.isVisible:(n=(t=this.column)===null||t===void 0?void 0:t.getColDef())===null||n===void 0?void 0:n.checkboxSelection},CH([Z("eCheckbox")],e.prototype,"eCheckbox",void 0),CH([W],e.prototype,"postConstruct",null),e}(be),Mf=function(i){return i[i.Up=0]="Up",i[i.Down=1]="Down",i}(Mf||{}),Ri=function(i){return i[i.Left=0]="Left",i[i.Right=1]="Right",i}(Ri||{}),Ere=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ql=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},CC=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xi=function(i){return i[i.ToolPanel=0]="ToolPanel",i[i.HeaderCell=1]="HeaderCell",i[i.RowDrag=2]="RowDrag",i[i.ChartPanel=3]="ChartPanel",i[i.AdvancedFilterBuilder=4]="AdvancedFilterBuilder",i}(Xi||{}),hn=function(i){Ere(e,i);function e(){var n=i!==null&&i.apply(this,arguments)||this;return n.dragSourceAndParamsList=[],n.dropTargets=[],n}t=e,e.prototype.init=function(){this.ePinnedIcon=Rr("columnMovePin",this.gridOptionsService,null),this.eHideIcon=Rr("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=Rr("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=Rr("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=Rr("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=Rr("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=Rr("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=Rr("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=Rr("dropNotAllowed",this.gridOptionsService,null)},e.prototype.addDragSource=function(n,r){r===void 0&&(r=!1);var o={eElement:n.eElement,dragStartPixels:n.dragStartPixels,onDragStart:this.onDragStart.bind(this,n),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:r};this.dragSourceAndParamsList.push({params:o,dragSource:n}),this.dragService.addDragSource(o)},e.prototype.removeDragSource=function(n){var r=this.dragSourceAndParamsList.find(function(o){return o.dragSource===n});r&&(this.dragService.removeDragSource(r.params),Ki(this.dragSourceAndParamsList,r))},e.prototype.clearDragSourceParamsList=function(){var n=this;this.dragSourceAndParamsList.forEach(function(r){return n.dragService.removeDragSource(r.params)}),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0},e.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},e.prototype.onDragStart=function(n,r){this.dragging=!0,this.dragSource=n,this.eventLastTime=r,this.dragItem=this.dragSource.getDragItem(),this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},e.prototype.onDragStop=function(n){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var r=this.createDropTargetEvent(this.lastDropTarget,n,null,null,!1);this.lastDropTarget.onDragStop(r)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},e.prototype.onDragging=function(n,r){var o=this,s,a,l,u,c=this.getHorizontalDirection(n),d=this.getVerticalDirection(n);this.eventLastTime=n,this.positionGhost(n);var h=this.dropTargets.filter(function(g){return o.isMouseOnDropTarget(n,g)}),p=this.findCurrentDropTarget(n,h);if(p!==this.lastDropTarget)this.leaveLastTargetIfExists(n,c,d,r),this.lastDropTarget!==null&&p===null&&((a=(s=this.dragSource).onGridExit)===null||a===void 0||a.call(s,this.dragItem)),this.lastDropTarget===null&&p!==null&&((u=(l=this.dragSource).onGridEnter)===null||u===void 0||u.call(l,this.dragItem)),this.enterDragTargetIfExists(p,n,c,d,r),this.lastDropTarget=p;else if(p&&p.onDragging){var f=this.createDropTargetEvent(p,n,c,d,r);p.onDragging(f)}},e.prototype.getAllContainersFromDropTarget=function(n){var r=n.getSecondaryContainers?n.getSecondaryContainers():null,o=[[n.getContainer()]];return r?o.concat(r):o},e.prototype.allContainersIntersect=function(n,r){var o,s;try{for(var a=CC(r),l=a.next();!l.done;l=a.next()){var u=l.value,c=u.getBoundingClientRect();if(c.width===0||c.height===0)return!1;var d=n.clientX>=c.left&&n.clientX<c.right,h=n.clientY>=c.top&&n.clientY<c.bottom;if(!d||!h)return!1}}catch(p){o={error:p}}finally{try{l&&!l.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}return!0},e.prototype.isMouseOnDropTarget=function(n,r){var o,s,a=this.getAllContainersFromDropTarget(r),l=!1;try{for(var u=CC(a),c=u.next();!c.done;c=u.next()){var d=c.value;if(this.allContainersIntersect(n,d)){l=!0;break}}}catch(h){o={error:h}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(o)throw o.error}}return r.targetContainsSource&&!r.getContainer().contains(this.dragSource.eElement)?!1:l&&r.isInterestedIn(this.dragSource.type,this.dragSource.eElement)},e.prototype.findCurrentDropTarget=function(n,r){var o,s,a,l,u=r.length;if(u===0)return null;if(u===1)return r[0];var c=this.gridOptionsService.getRootNode(),d=c.elementsFromPoint(n.clientX,n.clientY);try{for(var h=CC(d),p=h.next();!p.done;p=h.next()){var f=p.value;try{for(var g=(a=void 0,CC(r)),v=g.next();!v.done;v=g.next()){var m=v.value,_=xB(this.getAllContainersFromDropTarget(m));if(_.indexOf(f)!==-1)return m}}catch(w){a={error:w}}finally{try{v&&!v.done&&(l=g.return)&&l.call(g)}finally{if(a)throw a.error}}}}catch(w){o={error:w}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(o)throw o.error}}return null},e.prototype.enterDragTargetIfExists=function(n,r,o,s,a){if(n){if(n.onDragEnter){var l=this.createDropTargetEvent(n,r,o,s,a);n.onDragEnter(l)}this.setGhostIcon(n.getIconName?n.getIconName():null)}},e.prototype.leaveLastTargetIfExists=function(n,r,o,s){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var a=this.createDropTargetEvent(this.lastDropTarget,n,r,o,s);this.lastDropTarget.onDragLeave(a)}this.setGhostIcon(null)}},e.prototype.addDropTarget=function(n){this.dropTargets.push(n)},e.prototype.removeDropTarget=function(n){this.dropTargets=this.dropTargets.filter(function(r){return r.getContainer()!==n.getContainer()})},e.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(n){return n.external})},e.prototype.findExternalZone=function(n){var r=this.dropTargets.filter(function(o){return o.external});return r.find(function(o){return o.getContainer()===n.getContainer()})||null},e.prototype.getHorizontalDirection=function(n){var r=this.eventLastTime&&this.eventLastTime.clientX,o=n.clientX;return r===o?null:r>o?Ri.Left:Ri.Right},e.prototype.getVerticalDirection=function(n){var r=this.eventLastTime&&this.eventLastTime.clientY,o=n.clientY;return r===o?null:r>o?Mf.Up:Mf.Down},e.prototype.createDropTargetEvent=function(n,r,o,s,a){var l=n.getContainer(),u=l.getBoundingClientRect(),c=this,d=c.gridApi,h=c.columnApi,p=c.dragItem,f=c.dragSource,g=r.clientX-u.left,v=r.clientY-u.top;return{event:r,x:g,y:v,vDirection:s,hDirection:o,dragSource:f,fromNudge:a,dragItem:p,api:d,columnApi:h,dropZoneTarget:l}},e.prototype.positionGhost=function(n){var r=this.eGhost;if(r){var o=r.getBoundingClientRect(),s=o.height,a=nj()-2,l=ij()-2,u=lO(r.offsetParent),c=n.clientY,d=n.clientX,h=c-u.top-s/2,p=d-u.left-10,f=this.gridOptionsService.getDocument(),g=f.defaultView||window,v=g.pageYOffset||f.documentElement.scrollTop,m=g.pageXOffset||f.documentElement.scrollLeft;a>0&&p+r.clientWidth>a+m&&(p=a+m-r.clientWidth),p<0&&(p=0),l>0&&h+r.clientHeight>l+v&&(h=l+v-r.clientHeight),h<0&&(h=0),r.style.left="".concat(p,"px"),r.style.top="".concat(h,"px")}},e.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},e.prototype.createGhost=function(){this.eGhost=bi(t.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);var n=this.environment.getTheme().theme;n&&this.eGhost.classList.add(n),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var r=this.eGhost.querySelector(".ag-dnd-ghost-label"),o=this.dragSource.dragItemName;h_(o)&&(o=o()),r.innerHTML=tn(o)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var s=this.gridOptionsService.getDocument(),a=null,l=null;try{a=s.fullscreenElement}catch{}finally{a||(a=this.gridOptionsService.getRootNode());var u=a.querySelector("body");u?l=u:a instanceof ShadowRoot?l=a:a instanceof Document?l=a?.documentElement:l=a}this.eGhostParent=l,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},e.prototype.setGhostIcon=function(n,r){r===void 0&&(r=!1),Rn(this.eGhostIcon);var o=null;switch(n||(n=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():t.ICON_NOT_ALLOWED),n){case t.ICON_PINNED:o=this.ePinnedIcon;break;case t.ICON_MOVE:o=this.eMoveIcon;break;case t.ICON_LEFT:o=this.eLeftIcon;break;case t.ICON_RIGHT:o=this.eRightIcon;break;case t.ICON_GROUP:o=this.eGroupIcon;break;case t.ICON_AGGREGATE:o=this.eAggregateIcon;break;case t.ICON_PIVOT:o=this.ePivotIcon;break;case t.ICON_NOT_ALLOWED:o=this.eDropNotAllowedIcon;break;case t.ICON_HIDE:o=this.eHideIcon;break}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",r),!(o===this.eHideIcon&&this.gridOptionsService.get("suppressDragLeaveHidesColumns"))&&o&&this.eGhostIcon.appendChild(o)};var t;return e.ICON_PINNED="pinned",e.ICON_MOVE="move",e.ICON_LEFT="left",e.ICON_RIGHT="right",e.ICON_GROUP="group",e.ICON_AGGREGATE="aggregate",e.ICON_PIVOT="pivot",e.ICON_NOT_ALLOWED="notAllowed",e.ICON_HIDE="hide",e.GHOST_TEMPLATE=`<div class="ag-dnd-ghost ag-unselectable">
            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
            <div class="ag-dnd-ghost-label"></div>
        </div>`,Ql([y("dragService")],e.prototype,"dragService",void 0),Ql([y("mouseEventService")],e.prototype,"mouseEventService",void 0),Ql([y("columnApi")],e.prototype,"columnApi",void 0),Ql([y("gridApi")],e.prototype,"gridApi",void 0),Ql([W],e.prototype,"init",null),Ql([oi],e.prototype,"clearDragSourceParamsList",null),e=t=Ql([ee("dragAndDropService")],e),e}(j),w_=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),wf=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},e_=function(i){w_(e,i);function e(t,n,r,o,s,a){var l=i.call(this)||this;return l.cellValueFn=t,l.rowNode=n,l.column=r,l.customGui=o,l.dragStartPixels=s,l.suppressVisibilityChange=a,l.dragSource=null,l}return e.prototype.isCustomGui=function(){return this.customGui!=null},e.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Kt("rowDrag",this.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var t=this.gridOptionsService.get("rowDragManaged")?new Dre(this,this.beans,this.rowNode,this.column):new bre(this,this.beans,this.rowNode,this.column);this.createManagedBean(t,this.beans.context)}},e.prototype.setDragElement=function(t,n){this.setTemplateFromElement(t),this.addDragSource(n)},e.prototype.getSelectedNodes=function(){var t=this.gridOptionsService.get("rowDragMultiRow");if(!t)return[this.rowNode];var n=this.beans.selectionService.getSelectedNodes();return n.indexOf(this.rowNode)!==-1?n:[this.rowNode]},e.prototype.checkCompatibility=function(){var t=this.gridOptionsService.get("rowDragManaged"),n=this.gridOptionsService.get("treeData");n&&t&&Se("If using row drag with tree data, you cannot have rowDragManaged=true")},e.prototype.getDragItem=function(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}},e.prototype.getRowDragText=function(t){if(t){var n=t.getColDef();if(n.rowDragText)return n.rowDragText}return this.gridOptionsService.get("rowDragText")},e.prototype.addDragSource=function(t){var n=this;t===void 0&&(t=4),this.dragSource&&this.removeDragSource();var r=this.localeService.getLocaleTextFunc();this.dragSource={type:Xi.RowDrag,eElement:this.getGui(),dragItemName:function(){var o,s=n.getDragItem(),a=((o=s.rowNodes)===null||o===void 0?void 0:o.length)||1,l=n.getRowDragText(n.column);return l?l(s,a):a===1?n.cellValueFn():"".concat(a," ").concat(r("rowDragRows","rows"))},getDragItem:function(){return n.getDragItem()},dragStartPixels:t,dragSourceDomDataKey:this.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},e.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},wf([y("beans")],e.prototype,"beans",void 0),wf([W],e.prototype,"postConstruct",null),wf([oi],e.prototype,"removeDragSource",null),e}(be),jj=function(i){w_(e,i);function e(t,n,r){var o=i.call(this)||this;return o.parent=t,o.rowNode=n,o.column=r,o}return e.prototype.setDisplayedOrVisible=function(t){var n={skipAriaHidden:!0};if(t)this.parent.setDisplayed(!1,n);else{var r=!0,o=!1;this.column&&(r=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),o=h_(this.column.getColDef().rowDrag)),o?(this.parent.setDisplayed(!0,n),this.parent.setVisible(r,n)):(this.parent.setDisplayed(r,n),this.parent.setVisible(!0,n))}},e}(j),bre=function(i){w_(e,i);function e(t,n,r,o){var s=i.call(this,t,r,o)||this;return s.beans=n,s}return e.prototype.postConstruct=function(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,Pe.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Pe.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Pe.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,C.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var t=this.gridOptionsService.get("suppressRowDrag");this.setDisplayedOrVisible(t)},wf([W],e.prototype,"postConstruct",null),e}(jj),Dre=function(i){w_(e,i);function e(t,n,r,o){var s=i.call(this,t,r,o)||this;return s.beans=n,s}return e.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,C.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,C.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,C.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,C.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Pe.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Pe.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var t=this.beans.ctrlsService.getGridBodyCtrl(),n=t.getRowDragFeature(),r=n&&n.shouldPreventRowMove(),o=this.gridOptionsService.get("suppressRowDrag"),s=this.beans.dragAndDropService.hasExternalDropZones(),a=r&&!s||o;this.setDisplayedOrVisible(a)},wf([W],e.prototype,"postConstruct",null),e}(jj),Rre=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),t_=function(){return t_=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},t_.apply(this,arguments)},jp=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Tre=function(i){Rre(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(t,n,r,o,s,a,l){var u,c,d,h;this.params=l,this.eGui=n,this.eCheckbox=r,this.eExpanded=o,this.eContracted=s,this.comp=t,this.compClass=a;var p=l.node;l.value;var f=l.colDef,g=this.isTopLevelFooter();if(!g){var v=this.isEmbeddedRowMismatch();if(v)return;if(p.footer&&this.gridOptionsService.get("groupHideOpenParents")){var m=f&&f.showRowGroup,_=p.rowGroupColumn&&p.rowGroupColumn.getColId();if(m!==_)return}}if(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),!g){var w=l.node.footer&&l.node.rowGroupIndex===this.columnModel.getRowGroupColumns().findIndex(function(q){var $;return q.getColId()===(($=l.colDef)===null||$===void 0?void 0:$.showRowGroup)}),S=this.gridOptionsService.get("groupDisplayType")!="multipleColumns"||this.gridOptionsService.get("treeData"),R=S||this.gridOptionsService.get("showOpenedGroup")&&!l.node.footer&&(!l.node.group||l.node.rowGroupIndex!=null&&l.node.rowGroupIndex>this.columnModel.getRowGroupColumns().findIndex(function(q){var $;return q.getColId()===(($=l.colDef)===null||$===void 0?void 0:$.showRowGroup)})),T=!p.group&&(((u=this.params.colDef)===null||u===void 0?void 0:u.field)||((c=this.params.colDef)===null||c===void 0?void 0:c.valueGetter)),x=this.isExpandable(),A=this.columnModel.isPivotMode()&&p.leafGroup&&((d=p.rowGroupColumn)===null||d===void 0?void 0:d.getColId())===((h=l.column)===null||h===void 0?void 0:h.getColDef().showRowGroup),U=!this.showingValueForOpenedParent&&!x&&!T&&!R&&!w&&!A;if(U)return}this.addExpandAndContract(),this.addFullWidthRowDraggerIfNeeded(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded()},e.prototype.getCellAriaRole=function(){var t,n,r=(t=this.params.colDef)===null||t===void 0?void 0:t.cellAriaRole,o=(n=this.params.column)===null||n===void 0?void 0:n.getColDef().cellAriaRole;return r||o||"gridcell"},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.expandListener=null},e.prototype.refreshAriaExpanded=function(){var t=this.params,n=t.node,r=t.eGridCell;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable()){KB(r);return}var o=function(){Zr(r,!!n.expanded)};this.expandListener=this.addManagedListener(n,Pe.EVENT_EXPANDED_CHANGED,o)||null,o()},e.prototype.isTopLevelFooter=function(){if(!this.gridOptionsService.get("groupIncludeTotalFooter")||this.params.value!=null||this.params.node.level!=-1)return!1;var t=this.params.colDef,n=t==null;if(n||t.showRowGroup===!0)return!0;var r=this.columnModel.getRowGroupColumns();if(!r||r.length===0)return!0;var o=r[0];return o.getId()===t.showRowGroup},e.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsService.get("embedFullWidthRows"))return!1;var t=this.params.pinned==="left",n=this.params.pinned==="right",r=!t&&!n;return this.gridOptionsService.get("enableRtl")?this.columnModel.isPinningLeft()?!n:!r:this.columnModel.isPinningLeft()?!t:!r},e.prototype.findDisplayedGroupNode=function(){var t=this.params.column,n=this.params.node;if(this.showingValueForOpenedParent)for(var r=n.parent;r!=null;){if(r.rowGroupColumn&&t.isRowGroupDisplayed(r.rowGroupColumn.getId())){this.displayedGroupNode=r;break}r=r.parent}ue(this.displayedGroupNode)&&(this.displayedGroupNode=n)},e.prototype.setupShowingValueForOpenedParent=function(){var t=this.params.node,n=this.params.column;if(!this.gridOptionsService.get("groupHideOpenParents")){this.showingValueForOpenedParent=!1;return}if(!t.groupData){this.showingValueForOpenedParent=!1;return}var r=t.rowGroupColumn!=null;if(r){var o=t.rowGroupColumn.getId(),s=n.isRowGroupDisplayed(o);if(s){this.showingValueForOpenedParent=!1;return}}var a=t.groupData[n.getId()]!=null;this.showingValueForOpenedParent=a},e.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},e.prototype.addGroupValue=function(){var t,n=this.adjustParamsWithDetailsFromRelatedColumn(),r=this.getInnerCompDetails(n),o=n.valueFormatted,s=n.value,a=o;if(a==null){var l=this.displayedGroupNode.rowGroupColumn&&((t=this.params.column)===null||t===void 0?void 0:t.isRowGroupDisplayed(this.displayedGroupNode.rowGroupColumn.getId()));if(this.displayedGroupNode.key===""&&this.displayedGroupNode.group&&l){var u=this.localeService.getLocaleTextFunc();a=u("blanks","(Blanks)")}else a=s??null}this.comp.setInnerRenderer(r,a)},e.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var t=this.displayedGroupNode.rowGroupColumn,n=this.params.column;if(!t)return this.params;var r=n!=null;if(r){var o=n.isRowGroupDisplayed(t.getId());if(!o)return this.params}var s=this.params,a=this.params,l=a.value,u=a.node,c=this.valueFormatterService.formatValue(t,u,l),d=t_(t_({},s),{valueFormatted:c});return d},e.prototype.addFooterValue=function(){var t=this.params.footerValueGetter,n="";if(t){var r=GA(this.params);r.value=this.params.value,typeof t=="function"?n=t(r):typeof t=="string"?n=this.expressionService.evaluate(t,r):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else{var o=this.localeService.getLocaleTextFunc(),s=o("footerTotal","Total");n=s+" "+(this.params.value!=null?this.params.value:"")}var a=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(a,n)},e.prototype.getInnerCompDetails=function(t){var n=this;if(t.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),t);var r=this.userComponentFactory.getInnerRendererDetails(t,t),o=function(c){return c&&c.componentClass==n.compClass};if(r&&!o(r))return r;var s=this.displayedGroupNode.rowGroupColumn,a=s?s.getColDef():void 0;if(a){var l=this.userComponentFactory.getCellRendererDetails(a,t);if(l&&!o(l))return l;if(o(l)&&a.cellRendererParams&&a.cellRendererParams.innerRenderer){var u=this.userComponentFactory.getInnerRendererDetails(a.cellRendererParams,t);return u}}},e.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,Pe.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},e.prototype.updateChildCount=function(){var t=this.displayedGroupNode.allChildrenCount,n=this.isShowRowGroupForThisRow(),r=n&&t!=null&&t>=0,o=r?"(".concat(t,")"):"";this.comp.setChildCount(o)},e.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsService.get("treeData"))return!0;var t=this.displayedGroupNode.rowGroupColumn;if(!t)return!1;var n=this.params.column,r=n==null||n.isRowGroupDisplayed(t.getId());return r},e.prototype.addExpandAndContract=function(){var t,n=this.params,r=Kt("groupExpanded",this.gridOptionsService,null),o=Kt("groupContracted",this.gridOptionsService,null);r&&this.eExpanded.appendChild(r),o&&this.eContracted.appendChild(o);var s=n.eGridCell,a=((t=this.params.column)===null||t===void 0?void 0:t.isCellEditable(n.node))&&this.gridOptionsService.get("enableGroupEdit");!a&&this.isExpandable()&&!n.suppressDoubleClickExpand&&this.addManagedListener(s,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(s,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(n.node,Pe.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var l=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,Pe.EVENT_ALL_CHILDREN_COUNT_CHANGED,l),this.addManagedListener(this.displayedGroupNode,Pe.EVENT_MASTER_CHANGED,l),this.addManagedListener(this.displayedGroupNode,Pe.EVENT_GROUP_CHANGED,l),this.addManagedListener(this.displayedGroupNode,Pe.EVENT_HAS_CHILDREN_CHANGED,l)},e.prototype.onExpandClicked=function(t){Jr(t)||(Uo(t),this.onExpandOrContract(t))},e.prototype.onExpandOrContract=function(t){var n=this.displayedGroupNode,r=!n.expanded;!r&&n.sticky&&this.scrollToStickyNode(n),n.setExpanded(r,t)},e.prototype.scrollToStickyNode=function(t){var n=this.ctrlsService.getGridBodyCtrl(),r=n.getScrollFeature();r.setVerticalScrollPosition(t.rowTop-t.stickyRowTop)},e.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var t=this.displayedGroupNode,n=this.columnModel.isPivotMode()&&t.leafGroup,r=t.isExpandable()&&!t.footer&&!n;if(!r)return!1;var o=this.params.column,s=o!=null&&typeof o.getColDef().showRowGroup=="string";if(s){var a=this.isShowRowGroupForThisRow();return a}return!0},e.prototype.showExpandAndContractIcons=function(){var t=this,n=t.params,r=t.displayedGroupNode,o=t.columnModel,s=n.node,a=this.isExpandable();if(a){var l=this.showingValueForOpenedParent?!0:s.expanded;this.comp.setExpandedDisplayed(l),this.comp.setContractedDisplayed(!l)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var u=o.isPivotMode(),c=u&&r.leafGroup,d=a&&!c,h=s.footer&&s.level===-1;this.comp.addOrRemoveCssClass("ag-cell-expandable",d),this.comp.addOrRemoveCssClass("ag-row-group",d),u?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",c):h||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!d)},e.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},e.prototype.setupIndent=function(){var t=this.params.node,n=this.params.suppressPadding;n||(this.addManagedListener(t,Pe.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},e.prototype.setIndent=function(){if(!this.gridOptionsService.get("groupHideOpenParents")){var t=this.params,n=t.node,r=!!t.colDef,o=this.gridOptionsService.get("treeData"),s=!r||o||t.colDef.showRowGroup===!0,a=s?n.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+a,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},e.prototype.addFullWidthRowDraggerIfNeeded=function(){var t=this;if(!(!this.params.fullWidth||!this.params.rowDrag)){var n=new e_(function(){return t.params.value},this.params.node);this.createManagedBean(n,this.context),this.eGui.insertAdjacentElement("afterbegin",n.getGui())}},e.prototype.isUserWantsSelected=function(){var t=this.params.checkbox;return typeof t=="function"||t===!0},e.prototype.addCheckboxIfNeeded=function(){var t=this,n=this.displayedGroupNode,r=this.isUserWantsSelected()&&!n.footer&&!n.rowPinned&&!n.detail;if(r){var o=new Bj;this.getContext().createBean(o),o.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(o.getGui()),this.addDestroyFunc(function(){return t.getContext().destroyBean(o)})}this.comp.setCheckboxVisible(r)},e.prototype.onKeyDown=function(t){var n=t.key===I.ENTER;if(!(!n||this.params.suppressEnterExpand)){var r=this.params.column&&this.params.column.isCellEditable(this.params.node);r||this.onExpandOrContract(t)}},e.prototype.onCellDblClicked=function(t){if(!Jr(t)){var n=qC(this.eExpanded,t)||qC(this.eContracted,t);n||this.onExpandOrContract(t)}},jp([y("expressionService")],e.prototype,"expressionService",void 0),jp([y("valueFormatterService")],e.prototype,"valueFormatterService",void 0),jp([y("columnModel")],e.prototype,"columnModel",void 0),jp([y("userComponentFactory")],e.prototype,"userComponentFactory",void 0),jp([y("ctrlsService")],e.prototype,"ctrlsService",void 0),e}(j),Are=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Up=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},_H=function(i){Are(e,i);function e(){return i.call(this,e.TEMPLATE)||this}return e.prototype.init=function(t){var n=this,r={setInnerRenderer:function(l,u){return n.setRenderDetails(l,u)},setChildCount:function(l){return n.eChildCount.textContent=l},addOrRemoveCssClass:function(l,u){return n.addOrRemoveCssClass(l,u)},setContractedDisplayed:function(l){return qe(n.eContracted,l)},setExpandedDisplayed:function(l){return qe(n.eExpanded,l)},setCheckboxVisible:function(l){return n.eCheckbox.classList.toggle("ag-invisible",!l)}},o=this.createManagedBean(new Tre),s=!t.colDef,a=this.getGui();o.init(r,a,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,t),s&&fn(a,o.getCellAriaRole())},e.prototype.setRenderDetails=function(t,n){var r=this;if(t){var o=t.newAgStackInstance();if(!o)return;o.then(function(s){if(s){var a=function(){return r.context.destroyBean(s)};r.isAlive()?(r.eValue.appendChild(s.getGui()),r.addDestroyFunc(a)):a()}})}else this.eValue.innerText=n},e.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),i.prototype.destroy.call(this)},e.prototype.refresh=function(){return!1},e.TEMPLATE=`<span class="ag-cell-wrapper">
            <span class="ag-group-expanded" ref="eExpanded"></span>
            <span class="ag-group-contracted" ref="eContracted"></span>
            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>
            <span class="ag-group-value" ref="eValue"></span>
            <span class="ag-group-child-count" ref="eChildCount"></span>
        </span>`,Up([Z("eExpanded")],e.prototype,"eExpanded",void 0),Up([Z("eContracted")],e.prototype,"eContracted",void 0),Up([Z("eCheckbox")],e.prototype,"eCheckbox",void 0),Up([Z("eValue")],e.prototype,"eValue",void 0),Up([Z("eChildCount")],e.prototype,"eChildCount",void 0),e}(be),Ore=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),wH=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Ire=function(i){Ore(e,i);function e(){return i.call(this,e.TEMPLATE)||this}return e.prototype.init=function(t){t.node.failedLoad?this.setupFailed():this.setupLoading()},e.prototype.setupFailed=function(){var t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingError","ERR")},e.prototype.setupLoading=function(){var t=Kt("groupLoading",this.gridOptionsService,null);t&&this.eLoadingIcon.appendChild(t);var n=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=n("loadingOoo","Loading")},e.prototype.refresh=function(t){return!1},e.prototype.destroy=function(){i.prototype.destroy.call(this)},e.TEMPLATE=`<div class="ag-loading">
            <span class="ag-loading-icon" ref="eLoadingIcon"></span>
            <span class="ag-loading-text" ref="eLoadingText"></span>
        </div>`,wH([Z("eLoadingIcon")],e.prototype,"eLoadingIcon",void 0),wH([Z("eLoadingText")],e.prototype,"eLoadingText",void 0),e}(be),Mre=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),xre=function(i){Mre(e,i);function e(){return i.call(this)||this}return e.prototype.destroy=function(){i.prototype.destroy.call(this)},e.prototype.init=function(t){var n=this,r=this.gridOptionsService.get("overlayLoadingTemplate");if(this.setTemplate(r??e.DEFAULT_LOADING_OVERLAY_TEMPLATE),!r){var o=this.localeService.getLocaleTextFunc();setTimeout(function(){n.getGui().textContent=o("loadingOoo","Loading...")})}},e.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>',e}(be),Pre=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Fre=function(i){Pre(e,i);function e(){return i.call(this)||this}return e.prototype.destroy=function(){i.prototype.destroy.call(this)},e.prototype.init=function(t){var n=this,r=this.gridOptionsService.get("overlayNoRowsTemplate");if(this.setTemplate(r??e.DEFAULT_NO_ROWS_TEMPLATE),!r){var o=this.localeService.getLocaleTextFunc();setTimeout(function(){n.getGui().textContent=o("noRowsToShow","No Rows To Show")})}},e.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center"></span>',e}(be),Nre=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Lre=function(i){Nre(e,i);function e(){return i.call(this,'<div class="ag-tooltip"></div>')||this}return e.prototype.init=function(t){var n=t.value;this.getGui().textContent=tn(n,!0)},e}(pu),kre=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Vre=function(){function i(){}return i.prototype.getTemplate=function(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'},i.prototype.init=function(e,t){this.eInput=e,this.params=t,t.max!=null&&e.setMax(t.max),t.min!=null&&e.setMin(t.min),t.precision!=null&&e.setPrecision(t.precision),t.step!=null&&e.setStep(t.step);var n=e.getInputElement();t.preventStepping?e.addManagedListener(n,"keydown",this.preventStepping):t.showStepperButtons&&n.classList.add("ag-number-field-input-stepper")},i.prototype.preventStepping=function(e){(e.key===I.UP||e.key===I.DOWN)&&e.preventDefault()},i.prototype.getValue=function(){var e=this.eInput.getValue();if(!B(e)&&!B(this.params.value))return this.params.value;var t=this.params.parseValue(e);if(t==null)return t;if(typeof t=="string"){if(t==="")return null;t=Number(t)}return isNaN(t)?null:t},i.prototype.getStartValue=function(){return this.params.value},i}(),Gre=function(i){kre(e,i);function e(){return i.call(this,new Vre)||this}return e}(__),Hre=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Bre=function(){function i(){}return i.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},i.prototype.init=function(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)},i.prototype.getValue=function(){var e=this.eInput.getDate();return!B(e)&&!B(this.params.value)?this.params.value:e??null},i.prototype.getStartValue=function(){var e=this.params.value;if(e instanceof Date)return Ir(e,!1)},i}(),jre=function(i){Hre(e,i);function e(){return i.call(this,new Bre)||this}return e}(__),Ure=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Wre=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},zre=function(){function i(e){this.getDataTypeService=e}return i.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},i.prototype.init=function(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)},i.prototype.getValue=function(){var e=this.formatDate(this.eInput.getDate());return!B(e)&&!B(this.params.value)?this.params.value:this.params.parseValue(e??"")},i.prototype.getStartValue=function(){var e,t;return Ir((t=this.parseDate((e=this.params.value)!==null&&e!==void 0?e:void 0))!==null&&t!==void 0?t:null,!1)},i.prototype.parseDate=function(e){return this.getDataTypeService().getDateParserFunction()(e)},i.prototype.formatDate=function(e){return this.getDataTypeService().getDateFormatterFunction()(e)},i}(),$re=function(i){Ure(e,i);function e(){var t=i.call(this,new zre(function(){return t.dataTypeService}))||this;return t}return Wre([y("dataTypeService")],e.prototype,"dataTypeService",void 0),e}(__),qre=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Kre=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Yre=function(i){qre(e,i);function e(){return i.call(this,e.TEMPLATE)||this}return e.prototype.init=function(t){var n=this;this.params=t,this.updateCheckbox(t);var r=this.eCheckbox.getInputElement();r.setAttribute("tabindex","-1"),zA(r,"polite"),this.addManagedListener(r,"click",function(s){if(Uo(s),!n.eCheckbox.isDisabled()){var a=n.eCheckbox.getValue();n.onCheckboxChanged(a)}}),this.addManagedListener(r,"dblclick",function(s){Uo(s)});var o=this.gridOptionsService.getDocument();this.addManagedListener(this.params.eGridCell,"keydown",function(s){if(s.key===I.SPACE&&!n.eCheckbox.isDisabled()){n.params.eGridCell===o.activeElement&&n.eCheckbox.toggle();var a=n.eCheckbox.getValue();n.onCheckboxChanged(a),s.preventDefault()}})},e.prototype.refresh=function(t){return this.params=t,this.updateCheckbox(t),!0},e.prototype.updateCheckbox=function(t){var n,r,o,s,a=!0;if(t.node.group&&t.column){var l=t.column.getColId();l.startsWith(hd)?s=t.value==null||t.value===""?void 0:t.value==="true":t.node.aggData&&t.node.aggData[l]!==void 0?s=(n=t.value)!==null&&n!==void 0?n:void 0:a=!1}else s=(r=t.value)!==null&&r!==void 0?r:void 0;if(!a){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(s);var u=t.disabled!=null?t.disabled:!(!((o=t.column)===null||o===void 0)&&o.isCellEditable(t.node));this.eCheckbox.setDisabled(u);var c=this.localeService.getLocaleTextFunc(),d=f_(c,s),h=u?d:"".concat(c("ariaToggleCellValue","Press SPACE to toggle cell value")," (").concat(d,")");this.eCheckbox.setInputAriaLabel(h)},e.prototype.onCheckboxChanged=function(t){var n=this.params,r=n.column,o=n.node,s=n.rowIndex,a=n.value,l={type:C.EVENT_CELL_EDITING_STARTED,column:r,colDef:r?.getColDef(),data:o.data,node:o,rowIndex:s,rowPinned:o.rowPinned,value:a};this.eventService.dispatchEvent(l);var u=this.params.node.setDataValue(this.params.column,t,"edit"),c={type:C.EVENT_CELL_EDITING_STOPPED,column:r,colDef:r?.getColDef(),data:o.data,node:o,rowIndex:s,rowPinned:o.rowPinned,value:a,oldValue:a,newValue:t,valueChanged:u};this.eventService.dispatchEvent(c)},e.TEMPLATE=`
        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
        </div>`,Kre([Z("eCheckbox")],e.prototype,"eCheckbox",void 0),e}(be),Qre=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Zre=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Xre=function(i){Qre(e,i);function e(){return i.call(this,`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)||this}return e.prototype.init=function(t){var n=this,r;this.params=t;var o=(r=t.value)!==null&&r!==void 0?r:void 0;this.eCheckbox.setValue(o);var s=this.eCheckbox.getInputElement();s.setAttribute("tabindex","-1"),this.setAriaLabel(o),this.addManagedListener(this.eCheckbox,C.EVENT_FIELD_VALUE_CHANGED,function(a){return n.setAriaLabel(a.selected)})},e.prototype.getValue=function(){return this.eCheckbox.getValue()},e.prototype.focusIn=function(){this.eCheckbox.getFocusableElement().focus()},e.prototype.afterGuiAttached=function(){this.params.cellStartedEdit&&this.focusIn()},e.prototype.isPopup=function(){return!1},e.prototype.setAriaLabel=function(t){var n=this.localeService.getLocaleTextFunc(),r=f_(n,t),o=n("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel("".concat(o," (").concat(r,")"))},Zre([Z("eCheckbox")],e.prototype,"eCheckbox",void 0),e}(pu),Jre=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),VT=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},SH=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},EH=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},eoe=function(i){Jre(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.agGridDefaults={agDateInput:$ie,agColumnHeader:tre,agColumnGroupHeader:ire,agSortIndicator:wO,agTextColumnFloatingFilter:Xie,agNumberColumnFloatingFilter:Qie,agDateColumnFloatingFilter:jie,agReadOnlyFloatingFilter:Cie,agAnimateShowChangeCellRenderer:yre,agAnimateSlideCellRenderer:wre,agGroupCellRenderer:_H,agGroupRowRenderer:_H,agLoadingCellRenderer:Ire,agCheckboxCellRenderer:Yre,agCellEditor:yH,agTextCellEditor:yH,agNumberCellEditor:Gre,agDateCellEditor:jre,agDateStringCellEditor:$re,agSelectCellEditor:ure,agLargeTextCellEditor:are,agCheckboxCellEditor:Xre,agTextColumnFilter:_O,agNumberColumnFilter:Fj,agDateColumnFilter:Ij,agLoadingOverlay:xre,agNoRowsOverlay:Fre,agTooltipComponent:Lre},t.enterpriseAgDefaultCompsModule={agSetColumnFilter:re.SetFilterModule,agSetColumnFloatingFilter:re.SetFilterModule,agMultiColumnFilter:re.MultiFilterModule,agMultiColumnFloatingFilter:re.MultiFilterModule,agGroupColumnFilter:re.RowGroupingModule,agGroupColumnFloatingFilter:re.RowGroupingModule,agRichSelect:re.RichSelectModule,agRichSelectCellEditor:re.RichSelectModule,agDetailCellRenderer:re.MasterDetailModule,agSparklineCellRenderer:re.SparklinesModule},t.jsComps={},t}return e.prototype.init=function(){var t=this;this.gridOptions.components!=null&&zn(this.gridOptions.components,function(n,r){return t.registerJsComponent(n,r)})},e.prototype.registerDefaultComponent=function(t,n){if(this.agGridDefaults[t]){console.error("Trying to overwrite a default component. You should call registerComponent");return}this.agGridDefaults[t]=n},e.prototype.registerJsComponent=function(t,n){this.jsComps[t]=n},e.prototype.retrieve=function(t,n){var r=this,o=function(d,h){return{componentFromFramework:h,component:d}},s=this.getFrameworkOverrides().frameworkComponent(n,this.gridOptions.components);if(s!=null)return o(s,!0);var a=this.jsComps[n];if(a){var l=this.getFrameworkOverrides().isFrameworkComponent(a);return o(a,l)}var u=this.agGridDefaults[n];if(u)return o(u,!1);var c=this.enterpriseAgDefaultCompsModule[n];return c?lt.__assertRegistered(c,"AG Grid '".concat(t,"' component: ").concat(n),this.context.getGridId()):dd(function(){r.warnAboutMissingComponent(t,n)},"MissingComp"+n),null},e.prototype.warnAboutMissingComponent=function(t,n){var r=EH(EH([],SH(Object.keys(this.agGridDefaults).filter(function(s){return!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(s)})),!1),SH(Object.keys(this.jsComps)),!1),o=Lf(n,r,!0,.8).values;console.warn("AG Grid: Could not find '".concat(n,`' component. It was configured as "`).concat(t,": '").concat(n,`'" but it wasn't found in the list of registered components.`)),o.length>0&&console.warn("         Did you mean: [".concat(o.slice(0,3),"]?")),console.warn("If using a custom component check it has been registered as described in: ".concat(this.getFrameworkOverrides().getDocLink("components/")))},VT([y("gridOptions")],e.prototype,"gridOptions",void 0),VT([W],e.prototype,"init",null),e=VT([ee("userComponentRegistry")],e),e}(j),toe={propertyName:"dateComponent",cellRenderer:!1},noe={propertyName:"headerComponent",cellRenderer:!1},ioe={propertyName:"headerGroupComponent",cellRenderer:!1},bH={propertyName:"cellRenderer",cellRenderer:!0},roe={propertyName:"cellEditor",cellRenderer:!1},DH={propertyName:"innerRenderer",cellRenderer:!0},ooe={propertyName:"loadingOverlayComponent",cellRenderer:!1},soe={propertyName:"noRowsOverlayComponent",cellRenderer:!1},aoe={propertyName:"tooltipComponent",cellRenderer:!1},xA={propertyName:"filter",cellRenderer:!1},loe={propertyName:"floatingFilterComponent",cellRenderer:!1},uoe={propertyName:"toolPanel",cellRenderer:!1},coe={propertyName:"statusPanel",cellRenderer:!1},doe={propertyName:"fullWidthCellRenderer",cellRenderer:!0},hoe={propertyName:"loadingCellRenderer",cellRenderer:!0},poe={propertyName:"groupRowRenderer",cellRenderer:!0},foe={propertyName:"detailCellRenderer",cellRenderer:!0},goe=function(){function i(){}return i.getFloatingFilterType=function(e){return this.filterToFloatingFilterMapping[e]},i.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},i}(),voe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ed=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},moe=function(i){voe(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getHeaderCompDetails=function(t,n){return this.getCompDetails(t,noe,"agColumnHeader",n)},e.prototype.getHeaderGroupCompDetails=function(t){var n=t.columnGroup.getColGroupDef();return this.getCompDetails(n,ioe,"agColumnGroupHeader",t)},e.prototype.getFullWidthCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,doe,null,t,!0)},e.prototype.getFullWidthLoadingCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,hoe,"agLoadingCellRenderer",t,!0)},e.prototype.getFullWidthGroupCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,poe,"agGroupRowRenderer",t,!0)},e.prototype.getFullWidthDetailCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,foe,"agDetailCellRenderer",t,!0)},e.prototype.getInnerRendererDetails=function(t,n){return this.getCompDetails(t,DH,null,n)},e.prototype.getFullWidthGroupRowInnerCellRenderer=function(t,n){return this.getCompDetails(t,DH,null,n)},e.prototype.getCellRendererDetails=function(t,n){return this.getCompDetails(t,bH,null,n)},e.prototype.getCellEditorDetails=function(t,n){return this.getCompDetails(t,roe,"agCellEditor",n,!0)},e.prototype.getFilterDetails=function(t,n,r){return this.getCompDetails(t,xA,r,n,!0)},e.prototype.getDateCompDetails=function(t){return this.getCompDetails(this.gridOptions,toe,"agDateInput",t,!0)},e.prototype.getLoadingOverlayCompDetails=function(t){return this.getCompDetails(this.gridOptions,ooe,"agLoadingOverlay",t,!0)},e.prototype.getNoRowsOverlayCompDetails=function(t){return this.getCompDetails(this.gridOptions,soe,"agNoRowsOverlay",t,!0)},e.prototype.getTooltipCompDetails=function(t){return this.getCompDetails(t.colDef,aoe,"agTooltipComponent",t,!0)},e.prototype.getSetFilterCellRendererDetails=function(t,n){return this.getCompDetails(t,bH,null,n)},e.prototype.getFloatingFilterCompDetails=function(t,n,r){return this.getCompDetails(t,loe,r,n)},e.prototype.getToolPanelCompDetails=function(t,n){return this.getCompDetails(t,uoe,null,n,!0)},e.prototype.getStatusPanelCompDetails=function(t,n){return this.getCompDetails(t,coe,null,n,!0)},e.prototype.getCompDetails=function(t,n,r,o,s){var a=this;s===void 0&&(s=!1);var l=n.propertyName,u=n.cellRenderer,c=this.getCompKeys(t,n,o),d=c.compName,h=c.jsComp,p=c.fwComp,f=c.paramsFromSelector,g=c.popupFromSelector,v=c.popupPositionFromSelector,m=function(R){var T=a.userComponentRegistry.retrieve(l,R);T&&(h=T.componentFromFramework?void 0:T.component,p=T.componentFromFramework?T.component:void 0)};if(d!=null&&m(d),h==null&&p==null&&r!=null&&m(r),h&&u&&!this.agComponentUtils.doesImplementIComponent(h)&&(h=this.agComponentUtils.adaptFunction(l,h)),!h&&!p){s&&console.error("AG Grid: Could not find component ".concat(d,", did you forget to configure this component?"));return}var _=this.mergeParamsWithApplicationProvidedParams(t,n,o,f),w=h==null,S=h||p;return{componentFromFramework:w,componentClass:S,params:_,type:n,popupFromSelector:g,popupPositionFromSelector:v,newAgStackInstance:function(){return a.newAgStackInstance(S,w,_,n)}}},e.prototype.getCompKeys=function(t,n,r){var o=this,s=n.propertyName,a,l,u,c,d,h;if(t){var p=t,f=p[s+"Selector"],g=f?f(r):null,v=function(m){if(typeof m=="string")a=m;else if(m!=null&&m!==!0){var _=o.getFrameworkOverrides().isFrameworkComponent(m);_?u=m:l=m}};g?(v(g.component),c=g.params,d=g.popup,h=g.popupPosition):v(p[s])}return{compName:a,jsComp:l,fwComp:u,paramsFromSelector:c,popupFromSelector:d,popupPositionFromSelector:h}},e.prototype.newAgStackInstance=function(t,n,r,o){var s=o.propertyName,a=!n,l;if(a)l=new t;else{var u=this.componentMetadataProvider.retrieve(s);l=this.frameworkComponentWrapper.wrap(t,u.mandatoryMethodList,u.optionalMethodList,o)}var c=this.initComponent(l,r);return c==null?Tr.resolve(l):c.then(function(){return l})},e.prototype.mergeParamsWithApplicationProvidedParams=function(t,n,r,o){o===void 0&&(o=null);var s=this.gridOptionsService.getGridCommonParams();Qi(s,r);var a=t,l=a&&a[n.propertyName+"Params"];if(typeof l=="function"){var u=l(r);Qi(s,u)}else typeof l=="object"&&Qi(s,l);return Qi(s,o),s},e.prototype.initComponent=function(t,n){if(this.context.createBean(t),t.init!=null)return t.init(n)},e.prototype.getDefaultFloatingFilterType=function(t,n){if(t==null)return null;var r=null,o=this.getCompKeys(t,xA),s=o.compName,a=o.jsComp,l=o.fwComp;if(s)r=goe.getFloatingFilterType(s);else{var u=a==null&&l==null&&t.filter===!0;u&&(r=n())}return r},ed([y("gridOptions")],e.prototype,"gridOptions",void 0),ed([y("agComponentUtils")],e.prototype,"agComponentUtils",void 0),ed([y("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),ed([y("userComponentRegistry")],e.prototype,"userComponentRegistry",void 0),ed([$e("frameworkComponentWrapper")],e.prototype,"frameworkComponentWrapper",void 0),e=ed([ee("userComponentFactory")],e),e}(j),yoe=function(){function i(){}return i.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0},i.ALL_PROPERTIES=Object.keys(i.ColDefPropertyMap),i}(),PA=function(i){return i[i.SINGLE_SHEET=0]="SINGLE_SHEET",i[i.MULTI_SHEET=1]="MULTI_SHEET",i}(PA||{}),Coe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),GT=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},_oe=function(i){Coe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.dragEndFunctions=[],t.dragSources=[],t}return e.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},e.prototype.removeListener=function(t){var n=t.dragSource.eElement,r=t.mouseDownListener;if(n.removeEventListener("mousedown",r),t.touchEnabled){var o=t.touchStartListener;n.removeEventListener("touchstart",o,{passive:!0})}},e.prototype.removeDragSource=function(t){var n=this.dragSources.find(function(r){return r.dragSource===t});n&&(this.removeListener(n),Ki(this.dragSources,n))},e.prototype.isDragging=function(){return this.dragging},e.prototype.addDragSource=function(t){var n=this,r=this.onMouseDown.bind(this,t),o=t.eElement,s=t.includeTouch,a=t.stopPropagationForTouch;o.addEventListener("mousedown",r);var l=null,u=this.gridOptionsService.get("suppressTouch");s&&!u&&(l=function(c){sO(c.target)||(c.cancelable&&(c.preventDefault(),a&&c.stopPropagation()),n.onTouchStart(t,c))},o.addEventListener("touchstart",l,{passive:!1})),this.dragSources.push({dragSource:t,mouseDownListener:r,touchStartListener:l,touchEnabled:!!s})},e.prototype.getStartTarget=function(){return this.startTarget},e.prototype.onTouchStart=function(t,n){var r=this;this.currentDragParams=t,this.dragging=!1;var o=n.touches[0];this.touchLastTime=o,this.touchStart=o;var s=function(d){return r.onTouchMove(d,t.eElement)},a=function(d){return r.onTouchUp(d,t.eElement)},l=function(d){d.cancelable&&d.preventDefault()},u=n.target,c=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:l,options:{passive:!1}},{target:u,type:"touchmove",listener:s,options:{passive:!0}},{target:u,type:"touchend",listener:a,options:{passive:!0}},{target:u,type:"touchcancel",listener:a,options:{passive:!0}}];this.addTemporaryEvents(c),t.dragStartPixels===0&&this.onCommonMove(o,this.touchStart,t.eElement)},e.prototype.onMouseDown=function(t,n){var r=this,o=n;if(!(t.skipMouseEvent&&t.skipMouseEvent(n))&&!o._alreadyProcessedByDragService&&(o._alreadyProcessedByDragService=!0,n.button===0)){this.shouldPreventMouseEvent(n)&&n.preventDefault(),this.currentDragParams=t,this.dragging=!1,this.mouseStartEvent=n,this.startTarget=n.target;var s=function(d){return r.onMouseMove(d,t.eElement)},a=function(d){return r.onMouseUp(d,t.eElement)},l=function(d){return d.preventDefault()},u=this.gridOptionsService.getRootNode(),c=[{target:u,type:"mousemove",listener:s},{target:u,type:"mouseup",listener:a},{target:u,type:"contextmenu",listener:l}];this.addTemporaryEvents(c),t.dragStartPixels===0&&this.onMouseMove(n,t.eElement)}},e.prototype.addTemporaryEvents=function(t){t.forEach(function(n){var r=n.target,o=n.type,s=n.listener,a=n.options;r.addEventListener(o,s,a)}),this.dragEndFunctions.push(function(){t.forEach(function(n){var r=n.target,o=n.type,s=n.listener,a=n.options;r.removeEventListener(o,s,a)})})},e.prototype.isEventNearStartEvent=function(t,n){var r=this.currentDragParams.dragStartPixels,o=B(r)?r:4;return gO(t,n,o)},e.prototype.getFirstActiveTouch=function(t){for(var n=0;n<t.length;n++)if(t[n].identifier===this.touchStart.identifier)return t[n];return null},e.prototype.onCommonMove=function(t,n,r){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(t,n))return;this.dragging=!0;var o={type:C.EVENT_DRAG_STARTED,target:r};this.eventService.dispatchEvent(o),this.currentDragParams.onDragStart(n),this.currentDragParams.onDragging(n)}this.currentDragParams.onDragging(t)},e.prototype.onTouchMove=function(t,n){var r=this.getFirstActiveTouch(t.touches);r&&this.onCommonMove(r,this.touchStart,n)},e.prototype.onMouseMove=function(t,n){var r;if(eo()){var o=this.gridOptionsService.getDocument();(r=o.getSelection())===null||r===void 0||r.removeAllRanges()}this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.onCommonMove(t,this.mouseStartEvent,n)},e.prototype.shouldPreventMouseEvent=function(t){var n=this.gridOptionsService.get("enableCellTextSelection"),r=t.type==="mousemove";return n&&r&&t.cancelable&&this.mouseEventService.isEventFromThisGrid(t)&&!this.isOverFormFieldElement(t)},e.prototype.isOverFormFieldElement=function(t){var n=t.target,r=n?.tagName.toLocaleLowerCase();return!!r?.match("^a$|textarea|input|select|button")},e.prototype.onTouchUp=function(t,n){var r=this.getFirstActiveTouch(t.changedTouches);r||(r=this.touchLastTime),this.onUpCommon(r,n)},e.prototype.onMouseUp=function(t,n){this.onUpCommon(t,n)},e.prototype.onUpCommon=function(t,n){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(t);var r={type:C.EVENT_DRAG_STOPPED,target:n};this.eventService.dispatchEvent(r)}this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(o){return o()}),this.dragEndFunctions.length=0},GT([y("mouseEventService")],e.prototype,"mouseEventService",void 0),GT([oi],e.prototype,"removeAllListeners",null),e=GT([ee("dragService")],e),e}(j),Uj=function(){function i(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||function(){return!1}}return i.prototype.check=function(e,t){t===void 0&&(t=!1);var n=t||this.shouldSkipVerticalScroll();if(!(n&&this.shouldSkipHorizontalScroll())){var r=this.scrollContainer.getBoundingClientRect(),o=this.scrollByTick;this.tickLeft=e.clientX<r.left+o,this.tickRight=e.clientX>r.right-o,this.tickUp=e.clientY<r.top+o&&!n,this.tickDown=e.clientY>r.bottom-o&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},i.prototype.ensureTickingStarted=function(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},i.prototype.doTick=function(){this.tickCount++;var e;if(e=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){var n=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(n-e),this.tickRight&&this.setHorizontalPosition(n+e)}this.onScrollCallback&&this.onScrollCallback()},i.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},i}(),woe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),RH=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},HT="ag-list-item-hovered",iMe=function(i){woe(e,i);function e(t,n,r){var o=i.call(this)||this;return o.comp=t,o.virtualList=n,o.params=r,o.currentDragValue=null,o.lastHoveredListItem=null,o}return e.prototype.postConstruct=function(){this.addManagedListener(this.params.eventSource,this.params.listItemDragStartEvent,this.listItemDragStart.bind(this)),this.addManagedListener(this.params.eventSource,this.params.listItemDragEndEvent,this.listItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()},e.prototype.listItemDragStart=function(t){this.currentDragValue=this.params.getCurrentDragValue(t),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)},e.prototype.listItemDragEnd=function(){var t=this;window.setTimeout(function(){t.currentDragValue=null,t.moveBlocked=!1},10)},e.prototype.createDropTarget=function(){var t=this,n={isInterestedIn:function(r){return r===t.params.dragSourceType},getIconName:function(){return t.moveBlocked?hn.ICON_PINNED:hn.ICON_MOVE},getContainer:function(){return t.comp.getGui()},onDragging:function(r){return t.onDragging(r)},onDragStop:function(){return t.onDragStop()},onDragLeave:function(){return t.onDragLeave()}};this.dragAndDropService.addDropTarget(n)},e.prototype.createAutoScrollService=function(){var t=this.virtualList.getGui();this.autoScrollService=new Uj({scrollContainer:t,scrollAxis:"y",getVerticalPosition:function(){return t.scrollTop},setVerticalPosition:function(n){return t.scrollTop=n}})},e.prototype.onDragging=function(t){if(!(!this.currentDragValue||this.moveBlocked)){var n=this.getListDragItem(t),r=this.virtualList.getComponentAt(n.rowIndex);if(r){var o=r.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===n.rowIndex&&this.lastHoveredListItem.position===n.position||(this.autoScrollService.check(t.event),this.clearHoveredItems(),this.lastHoveredListItem=n,TA(o,HT),TA(o,"ag-item-highlight-".concat(n.position)))}}},e.prototype.getListDragItem=function(t){var n=this.virtualList.getGui(),r=parseFloat(window.getComputedStyle(n).paddingTop),o=this.virtualList.getRowHeight(),s=this.virtualList.getScrollTop(),a=Math.max(0,(t.y-r+s)/o),l=this.params.getNumRows(this.comp)-1,u=Math.min(l,a)|0;return{rowIndex:u,position:Math.round(a)>a||a>l?"bottom":"top",component:this.virtualList.getComponentAt(u)}},e.prototype.onDragStop=function(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearHoveredItems(),this.autoScrollService.ensureCleared())},e.prototype.onDragLeave=function(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()},e.prototype.clearHoveredItems=function(){var t=this.virtualList.getGui();t.querySelectorAll(".".concat(HT)).forEach(function(n){[HT,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(function(r){n.classList.remove(r)})}),this.lastHoveredListItem=null},RH([y("dragAndDropService")],e.prototype,"dragAndDropService",void 0),RH([W],e.prototype,"postConstruct",null),e}(j),Na=function(i){return i[i.Above=0]="Above",i[i.Below=1]="Below",i}(Na||{}),Be=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o};function nu(i){var e=i,t=e!=null&&e.getFrameworkComponentInstance!=null;return t?e.getFrameworkComponentInstance():i}var Wj=function(){function i(){this.detailGridInfoMap={},this.destroyCalled=!1}return i.prototype.init=function(){var e=this;switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel;break}this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl()})},i.prototype.__getAlignedGridService=function(){return this.alignedGridsService},i.prototype.__getContext=function(){return this.context},i.prototype.getGridId=function(){return this.context.getGridId()},i.prototype.addDetailGridInfo=function(e,t){this.detailGridInfoMap[e]=t},i.prototype.removeDetailGridInfo=function(e){this.detailGridInfoMap[e]=void 0},i.prototype.getDetailGridInfo=function(e){return this.detailGridInfoMap[e]},i.prototype.forEachDetailGridInfo=function(e){var t=0;zn(this.detailGridInfoMap,function(n,r){B(r)&&(e(r,t),t++)})},i.prototype.getDataAsCsv=function(e){if(lt.__assertRegistered(re.CsvExportModule,"api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(e)},i.prototype.exportDataAsCsv=function(e){lt.__assertRegistered(re.CsvExportModule,"api.exportDataAsCSv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(e)},i.prototype.assertNotExcelMultiSheet=function(e,t){return lt.__assertRegistered(re.ExcelExportModule,"api."+e,this.context.getGridId())?this.excelCreator.getFactoryMode()===PA.MULTI_SHEET?(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1):!0:!1},i.prototype.getDataAsExcel=function(e){if(this.assertNotExcelMultiSheet("getDataAsExcel",e))return this.excelCreator.getDataAsExcel(e)},i.prototype.exportDataAsExcel=function(e){this.assertNotExcelMultiSheet("exportDataAsExcel",e)&&this.excelCreator.exportDataAsExcel(e)},i.prototype.getSheetDataForExcel=function(e){if(lt.__assertRegistered(re.ExcelExportModule,"api.getSheetDataForExcel",this.context.getGridId()))return this.excelCreator.setFactoryMode(PA.MULTI_SHEET),this.excelCreator.getSheetDataForExcel(e)},i.prototype.getMultipleSheetsAsExcel=function(e){if(lt.__assertRegistered(re.ExcelExportModule,"api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(e)},i.prototype.exportMultipleSheetsAsExcel=function(e){if(lt.__assertRegistered(re.ExcelExportModule,"api.exportMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.exportMultipleSheetsAsExcel(e)},i.prototype.setGridAriaProperty=function(e,t){if(e){var n=this.ctrlsService.getGridBodyCtrl().getGui(),r="aria-".concat(e);t===null?n.removeAttribute(r):n.setAttribute(r,t)}},i.prototype.logMissingRowModel=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];console.error("AG Grid: api.".concat(e," can only be called when gridOptions.rowModelType is ").concat(t.join(" or ")))},i.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},i.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},i.prototype.getPinnedTopRow=function(e){return this.pinnedRowModel.getPinnedTopRow(e)},i.prototype.getPinnedBottomRow=function(e){return this.pinnedRowModel.getPinnedBottomRow(e)},i.prototype.expireValueCache=function(){this.valueCache.expire()},i.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},i.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},i.prototype.refreshCells=function(e){var t=this;e===void 0&&(e={}),this.frameworkOverrides.wrapIncoming(function(){return t.rowRenderer.refreshCells(e)})},i.prototype.flashCells=function(e){var t=this;e===void 0&&(e={}),this.frameworkOverrides.wrapIncoming(function(){return t.rowRenderer.flashCells(e)})},i.prototype.redrawRows=function(e){var t=this;e===void 0&&(e={});var n=e?e.rowNodes:void 0;this.frameworkOverrides.wrapIncoming(function(){return t.rowRenderer.redrawRows(n)})},i.prototype.refreshHeader=function(){var e=this;this.frameworkOverrides.wrapIncoming(function(){return e.ctrlsService.getHeaderRowContainerCtrls().forEach(function(t){return t.refresh()})})},i.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},i.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},i.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},i.prototype.getModel=function(){return this.rowModel},i.prototype.setRowNodeExpanded=function(e,t,n){this.expansionService.setRowNodeExpanded(e,t,n)},i.prototype.onGroupExpandedOrCollapsed=function(){if(ue(this.clientSideRowModel)){this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide");return}this.expansionService.onGroupExpandedOrCollapsed()},i.prototype.refreshClientSideRowModel=function(e){if(ue(this.clientSideRowModel)){this.logMissingRowModel("refreshClientSideRowModel","clientSide");return}this.clientSideRowModel.refreshModel(e)},i.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},i.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},i.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},i.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gos.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}},i.prototype.expandAll=function(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")},i.prototype.collapseAll=function(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!1):this.logMissingRowModel("collapseAll","clientSide","serverSide")},i.prototype.addRenderedRowListener=function(e,t,n){this.rowRenderer.addRenderedRowListener(e,t,n)},i.prototype.getQuickFilter=function(){return this.gos.get("quickFilterText")},i.prototype.getAdvancedFilterModel=function(){return lt.__assertRegistered(re.AdvancedFilterModule,"api.getAdvancedFilterModel",this.context.getGridId())?this.filterManager.getAdvancedFilterModel():null},i.prototype.setAdvancedFilterModel=function(e){this.filterManager.setAdvancedFilterModel(e)},i.prototype.showAdvancedFilterBuilder=function(){lt.__assertRegistered(re.AdvancedFilterModule,"api.setAdvancedFilterModel",this.context.getGridId())&&this.filterManager.showAdvancedFilterBuilder("api")},i.prototype.setNodesSelected=function(e){var t=e.nodes.every(function(a){return a.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):a.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),!1):!0});if(t){var n=e.nodes,r=e.source,o=e.newValue,s=n;this.selectionService.setNodesSelected({nodes:s,source:r??"api",newValue:o})}},i.prototype.selectAll=function(e){e===void 0&&(e="apiSelectAll"),this.selectionService.selectAllRowNodes({source:e})},i.prototype.deselectAll=function(e){e===void 0&&(e="apiSelectAll"),this.selectionService.deselectAllRowNodes({source:e})},i.prototype.selectAllFiltered=function(e){e===void 0&&(e="apiSelectAllFiltered"),this.selectionService.selectAllRowNodes({source:e,justFiltered:!0})},i.prototype.deselectAllFiltered=function(e){e===void 0&&(e="apiSelectAllFiltered"),this.selectionService.deselectAllRowNodes({source:e,justFiltered:!0})},i.prototype.getServerSideSelectionState=function(){return ue(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getSelectionState()},i.prototype.setServerSideSelectionState=function(e){if(ue(this.serverSideRowModel)){this.logMissingRowModel("setServerSideSelectionState","serverSide");return}this.selectionService.setSelectionState(e,"api")},i.prototype.selectAllOnCurrentPage=function(e){e===void 0&&(e="apiSelectAllCurrentPage"),this.selectionService.selectAllRowNodes({source:e,justCurrentPage:!0})},i.prototype.deselectAllOnCurrentPage=function(e){e===void 0&&(e="apiSelectAllCurrentPage"),this.selectionService.deselectAllRowNodes({source:e,justCurrentPage:!0})},i.prototype.showLoadingOverlay=function(){this.overlayService.showLoadingOverlay()},i.prototype.showNoRowsOverlay=function(){this.overlayService.showNoRowsOverlay()},i.prototype.hideOverlay=function(){this.overlayService.hideOverlay()},i.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},i.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},i.prototype.getBestCostNodeSelection=function(){if(ue(this.clientSideRowModel)){this.logMissingRowModel("getBestCostNodeSelection","clientSide");return}return this.selectionService.getBestCostNodeSelection()},i.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},i.prototype.ensureColumnVisible=function(e,t){var n=this;t===void 0&&(t="auto"),this.frameworkOverrides.wrapIncoming(function(){return n.gridBodyCtrl.getScrollFeature().ensureColumnVisible(e,t)})},i.prototype.ensureIndexVisible=function(e,t){var n=this;this.frameworkOverrides.wrapIncoming(function(){return n.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e,t)})},i.prototype.ensureNodeVisible=function(e,t){var n=this;t===void 0&&(t=null),this.frameworkOverrides.wrapIncoming(function(){return n.gridBodyCtrl.getScrollFeature().ensureNodeVisible(e,t)})},i.prototype.forEachLeafNode=function(e){if(ue(this.clientSideRowModel)){this.logMissingRowModel("forEachLeafNode","clientSide");return}this.clientSideRowModel.forEachLeafNode(e)},i.prototype.forEachNode=function(e,t){this.rowModel.forEachNode(e,t)},i.prototype.forEachNodeAfterFilter=function(e){if(ue(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilter","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilter(e)},i.prototype.forEachNodeAfterFilterAndSort=function(e){if(ue(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilterAndSort(e)},i.prototype.getFilterInstance=function(e,t){return this.filterManager.getFilterInstance(e,t)},i.prototype.getColumnFilterInstance=function(e){return this.filterManager.getColumnFilterInstance(e)},i.prototype.destroyFilter=function(e){var t=this.columnModel.getPrimaryColumn(e);if(t)return this.filterManager.destroyFilter(t,"api")},i.prototype.getStatusPanel=function(e){if(lt.__assertRegistered(re.StatusBarModule,"api.getStatusPanel",this.context.getGridId())){var t=this.statusBarService.getStatusPanel(e);return nu(t)}},i.prototype.getColumnDef=function(e){var t=this.columnModel.getPrimaryColumn(e);return t?t.getColDef():null},i.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},i.prototype.onFilterChanged=function(e){e===void 0&&(e="api"),this.filterManager.onFilterChanged({source:e})},i.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},i.prototype.setFilterModel=function(e){var t=this;this.frameworkOverrides.wrapIncoming(function(){return t.filterManager.setFilterModel(e)})},i.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},i.prototype.getColumnFilterModel=function(e){return this.filterManager.getColumnFilterModel(e)},i.prototype.setColumnFilterModel=function(e,t){return this.filterManager.setColumnFilterModel(e,t)},i.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},i.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},i.prototype.setFocusedCell=function(e,t,n){this.focusService.setFocusedCell({rowIndex:e,column:t,rowPinned:n,forceBrowserFocus:!0})},i.prototype.addRowDropZone=function(e){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(e)},i.prototype.removeRowDropZone=function(e){var t=this.dragAndDropService.findExternalZone(e);t&&this.dragAndDropService.removeDropTarget(t)},i.prototype.getRowDropZoneParams=function(e){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(e)},i.prototype.assertSideBarLoaded=function(e){return lt.__assertRegistered(re.SideBarModule,"api."+e,this.context.getGridId())},i.prototype.isSideBarVisible=function(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarService.getSideBarComp().isDisplayed()},i.prototype.setSideBarVisible=function(e){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarService.getSideBarComp().setDisplayed(e)},i.prototype.setSideBarPosition=function(e){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarService.getSideBarComp().setSideBarPosition(e)},i.prototype.openToolPanel=function(e){this.assertSideBarLoaded("openToolPanel")&&this.sideBarService.getSideBarComp().openToolPanel(e,"api")},i.prototype.closeToolPanel=function(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarService.getSideBarComp().close("api")},i.prototype.getOpenedToolPanel=function(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarService.getSideBarComp().openedItem():null},i.prototype.refreshToolPanel=function(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarService.getSideBarComp().refresh()},i.prototype.isToolPanelShowing=function(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarService.getSideBarComp().isToolPanelShowing()},i.prototype.getToolPanelInstance=function(e){if(this.assertSideBarLoaded("getToolPanelInstance")){var t=this.sideBarService.getSideBarComp().getToolPanelInstance(e);return nu(t)}},i.prototype.getSideBar=function(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarService.getSideBarComp().getDef()},i.prototype.resetRowHeights=function(){if(B(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive()){console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}this.clientSideRowModel.resetRowHeights()}},i.prototype.setRowCount=function(e,t){if(this.serverSideRowModel){if(this.columnModel.isRowGroupEmpty()){this.serverSideRowModel.setRowCount(e,t);return}console.error("AG Grid: setRowCount cannot be used while using row grouping.");return}if(this.infiniteRowModel){this.infiniteRowModel.setRowCount(e,t);return}this.logMissingRowModel("setRowCount","infinite","serverSide")},i.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},i.prototype.getValue=function(e,t){var n=this.columnModel.getPrimaryColumn(e);return ue(n)&&(n=this.columnModel.getGridColumn(e)),ue(n)?null:this.valueService.getValue(n,t)},i.prototype.addEventListener=function(e,t){this.apiEventService.addEventListener(e,t)},i.prototype.addGlobalListener=function(e){this.apiEventService.addGlobalListener(e)},i.prototype.removeEventListener=function(e,t){this.apiEventService.removeEventListener(e,t)},i.prototype.removeGlobalListener=function(e){this.apiEventService.removeGlobalListener(e)},i.prototype.dispatchEvent=function(e){this.eventService.dispatchEvent(e)},i.prototype.destroy=function(){var e="See ".concat(this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed"));if(!this.destroyCalled){var t={type:C.EVENT_GRID_PRE_DESTROYED,state:this.getState()};this.dispatchEvent(t),this.destroyCalled=!0;var n=this.ctrlsService.getGridCtrl();n&&n.destroyGridUi(),this.context.destroy(),SB(this,["isDestroyed"],e)}},i.prototype.isDestroyed=function(){return this.destroyCalled},i.prototype.resetQuickFilter=function(){this.filterManager.resetQuickFilterCache()},i.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(lt.__assertRegistered(re.RangeSelectionModule,"api.getCellRanges",this.context.getGridId()),null)},i.prototype.addCellRange=function(e){if(this.rangeService){this.rangeService.addCellRange(e);return}lt.__assertRegistered(re.RangeSelectionModule,"api.addCellRange",this.context.getGridId())},i.prototype.clearRangeSelection=function(){this.rangeService&&this.rangeService.removeAllCellRanges(),lt.__assertRegistered(re.RangeSelectionModule,"gridApi.clearRangeSelection",this.context.getGridId())},i.prototype.undoCellEditing=function(){this.undoRedoService.undo("api")},i.prototype.redoCellEditing=function(){this.undoRedoService.redo("api")},i.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},i.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},i.prototype.assertChart=function(e,t){if(lt.__assertRegistered(re.GridChartsModule,"api."+e,this.context.getGridId()))return this.frameworkOverrides.wrapIncoming(function(){return t()})},i.prototype.getChartModels=function(){var e=this;return this.assertChart("getChartModels",function(){return e.chartService.getChartModels()})},i.prototype.getChartRef=function(e){var t=this;return this.assertChart("getChartRef",function(){return t.chartService.getChartRef(e)})},i.prototype.getChartImageDataURL=function(e){var t=this;return this.assertChart("getChartImageDataURL",function(){return t.chartService.getChartImageDataURL(e)})},i.prototype.downloadChart=function(e){var t=this;return this.assertChart("downloadChart",function(){return t.chartService.downloadChart(e)})},i.prototype.openChartToolPanel=function(e){var t=this;return this.assertChart("openChartToolPanel",function(){return t.chartService.openChartToolPanel(e)})},i.prototype.closeChartToolPanel=function(e){var t=this;return this.assertChart("closeChartToolPanel",function(){return t.chartService.closeChartToolPanel(e.chartId)})},i.prototype.createRangeChart=function(e){var t=this;return this.assertChart("createRangeChart",function(){return t.chartService.createRangeChart(e)})},i.prototype.createPivotChart=function(e){var t=this;return this.assertChart("createPivotChart",function(){return t.chartService.createPivotChart(e)})},i.prototype.createCrossFilterChart=function(e){var t=this;return this.assertChart("createCrossFilterChart",function(){return t.chartService.createCrossFilterChart(e)})},i.prototype.updateChart=function(e){var t=this;return this.assertChart("updateChart",function(){return t.chartService.updateChart(e)})},i.prototype.restoreChart=function(e,t){var n=this;return this.assertChart("restoreChart",function(){return n.chartService.restoreChart(e,t)})},i.prototype.assertClipboard=function(e,t){lt.__assertRegistered(re.ClipboardModule,"api"+e,this.context.getGridId())&&t()},i.prototype.copyToClipboard=function(e){var t=this;this.assertClipboard("copyToClipboard",function(){return t.clipboardService.copyToClipboard(e)})},i.prototype.cutToClipboard=function(e){var t=this;this.assertClipboard("cutToClipboard",function(){return t.clipboardService.cutToClipboard(e)})},i.prototype.copySelectedRowsToClipboard=function(e){var t=this;this.assertClipboard("copySelectedRowsToClipboard",function(){return t.clipboardService.copySelectedRowsToClipboard(e)})},i.prototype.copySelectedRangeToClipboard=function(e){var t=this;this.assertClipboard("copySelectedRangeToClipboard",function(){return t.clipboardService.copySelectedRangeToClipboard(e)})},i.prototype.copySelectedRangeDown=function(){var e=this;this.assertClipboard("copySelectedRangeDown",function(){return e.clipboardService.copyRangeDown()})},i.prototype.pasteFromClipboard=function(){var e=this;this.assertClipboard("pasteFromClipboard",function(){return e.clipboardService.pasteFromClipboard()})},i.prototype.showColumnMenuAfterButtonClick=function(e,t){var n=this.columnModel.getGridColumn(e);this.menuFactory.showMenuAfterButtonClick(n,t,"columnMenu")},i.prototype.showColumnMenuAfterMouseClick=function(e,t){var n=this.columnModel.getGridColumn(e);if(n||(n=this.columnModel.getPrimaryColumn(e)),!n){console.error("AG Grid: column '".concat(e,"' not found"));return}this.menuFactory.showMenuAfterMouseEvent(n,t)},i.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},i.prototype.tabToNextCell=function(e){return this.navigationService.tabToNextCell(!1,e)},i.prototype.tabToPreviousCell=function(e){return this.navigationService.tabToNextCell(!0,e)},i.prototype.getCellRendererInstances=function(e){e===void 0&&(e={});var t=this.rowRenderer.getCellRendererInstances(e),n=t.map(nu);return n},i.prototype.getCellEditorInstances=function(e){e===void 0&&(e={});var t=this.rowRenderer.getCellEditorInstances(e),n=t.map(nu);return n},i.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},i.prototype.stopEditing=function(e){e===void 0&&(e=!1),this.rowRenderer.stopEditing(e)},i.prototype.startEditingCell=function(e){var t=this.columnModel.getGridColumn(e.colKey);if(!t){console.warn("AG Grid: no column found for ".concat(e.colKey));return}var n={rowIndex:e.rowIndex,rowPinned:e.rowPinned||null,column:t},r=e.rowPinned==null;r&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e.rowIndex);var o=this.navigationService.getCellByPosition(n);o&&(this.focusService.isCellFocused(n)||this.focusService.setFocusedCell(n),o.startRowOrCellEdit(e.key))},i.prototype.addAggFunc=function(e,t){this.aggFuncService&&this.aggFuncService.addAggFunc(e,t)},i.prototype.addAggFuncs=function(e){this.aggFuncService&&this.aggFuncService.addAggFuncs(e)},i.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},i.prototype.applyServerSideTransaction=function(e){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransaction","serverSide");return}return this.serverSideTransactionManager.applyTransaction(e)},i.prototype.applyServerSideTransactionAsync=function(e,t){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransactionAsync","serverSide");return}return this.serverSideTransactionManager.applyTransactionAsync(e,t)},i.prototype.applyServerSideRowData=function(e){var t,n,r=(t=e.startRow)!==null&&t!==void 0?t:0,o=(n=e.route)!==null&&n!==void 0?n:[];if(r<0){console.warn("AG Grid: invalid value ".concat(e.startRow," for startRow, the value should be >= 0"));return}this.serverSideRowModel?this.serverSideRowModel.applyRowData(e.successParams,r,o):this.logMissingRowModel("setServerSideDatasource","serverSide")},i.prototype.retryServerSideLoads=function(){if(!this.serverSideRowModel){this.logMissingRowModel("retryServerSideLoads","serverSide");return}this.serverSideRowModel.retryLoads()},i.prototype.flushServerSideAsyncTransactions=function(){if(!this.serverSideTransactionManager){this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide");return}return this.serverSideTransactionManager.flushAsyncTransactions()},i.prototype.applyTransaction=function(e){var t=this;if(!this.clientSideRowModel){this.logMissingRowModel("applyTransaction","clientSide");return}return this.frameworkOverrides.wrapIncoming(function(){return t.clientSideRowModel.updateRowData(e)})},i.prototype.applyTransactionAsync=function(e,t){var n=this;if(!this.clientSideRowModel){this.logMissingRowModel("applyTransactionAsync","clientSide");return}this.frameworkOverrides.wrapIncoming(function(){return n.clientSideRowModel.batchUpdateRowData(e,t)})},i.prototype.flushAsyncTransactions=function(){var e=this;if(!this.clientSideRowModel){this.logMissingRowModel("flushAsyncTransactions","clientSide");return}this.frameworkOverrides.wrapIncoming(function(){return e.clientSideRowModel.flushAsyncTransactions()})},i.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")},i.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")},i.prototype.refreshServerSide=function(e){if(!this.serverSideRowModel){this.logMissingRowModel("refreshServerSide","serverSide");return}this.serverSideRowModel.refreshStore(e)},i.prototype.getServerSideGroupLevelState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])},i.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")},i.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")},i.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},i.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},i.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},i.prototype.getDisplayedRowAtIndex=function(e){return this.rowModel.getRow(e)},i.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},i.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},i.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},i.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},i.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},i.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},i.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},i.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},i.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},i.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},i.prototype.paginationGoToPage=function(e){this.paginationProxy.goToPage(e)},i.prototype.sizeColumnsToFit=function(e){typeof e=="number"?this.columnModel.sizeColumnsToFit(e,"api"):this.gridBodyCtrl.sizeColumnsToFit(e)},i.prototype.setColumnGroupOpened=function(e,t){this.columnModel.setColumnGroupOpened(e,t,"api")},i.prototype.getColumnGroup=function(e,t){return this.columnModel.getColumnGroup(e,t)},i.prototype.getProvidedColumnGroup=function(e){return this.columnModel.getProvidedColumnGroup(e)},i.prototype.getDisplayNameForColumn=function(e,t){return this.columnModel.getDisplayNameForColumn(e,t)||""},i.prototype.getDisplayNameForColumnGroup=function(e,t){return this.columnModel.getDisplayNameForColumnGroup(e,t)||""},i.prototype.getColumn=function(e){return this.columnModel.getPrimaryColumn(e)},i.prototype.getColumns=function(){return this.columnModel.getAllPrimaryColumns()},i.prototype.applyColumnState=function(e){return this.columnModel.applyColumnState(e,"api")},i.prototype.getColumnState=function(){return this.columnModel.getColumnState()},i.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},i.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},i.prototype.setColumnGroupState=function(e){this.columnModel.setColumnGroupState(e,"api")},i.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},i.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},i.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},i.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},i.prototype.getDisplayedColAfter=function(e){return this.columnModel.getDisplayedColAfter(e)},i.prototype.getDisplayedColBefore=function(e){return this.columnModel.getDisplayedColBefore(e)},i.prototype.setColumnVisible=function(e,t){this.columnModel.setColumnVisible(e,t,"api")},i.prototype.setColumnsVisible=function(e,t){this.columnModel.setColumnsVisible(e,t,"api")},i.prototype.setColumnPinned=function(e,t){this.columnModel.setColumnPinned(e,t,"api")},i.prototype.setColumnsPinned=function(e,t){this.columnModel.setColumnsPinned(e,t,"api")},i.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},i.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},i.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},i.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},i.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},i.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},i.prototype.moveColumn=function(e,t){this.columnModel.moveColumn(e,t,"api")},i.prototype.moveColumnByIndex=function(e,t){this.columnModel.moveColumnByIndex(e,t,"api")},i.prototype.moveColumns=function(e,t){this.columnModel.moveColumns(e,t,"api")},i.prototype.moveRowGroupColumn=function(e,t){this.columnModel.moveRowGroupColumn(e,t)},i.prototype.setColumnAggFunc=function(e,t){this.columnModel.setColumnAggFunc(e,t)},i.prototype.setColumnWidth=function(e,t,n,r){n===void 0&&(n=!0),this.columnModel.setColumnWidths([{key:e,newWidth:t}],!1,n,r)},i.prototype.setColumnWidths=function(e,t,n){t===void 0&&(t=!0),this.columnModel.setColumnWidths(e,!1,t,n)},i.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},i.prototype.getPivotResultColumn=function(e,t){return this.columnModel.getSecondaryPivotColumn(e,t)},i.prototype.setValueColumns=function(e){this.columnModel.setValueColumns(e,"api")},i.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},i.prototype.removeValueColumn=function(e){this.columnModel.removeValueColumn(e,"api")},i.prototype.removeValueColumns=function(e){this.columnModel.removeValueColumns(e,"api")},i.prototype.addValueColumn=function(e){this.columnModel.addValueColumn(e,"api")},i.prototype.addValueColumns=function(e){this.columnModel.addValueColumns(e,"api")},i.prototype.setRowGroupColumns=function(e){this.columnModel.setRowGroupColumns(e,"api")},i.prototype.removeRowGroupColumn=function(e){this.columnModel.removeRowGroupColumn(e,"api")},i.prototype.removeRowGroupColumns=function(e){this.columnModel.removeRowGroupColumns(e,"api")},i.prototype.addRowGroupColumn=function(e){this.columnModel.addRowGroupColumn(e,"api")},i.prototype.addRowGroupColumns=function(e){this.columnModel.addRowGroupColumns(e,"api")},i.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},i.prototype.setPivotColumns=function(e){this.columnModel.setPivotColumns(e,"api")},i.prototype.removePivotColumn=function(e){this.columnModel.removePivotColumn(e,"api")},i.prototype.removePivotColumns=function(e){this.columnModel.removePivotColumns(e,"api")},i.prototype.addPivotColumn=function(e){this.columnModel.addPivotColumn(e,"api")},i.prototype.addPivotColumns=function(e){this.columnModel.addPivotColumns(e,"api")},i.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},i.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},i.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},i.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},i.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},i.prototype.autoSizeColumn=function(e,t){return this.columnModel.autoSizeColumn(e,t,"api")},i.prototype.autoSizeColumns=function(e,t){this.columnModel.autoSizeColumns({columns:e,skipHeader:t})},i.prototype.autoSizeAllColumns=function(e){this.columnModel.autoSizeAllColumns(e,"api")},i.prototype.setPivotResultColumns=function(e){this.columnModel.setSecondaryColumns(e,"api")},i.prototype.getPivotResultColumns=function(){return this.columnModel.getSecondaryColumns()},i.prototype.getState=function(){return this.stateService.getState()},i.prototype.getGridOption=function(e){return this.gos.get(e)},i.prototype.setGridOption=function(e,t){var n;this.updateGridOptions((n={},n[e]=t,n))},i.prototype.updateGridOptions=function(e){this.gos.updateGridOptions({options:e})},i.prototype.__internalUpdateGridOptions=function(e){this.gos.updateGridOptions({options:e,source:"gridOptionsUpdated"})},i.prototype.deprecatedUpdateGridOption=function(e,t){Se("set".concat(e.charAt(0).toUpperCase()).concat(e.slice(1,e.length)," is deprecated. Please use 'api.setGridOption('").concat(e,"', newValue)' or 'api.updateGridOptions({ ").concat(e,": newValue })' instead.")),this.setGridOption(e,t)},i.prototype.setPivotMode=function(e){this.deprecatedUpdateGridOption("pivotMode",e)},i.prototype.setPinnedTopRowData=function(e){this.deprecatedUpdateGridOption("pinnedTopRowData",e)},i.prototype.setPinnedBottomRowData=function(e){this.deprecatedUpdateGridOption("pinnedBottomRowData",e)},i.prototype.setPopupParent=function(e){this.deprecatedUpdateGridOption("popupParent",e)},i.prototype.setSuppressModelUpdateAfterUpdateTransaction=function(e){this.deprecatedUpdateGridOption("suppressModelUpdateAfterUpdateTransaction",e)},i.prototype.setDataTypeDefinitions=function(e){this.deprecatedUpdateGridOption("dataTypeDefinitions",e)},i.prototype.setPagination=function(e){this.deprecatedUpdateGridOption("pagination",e)},i.prototype.paginationSetPageSize=function(e){this.deprecatedUpdateGridOption("paginationPageSize",e)},i.prototype.setSideBar=function(e){this.deprecatedUpdateGridOption("sideBar",e)},i.prototype.setSuppressClipboardPaste=function(e){this.deprecatedUpdateGridOption("suppressClipboardPaste",e)},i.prototype.setGroupRemoveSingleChildren=function(e){this.deprecatedUpdateGridOption("groupRemoveSingleChildren",e)},i.prototype.setGroupRemoveLowestSingleChildren=function(e){this.deprecatedUpdateGridOption("groupRemoveLowestSingleChildren",e)},i.prototype.setGroupDisplayType=function(e){this.deprecatedUpdateGridOption("groupDisplayType",e)},i.prototype.setGroupIncludeFooter=function(e){this.deprecatedUpdateGridOption("groupIncludeFooter",e)},i.prototype.setGroupIncludeTotalFooter=function(e){this.deprecatedUpdateGridOption("groupIncludeTotalFooter",e)},i.prototype.setRowClass=function(e){this.deprecatedUpdateGridOption("rowClass",e)},i.prototype.setDeltaSort=function(e){this.deprecatedUpdateGridOption("deltaSort",e)},i.prototype.setSuppressRowDrag=function(e){this.deprecatedUpdateGridOption("suppressRowDrag",e)},i.prototype.setSuppressMoveWhenRowDragging=function(e){this.deprecatedUpdateGridOption("suppressMoveWhenRowDragging",e)},i.prototype.setSuppressRowClickSelection=function(e){this.deprecatedUpdateGridOption("suppressRowClickSelection",e)},i.prototype.setEnableAdvancedFilter=function(e){this.deprecatedUpdateGridOption("enableAdvancedFilter",e)},i.prototype.setIncludeHiddenColumnsInAdvancedFilter=function(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInAdvancedFilter",e)},i.prototype.setAdvancedFilterParent=function(e){this.deprecatedUpdateGridOption("advancedFilterParent",e)},i.prototype.setAdvancedFilterBuilderParams=function(e){this.deprecatedUpdateGridOption("advancedFilterBuilderParams",e)},i.prototype.setQuickFilter=function(e){Se("setQuickFilter is deprecated. Please use 'api.setGridOption('quickFilterText', newValue)' or 'api.updateGridOptions({ quickFilterText: newValue })' instead."),this.gos.updateGridOptions({options:{quickFilterText:e}})},i.prototype.setExcludeHiddenColumnsFromQuickFilter=function(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",!e)},i.prototype.setIncludeHiddenColumnsInQuickFilter=function(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",e)},i.prototype.setQuickFilterParser=function(e){this.deprecatedUpdateGridOption("quickFilterParser",e)},i.prototype.setQuickFilterMatcher=function(e){this.deprecatedUpdateGridOption("quickFilterMatcher",e)},i.prototype.setAlwaysShowHorizontalScroll=function(e){this.deprecatedUpdateGridOption("alwaysShowHorizontalScroll",e)},i.prototype.setAlwaysShowVerticalScroll=function(e){this.deprecatedUpdateGridOption("alwaysShowVerticalScroll",e)},i.prototype.setFunctionsReadOnly=function(e){this.deprecatedUpdateGridOption("functionsReadOnly",e)},i.prototype.setColumnDefs=function(e,t){t===void 0&&(t="api"),Se("setColumnDefs is deprecated. Please use 'api.setGridOption('columnDefs', newValue)' or 'api.updateGridOptions({ columnDefs: newValue })' instead."),this.gos.updateGridOptions({options:{columnDefs:e},source:t})},i.prototype.setAutoGroupColumnDef=function(e,t){t===void 0&&(t="api"),Se("setAutoGroupColumnDef is deprecated. Please use 'api.setGridOption('autoGroupColumnDef', newValue)' or 'api.updateGridOptions({ autoGroupColumnDef: newValue })' instead."),this.gos.updateGridOptions({options:{autoGroupColumnDef:e},source:t})},i.prototype.setDefaultColDef=function(e,t){t===void 0&&(t="api"),Se("setDefaultColDef is deprecated. Please use 'api.setGridOption('defaultColDef', newValue)' or 'api.updateGridOptions({ defaultColDef: newValue })' instead."),this.gos.updateGridOptions({options:{defaultColDef:e},source:t})},i.prototype.setColumnTypes=function(e,t){t===void 0&&(t="api"),Se("setColumnTypes is deprecated. Please use 'api.setGridOption('columnTypes', newValue)' or 'api.updateGridOptions({ columnTypes: newValue })' instead."),this.gos.updateGridOptions({options:{columnTypes:e},source:t})},i.prototype.setTreeData=function(e){this.deprecatedUpdateGridOption("treeData",e)},i.prototype.setServerSideDatasource=function(e){this.deprecatedUpdateGridOption("serverSideDatasource",e)},i.prototype.setCacheBlockSize=function(e){this.deprecatedUpdateGridOption("cacheBlockSize",e)},i.prototype.setDatasource=function(e){this.deprecatedUpdateGridOption("datasource",e)},i.prototype.setViewportDatasource=function(e){this.deprecatedUpdateGridOption("viewportDatasource",e)},i.prototype.setRowData=function(e){this.deprecatedUpdateGridOption("rowData",e)},i.prototype.setEnableCellTextSelection=function(e){this.deprecatedUpdateGridOption("enableCellTextSelection",e)},i.prototype.setHeaderHeight=function(e){this.deprecatedUpdateGridOption("headerHeight",e)},i.prototype.setDomLayout=function(e){this.deprecatedUpdateGridOption("domLayout",e)},i.prototype.setFillHandleDirection=function(e){this.deprecatedUpdateGridOption("fillHandleDirection",e)},i.prototype.setGroupHeaderHeight=function(e){this.deprecatedUpdateGridOption("groupHeaderHeight",e)},i.prototype.setFloatingFiltersHeight=function(e){this.deprecatedUpdateGridOption("floatingFiltersHeight",e)},i.prototype.setPivotHeaderHeight=function(e){this.deprecatedUpdateGridOption("pivotHeaderHeight",e)},i.prototype.setPivotGroupHeaderHeight=function(e){this.deprecatedUpdateGridOption("pivotGroupHeaderHeight",e)},i.prototype.setAnimateRows=function(e){this.deprecatedUpdateGridOption("animateRows",e)},i.prototype.setIsExternalFilterPresent=function(e){this.deprecatedUpdateGridOption("isExternalFilterPresent",e)},i.prototype.setDoesExternalFilterPass=function(e){this.deprecatedUpdateGridOption("doesExternalFilterPass",e)},i.prototype.setNavigateToNextCell=function(e){this.deprecatedUpdateGridOption("navigateToNextCell",e)},i.prototype.setTabToNextCell=function(e){this.deprecatedUpdateGridOption("tabToNextCell",e)},i.prototype.setTabToNextHeader=function(e){this.deprecatedUpdateGridOption("tabToNextHeader",e)},i.prototype.setNavigateToNextHeader=function(e){this.deprecatedUpdateGridOption("navigateToNextHeader",e)},i.prototype.setRowGroupPanelShow=function(e){this.deprecatedUpdateGridOption("rowGroupPanelShow",e)},i.prototype.setGetGroupRowAgg=function(e){this.deprecatedUpdateGridOption("getGroupRowAgg",e)},i.prototype.setGetBusinessKeyForNode=function(e){this.deprecatedUpdateGridOption("getBusinessKeyForNode",e)},i.prototype.setGetChildCount=function(e){this.deprecatedUpdateGridOption("getChildCount",e)},i.prototype.setProcessRowPostCreate=function(e){this.deprecatedUpdateGridOption("processRowPostCreate",e)},i.prototype.setGetRowId=function(e){Se("getRowId is a static property and can no longer be updated.")},i.prototype.setGetRowClass=function(e){this.deprecatedUpdateGridOption("getRowClass",e)},i.prototype.setIsFullWidthRow=function(e){this.deprecatedUpdateGridOption("isFullWidthRow",e)},i.prototype.setIsRowSelectable=function(e){this.deprecatedUpdateGridOption("isRowSelectable",e)},i.prototype.setIsRowMaster=function(e){this.deprecatedUpdateGridOption("isRowMaster",e)},i.prototype.setPostSortRows=function(e){this.deprecatedUpdateGridOption("postSortRows",e)},i.prototype.setGetDocument=function(e){this.deprecatedUpdateGridOption("getDocument",e)},i.prototype.setGetContextMenuItems=function(e){this.deprecatedUpdateGridOption("getContextMenuItems",e)},i.prototype.setGetMainMenuItems=function(e){this.deprecatedUpdateGridOption("getMainMenuItems",e)},i.prototype.setProcessCellForClipboard=function(e){this.deprecatedUpdateGridOption("processCellForClipboard",e)},i.prototype.setSendToClipboard=function(e){this.deprecatedUpdateGridOption("sendToClipboard",e)},i.prototype.setProcessCellFromClipboard=function(e){this.deprecatedUpdateGridOption("processCellFromClipboard",e)},i.prototype.setProcessPivotResultColDef=function(e){this.deprecatedUpdateGridOption("processPivotResultColDef",e)},i.prototype.setProcessPivotResultColGroupDef=function(e){this.deprecatedUpdateGridOption("processPivotResultColGroupDef",e)},i.prototype.setPostProcessPopup=function(e){this.deprecatedUpdateGridOption("postProcessPopup",e)},i.prototype.setInitialGroupOrderComparator=function(e){this.deprecatedUpdateGridOption("initialGroupOrderComparator",e)},i.prototype.setGetChartToolbarItems=function(e){this.deprecatedUpdateGridOption("getChartToolbarItems",e)},i.prototype.setPaginationNumberFormatter=function(e){this.deprecatedUpdateGridOption("paginationNumberFormatter",e)},i.prototype.setGetServerSideGroupLevelParams=function(e){this.deprecatedUpdateGridOption("getServerSideGroupLevelParams",e)},i.prototype.setIsServerSideGroupOpenByDefault=function(e){this.deprecatedUpdateGridOption("isServerSideGroupOpenByDefault",e)},i.prototype.setIsApplyServerSideTransaction=function(e){this.deprecatedUpdateGridOption("isApplyServerSideTransaction",e)},i.prototype.setIsServerSideGroup=function(e){this.deprecatedUpdateGridOption("isServerSideGroup",e)},i.prototype.setGetServerSideGroupKey=function(e){this.deprecatedUpdateGridOption("getServerSideGroupKey",e)},i.prototype.setGetRowStyle=function(e){this.deprecatedUpdateGridOption("getRowStyle",e)},i.prototype.setGetRowHeight=function(e){this.deprecatedUpdateGridOption("getRowHeight",e)},Be([$e("csvCreator")],i.prototype,"csvCreator",void 0),Be([$e("excelCreator")],i.prototype,"excelCreator",void 0),Be([y("rowRenderer")],i.prototype,"rowRenderer",void 0),Be([y("navigationService")],i.prototype,"navigationService",void 0),Be([y("filterManager")],i.prototype,"filterManager",void 0),Be([y("columnModel")],i.prototype,"columnModel",void 0),Be([y("selectionService")],i.prototype,"selectionService",void 0),Be([y("gridOptionsService")],i.prototype,"gos",void 0),Be([y("valueService")],i.prototype,"valueService",void 0),Be([y("alignedGridsService")],i.prototype,"alignedGridsService",void 0),Be([y("eventService")],i.prototype,"eventService",void 0),Be([y("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),Be([y("context")],i.prototype,"context",void 0),Be([y("rowModel")],i.prototype,"rowModel",void 0),Be([y("sortController")],i.prototype,"sortController",void 0),Be([y("paginationProxy")],i.prototype,"paginationProxy",void 0),Be([y("focusService")],i.prototype,"focusService",void 0),Be([y("dragAndDropService")],i.prototype,"dragAndDropService",void 0),Be([$e("rangeService")],i.prototype,"rangeService",void 0),Be([$e("clipboardService")],i.prototype,"clipboardService",void 0),Be([$e("aggFuncService")],i.prototype,"aggFuncService",void 0),Be([y("menuFactory")],i.prototype,"menuFactory",void 0),Be([$e("contextMenuFactory")],i.prototype,"contextMenuFactory",void 0),Be([y("valueCache")],i.prototype,"valueCache",void 0),Be([y("animationFrameService")],i.prototype,"animationFrameService",void 0),Be([$e("statusBarService")],i.prototype,"statusBarService",void 0),Be([$e("chartService")],i.prototype,"chartService",void 0),Be([$e("undoRedoService")],i.prototype,"undoRedoService",void 0),Be([$e("rowNodeBlockLoader")],i.prototype,"rowNodeBlockLoader",void 0),Be([$e("ssrmTransactionManager")],i.prototype,"serverSideTransactionManager",void 0),Be([y("ctrlsService")],i.prototype,"ctrlsService",void 0),Be([y("overlayService")],i.prototype,"overlayService",void 0),Be([$e("sideBarService")],i.prototype,"sideBarService",void 0),Be([y("stateService")],i.prototype,"stateService",void 0),Be([y("expansionService")],i.prototype,"expansionService",void 0),Be([y("apiEventService")],i.prototype,"apiEventService",void 0),Be([y("frameworkOverrides")],i.prototype,"frameworkOverrides",void 0),Be([W],i.prototype,"init",null),i=Be([ee("gridApi")],i),i}(),Soe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Wp=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},zj=function(i){Soe(e,i);function e(){var n=i!==null&&i.apply(this,arguments)||this;return n.quickFilter=null,n.quickFilterParts=null,n}t=e,e.prototype.postConstruct=function(){var n=this;this.addManagedListener(this.eventService,C.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return n.resetQuickFilterCache()}),this.addManagedListener(this.eventService,C.EVENT_NEW_COLUMNS_LOADED,function(){return n.resetQuickFilterCache()}),this.addManagedListener(this.eventService,C.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return n.resetQuickFilterCache()}),this.addManagedListener(this.eventService,C.EVENT_COLUMN_VISIBLE,function(){n.gridOptionsService.get("includeHiddenColumnsInQuickFilter")||n.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",function(r){return n.setQuickFilter(r.currentValue)}),this.addManagedPropertyListener("includeHiddenColumnsInQuickFilter",function(){return n.onIncludeHiddenColumnsInQuickFilterChanged()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.parser=this.gridOptionsService.get("quickFilterParser"),this.matcher=this.gridOptionsService.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],function(){return n.setQuickFilterParserAndMatcher()})},e.prototype.isQuickFilterPresent=function(){return this.quickFilter!==null},e.prototype.doesRowPassQuickFilter=function(n){var r=this,o=this.gridOptionsService.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(o,n):this.quickFilterParts.every(function(s){return o?r.doesRowPassQuickFilterCache(n,s):r.doesRowPassQuickFilterNoCache(n,s)})},e.prototype.resetQuickFilterCache=function(){this.rowModel.forEachNode(function(n){return n.quickFilterAggregateText=null})},e.prototype.setQuickFilterParts=function(){var n=this,r=n.quickFilter,o=n.parser;r?this.quickFilterParts=o?o(r):r.split(" "):this.quickFilterParts=null},e.prototype.parseQuickFilter=function(n){return B(n)?this.gridOptionsService.isRowModelType("clientSide")?n.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},e.prototype.setQuickFilter=function(n){if(n!=null&&typeof n!="string"){console.warn("AG Grid - Grid option quickFilterText only supports string inputs, received: ".concat(typeof n));return}var r=this.parseQuickFilter(n);this.quickFilter!==r&&(this.quickFilter=r,this.setQuickFilterParts(),this.dispatchEvent({type:t.EVENT_QUICK_FILTER_CHANGED}))},e.prototype.setQuickFilterParserAndMatcher=function(){var n=this.gridOptionsService.get("quickFilterParser"),r=this.gridOptionsService.get("quickFilterMatcher"),o=n!==this.parser||r!==this.matcher;this.parser=n,this.matcher=r,o&&(this.setQuickFilterParts(),this.dispatchEvent({type:t.EVENT_QUICK_FILTER_CHANGED}))},e.prototype.onIncludeHiddenColumnsInQuickFilterChanged=function(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchEvent({type:t.EVENT_QUICK_FILTER_CHANGED})},e.prototype.doesRowPassQuickFilterNoCache=function(n,r){var o=this,s=this.columnModel.getAllColumnsForQuickFilter();return s.some(function(a){var l=o.getQuickFilterTextForColumn(a,n);return B(l)&&l.indexOf(r)>=0})},e.prototype.doesRowPassQuickFilterCache=function(n,r){return this.checkGenerateQuickFilterAggregateText(n),n.quickFilterAggregateText.indexOf(r)>=0},e.prototype.doesRowPassQuickFilterMatcher=function(n,r){var o;n?(this.checkGenerateQuickFilterAggregateText(r),o=r.quickFilterAggregateText):o=this.getQuickFilterAggregateText(r);var s=this,a=s.quickFilterParts,l=s.matcher;return l(a,o)},e.prototype.checkGenerateQuickFilterAggregateText=function(n){n.quickFilterAggregateText||(n.quickFilterAggregateText=this.getQuickFilterAggregateText(n))},e.prototype.getQuickFilterTextForColumn=function(n,r){var o=this.valueService.getValue(n,r,!0),s=n.getColDef();if(s.getQuickFilterText){var a=this.gridOptionsService.addGridCommonParams({value:o,node:r,data:r.data,column:n,colDef:s});o=s.getQuickFilterText(a)}return B(o)?o.toString().toUpperCase():null},e.prototype.getQuickFilterAggregateText=function(n){var r=this,o=[],s=this.columnModel.getAllColumnsForQuickFilter();return s.forEach(function(a){var l=r.getQuickFilterTextForColumn(a,n);B(l)&&o.push(l)}),o.join(t.QUICK_FILTER_SEPARATOR)};var t;return e.EVENT_QUICK_FILTER_CHANGED="quickFilterChanged",e.QUICK_FILTER_SEPARATOR=`
`,Wp([y("valueService")],e.prototype,"valueService",void 0),Wp([y("columnModel")],e.prototype,"columnModel",void 0),Wp([y("rowModel")],e.prototype,"rowModel",void 0),Wp([W],e.prototype,"postConstruct",null),e=t=Wp([ee("quickFilterService")],e),e}(j),Eoe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Go=function(){return Go=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},Go.apply(this,arguments)},Po=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},boe=function(i){Eoe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.allColumnFilters=new Map,t.allColumnListeners=new Map,t.activeAggregateFilters=[],t.activeColumnFilters=[],t.processingFilterChange=!1,t.filterModelUpdateQueue=[],t.columnFilterModelUpdateQueue=[],t.advancedFilterModelUpdateQueue=[],t}return e.prototype.init=function(){var t=this,n,r,o;this.addManagedListener(this.eventService,C.EVENT_GRID_COLUMNS_CHANGED,function(){return t.onColumnsChanged()}),this.addManagedListener(this.eventService,C.EVENT_COLUMN_VALUE_CHANGED,function(){return t.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,C.EVENT_COLUMN_PIVOT_CHANGED,function(){return t.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,C.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return t.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,C.EVENT_NEW_COLUMNS_LOADED,function(){return t.updateAdvancedFilterColumns()}),this.addManagedListener(this.eventService,C.EVENT_COLUMN_VISIBLE,function(){return t.updateAdvancedFilterColumns()}),this.addManagedListener(this.eventService,C.EVENT_ROW_DATA_UPDATED,function(){return t.onNewRowsLoaded("rowDataUpdated")}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],function(){t.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",function(){t.updateAggFiltering(),t.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",function(s){return t.setAdvancedFilterModel(s.currentValue)}),this.addManagedListener(this.eventService,C.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,function(s){var a=s.enabled;return t.onAdvancedFilterEnabledChanged(a)}),this.addManagedListener(this.eventService,C.EVENT_DATA_TYPES_INFERRED,function(){return t.processFilterModelUpdateQueue()}),this.addManagedListener(this.quickFilterService,zj.EVENT_QUICK_FILTER_CHANGED,function(){return t.onFilterChanged({source:"quickFilter"})}),this.initialFilterModel=Go({},(o=(r=(n=this.gridOptionsService.get("initialState"))===null||n===void 0?void 0:n.filter)===null||r===void 0?void 0:r.filterModel)!==null&&o!==void 0?o:{})},e.prototype.isExternalFilterPresentCallback=function(){var t=this.gridOptionsService.getCallback("isExternalFilterPresent");return typeof t=="function"?t({}):!1},e.prototype.doesExternalFilterPass=function(t){var n=this.gridOptionsService.get("doesExternalFilterPass");return typeof n=="function"?n(t):!1},e.prototype.setFilterModel=function(t,n){var r=this;if(n===void 0&&(n="api"),this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}if(this.dataTypeService.isPendingInference()){this.filterModelUpdateQueue.push({model:t,source:n});return}var o=[],s=this.getFilterModel();if(t){var a=vO(Object.keys(t));this.allColumnFilters.forEach(function(l,u){var c=t[u];o.push(r.setModelOnFilterWrapper(l.filterPromise,c)),a.delete(u)}),a.forEach(function(l){var u=r.columnModel.getPrimaryColumn(l)||r.columnModel.getGridColumn(l);if(!u){console.warn("AG Grid: setFilterModel() - no column found for colId: "+l);return}if(!u.isFilterAllowed()){console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+l);return}var c=r.getOrCreateFilterWrapper(u,"NO_UI");if(!c){console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+l);return}o.push(r.setModelOnFilterWrapper(c.filterPromise,t[l]))})}else this.allColumnFilters.forEach(function(l){o.push(r.setModelOnFilterWrapper(l.filterPromise,null))});Tr.all(o).then(function(){var l=r.getFilterModel(),u=[];r.allColumnFilters.forEach(function(c,d){var h=s?s[d]:null,p=l?l[d]:null;Te.jsonEquals(h,p)||u.push(c.column)}),u.length>0&&r.onFilterChanged({columns:u,source:n})})},e.prototype.setModelOnFilterWrapper=function(t,n){return new Tr(function(r){t.then(function(o){typeof o.setModel!="function"&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),r()),(o.setModel(n)||Tr.resolve()).then(function(){return r()})})})},e.prototype.getFilterModel=function(){var t=this,n={};return this.allColumnFilters.forEach(function(r,o){var s=t.getModelFromFilterWrapper(r);B(s)&&(n[o]=s)}),n},e.prototype.getModelFromFilterWrapper=function(t){var n,r=t.filterPromise,o=r.resolveNow(null,function(s){return s});return o==null?(n=this.initialFilterModel[t.column.getColId()])!==null&&n!==void 0?n:null:typeof o.getModel!="function"?(console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel"),null):o.getModel()},e.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},e.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},e.prototype.isExternalFilterPresent=function(){return this.externalFilterPresent},e.prototype.isChildFilterPresent=function(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()},e.prototype.isAdvancedFilterPresent=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()},e.prototype.onAdvancedFilterEnabledChanged=function(t){var n=this,r;t?this.allColumnFilters.size&&(this.allColumnFilters.forEach(function(o){return n.disposeFilterWrapper(o,"advancedFilterEnabled")}),this.onFilterChanged({source:"advancedFilter"})):!((r=this.advancedFilterService)===null||r===void 0)&&r.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))},e.prototype.isAdvancedFilterEnabled=function(){var t;return(t=this.advancedFilterService)===null||t===void 0?void 0:t.isEnabled()},e.prototype.isAdvancedFilterHeaderActive=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()},e.prototype.doAggregateFiltersPass=function(t,n){return this.doColumnFiltersPass(t,n,!0)},e.prototype.updateActiveFilters=function(){var t=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var n=function(s){return s?s.isFilterActive?s.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1):!1},r=!!this.gridOptionsService.getGroupAggFiltering(),o=function(s){var a=!s.isPrimary();if(a)return!0;var l=!t.columnModel.isPivotActive(),u=s.isValueActive();return!u||!l?!1:t.columnModel.isPivotMode()?!0:r};this.allColumnFilters.forEach(function(s){if(s.filterPromise.resolveNow(!1,n)){var a=s.filterPromise.resolveNow(null,function(l){return l});o(s.column)?t.activeAggregateFilters.push(a):t.activeColumnFilters.push(a)}})},e.prototype.updateFilterFlagInColumns=function(t,n){this.allColumnFilters.forEach(function(r){var o=r.filterPromise.resolveNow(!1,function(s){return s.isFilterActive()});r.column.setFilterActive(o,t,n)})},e.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()},e.prototype.doColumnFiltersPass=function(t,n,r){for(var o=t.data,s=t.aggData,a=r?this.activeAggregateFilters:this.activeColumnFilters,l=r?s:o,u=0;u<a.length;u++){var c=a[u];if(!(c==null||c===n)){if(typeof c.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!c.doesFilterPass({node:t,data:l}))return!1}}return!0},e.prototype.resetQuickFilterCache=function(){this.quickFilterService.resetQuickFilterCache()},e.prototype.refreshFiltersForAggregations=function(){var t=this.gridOptionsService.getGroupAggFiltering();t&&this.onFilterChanged()},e.prototype.callOnFilterChangedOutsideRenderCycle=function(t){var n=this,r=function(){return n.onFilterChanged(t)};this.rowRenderer.isRefreshInProgress()?setTimeout(r,0):r()},e.prototype.onFilterChanged=function(t){t===void 0&&(t={});var n=t.source,r=t.filterInstance,o=t.additionalEventAttributes,s=t.columns;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",o),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(function(l){l.filterPromise&&l.filterPromise.then(function(u){u&&u!==r&&u.onAnyFilterChanged&&u.onAnyFilterChanged()})});var a={source:n,type:C.EVENT_FILTER_CHANGED,columns:s||[]};o&&Qi(a,o),this.processingFilterChange=!0,this.eventService.dispatchEvent(a),this.processingFilterChange=!1},e.prototype.isSuppressFlashingCellsBecauseFiltering=function(){var t,n=(t=this.gridOptionsService.get("allowShowChangeAfterFilter"))!==null&&t!==void 0?t:!1;return!n&&this.processingFilterChange},e.prototype.isQuickFilterPresent=function(){return this.quickFilterService.isQuickFilterPresent()},e.prototype.updateAggFiltering=function(){this.aggFiltering=!!this.gridOptionsService.getGroupAggFiltering()},e.prototype.isAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&(this.aggFiltering||this.columnModel.isPivotMode())},e.prototype.isNonAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&!(this.aggFiltering||this.columnModel.isPivotMode())},e.prototype.doesRowPassOtherFilters=function(t,n){return this.doesRowPassFilter({rowNode:n,filterInstanceToSkip:t})},e.prototype.doesRowPassAggregateFilters=function(t){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(t.rowNode)||this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(t.rowNode,t.filterInstanceToSkip))},e.prototype.doesRowPassFilter=function(t){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(t.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(t.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(t.rowNode,t.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(t.rowNode))},e.prototype.onNewRowsLoaded=function(t){this.allColumnFilters.forEach(function(n){n.filterPromise.then(function(r){r.onNewRowsLoaded&&r.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(t,{afterDataChange:!0}),this.updateActiveFilters()},e.prototype.createValueGetter=function(t){var n=this;return function(r){var o=r.node;return n.valueService.getValue(t,o,!0)}},e.prototype.createGetValue=function(t){var n=this;return function(r,o){var s=o?n.columnModel.getGridColumn(o):t;return s?n.valueService.getValue(s,r,!0):void 0}},e.prototype.getFilterComponent=function(t,n,r){var o;if(r===void 0&&(r=!0),r)return((o=this.getOrCreateFilterWrapper(t,n))===null||o===void 0?void 0:o.filterPromise)||null;var s=this.cachedFilter(t);return s?s.filterPromise:null},e.prototype.isFilterActive=function(t){var n=this.cachedFilter(t);return!!n&&n.filterPromise.resolveNow(!1,function(r){return r.isFilterActive()})},e.prototype.getOrCreateFilterWrapper=function(t,n){if(!t.isFilterAllowed())return null;var r=this.cachedFilter(t);return r?n!=="NO_UI"&&this.putIntoGui(r,n):(r=this.createFilterWrapper(t,n),this.setColumnFilterWrapper(t,r)),r},e.prototype.cachedFilter=function(t){return this.allColumnFilters.get(t.getColId())},e.prototype.getDefaultFilter=function(t){var n;if(lt.__isRegistered(re.SetFilterModule,this.context.getGridId()))n="agSetColumnFilter";else{var r=this.dataTypeService.getBaseDataType(t);r==="number"?n="agNumberColumnFilter":r==="date"||r==="dateString"?n="agDateColumnFilter":n="agTextColumnFilter"}return n},e.prototype.getDefaultFloatingFilter=function(t){var n;if(lt.__isRegistered(re.SetFilterModule,this.context.getGridId()))n="agSetColumnFloatingFilter";else{var r=this.dataTypeService.getBaseDataType(t);r==="number"?n="agNumberColumnFloatingFilter":r==="date"||r==="dateString"?n="agDateColumnFloatingFilter":n="agTextColumnFloatingFilter"}return n},e.prototype.createFilterInstance=function(t){var n=this,r=this.getDefaultFilter(t),o=t.getColDef(),s,a=Go(Go({},this.createFilterParams(t,o)),{filterModifiedCallback:function(){return n.filterModifiedCallbackFactory(s,t)()},filterChangedCallback:function(u){return n.filterChangedCallbackFactory(s,t)(u)},doesRowPassOtherFilter:function(u){return n.doesRowPassOtherFilters(s,u)}}),l=this.userComponentFactory.getFilterDetails(o,a,r);return l?{filterPromise:function(){var u=l.newAgStackInstance();return u&&u.then(function(c){return s=c}),u},compDetails:l}:{filterPromise:null,compDetails:null}},e.prototype.createFilterParams=function(t,n){var r=this.gridOptionsService.addGridCommonParams({column:t,colDef:GA(n),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(t),getValue:this.createGetValue(t),doesRowPassOtherFilter:function(){return!0}});return r},e.prototype.createFilterWrapper=function(t,n){var r,o={column:t,filterPromise:null,compiledElement:null,guiPromise:Tr.resolve(null),compDetails:null},s=this.createFilterInstance(t),a=s.filterPromise,l=s.compDetails;return o.filterPromise=(r=a?.())!==null&&r!==void 0?r:null,o.compDetails=l,a&&this.putIntoGui(o,n),o},e.prototype.putIntoGui=function(t,n){var r=this,o=document.createElement("div");o.className="ag-filter",t.guiPromise=new Tr(function(s){t.filterPromise.then(function(a){var l=a.getGui();B(l)||console.warn("AG Grid: getGui method from filter returned ".concat(l,", it should be a DOM element or an HTML template string.")),typeof l=="string"&&(l=bi(l)),o.appendChild(l),s(o);var u={type:C.EVENT_FILTER_OPENED,column:t.column,source:n,eGui:o};r.eventService.dispatchEvent(u)})})},e.prototype.onColumnsChanged=function(){var t=this,n=[];this.allColumnFilters.forEach(function(r,o){var s;r.column.isPrimary()?s=t.columnModel.getPrimaryColumn(o):s=t.columnModel.getGridColumn(o),!s&&(n.push(r.column),t.disposeFilterWrapper(r,"columnChanged"),t.disposeColumnListener(o))}),n.length>0?this.onFilterChanged({columns:n,source:"api"}):this.updateDependantFilters()},e.prototype.updateDependantFilters=function(){var t=this,n=this.columnModel.getGroupAutoColumns();n?.forEach(function(r){r.getColDef().filter==="agGroupColumnFilter"&&t.getOrCreateFilterWrapper(r,"NO_UI")})},e.prototype.isFilterAllowed=function(t){var n,r;if(this.isAdvancedFilterEnabled())return!1;var o=t.isFilterAllowed();if(!o)return!1;var s=this.allColumnFilters.get(t.getColId());return(r=(n=s?.filterPromise)===null||n===void 0?void 0:n.resolveNow(!0,function(a){return typeof a?.isFilterAllowed=="function"?a?.isFilterAllowed():!0}))!==null&&r!==void 0?r:!0},e.prototype.getFloatingFilterCompDetails=function(t,n){var r=this,o=function(d){var h=r.getFilterComponent(t,"NO_UI");h?.then(function(p){d(nu(p))})},s=t.getColDef(),a=Go(Go({},this.createFilterParams(t,s)),{filterChangedCallback:function(){return o(function(d){return r.filterChangedCallbackFactory(d,t)()})}}),l=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(s,xA,a),u=this.userComponentFactory.getDefaultFloatingFilterType(s,function(){return r.getDefaultFloatingFilter(t)});u==null&&(u="agReadOnlyFloatingFilter");var c={column:t,filterParams:l,currentParentModel:function(){return r.getCurrentFloatingFilterParentModel(t)},parentFilterInstance:o,showParentFilter:n,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(s,c,u)},e.prototype.getCurrentFloatingFilterParentModel=function(t){var n=this.getFilterComponent(t,"NO_UI",!1);return n?n.resolveNow(null,function(r){return r&&r.getModel()}):null},e.prototype.destroyFilter=function(t,n){n===void 0&&(n="api");var r=t.getColId(),o=this.allColumnFilters.get(r);this.disposeColumnListener(r),delete this.initialFilterModel[r],o&&(this.disposeFilterWrapper(o,n),this.onFilterChanged({columns:[t],source:"api"}))},e.prototype.disposeColumnListener=function(t){var n=this.allColumnListeners.get(t);n&&(this.allColumnListeners.delete(t),n())},e.prototype.disposeFilterWrapper=function(t,n){var r=this;t.filterPromise.then(function(o){r.getContext().destroyBean(o),t.column.setFilterActive(!1,"filterDestroyed"),r.allColumnFilters.delete(t.column.getColId());var s={type:C.EVENT_FILTER_DESTROYED,source:n,column:t.column};r.eventService.dispatchEvent(s)})},e.prototype.filterModifiedCallbackFactory=function(t,n){var r=this;return function(){var o={type:C.EVENT_FILTER_MODIFIED,column:n,filterInstance:t};r.eventService.dispatchEvent(o)}},e.prototype.filterChangedCallbackFactory=function(t,n){var r=this;return function(o){var s,a=(s=o?.source)!==null&&s!==void 0?s:"api",l={filter:t,additionalEventAttributes:o,columns:[n],source:a};r.callOnFilterChangedOutsideRenderCycle(l)}},e.prototype.checkDestroyFilter=function(t){var n=this,r=this.allColumnFilters.get(t);if(r){var o=r.column,s=(o.isFilterAllowed()?this.createFilterInstance(o):{compDetails:null}).compDetails;if(this.areFilterCompsDifferent(r.compDetails,s)){this.destroyFilter(o,"columnChanged");return}var a=o.getColDef().filterParams;if(!r.filterPromise){this.destroyFilter(o,"columnChanged");return}r.filterPromise.then(function(l){var u=l?.refresh?l.refresh(Go(Go(Go({},n.createFilterParams(o,o.getColDef())),{filterModifiedCallback:n.filterModifiedCallbackFactory(l,o),filterChangedCallback:n.filterChangedCallbackFactory(l,o),doesRowPassOtherFilter:function(c){return n.doesRowPassOtherFilters(l,c)}}),a)):!0;u===!1&&n.destroyFilter(o,"columnChanged")})}},e.prototype.setColumnFilterWrapper=function(t,n){var r=this,o=t.getColId();this.allColumnFilters.set(o,n),this.allColumnListeners.set(o,this.addManagedListener(t,mt.EVENT_COL_DEF_CHANGED,function(){return r.checkDestroyFilter(o)}))},e.prototype.areFilterCompsDifferent=function(t,n){if(!n||!t)return!0;var r=t.componentClass,o=n.componentClass,s=r===o||r?.render&&o?.render&&r.render===o.render;return!s},e.prototype.getAdvancedFilterModel=function(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null},e.prototype.setAdvancedFilterModel=function(t){if(this.isAdvancedFilterEnabled()){if(this.dataTypeService.isPendingInference()){this.advancedFilterModelUpdateQueue.push(t);return}this.advancedFilterService.setModel(t??null),this.onFilterChanged({source:"advancedFilter"})}},e.prototype.showAdvancedFilterBuilder=function(t){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(t,!0)},e.prototype.updateAdvancedFilterColumns=function(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})},e.prototype.hasFloatingFilters=function(){if(this.isAdvancedFilterEnabled())return!1;var t=this.columnModel.getAllGridColumns();return t.some(function(n){return n.getColDef().floatingFilter})},e.prototype.getFilterInstance=function(t,n){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}var r=this.getFilterInstanceImpl(t,function(s){if(n){var a=nu(s);n(a)}}),o=nu(r);return o},e.prototype.getColumnFilterInstance=function(t){var n=this;return new Promise(function(r){n.getFilterInstance(t,function(o){r(o)})})},e.prototype.getFilterInstanceImpl=function(t,n){var r=this.columnModel.getPrimaryColumn(t);if(r){var o=this.getFilterComponent(r,"NO_UI"),s=o&&o.resolveNow(null,function(a){return a});return s?setTimeout(n,0,s):o&&o.then(function(a){n(a)}),s}},e.prototype.warnAdvancedFilters=function(){Se("Column Filter API methods have been disabled as Advanced Filters are enabled.")},e.prototype.setupAdvancedFilterHeaderComp=function(t){var n;(n=this.advancedFilterService)===null||n===void 0||n.getCtrl().setupHeaderComp(t)},e.prototype.getHeaderRowCount=function(){return this.isAdvancedFilterHeaderActive()?1:0},e.prototype.getHeaderHeight=function(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0},e.prototype.processFilterModelUpdateQueue=function(){var t=this;this.filterModelUpdateQueue.forEach(function(n){var r=n.model,o=n.source;return t.setFilterModel(r,o)}),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(function(n){var r=n.key,o=n.model,s=n.resolve;t.setColumnFilterModel(r,o).then(function(){return s()})}),this.columnFilterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue.forEach(function(n){return t.setAdvancedFilterModel(n)}),this.advancedFilterModelUpdateQueue=[]},e.prototype.getColumnFilterModel=function(t){var n=this.getFilterWrapper(t);return n?this.getModelFromFilterWrapper(n):null},e.prototype.setColumnFilterModel=function(t,n){if(this.isAdvancedFilterEnabled())return this.warnAdvancedFilters(),Promise.resolve();if(this.dataTypeService.isPendingInference()){var r=function(){},o=new Promise(function(u){r=u});return this.columnFilterModelUpdateQueue.push({key:t,model:n,resolve:r}),o}var s=this.columnModel.getPrimaryColumn(t),a=s?this.getOrCreateFilterWrapper(s,"NO_UI"):null,l=function(u){return new Promise(function(c){u.then(function(d){return c(d)})})};return a?l(this.setModelOnFilterWrapper(a.filterPromise,n)):Promise.resolve()},e.prototype.getFilterWrapper=function(t){var n,r=this.columnModel.getPrimaryColumn(t);return r&&(n=this.cachedFilter(r))!==null&&n!==void 0?n:null},e.prototype.destroy=function(){var t=this;i.prototype.destroy.call(this),this.allColumnFilters.forEach(function(n){return t.disposeFilterWrapper(n,"gridDestroyed")}),this.allColumnListeners.clear()},Po([y("valueService")],e.prototype,"valueService",void 0),Po([y("columnModel")],e.prototype,"columnModel",void 0),Po([y("rowModel")],e.prototype,"rowModel",void 0),Po([y("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Po([y("rowRenderer")],e.prototype,"rowRenderer",void 0),Po([y("dataTypeService")],e.prototype,"dataTypeService",void 0),Po([y("quickFilterService")],e.prototype,"quickFilterService",void 0),Po([$e("advancedFilterService")],e.prototype,"advancedFilterService",void 0),Po([W],e.prototype,"init",null),e=Po([ee("filterManager")],e),e}(j),Doe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),SO=function(i){Doe(e,i);function e(t,n){var r=i.call(this,t)||this;return r.ctrl=n,r}return e.prototype.getCtrl=function(){return this.ctrl},e}(be),Roe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zp=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Toe=function(i){Roe(e,i);function e(t){return i.call(this,e.TEMPLATE,t)||this}return e.prototype.postConstruct=function(){var t=this,n=this.getGui(),r={addOrRemoveCssClass:function(o,s){return t.addOrRemoveCssClass(o,s)},addOrRemoveBodyCssClass:function(o,s){return t.eFloatingFilterBody.classList.toggle(o,s)},setButtonWrapperDisplayed:function(o){return qe(t.eButtonWrapper,o)},setCompDetails:function(o){return t.setCompDetails(o)},getFloatingFilterComp:function(){return t.compPromise},setWidth:function(o){return n.style.width=o},setMenuIcon:function(o){return t.eButtonShowMainFilter.appendChild(o)}};this.ctrl.setComp(r,n,this.eButtonShowMainFilter,this.eFloatingFilterBody)},e.prototype.setCompDetails=function(t){var n=this;if(!t){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=t.newAgStackInstance(),this.compPromise.then(function(r){return n.afterCompCreated(r)})},e.prototype.destroyFloatingFilterComp=function(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))},e.prototype.afterCompCreated=function(t){if(t){if(!this.isAlive()){this.destroyBean(t);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=t,this.eFloatingFilterBody.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached()}},e.TEMPLATE=`<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">
            <div ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`,zp([Z("eFloatingFilterBody")],e.prototype,"eFloatingFilterBody",void 0),zp([Z("eButtonWrapper")],e.prototype,"eButtonWrapper",void 0),zp([Z("eButtonShowMainFilter")],e.prototype,"eButtonShowMainFilter",void 0),zp([W],e.prototype,"postConstruct",null),zp([oi],e.prototype,"destroyFloatingFilterComp",null),e}(SO),Aoe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ooe=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},pn=function(i){return i.AUTO_HEIGHT="ag-layout-auto-height",i.NORMAL="ag-layout-normal",i.PRINT="ag-layout-print",i}(pn||{}),EO=function(i){Aoe(e,i);function e(t){var n=i.call(this)||this;return n.view=t,n}return e.prototype.postConstruct=function(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},e.prototype.updateLayoutClasses=function(){var t=this.getDomLayout(),n={autoHeight:t==="autoHeight",normal:t==="normal",print:t==="print"},r=n.autoHeight?pn.AUTO_HEIGHT:n.print?pn.PRINT:pn.NORMAL;this.view.updateLayoutClasses(r,n)},e.prototype.getDomLayout=function(){var t,n=(t=this.gridOptionsService.get("domLayout"))!==null&&t!==void 0?t:"normal",r=["normal","print","autoHeight"];return r.indexOf(n)===-1?(Se("".concat(n," is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.")),"normal"):n},Ooe([W],e.prototype,"postConstruct",null),e}(j),Ioe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),n_=function(){return n_=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},n_.apply(this,arguments)},Sa=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ri=function(i){return i[i.Vertical=0]="Vertical",i[i.Horizontal=1]="Horizontal",i}(ri||{}),Si=function(i){return i[i.Container=0]="Container",i[i.FakeContainer=1]="FakeContainer",i}(Si||{}),Moe=function(i){Ioe(e,i);function e(t){var n=i.call(this)||this;return n.lastScrollSource=[null,null],n.scrollLeft=-1,n.nextScrollTop=-1,n.scrollTop=-1,n.lastOffsetHeight=-1,n.lastScrollTop=-1,n.eBodyViewport=t,n.resetLastHScrollDebounced=Ar(function(){return n.lastScrollSource[ri.Horizontal]=null},500),n.resetLastVScrollDebounced=Ar(function(){return n.lastScrollSource[ri.Vertical]=null},500),n}return e.prototype.postConstruct=function(){var t=this;this.enableRtl=this.gridOptionsService.get("enableRtl"),this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(n){t.centerRowContainerCtrl=n.centerRowContainerCtrl,t.onDisplayedColumnsWidthChanged(),t.addScrollListener()})},e.prototype.addScrollListener=function(){var t=this.ctrlsService.getFakeHScrollComp(),n=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),t.onScrollCallback(this.onFakeHScroll.bind(this));var r=this.gridOptionsService.get("debounceVerticalScrollbar"),o=r?Ar(this.onVScroll.bind(this),100):this.onVScroll.bind(this),s=r?Ar(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",o),n.onScrollCallback(s)},e.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},e.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(t){var n=this.centerRowContainerCtrl==null;if(!n){t===void 0&&(t=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var r=this.enableRtl?t:-t,o=this.ctrlsService.getTopCenterRowContainerCtrl(),s=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),a=this.ctrlsService.getBottomCenterRowContainerCtrl(),l=this.ctrlsService.getFakeHScrollComp(),u=this.ctrlsService.getHeaderRowContainerCtrl();u.setHorizontalScroll(-r),a.setContainerTranslateX(r),o.setContainerTranslateX(r),s.setContainerTranslateX(r);var c=this.centerRowContainerCtrl.getViewportElement(),d=this.lastScrollSource[ri.Horizontal]===Si.Container;t=Math.abs(t),d?l.setScrollPosition(t):Of(c,t,this.enableRtl)}},e.prototype.isControllingScroll=function(t,n){return this.lastScrollSource[n]==null?(this.lastScrollSource[n]=t,!0):this.lastScrollSource[n]===t},e.prototype.onFakeHScroll=function(){this.isControllingScroll(Si.FakeContainer,ri.Horizontal)&&this.onHScrollCommon(Si.FakeContainer)},e.prototype.onHScroll=function(){this.isControllingScroll(Si.Container,ri.Horizontal)&&this.onHScrollCommon(Si.Container)},e.prototype.onHScrollCommon=function(t){var n=this.centerRowContainerCtrl.getViewportElement(),r=n.scrollLeft;if(!this.shouldBlockScrollUpdate(ri.Horizontal,r,!0)){var o;t===Si.Container?o=Af(n,this.enableRtl):o=this.ctrlsService.getFakeHScrollComp().getScrollPosition(),this.doHorizontalScroll(Math.round(o)),this.resetLastHScrollDebounced()}},e.prototype.onFakeVScroll=function(){this.isControllingScroll(Si.FakeContainer,ri.Vertical)&&this.onVScrollCommon(Si.FakeContainer)},e.prototype.onVScroll=function(){this.isControllingScroll(Si.Container,ri.Vertical)&&this.onVScrollCommon(Si.Container)},e.prototype.onVScrollCommon=function(t){var n;t===Si.Container?n=this.eBodyViewport.scrollTop:n=this.ctrlsService.getFakeVScrollComp().getScrollPosition(),!this.shouldBlockScrollUpdate(ri.Vertical,n,!0)&&(this.animationFrameService.setScrollTop(n),this.nextScrollTop=n,t===Si.Container?this.ctrlsService.getFakeVScrollComp().setScrollPosition(n):this.eBodyViewport.scrollTop=n,this.gridOptionsService.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())},e.prototype.doHorizontalScroll=function(t){var n=this.ctrlsService.getFakeHScrollComp().getScrollPosition();this.scrollLeft===t&&t===n||(this.scrollLeft=t,this.fireScrollEvent(ri.Horizontal),this.horizontallyScrollHeaderCenterAndFloatingCenter(t),this.centerRowContainerCtrl.onHorizontalViewportChanged(!0))},e.prototype.fireScrollEvent=function(t){var n=this,r={type:C.EVENT_BODY_SCROLL,direction:t===ri.Horizontal?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(r),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var o=n_(n_({},r),{type:C.EVENT_BODY_SCROLL_END});n.eventService.dispatchEvent(o)},100)},e.prototype.shouldBlockScrollUpdate=function(t,n,r){return r===void 0&&(r=!1),r&&!Va()?!1:t===ri.Vertical?this.shouldBlockVerticalScroll(n):this.shouldBlockHorizontalScroll(n)},e.prototype.shouldBlockVerticalScroll=function(t){var n=Ff(this.eBodyViewport),r=this.eBodyViewport.scrollHeight;return t<0||t+n>r},e.prototype.shouldBlockHorizontalScroll=function(t){var n=this.centerRowContainerCtrl.getCenterWidth(),r=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&Tf()){if(t>0)return!0}else if(t<0)return!0;return Math.abs(t)+n>r},e.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent(ri.Vertical)},e.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(Si.Container)},e.prototype.scrollGridIfNeeded=function(){var t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),t},e.prototype.setHorizontalScrollPosition=function(t,n){n===void 0&&(n=!1);var r=0,o=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();!n&&this.shouldBlockScrollUpdate(ri.Horizontal,t)&&(this.enableRtl&&Tf()?t=t>0?0:o:t=Math.min(Math.max(t,r),o)),Of(this.centerRowContainerCtrl.getViewportElement(),Math.abs(t),this.enableRtl),this.doHorizontalScroll(t)},e.prototype.setVerticalScrollPosition=function(t){this.eBodyViewport.scrollTop=t},e.prototype.getVScrollPosition=function(){this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight;var t={top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight};return t},e.prototype.getApproximateVScollPosition=function(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()},e.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},e.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},e.prototype.scrollHorizontally=function(t){var n=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(n+t),this.centerRowContainerCtrl.getViewportElement().scrollLeft-n},e.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},e.prototype.ensureNodeVisible=function(t,n){n===void 0&&(n=null);for(var r=this.rowModel.getRowCount(),o=-1,s=0;s<r;s++){var a=this.rowModel.getRow(s);if(typeof t=="function"){var l=t;if(a&&l(a)){o=s;break}}else if(t===a||t===a.data){o=s;break}}o>=0&&this.ensureIndexVisible(o,n)},e.prototype.ensureIndexVisible=function(t,n){var r=this;if(!this.gridOptionsService.isDomLayout("print")){var o=this.paginationProxy.getRowCount();if(typeof t!="number"||t<0||t>=o){console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+t);return}var s=this.gridOptionsService.get("pagination"),a=s&&!this.gridOptionsService.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(function(){a||r.paginationProxy.goToPageWithIndex(t);var l=r.ctrlsService.getGridBodyCtrl(),u=l.getStickyTopHeight(),c=r.paginationProxy.getRow(t),d;do{var h=c.rowTop,p=c.rowHeight,f=r.paginationProxy.getPixelOffset(),g=c.rowTop-f,v=g+c.rowHeight,m=r.getVScrollPosition(),_=r.heightScaler.getDivStretchOffset(),w=m.top+_,S=m.bottom+_,R=S-w,T=r.heightScaler.getScrollPositionForPixel(g),x=r.heightScaler.getScrollPositionForPixel(v-R),A=Math.min((T+x)/2,g),U=w+u>g,q=S<v,$=null;n==="top"?$=T:n==="bottom"?$=x:n==="middle"?$=A:U?$=T-u:q&&($=x),$!==null&&(r.setVerticalScrollPosition($),r.rowRenderer.redraw({afterScroll:!0})),d=h!==c.rowTop||p!==c.rowHeight}while(d);r.animationFrameService.flushAllFrames()})}},e.prototype.ensureColumnVisible=function(t,n){var r=this;n===void 0&&(n="auto");var o=this.columnModel.getGridColumn(t);if(o&&!o.isPinned()&&this.columnModel.isColumnDisplayed(o)){var s=this.getPositionedHorizontalScroll(o,n);this.getFrameworkOverrides().wrapIncoming(function(){s!==null&&r.centerRowContainerCtrl.setCenterViewportScrollLeft(s),r.centerRowContainerCtrl.onHorizontalViewportChanged(),r.animationFrameService.flushAllFrames()})}},e.prototype.setScrollPosition=function(t,n){var r=this;this.getFrameworkOverrides().wrapIncoming(function(){r.centerRowContainerCtrl.setCenterViewportScrollLeft(n),r.setVerticalScrollPosition(t),r.rowRenderer.redraw({afterScroll:!0}),r.animationFrameService.flushAllFrames()})},e.prototype.getPositionedHorizontalScroll=function(t,n){var r=this.isColumnOutsideViewport(t),o=r.columnBeforeStart,s=r.columnAfterEnd,a=this.centerRowContainerCtrl.getCenterWidth()<t.getActualWidth(),l=this.centerRowContainerCtrl.getCenterWidth(),u=this.enableRtl,c=(u?o:s)||a,d=u?s:o;n!=="auto"&&(c=n==="start",d=n==="end");var h=n==="middle";if(c||d||h){var p=this.getColumnBounds(t),f=p.colLeft,g=p.colMiddle,v=p.colRight;return h?g-l/2:c?u?v:f:u?f-l:v-l}return null},e.prototype.isColumnOutsideViewport=function(t){var n=this.getViewportBounds(),r=n.start,o=n.end,s=this.getColumnBounds(t),a=s.colLeft,l=s.colRight,u=this.enableRtl,c=u?r>l:o<l,d=u?o<a:r>a;return{columnBeforeStart:c,columnAfterEnd:d}},e.prototype.getColumnBounds=function(t){var n=this.enableRtl,r=this.columnModel.getBodyContainerWidth(),o=t.getActualWidth(),s=t.getLeft(),a=n?-1:1,l=n?r-s:s,u=l+o*a,c=l+o/2*a;return{colLeft:l,colMiddle:c,colRight:u}},e.prototype.getViewportBounds=function(){var t=this.centerRowContainerCtrl.getCenterWidth(),n=this.centerRowContainerCtrl.getCenterViewportScrollLeft(),r=n,o=t+n;return{start:r,end:o,width:t}},Sa([y("ctrlsService")],e.prototype,"ctrlsService",void 0),Sa([y("animationFrameService")],e.prototype,"animationFrameService",void 0),Sa([y("paginationProxy")],e.prototype,"paginationProxy",void 0),Sa([y("rowModel")],e.prototype,"rowModel",void 0),Sa([y("rowContainerHeightService")],e.prototype,"heightScaler",void 0),Sa([y("rowRenderer")],e.prototype,"rowRenderer",void 0),Sa([y("columnModel")],e.prototype,"columnModel",void 0),Sa([W],e.prototype,"postConstruct",null),e}(j),xoe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),FA=function(){return FA=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},FA.apply(this,arguments)},br=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Poe=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Foe=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},Noe=function(i){xoe(e,i);function e(t){var n=i.call(this)||this;return n.isMultiRowDrag=!1,n.eContainer=t,n}return e.prototype.postConstruct=function(){var t=this;this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(function(){var n=t.ctrlsService.getGridBodyCtrl();t.autoScrollService=new Uj({scrollContainer:n.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return n.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(r){return n.getScrollFeature().setVerticalScrollPosition(r)},onScrollCallback:function(){t.onDragging(t.lastDraggingEvent)}})})},e.prototype.getContainer=function(){return this.eContainer},e.prototype.isInterestedIn=function(t){return t===Xi.RowDrag},e.prototype.getIconName=function(){var t=this.gridOptionsService.get("rowDragManaged");return t&&this.shouldPreventRowMove()?hn.ICON_NOT_ALLOWED:hn.ICON_MOVE},e.prototype.shouldPreventRowMove=function(){var t=this.columnModel.getRowGroupColumns();if(t.length)return!0;var n=this.filterManager.isAnyFilterPresent();if(n)return!0;var r=this.sortController.isSortActive();return!!r},e.prototype.getRowNodes=function(t){var n=this;if(!this.isFromThisGrid(t))return t.dragItem.rowNodes||[];var r=this.gridOptionsService.get("rowDragMultiRow"),o=Foe([],Poe(this.selectionService.getSelectedNodes()),!1).sort(function(a,l){return a.rowIndex==null||l.rowIndex==null?0:n.getRowIndexNumber(a)-n.getRowIndexNumber(l)}),s=t.dragItem.rowNode;return r&&o.indexOf(s)!==-1?(this.isMultiRowDrag=!0,o):(this.isMultiRowDrag=!1,[s])},e.prototype.onDragEnter=function(t){t.dragItem.rowNodes=this.getRowNodes(t),this.dispatchGridEvent(C.EVENT_ROW_DRAG_ENTER,t),this.getRowNodes(t).forEach(function(n){n.setDragging(!0)}),this.onEnterOrDragging(t)},e.prototype.onDragging=function(t){this.onEnterOrDragging(t)},e.prototype.isFromThisGrid=function(t){var n=t.dragSource.dragSourceDomDataKey;return n===this.gridOptionsService.getDomDataKey()},e.prototype.isDropZoneWithinThisGrid=function(t){var n=this.ctrlsService.getGridBodyCtrl(),r=n.getGui(),o=t.dropZoneTarget;return!r.contains(o)},e.prototype.onEnterOrDragging=function(t){this.dispatchGridEvent(C.EVENT_ROW_DRAG_MOVE,t),this.lastDraggingEvent=t;var n=this.mouseEventService.getNormalisedPosition(t).y,r=this.gridOptionsService.get("rowDragManaged");r&&this.doManagedDrag(t,n),this.autoScrollService.check(t.event)},e.prototype.doManagedDrag=function(t,n){var r=this.isFromThisGrid(t),o=this.gridOptionsService.get("rowDragManaged"),s=t.dragItem.rowNodes;o&&this.shouldPreventRowMove()||(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!r?this.isDropZoneWithinThisGrid(t)||this.clientSideRowModel.highlightRowAtPixel(s[0],n):this.moveRows(s,n))},e.prototype.getRowIndexNumber=function(t){return parseInt(Je(t.getRowIndexString().split("-")),10)},e.prototype.moveRowAndClearHighlight=function(t){var n=this,r=this.clientSideRowModel.getLastHighlightedRowNode(),o=r&&r.highlighted===Na.Below,s=this.mouseEventService.getNormalisedPosition(t).y,a=t.dragItem.rowNodes,l=o?1:0;if(this.isFromThisGrid(t))a.forEach(function(d){d.rowTop<s&&(l-=1)}),this.moveRows(a,s,l);else{var u=this.gridOptionsService.getCallback("getRowId"),c=this.clientSideRowModel.getRowIndexAtPixel(s)+1;this.clientSideRowModel.getHighlightPosition(s)===Na.Above&&c--,this.clientSideRowModel.updateRowData({add:a.map(function(d){return d.data}).filter(function(d){return!n.clientSideRowModel.getRowNode(u?u({data:d,level:0}):d.id)}),addIndex:c})}this.clearRowHighlight()},e.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},e.prototype.moveRows=function(t,n,r){r===void 0&&(r=0);var o=this.clientSideRowModel.ensureRowsAtPixel(t,n,r);o&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},e.prototype.addRowDropZone=function(t){var n=this;if(!t.getContainer()){Se("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(t)){console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}var r={getContainer:t.getContainer};t.fromGrid?(t.fromGrid=void 0,r=t):(t.onDragEnter&&(r.onDragEnter=function(o){t.onDragEnter(n.draggingToRowDragEvent(C.EVENT_ROW_DRAG_ENTER,o))}),t.onDragLeave&&(r.onDragLeave=function(o){t.onDragLeave(n.draggingToRowDragEvent(C.EVENT_ROW_DRAG_LEAVE,o))}),t.onDragging&&(r.onDragging=function(o){t.onDragging(n.draggingToRowDragEvent(C.EVENT_ROW_DRAG_MOVE,o))}),t.onDragStop&&(r.onDragStop=function(o){t.onDragStop(n.draggingToRowDragEvent(C.EVENT_ROW_DRAG_END,o))})),this.dragAndDropService.addDropTarget(FA({isInterestedIn:function(o){return o===Xi.RowDrag},getIconName:function(){return hn.ICON_MOVE},external:!0},r))},e.prototype.getRowDropZone=function(t){var n=this,r=this.getContainer.bind(this),o=this.onDragEnter.bind(this),s=this.onDragLeave.bind(this),a=this.onDragging.bind(this),l=this.onDragStop.bind(this);return t?{getContainer:r,onDragEnter:t.onDragEnter?function(u){o(u),t.onDragEnter(n.draggingToRowDragEvent(C.EVENT_ROW_DRAG_ENTER,u))}:o,onDragLeave:t.onDragLeave?function(u){s(u),t.onDragLeave(n.draggingToRowDragEvent(C.EVENT_ROW_DRAG_LEAVE,u))}:s,onDragging:t.onDragging?function(u){a(u),t.onDragging(n.draggingToRowDragEvent(C.EVENT_ROW_DRAG_MOVE,u))}:a,onDragStop:t.onDragStop?function(u){l(u),t.onDragStop(n.draggingToRowDragEvent(C.EVENT_ROW_DRAG_END,u))}:l,fromGrid:!0}:{getContainer:r,onDragEnter:o,onDragLeave:s,onDragging:a,onDragStop:l,fromGrid:!0}},e.prototype.draggingToRowDragEvent=function(t,n){var r=this.mouseEventService.getNormalisedPosition(n).y,o=r>this.paginationProxy.getCurrentPageHeight(),s=-1,a;o||(s=this.rowModel.getRowIndexAtPixel(r),a=this.rowModel.getRow(s));var l;switch(n.vDirection){case Mf.Down:l="down";break;case Mf.Up:l="up";break;default:l=null;break}var u=this.gridOptionsService.addGridCommonParams({type:t,event:n.event,node:n.dragItem.rowNode,nodes:n.dragItem.rowNodes,overIndex:s,overNode:a,y:r,vDirection:l});return u},e.prototype.dispatchGridEvent=function(t,n){var r=this.draggingToRowDragEvent(t,n);this.eventService.dispatchEvent(r)},e.prototype.onDragLeave=function(t){this.dispatchGridEvent(C.EVENT_ROW_DRAG_LEAVE,t),this.stopDragging(t),this.gridOptionsService.get("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(t)&&(this.isMultiRowDrag=!1)},e.prototype.onDragStop=function(t){this.dispatchGridEvent(C.EVENT_ROW_DRAG_END,t),this.stopDragging(t),this.gridOptionsService.get("rowDragManaged")&&(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(t))&&!this.isDropZoneWithinThisGrid(t)&&this.moveRowAndClearHighlight(t)},e.prototype.stopDragging=function(t){this.autoScrollService.ensureCleared(),this.getRowNodes(t).forEach(function(n){n.setDragging(!1)})},br([y("dragAndDropService")],e.prototype,"dragAndDropService",void 0),br([y("rowModel")],e.prototype,"rowModel",void 0),br([y("paginationProxy")],e.prototype,"paginationProxy",void 0),br([y("columnModel")],e.prototype,"columnModel",void 0),br([y("focusService")],e.prototype,"focusService",void 0),br([y("sortController")],e.prototype,"sortController",void 0),br([y("filterManager")],e.prototype,"filterManager",void 0),br([y("selectionService")],e.prototype,"selectionService",void 0),br([y("mouseEventService")],e.prototype,"mouseEventService",void 0),br([y("ctrlsService")],e.prototype,"ctrlsService",void 0),br([$e("rangeService")],e.prototype,"rangeService",void 0),br([W],e.prototype,"postConstruct",null),e}(j),Loe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),mi=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},xf=function(i){return i.ANIMATION_ON="ag-row-animation",i.ANIMATION_OFF="ag-row-no-animation",i}(xf||{}),$j="ag-force-vertical-scroll",koe="ag-selectable",Voe="ag-column-moving",Goe=function(i){Loe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.stickyTopHeight=0,t}return e.prototype.getScrollFeature=function(){return this.bodyScrollFeature},e.prototype.getBodyViewportElement=function(){return this.eBodyViewport},e.prototype.setComp=function(t,n,r,o,s,a){var l=this;this.comp=t,this.eGridBody=n,this.eBodyViewport=r,this.eTop=o,this.eBottom=s,this.eStickyTop=a,this.setCellTextSelection(this.gridOptionsService.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",function(u){return l.setCellTextSelection(u.currentValue)}),this.createManagedBean(new EO(this.comp)),this.bodyScrollFeature=this.createManagedBean(new Moe(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([o,r,s,a]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager.setupAdvancedFilterHeaderComp(o),this.ctrlsService.registerGridBodyCtrl(this)},e.prototype.getComp=function(){return this.comp},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,C.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},e.prototype.addFocusListeners=function(t){var n=this;t.forEach(function(r){n.addManagedListener(r,"focusin",function(o){var s=o.target,a=ru(s,"ag-root",r);r.classList.toggle("ag-has-focus",!a)}),n.addManagedListener(r,"focusout",function(o){var s=o.target,a=o.relatedTarget,l=r.contains(a),u=ru(a,"ag-root",r),c=ru(s,"ag-root",r);c||(!l||u)&&r.classList.remove("ag-has-focus")})})},e.prototype.setColumnMovingCss=function(t){this.comp.setColumnMovingCss(Voe,t)},e.prototype.setCellTextSelection=function(t){t===void 0&&(t=!1),this.comp.setCellSelectableCss(koe,t)},e.prototype.onScrollVisibilityChanged=function(){var t=this,n=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(n),this.setStickyTopWidth(n);var r=n&&this.gridOptionsService.getScrollbarWidth()||0,o=iO()?16:0,s="calc(100% + ".concat(r+o,"px)");this.animationFrameService.requestAnimationFrame(function(){return t.comp.setBodyViewportWidth(s)})},e.prototype.onGridColumnsChanged=function(){var t=this.columnModel.getAllGridColumns();this.comp.setColumnCount(t.length)},e.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(t){if(t.target instanceof HTMLImageElement)return t.preventDefault(),!1})},e.prototype.addStopEditingWhenGridLosesFocus=function(){var t=this;if(this.gridOptionsService.get("stopEditingWhenCellsLoseFocus")){var n=function(o){var s=o.relatedTarget;if(YC(s)===null){t.rowRenderer.stopEditing();return}var a=r.some(function(u){return u.contains(s)})&&t.mouseEventService.isElementInThisGrid(s);if(!a){var l=t.popupService;a=l.getActivePopups().some(function(u){return u.contains(s)})||l.isElementWithinCustomPopup(s)}a||t.rowRenderer.stopEditing()},r=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];r.forEach(function(o){return t.addManagedListener(o,"focusout",n)})}},e.prototype.updateRowCount=function(){var t=this.headerNavigationService.getHeaderRowCount()+this.filterManager.getHeaderRowCount(),n=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,r=n===-1?-1:t+n;this.comp.setRowCount(r)},e.prototype.registerBodyViewportResizeListener=function(t){this.comp.registerBodyViewportResizeListener(t)},e.prototype.setVerticalScrollPaddingVisible=function(t){var n=t?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(n)},e.prototype.isVerticalScrollShowing=function(){var t=this.gridOptionsService.get("alwaysShowVerticalScroll"),n=t?$j:null,r=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(n,t),t||r&&dj(this.eBodyViewport)},e.prototype.setupRowAnimationCssClass=function(){var t=this,n=function(){var r=t.gridOptionsService.isAnimateRows()&&!t.rowContainerHeightService.isStretching(),o=r?xf.ANIMATION_ON:xf.ANIMATION_OFF;t.comp.setRowAnimationCssOnBodyViewport(o,r)};n(),this.addManagedListener(this.eventService,C.EVENT_HEIGHT_SCALE_CHANGED,n),this.addManagedPropertyListener("animateRows",n)},e.prototype.getGridBodyElement=function(){return this.eGridBody},e.prototype.addBodyViewportListener=function(){var t=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",t),this.mockContextMenuForIPad(t),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()},e.prototype.addFullWidthContainerWheelListener=function(){var t=this,n=this.eBodyViewport.querySelector(".ag-full-width-container"),r=this.eBodyViewport.querySelector(".ag-center-cols-viewport");n&&r&&this.addManagedListener(n,"wheel",function(o){return t.onFullWidthContainerWheel(o,r)})},e.prototype.onFullWidthContainerWheel=function(t,n){!t.deltaX||Math.abs(t.deltaY)>Math.abs(t.deltaX)||!this.mouseEventService.isEventFromThisGrid(t)||(t.preventDefault(),n.scrollBy({left:t.deltaX}))},e.prototype.onBodyViewportContextMenu=function(t,n,r){if(!(!t&&!r)){if(this.gridOptionsService.get("preventDefaultOnContextMenu")){var o=t||r;o.preventDefault()}var s=(t||n).target;if(s===this.eBodyViewport||s===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement()){if(!this.contextMenuFactory)return;t?this.contextMenuFactory.onContextMenu(t,null,null,null,null,this.eGridBody):r&&this.contextMenuFactory.onContextMenu(null,r,null,null,null,this.eGridBody)}}},e.prototype.mockContextMenuForIPad=function(t){if(Va()){var n=new Zi(this.eBodyViewport),r=function(o){t(void 0,o.touchStart,o.touchEvent)};this.addManagedListener(n,Zi.EVENT_LONG_TAP,r),this.addDestroyFunc(function(){return n.destroy()})}},e.prototype.onBodyViewportWheel=function(t){this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&t.preventDefault()},e.prototype.onStickyTopWheel=function(t){t.preventDefault(),t.offsetY&&this.scrollVertically(t.deltaY)},e.prototype.getGui=function(){return this.eGridBody},e.prototype.scrollVertically=function(t){var n=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(n+t),this.eBodyViewport.scrollTop-n},e.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new Noe(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},e.prototype.getRowDragFeature=function(){return this.rowDragFeature},e.prototype.onPinnedRowDataChanged=function(){this.setFloatingHeights()},e.prototype.setFloatingHeights=function(){var t=this.pinnedRowModel,n=t.getPinnedTopTotalHeight(),r=t.getPinnedBottomTotalHeight();this.comp.setTopHeight(n),this.comp.setBottomHeight(r),this.comp.setTopDisplay(n?"inherit":"none"),this.comp.setBottomDisplay(r?"inherit":"none"),this.setStickyTopOffsetTop()},e.prototype.setStickyTopHeight=function(t){t===void 0&&(t=0),this.comp.setStickyTopHeight("".concat(t,"px")),this.stickyTopHeight=t},e.prototype.getStickyTopHeight=function(){return this.stickyTopHeight},e.prototype.setStickyTopWidth=function(t){if(!t)this.comp.setStickyTopWidth("100%");else{var n=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - ".concat(n,"px)"))}},e.prototype.onHeaderHeightChanged=function(){this.setStickyTopOffsetTop()},e.prototype.setStickyTopOffsetTop=function(){var t=this.ctrlsService.getGridHeaderCtrl(),n=t.getHeaderHeight()+this.filterManager.getHeaderHeight(),r=this.pinnedRowModel.getPinnedTopTotalHeight(),o=0;n>0&&(o+=n+1),r>0&&(o+=r+1),this.comp.setStickyTopTop("".concat(o,"px"))},e.prototype.sizeColumnsToFit=function(t,n){var r=this,o=this.isVerticalScrollShowing(),s=o?this.gridOptionsService.getScrollbarWidth():0,a=cu(this.eGridBody),l=a-s;if(l>0){this.columnModel.sizeColumnsToFit(l,"sizeColumnsToFit",!1,t);return}n===void 0?window.setTimeout(function(){r.sizeColumnsToFit(t,100)},0):n===100?window.setTimeout(function(){r.sizeColumnsToFit(t,500)},100):n===500?window.setTimeout(function(){r.sizeColumnsToFit(t,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},e.prototype.addScrollEventListener=function(t){this.eBodyViewport.addEventListener("scroll",t,{passive:!0})},e.prototype.removeScrollEventListener=function(t){this.eBodyViewport.removeEventListener("scroll",t)},mi([y("animationFrameService")],e.prototype,"animationFrameService",void 0),mi([y("rowContainerHeightService")],e.prototype,"rowContainerHeightService",void 0),mi([y("ctrlsService")],e.prototype,"ctrlsService",void 0),mi([y("columnModel")],e.prototype,"columnModel",void 0),mi([y("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),mi([$e("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),mi([y("headerNavigationService")],e.prototype,"headerNavigationService",void 0),mi([y("dragAndDropService")],e.prototype,"dragAndDropService",void 0),mi([y("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),mi([y("rowRenderer")],e.prototype,"rowRenderer",void 0),mi([y("popupService")],e.prototype,"popupService",void 0),mi([y("mouseEventService")],e.prototype,"mouseEventService",void 0),mi([y("rowModel")],e.prototype,"rowModel",void 0),mi([y("filterManager")],e.prototype,"filterManager",void 0),e}(j),NA=function(i){return i[i.FILL=0]="FILL",i[i.RANGE=1]="RANGE",i}(NA||{}),Cf=function(i){return i[i.VALUE=0]="VALUE",i[i.DIMENSION=1]="DIMENSION",i}(Cf||{}),$p="ag-cell-range-selected",Hoe="ag-cell-range-chart",Boe="ag-cell-range-single-cell",joe="ag-cell-range-chart-category",Uoe="ag-cell-range-handle",Woe="ag-cell-range-top",zoe="ag-cell-range-right",$oe="ag-cell-range-bottom",qoe="ag-cell-range-left",Koe=function(){function i(e,t){this.beans=e,this.cellCtrl=t}return i.prototype.setComp=function(e,t){this.cellComp=e,this.eGui=t,this.onRangeSelectionChanged()},i.prototype.onRangeSelectionChanged=function(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass($p,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass("".concat($p,"-1"),this.rangeCount===1),this.cellComp.addOrRemoveCssClass("".concat($p,"-2"),this.rangeCount===2),this.cellComp.addOrRemoveCssClass("".concat($p,"-3"),this.rangeCount===3),this.cellComp.addOrRemoveCssClass("".concat($p,"-4"),this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(Hoe,this.hasChartRange),pd(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(Boe,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},i.prototype.updateRangeBorders=function(){var e=this.getRangeBorders(),t=this.isSingleCell(),n=!t&&e.top,r=!t&&e.right,o=!t&&e.bottom,s=!t&&e.left;this.cellComp.addOrRemoveCssClass(Woe,n),this.cellComp.addOrRemoveCssClass(zoe,r),this.cellComp.addOrRemoveCssClass($oe,o),this.cellComp.addOrRemoveCssClass(qoe,s)},i.prototype.isSingleCell=function(){var e=this.beans.rangeService;return this.rangeCount===1&&e&&!e.isMoreThanOneCell()},i.prototype.getHasChartRange=function(){var e=this.beans.rangeService;if(!this.rangeCount||!e)return!1;var t=e.getCellRanges();return t.length>0&&t.every(function(n){return Xr([Cf.DIMENSION,Cf.VALUE],n.type)})},i.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},i.prototype.getRangeBorders=function(){var e=this,t=this.beans.gridOptionsService.get("enableRtl"),n=!1,r=!1,o=!1,s=!1,a=this.cellCtrl.getCellPosition().column,l=this.beans,u=l.rangeService,c=l.columnModel,d,h;t?(d=c.getDisplayedColAfter(a),h=c.getDisplayedColBefore(a)):(d=c.getDisplayedColBefore(a),h=c.getDisplayedColAfter(a));var p=u.getCellRanges().filter(function(_){return u.isCellInSpecificRange(e.cellCtrl.getCellPosition(),_)});d||(s=!0),h||(r=!0);for(var f=0;f<p.length&&!(n&&r&&o&&s);f++){var g=p[f],v=u.getRangeStartRow(g),m=u.getRangeEndRow(g);!n&&this.beans.rowPositionUtils.sameRow(v,this.cellCtrl.getCellPosition())&&(n=!0),!o&&this.beans.rowPositionUtils.sameRow(m,this.cellCtrl.getCellPosition())&&(o=!0),!s&&d&&g.columns.indexOf(d)<0&&(s=!0),!r&&h&&g.columns.indexOf(h)<0&&(r=!0)}return{top:n,right:r,bottom:o,left:s}},i.prototype.refreshHandle=function(){if(this.beans.rangeService){var e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(Uoe,!!this.selectionHandle)}},i.prototype.shouldHaveSelectionHandle=function(){var e=this.beans,t=e.gridOptionsService,n=e.rangeService,r=n.getCellRanges(),o=r.length;if(this.rangeCount<1||o<1)return!1;var s=Je(r),a=this.cellCtrl.getCellPosition(),l=t.get("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),u=t.get("enableRangeHandle"),c=o===1&&!this.cellCtrl.isEditing()&&(l||u);if(this.hasChartRange){var d=r[0].type===Cf.DIMENSION,h=d&&n.isCellInSpecificRange(a,r[0]);this.cellComp.addOrRemoveCssClass(joe,h),c=s.type===Cf.VALUE}return c&&s.endRow!=null&&n.isContiguousRange(s)&&n.isBottomRightCell(s,a)},i.prototype.addSelectionHandle=function(){var e=this.beans,t=e.gridOptionsService,n=e.rangeService,r=Je(n.getCellRanges()).type,o=t.get("enableFillHandle")&&ue(r),s=o?NA.FILL:NA.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==s&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(s)),this.selectionHandle.refresh(this.cellCtrl)},i.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},i}(),Yoe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Qoe=function(i){Yoe(e,i);function e(t,n){var r=i.call(this)||this;return r.cellCtrl=t,r.beans=n,r.column=t.getColumn(),r.rowNode=t.getRowNode(),r.setupColSpan(),r.setupRowSpan(),r}return e.prototype.setupRowSpan=function(){var t=this;this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListener(this.beans.eventService,C.EVENT_NEW_COLUMNS_LOADED,function(){return t.onNewColumnsLoaded()})},e.prototype.setComp=function(t){this.eGui=t,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},e.prototype.onNewColumnsLoaded=function(){var t=this.column.getRowSpan(this.rowNode);this.rowSpan!==t&&(this.rowSpan=t,this.applyRowSpan(!0))},e.prototype.onDisplayColumnsChanged=function(){var t=this.getColSpanningList();Rs(this.colsSpanning,t)||(this.colsSpanning=t,this.onWidthChanged(),this.onLeftChanged())},e.prototype.setupColSpan=function(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,C.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,C.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},e.prototype.onWidthChanged=function(){if(this.eGui){var t=this.getCellWidth();this.eGui.style.width="".concat(t,"px")}},e.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(t,n){return t+n.getActualWidth()},0):this.column.getActualWidth()},e.prototype.getColSpanningList=function(){var t=this.column.getColSpan(this.rowNode),n=[];if(t===1)n.push(this.column);else for(var r=this.column,o=this.column.getPinned(),s=0;r&&s<t&&(n.push(r),r=this.beans.columnModel.getDisplayedColAfter(r),!(!r||ue(r)||o!==r.getPinned()));s++);return n},e.prototype.onLeftChanged=function(){if(this.eGui){var t=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=t+"px"}},e.prototype.getCellLeft=function(){var t;return this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?t=Je(this.colsSpanning):t=this.column,t.getLeft()},e.prototype.modifyLeftForPrintLayout=function(t){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return t;var n=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(this.column.getPinned()==="right"){var r=this.beans.columnModel.getBodyContainerWidth();return n+r+(t||0)}return n+(t||0)},e.prototype.applyRowSpan=function(t){if(!(this.rowSpan===1&&!t)){var n=this.beans.gridOptionsService.getRowHeightAsNumber(),r=n*this.rowSpan;this.eGui.style.height="".concat(r,"px"),this.eGui.style.zIndex="1"}},e.prototype.destroy=function(){i.prototype.destroy.call(this)},e}(j),Zoe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Xoe=function(i){Zoe(e,i);function e(t,n){var r=i.call(this)||this;return r.staticClasses=[],r.cellCtrl=t,r.beans=n,r.column=t.getColumn(),r.rowNode=t.getRowNode(),r}return e.prototype.setComp=function(t){this.cellComp=t,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},e.prototype.applyCellClassRules=function(){var t=this,n=this.column.getColDef(),r=n.cellClassRules,o=this.beans.gridOptionsService.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:n,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(r===this.cellClassRules?void 0:this.cellClassRules,r,o,function(s){return t.cellComp.addOrRemoveCssClass(s,!0)},function(s){return t.cellComp.addOrRemoveCssClass(s,!1)}),this.cellClassRules=r},e.prototype.applyUserStyles=function(){var t=this.column.getColDef();if(t.cellStyle){var n;if(typeof t.cellStyle=="function"){var r=this.beans.gridOptionsService.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:t,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex}),o=t.cellStyle;n=o(r)}else n=t.cellStyle;n&&this.cellComp.setUserStyles(n)}},e.prototype.applyClassesFromColDef=function(){var t=this,n=this.column.getColDef(),r=this.beans.gridOptionsService.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:n,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(function(o){return t.cellComp.addOrRemoveCssClass(o,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(n,r),this.staticClasses.length&&this.staticClasses.forEach(function(o){return t.cellComp.addOrRemoveCssClass(o,!0)})},e.prototype.destroy=function(){i.prototype.destroy.call(this)},e}(j),Joe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),bO=function(i){Joe(e,i);function e(t,n){var r=i.call(this)||this;return r.ctrl=t,r.beans=n,r}return e.prototype.setComp=function(t){this.eGui=t,this.setupTooltip()},e.prototype.setBrowserTooltip=function(t){var n="title";t!=null&&t!=""?this.eGui.setAttribute(n,t):this.eGui.removeAttribute(n)},e.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsService.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?this.setBrowserTooltip(this.tooltip):this.createTooltipFeatureIfNeeded()},e.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},e.prototype.createTooltipFeatureIfNeeded=function(){var t=this,n,r,o,s;if(this.genericTooltipFeature==null){var a={getTooltipParams:function(){return t.getTooltipParams()},getGui:function(){return t.ctrl.getGui()}};this.genericTooltipFeature=this.createManagedBean(new mO(a,(r=(n=this.ctrl).getTooltipShowDelayOverride)===null||r===void 0?void 0:r.call(n),(s=(o=this.ctrl).getTooltipHideDelayOverride)===null||s===void 0?void 0:s.call(o)),this.beans.context)}},e.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.setBrowserTooltip(this.tooltip)},e.prototype.getTooltipParams=function(){var t=this,n=this.ctrl,r=n.getColumn?n.getColumn():void 0,o=n.getColDef?n.getColDef():void 0,s=n.getRowNode?n.getRowNode():void 0;return{location:n.getLocation(),colDef:o,column:r,rowIndex:n.getRowIndex?n.getRowIndex():void 0,node:s,data:s?s.data:void 0,value:this.getTooltipText(),valueFormatted:n.getValueFormatted?n.getValueFormatted():void 0,hideTooltipCallback:function(){return t.genericTooltipFeature.hideTooltip(!0)}}},e.prototype.getTooltipText=function(){return this.tooltip},e.prototype.destroy=function(){i.prototype.destroy.call(this)},e}(j),we=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},qj=function(){function i(){}return i.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)},we([y("resizeObserverService")],i.prototype,"resizeObserverService",void 0),we([y("paginationProxy")],i.prototype,"paginationProxy",void 0),we([y("context")],i.prototype,"context",void 0),we([y("columnApi")],i.prototype,"columnApi",void 0),we([y("gridApi")],i.prototype,"gridApi",void 0),we([y("gridOptionsService")],i.prototype,"gridOptionsService",void 0),we([y("expressionService")],i.prototype,"expressionService",void 0),we([y("environment")],i.prototype,"environment",void 0),we([y("rowRenderer")],i.prototype,"rowRenderer",void 0),we([y("templateService")],i.prototype,"templateService",void 0),we([y("valueService")],i.prototype,"valueService",void 0),we([y("eventService")],i.prototype,"eventService",void 0),we([y("columnModel")],i.prototype,"columnModel",void 0),we([y("headerNavigationService")],i.prototype,"headerNavigationService",void 0),we([y("navigationService")],i.prototype,"navigationService",void 0),we([y("columnAnimationService")],i.prototype,"columnAnimationService",void 0),we([$e("rangeService")],i.prototype,"rangeService",void 0),we([y("focusService")],i.prototype,"focusService",void 0),we([$e("contextMenuFactory")],i.prototype,"contextMenuFactory",void 0),we([y("popupService")],i.prototype,"popupService",void 0),we([y("valueFormatterService")],i.prototype,"valueFormatterService",void 0),we([y("stylingService")],i.prototype,"stylingService",void 0),we([y("columnHoverService")],i.prototype,"columnHoverService",void 0),we([y("userComponentFactory")],i.prototype,"userComponentFactory",void 0),we([y("userComponentRegistry")],i.prototype,"userComponentRegistry",void 0),we([y("animationFrameService")],i.prototype,"animationFrameService",void 0),we([y("dragService")],i.prototype,"dragService",void 0),we([y("dragAndDropService")],i.prototype,"dragAndDropService",void 0),we([y("sortController")],i.prototype,"sortController",void 0),we([y("filterManager")],i.prototype,"filterManager",void 0),we([y("rowContainerHeightService")],i.prototype,"rowContainerHeightService",void 0),we([y("frameworkOverrides")],i.prototype,"frameworkOverrides",void 0),we([y("cellPositionUtils")],i.prototype,"cellPositionUtils",void 0),we([y("rowPositionUtils")],i.prototype,"rowPositionUtils",void 0),we([y("selectionService")],i.prototype,"selectionService",void 0),we([$e("selectionHandleFactory")],i.prototype,"selectionHandleFactory",void 0),we([y("rowCssClassCalculator")],i.prototype,"rowCssClassCalculator",void 0),we([y("rowModel")],i.prototype,"rowModel",void 0),we([y("ctrlsService")],i.prototype,"ctrlsService",void 0),we([y("ctrlsFactory")],i.prototype,"ctrlsFactory",void 0),we([y("agStackComponentsRegistry")],i.prototype,"agStackComponentsRegistry",void 0),we([y("valueCache")],i.prototype,"valueCache",void 0),we([y("rowNodeEventThrottle")],i.prototype,"rowNodeEventThrottle",void 0),we([y("localeService")],i.prototype,"localeService",void 0),we([y("valueParserService")],i.prototype,"valueParserService",void 0),we([y("syncService")],i.prototype,"syncService",void 0),we([W],i.prototype,"postConstruct",null),i=we([ee("beans")],i),i}(),ese=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),tse=function(i){ese(e,i);function e(t,n,r){var o=i.call(this)||this;return o.cellCtrl=t,o.beans=n,o.column=r,o}return e.prototype.onMouseEvent=function(t,n){if(!Jr(n))switch(t){case"click":this.onCellClicked(n);break;case"mousedown":case"touchstart":this.onMouseDown(n);break;case"dblclick":this.onCellDoubleClicked(n);break;case"mouseout":this.onMouseOut(n);break;case"mouseover":this.onMouseOver(n);break}},e.prototype.onCellClicked=function(t){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(t),t.preventDefault();return}var n=this.beans,r=n.eventService,o=n.rangeService,s=n.gridOptionsService,a=t.ctrlKey||t.metaKey;o&&a&&o.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&o.intersectLastRange(!0);var l=this.cellCtrl.createEvent(t,C.EVENT_CELL_CLICKED);r.dispatchEvent(l);var u=this.column.getColDef();u.onCellClicked&&window.setTimeout(function(){return u.onCellClicked(l)},0);var c=(s.get("singleClickEdit")||u.singleClickEdit)&&!s.get("suppressClickEdit");c&&!(t.shiftKey&&o?.getCellRanges().length!=0)&&this.cellCtrl.startRowOrCellEdit()},e.prototype.isDoubleClickOnIPad=function(){if(!Va()||UA("dblclick"))return!1;var t=new Date().getTime(),n=t-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=t,n},e.prototype.onCellDoubleClicked=function(t){var n=this.column.getColDef(),r=this.cellCtrl.createEvent(t,C.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(r),typeof n.onCellDoubleClicked=="function"&&window.setTimeout(function(){return n.onCellDoubleClicked(r)},0);var o=!this.beans.gridOptionsService.get("singleClickEdit")&&!this.beans.gridOptionsService.get("suppressClickEdit");o&&this.cellCtrl.startRowOrCellEdit(null,t)},e.prototype.onMouseDown=function(t){var n=t.ctrlKey,r=t.metaKey,o=t.shiftKey,s=t.target,a=this,l=a.cellCtrl,u=a.beans,c=u.eventService,d=u.rangeService,h=u.focusService;if(!this.isRightClickInExistingRange(t)){var p=d&&d.getCellRanges().length!=0;if(!o||!p){var f=eo()&&!l.isEditing()&&!sO(s);l.focusCell(f)}if(o&&p&&!h.isCellFocused(l.getCellPosition())){t.preventDefault();var g=h.getFocusedCell();if(g){var v=g.column,m=g.rowIndex,_=g.rowPinned,w=u.rowRenderer.getRowByPosition({rowIndex:m,rowPinned:_}),S=w?.getCellCtrl(v);S?.isEditing()&&S.stopEditing(),h.setFocusedCell({column:v,rowIndex:m,rowPinned:_,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(s)){if(d){var R=this.cellCtrl.getCellPosition();if(o)d.extendLatestRangeToCell(R);else{var T=n||r;d.setRangeToCell(R,T)}}c.dispatchEvent(this.cellCtrl.createEvent(t,C.EVENT_CELL_MOUSE_DOWN))}}},e.prototype.isRightClickInExistingRange=function(t){var n=this.beans.rangeService;if(n){var r=n.isCellInAnyRange(this.cellCtrl.getCellPosition()),o=t.button===2||t.ctrlKey&&this.beans.gridOptionsService.get("allowContextMenuWithControlKey");if(r&&o)return!0}return!1},e.prototype.containsWidget=function(t){return ru(t,"ag-selection-checkbox",3)},e.prototype.onMouseOut=function(t){if(!this.mouseStayingInsideCell(t)){var n=this.cellCtrl.createEvent(t,C.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(n),this.beans.columnHoverService.clearMouseOver()}},e.prototype.onMouseOver=function(t){if(!this.mouseStayingInsideCell(t)){var n=this.cellCtrl.createEvent(t,C.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(n),this.beans.columnHoverService.setMouseOver([this.column])}},e.prototype.mouseStayingInsideCell=function(t){if(!t.target||!t.relatedTarget)return!1;var n=this.cellCtrl.getGui(),r=n.contains(t.target),o=n.contains(t.relatedTarget);return r&&o},e.prototype.destroy=function(){},e}(qj),nse=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ise=function(i){nse(e,i);function e(t,n,r,o,s){var a=i.call(this)||this;return a.cellCtrl=t,a.beans=n,a.rowNode=o,a.rowCtrl=s,a}return e.prototype.setComp=function(t){this.eGui=t},e.prototype.onKeyDown=function(t){var n=t.key;switch(n){case I.ENTER:this.onEnterKeyDown(t);break;case I.F2:this.onF2KeyDown(t);break;case I.ESCAPE:this.onEscapeKeyDown(t);break;case I.TAB:this.onTabKeyDown(t);break;case I.BACKSPACE:case I.DELETE:this.onBackspaceOrDeleteKeyDown(n,t);break;case I.DOWN:case I.UP:case I.RIGHT:case I.LEFT:this.onNavigationKeyDown(t,n);break}},e.prototype.onNavigationKeyDown=function(t,n){this.cellCtrl.isEditing()||(t.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(t):this.beans.navigationService.navigateToNextCell(t,n,this.cellCtrl.getCellPosition(),!0),t.preventDefault())},e.prototype.onShiftRangeSelect=function(t){if(this.beans.rangeService){var n=this.beans.rangeService.extendLatestRangeInDirection(t);n&&this.beans.navigationService.ensureCellVisible(n)}},e.prototype.onTabKeyDown=function(t){this.beans.navigationService.onTabKeyDown(this.cellCtrl,t)},e.prototype.onBackspaceOrDeleteKeyDown=function(t,n){var r=this,o=r.cellCtrl,s=r.beans,a=r.rowNode,l=s.gridOptionsService,u=s.rangeService,c=s.eventService;o.isEditing()||(c.dispatchEvent({type:C.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),yj(t,l.get("enableCellEditingOnBackspace"))?u&&l.get("enableRangeSelection")?u.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"}):o.isCellEditable()&&a.setDataValue(o.getColumn(),null,"cellClear"):o.startRowOrCellEdit(t,n),c.dispatchEvent({type:C.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))},e.prototype.onEnterKeyDown=function(t){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,t.shiftKey);else if(this.beans.gridOptionsService.get("enterNavigatesVertically")){var n=t.shiftKey?I.UP:I.DOWN;this.beans.navigationService.navigateToNextCell(null,n,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(I.ENTER,t),this.cellCtrl.isEditing()&&t.preventDefault()},e.prototype.onF2KeyDown=function(t){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(I.F2,t)},e.prototype.onEscapeKeyDown=function(t){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},e.prototype.processCharacter=function(t){var n=t.target,r=n!==this.eGui;if(!(r||this.cellCtrl.isEditing())){var o=t.key;o===" "?this.onSpaceKeyDown(t):(this.cellCtrl.startRowOrCellEdit(o,t),t.preventDefault())}},e.prototype.onSpaceKeyDown=function(t){var n=this.beans.gridOptionsService;if(!this.cellCtrl.isEditing()&&n.isRowSelection()){var r=this.rowNode.isSelected(),o=!r;if(o||!n.get("suppressRowDeselection")){var s=this.beans.gridOptionsService.get("groupSelectsFiltered"),a=this.rowNode.setSelectedParams({newValue:o,rangeSelect:t.shiftKey,groupSelectsFiltered:s,event:t,source:"spaceKey"});r===void 0&&a===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:t.shiftKey,groupSelectsFiltered:s,event:t,source:"spaceKey"})}}t.preventDefault()},e.prototype.destroy=function(){i.prototype.destroy.call(this)},e}(j),rse=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ose=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},sse=function(i){rse(e,i);function e(t,n,r){var o=i.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return o.rowNode=t,o.column=n,o.eCell=r,o}return e.prototype.postConstruct=function(){var t=this.getGui();t.appendChild(Kt("rowDrag",this.gridOptionsService,null)),this.addGuiEventListener("mousedown",function(n){n.stopPropagation()}),this.addDragSource(),this.checkVisibility()},e.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},e.prototype.onDragStart=function(t){var n=this,r=this.column.getColDef().dndSourceOnRowDrag;t.dataTransfer.setDragImage(this.eCell,0,0);var o=function(){try{var a=JSON.stringify(n.rowNode.data);t.dataTransfer.setData("application/json",a),t.dataTransfer.setData("text/plain",a)}catch{}};if(r){var s=this.gridOptionsService.addGridCommonParams({rowNode:this.rowNode,dragEvent:t});r(s)}else o()},e.prototype.checkVisibility=function(){var t=this.column.isDndSource(this.rowNode);this.setDisplayed(t)},ose([W],e.prototype,"postConstruct",null),e}(be),ase=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},lse=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},use="ag-column-first",cse="ag-column-last",S_=function(){function i(){}return i.getHeaderClassesFromColDef=function(e,t,n,r){return ue(e)?[]:this.getColumnClassesFromCollDef(e.headerClass,e,t,n,r)},i.getToolPanelClassesFromColDef=function(e,t,n,r){return ue(e)?[]:this.getColumnClassesFromCollDef(e.toolPanelClass,e,t,n,r)},i.refreshFirstAndLastStyles=function(e,t,n){e.addOrRemoveCssClass(use,n.isColumnAtEdge(t,"first")),e.addOrRemoveCssClass(cse,n.isColumnAtEdge(t,"last"))},i.getClassParams=function(e,t,n,r){return t.addGridCommonParams({colDef:e,column:n,columnGroup:r})},i.getColumnClassesFromCollDef=function(e,t,n,r,o){if(ue(e))return[];var s;if(typeof e=="function"){var a=this.getClassParams(t,n,r,o);s=e(a)}else s=e;return typeof s=="string"?[s]:Array.isArray(s)?lse([],ase(s),!1):[]},i}(),dse=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),i_=function(){return i_=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},i_.apply(this,arguments)},hse="ag-cell",pse="ag-cell-auto-height",fse="ag-cell-normal-height",gse="ag-cell-focus",vse="ag-cell-first-right-pinned",mse="ag-cell-last-left-pinned",yse="ag-cell-not-inline-editing",Cse="ag-column-hover",_se="ag-cell-wrap-text",wse=0,su=function(i){dse(e,i);function e(t,n,r,o){var s=i.call(this)||this;return s.cellRangeFeature=null,s.cellPositionFeature=null,s.cellCustomStyleFeature=null,s.tooltipFeature=null,s.cellMouseListenerFeature=null,s.cellKeyboardListenerFeature=null,s.suppressRefreshCell=!1,s.onCellCompAttachedFuncs=[],s.column=t,s.rowNode=n,s.beans=r,s.rowCtrl=o,s.instanceId=t.getId()+"-"+wse++,s.column.getColDef(),s.colIdSanitised=tn(s.column.getId()),s.beans.gridOptionsService.get("suppressCellFocus")||(s.tabIndex=-1),s.createCellPosition(),s.addFeatures(),s.updateAndFormatValue(!1),s}return e.prototype.shouldRestoreFocus=function(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)},e.prototype.addFeatures=function(){var t=this;this.cellPositionFeature=new Qoe(this,this.beans),this.addDestroyFunc(function(){var r;(r=t.cellPositionFeature)===null||r===void 0||r.destroy(),t.cellPositionFeature=null}),this.cellCustomStyleFeature=new Xoe(this,this.beans),this.addDestroyFunc(function(){var r;(r=t.cellCustomStyleFeature)===null||r===void 0||r.destroy(),t.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new tse(this,this.beans,this.column),this.addDestroyFunc(function(){var r;(r=t.cellMouseListenerFeature)===null||r===void 0||r.destroy(),t.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new ise(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(function(){var r;(r=t.cellKeyboardListenerFeature)===null||r===void 0||r.destroy(),t.cellKeyboardListenerFeature=null}),this.column.isTooltipEnabled()&&(this.enableTooltipFeature(),this.addDestroyFunc(function(){t.disableTooltipFeature()}));var n=this.beans.rangeService&&this.beans.gridOptionsService.get("enableRangeSelection");n&&(this.cellRangeFeature=new Koe(this.beans,this),this.addDestroyFunc(function(){var r;(r=t.cellRangeFeature)===null||r===void 0||r.destroy(),t.cellRangeFeature=null}))},e.prototype.enableTooltipFeature=function(){var t=this,n=function(){var o=t.column.getColDef(),s=t.rowNode.data;if(o.tooltipField&&B(s))return ld(s,o.tooltipField,t.column.isTooltipFieldContainsDots());var a=o.tooltipValueGetter;return a?a(t.beans.gridOptionsService.addGridCommonParams({location:"cell",colDef:t.column.getColDef(),column:t.column,rowIndex:t.cellPosition.rowIndex,node:t.rowNode,data:t.rowNode.data,value:t.value,valueFormatted:t.valueFormatted})):null},r={getColumn:function(){return t.column},getColDef:function(){return t.column.getColDef()},getRowIndex:function(){return t.cellPosition.rowIndex},getRowNode:function(){return t.rowNode},getGui:function(){return t.getGui()},getLocation:function(){return"cell"},getTooltipValue:n,getValueFormatted:function(){return t.valueFormatted}};this.tooltipFeature=new bO(r,this.beans)},e.prototype.disableTooltipFeature=function(){this.tooltipFeature&&(this.tooltipFeature.destroy(),this.tooltipFeature=null)},e.prototype.setComp=function(t,n,r,o,s){var a,l,u,c;this.cellComp=t,this.eGui=n,this.printLayout=o,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(r),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(a=this.cellPositionFeature)===null||a===void 0||a.setComp(n),(l=this.cellCustomStyleFeature)===null||l===void 0||l.setComp(t),(u=this.tooltipFeature)===null||u===void 0||u.setComp(n),(c=this.cellKeyboardListenerFeature)===null||c===void 0||c.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(t,n),s&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(function(d){return d()}),this.onCellCompAttachedFuncs=[])},e.prototype.setupAutoHeight=function(t){var n=this;if(this.isAutoHeight=this.column.isAutoHeight(),!(!this.isAutoHeight||!t)){var r=t.parentElement,o=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,s=function(u){if(!n.editing&&n.isAlive()){var c=Ga(r),d=c.paddingTop,h=c.paddingBottom,p=c.borderBottomWidth,f=c.borderTopWidth,g=d+h+p+f,v=t.offsetHeight,m=v+g;if(u<5){var _=n.beans.gridOptionsService.getDocument(),w=!_||!_.contains(t),S=m==0;if(w||S){window.setTimeout(function(){return s(u+1)},0);return}}var R=Math.max(m,o);n.rowNode.setRowAutoHeight(R,n.column)}},a=function(){return s(0)};a();var l=this.beans.resizeObserverService.observeResize(t,a);this.addDestroyFunc(function(){l(),n.rowNode.setRowAutoHeight(void 0,n.column)})}},e.prototype.getCellAriaRole=function(){var t;return(t=this.column.getColDef().cellAriaRole)!==null&&t!==void 0?t:"gridcell"},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.getIncludeSelection=function(){return this.includeSelection},e.prototype.getIncludeRowDrag=function(){return this.includeRowDrag},e.prototype.getIncludeDndSource=function(){return this.includeDndSource},e.prototype.getColumnIdSanitised=function(){return this.colIdSanitised},e.prototype.getTabIndex=function(){return this.tabIndex},e.prototype.isCellRenderer=function(){var t=this.column.getColDef();return t.cellRenderer!=null||t.cellRendererSelector!=null},e.prototype.getValueToDisplay=function(){return this.valueFormatted!=null?this.valueFormatted:this.value},e.prototype.showValue=function(t){t===void 0&&(t=!1);var n=this.getValueToDisplay(),r;if(this.isCellRenderer()){var o=this.createCellRendererParams();r=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),o)}this.cellComp.setRenderDetails(r,n,t),this.refreshHandle()},e.prototype.setupControlComps=function(){var t=this.column.getColDef();this.includeSelection=this.isIncludeControl(t.checkboxSelection),this.includeRowDrag=this.isIncludeControl(t.rowDrag),this.includeDndSource=this.isIncludeControl(t.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},e.prototype.isForceWrapper=function(){var t=this.beans.gridOptionsService.get("enableCellTextSelection")||this.column.isAutoHeight();return t},e.prototype.isIncludeControl=function(t){var n=this.rowNode.rowPinned!=null,r=typeof t=="function",o=n?!1:r||t===!0;return o},e.prototype.refreshShouldDestroy=function(){var t=this.column.getColDef(),n=this.includeSelection!=this.isIncludeControl(t.checkboxSelection),r=this.includeRowDrag!=this.isIncludeControl(t.rowDrag),o=this.includeDndSource!=this.isIncludeControl(t.dndSource);return n||r||o},e.prototype.startEditing=function(t,n,r){var o=this;if(t===void 0&&(t=null),n===void 0&&(n=!1),r===void 0&&(r=null),!(!this.isCellEditable()||this.editing)){if(!this.cellComp){this.onCellCompAttachedFuncs.push(function(){o.startEditing(t,n,r)});return}var s=this.createCellEditorParams(t,n),a=this.column.getColDef(),l=this.beans.userComponentFactory.getCellEditorDetails(a,s);this.editCompDetails=l;var u=l?.popupFromSelector!=null?l.popupFromSelector:!!a.cellEditorPopup,c=l?.popupPositionFromSelector!=null?l.popupPositionFromSelector:a.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(l,u,c,this.beans.gridOptionsService.get("reactiveCustomComponents"));var d=this.createEvent(r,C.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(d)}},e.prototype.setEditing=function(t){this.editing!==t&&(this.editing=t,this.refreshHandle())},e.prototype.stopRowOrCellEdit=function(t){t===void 0&&(t=!1),this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.stopEditing(t):this.stopEditing(t)},e.prototype.onPopupEditorClosed=function(){this.isEditing()&&this.stopEditingAndFocus()},e.prototype.takeValueFromCellEditor=function(t){var n={newValueExists:!1};if(t)return n;var r=this.cellComp.getCellEditor();if(!r)return n;var o=r.isCancelAfterEnd&&r.isCancelAfterEnd();if(o)return n;var s=r.getValue();return{newValue:s,newValueExists:!0}},e.prototype.saveNewValue=function(t,n){if(n===t)return!1;this.suppressRefreshCell=!0;var r=this.rowNode.setDataValue(this.column,n,"edit");return this.suppressRefreshCell=!1,r},e.prototype.stopEditing=function(t){if(t===void 0&&(t=!1),!this.editing)return!1;var n=this.takeValueFromCellEditor(t),r=n.newValue,o=n.newValueExists,s=this.rowNode.getValueFromValueService(this.column),a=!1;return o&&(a=this.saveNewValue(s,r)),this.setEditing(!1),this.cellComp.setEditDetails(),this.editCompDetails=void 0,this.updateAndFormatValue(!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(s,r,!t&&!!a),a},e.prototype.dispatchEditingStoppedEvent=function(t,n,r){var o=i_(i_({},this.createEvent(null,C.EVENT_CELL_EDITING_STOPPED)),{oldValue:t,newValue:n,valueChanged:r});this.beans.eventService.dispatchEvent(o)},e.prototype.createCellEditorParams=function(t,n){return this.beans.gridOptionsService.addGridCommonParams({value:this.rowNode.getValueFromValueService(this.column),eventKey:t,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,cellStartedEdit:n,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)})},e.prototype.createCellRendererParams=function(){var t=this,n=this.beans.gridOptionsService.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:function(){return t.rowNode.getValueFromValueService(t.column)},setValue:function(r){return t.beans.valueService.setValue(t.rowNode,t.column,r)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(r,o,s,a){return t.registerRowDragger(r,o,a)}});return n},e.prototype.parseValue=function(t){return this.beans.valueParserService.parseValue(this.column,this.rowNode,t,this.getValue())},e.prototype.setFocusOutOnEditor=function(){if(this.editing){var t=this.cellComp.getCellEditor();t&&t.focusOut&&t.focusOut()}},e.prototype.setFocusInOnEditor=function(){if(this.editing){var t=this.cellComp.getCellEditor();t&&t.focusIn?t.focusIn():this.focusCell(!0)}},e.prototype.onCellChanged=function(t){var n=t.column===this.column;n&&this.refreshCell({})},e.prototype.refreshOrDestroyCell=function(t){var n;this.refreshShouldDestroy()?(n=this.rowCtrl)===null||n===void 0||n.refreshCell(this):this.refreshCell(t)},e.prototype.refreshCell=function(t){var n,r,o;if(!(this.suppressRefreshCell||this.editing)){var s=this.column.getColDef(),a=t!=null&&!!t.newData,l=t!=null&&!!t.suppressFlash||!!s.suppressCellFlash,u=s.field==null&&s.valueGetter==null&&s.showRowGroup==null,c=t&&t.forceRefresh||u||a,d=!!this.cellComp,h=this.updateAndFormatValue(d),p=c||h;if(d){if(p){this.showValue(a);var f=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering(),g=!l&&!f&&(this.beans.gridOptionsService.get("enableCellChangeFlash")||s.enableCellChangeFlash);g&&this.flashCell(),(n=this.cellCustomStyleFeature)===null||n===void 0||n.applyUserStyles(),(r=this.cellCustomStyleFeature)===null||r===void 0||r.applyClassesFromColDef()}this.refreshToolTip(),(o=this.cellCustomStyleFeature)===null||o===void 0||o.applyCellClassRules()}}},e.prototype.stopEditingAndFocus=function(t,n){t===void 0&&(t=!1),n===void 0&&(n=!1),this.stopRowOrCellEdit(),this.focusCell(!0),t||this.navigateAfterEdit(n)},e.prototype.navigateAfterEdit=function(t){var n=this.beans.gridOptionsService.get("enterNavigatesVerticallyAfterEdit");if(n){var r=t?I.UP:I.DOWN;this.beans.navigationService.navigateToNextCell(null,r,this.getCellPosition(),!1)}},e.prototype.flashCell=function(t){var n=t&&t.flashDelay,r=t&&t.fadeDelay;this.animateCell("data-changed",n,r)},e.prototype.animateCell=function(t,n,r){var o=this;if(this.cellComp){var s="ag-cell-".concat(t),a="ag-cell-".concat(t,"-animation"),l=this.beans.gridOptionsService;n||(n=l.get("cellFlashDelay")),B(r)||(r=l.get("cellFadeDelay")),this.cellComp.addOrRemoveCssClass(s,!0),this.cellComp.addOrRemoveCssClass(a,!1),this.beans.frameworkOverrides.wrapIncoming(function(){window.setTimeout(function(){o.isAlive()&&(o.cellComp.addOrRemoveCssClass(s,!1),o.cellComp.addOrRemoveCssClass(a,!0),o.eGui.style.transition="background-color ".concat(r,"ms"),window.setTimeout(function(){o.isAlive()&&(o.cellComp.addOrRemoveCssClass(a,!1),o.eGui.style.transition="")},r))},n)})}},e.prototype.onFlashCells=function(t){if(this.cellComp){var n=this.beans.cellPositionUtils.createId(this.getCellPosition()),r=t.cells[n];r&&this.animateCell("highlight")}},e.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},e.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},e.prototype.formatValue=function(t){var n;return(n=this.callValueFormatter(t))!==null&&n!==void 0?n:t},e.prototype.callValueFormatter=function(t){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,t)},e.prototype.updateAndFormatValue=function(t){var n=this.value,r=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),t?!this.valuesAreEqual(n,this.value)||this.valueFormatted!=r:!0},e.prototype.valuesAreEqual=function(t,n){var r=this.column.getColDef();return r.equals?r.equals(t,n):t===n},e.prototype.getComp=function(){return this.cellComp},e.prototype.getValue=function(){return this.value},e.prototype.getValueFormatted=function(){return this.valueFormatted},e.prototype.addDomData=function(){var t=this,n=this.getGui();this.beans.gridOptionsService.setDomData(n,e.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return t.beans.gridOptionsService.setDomData(n,e.DOM_DATA_KEY_CELL_CTRL,null)})},e.prototype.createEvent=function(t,n){var r=this.beans.gridOptionsService.addGridCommonParams({type:n,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex});return r},e.prototype.processCharacter=function(t){var n;(n=this.cellKeyboardListenerFeature)===null||n===void 0||n.processCharacter(t)},e.prototype.onKeyDown=function(t){var n;(n=this.cellKeyboardListenerFeature)===null||n===void 0||n.onKeyDown(t)},e.prototype.onMouseEvent=function(t,n){var r;(r=this.cellMouseListenerFeature)===null||r===void 0||r.onMouseEvent(t,n)},e.prototype.getGui=function(){return this.eGui},e.prototype.refreshToolTip=function(){var t;(t=this.tooltipFeature)===null||t===void 0||t.refreshToolTip()},e.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},e.prototype.onLeftChanged=function(){var t;this.cellComp&&((t=this.cellPositionFeature)===null||t===void 0||t.onLeftChanged())},e.prototype.onDisplayedColumnsChanged=function(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())},e.prototype.refreshFirstAndLastStyles=function(){var t=this,n=t.cellComp,r=t.column,o=t.beans;S_.refreshFirstAndLastStyles(n,r,o.columnModel)},e.prototype.refreshAriaColIndex=function(){var t=this.beans.columnModel.getAriaColumnIndex(this.column);ZA(this.getGui(),t)},e.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},e.prototype.onWidthChanged=function(){var t;return(t=this.cellPositionFeature)===null||t===void 0?void 0:t.onWidthChanged()},e.prototype.getColumn=function(){return this.column},e.prototype.getRowNode=function(){return this.rowNode},e.prototype.getBeans=function(){return this.beans},e.prototype.isPrintLayout=function(){return this.printLayout},e.prototype.appendChild=function(t){this.eGui.appendChild(t)},e.prototype.refreshHandle=function(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},e.prototype.getCellPosition=function(){return this.cellPosition},e.prototype.isEditing=function(){return this.editing},e.prototype.startRowOrCellEdit=function(t,n){n===void 0&&(n=null),this.cellComp&&(this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(t,this):this.startEditing(t,!0,n))},e.prototype.getRowCtrl=function(){return this.rowCtrl},e.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},e.prototype.updateRangeBordersIfRangeCount=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},e.prototype.onRangeSelectionChanged=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},e.prototype.isRangeSelectionEnabled=function(){return this.cellRangeFeature!=null},e.prototype.focusCell=function(t){t===void 0&&(t=!1),this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:t})},e.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},e.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(vse,t)}},e.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(mse,t)}},e.prototype.onCellFocused=function(t){if(!this.beans.gridOptionsService.get("suppressCellFocus")){var n=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){n&&t?.forceBrowserFocus&&(this.focusEventToRestore=t);return}if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(gse,n),n&&t&&t.forceBrowserFocus){var r=this.cellComp.getFocusableElement();r.focus({preventScroll:!!t.preventScrollOnBrowserFocus})}var o=this.beans.gridOptionsService.get("editType")==="fullRow";!n&&!o&&this.editing&&this.stopRowOrCellEdit()}},e.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:Bo(this.rowNode.rowPinned),column:this.column}},e.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass(hse,!0),this.cellComp.addOrRemoveCssClass(yse,!0);var t=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(pse,t),this.cellComp.addOrRemoveCssClass(fse,!t)},e.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsService.get("columnHoverHighlight")){var t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(Cse,t)}},e.prototype.onColDefChanged=function(){var t,n;if(this.cellComp){var r=this.column.isAutoHeight();r!==this.isAutoHeight&&((t=this.rowCtrl)===null||t===void 0||t.refreshCell(this));var o=this.column.isTooltipEnabled();if(o?(this.disableTooltipFeature(),this.enableTooltipFeature(),(n=this.tooltipFeature)===null||n===void 0||n.setComp(this.eGui)):this.disableTooltipFeature(),this.setWrapText(),!this.editing)this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0});else{var s=this.getCellEditor();if(s?.refresh){var a=this.editCompDetails.params,l=a.eventKey,u=a.cellStartedEdit,c=this.createCellEditorParams(l,u),d=this.column.getColDef(),h=this.beans.userComponentFactory.getCellEditorDetails(d,c);s.refresh(h.params)}}}},e.prototype.setWrapText=function(){var t=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(_se,t)},e.prototype.dispatchCellContextMenuEvent=function(t){var n=this.column.getColDef(),r=this.createEvent(t,C.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(r),n.onCellContextMenu&&window.setTimeout(function(){return n.onCellContextMenu(r)},0)},e.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},e.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},e.prototype.destroy=function(){this.onCellCompAttachedFuncs=[],i.prototype.destroy.call(this)},e.prototype.createSelectionCheckbox=function(){var t=new Bj;return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t},e.prototype.createDndSource=function(){var t=new sse(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(t),t},e.prototype.registerRowDragger=function(t,n,r){var o=this;if(this.customRowDragComp){this.customRowDragComp.setDragElement(t,n);return}var s=this.createRowDragComp(t,n,r);s&&(this.customRowDragComp=s,this.addDestroyFunc(function(){o.beans.context.destroyBean(s),o.customRowDragComp=null}))},e.prototype.createRowDragComp=function(t,n,r){var o=this,s=this.beans.gridOptionsService.get("pagination"),a=this.beans.gridOptionsService.get("rowDragManaged"),l=this.beans.gridOptionsService.isRowModelType("clientSide");if(a){if(!l){Se("managed row dragging is only allowed in the Client Side Row Model");return}if(s){Se("managed row dragging is not possible when doing pagination");return}}var u=new e_(function(){return o.value},this.rowNode,this.column,t,n,r);return this.beans.context.createBean(u),u},e.DOM_DATA_KEY_CELL_CTRL="cellCtrl",e}(j),Sse=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ese=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},BT=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},jT=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},qi=function(i){return i.Normal="Normal",i.FullWidth="FullWidth",i.FullWidthLoading="FullWidthLoading",i.FullWidthGroup="FullWidthGroup",i.FullWidthDetail="FullWidthDetail",i}(qi||{}),bse=0,au=function(i){Sse(e,i);function e(t,n,r,o,s){var a=i.call(this)||this;return a.allRowGuis=[],a.active=!0,a.centerCellCtrls={list:[],map:{}},a.leftCellCtrls={list:[],map:{}},a.rightCellCtrls={list:[],map:{}},a.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},a.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},a.rowDragComps=[],a.lastMouseDownOnDragger=!1,a.emptyStyle={},a.updateColumnListsPending=!1,a.rowId=null,a.businessKeySanitised=null,a.beans=n,a.gridOptionsService=n.gridOptionsService,a.rowNode=t,a.paginationPage=n.paginationProxy.getCurrentPage(),a.useAnimationFrameForCreate=o,a.printLayout=s,a.suppressRowTransform=a.gridOptionsService.get("suppressRowTransform"),a.instanceId=t.id+"-"+bse++,a.rowId=tn(t.id),a.initRowBusinessKey(),a.rowFocused=n.focusService.isRowFocused(a.rowNode.rowIndex,a.rowNode.rowPinned),a.rowLevel=n.rowCssClassCalculator.calculateRowLevel(a.rowNode),a.setRowType(),a.setAnimateFlags(r),a.rowStyles=a.processStylesFromGridOptions(),a.isFullWidth()&&!a.gridOptionsService.get("suppressCellFocus")&&(a.tabIndex=-1),a.addListeners(),a}return e.prototype.initRowBusinessKey=function(){this.businessKeyForNodeFunc=this.gridOptionsService.get("getBusinessKeyForNode"),this.updateRowBusinessKey()},e.prototype.updateRowBusinessKey=function(){if(typeof this.businessKeyForNodeFunc=="function"){var t=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=tn(t)}},e.prototype.getRowId=function(){return this.rowId},e.prototype.getRowStyles=function(){return this.rowStyles},e.prototype.getTabIndex=function(){return this.tabIndex},e.prototype.isSticky=function(){return this.rowNode.sticky},e.prototype.getBeans=function(){return this.beans},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.setComp=function(t,n,r){var o={rowComp:t,element:n,containerType:r};this.allRowGuis.push(o),r===Dn.LEFT?this.leftGui=o:r===Dn.RIGHT?this.rightGui=o:r===Dn.FULL_WIDTH?this.fullWidthGui=o:this.centerGui=o,this.initialiseRowComp(o),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()},e.prototype.unsetComp=function(t){switch(this.allRowGuis=this.allRowGuis.filter(function(n){return n.containerType!==t}),t){case Dn.LEFT:this.leftGui=void 0;break;case Dn.RIGHT:this.rightGui=void 0;break;case Dn.FULL_WIDTH:this.fullWidthGui=void 0;break;case Dn.CENTER:this.centerGui=void 0;break}},e.prototype.isCacheable=function(){return this.rowType===qi.FullWidthDetail&&this.gridOptionsService.get("keepDetailRows")},e.prototype.setCached=function(t){var n=t?"none":"";this.allRowGuis.forEach(function(r){return r.element.style.display=n})},e.prototype.initialiseRowComp=function(t){var n=this,r=this.gridOptionsService;this.listenOnDomOrder(t),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(!1,t),r.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);var o=t.rowComp,s=this.getInitialRowClasses(t.containerType);s.forEach(function(a){return o.addOrRemoveCssClass(a,!0)}),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&Zr(t.element,this.rowNode.expanded==!0),this.setRowCompRowId(o),this.setRowCompRowBusinessKey(o),r.setDomData(t.element,e.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(function(){return r.setDomData(t.element,e.DOM_DATA_KEY_ROW_CTRL,null)}),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t.element),this.isFullWidth()&&this.setupFullWidth(t),r.get("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(function(){n.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()},e.prototype.setRowCompRowBusinessKey=function(t){this.businessKeySanitised!=null&&t.setRowBusinessKey(this.businessKeySanitised)},e.prototype.getBusinessKey=function(){return this.businessKeySanitised},e.prototype.setRowCompRowId=function(t){this.rowId=tn(this.rowNode.id),this.rowId!=null&&t.setRowId(this.rowId)},e.prototype.executeSlideAndFadeAnimations=function(t){var n=this,r=t.containerType,o=this.slideInAnimation[r];o&&(_A(function(){n.onTopChanged()}),this.slideInAnimation[r]=!1);var s=this.fadeInAnimation[r];s&&(_A(function(){t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[r]=!1)},e.prototype.addRowDraggerToRow=function(t){if(this.gridOptionsService.get("enableRangeSelection")){Se("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`");return}var n=this.beans.localeService.getLocaleTextFunc(),r=new e_(function(){return"1 ".concat(n("rowDragRow","row"))},this.rowNode,void 0,t.element,void 0,!0),o=this.createBean(r,this.beans.context);this.rowDragComps.push(o)},e.prototype.setupFullWidth=function(t){var n=this.getPinnedForContainer(t.containerType),r=this.createFullWidthParams(t.element,n);if(!(this.rowType==qi.FullWidthDetail&&!lt.__assertRegistered(re.MasterDetailModule,"cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))){var o;switch(this.rowType){case qi.FullWidthDetail:o=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(r);break;case qi.FullWidthGroup:o=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(r);break;case qi.FullWidthLoading:o=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(r);break;default:o=this.beans.userComponentFactory.getFullWidthCellRendererDetails(r);break}t.rowComp.showFullWidth(o)}},e.prototype.isPrintLayout=function(){return this.printLayout},e.prototype.getFullWidthCellRenderers=function(){var t,n;return this.gridOptionsService.get("embedFullWidthRows")?this.allRowGuis.map(function(r){var o;return(o=r?.rowComp)===null||o===void 0?void 0:o.getFullWidthCellRenderer()}):[(n=(t=this.fullWidthGui)===null||t===void 0?void 0:t.rowComp)===null||n===void 0?void 0:n.getFullWidthCellRenderer()]},e.prototype.getCellElement=function(t){var n=this.getCellCtrl(t);return n?n.getGui():null},e.prototype.executeProcessRowPostCreateFunc=function(){var t=this.gridOptionsService.getCallback("processRowPostCreate");if(!(!t||!this.areAllContainersReady())){var n={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};t(n)}},e.prototype.areAllContainersReady=function(){var t=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),n=!!this.centerGui,r=!!this.rightGui||!this.beans.columnModel.isPinningRight();return t&&n&&r},e.prototype.setRowType=function(){var t=this.rowNode.stub,n=this.rowNode.isFullWidthCell(),r=this.gridOptionsService.get("masterDetail")&&this.rowNode.detail,o=this.beans.columnModel.isPivotMode(),s=!!this.rowNode.group&&!this.rowNode.footer,a=s&&this.gridOptionsService.isGroupUseEntireRow(o);t?this.rowType=qi.FullWidthLoading:r?this.rowType=qi.FullWidthDetail:n?this.rowType=qi.FullWidth:a?this.rowType=qi.FullWidthGroup:this.rowType=qi.Normal},e.prototype.updateColumnLists=function(t,n){var r=this;if(t===void 0&&(t=!1),n===void 0&&(n=!1),!this.isFullWidth()){var o=t||this.gridOptionsService.get("suppressAnimationFrame")||this.printLayout;if(o){this.updateColumnListsImpl(n);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){r.active&&r.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},e.prototype.createCellCtrls=function(t,n,r){var o=this;r===void 0&&(r=null);var s={list:[],map:{}},a=function(l,u){s.list.push(u),s.map[l]=u};return n.forEach(function(l){var u=l.getInstanceId(),c=t.map[u];c||(c=new su(l,o.rowNode,o.beans,o)),a(u,c)}),t.list.forEach(function(l){var u=s.map[l.getColumn().getInstanceId()]!=null;if(!u){var c=!o.isCellEligibleToBeRemoved(l,r);if(c){a(l.getColumn().getInstanceId(),l);return}l.destroy()}}),s},e.prototype.updateColumnListsImpl=function(t){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(t)},e.prototype.setCellCtrls=function(t){var n=this;this.allRowGuis.forEach(function(r){var o=n.getCellCtrlsForContainer(r.containerType);r.rowComp.setCellCtrls(o,t)})},e.prototype.getCellCtrlsForContainer=function(t){switch(t){case Dn.LEFT:return this.leftCellCtrls.list;case Dn.RIGHT:return this.rightCellCtrls.list;case Dn.FULL_WIDTH:return[];case Dn.CENTER:return this.centerCellCtrls.list;default:var n=t;throw new Error("Unhandled case: ".concat(n))}},e.prototype.createAllCellCtrls=function(){var t=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var n=t.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);var r=t.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,"left");var o=t.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,o,"right")}},e.prototype.isCellEligibleToBeRemoved=function(t,n){var r=!0,o=!1,s=t.getColumn();if(s.getPinned()!=n)return r;var a=t.isEditing(),l=this.beans.focusService.isCellFocused(t.getCellPosition()),u=a||l;if(u){var c=t.getColumn(),d=this.beans.columnModel.getAllDisplayedColumns(),h=d.indexOf(c)>=0;return h?o:r}return r},e.prototype.getDomOrder=function(){var t=this.gridOptionsService.get("ensureDomOrder");return t||this.gridOptionsService.isDomLayout("print")},e.prototype.listenOnDomOrder=function(t){var n=this,r=function(){t.rowComp.setDomOrder(n.getDomOrder())};this.addManagedPropertyListener("domLayout",r),this.addManagedPropertyListener("ensureDomOrder",r)},e.prototype.setAnimateFlags=function(t){if(!(this.isSticky()||!t)){var n=B(this.rowNode.oldRowTop),r=this.beans.columnModel.isPinningLeft(),o=this.beans.columnModel.isPinningRight();if(n){if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=r,this.slideInAnimation.right=o}else{if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=r,this.fadeInAnimation.right=o}}},e.prototype.isEditing=function(){return this.editingRow},e.prototype.isFullWidth=function(){return this.rowType!==qi.Normal},e.prototype.getRowType=function(){return this.rowType},e.prototype.refreshFullWidth=function(){var t=this,n=function(u,c){return u?u.rowComp.refreshFullWidth(function(){return t.createFullWidthParams(u.element,c)}):!0},r=n(this.fullWidthGui,null),o=n(this.centerGui,null),s=n(this.leftGui,"left"),a=n(this.rightGui,"right"),l=r&&o&&s&&a;return l},e.prototype.addListeners=function(){var t=this;this.addManagedListener(this.rowNode,Pe.EVENT_HEIGHT_CHANGED,function(){return t.onRowHeightChanged()}),this.addManagedListener(this.rowNode,Pe.EVENT_ROW_SELECTED,function(){return t.onRowSelected()}),this.addManagedListener(this.rowNode,Pe.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,Pe.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,Pe.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Pe.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.rowNode.detail&&this.addManagedListener(this.rowNode.parent,Pe.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Pe.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Pe.EVENT_CELL_CHANGED,this.postProcessCss.bind(this)),this.addManagedListener(this.rowNode,Pe.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,Pe.EVENT_DRAGGING_CHANGED,this.postProcessRowDragging.bind(this)),this.addManagedListener(this.rowNode,Pe.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var n=this.beans.eventService;this.addManagedListener(n,C.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(n,C.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(n,C.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(n,C.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(n,C.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(n,C.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusChanged.bind(this)),this.addManagedListener(n,C.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(n,C.EVENT_MODEL_UPDATED,this.refreshFirstAndLastRowStyles.bind(this)),this.addManagedListener(n,C.EVENT_COLUMN_MOVED,this.updateColumnLists.bind(this)),this.addDestroyFunc(function(){t.destroyBeans(t.rowDragComps,t.beans.context)}),this.addManagedPropertyListeners(["rowDragEntireRow"],function(){var r=t.gridOptionsService.get("rowDragEntireRow");if(r){t.allRowGuis.forEach(function(o){t.addRowDraggerToRow(o)});return}t.destroyBeans(t.rowDragComps,t.beans.context),t.rowDragComps=[]}),this.addListenersForCellComps()},e.prototype.addListenersForCellComps=function(){var t=this;this.addManagedListener(this.rowNode,Pe.EVENT_ROW_INDEX_CHANGED,function(){t.getAllCellCtrls().forEach(function(n){return n.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,Pe.EVENT_CELL_CHANGED,function(n){t.getAllCellCtrls().forEach(function(r){return r.onCellChanged(n)})})},e.prototype.onRowNodeDataChanged=function(t){var n=this,r=this.isFullWidth()!==!!this.rowNode.isFullWidthCell();if(r){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){var o=this.refreshFullWidth();o||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(function(s){return s.refreshCell({suppressFlash:!t.update,newData:!t.update})}),this.allRowGuis.forEach(function(s){n.setRowCompRowId(s.rowComp),n.updateRowBusinessKey(),n.setRowCompRowBusinessKey(s.rowComp)}),this.onRowSelected(),this.postProcessCss()},e.prototype.postProcessCss=function(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},e.prototype.onRowNodeHighlightChanged=function(){var t=this.rowNode.highlighted;this.allRowGuis.forEach(function(n){var r=t===Na.Above,o=t===Na.Below;n.rowComp.addOrRemoveCssClass("ag-row-highlight-above",r),n.rowComp.addOrRemoveCssClass("ag-row-highlight-below",o)})},e.prototype.postProcessRowDragging=function(){var t=this.rowNode.dragging;this.allRowGuis.forEach(function(n){return n.rowComp.addOrRemoveCssClass("ag-row-dragging",t)})},e.prototype.updateExpandedCss=function(){var t=this.rowNode.isExpandable(),n=this.rowNode.expanded==!0;this.allRowGuis.forEach(function(r){r.rowComp.addOrRemoveCssClass("ag-row-group",t),r.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&n),r.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!n),Zr(r.element,t&&n)})},e.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},e.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists(!1,!0)},e.prototype.getRowPosition=function(){return{rowPinned:Bo(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},e.prototype.onKeyboardNavigate=function(t){var n=this.allRowGuis.find(function(u){return u.element.contains(t.target)}),r=n?n.element:null,o=r===t.target;if(o){var s=this.rowNode,a=this.beans.focusService.getFocusedCell(),l={rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:a&&a.column};this.beans.navigationService.navigateToNextCell(t,t.key,l,!0),t.preventDefault()}},e.prototype.onTabKeyDown=function(t){if(!(t.defaultPrevented||Jr(t))){var n=this.allRowGuis.find(function(a){return a.element.contains(t.target)}),r=n?n.element:null,o=r===t.target,s=null;o||(s=this.beans.focusService.findNextFocusableElement(r,!1,t.shiftKey)),(this.isFullWidth()&&o||!s)&&this.beans.navigationService.onTabKeyDown(this,t)}},e.prototype.onFullWidthRowFocused=function(t){var n,r=this.rowNode,o=t?this.isFullWidth()&&t.rowIndex===r.rowIndex&&t.rowPinned==r.rowPinned:!1,s=this.fullWidthGui?this.fullWidthGui.element:(n=this.centerGui)===null||n===void 0?void 0:n.element;s&&(s.classList.toggle("ag-full-width-focus",o),o&&s.focus({preventScroll:!0}))},e.prototype.refreshCell=function(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t),this.updateColumnLists()},e.prototype.removeCellCtrl=function(t,n){var r={list:[],map:{}};return t.list.forEach(function(o){o!==n&&(r.list.push(o),r.map[o.getInstanceId()]=o)}),r},e.prototype.onMouseEvent=function(t,n){switch(t){case"dblclick":this.onRowDblClick(n);break;case"click":this.onRowClick(n);break;case"touchstart":case"mousedown":this.onRowMouseDown(n);break}},e.prototype.createRowEvent=function(t,n){return this.gridOptionsService.addGridCommonParams({type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:n})},e.prototype.createRowEventWithSource=function(t,n){var r=this.createRowEvent(t,n);return r.source=this,r},e.prototype.onRowDblClick=function(t){if(!Jr(t)){var n=this.createRowEventWithSource(C.EVENT_ROW_DOUBLE_CLICKED,t);this.beans.eventService.dispatchEvent(n)}},e.prototype.onRowMouseDown=function(t){if(this.lastMouseDownOnDragger=ru(t.target,"ag-row-drag",3),!!this.isFullWidth()){var n=this.rowNode,r=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:n.rowIndex,column:r.getAllDisplayedColumns()[0],rowPinned:n.rowPinned,forceBrowserFocus:!0})}},e.prototype.onRowClick=function(t){var n=Jr(t)||this.lastMouseDownOnDragger;if(!n){var r=this.createRowEventWithSource(C.EVENT_ROW_CLICKED,t);this.beans.eventService.dispatchEvent(r);var o=t.ctrlKey||t.metaKey,s=t.shiftKey,a=this.gridOptionsService.get("groupSelectsChildren");if(!(a&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.gridOptionsService.isRowSelection()||this.gridOptionsService.get("suppressRowClickSelection"))){var l=this.gridOptionsService.get("rowMultiSelectWithClick"),u=!this.gridOptionsService.get("suppressRowDeselection"),c="rowClicked";if(this.rowNode.isSelected())l?this.rowNode.setSelectedParams({newValue:!1,event:t,source:c}):o?u&&this.rowNode.setSelectedParams({newValue:!1,event:t,source:c}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!s,rangeSelect:s,event:t,source:c});else{var d=l?!1:!o;this.rowNode.setSelectedParams({newValue:!0,clearSelection:d,rangeSelect:s,event:t,source:c})}}}},e.prototype.setupDetailRowAutoHeight=function(t){var n=this;if(this.rowType===qi.FullWidthDetail&&this.gridOptionsService.get("detailRowAutoHeight")){var r=function(){var s=t.clientHeight;if(s!=null&&s>0){var a=function(){n.rowNode.setRowHeight(s),n.beans.clientSideRowModel?n.beans.clientSideRowModel.onRowHeightChanged():n.beans.serverSideRowModel&&n.beans.serverSideRowModel.onRowHeightChanged()};window.setTimeout(a,0)}},o=this.beans.resizeObserverService.observeResize(t,r);this.addDestroyFunc(o),r()}},e.prototype.createFullWidthParams=function(t,n){var r=this,o=this.gridOptionsService.addGridCommonParams({fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,eGridCell:t,eParentOfValue:t,pinned:n,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(s,a,l,u){return r.addFullWidthRowDragging(s,a,l,u)}});return o},e.prototype.addFullWidthRowDragging=function(t,n,r,o){if(r===void 0&&(r=""),!!this.isFullWidth()){var s=new e_(function(){return r},this.rowNode,void 0,t,n,o);this.createManagedBean(s,this.beans.context)}},e.prototype.onUiLevelChanged=function(){var t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){var n="ag-row-level-"+t,r="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(o){o.rowComp.addOrRemoveCssClass(n,!0),o.rowComp.addOrRemoveCssClass(r,!1)})}this.rowLevel=t},e.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},e.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},e.prototype.refreshFirstAndLastRowStyles=function(){var t=this.isFirstRowOnPage(),n=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass("ag-row-first",t)})),this.lastRowOnPage!==n&&(this.lastRowOnPage=n,this.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass("ag-row-last",n)}))},e.prototype.stopEditing=function(t){var n,r;if(t===void 0&&(t=!1),!this.stoppingRowEdit){var o=this.getAllCellCtrls(),s=this.editingRow;this.stoppingRowEdit=!0;var a=!1;try{for(var l=Ese(o),u=l.next();!u.done;u=l.next()){var c=u.value,d=c.stopEditing(t);s&&!t&&!a&&d&&(a=!0)}}catch(p){n={error:p}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}if(a){var h=this.createRowEvent(C.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(h)}s&&this.setEditingRow(!1),this.stoppingRowEdit=!1}},e.prototype.setInlineEditingCss=function(t){this.allRowGuis.forEach(function(n){n.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),n.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})},e.prototype.setEditingRow=function(t){this.editingRow=t,this.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass("ag-row-editing",t)});var n=t?this.createRowEvent(C.EVENT_ROW_EDITING_STARTED):this.createRowEvent(C.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(n)},e.prototype.startRowEditing=function(t,n,r){if(t===void 0&&(t=null),n===void 0&&(n=null),r===void 0&&(r=null),!this.editingRow){var o=this.getAllCellCtrls().reduce(function(s,a){var l=a===n;return l?a.startEditing(t,l,r):a.startEditing(null,l,r),s?!0:a.isEditing()},!1);o&&this.setEditingRow(!0)}},e.prototype.getAllCellCtrls=function(){if(this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0)return this.centerCellCtrls.list;var t=jT(jT(jT([],BT(this.centerCellCtrls.list),!1),BT(this.leftCellCtrls.list),!1),BT(this.rightCellCtrls.list),!1);return t},e.prototype.postProcessClassesFromGridOptions=function(){var t=this,n=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!n||!n.length||n.forEach(function(r){t.allRowGuis.forEach(function(o){return o.rowComp.addOrRemoveCssClass(r,!0)})})},e.prototype.postProcessRowClassRules=function(){var t=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,function(n){t.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass(n,!0)})},function(n){t.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass(n,!1)})})},e.prototype.setStylesFromGridOptions=function(t,n){var r=this;t&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(n,function(o){return o.rowComp.setUserStyles(r.rowStyles)})},e.prototype.getPinnedForContainer=function(t){var n=t===Dn.LEFT?"left":t===Dn.RIGHT?"right":null;return n},e.prototype.getInitialRowClasses=function(t){var n=this.getPinnedForContainer(t),r={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[t],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:n};return this.beans.rowCssClassCalculator.getInitialRowClasses(r)},e.prototype.processStylesFromGridOptions=function(){var t=this.gridOptionsService.get("rowStyle");if(t&&typeof t=="function"){console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}var n=this.gridOptionsService.getCallback("getRowStyle"),r;if(n){var o={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};r=n(o)}return r||t?Object.assign({},t,r):this.emptyStyle},e.prototype.onRowSelected=function(t){var n=this,r=!!this.rowNode.isSelected();this.forEachGui(t,function(o){o.rowComp.addOrRemoveCssClass("ag-row-selected",r),pd(o.element,r?!0:void 0);var s=n.createAriaLabel();As(o.element,s??"")})},e.prototype.createAriaLabel=function(){var t=this.rowNode.isSelected();if(!(t&&this.gridOptionsService.get("suppressRowDeselection"))){var n=this.beans.localeService.getLocaleTextFunc(),r=n(t?"ariaRowDeselect":"ariaRowSelect","Press SPACE to ".concat(t?"deselect":"select"," this row."));return r}},e.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},e.prototype.addHoverFunctionality=function(t){var n=this;this.active&&(this.addManagedListener(t,"mouseenter",function(){return n.rowNode.onMouseEnter()}),this.addManagedListener(t,"mouseleave",function(){return n.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,Pe.EVENT_MOUSE_ENTER,function(){!n.beans.dragService.isDragging()&&!n.gridOptionsService.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),n.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,Pe.EVENT_MOUSE_LEAVE,function(){t.classList.remove("ag-row-hover"),n.rowNode.setHovered(!1)}))},e.prototype.roundRowTopToBounds=function(t){var n=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),r=this.applyPaginationOffset(n.top,!0)-100,o=this.applyPaginationOffset(n.bottom,!0)+100;return Math.min(Math.max(r,t),o)},e.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},e.prototype.forEachGui=function(t,n){t?n(t):this.allRowGuis.forEach(n)},e.prototype.onRowHeightChanged=function(t){if(this.rowNode.rowHeight!=null){var n=this.rowNode.rowHeight,r=this.beans.environment.getDefaultRowHeight(),o=this.gridOptionsService.isGetRowHeightFunction(),s=o?this.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,a=s?"".concat(Math.min(r,s)-2,"px"):void 0;this.forEachGui(t,function(l){l.element.style.height="".concat(n,"px"),a&&l.element.style.setProperty("--ag-line-height",a)})}},e.prototype.addEventListener=function(t,n){i.prototype.addEventListener.call(this,t,n)},e.prototype.removeEventListener=function(t,n){i.prototype.removeEventListener.call(this,t,n)},e.prototype.destroyFirstPass=function(t){if(t===void 0&&(t=!1),this.active=!1,!t&&this.gridOptionsService.isAnimateRows()&&!this.isSticky()){var n=this.rowNode.rowTop!=null;if(n){var r=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(r)}else this.allRowGuis.forEach(function(s){return s.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})}this.rowNode.setHovered(!1);var o=this.createRowEvent(C.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(o),this.beans.eventService.dispatchEvent(o),i.prototype.destroy.call(this)},e.prototype.destroySecondPass=function(){this.allRowGuis.length=0,this.stopEditing();var t=function(n){return n.list.forEach(function(r){return r.destroy()}),{list:[],map:{}}};this.centerCellCtrls=t(this.centerCellCtrls),this.leftCellCtrls=t(this.leftCellCtrls),this.rightCellCtrls=t(this.rightCellCtrls)},e.prototype.setFocusedClasses=function(t){var n=this;this.forEachGui(t,function(r){r.rowComp.addOrRemoveCssClass("ag-row-focus",n.rowFocused),r.rowComp.addOrRemoveCssClass("ag-row-no-focus",!n.rowFocused)})},e.prototype.onCellFocusChanged=function(){var t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses()),!t&&this.editingRow&&this.stopEditing(!1)},e.prototype.onPaginationChanged=function(){var t=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},e.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},e.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},e.prototype.applyPaginationOffset=function(t,n){if(n===void 0&&(n=!1),this.rowNode.isRowPinned()||this.rowNode.sticky)return t;var r=this.beans.paginationProxy.getPixelOffset(),o=n?1:-1;return t+r*o},e.prototype.setRowTop=function(t){if(!this.printLayout&&B(t)){var n=this.applyPaginationOffset(t),r=this.rowNode.isRowPinned()||this.rowNode.sticky,o=r?n:this.beans.rowContainerHeightService.getRealPixelPosition(n),s="".concat(o,"px");this.setRowTopStyle(s)}},e.prototype.getInitialRowTop=function(t){return this.suppressRowTransform?this.getInitialRowTopShared(t):void 0},e.prototype.getInitialTransform=function(t){return this.suppressRowTransform?void 0:"translateY(".concat(this.getInitialRowTopShared(t),")")},e.prototype.getInitialRowTopShared=function(t){if(this.printLayout)return"";var n;if(this.isSticky())n=this.rowNode.stickyRowTop;else{var r=this.slideInAnimation[t]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,o=this.applyPaginationOffset(r);n=this.rowNode.isRowPinned()?o:this.beans.rowContainerHeightService.getRealPixelPosition(o)}return n+"px"},e.prototype.setRowTopStyle=function(t){var n=this;this.allRowGuis.forEach(function(r){return n.suppressRowTransform?r.rowComp.setTop(t):r.rowComp.setTransform("translateY(".concat(t,")"))})},e.prototype.getRowNode=function(){return this.rowNode},e.prototype.getCellCtrl=function(t){var n=null;return this.getAllCellCtrls().forEach(function(r){r.getColumn()==t&&(n=r)}),n!=null||this.getAllCellCtrls().forEach(function(r){r.getColSpanningList().indexOf(t)>=0&&(n=r)}),n},e.prototype.onRowIndexChanged=function(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},e.prototype.getRowIndex=function(){return this.rowNode.getRowIndexString()},e.prototype.updateRowIndexes=function(t){var n=this.rowNode.getRowIndexString(),r=this.beans.headerNavigationService.getHeaderRowCount()+this.beans.filterManager.getHeaderRowCount(),o=this.rowNode.rowIndex%2===0,s=r+this.rowNode.rowIndex+1;this.forEachGui(t,function(a){a.rowComp.setRowIndex(n),a.rowComp.addOrRemoveCssClass("ag-row-even",o),a.rowComp.addOrRemoveCssClass("ag-row-odd",!o),QA(a.element,s)})},e.DOM_DATA_KEY_ROW_CTRL="renderedRow",e}(j),Dse=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Wi=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Rse=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Tse=function(i){Dse(e,i);function e(t){var n=i.call(this)||this;return n.element=t,n}return e.prototype.postConstruct=function(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()},e.prototype.addKeyboardListeners=function(){var t="keydown",n=this.processKeyboardEvent.bind(this,t);this.addManagedListener(this.element,t,n)},e.prototype.addMouseListeners=function(){var t=this,n=UA("touchstart")?"touchstart":"mousedown",r=["dblclick","contextmenu","mouseover","mouseout","click",n];r.forEach(function(o){var s=t.processMouseEvent.bind(t,o);t.addManagedListener(t.element,o,s)})},e.prototype.processMouseEvent=function(t,n){if(!(!this.mouseEventService.isEventFromThisGrid(n)||Jr(n))){var r=this.getRowForEvent(n),o=this.mouseEventService.getRenderedCellForEvent(n);t==="contextmenu"?this.handleContextMenuMouseEvent(n,null,r,o):(o&&o.onMouseEvent(t,n),r&&r.onMouseEvent(t,n))}},e.prototype.mockContextMenuForIPad=function(){var t=this;if(Va()){var n=new Zi(this.element),r=function(o){var s=t.getRowForEvent(o.touchEvent),a=t.mouseEventService.getRenderedCellForEvent(o.touchEvent);t.handleContextMenuMouseEvent(null,o.touchEvent,s,a)};this.addManagedListener(n,Zi.EVENT_LONG_TAP,r),this.addDestroyFunc(function(){return n.destroy()})}},e.prototype.getRowForEvent=function(t){for(var n=t.target;n;){var r=this.gridOptionsService.getDomData(n,au.DOM_DATA_KEY_ROW_CTRL);if(r)return r;n=n.parentElement}return null},e.prototype.handleContextMenuMouseEvent=function(t,n,r,o){var s=r?r.getRowNode():null,a=o?o.getColumn():null,l=null;if(a){var u=t||n;o.dispatchCellContextMenuEvent(u),l=this.valueService.getValue(a,s)}var c=this.ctrlsService.getGridBodyCtrl(),d=o?o.getGui():c.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(t,n,s,a,l,d)},e.prototype.getControlsForEventTarget=function(t){return{cellCtrl:$C(this.gridOptionsService,t,su.DOM_DATA_KEY_CELL_CTRL),rowCtrl:$C(this.gridOptionsService,t,au.DOM_DATA_KEY_ROW_CTRL)}},e.prototype.processKeyboardEvent=function(t,n){var r=this.getControlsForEventTarget(n.target),o=r.cellCtrl,s=r.rowCtrl;n.defaultPrevented||(o?this.processCellKeyboardEvent(o,t,n):s&&s.isFullWidth()&&this.processFullWidthRowKeyboardEvent(s,t,n))},e.prototype.processCellKeyboardEvent=function(t,n,r){var o=t.getRowNode(),s=t.getColumn(),a=t.isEditing(),l=!QC(this.gridOptionsService,r,o,s,a);if(l&&n==="keydown"){var u=!a&&this.navigationService.handlePageScrollingKey(r);u||t.onKeyDown(r),this.doGridOperations(r,t.isEditing()),m_(r)&&t.processCharacter(r)}if(n==="keydown"){var c=t.createEvent(r,C.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(c)}},e.prototype.processFullWidthRowKeyboardEvent=function(t,n,r){var o=t.getRowNode(),s=this.focusService.getFocusedCell(),a=s&&s.column,l=!QC(this.gridOptionsService,r,o,a,!1);if(l){var u=r.key;if(n==="keydown")switch(u){case I.PAGE_HOME:case I.PAGE_END:case I.PAGE_UP:case I.PAGE_DOWN:this.navigationService.handlePageScrollingKey(r,!0);break;case I.UP:case I.DOWN:t.onKeyboardNavigate(r);break;case I.TAB:t.onTabKeyDown(r);break}}if(n==="keydown"){var c=t.createRowEvent(C.EVENT_CELL_KEY_DOWN,r);this.eventService.dispatchEvent(c)}},e.prototype.doGridOperations=function(t,n){if(!(!t.ctrlKey&&!t.metaKey)&&!n&&this.mouseEventService.isEventFromThisGrid(t)){var r=mj(t);if(r===I.A)return this.onCtrlAndA(t);if(r===I.C)return this.onCtrlAndC(t);if(r===I.D)return this.onCtrlAndD(t);if(r===I.V)return this.onCtrlAndV(t);if(r===I.X)return this.onCtrlAndX(t);if(r===I.Y)return this.onCtrlAndY();if(r===I.Z)return this.onCtrlAndZ(t)}},e.prototype.onCtrlAndA=function(t){var n=this,r=n.pinnedRowModel,o=n.paginationProxy,s=n.rangeService;if(s&&o.isRowsToRender()){var a=Rse([r.isEmpty("top"),r.isEmpty("bottom")],2),l=a[0],u=a[1],c=l?null:"top",d=void 0,h=void 0;u?(d=null,h=this.paginationProxy.getRowCount()-1):(d="bottom",h=r.getPinnedBottomRowData().length-1);var p=this.columnModel.getAllDisplayedColumns();if(Yi(p))return;s.setCellRange({rowStartIndex:0,rowStartPinned:c,rowEndIndex:h,rowEndPinned:d,columnStart:p[0],columnEnd:Je(p)})}t.preventDefault()},e.prototype.onCtrlAndC=function(t){if(!(!this.clipboardService||this.gridOptionsService.get("enableCellTextSelection"))){var n=this.getControlsForEventTarget(t.target),r=n.cellCtrl,o=n.rowCtrl;r?.isEditing()||o?.isEditing()||(t.preventDefault(),this.clipboardService.copyToClipboard())}},e.prototype.onCtrlAndX=function(t){if(!(!this.clipboardService||this.gridOptionsService.get("enableCellTextSelection")||this.gridOptionsService.get("suppressCutToClipboard"))){var n=this.getControlsForEventTarget(t.target),r=n.cellCtrl,o=n.rowCtrl;r?.isEditing()||o?.isEditing()||(t.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}},e.prototype.onCtrlAndV=function(t){var n=this.getControlsForEventTarget(t.target),r=n.cellCtrl,o=n.rowCtrl;r?.isEditing()||o?.isEditing()||this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()},e.prototype.onCtrlAndD=function(t){this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),t.preventDefault()},e.prototype.onCtrlAndZ=function(t){this.gridOptionsService.get("undoRedoCellEditing")&&(t.preventDefault(),t.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))},e.prototype.onCtrlAndY=function(){this.undoRedoService.redo("ui")},Wi([y("mouseEventService")],e.prototype,"mouseEventService",void 0),Wi([y("valueService")],e.prototype,"valueService",void 0),Wi([$e("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),Wi([y("ctrlsService")],e.prototype,"ctrlsService",void 0),Wi([y("navigationService")],e.prototype,"navigationService",void 0),Wi([y("focusService")],e.prototype,"focusService",void 0),Wi([y("undoRedoService")],e.prototype,"undoRedoService",void 0),Wi([y("columnModel")],e.prototype,"columnModel",void 0),Wi([y("paginationProxy")],e.prototype,"paginationProxy",void 0),Wi([y("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Wi([$e("rangeService")],e.prototype,"rangeService",void 0),Wi([$e("clipboardService")],e.prototype,"clipboardService",void 0),Wi([W],e.prototype,"postConstruct",null),e}(j),Ase=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qp=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},TH=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},AH=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},Ose=function(i){Ase(e,i);function e(t){var n=i.call(this)||this;return n.centerContainerCtrl=t,n}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl(),t.listenForResize()}),this.addManagedListener(this.eventService,C.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this)),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],function(){t.checkViewportAndScrolls()})},e.prototype.listenForResize=function(){var t=this,n=function(){return t.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(n),this.gridBodyCtrl.registerBodyViewportResizeListener(n)},e.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},e.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();var t=this.centerContainerCtrl.getCenterWidth();t!==this.centerWidth&&(this.centerWidth=t,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},e.prototype.keepPinnedColumnsNarrowerThanViewport=function(){var t=this.gridBodyCtrl.getBodyViewportElement(),n=cu(t);if(!(n<=50)){var r=this.getPinnedColumnsOverflowingViewport(n-50),o=this.gridOptionsService.getCallback("processUnpinnedColumns");if(r.length){if(o){var s={columns:r,viewportWidth:n};r=o(s)}this.columnModel.setColumnsPinned(r,null,"viewportSizeFeature")}}},e.prototype.getPinnedColumnsOverflowingViewport=function(t){var n=this.pinnedWidthService.getPinnedRightWidth(),r=this.pinnedWidthService.getPinnedLeftWidth(),o=n+r;if(o<t)return[];for(var s=AH([],TH(this.columnModel.getDisplayedLeftColumns()),!1),a=AH([],TH(this.columnModel.getDisplayedRightColumns()),!1),l=0,u=0,c=0,d=[],h=o-c-t;(u<s.length||l<a.length)&&h>0;){if(l<a.length){var p=a[l++];h-=p.getActualWidth(),d.push(p)}if(u<s.length&&h>0){var p=s[u++];h-=p.getActualWidth(),d.push(p)}}return d},e.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},e.prototype.getBodyHeight=function(){return this.bodyHeight},e.prototype.checkBodyHeight=function(){var t=this.gridBodyCtrl.getBodyViewportElement(),n=Ff(t);if(this.bodyHeight!==n){this.bodyHeight=n;var r={type:C.EVENT_BODY_HEIGHT_CHANGED};this.eventService.dispatchEvent(r)}},e.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},e.prototype.updateScrollVisibleServiceImpl=function(){var t={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(t)},e.prototype.isHorizontalScrollShowing=function(){return this.centerContainerCtrl.isHorizontalScrollShowing()},e.prototype.onHorizontalViewportChanged=function(){var t=this.centerContainerCtrl.getCenterWidth(),n=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(t,n)},qp([y("ctrlsService")],e.prototype,"ctrlsService",void 0),qp([y("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),qp([y("columnModel")],e.prototype,"columnModel",void 0),qp([y("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),qp([W],e.prototype,"postConstruct",null),e}(j),Ise=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),OH=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Mse=function(i){Ise(e,i);function e(t){var n=i.call(this)||this;return n.element=t,n}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,C.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},e.prototype.onPinnedLeftWidthChanged=function(){var t=this.pinnedWidthService.getPinnedLeftWidth(),n=t>0;qe(this.element,n),Mr(this.element,t)},e.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedLeftWidth()},OH([y("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),OH([W],e.prototype,"postConstruct",null),e}(j),xse=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),IH=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Pse=function(i){xse(e,i);function e(t){var n=i.call(this)||this;return n.element=t,n}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,C.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},e.prototype.onPinnedRightWidthChanged=function(){var t=this.pinnedWidthService.getPinnedRightWidth(),n=t>0;qe(this.element,n),Mr(this.element,t)},e.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedRightWidth()},IH([y("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),IH([W],e.prototype,"postConstruct",null),e}(j),Fse=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),MH=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Kj=function(i){Fse(e,i);function e(t,n){var r=i.call(this)||this;return r.eContainer=t,r.eViewport=n,r}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,C.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},e.prototype.onHeightChanged=function(){var t=this.maxDivHeightScaler.getUiContainerHeight(),n=t!=null?"".concat(t,"px"):"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)},MH([y("rowContainerHeightService")],e.prototype,"maxDivHeightScaler",void 0),MH([W],e.prototype,"postConstruct",null),e}(j),Nse=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),UT=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Lse=function(i){Nse(e,i);function e(t){var n=i.call(this)||this;return n.eContainer=t,n}return e.prototype.postConstruct=function(){var t=this;if(!ue(this.rangeService)){this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListener("enableRangeSelection",function(r){var o=r.currentValue;if(o){t.enableFeature();return}t.disableFeature()}),this.addDestroyFunc(function(){return t.disableFeature()});var n=this.gridOptionsService.get("enableRangeSelection");n&&this.enableFeature()}},e.prototype.enableFeature=function(){this.dragService.addDragSource(this.params)},e.prototype.disableFeature=function(){this.dragService.removeDragSource(this.params)},UT([$e("rangeService")],e.prototype,"rangeService",void 0),UT([y("dragService")],e.prototype,"dragService",void 0),UT([W],e.prototype,"postConstruct",null),e}(j),kse=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),WT=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},DO=function(i){kse(e,i);function e(t,n){n===void 0&&(n=!1);var r=i.call(this)||this;return r.callback=t,r.addSpacer=n,r}return e.prototype.postConstruct=function(){var t=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",t),this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,C.EVENT_LEFT_PINNED_WIDTH_CHANGED,t),this.addSpacer&&(this.addManagedListener(this.eventService,C.EVENT_RIGHT_PINNED_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,C.EVENT_SCROLL_VISIBILITY_CHANGED,t),this.addManagedListener(this.eventService,C.EVENT_SCROLLBAR_WIDTH_CHANGED,t)),this.setWidth()},e.prototype.setWidth=function(){var t=this.columnModel,n=this.gridOptionsService.isDomLayout("print"),r=t.getBodyContainerWidth(),o=t.getDisplayedColumnsLeftWidth(),s=t.getDisplayedColumnsRightWidth(),a;if(n)a=r+o+s;else if(a=r,this.addSpacer){var l=this.gridOptionsService.get("enableRtl")?o:s;l===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(a+=this.gridOptionsService.getScrollbarWidth())}this.callback(a)},WT([y("columnModel")],e.prototype,"columnModel",void 0),WT([y("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),WT([W],e.prototype,"postConstruct",null),e}(j),Vse=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),td=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},_C=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},wC=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},L=function(i){return i.LEFT="left",i.RIGHT="right",i.CENTER="center",i.FULL_WIDTH="fullWidth",i.TOP_LEFT="topLeft",i.TOP_RIGHT="topRight",i.TOP_CENTER="topCenter",i.TOP_FULL_WIDTH="topFullWidth",i.STICKY_TOP_LEFT="stickyTopLeft",i.STICKY_TOP_RIGHT="stickyTopRight",i.STICKY_TOP_CENTER="stickyTopCenter",i.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",i.BOTTOM_LEFT="bottomLeft",i.BOTTOM_RIGHT="bottomRight",i.BOTTOM_CENTER="bottomCenter",i.BOTTOM_FULL_WIDTH="bottomFullWidth",i}(L||{}),Dn=function(i){return i.LEFT="left",i.RIGHT="right",i.CENTER="center",i.FULL_WIDTH="fullWidth",i}(Dn||{});function Gse(i){switch(i){case L.CENTER:case L.TOP_CENTER:case L.STICKY_TOP_CENTER:case L.BOTTOM_CENTER:return Dn.CENTER;case L.LEFT:case L.TOP_LEFT:case L.STICKY_TOP_LEFT:case L.BOTTOM_LEFT:return Dn.LEFT;case L.RIGHT:case L.TOP_RIGHT:case L.STICKY_TOP_RIGHT:case L.BOTTOM_RIGHT:return Dn.RIGHT;case L.FULL_WIDTH:case L.TOP_FULL_WIDTH:case L.STICKY_TOP_FULL_WIDTH:case L.BOTTOM_FULL_WIDTH:return Dn.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}var Hse=xa([[L.CENTER,"ag-center-cols-container"],[L.LEFT,"ag-pinned-left-cols-container"],[L.RIGHT,"ag-pinned-right-cols-container"],[L.FULL_WIDTH,"ag-full-width-container"],[L.TOP_CENTER,"ag-floating-top-container"],[L.TOP_LEFT,"ag-pinned-left-floating-top"],[L.TOP_RIGHT,"ag-pinned-right-floating-top"],[L.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[L.STICKY_TOP_CENTER,"ag-sticky-top-container"],[L.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[L.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[L.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[L.BOTTOM_CENTER,"ag-floating-bottom-container"],[L.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[L.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[L.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),Bse=xa([[L.CENTER,"ag-center-cols-viewport"],[L.TOP_CENTER,"ag-floating-top-viewport"],[L.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[L.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),Yj=function(i){Vse(e,i);function e(t){var n=i.call(this)||this;return n.visible=!0,n.EMPTY_CTRLS=[],n.name=t,n.isFullWithContainer=n.name===L.TOP_FULL_WIDTH||n.name===L.STICKY_TOP_FULL_WIDTH||n.name===L.BOTTOM_FULL_WIDTH||n.name===L.FULL_WIDTH,n}return e.getRowContainerCssClasses=function(t){var n=Hse.get(t),r=Bse.get(t);return{container:n,viewport:r}},e.getPinned=function(t){switch(t){case L.BOTTOM_LEFT:case L.TOP_LEFT:case L.STICKY_TOP_LEFT:case L.LEFT:return"left";case L.BOTTOM_RIGHT:case L.TOP_RIGHT:case L.STICKY_TOP_RIGHT:case L.RIGHT:return"right";default:return null}},e.prototype.postConstruct=function(){var t=this;this.enableRtl=this.gridOptionsService.get("enableRtl"),this.forContainers([L.CENTER],function(){return t.viewportSizeFeature=t.createManagedBean(new Ose(t))})},e.prototype.registerWithCtrlsService=function(){switch(this.name){case L.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case L.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case L.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case L.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case L.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case L.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case L.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case L.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case L.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case L.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case L.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case L.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this);break}},e.prototype.forContainers=function(t,n){t.indexOf(this.name)>=0&&n()},e.prototype.getContainerElement=function(){return this.eContainer},e.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},e.prototype.setComp=function(t,n,r){var o=this;this.comp=t,this.eContainer=n,this.eViewport=r,this.createManagedBean(new Tse(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var s=[L.TOP_CENTER,L.TOP_LEFT,L.TOP_RIGHT],a=[L.STICKY_TOP_CENTER,L.STICKY_TOP_LEFT,L.STICKY_TOP_RIGHT],l=[L.BOTTOM_CENTER,L.BOTTOM_LEFT,L.BOTTOM_RIGHT],u=[L.CENTER,L.LEFT,L.RIGHT],c=wC(wC(wC(wC([],_C(s),!1),_C(l),!1),_C(u),!1),_C(a),!1),d=[L.CENTER,L.LEFT,L.RIGHT,L.FULL_WIDTH],h=[L.CENTER,L.TOP_CENTER,L.STICKY_TOP_CENTER,L.BOTTOM_CENTER],p=[L.LEFT,L.BOTTOM_LEFT,L.TOP_LEFT,L.STICKY_TOP_LEFT],f=[L.RIGHT,L.BOTTOM_RIGHT,L.TOP_RIGHT,L.STICKY_TOP_RIGHT];this.forContainers(p,function(){o.pinnedWidthFeature=o.createManagedBean(new Mse(o.eContainer)),o.addManagedListener(o.eventService,C.EVENT_LEFT_PINNED_WIDTH_CHANGED,function(){return o.onPinnedWidthChanged()})}),this.forContainers(f,function(){o.pinnedWidthFeature=o.createManagedBean(new Pse(o.eContainer)),o.addManagedListener(o.eventService,C.EVENT_RIGHT_PINNED_WIDTH_CHANGED,function(){return o.onPinnedWidthChanged()})}),this.forContainers(d,function(){return o.createManagedBean(new Kj(o.eContainer,o.name===L.CENTER?r:void 0))}),this.forContainers(c,function(){return o.createManagedBean(new Lse(o.eContainer))}),this.forContainers(h,function(){return o.createManagedBean(new DO(function(g){return o.comp.setContainerWidth("".concat(g,"px"))}))}),this.addListeners(),this.registerWithCtrlsService()},e.prototype.addListeners=function(){var t=this;this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return t.onDisplayedColumnsChanged()}),this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){return t.onDisplayedColumnsWidthChanged()}),this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_ROWS_CHANGED,function(n){return t.onDisplayedRowsChanged(n.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},e.prototype.listenOnDomOrder=function(){var t=this,n=[L.STICKY_TOP_CENTER,L.STICKY_TOP_LEFT,L.STICKY_TOP_RIGHT,L.STICKY_TOP_FULL_WIDTH],r=n.indexOf(this.name)>=0;if(r){this.comp.setDomOrder(!0);return}var o=function(){var s=t.gridOptionsService.get("ensureDomOrder"),a=t.gridOptionsService.isDomLayout("print");t.comp.setDomOrder(s||a)};this.addManagedPropertyListener("domLayout",o),o()},e.prototype.stopHScrollOnPinnedRows=function(){var t=this;this.forContainers([L.TOP_CENTER,L.STICKY_TOP_CENTER,L.BOTTOM_CENTER],function(){var n=function(){return t.eViewport.scrollLeft=0};t.addManagedListener(t.eViewport,"scroll",n)})},e.prototype.onDisplayedColumnsChanged=function(){var t=this;this.forContainers([L.CENTER],function(){return t.onHorizontalViewportChanged()})},e.prototype.onDisplayedColumnsWidthChanged=function(){var t=this;this.forContainers([L.CENTER],function(){return t.onHorizontalViewportChanged()})},e.prototype.addPreventScrollWhileDragging=function(){var t=this,n=function(r){t.dragService.isDragging()&&r.cancelable&&r.preventDefault()};this.eContainer.addEventListener("touchmove",n,{passive:!1}),this.addDestroyFunc(function(){return t.eContainer.removeEventListener("touchmove",n)})},e.prototype.onHorizontalViewportChanged=function(t){t===void 0&&(t=!1);var n=this.getCenterWidth(),r=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(n,r,t)},e.prototype.getCenterWidth=function(){return cu(this.eViewport)},e.prototype.getCenterViewportScrollLeft=function(){return Af(this.eViewport,this.enableRtl)},e.prototype.registerViewportResizeListener=function(t){var n=this.resizeObserverService.observeResize(this.eViewport,t);this.addDestroyFunc(function(){return n()})},e.prototype.isViewportInTheDOMTree=function(){return uO(this.eViewport)},e.prototype.getViewportScrollLeft=function(){return Af(this.eViewport,this.enableRtl)},e.prototype.isHorizontalScrollShowing=function(){var t=this.gridOptionsService.get("alwaysShowHorizontalScroll");return t||cj(this.eViewport)},e.prototype.getViewportElement=function(){return this.eViewport},e.prototype.setContainerTranslateX=function(t){this.eContainer.style.transform="translateX(".concat(t,"px)")},e.prototype.getHScrollPosition=function(){var t={left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth};return t},e.prototype.setCenterViewportScrollLeft=function(t){Of(this.eViewport,t,this.enableRtl)},e.prototype.isContainerVisible=function(){var t=e.getPinned(this.name);return!t||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0},e.prototype.onPinnedWidthChanged=function(){var t=this.isContainerVisible();this.visible!=t&&(this.visible=t,this.onDisplayedRowsChanged())},e.prototype.onDisplayedRowsChanged=function(t){var n=this;if(t===void 0&&(t=!1),!this.visible){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}var r=this.gridOptionsService.isDomLayout("print"),o=this.gridOptionsService.get("embedFullWidthRows"),s=o||r,a=this.getRowCtrls().filter(function(l){var u=l.isFullWidth(),c=n.isFullWithContainer?!s&&u:s||!u;return c});this.comp.setRowCtrls({rowCtrls:a,useFlushSync:t})},e.prototype.getRowCtrls=function(){switch(this.name){case L.TOP_CENTER:case L.TOP_LEFT:case L.TOP_RIGHT:case L.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case L.STICKY_TOP_CENTER:case L.STICKY_TOP_LEFT:case L.STICKY_TOP_RIGHT:case L.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case L.BOTTOM_CENTER:case L.BOTTOM_LEFT:case L.BOTTOM_RIGHT:case L.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getCentreRowCtrls()}},td([y("dragService")],e.prototype,"dragService",void 0),td([y("ctrlsService")],e.prototype,"ctrlsService",void 0),td([y("columnModel")],e.prototype,"columnModel",void 0),td([y("resizeObserverService")],e.prototype,"resizeObserverService",void 0),td([y("rowRenderer")],e.prototype,"rowRenderer",void 0),td([W],e.prototype,"postConstruct",null),e}(j),jse=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ss=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Use=`<div class="ag-root ag-unselectable" role="treegrid">
        <ag-header-root ref="gridHeader"></ag-header-root>
        <div class="ag-floating-top" ref="eTop" role="presentation">
            <ag-row-container ref="topLeftContainer" name="`.concat(L.TOP_LEFT,`"></ag-row-container>
            <ag-row-container ref="topCenterContainer" name="`).concat(L.TOP_CENTER,`"></ag-row-container>
            <ag-row-container ref="topRightContainer" name="`).concat(L.TOP_RIGHT,`"></ag-row-container>
            <ag-row-container ref="topFullWidthContainer" name="`).concat(L.TOP_FULL_WIDTH,`"></ag-row-container>
        </div>
        <div class="ag-body" ref="eBody" role="presentation">
            <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">
                <ag-row-container ref="leftContainer" name="`).concat(L.LEFT,`"></ag-row-container>
                <ag-row-container ref="centerContainer" name="`).concat(L.CENTER,`"></ag-row-container>
                <ag-row-container ref="rightContainer" name="`).concat(L.RIGHT,`"></ag-row-container>
                <ag-row-container ref="fullWidthContainer" name="`).concat(L.FULL_WIDTH,`"></ag-row-container>
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">
            <ag-row-container ref="stickyTopLeftContainer" name="`).concat(L.STICKY_TOP_LEFT,`"></ag-row-container>
            <ag-row-container ref="stickyTopCenterContainer" name="`).concat(L.STICKY_TOP_CENTER,`"></ag-row-container>
            <ag-row-container ref="stickyTopRightContainer" name="`).concat(L.STICKY_TOP_RIGHT,`"></ag-row-container>
            <ag-row-container ref="stickyTopFullWidthContainer" name="`).concat(L.STICKY_TOP_FULL_WIDTH,`"></ag-row-container>
        </div>
        <div class="ag-floating-bottom" ref="eBottom" role="presentation">
            <ag-row-container ref="bottomLeftContainer" name="`).concat(L.BOTTOM_LEFT,`"></ag-row-container>
            <ag-row-container ref="bottomCenterContainer" name="`).concat(L.BOTTOM_CENTER,`"></ag-row-container>
            <ag-row-container ref="bottomRightContainer" name="`).concat(L.BOTTOM_RIGHT,`"></ag-row-container>
            <ag-row-container ref="bottomFullWidthContainer" name="`).concat(L.BOTTOM_FULL_WIDTH,`"></ag-row-container>
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`),Wse=function(i){jse(e,i);function e(){return i.call(this,Use)||this}return e.prototype.init=function(){var t=this,n=function(o,s){var a="".concat(o,"px");s.style.minHeight=a,s.style.height=a},r={setRowAnimationCssOnBodyViewport:function(o,s){return t.setRowAnimationCssOnBodyViewport(o,s)},setColumnCount:function(o){return ZB(t.getGui(),o)},setRowCount:function(o){return QB(t.getGui(),o)},setTopHeight:function(o){return n(o,t.eTop)},setBottomHeight:function(o){return n(o,t.eBottom)},setTopDisplay:function(o){return t.eTop.style.display=o},setBottomDisplay:function(o){return t.eBottom.style.display=o},setStickyTopHeight:function(o){return t.eStickyTop.style.height=o},setStickyTopTop:function(o){return t.eStickyTop.style.top=o},setStickyTopWidth:function(o){return t.eStickyTop.style.width=o},setColumnMovingCss:function(o,s){return t.addOrRemoveCssClass(o,s)},updateLayoutClasses:function(o,s){var a=[t.eBodyViewport.classList,t.eBody.classList];a.forEach(function(l){l.toggle(pn.AUTO_HEIGHT,s.autoHeight),l.toggle(pn.NORMAL,s.normal),l.toggle(pn.PRINT,s.print)}),t.addOrRemoveCssClass(pn.AUTO_HEIGHT,s.autoHeight),t.addOrRemoveCssClass(pn.NORMAL,s.normal),t.addOrRemoveCssClass(pn.PRINT,s.print)},setAlwaysVerticalScrollClass:function(o,s){return t.eBodyViewport.classList.toggle($j,s)},registerBodyViewportResizeListener:function(o){var s=t.resizeObserverService.observeResize(t.eBodyViewport,o);t.addDestroyFunc(function(){return s()})},setPinnedTopBottomOverflowY:function(o){return t.eTop.style.overflowY=t.eBottom.style.overflowY=o},setCellSelectableCss:function(o,s){[t.eTop,t.eBodyViewport,t.eBottom].forEach(function(a){return a.classList.toggle(o,s)})},setBodyViewportWidth:function(o){return t.eBodyViewport.style.width=o}};this.ctrl=this.createManagedBean(new Goe),this.ctrl.setComp(r,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService&&this.gridOptionsService.get("enableRangeSelection")||this.gridOptionsService.get("rowSelection")==="multiple")&&YB(this.getGui(),!0)},e.prototype.setRowAnimationCssOnBodyViewport=function(t,n){var r=this.eBodyViewport.classList;r.toggle(xf.ANIMATION_ON,n),r.toggle(xf.ANIMATION_OFF,!n)},e.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},Ss([y("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Ss([$e("rangeService")],e.prototype,"rangeService",void 0),Ss([Z("eBodyViewport")],e.prototype,"eBodyViewport",void 0),Ss([Z("eStickyTop")],e.prototype,"eStickyTop",void 0),Ss([Z("eTop")],e.prototype,"eTop",void 0),Ss([Z("eBottom")],e.prototype,"eBottom",void 0),Ss([Z("gridHeader")],e.prototype,"headerRootComp",void 0),Ss([Z("eBody")],e.prototype,"eBody",void 0),Ss([W],e.prototype,"init",null),e}(be),zse=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zT=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},$se=function(i){zse(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},e.prototype.onDisplayedColumnsChanged=function(){this.update()},e.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},e.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},e.prototype.updateImpl=function(){var t=this.ctrlsService.getCenterRowContainerCtrl();if(t){var n={horizontalScrollShowing:t.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(n)}},e.prototype.setScrollsVisible=function(t){var n=this.horizontalScrollShowing!==t.horizontalScrollShowing||this.verticalScrollShowing!==t.verticalScrollShowing;if(n){this.horizontalScrollShowing=t.horizontalScrollShowing,this.verticalScrollShowing=t.verticalScrollShowing;var r={type:C.EVENT_SCROLL_VISIBILITY_CHANGED};this.eventService.dispatchEvent(r)}},e.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},e.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},zT([y("ctrlsService")],e.prototype,"ctrlsService",void 0),zT([W],e.prototype,"postConstruct",null),e=zT([ee("scrollVisibleService")],e),e}(j),qse=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),xH=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Kse=function(i){qse(e,i);function e(){var n=i!==null&&i.apply(this,arguments)||this;return n.gridInstanceId=t.gridInstanceSequence.next(),n}t=e,e.prototype.stampTopLevelGridCompWithGridInstance=function(n){n[t.GRID_DOM_KEY]=this.gridInstanceId},e.prototype.getRenderedCellForEvent=function(n){return $C(this.gridOptionsService,n.target,su.DOM_DATA_KEY_CELL_CTRL)},e.prototype.isEventFromThisGrid=function(n){var r=this.isElementInThisGrid(n.target);return r},e.prototype.isElementInThisGrid=function(n){for(var r=n;r;){var o=r[t.GRID_DOM_KEY];if(B(o)){var s=o===this.gridInstanceId;return s}r=r.parentElement}return!1},e.prototype.getCellPositionForEvent=function(n){var r=this.getRenderedCellForEvent(n);return r?r.getCellPosition():null},e.prototype.getNormalisedPosition=function(n){var r=this.gridOptionsService.isDomLayout("normal"),o=n,s,a;if(o.clientX!=null||o.clientY!=null?(s=o.clientX,a=o.clientY):(s=o.x,a=o.y),r){var l=this.ctrlsService.getGridBodyCtrl(),u=l.getScrollFeature().getVScrollPosition(),c=l.getScrollFeature().getHScrollPosition();s+=c.left,a+=u.top}return{x:s,y:a}};var t;return e.gridInstanceSequence=new gd,e.GRID_DOM_KEY="__ag_grid_instance",xH([y("ctrlsService")],e.prototype,"ctrlsService",void 0),e=t=xH([ee("mouseEventService")],e),e}(j),Yse=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),r_=function(){return r_=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},r_.apply(this,arguments)},yi=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Qse=function(i){Yse(e,i);function e(){var t=i.call(this)||this;return t.onPageDown=wA(t.onPageDown,100),t.onPageUp=wA(t.onPageUp,100),t}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(n){t.gridBodyCon=n.gridBodyCtrl})},e.prototype.handlePageScrollingKey=function(t,n){n===void 0&&(n=!1);var r=t.key,o=t.altKey,s=t.ctrlKey||t.metaKey,a=!!this.rangeService&&t.shiftKey,l=this.mouseEventService.getCellPositionForEvent(t),u=!1;switch(r){case I.PAGE_HOME:case I.PAGE_END:!s&&!o&&(this.onHomeOrEndKey(r),u=!0);break;case I.LEFT:case I.RIGHT:case I.UP:case I.DOWN:if(!l)return!1;s&&!o&&!a&&(this.onCtrlUpDownLeftRight(r,l),u=!0);break;case I.PAGE_DOWN:case I.PAGE_UP:!s&&!o&&(u=this.handlePageUpDown(r,l,n));break}return u&&t.preventDefault(),u},e.prototype.handlePageUpDown=function(t,n,r){return r&&(n=this.focusService.getFocusedCell()),n?(t===I.PAGE_UP?this.onPageUp(n):this.onPageDown(n),!0):!1},e.prototype.navigateTo=function(t){var n=t.scrollIndex,r=t.scrollType,o=t.scrollColumn,s=t.focusIndex,a=t.focusColumn;if(B(o)&&!o.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(o),B(n)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(n,r),t.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(s),this.focusService.setFocusedCell({rowIndex:s,column:a,rowPinned:null,forceBrowserFocus:!0}),this.rangeService){var l={rowIndex:s,rowPinned:null,column:a};this.rangeService.setRangeToCell(l)}},e.prototype.onPageDown=function(t){var n=this.ctrlsService.getGridBodyCtrl(),r=n.getScrollFeature().getVScrollPosition(),o=this.getViewportHeight(),s=this.paginationProxy.getPixelOffset(),a=r.top+o,l=this.paginationProxy.getRowIndexAtPixel(a+s);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,l):this.navigateToNextPage(t,l)},e.prototype.onPageUp=function(t){var n=this.ctrlsService.getGridBodyCtrl(),r=n.getScrollFeature().getVScrollPosition(),o=this.paginationProxy.getPixelOffset(),s=r.top,a=this.paginationProxy.getRowIndexAtPixel(s+o);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,a,!0):this.navigateToNextPage(t,a,!0)},e.prototype.navigateToNextPage=function(t,n,r){r===void 0&&(r=!1);var o=this.getViewportHeight(),s=this.paginationProxy.getPageFirstRow(),a=this.paginationProxy.getPageLastRow(),l=this.paginationProxy.getPixelOffset(),u=this.paginationProxy.getRow(t.rowIndex),c=r?u?.rowHeight-o-l:o-l,d=u?.rowTop+c,h=this.paginationProxy.getRowIndexAtPixel(d+l);if(h===t.rowIndex){var p=r?-1:1;n=h=t.rowIndex+p}var f;r?(f="bottom",h<s&&(h=s),n<s&&(n=s)):(f="top",h>a&&(h=a),n>a&&(n=a)),this.isRowTallerThanView(h)&&(n=h,f="top"),this.navigateTo({scrollIndex:n,scrollType:f,scrollColumn:null,focusIndex:h,focusColumn:t.column})},e.prototype.navigateToNextPageWithAutoHeight=function(t,n,r){var o=this;r===void 0&&(r=!1),this.navigateTo({scrollIndex:n,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:t.column}),setTimeout(function(){var s=o.getNextFocusIndexForAutoHeight(t,r);o.navigateTo({scrollIndex:n,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:s,focusColumn:t.column,isAsync:!0})},50)},e.prototype.getNextFocusIndexForAutoHeight=function(t,n){var r;n===void 0&&(n=!1);for(var o=n?-1:1,s=this.getViewportHeight(),a=this.paginationProxy.getPageLastRow(),l=0,u=t.rowIndex;u>=0&&u<=a;){var c=this.paginationProxy.getRow(u);if(c){var d=(r=c.rowHeight)!==null&&r!==void 0?r:0;if(l+d>s)break;l+=d}u+=o}return Math.max(0,Math.min(u,a))},e.prototype.getViewportHeight=function(){var t=this.ctrlsService.getGridBodyCtrl(),n=t.getScrollFeature().getVScrollPosition(),r=this.gridOptionsService.getScrollbarWidth(),o=n.bottom-n.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(o-=r),o},e.prototype.isRowTallerThanView=function(t){var n=this.paginationProxy.getRow(t);if(!n)return!1;var r=n.rowHeight;return typeof r!="number"?!1:r>this.getViewportHeight()},e.prototype.onCtrlUpDownLeftRight=function(t,n){var r=this.cellNavigationService.getNextCellToFocus(t,n,!0),o=r.rowIndex,s=r.column;this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:s,focusIndex:o,focusColumn:s})},e.prototype.onHomeOrEndKey=function(t){var n=t===I.PAGE_HOME,r=this.columnModel.getAllDisplayedColumns(),o=n?r[0]:Je(r),s=n?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:o,focusIndex:s,focusColumn:o})},e.prototype.onTabKeyDown=function(t,n){var r=n.shiftKey,o=this.tabToNextCellCommon(t,r,n);if(o){n.preventDefault();return}if(r){var s=t.getRowPosition(),a=s.rowIndex,l=s.rowPinned,u=l?a===0:a===this.paginationProxy.getPageFirstRow();u&&(this.gridOptionsService.get("headerHeight")===0?this.focusService.focusNextGridCoreContainer(!0,!0):(n.preventDefault(),this.focusService.focusPreviousFromFirstCell(n)))}else t instanceof su&&t.focusCell(!0),this.focusService.focusNextGridCoreContainer(r)&&n.preventDefault()},e.prototype.tabToNextCell=function(t,n){var r=this.focusService.getFocusedCell();if(!r)return!1;var o=this.getCellByPosition(r);return!o&&(o=this.rowRenderer.getRowByPosition(r),!o||!o.isFullWidth())?!1:this.tabToNextCellCommon(o,t,n)},e.prototype.tabToNextCellCommon=function(t,n,r){var o=t.isEditing();if(!o&&t instanceof su){var s=t,a=s.getRowCtrl();a&&(o=a.isEditing())}var l;return o?this.gridOptionsService.get("editType")==="fullRow"?l=this.moveToNextEditingRow(t,n,r):l=this.moveToNextEditingCell(t,n,r):l=this.moveToNextCellNotEditing(t,n),l||!!this.focusService.getFocusedHeader()},e.prototype.moveToNextEditingCell=function(t,n,r){r===void 0&&(r=null);var o=t.getCellPosition();t.getGui().focus(),t.stopEditing();var s=this.findNextCellToFocusOn(o,n,!0);return s==null?!1:(s.startEditing(null,!0,r),s.focusCell(!1),!0)},e.prototype.moveToNextEditingRow=function(t,n,r){r===void 0&&(r=null);var o=t.getCellPosition(),s=this.findNextCellToFocusOn(o,n,!0);if(s==null)return!1;var a=s.getCellPosition(),l=this.isCellEditable(o),u=this.isCellEditable(a),c=a&&o.rowIndex===a.rowIndex&&o.rowPinned===a.rowPinned;if(l&&t.setFocusOutOnEditor(),!c){var d=t.getRowCtrl();d.stopEditing();var h=s.getRowCtrl();h.startRowEditing(void 0,void 0,r)}return u?(s.setFocusInOnEditor(),s.focusCell()):s.focusCell(!0),!0},e.prototype.moveToNextCellNotEditing=function(t,n){var r=this.columnModel.getAllDisplayedColumns(),o;t instanceof au?o=r_(r_({},t.getRowPosition()),{column:n?r[0]:Je(r)}):o=t.getCellPosition();var s=this.findNextCellToFocusOn(o,n,!1);if(s instanceof su)s.focusCell(!0);else if(s)return this.tryToFocusFullWidthRow(s.getRowPosition(),n);return B(s)},e.prototype.findNextCellToFocusOn=function(t,n,r){for(var o=t;;){t!==o&&(t=o),n||(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextTabbedCell(o,n);var s=this.gridOptionsService.getCallback("tabToNextCell");if(B(s)){var a={backwards:n,editing:r,previousCellPosition:t,nextCellPosition:o||null},l=s(a);B(l)?(l.floating&&(Se("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),l.rowPinned=l.floating),o={rowIndex:l.rowIndex,column:l.column,rowPinned:l.rowPinned}):o=null}if(!o)return null;if(o.rowIndex<0){var u=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:u+o.rowIndex,column:o.column},fromCell:!0}),null}var c=this.gridOptionsService.get("editType")==="fullRow";if(r&&!c){var d=this.isCellEditable(o);if(!d)continue}this.ensureCellVisible(o);var h=this.getCellByPosition(o);if(!h){var p=this.rowRenderer.getRowByPosition(o);if(!p||!p.isFullWidth()||r)continue;return p}if(!h.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(o),h}},e.prototype.isCellEditable=function(t){var n=this.lookupRowNodeForCell(t);return n?t.column.isCellEditable(n):!1},e.prototype.getCellByPosition=function(t){var n=this.rowRenderer.getRowByPosition(t);return n?n.getCellCtrl(t.column):null},e.prototype.lookupRowNodeForCell=function(t){return t.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(t.rowIndex):t.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(t.rowIndex):this.paginationProxy.getRow(t.rowIndex)},e.prototype.navigateToNextCell=function(t,n,r,o){for(var s=r,a=!1;s&&(s===r||!this.isValidNavigateCell(s));)this.gridOptionsService.get("enableRtl")?n===I.LEFT&&(s=this.getLastCellOfColSpan(s)):n===I.RIGHT&&(s=this.getLastCellOfColSpan(s)),s=this.cellNavigationService.getNextCellToFocus(n,s),a=ue(s);if(a&&t&&t.key===I.UP&&(s={rowIndex:-1,rowPinned:null,column:r.column}),o){var l=this.gridOptionsService.getCallback("navigateToNextCell");if(B(l)){var u={key:n,previousCellPosition:r,nextCellPosition:s||null,event:t},c=l(u);B(c)?(c.floating&&(Se("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),c.rowPinned=c.floating),s={rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}):s=null}}if(s){if(s.rowIndex<0){var d=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:d+s.rowIndex,column:r.column},event:t||void 0,fromCell:!0});return}var h=this.getNormalisedPosition(s);h?this.focusPosition(h):this.tryToFocusFullWidthRow(s)}},e.prototype.getNormalisedPosition=function(t){this.ensureCellVisible(t);var n=this.getCellByPosition(t);return n?(t=n.getCellPosition(),this.ensureCellVisible(t),t):null},e.prototype.tryToFocusFullWidthRow=function(t,n){n===void 0&&(n=!1);var r=this.columnModel.getAllDisplayedColumns(),o=this.rowRenderer.getRowByPosition(t);if(!o||!o.isFullWidth())return!1;var s=this.focusService.getFocusedCell(),a={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:t.column||(n?Je(r):r[0])};this.focusPosition(a);var l=s!=null?this.rowPositionUtils.before(a,s):!1,u={type:C.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:a.rowIndex,rowPinned:a.rowPinned,column:a.column,isFullWidthCell:!0,floating:a.rowPinned,fromBelow:l};return this.eventService.dispatchEvent(u),!0},e.prototype.focusPosition=function(t){this.focusService.setFocusedCell({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(t)},e.prototype.isValidNavigateCell=function(t){var n=this.rowPositionUtils.getRowNode(t);return!!n},e.prototype.getLastCellOfColSpan=function(t){var n=this.getCellByPosition(t);if(!n)return t;var r=n.getColSpanningList();return r.length===1?t:{rowIndex:t.rowIndex,column:Je(r),rowPinned:t.rowPinned}},e.prototype.ensureCellVisible=function(t){var n=this.gridOptionsService.isGroupRowsSticky(),r=this.rowModel.getRow(t.rowIndex),o=n&&r?.sticky;!o&&ue(t.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t.rowIndex),t.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(t.column)},yi([y("mouseEventService")],e.prototype,"mouseEventService",void 0),yi([y("paginationProxy")],e.prototype,"paginationProxy",void 0),yi([y("focusService")],e.prototype,"focusService",void 0),yi([$e("rangeService")],e.prototype,"rangeService",void 0),yi([y("columnModel")],e.prototype,"columnModel",void 0),yi([y("rowModel")],e.prototype,"rowModel",void 0),yi([y("ctrlsService")],e.prototype,"ctrlsService",void 0),yi([y("rowRenderer")],e.prototype,"rowRenderer",void 0),yi([y("headerNavigationService")],e.prototype,"headerNavigationService",void 0),yi([y("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),yi([y("cellNavigationService")],e.prototype,"cellNavigationService",void 0),yi([y("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),yi([W],e.prototype,"postConstruct",null),e=yi([ee("navigationService")],e),e}(j),Zse=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Xse=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Jse=function(i){Zse(e,i);function e(t){var n=i.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return n.params=t,n}return e.prototype.postConstruct=function(){this.gridOptionsService.setDomData(this.getGui(),e.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},e.prototype.addKeyDownListener=function(){var t=this,n=this.getGui(),r=this.params,o=function(s){QC(t.gridOptionsService,s,r.node,r.column,!0)||r.onKeyDown(s)};this.addManagedListener(n,"keydown",o)},e.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",Xse([W],e.prototype,"postConstruct",null),e}(pu),eae=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),tae=function(i){eae(e,i);function e(t,n,r,o,s){var a=i.call(this)||this;a.rendererVersion=0,a.editorVersion=0,a.beans=t,a.column=n.getColumn(),a.rowNode=n.getRowNode(),a.rowCtrl=n.getRowCtrl(),a.eRow=o,a.cellCtrl=n;var l=document.createElement("div");l.setAttribute("comp-id","".concat(a.getCompId())),a.setTemplateFromElement(l);var u=a.getGui();a.forceWrapper=n.isForceWrapper(),a.refreshWrapper(!1);var c=function(p,f){f!=null&&f!=""?u.setAttribute(p,f):u.removeAttribute(p)};fn(u,n.getCellAriaRole()),c("col-id",n.getColumnIdSanitised());var d=n.getTabIndex();d!==void 0&&c("tabindex",d.toString());var h={addOrRemoveCssClass:function(p,f){return a.addOrRemoveCssClass(p,f)},setUserStyles:function(p){return hO(u,p)},getFocusableElement:function(){return a.getFocusableElement()},setIncludeSelection:function(p){return a.includeSelection=p},setIncludeRowDrag:function(p){return a.includeRowDrag=p},setIncludeDndSource:function(p){return a.includeDndSource=p},setRenderDetails:function(p,f,g){return a.setRenderDetails(p,f,g)},setEditDetails:function(p,f,g){return a.setEditDetails(p,f,g)},getCellEditor:function(){return a.cellEditor||null},getCellRenderer:function(){return a.cellRenderer||null},getParentOfValue:function(){return a.getParentOfValue()}};return n.setComp(h,a.getGui(),a.eCellWrapper,r,s),a}return e.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},e.prototype.setRenderDetails=function(t,n,r){var o=this.cellEditor&&!this.cellEditorPopupWrapper;if(!o){this.firstRender=this.firstRender==null;var s=this.refreshWrapper(!1);if(this.refreshEditStyles(!1),t){var a=r||s,l=a?!1:this.refreshCellRenderer(t);l||(this.destroyRenderer(),this.createCellRendererInstance(t))}else this.destroyRenderer(),this.insertValueWithoutCellRenderer(n)}},e.prototype.setEditDetails=function(t,n,r){t?this.createCellEditorInstance(t,n,r):this.destroyEditor()},e.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},e.prototype.refreshWrapper=function(t){var n=this.includeRowDrag||this.includeDndSource||this.includeSelection,r=n||this.forceWrapper,o=r&&this.eCellWrapper==null;if(o){var s=document.createElement("div");s.setAttribute("role","presentation"),s.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=s,this.getGui().appendChild(this.eCellWrapper)}var a=!r&&this.eCellWrapper!=null;a&&(Ts(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!r);var l=!t&&r,u=l&&this.eCellValue==null;if(u){var c=document.createElement("span");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-value"),this.eCellValue=c,this.eCellWrapper.appendChild(this.eCellValue)}var d=!l&&this.eCellValue!=null;d&&(Ts(this.eCellValue),this.eCellValue=void 0);var h=o||a||u||d;return h&&this.removeControls(),t||n&&this.addControls(),h},e.prototype.addControls=function(){this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))},e.prototype.createCellEditorInstance=function(t,n,r){var o=this,s=this.editorVersion,a=t.newAgStackInstance();if(a){var l=t.params;a.then(function(c){return o.afterCellEditorCreated(s,c,l,n,r)});var u=ue(this.cellEditor);u&&l.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},e.prototype.insertValueWithoutCellRenderer=function(t){var n=this.getParentOfValue();Rn(n);var r=t!=null?tn(t,!0):null;r!=null&&(n.textContent=r)},e.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},e.prototype.destroyRenderer=function(){var t=this.beans.context;this.cellRenderer=t.destroyBean(this.cellRenderer),Ts(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},e.prototype.destroyEditor=function(){var t=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=t.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=t.destroyBean(this.cellEditorPopupWrapper),Ts(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},e.prototype.refreshCellRenderer=function(t){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==t.componentClass)return!1;var n=this.cellRenderer.refresh(t.params);return n===!0||n===void 0},e.prototype.createCellRendererInstance=function(t){var n=this,r=this.beans.gridOptionsService.get("suppressAnimationFrame"),o=!r,s=this.rendererVersion,a=t.componentClass,l=function(){var u=n.rendererVersion!==s||!n.isAlive();if(!u){var c=t.newAgStackInstance(),d=n.afterCellRendererCreated.bind(n,s,a);c&&c.then(d)}};o&&this.firstRender?this.beans.animationFrameService.createTask(l,this.rowNode.rowIndex,"createTasksP2"):l()},e.prototype.getCtrl=function(){return this.cellCtrl},e.prototype.getRowCtrl=function(){return this.rowCtrl},e.prototype.getCellRenderer=function(){return this.cellRenderer},e.prototype.getCellEditor=function(){return this.cellEditor},e.prototype.afterCellRendererCreated=function(t,n,r){var o=!this.isAlive()||t!==this.rendererVersion;if(o){this.beans.context.destroyBean(r);return}if(this.cellRenderer=r,this.cellRendererClass=n,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){var s=this.getParentOfValue();Rn(s),s.appendChild(this.cellRendererGui)}},e.prototype.afterCellEditorCreated=function(t,n,r,o,s){var a=t!==this.editorVersion;if(a){this.beans.context.destroyBean(n);return}var l=n.isCancelBeforeStart&&n.isCancelBeforeStart();if(l){this.beans.context.destroyBean(n),this.cellCtrl.stopEditing(!0);return}if(!n.getGui){console.warn("AG Grid: cellEditor for column ".concat(this.column.getId()," is missing getGui() method")),this.beans.context.destroyBean(n);return}this.cellEditor=n,this.cellEditorGui=n.getGui();var u=o||n.isPopup!==void 0&&n.isPopup();u?this.addPopupCellEditor(r,s):this.addInCellEditor(),this.refreshEditStyles(!0,u),n.afterGuiAttached&&n.afterGuiAttached()},e.prototype.refreshEditStyles=function(t,n){var r;this.addOrRemoveCssClass("ag-cell-inline-editing",t&&!n),this.addOrRemoveCssClass("ag-cell-popup-editing",t&&!!n),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!t||!!n),(r=this.rowCtrl)===null||r===void 0||r.setInlineEditingCss(t)},e.prototype.addInCellEditor=function(){var t=this.getGui(),n=this.beans.gridOptionsService.getDocument();if(t.contains(n.activeElement)&&t.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui){var r=this.getParentOfValue();r.appendChild(this.cellEditorGui)}},e.prototype.addPopupCellEditor=function(t,n){var r=this;this.beans.gridOptionsService.get("editType")==="fullRow"&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var o=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new Jse(t));var s=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&s.appendChild(this.cellEditorGui);var a=this.beans.popupService,l=this.beans.gridOptionsService.get("stopEditingWhenCellsLoseFocus"),u=n??(o.getPopupPosition?o.getPopupPosition():"over"),c=this.beans.gridOptionsService.get("enableRtl"),d={ePopup:s,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:u,alignSide:c?"right":"left",keepWithinBounds:!0},h=a.positionPopupByComponent.bind(a,d),p=this.beans.localeService.getLocaleTextFunc(),f=a.addPopup({modal:l,eChild:s,closeOnEsc:!0,closedCallback:function(){r.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:h,ariaLabel:p("ariaLabelCellEditor","Cell Editor")});f&&(this.hideEditorPopup=f.hideFunc)},e.prototype.detach=function(){this.eRow.removeChild(this.getGui())},e.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),i.prototype.destroy.call(this)},e.prototype.clearParentOfValue=function(){var t=this.getGui(),n=this.beans.gridOptionsService.getDocument();t.contains(n.activeElement)&&nO()&&t.focus({preventScroll:!0}),Rn(this.getParentOfValue())},e}(be),nae=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),iae=function(i){nae(e,i);function e(t,n,r){var o=i.call(this)||this;o.cellComps={},o.beans=n,o.rowCtrl=t;var s=document.createElement("div");s.setAttribute("comp-id","".concat(o.getCompId())),s.setAttribute("style",o.getInitialStyle(r)),o.setTemplateFromElement(s);var a=o.getGui(),l=a.style;o.domOrder=o.rowCtrl.getDomOrder(),fn(a,"row");var u=o.rowCtrl.getTabIndex();u!=null&&a.setAttribute("tabindex",u.toString());var c={setDomOrder:function(d){return o.domOrder=d},setCellCtrls:function(d){return o.setCellCtrls(d)},showFullWidth:function(d){return o.showFullWidth(d)},getFullWidthCellRenderer:function(){return o.getFullWidthCellRenderer()},addOrRemoveCssClass:function(d,h){return o.addOrRemoveCssClass(d,h)},setUserStyles:function(d){return hO(a,d)},setTop:function(d){return l.top=d},setTransform:function(d){return l.transform=d},setRowIndex:function(d){return a.setAttribute("row-index",d)},setRowId:function(d){return a.setAttribute("row-id",d)},setRowBusinessKey:function(d){return a.setAttribute("row-business-key",d)},refreshFullWidth:function(d){return o.refreshFullWidth(d)}};return t.setComp(c,o.getGui(),r),o.addDestroyFunc(function(){t.unsetComp(r)}),o}return e.prototype.getInitialStyle=function(t){var n=this.rowCtrl.getInitialTransform(t);return n?"transform: ".concat(n):"top: ".concat(this.rowCtrl.getInitialRowTop(t))},e.prototype.showFullWidth=function(t){var n=this,r=function(s){if(n.isAlive()){var a=s.getGui();n.getGui().appendChild(a),n.rowCtrl.setupDetailRowAutoHeight(a),n.setFullWidthRowComp(s)}else n.beans.context.destroyBean(s)},o=t.newAgStackInstance();o&&o.then(r)},e.prototype.setCellCtrls=function(t){var n=this,r=Object.assign({},this.cellComps);t.forEach(function(s){var a=s.getInstanceId(),l=n.cellComps[a];l==null?n.newCellComp(s):r[a]=null});var o=La(r).filter(function(s){return s!=null});this.destroyCells(o),this.ensureDomOrder(t)},e.prototype.ensureDomOrder=function(t){var n=this;if(this.domOrder){var r=[];t.forEach(function(o){var s=n.cellComps[o.getInstanceId()];s&&r.push(s.getGui())}),dO(this.getGui(),r)}},e.prototype.newCellComp=function(t){var n=new tae(this.beans,t,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[t.getInstanceId()]=n,this.getGui().appendChild(n.getGui())},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.destroyAllCells()},e.prototype.destroyAllCells=function(){var t=La(this.cellComps).filter(function(n){return n!=null});this.destroyCells(t)},e.prototype.setFullWidthRowComp=function(t){var n=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=t,this.addDestroyFunc(function(){n.fullWidthCellRenderer=n.beans.context.destroyBean(n.fullWidthCellRenderer)})},e.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},e.prototype.destroyCells=function(t){var n=this;t.forEach(function(r){if(r){var o=r.getCtrl().getInstanceId();n.cellComps[o]===r&&(r.detach(),r.destroy(),n.cellComps[o]=null)}})},e.prototype.refreshFullWidth=function(t){var n=this.fullWidthCellRenderer;if(!n||!n.refresh)return!1;var r=t();return n.refresh(r)},e}(be),rae=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),LA=function(){return LA=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},LA.apply(this,arguments)},Kp=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o};function oae(){var i=be.elementGettingCreated.getAttribute("name"),e=Yj.getRowContainerCssClasses(i),t,n=i===L.CENTER||i===L.TOP_CENTER||i===L.STICKY_TOP_CENTER||i===L.BOTTOM_CENTER;return n?t='<div class="'.concat(e.viewport,`" ref="eViewport" role="presentation">
                <div class="`).concat(e.container,`" ref="eContainer"></div>
            </div>`):t='<div class="'.concat(e.container,'" ref="eContainer"></div>'),t}var sae=function(i){rae(e,i);function e(){var t=i.call(this,oae())||this;return t.rowComps={},t.name=be.elementGettingCreated.getAttribute("name"),t.type=Gse(t.name),t}return e.prototype.postConstruct=function(){var t=this,n={setViewportHeight:function(o){return t.eViewport.style.height=o},setRowCtrls:function(o){var s=o.rowCtrls;return t.setRowCtrls(s)},setDomOrder:function(o){t.domOrder=o},setContainerWidth:function(o){return t.eContainer.style.width=o}},r=this.createManagedBean(new Yj(this.name));r.setComp(n,this.eContainer,this.eViewport)},e.prototype.preDestroy=function(){this.setRowCtrls([])},e.prototype.setRowCtrls=function(t){var n=this,r=LA({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;var o=function(s){var a=s.getInstanceId(),l=r[a];if(l)n.rowComps[a]=l,delete r[a],n.ensureDomOrder(l.getGui());else{if(!s.getRowNode().displayed)return;var u=new iae(s,n.beans,n.type);n.rowComps[a]=u,n.appendRow(u.getGui())}};t.forEach(o),La(r).forEach(function(s){n.eContainer.removeChild(s.getGui()),s.destroy()}),fn(this.eContainer,"rowgroup")},e.prototype.appendRow=function(t){this.domOrder?uj(this.eContainer,t,this.lastPlacedElement):this.eContainer.appendChild(t),this.lastPlacedElement=t},e.prototype.ensureDomOrder=function(t){this.domOrder&&(cO(this.eContainer,t,this.lastPlacedElement),this.lastPlacedElement=t)},Kp([y("beans")],e.prototype,"beans",void 0),Kp([Z("eViewport")],e.prototype,"eViewport",void 0),Kp([Z("eContainer")],e.prototype,"eContainer",void 0),Kp([W],e.prototype,"postConstruct",null),Kp([oi],e.prototype,"preDestroy",null),e}(be),PH=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},aae=function(){function i(e){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}return i.prototype.onDragEnter=function(e){var t=this;if(this.clearColumnsList(),!this.gridOptionsService.get("functionsReadOnly")){var n=e.dragItem.columns;n&&n.forEach(function(r){r.isPrimary()&&(r.isAnyFunctionActive()||(r.isAllowValue()?t.columnsToAggregate.push(r):r.isAllowRowGroup()?t.columnsToGroup.push(r):r.isAllowPivot()&&t.columnsToPivot.push(r)))})}},i.prototype.getIconName=function(){var e=this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length;return e>0?this.pinned?hn.ICON_PINNED:hn.ICON_MOVE:null},i.prototype.onDragLeave=function(e){this.clearColumnsList()},i.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},i.prototype.onDragging=function(e){},i.prototype.onDragStop=function(e){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},PH([y("columnModel")],i.prototype,"columnModel",void 0),PH([y("gridOptionsService")],i.prototype,"gridOptionsService",void 0),i}(),lae=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},lu=function(){function i(){}return i.attemptMoveColumns=function(e){var t=e.isFromHeader,n=e.hDirection,r=e.xPosition,o=e.fromEnter,s=e.fakeEvent,a=e.pinned,l=e.gridOptionsService,u=e.columnModel,c=n===Ri.Left,d=n===Ri.Right,h=e.allMovingColumns;if(t){var p=[];h.forEach(function($){for(var oe,Ae=null,tt=$.getParent();tt!=null&&tt.getDisplayedLeafColumns().length===1;)Ae=tt,tt=tt.getParent();if(Ae!=null){var je=!!(!((oe=Ae.getColGroupDef())===null||oe===void 0)&&oe.marryChildren),J=je?Ae.getProvidedColumnGroup().getLeafColumns():Ae.getLeafColumns();J.forEach(function(Y){p.includes(Y)||p.push(Y)})}else p.includes($)||p.push($)}),h=p}var f=h.slice();u.sortColumnsLikeGridColumns(f);var g=this.calculateValidMoves({movingCols:f,draggingRight:d,xPosition:r,pinned:a,gridOptionsService:l,columnModel:u}),v=this.calculateOldIndex(f,u);if(g.length!==0){var m=g[0],_=v!==null&&!o;if(t&&(_=v!==null),!(_&&!s&&(c&&m>=v||d&&m<=v))){for(var w=u.getAllDisplayedColumns(),S=[],R=null,T=0;T<g.length;T++){var x=g[T],A=u.getProposedColumnOrder(f,x);if(u.doesOrderPassRules(A)){var U=A.filter(function($){return w.includes($)});if(R===null)R=U;else if(!Rs(U,R))break;var q=this.groupFragCount(A);S.push({move:x,fragCount:q})}}if(S.length!==0)return S.sort(function($,oe){return $.fragCount-oe.fragCount}),this.moveColumns(h,S[0].move,"uiColumnMoved",!1,u)}}},i.moveColumns=function(e,t,n,r,o){return o.moveColumns(e,t,n,r),r?null:{columns:e,toIndex:t}},i.calculateOldIndex=function(e,t){var n=t.getAllGridColumns(),r=OB(e.map(function(u){return n.indexOf(u)})),o=r[0],s=Je(r),a=s-o,l=a!==r.length-1;return l?null:o},i.groupFragCount=function(e){function t(s){for(var a=[],l=s.getOriginalParent();l!=null;)a.push(l),l=l.getOriginalParent();return a}for(var n=0,r=function(s){var a,l=t(e[s]),u=t(e[s+1]);a=lae(l.length>u.length?[l,u]:[u,l],2),l=a[0],u=a[1],l.forEach(function(c){u.indexOf(c)===-1&&n++})},o=0;o<e.length-1;o++)r(o);return n},i.calculateValidMoves=function(e){var t=e.movingCols,n=e.draggingRight,r=e.xPosition,o=e.pinned,s=e.gridOptionsService,a=e.columnModel,l=s.get("suppressMovableColumns")||t.some(function($){return $.getColDef().suppressMovable});if(l)return[];var u=a.getDisplayedColumns(o),c=a.getAllGridColumns(),d=u.filter(function($){return Xr(t,$)}),h=u.filter(function($){return!Xr(t,$)}),p=c.filter(function($){return!Xr(t,$)}),f=0,g=r;if(n){var v=0;d.forEach(function($){return v+=$.getActualWidth()}),g-=v}if(g>0){for(var m=0;m<h.length;m++){var _=h[m];if(g-=_.getActualWidth(),g<0)break;f++}n&&f++}var w;if(f>0){var S=h[f-1];w=p.indexOf(S)+1}else w=p.indexOf(h[0]),w===-1&&(w=0);var R=[w],T=function($,oe){return $-oe};if(n){for(var x=w+1,A=c.length-1;x<=A;)R.push(x),x++;R.sort(T)}else{for(var x=w,A=c.length-1,U=c[x];x<=A&&u.indexOf(U)<0;)x++,R.push(x),U=c[x];x=w-1;for(var q=0;x>=q;)R.push(x),x--;R.sort(T).reverse()}return R},i.normaliseX=function(e,t,n,r,o){var s=o.getHeaderRowContainerCtrl(t).getViewport();if(n&&(e-=s.getBoundingClientRect().left),r.get("enableRtl")){var a=s.clientWidth;e=a-e}return t==null&&(e+=o.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),e},i}(),Yp=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},uae=function(){function i(e,t){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.eContainer=t,this.centerContainer=!B(e)}return i.prototype.init=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCon=e.ctrlsService.getGridBodyCtrl()})},i.prototype.getIconName=function(){return this.pinned?hn.ICON_PINNED:hn.ICON_MOVE},i.prototype.onDragEnter=function(e){var t=e.dragItem.columns,n=e.dragSource.type===Xi.ToolPanel;if(n)this.setColumnsVisible(t,!0,"uiColumnDragged");else{var r=e.dragItem.visibleState,o=(t||[]).filter(function(s){return r[s.getId()]});this.setColumnsVisible(o,!0,"uiColumnDragged")}this.setColumnsPinned(t,this.pinned,"uiColumnDragged"),this.onDragging(e,!0,!0)},i.prototype.onDragLeave=function(){this.ensureIntervalCleared(),this.lastMovedInfo=null},i.prototype.setColumnsVisible=function(e,t,n){if(n===void 0&&(n="api"),e){var r=e.filter(function(o){return!o.getColDef().lockVisible});this.columnModel.setColumnsVisible(r,t,n)}},i.prototype.setColumnsPinned=function(e,t,n){if(n===void 0&&(n="api"),e){var r=e.filter(function(o){return!o.getColDef().lockPinned});this.columnModel.setColumnsPinned(r,t,n)}},i.prototype.onDragStop=function(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null},i.prototype.checkCenterForScrolling=function(e){if(this.centerContainer){var t=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),n=t+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.get("enableRtl")?(this.needToMoveRight=e<t+50,this.needToMoveLeft=e>n-50):(this.needToMoveLeft=e<t+50,this.needToMoveRight=e>n-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},i.prototype.onDragging=function(e,t,n,r){var o=this,s;if(e===void 0&&(e=this.lastDraggingEvent),t===void 0&&(t=!1),n===void 0&&(n=!1),r===void 0&&(r=!1),r){if(this.lastMovedInfo){var a=this.lastMovedInfo,l=a.columns,u=a.toIndex;lu.moveColumns(l,u,"uiColumnMoved",!0,this.columnModel)}return}if(this.lastDraggingEvent=e,!ue(e.hDirection)){var c=lu.normaliseX(e.x,this.pinned,!1,this.gridOptionsService,this.ctrlsService);t||this.checkCenterForScrolling(c);var d=this.normaliseDirection(e.hDirection),h=e.dragSource.type,p=((s=e.dragSource.getDragItem().columns)===null||s===void 0?void 0:s.filter(function(g){return g.getColDef().lockPinned?g.getPinned()==o.pinned:!0}))||[],f=lu.attemptMoveColumns({allMovingColumns:p,isFromHeader:h===Xi.HeaderCell,hDirection:d,xPosition:c,pinned:this.pinned,fromEnter:t,fakeEvent:n,gridOptionsService:this.gridOptionsService,columnModel:this.columnModel});f&&(this.lastMovedInfo=f)}},i.prototype.normaliseDirection=function(e){if(this.gridOptionsService.get("enableRtl"))switch(e){case Ri.Left:return Ri.Right;case Ri.Right:return Ri.Left;default:console.error("AG Grid: Unknown direction ".concat(e))}else return e},i.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(hn.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(hn.ICON_RIGHT,!0))},i.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(hn.ICON_MOVE))},i.prototype.moveInterval=function(){var e;this.intervalCount++,e=10+this.intervalCount*5,e>100&&(e=100);var t=null,n=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var r=this.lastDraggingEvent.dragItem.columns,o=r.filter(function(a){return!a.getColDef().lockPinned});if(o.length>0&&(this.dragAndDropService.setGhostIcon(hn.ICON_PINNED),this.failedMoveAttempts>7)){var s=this.needToMoveLeft?"left":"right";this.setColumnsPinned(o,s,"uiColumnDragged"),this.dragAndDropService.nudge()}}},Yp([y("columnModel")],i.prototype,"columnModel",void 0),Yp([y("dragAndDropService")],i.prototype,"dragAndDropService",void 0),Yp([y("gridOptionsService")],i.prototype,"gridOptionsService",void 0),Yp([y("ctrlsService")],i.prototype,"ctrlsService",void 0),Yp([W],i.prototype,"init",null),i}(),cae=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Qp=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},dae=function(i){cae(e,i);function e(t,n){var r=i.call(this)||this;return r.pinned=t,r.eContainer=n,r}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(n){switch(t.pinned){case"left":t.eSecondaryContainers=[[n.gridBodyCtrl.getBodyViewportElement(),n.leftRowContainerCtrl.getContainerElement()],[n.bottomLeftRowContainerCtrl.getContainerElement()],[n.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":t.eSecondaryContainers=[[n.gridBodyCtrl.getBodyViewportElement(),n.rightRowContainerCtrl.getContainerElement()],[n.bottomRightRowContainerCtrl.getContainerElement()],[n.topRightRowContainerCtrl.getContainerElement()]];break;default:t.eSecondaryContainers=[[n.gridBodyCtrl.getBodyViewportElement(),n.centerRowContainerCtrl.getViewportElement()],[n.bottomCenterRowContainerCtrl.getViewportElement()],[n.topCenterRowContainerCtrl.getViewportElement()]];break}})},e.prototype.isInterestedIn=function(t){return t===Xi.HeaderCell||t===Xi.ToolPanel&&this.gridOptionsService.get("allowDragFromColumnsToolPanel")},e.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},e.prototype.getContainer=function(){return this.eContainer},e.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new uae(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new aae(this.pinned)),this.dragAndDropService.addDropTarget(this)},e.prototype.getIconName=function(){return this.currentDropListener.getIconName()},e.prototype.isDropColumnInPivotMode=function(t){return this.columnModel.isPivotMode()&&t.dragSource.type===Xi.ToolPanel},e.prototype.onDragEnter=function(t){this.currentDropListener=this.isDropColumnInPivotMode(t)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(t)},e.prototype.onDragLeave=function(t){this.currentDropListener.onDragLeave(t)},e.prototype.onDragging=function(t){this.currentDropListener.onDragging(t)},e.prototype.onDragStop=function(t){this.currentDropListener.onDragStop(t)},Qp([y("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Qp([y("columnModel")],e.prototype,"columnModel",void 0),Qp([y("ctrlsService")],e.prototype,"ctrlsService",void 0),Qp([W],e.prototype,"postConstruct",null),Qp([W],e.prototype,"init",null),e}(j),hae=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),SC=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},pae=function(i){hae(e,i);function e(t){var n=i.call(this,e.TEMPLATE,t)||this;return n.headerCompVersion=0,n.column=t.getColumnGroupChild(),n.pinned=t.getPinned(),n}return e.prototype.postConstruct=function(){var t=this,n=this.getGui(),r=function(a,l){l!=null&&l!=""?n.setAttribute(a,l):n.removeAttribute(a)};r("col-id",this.column.getColId());var o={setWidth:function(a){return n.style.width=a},addOrRemoveCssClass:function(a,l){return t.addOrRemoveCssClass(a,l)},setAriaDescription:function(a){return zB(n,a)},setAriaSort:function(a){return a?JB(n,a):ej(n)},setUserCompDetails:function(a){return t.setUserCompDetails(a)},getUserCompInstance:function(){return t.headerComp}};this.ctrl.setComp(o,this.getGui(),this.eResize,this.eHeaderCompWrapper);var s=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",s)},e.prototype.destroyHeaderComp=function(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},e.prototype.setUserCompDetails=function(t){var n=this;this.headerCompVersion++;var r=this.headerCompVersion;t.newAgStackInstance().then(function(o){return n.afterCompCreated(r,o)})},e.prototype.afterCompCreated=function(t,n){if(t!=this.headerCompVersion||!this.isAlive()){this.destroyBean(n);return}this.destroyHeaderComp(),this.headerComp=n,this.headerCompGui=n.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())},e.TEMPLATE=`<div class="ag-header-cell" role="columnheader" tabindex="-1">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`,SC([Z("eResize")],e.prototype,"eResize",void 0),SC([Z("eHeaderCompWrapper")],e.prototype,"eHeaderCompWrapper",void 0),SC([W],e.prototype,"postConstruct",null),SC([oi],e.prototype,"destroyHeaderComp",null),e}(SO),fae=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),FH=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},gae=function(i){fae(e,i);function e(t){return i.call(this,e.TEMPLATE,t)||this}return e.prototype.postConstruct=function(){var t=this,n=this.getGui(),r=function(s,a){return a!=null?n.setAttribute(s,a):n.removeAttribute(s)};n.setAttribute("col-id",this.ctrl.getColId());var o={addOrRemoveCssClass:function(s,a){return t.addOrRemoveCssClass(s,a)},setResizableDisplayed:function(s){return qe(t.eResize,s)},setWidth:function(s){return n.style.width=s},setAriaExpanded:function(s){return r("aria-expanded",s)},setUserCompDetails:function(s){return t.setUserCompDetails(s)},getUserCompInstance:function(){return t.headerGroupComp}};this.ctrl.setComp(o,n,this.eResize)},e.prototype.setUserCompDetails=function(t){var n=this;t.newAgStackInstance().then(function(r){return n.afterHeaderCompCreated(r)})},e.prototype.afterHeaderCompCreated=function(t){var n=this,r=function(){return n.destroyBean(t)};if(!this.isAlive()){r();return}var o=this.getGui(),s=t.getGui();o.appendChild(s),this.addDestroyFunc(r),this.headerGroupComp=t,this.ctrl.setDragSource(o)},e.TEMPLATE=`<div class="ag-header-group-cell" role="columnheader" tabindex="-1">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`,FH([Z("eResize")],e.prototype,"eResize",void 0),FH([W],e.prototype,"postConstruct",null),e}(SO),vae=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),NH=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},$n=function(i){return i.COLUMN_GROUP="group",i.COLUMN="column",i.FLOATING_FILTER="filter",i}($n||{}),mae=function(i){vae(e,i);function e(t){var n=i.call(this)||this;return n.headerComps={},n.ctrl=t,n.setTemplate('<div class="'.concat(n.ctrl.getHeaderRowClass(),'" role="row"></div>')),n}return e.prototype.init=function(){var t=this;this.getGui().style.transform=this.ctrl.getTransform(),QA(this.getGui(),this.ctrl.getAriaRowIndex());var n={setHeight:function(r){return t.getGui().style.height=r},setTop:function(r){return t.getGui().style.top=r},setHeaderCtrls:function(r,o){return t.setHeaderCtrls(r,o)},setWidth:function(r){return t.getGui().style.width=r}};this.ctrl.setComp(n)},e.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([],!1)},e.prototype.setHeaderCtrls=function(t,n){var r=this;if(this.isAlive()){var o=this.headerComps;if(this.headerComps={},t.forEach(function(l){var u=l.getInstanceId(),c=o[u];delete o[u],c==null&&(c=r.createHeaderComp(l),r.getGui().appendChild(c.getGui())),r.headerComps[u]=c}),zn(o,function(l,u){r.getGui().removeChild(u.getGui()),r.destroyBean(u)}),n){var s=La(this.headerComps);s.sort(function(l,u){var c=l.getCtrl().getColumnGroupChild().getLeft(),d=u.getCtrl().getColumnGroupChild().getLeft();return c-d});var a=s.map(function(l){return l.getGui()});dO(this.getGui(),a)}}},e.prototype.createHeaderComp=function(t){var n;switch(this.ctrl.getType()){case $n.COLUMN_GROUP:n=new gae(t);break;case $n.FLOATING_FILTER:n=new Toe(t);break;default:n=new pae(t);break}return this.createBean(n),n.setParentComponent(this),n},NH([W],e.prototype,"init",null),NH([oi],e.prototype,"destroyHeaderCtrls",null),e}(be),yae=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Zp=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Cae=0,E_=function(i){yae(e,i);function e(t,n){var r=i.call(this)||this;return r.resizeToggleTimeout=0,r.resizeMultiplier=1,r.resizeFeature=null,r.lastFocusEvent=null,r.dragSource=null,r.columnGroupChild=t,r.parentRowCtrl=n,r.instanceId=t.getUniqueId()+"-"+Cae++,r}return e.prototype.shouldStopEventPropagation=function(t){var n=this.focusService.getFocusedHeader(),r=n.headerRowIndex,o=n.column;return vj(this.gridOptionsService,t,r,o)},e.prototype.getWrapperHasFocus=function(){var t=this.gridOptionsService.getDocument(),n=t.activeElement;return n===this.eGui},e.prototype.setGui=function(t){this.eGui=t,this.addDomData(),this.addManagedListener(this.beans.eventService,C.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onDisplayedColumnsChanged()},e.prototype.onDisplayedColumnsChanged=function(){!this.comp||!this.column||(this.refreshFirstAndLastStyles(),this.refreshAriaColIndex())},e.prototype.refreshFirstAndLastStyles=function(){var t=this,n=t.comp,r=t.column,o=t.beans;S_.refreshFirstAndLastStyles(n,r,o.columnModel)},e.prototype.refreshAriaColIndex=function(){var t=this,n=t.beans,r=t.column,o=n.columnModel.getAriaColumnIndex(r);ZA(this.eGui,o)},e.prototype.addResizeAndMoveKeyboardListeners=function(){this.resizeFeature&&(this.addManagedListener(this.eGui,"keydown",this.onGuiKeyDown.bind(this)),this.addManagedListener(this.eGui,"keyup",this.onGuiKeyUp.bind(this)))},e.prototype.onGuiKeyDown=function(t){var n,r=this.gridOptionsService.getDocument(),o=r.activeElement,s=t.key===I.LEFT||t.key===I.RIGHT;if(this.isResizing&&(t.preventDefault(),t.stopImmediatePropagation()),!(o!==this.eGui||!t.shiftKey&&!t.altKey)&&((this.isResizing||s)&&(t.preventDefault(),t.stopImmediatePropagation()),!!s)){var a=t.key===I.LEFT!==this.gridOptionsService.get("enableRtl"),l=Ri[a?"Left":"Right"];t.altKey?(this.isResizing=!0,this.resizeMultiplier+=1,this.resizeHeader(l,t.shiftKey),(n=this.resizeFeature)===null||n===void 0||n.toggleColumnResizing(!0)):this.moveHeader(l)}},e.prototype.onGuiKeyUp=function(){var t=this;this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=setTimeout(function(){var n;(n=t.resizeFeature)===null||n===void 0||n.toggleColumnResizing(!1)},150))},e.prototype.handleKeyDown=function(t){var n=this.getWrapperHasFocus();switch(t.key){case I.PAGE_DOWN:case I.PAGE_UP:case I.PAGE_HOME:case I.PAGE_END:n&&t.preventDefault()}},e.prototype.addDomData=function(){var t=this,n=e.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,n,this),this.addDestroyFunc(function(){return t.gridOptionsService.setDomData(t.eGui,n,null)})},e.prototype.getGui=function(){return this.eGui},e.prototype.focus=function(t){return this.eGui?(this.lastFocusEvent=t||null,this.eGui.focus(),!0):!1},e.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},e.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},e.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.getColumnGroupChild=function(){return this.columnGroupChild},e.prototype.removeDragSource=function(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.removeDragSource(),this.comp=null,this.column=null,this.resizeFeature=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null,this.eGui=null},e.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",Zp([y("focusService")],e.prototype,"focusService",void 0),Zp([y("beans")],e.prototype,"beans",void 0),Zp([y("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Zp([y("ctrlsService")],e.prototype,"ctrlsService",void 0),Zp([y("dragAndDropService")],e.prototype,"dragAndDropService",void 0),e}(j),_ae=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),wae=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},RO=function(i){_ae(e,i);function e(t,n,r,o){var s=i.call(this)||this;return s.columnOrGroup=t,s.eCell=n,s.ariaEl=s.eCell.querySelector("[role=columnheader]")||s.eCell,s.colsSpanning=o,s.beans=r,s}return e.prototype.setColsSpanning=function(t){this.colsSpanning=t,this.onLeftChanged()},e.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?Je(this.colsSpanning):this.columnOrGroup},e.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,mt.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))},e.prototype.setLeftFirstTime=function(){var t=this.beans.gridOptionsService.get("suppressColumnMoveAnimation"),n=B(this.columnOrGroup.getOldLeft()),r=this.beans.columnAnimationService.isActive()&&n&&!t;r?this.animateInLeft():this.onLeftChanged()},e.prototype.animateInLeft=function(){var t=this,n=this.getColumnOrGroup(),r=n.getLeft(),o=n.getOldLeft(),s=this.modifyLeftForPrintLayout(n,o),a=this.modifyLeftForPrintLayout(n,r);this.setLeft(s),this.actualLeft=a,this.beans.columnAnimationService.executeNextVMTurn(function(){t.actualLeft===a&&t.setLeft(a)})},e.prototype.onLeftChanged=function(){var t=this.getColumnOrGroup(),n=t.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(t,n),this.setLeft(this.actualLeft)},e.prototype.modifyLeftForPrintLayout=function(t,n){var r=this.beans.gridOptionsService.isDomLayout("print");if(!r||t.getPinned()==="left")return n;var o=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(t.getPinned()==="right"){var s=this.beans.columnModel.getBodyContainerWidth();return o+s+n}return o+n},e.prototype.setLeft=function(t){if(B(t)&&(this.eCell.style.left="".concat(t,"px")),this.columnOrGroup instanceof mt)this.columnOrGroup;else{var n=this.columnOrGroup,r=n.getLeafColumns();if(!r.length)return;r.length>1&&XB(this.ariaEl,r.length),r[0]}},wae([W],e.prototype,"postConstruct",null),e}(j),Sae=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),LH=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},TO=function(i){Sae(e,i);function e(t,n){var r=i.call(this)||this;return r.columns=t,r.element=n,r}return e.prototype.postConstruct=function(){this.gridOptionsService.get("columnHoverHighlight")&&this.addMouseHoverListeners()},e.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},e.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},e.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},LH([y("columnHoverService")],e.prototype,"columnHoverService",void 0),LH([W],e.prototype,"postConstruct",null),e}(j),Eae=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$T=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},bae=function(i){Eae(e,i);function e(t,n){var r=i.call(this,t,n)||this;return r.iconCreated=!1,r.column=t,r}return e.prototype.setComp=function(t,n,r,o){this.comp=t,this.eButtonShowMainFilter=r,this.eFloatingFilterBody=o,this.setGui(n),this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,mt.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))},e.prototype.resizeHeader=function(){},e.prototype.moveHeader=function(){},e.prototype.setupActive=function(){var t=this.column.getColDef(),n=!!t.filter,r=!!t.floatingFilter;this.active=n&&r},e.prototype.setupUi=function(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!(!this.active||this.iconCreated)){var t=Kt("filter",this.gridOptionsService,this.column);t&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(t))}},e.prototype.setupFocus=function(){this.createManagedBean(new du(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},e.prototype.setupAria=function(){var t=this.localeService.getLocaleTextFunc();As(this.eButtonShowMainFilter,t("ariaFilterMenuOpen","Open Filter Menu"))},e.prototype.onTabKeyDown=function(t){var n=this.gridOptionsService.getDocument(),r=n.activeElement,o=r===this.eGui;if(!o){var s=this.focusService.findNextFocusableElement(this.eGui,null,t.shiftKey);if(s){this.beans.headerNavigationService.scrollToColumn(this.column),t.preventDefault(),s.focus();return}var a=this.findNextColumnWithFloatingFilter(t.shiftKey);a&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:a},event:t})&&t.preventDefault()}},e.prototype.findNextColumnWithFloatingFilter=function(t){var n=this.beans.columnModel,r=this.column;do if(r=t?n.getDisplayedColBefore(r):n.getDisplayedColAfter(r),!r)break;while(!r.getColDef().filter||!r.getColDef().floatingFilter);return r},e.prototype.handleKeyDown=function(t){i.prototype.handleKeyDown.call(this,t);var n=this.getWrapperHasFocus();switch(t.key){case I.UP:case I.DOWN:n||t.preventDefault();case I.LEFT:case I.RIGHT:if(n)return;t.stopPropagation();case I.ENTER:n&&this.focusService.focusInto(this.eGui)&&t.preventDefault();break;case I.ESCAPE:n||this.eGui.focus()}},e.prototype.onFocusIn=function(t){var n=this.eGui.contains(t.relatedTarget);if(!n){var r=!!t.relatedTarget&&!t.relatedTarget.classList.contains("ag-floating-filter"),o=!!t.relatedTarget&&ru(t.relatedTarget,"ag-floating-filter");if(r&&o&&t.target===this.eGui){var s=this.lastFocusEvent,a=!!(s&&s.key===I.TAB);if(s&&a){var l=s.shiftKey;this.focusService.focusInto(this.eGui,l)}}var u=this.getRowIndex();this.beans.focusService.setFocusedHeader(u,this.column)}},e.prototype.setupHover=function(){var t=this;this.createManagedBean(new TO([this.column],this.eGui));var n=function(){if(t.gridOptionsService.get("columnHoverHighlight")){var r=t.columnHoverService.isHovered(t.column);t.comp.addOrRemoveCssClass("ag-column-hover",r)}};this.addManagedListener(this.eventService,C.EVENT_COLUMN_HOVER_CHANGED,n),n()},e.prototype.setupLeft=function(){var t=new RO(this.column,this.eGui,this.beans);this.createManagedBean(t)},e.prototype.setupFilterButton=function(){var t=this.column.getColDef();this.suppressFilterButton=t.floatingFilterComponentParams?!!t.floatingFilterComponentParams.suppressFilterButton:!1},e.prototype.setupUserComp=function(){var t=this;if(this.active){var n=this.filterManager.getFloatingFilterCompDetails(this.column,function(){return t.showParentFilter()});n&&this.setCompDetails(n)}},e.prototype.setCompDetails=function(t){this.userCompDetails=t,this.comp.setCompDetails(t)},e.prototype.showParentFilter=function(){var t=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuFactory.showMenuAfterButtonClick(this.column,t,"floatingFilter","filterMenuTab",["filterMenuTab"])},e.prototype.setupSyncWithFilter=function(){var t=this;if(this.active){var n=function(r){var o=t.comp.getFloatingFilterComp();o&&o.then(function(s){if(s){var a=t.filterManager.getCurrentFloatingFilterParentModel(t.column);s.onParentModelChanged(a,r)}})};this.destroySyncListener=this.addManagedListener(this.column,mt.EVENT_FILTER_CHANGED,n),this.filterManager.isFilterActive(this.column)&&n(null)}},e.prototype.setupWidth=function(){var t=this,n=function(){var r="".concat(t.column.getActualWidth(),"px");t.comp.setWidth(r)};this.addManagedListener(this.column,mt.EVENT_WIDTH_CHANGED,n),n()},e.prototype.setupFilterChangedListener=function(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,mt.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)))},e.prototype.updateFilterButton=function(){!this.suppressFilterButton&&this.comp&&this.comp.setButtonWrapperDisplayed(this.filterManager.isFilterAllowed(this.column))},e.prototype.onColDefChanged=function(){var t=this,n,r,o=this.active;this.setupActive();var s=!o&&this.active;o&&!this.active&&((n=this.destroySyncListener)===null||n===void 0||n.call(this),(r=this.destroyFilterChangedListener)===null||r===void 0||r.call(this));var a=this.active?this.filterManager.getFloatingFilterCompDetails(this.column,function(){return t.showParentFilter()}):null,l=this.comp.getFloatingFilterComp();!l||!a?this.updateCompDetails(a,s):l.then(function(u){var c;!u||t.filterManager.areFilterCompsDifferent((c=t.userCompDetails)!==null&&c!==void 0?c:null,a)?t.updateCompDetails(a,s):t.updateFloatingFilterParams(a)})},e.prototype.updateCompDetails=function(t,n){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(),this.setupFilterChangedListener()))},e.prototype.updateFloatingFilterParams=function(t){var n;if(t){var r=t.params;(n=this.comp.getFloatingFilterComp())===null||n===void 0||n.then(function(o){var s=!1;if(o?.refresh&&typeof o.refresh=="function"){var a=o.refresh(r);a!==null&&(s=!0)}!s&&o?.onParamsUpdated&&typeof o.onParamsUpdated=="function"&&o.onParamsUpdated(r)})}},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.destroySyncListener=null,this.destroyFilterChangedListener=null},$T([y("filterManager")],e.prototype,"filterManager",void 0),$T([y("columnHoverService")],e.prototype,"columnHoverService",void 0),$T([y("menuFactory")],e.prototype,"menuFactory",void 0),e}(E_),Dae=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Xp=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Rae=function(i){Dae(e,i);function e(t,n,r,o,s){var a=i.call(this)||this;return a.pinned=t,a.column=n,a.eResize=r,a.comp=o,a.ctrl=s,a}return e.prototype.postConstruct=function(){var t=this,n=[],r,o,s=function(){if(qe(t.eResize,r),!!r){var u=t.horizontalResizeService.addResizeBar({eResizeBar:t.eResize,onResizeStart:t.onResizeStart.bind(t),onResizing:t.onResizing.bind(t,!1),onResizeEnd:t.onResizing.bind(t,!0)});if(n.push(u),o){var c=t.gridOptionsService.get("skipHeaderOnAutoSize"),d=function(){t.columnModel.autoSizeColumn(t.column,c,"uiColumnResized")};t.eResize.addEventListener("dblclick",d);var h=new Zi(t.eResize);h.addEventListener(Zi.EVENT_DOUBLE_TAP,d),n.push(function(){t.eResize.removeEventListener("dblclick",d),h.removeEventListener(Zi.EVENT_DOUBLE_TAP,d),h.destroy()})}}},a=function(){n.forEach(function(u){return u()}),n.length=0},l=function(){var u=t.column.isResizable(),c=!t.gridOptionsService.get("suppressAutoSize")&&!t.column.getColDef().suppressAutoSize,d=u!==r||c!==o;d&&(r=u,o=c,a(),s())};l(),this.addDestroyFunc(a),this.ctrl.addRefreshFunction(l)},e.prototype.onResizing=function(t,n){var r=this,o=r.column,s=r.lastResizeAmount,a=r.resizeStartWidth,l=this.normaliseResizeAmount(n),u=a+l,c=[{key:o,newWidth:u}];if(this.column.getPinned()){var d=this.pinnedWidthService.getPinnedLeftWidth(),h=this.pinnedWidthService.getPinnedRightWidth(),p=cu(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(d+h+(l-s)>p)return}this.lastResizeAmount=l,this.columnModel.setColumnWidths(c,this.resizeWithShiftKey,t,"uiColumnResized"),t&&this.toggleColumnResizing(!1)},e.prototype.onResizeStart=function(t){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=t,this.toggleColumnResizing(!0)},e.prototype.toggleColumnResizing=function(t){this.comp.addOrRemoveCssClass("ag-column-resizing",t)},e.prototype.normaliseResizeAmount=function(t){var n=t,r=this.pinned!=="left",o=this.pinned==="right";return this.gridOptionsService.get("enableRtl")?r&&(n*=-1):o&&(n*=-1),n},Xp([y("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),Xp([y("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),Xp([y("ctrlsService")],e.prototype,"ctrlsService",void 0),Xp([y("columnModel")],e.prototype,"columnModel",void 0),Xp([W],e.prototype,"postConstruct",null),e}(j),Tae=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),kH=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Aae=function(i){Tae(e,i);function e(t){var n=i.call(this)||this;return n.cbSelectAllVisible=!1,n.processingEventFromCheckbox=!1,n.column=t,n}return e.prototype.onSpaceKeyDown=function(t){var n=this.cbSelectAll,r=this.gridOptionsService.getDocument();n.isDisplayed()&&!n.getGui().contains(r.activeElement)&&(t.preventDefault(),n.setValue(!n.getValue()))},e.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},e.prototype.setComp=function(t){this.headerCellCtrl=t,this.cbSelectAll=this.createManagedBean(new C_),this.cbSelectAll.addCssClass("ag-header-select-all"),fn(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,C.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,C.EVENT_FIELD_VALUE_CHANGED,this.onCbSelectAll.bind(this)),p_(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},e.prototype.onNewColumnsLoaded=function(){this.showOrHideSelectAll()},e.prototype.onDisplayedColumnsChanged=function(){this.isAlive()&&this.showOrHideSelectAll()},e.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},e.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},e.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},e.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var t=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(t);var n=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!n),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},e.prototype.refreshSelectAllLabel=function(){var t=this.localeService.getLocaleTextFunc(),n=this.cbSelectAll.getValue(),r=n?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),o=t("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll","".concat(o," (").concat(r,")")):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel("".concat(o," (").concat(r,")")),this.headerCellCtrl.refreshAriaDescription()},e.prototype.checkSelectionType=function(t){var n=this.gridOptionsService.get("rowSelection")==="multiple";return n?!0:(console.warn("AG Grid: ".concat(t," is only available if using 'multiple' rowSelection.")),!1)},e.prototype.checkRightRowModelType=function(t){var n=this.rowModel.getType(),r=n==="clientSide"||n==="serverSide";return r?!0:(console.warn("AG Grid: ".concat(t," is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ").concat(n,".")),!1)},e.prototype.onCbSelectAll=function(){if(!this.processingEventFromCheckbox&&this.cbSelectAllVisible){var t=this.cbSelectAll.getValue(),n=this.isFilteredOnly(),r=this.isCurrentPageOnly(),o="uiSelectAll";r?o="uiSelectAllCurrentPage":n&&(o="uiSelectAllFiltered");var s={source:o,justFiltered:n,justCurrentPage:r};t?this.selectionService.selectAllRowNodes(s):this.selectionService.deselectAllRowNodes(s)}},e.prototype.isCheckboxSelection=function(){var t=this.column.getColDef().headerCheckboxSelection;if(typeof t=="function"){var n=t,r=this.gridOptionsService.addGridCommonParams({column:this.column,colDef:this.column.getColDef()});t=n(r)}return t?this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection"):!1},e.prototype.isFilteredOnly=function(){return!!this.column.getColDef().headerCheckboxSelectionFilteredOnly},e.prototype.isCurrentPageOnly=function(){return!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly},kH([y("rowModel")],e.prototype,"rowModel",void 0),kH([y("selectionService")],e.prototype,"selectionService",void 0),e}(j),Oae=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Zl=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Iae=function(i){Oae(e,i);function e(t,n){var r=i.call(this,t,n)||this;return r.refreshFunctions=[],r.userHeaderClasses=new Set,r.ariaDescriptionProperties=new Map,r.column=t,r}return e.prototype.setComp=function(t,n,r,o){var s=this;this.comp=t,this.setGui(n),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(o),this.addColumnHoverListener(),this.setupFilterClass(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.resizeFeature=this.createManagedBean(new Rae(this.getPinned(),this.column,r,t,this)),this.createManagedBean(new TO([this.column],n)),this.createManagedBean(new RO(this.column,n,this.beans)),this.createManagedBean(new du(n,{shouldStopEventPropagation:function(a){return s.shouldStopEventPropagation(a)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(),this.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],this.refresh.bind(this)),this.addManagedListener(this.column,mt.EVENT_COL_DEF_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,C.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},e.prototype.resizeHeader=function(t,n){var r,o;if(this.column.isResizable()){var s=this.column.getPinned(),a=this.gridOptionsService.get("enableRtl"),l=this.column.getActualWidth(),u=(r=this.column.getMinWidth())!==null&&r!==void 0?r:0,c=(o=this.column.getMaxWidth())!==null&&o!==void 0?o:Number.MAX_SAFE_INTEGER,d=t===Ri.Left;s&&a!==(s==="right")&&(d=!d);var h=(d?-1:1)*this.resizeMultiplier,p=Math.min(Math.max(l+h,u),c);if(s){var f=this.pinnedWidthService.getPinnedLeftWidth(),g=this.pinnedWidthService.getPinnedRightWidth(),v=cu(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(f+g+h>v)return}this.columnModel.setColumnWidths([{key:this.column,newWidth:p}],n,!0)}},e.prototype.moveHeader=function(t){var n=this,r=n.eGui,o=n.column,s=n.columnModel,a=n.gridOptionsService,l=n.ctrlsService,u=this.getPinned(),c=r.getBoundingClientRect().left,d=o.getActualWidth(),h=a.get("enableRtl"),p=t===Ri.Left!==h,f=lu.normaliseX(p?c-20:c+d+20,u,!0,a,l);lu.attemptMoveColumns({allMovingColumns:[o],isFromHeader:!0,hDirection:t,xPosition:f,pinned:u,fromEnter:!1,fakeEvent:!1,gridOptionsService:a,columnModel:s}),l.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(o,"auto")},e.prototype.setupUserComp=function(){var t=this.lookupUserCompDetails();this.setCompDetails(t)},e.prototype.setCompDetails=function(t){this.userCompDetails=t,this.comp.setUserCompDetails(t)},e.prototype.lookupUserCompDetails=function(){var t=this.createParams(),n=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(n,t)},e.prototype.createParams=function(){var t=this,n=this.gridOptionsService.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,showColumnMenu:function(r){t.gridApi.showColumnMenuAfterButtonClick(t.column,r)},progressSort:function(r){t.sortController.progressSort(t.column,!!r,"uiColumnSorted")},setSort:function(r,o){t.sortController.setSortForColumn(t.column,r,!!o,"uiColumnSorted")},eGridHeader:this.getGui()});return n},e.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new Aae(this.column)),this.selectAllFeature.setComp(this)},e.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},e.prototype.handleKeyDown=function(t){i.prototype.handleKeyDown.call(this,t),t.key===I.SPACE&&this.selectAllFeature.onSpaceKeyDown(t),t.key===I.ENTER&&this.onEnterKeyDown(t)},e.prototype.onEnterKeyDown=function(t){var n=this.comp.getUserCompInstance();if(n){if(t.ctrlKey||t.metaKey)this.menuEnabled&&n.showMenu&&(t.preventDefault(),n.showMenu());else if(this.sortable){var r=t.shiftKey;this.sortController.progressSort(this.column,r,"uiColumnSorted")}}},e.prototype.isMenuEnabled=function(){return this.menuEnabled},e.prototype.onFocusIn=function(t){if(!this.getGui().contains(t.relatedTarget)){var n=this.getRowIndex();this.focusService.setFocusedHeader(n,this.column)}this.setActiveHeader(!0)},e.prototype.onFocusOut=function(t){this.getGui().contains(t.relatedTarget)||this.setActiveHeader(!1)},e.prototype.setupTooltip=function(){var t=this,n={getColumn:function(){return t.column},getColDef:function(){return t.column.getColDef()},getGui:function(){return t.eGui},getLocation:function(){return"header"},getTooltipValue:function(){var o=t.column.getColDef().headerTooltip;return o}},r=this.createManagedBean(new bO(n,this.beans));r.setComp(this.eGui),this.refreshFunctions.push(function(){return r.refreshToolTip()})},e.prototype.setupClassesFromColDef=function(){var t=this,n=function(){var r=t.column.getColDef(),o=S_.getHeaderClassesFromColDef(r,t.gridOptionsService,t.column,null),s=t.userHeaderClasses;t.userHeaderClasses=new Set(o),o.forEach(function(a){s.has(a)?s.delete(a):t.comp.addOrRemoveCssClass(a,!0)}),s.forEach(function(a){return t.comp.addOrRemoveCssClass(a,!1)})};this.refreshFunctions.push(n),n()},e.prototype.setDragSource=function(t){var n=this;if(this.dragSourceElement=t,this.removeDragSource(),!(!t||!this.draggable)){var r=this,o=r.column,s=r.columnModel,a=r.displayName,l=r.dragAndDropService,u=r.gridOptionsService,c=!this.gridOptionsService.get("suppressDragLeaveHidesColumns"),d=this.dragSource={type:Xi.HeaderCell,eElement:t,getDefaultIconName:function(){return c?hn.ICON_HIDE:hn.ICON_NOT_ALLOWED},getDragItem:function(){return n.createDragItem(o)},dragItemName:a,onDragStarted:function(){c=!u.get("suppressDragLeaveHidesColumns"),o.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return o.setMoving(!1,"uiColumnMoved")},onGridEnter:function(h){var p;if(c){var f=((p=h?.columns)===null||p===void 0?void 0:p.filter(function(g){return!g.getColDef().lockVisible}))||[];s.setColumnsVisible(f,!0,"uiColumnMoved")}},onGridExit:function(h){var p;if(c){var f=((p=h?.columns)===null||p===void 0?void 0:p.filter(function(g){return!g.getColDef().lockVisible}))||[];s.setColumnsVisible(f,!1,"uiColumnMoved")}}};l.addDragSource(d,!0)}},e.prototype.createDragItem=function(t){var n={};return n[t.getId()]=t.isVisible(),{columns:[t],visibleState:n}},e.prototype.updateState=function(){var t=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!t.suppressMenu,this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},e.prototype.addRefreshFunction=function(t){this.refreshFunctions.push(t)},e.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(function(t){return t()})},e.prototype.refreshHeaderComp=function(){var t=this.lookupUserCompDetails(),n=this.comp.getUserCompInstance(),r=n!=null&&this.userCompDetails.componentClass==t.componentClass,o=r?this.attemptHeaderCompRefresh(t.params):!1;o?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)},e.prototype.attemptHeaderCompRefresh=function(t){var n=this.comp.getUserCompInstance();if(!n||!n.refresh)return!1;var r=n.refresh(t);return r},e.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},e.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},e.prototype.workOutDraggable=function(){var t=this.column.getColDef(),n=this.gridOptionsService.get("suppressMovableColumns"),r=!n&&!t.suppressMovable&&!t.lockPosition;return!!r||!!t.enableRowGroup||!!t.enablePivot},e.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},e.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},e.prototype.onColumnValueChanged=function(){this.checkDisplayName()},e.prototype.setupWidth=function(){var t=this,n=function(){var r=t.column.getActualWidth();t.comp.setWidth("".concat(r,"px"))};this.addManagedListener(this.column,mt.EVENT_WIDTH_CHANGED,n),n()},e.prototype.setupMovingCss=function(){var t=this,n=function(){t.comp.addOrRemoveCssClass("ag-header-cell-moving",t.column.isMoving())};this.addManagedListener(this.column,mt.EVENT_MOVING_CHANGED,n),n()},e.prototype.setupMenuClass=function(){var t=this,n=function(){t.comp.addOrRemoveCssClass("ag-column-menu-visible",t.column.isMenuVisible())};this.addManagedListener(this.column,mt.EVENT_MENU_VISIBLE_CHANGED,n),n()},e.prototype.setupSortableClass=function(){var t=this,n=function(){t.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!t.sortable)};n(),this.addRefreshFunction(n),this.addManagedListener(this.eventService,mt.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},e.prototype.setupFilterClass=function(){var t=this,n=function(){var r=t.column.isFilterActive();t.comp.addOrRemoveCssClass("ag-header-cell-filtered",r),t.refreshAria()};this.addManagedListener(this.column,mt.EVENT_FILTER_ACTIVE_CHANGED,n),n()},e.prototype.setupWrapTextClass=function(){var t=this,n=function(){var r=!!t.column.getColDef().wrapHeaderText;t.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",r)};n(),this.addRefreshFunction(n)},e.prototype.onDisplayedColumnsChanged=function(){i.prototype.onDisplayedColumnsChanged.call(this),this.isAlive()&&this.onHeaderHeightChanged()},e.prototype.onHeaderHeightChanged=function(){this.refreshSpanHeaderHeight()},e.prototype.refreshSpanHeaderHeight=function(){var t=this,n=t.eGui,r=t.column,o=t.comp,s=t.columnModel;if(t.gridOptionsService,!r.isSpanHeaderHeight()){n.style.removeProperty("top"),n.style.removeProperty("height"),o.addOrRemoveCssClass("ag-header-span-height",!1),o.addOrRemoveCssClass("ag-header-span-total",!1);return}var a=this.getColumnGroupPaddingInfo(),l=a.numberOfParents,u=a.isSpanningTotal;o.addOrRemoveCssClass("ag-header-span-height",l>0);var c=s.getColumnHeaderRowHeight();if(l===0){o.addOrRemoveCssClass("ag-header-span-total",!1),n.style.setProperty("top","0px"),n.style.setProperty("height","".concat(c,"px"));return}o.addOrRemoveCssClass("ag-header-span-total",u);var d=s.isPivotMode(),h=d?s.getPivotGroupHeaderHeight():s.getGroupHeaderHeight(),p=l*h;n.style.setProperty("top","".concat(-p,"px")),n.style.setProperty("height","".concat(c+p,"px"))},e.prototype.getColumnGroupPaddingInfo=function(){var t=this.column.getParent();if(!t||!t.isPadding())return{numberOfParents:0,isSpanningTotal:!1};for(var n=t.getPaddingLevel()+1,r=!0;t;){if(!t.isPadding()){r=!1;break}t=t.getParent()}return{numberOfParents:n,isSpanningTotal:r}},e.prototype.setupAutoHeight=function(t){var n=this,r=function(c){if(n.isAlive()){var d=Ga(n.getGui()),h=d.paddingTop,p=d.paddingBottom,f=d.borderBottomWidth,g=d.borderTopWidth,v=h+p+f+g,m=t.offsetHeight,_=m+v;if(c<5){var w=n.beans.gridOptionsService.getDocument(),S=!w||!w.contains(t),R=_==0;if(S||R){window.setTimeout(function(){return r(c+1)},0);return}}n.columnModel.setColumnHeaderHeight(n.column,_)}},o=!1,s,a=function(){var c=n.column.isAutoHeaderHeight();c&&!o&&l(),!c&&o&&u()},l=function(){o=!0,r(0),n.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),s=n.resizeObserverService.observeResize(t,function(){return r(0)})},u=function(){o=!1,s&&s(),n.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),s=void 0};a(),this.addDestroyFunc(function(){return u()}),this.addManagedListener(this.column,mt.EVENT_WIDTH_CHANGED,function(){return o&&r(0)}),this.addManagedListener(this.eventService,mt.EVENT_SORT_CHANGED,function(){o&&window.setTimeout(function(){return r(0)})}),this.addRefreshFunction(a)},e.prototype.refreshAriaSort=function(){if(this.sortable){var t=this.localeService.getLocaleTextFunc(),n=this.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(BB(n)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},e.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var t=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",t("ariaMenuColumn","Press CTRL ENTER to open column menu"))}else this.setAriaDescriptionProperty("menu",null)},e.prototype.refreshAriaFiltered=function(){var t=this.localeService.getLocaleTextFunc(),n=this.column.isFilterActive();n?this.setAriaDescriptionProperty("filter",t("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)},e.prototype.setAriaDescriptionProperty=function(t,n){n!=null?this.ariaDescriptionProperties.set(t,n):this.ariaDescriptionProperties.delete(t)},e.prototype.refreshAriaDescription=function(){var t=this,n=Array.from(this.ariaDescriptionProperties.keys()).sort(function(r,o){return r==="filter"?-1:o.charCodeAt(0)-r.charCodeAt(0)}).map(function(r){return t.ariaDescriptionProperties.get(r)}).join(". ");this.comp.setAriaDescription(n??void 0)},e.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFiltered(),this.refreshAriaDescription()},e.prototype.addColumnHoverListener=function(){var t=this,n=function(){if(t.gridOptionsService.get("columnHoverHighlight")){var r=t.columnHoverService.isHovered(t.column);t.comp.addOrRemoveCssClass("ag-column-hover",r)}};this.addManagedListener(this.eventService,C.EVENT_COLUMN_HOVER_CHANGED,n),n()},e.prototype.getColId=function(){return this.column.getColId()},e.prototype.addActiveHeaderMouseListeners=function(){var t=this,n=function(s){return t.handleMouseOverChange(s.type==="mouseenter")},r=function(s){return t.handleColumnClick(s,!1)},o=function(s){return t.handleColumnClick(s,!0)};this.addManagedListener(this.getGui(),"mouseenter",n),this.addManagedListener(this.getGui(),"mouseleave",n),this.addManagedListener(this.getGui(),"click",r),this.addManagedListener(this.getGui(),"contextmenu",o)},e.prototype.handleMouseOverChange=function(t){this.setActiveHeader(t);var n=t?C.EVENT_COLUMN_HEADER_MOUSE_OVER:C.EVENT_COLUMN_HEADER_MOUSE_LEAVE,r={type:n,column:this.column};this.eventService.dispatchEvent(r)},e.prototype.handleColumnClick=function(t,n){var r=n?C.EVENT_COLUMN_HEADER_CONTEXT_MENU:C.EVENT_COLUMN_HEADER_CLICKED;n&&this.gridOptionsService.get("preventDefaultOnContextMenu")&&t.preventDefault();var o={type:r,column:this.column};this.eventService.dispatchEvent(o)},e.prototype.setActiveHeader=function(t){this.comp.addOrRemoveCssClass("ag-header-active",t)},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.refreshFunctions=null,this.selectAllFeature=null,this.dragSourceElement=null,this.userCompDetails=null,this.userHeaderClasses=null,this.ariaDescriptionProperties=null},Zl([y("columnModel")],e.prototype,"columnModel",void 0),Zl([y("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),Zl([y("columnHoverService")],e.prototype,"columnHoverService",void 0),Zl([y("sortController")],e.prototype,"sortController",void 0),Zl([y("menuFactory")],e.prototype,"menuFactory",void 0),Zl([y("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Zl([y("gridApi")],e.prototype,"gridApi",void 0),e}(E_),Mae=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),EC=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},xae=function(i){Mae(e,i);function e(t,n,r,o){var s=i.call(this)||this;return s.eResize=n,s.comp=t,s.pinned=r,s.columnGroup=o,s}return e.prototype.postConstruct=function(){var t=this;if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}var n=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(n),!this.gridOptionsService.get("suppressAutoSize")){var r=this.gridOptionsService.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",function(){var o=[],s=t.columnGroup.getDisplayedLeafColumns();s.forEach(function(a){a.getColDef().suppressAutoSize||o.push(a.getColId())}),o.length>0&&t.columnModel.autoSizeColumns({columns:o,skipHeader:r,stopAtGroup:t.columnGroup,source:"uiColumnResized"}),t.resizeLeafColumnsToFit("uiColumnResized")})}},e.prototype.onResizeStart=function(t){var n=this.getInitialValues(t);this.storeLocalValues(n),this.toggleColumnResizing(!0)},e.prototype.onResizing=function(t,n,r){r===void 0&&(r="uiColumnResized");var o=this.normaliseDragChange(n),s=this.resizeStartWidth+o;this.resizeColumnsFromLocalValues(s,r,t)},e.prototype.getInitialValues=function(t){var n=this.getColumnsToResize(),r=this.getInitialSizeOfColumns(n),o=this.getSizeRatiosOfColumns(n,r),s={columnsToResize:n,resizeStartWidth:r,resizeRatios:o},a=null;if(t&&(a=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),a){var l=a.getDisplayedLeafColumns(),u=s.groupAfterColumns=l.filter(function(d){return d.isResizable()}),c=s.groupAfterStartWidth=this.getInitialSizeOfColumns(u);s.groupAfterRatios=this.getSizeRatiosOfColumns(u,c)}else s.groupAfterColumns=void 0,s.groupAfterStartWidth=void 0,s.groupAfterRatios=void 0;return s},e.prototype.storeLocalValues=function(t){var n=t.columnsToResize,r=t.resizeStartWidth,o=t.resizeRatios,s=t.groupAfterColumns,a=t.groupAfterStartWidth,l=t.groupAfterRatios;this.resizeCols=n,this.resizeStartWidth=r,this.resizeRatios=o,this.resizeTakeFromCols=s,this.resizeTakeFromStartWidth=a,this.resizeTakeFromRatios=l},e.prototype.clearLocalValues=function(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0},e.prototype.resizeLeafColumnsToFit=function(t){var n=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),r=this.getInitialValues();n>r.resizeStartWidth&&this.resizeColumns(r,n,t,!0)},e.prototype.resizeColumnsFromLocalValues=function(t,n,r){var o,s,a;if(r===void 0&&(r=!0),!(!this.resizeCols||!this.resizeRatios)){var l={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:(o=this.resizeTakeFromCols)!==null&&o!==void 0?o:void 0,groupAfterStartWidth:(s=this.resizeTakeFromStartWidth)!==null&&s!==void 0?s:void 0,groupAfterRatios:(a=this.resizeTakeFromRatios)!==null&&a!==void 0?a:void 0};this.resizeColumns(l,t,n,r)}},e.prototype.resizeColumns=function(t,n,r,o){o===void 0&&(o=!0);var s=t.columnsToResize,a=t.resizeStartWidth,l=t.resizeRatios,u=t.groupAfterColumns,c=t.groupAfterStartWidth,d=t.groupAfterRatios,h=[];if(h.push({columns:s,ratios:l,width:n}),u){var p=n-a;h.push({columns:u,ratios:d,width:c-p})}this.columnModel.resizeColumnSets({resizeSets:h,finished:o,source:r}),o&&this.toggleColumnResizing(!1)},e.prototype.toggleColumnResizing=function(t){this.comp.addOrRemoveCssClass("ag-column-resizing",t)},e.prototype.getColumnsToResize=function(){var t=this.columnGroup.getDisplayedLeafColumns();return t.filter(function(n){return n.isResizable()})},e.prototype.getInitialSizeOfColumns=function(t){return t.reduce(function(n,r){return n+r.getActualWidth()},0)},e.prototype.getSizeRatiosOfColumns=function(t,n){return t.map(function(r){return r.getActualWidth()/n})},e.prototype.normaliseDragChange=function(t){var n=t;return this.gridOptionsService.get("enableRtl")?this.pinned!=="left"&&(n*=-1):this.pinned==="right"&&(n*=-1),n},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.clearLocalValues()},EC([y("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),EC([y("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),EC([y("columnModel")],e.prototype,"columnModel",void 0),EC([W],e.prototype,"postConstruct",null),e}(j),Pae=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Fae=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Nae=function(i){Pae(e,i);function e(t,n){var r=i.call(this)||this;return r.removeChildListenersFuncs=[],r.columnGroup=n,r.comp=t,r}return e.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,dn.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},e.prototype.addListenersToChildrenColumns=function(){var t=this;this.removeListenersOnChildrenColumns();var n=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(r){r.addEventListener("widthChanged",n),r.addEventListener("visibleChanged",n),t.removeChildListenersFuncs.push(function(){r.removeEventListener("widthChanged",n),r.removeEventListener("visibleChanged",n)})})},e.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(t){return t()}),this.removeChildListenersFuncs=[]},e.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},e.prototype.onWidthChanged=function(){var t=this.columnGroup.getActualWidth();this.comp.setWidth("".concat(t,"px")),this.comp.addOrRemoveCssClass("ag-hidden",t===0)},Fae([W],e.prototype,"postConstruct",null),e}(j),Lae=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),o_=function(){return o_=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},o_.apply(this,arguments)},kae=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Vae=function(i){Lae(e,i);function e(t,n){var r=i.call(this,t,n)||this;return r.onSuppressColMoveChange=function(){if(!r.isAlive()||r.isSuppressMoving())r.removeDragSource();else if(!r.dragSource){var o=r.getGui();r.setDragSource(o)}},r.column=t,r}return e.prototype.setComp=function(t,n,r){this.comp=t,this.setGui(n),this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp(),this.addHeaderMouseListeners();var o=this.getParentRowCtrl().getPinned(),s=this.column.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new TO(s,n)),this.createManagedBean(new RO(this.column,n,this.beans)),this.createManagedBean(new Nae(t,this.column)),this.resizeFeature=this.createManagedBean(new xae(t,r,o,this.column)),this.createManagedBean(new du(n,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addManagedPropertyListener(C.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners()},e.prototype.resizeHeader=function(t,n){if(this.resizeFeature){var r=t===Ri.Left,o=(r?-1:1)*this.resizeMultiplier,s=this.resizeFeature.getInitialValues(n);this.resizeFeature.resizeColumns(s,s.resizeStartWidth+o,"uiColumnResized",!0)}},e.prototype.moveHeader=function(t){var n=this,r=n.eGui,o=n.column,s=n.columnModel,a=n.gridOptionsService,l=n.ctrlsService,u=a.get("enableRtl"),c=t===Ri.Left,d=this.getPinned(),h=r.getBoundingClientRect(),p=h.left,f=h.width,g=lu.normaliseX(c!==u?p-20:p+f+20,d,!0,a,l),v=o.getGroupId(),m=this.focusService.getFocusedHeader();lu.attemptMoveColumns({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,hDirection:t,xPosition:g,pinned:d,fromEnter:!1,fakeEvent:!1,gridOptionsService:a,columnModel:s});var _=o.getDisplayedLeafColumns(),w=c?_[0]:Je(_);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(w,"auto"),!this.isAlive()&&m&&this.restoreFocus(v,o,m)},e.prototype.restoreFocus=function(t,n,r){var o=n.getLeafColumns();if(o.length){var s=o[0].getParent();if(s){var a=this.findGroupWidthId(s,t);a&&this.focusService.focusHeaderPosition({headerPosition:o_(o_({},r),{column:a})})}}},e.prototype.findGroupWidthId=function(t,n){for(;t;){if(t.getGroupId()===n)return t;t=t.getParent()}return null},e.prototype.resizeLeafColumnsToFit=function(t){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(t)},e.prototype.setupUserComp=function(){var t=this,n=this.gridOptionsService.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:function(o){t.columnModel.setColumnGroupOpened(t.column.getProvidedColumnGroup(),o,"gridInitializing")}}),r=this.userComponentFactory.getHeaderGroupCompDetails(n);this.comp.setUserCompDetails(r)},e.prototype.addHeaderMouseListeners=function(){var t=this,n=function(s){return t.handleMouseOverChange(s.type==="mouseenter")},r=function(s){return t.handleColumnClick(s,!1)},o=function(s){return t.handleColumnClick(s,!0)};this.addManagedListener(this.getGui(),"mouseenter",n),this.addManagedListener(this.getGui(),"mouseleave",n),this.addManagedListener(this.getGui(),"click",r),this.addManagedListener(this.getGui(),"contextmenu",o)},e.prototype.handleMouseOverChange=function(t){var n=t?C.EVENT_COLUMN_HEADER_MOUSE_OVER:C.EVENT_COLUMN_HEADER_MOUSE_LEAVE,r={type:n,column:this.column.getProvidedColumnGroup()};this.eventService.dispatchEvent(r)},e.prototype.handleColumnClick=function(t,n){var r=n?C.EVENT_COLUMN_HEADER_CONTEXT_MENU:C.EVENT_COLUMN_HEADER_CLICKED;n&&this.gridOptionsService.get("preventDefaultOnContextMenu")&&t.preventDefault();var o={type:r,column:this.column.getProvidedColumnGroup()};this.eventService.dispatchEvent(o)},e.prototype.setupTooltip=function(){var t=this,n=this.column.getColGroupDef(),r={getColumn:function(){return t.column},getGui:function(){return t.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return n&&n.headerTooltip}};n&&(r.getColDef=function(){return n});var o=this.createManagedBean(new bO(r,this.beans));o.setComp(this.eGui)},e.prototype.setupExpandable=function(){var t=this.column.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(t,Ut.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(t,Ut.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},e.prototype.refreshExpanded=function(){var t=this.column;this.expandable=t.isExpandable();var n=t.isExpanded();this.expandable?this.comp.setAriaExpanded(n?"true":"false"):this.comp.setAriaExpanded(void 0)},e.prototype.getColId=function(){return this.column.getUniqueId()},e.prototype.addClasses=function(){var t=this,n=this.column.getColGroupDef(),r=S_.getHeaderClassesFromColDef(n,this.gridOptionsService,null,this.column);if(this.column.isPadding()){r.push("ag-header-group-cell-no-group");var o=this.column.getLeafColumns();o.every(function(s){return s.isSpanHeaderHeight()})&&r.push("ag-header-span-height")}else r.push("ag-header-group-cell-with-group");r.forEach(function(s){return t.comp.addOrRemoveCssClass(s,!0)})},e.prototype.setupMovingCss=function(){var t=this,n=this.column.getProvidedColumnGroup(),r=n.getLeafColumns(),o=function(){return t.comp.addOrRemoveCssClass("ag-header-cell-moving",t.column.isMoving())};r.forEach(function(s){t.addManagedListener(s,mt.EVENT_MOVING_CHANGED,o)}),o()},e.prototype.onFocusIn=function(t){if(!this.eGui.contains(t.relatedTarget)){var n=this.getRowIndex();this.beans.focusService.setFocusedHeader(n,this.column)}},e.prototype.handleKeyDown=function(t){i.prototype.handleKeyDown.call(this,t);var n=this.getWrapperHasFocus();if(!(!this.expandable||!n)&&t.key===I.ENTER){var r=this.column,o=!r.isExpanded();this.columnModel.setColumnGroupOpened(r.getProvidedColumnGroup(),o,"uiColumnExpanded")}},e.prototype.setDragSource=function(t){var n=this;if(!(!this.isAlive()||this.isSuppressMoving())&&(this.removeDragSource(),!!t)){var r=this,o=r.column,s=r.columnModel,a=r.displayName,l=r.gridOptionsService,u=r.dragAndDropService,c=o.getProvidedColumnGroup().getLeafColumns(),d=!l.get("suppressDragLeaveHidesColumns"),h=this.dragSource={type:Xi.HeaderCell,eElement:t,getDefaultIconName:function(){return d?hn.ICON_HIDE:hn.ICON_NOT_ALLOWED},dragItemName:a,getDragItem:function(){return n.getDragItemForGroup(o)},onDragStarted:function(){d=!l.get("suppressDragLeaveHidesColumns"),c.forEach(function(p){return p.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return c.forEach(function(p){return p.setMoving(!1,"uiColumnDragged")})},onGridEnter:function(p){var f;if(d){var g=((f=p?.columns)===null||f===void 0?void 0:f.filter(function(v){return!v.getColDef().lockVisible}))||[];s.setColumnsVisible(g,!0,"uiColumnMoved")}},onGridExit:function(p){var f;if(d){var g=((f=p?.columns)===null||f===void 0?void 0:f.filter(function(v){return!v.getColDef().lockVisible}))||[];s.setColumnsVisible(g,!1,"uiColumnMoved")}}};u.addDragSource(h,!0)}},e.prototype.getDragItemForGroup=function(t){var n=t.getProvidedColumnGroup().getLeafColumns(),r={};n.forEach(function(s){return r[s.getId()]=s.isVisible()});var o=[];return this.columnModel.getAllDisplayedColumns().forEach(function(s){n.indexOf(s)>=0&&(o.push(s),Ki(n,s))}),n.forEach(function(s){return o.push(s)}),{columns:o,visibleState:r}},e.prototype.isSuppressMoving=function(){var t=!1;this.column.getLeafColumns().forEach(function(r){(r.getColDef().suppressMovable||r.getColDef().lockPosition)&&(t=!0)});var n=t||this.gridOptionsService.get("suppressMovableColumns");return n},kae([y("columnModel")],e.prototype,"columnModel",void 0),e}(E_),Gae=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),bC=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},VH=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Hae=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Bae=0,qT=function(i){Gae(e,i);function e(t,n,r){var o=i.call(this)||this;o.instanceId=Bae++,o.rowIndex=t,o.pinned=n,o.type=r;var s=r==$n.COLUMN_GROUP?"ag-header-row-column-group":r==$n.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return o.headerRowClass="ag-header-row ".concat(s),o}return e.prototype.postConstruct=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.isEnsureDomOrder=this.gridOptionsService.get("ensureDomOrder")},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.setComp=function(t,n){n===void 0&&(n=!0),this.comp=t,n&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()},e.prototype.getHeaderRowClass=function(){return this.headerRowClass},e.prototype.getAriaRowIndex=function(){return this.rowIndex+1},e.prototype.getTransform=function(){if(eo())return"translateZ(0)"},e.prototype.addEventListeners=function(){var t=this;this.addManagedListener(this.eventService,C.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_VIRTUAL_COLUMNS_CHANGED,function(n){return t.onVirtualColumnsChanged(n.afterScroll)}),this.addManagedListener(this.eventService,C.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",function(n){return t.isEnsureDomOrder=n.currentValue}),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))},e.prototype.getHeaderCellCtrl=function(t){if(this.headerCellCtrls)return iu(this.headerCellCtrls).find(function(n){return n.getColumnGroupChild()===t})},e.prototype.onDisplayedColumnsChanged=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()},e.prototype.getType=function(){return this.type},e.prototype.onColumnResized=function(){this.setWidth()},e.prototype.setWidth=function(){var t=this.getWidthForRow();this.comp.setWidth("".concat(t,"px"))},e.prototype.getWidthForRow=function(){if(this.isPrintLayout){var t=this.pinned!=null;return t?0:this.columnModel.getContainerWidth("right")+this.columnModel.getContainerWidth("left")+this.columnModel.getContainerWidth(null)}return this.columnModel.getContainerWidth(this.pinned)},e.prototype.onRowHeightChanged=function(){var t=this.getTopAndHeight(),n=t.topOffset,r=t.rowHeight;this.comp.setTop(n+"px"),this.comp.setHeight(r+"px")},e.prototype.getTopAndHeight=function(){var t=this.columnModel.getHeaderRowCount(),n=[],r=0;this.filterManager.hasFloatingFilters()&&(t++,r=1);for(var o=this.columnModel.getColumnGroupHeaderRowHeight(),s=this.columnModel.getColumnHeaderRowHeight(),a=1+r,l=t-a,u=0;u<l;u++)n.push(o);n.push(s);for(var u=0;u<r;u++)n.push(this.columnModel.getFloatingFiltersHeight());for(var c=0,u=0;u<this.rowIndex;u++)c+=n[u];var d=n[this.rowIndex];return{topOffset:c,rowHeight:d}},e.prototype.getPinned=function(){return this.pinned},e.prototype.getRowIndex=function(){return this.rowIndex},e.prototype.onVirtualColumnsChanged=function(t){t===void 0&&(t=!1);var n=this.getHeaderCtrls(),r=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(n,r,t)},e.prototype.getHeaderCtrls=function(){var t,n,r,o,s=this,a=this.headerCellCtrls;this.headerCellCtrls=new Map;var l=this.getColumnsInViewport();try{for(var u=VH(l),c=u.next();!c.done;c=u.next()){var d=c.value;this.recycleAndCreateHeaderCtrls(d,a)}}catch(S){t={error:S}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}var h=function(S){var R=s.focusService.isHeaderWrapperFocused(S);if(!R)return!1;var T=s.columnModel.isDisplayed(S.getColumnGroupChild());return T};if(a)try{for(var p=VH(a),f=p.next();!f.done;f=p.next()){var g=Hae(f.value,2),v=g[0],m=g[1],_=h(m);_?this.headerCellCtrls.set(v,m):this.destroyBean(m)}}catch(S){r={error:S}}finally{try{f&&!f.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}var w=Array.from(this.headerCellCtrls.values());return w},e.prototype.recycleAndCreateHeaderCtrls=function(t,n){if(this.headerCellCtrls&&!t.isEmptyGroup()){var r=t.getUniqueId(),o;n&&(o=n.get(r),n.delete(r));var s=o&&o.getColumnGroupChild()!=t;if(s&&(this.destroyBean(o),o=void 0),o==null)switch(this.type){case $n.FLOATING_FILTER:o=this.createBean(new bae(t,this));break;case $n.COLUMN_GROUP:o=this.createBean(new Vae(t,this));break;default:o=this.createBean(new Iae(t,this));break}this.headerCellCtrls.set(r,o)}},e.prototype.getColumnsInViewport=function(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},e.prototype.getColumnsInViewportPrintLayout=function(){var t=this;if(this.pinned!=null)return[];var n=[],r=this.getActualDepth();return["left",null,"right"].forEach(function(o){var s=t.columnModel.getVirtualHeaderGroupRow(o,r);n=n.concat(s)}),n},e.prototype.getActualDepth=function(){return this.type==$n.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},e.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},e.prototype.focusHeader=function(t,n){if(!this.headerCellCtrls)return!1;var r=Array.from(this.headerCellCtrls.values()),o=r.find(function(s){return s.getColumnGroupChild()==t});return o?o.focus(n):!1},e.prototype.destroy=function(){var t=this;this.headerCellCtrls&&this.headerCellCtrls.forEach(function(n){t.destroyBean(n)}),this.headerCellCtrls=void 0,i.prototype.destroy.call(this)},bC([y("columnModel")],e.prototype,"columnModel",void 0),bC([y("focusService")],e.prototype,"focusService",void 0),bC([y("filterManager")],e.prototype,"filterManager",void 0),bC([W],e.prototype,"postConstruct",null),e}(j),jae=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),nd=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Uae=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Wae=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},zae=function(i){jae(e,i);function e(t){var n=i.call(this)||this;return n.hidden=!1,n.includeFloatingFilter=!1,n.groupsRowCtrls=[],n.pinned=t,n}return e.prototype.setComp=function(t,n){this.comp=t,this.eViewport=n,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,C.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},e.prototype.setupDragAndDrop=function(t){var n=new dae(this.pinned,t);this.createManagedBean(n)},e.prototype.refresh=function(t){var n=this;t===void 0&&(t=!1);var r=new gd,o=this.focusService.getFocusHeaderToUseAfterRefresh(),s=function(){var c=n.columnModel.getHeaderRowCount()-1;n.groupsRowCtrls=n.destroyBeans(n.groupsRowCtrls);for(var d=0;d<c;d++){var h=n.createBean(new qT(r.next(),n.pinned,$n.COLUMN_GROUP));n.groupsRowCtrls.push(h)}},a=function(){var c=r.next(),d=!n.hidden&&(n.columnsRowCtrl==null||!t||n.columnsRowCtrl.getRowIndex()!==c),h=d||n.hidden;h&&(n.columnsRowCtrl=n.destroyBean(n.columnsRowCtrl)),d&&(n.columnsRowCtrl=n.createBean(new qT(c,n.pinned,$n.COLUMN)))},l=function(){n.includeFloatingFilter=n.filterManager.hasFloatingFilters()&&!n.hidden;var c=function(){n.filtersRowCtrl=n.destroyBean(n.filtersRowCtrl)};if(!n.includeFloatingFilter){c();return}var d=r.next();if(n.filtersRowCtrl){var h=n.filtersRowCtrl.getRowIndex()!==d;(!t||h)&&c()}n.filtersRowCtrl||(n.filtersRowCtrl=n.createBean(new qT(d,n.pinned,$n.FLOATING_FILTER)))};s(),a(),l();var u=this.getAllCtrls();this.comp.setCtrls(u),this.restoreFocusOnHeader(o)},e.prototype.restoreFocusOnHeader=function(t){t==null||t.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:t})},e.prototype.getAllCtrls=function(){var t=Wae([],Uae(this.groupsRowCtrls),!1);return this.columnsRowCtrl&&t.push(this.columnsRowCtrl),this.filtersRowCtrl&&t.push(this.filtersRowCtrl),t},e.prototype.onGridColumnsChanged=function(){this.refresh(!0)},e.prototype.onDisplayedColumnsChanged=function(){var t=this.filterManager.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)},e.prototype.setupCenterWidth=function(){var t=this;this.pinned==null&&this.createManagedBean(new DO(function(n){return t.comp.setCenterWidth("".concat(n,"px"))},!0))},e.prototype.setHorizontalScroll=function(t){this.comp.setViewportScrollLeft(t)},e.prototype.setupPinnedWidth=function(){var t=this;if(this.pinned!=null){var n=this.pinned==="left",r=this.pinned==="right";this.hidden=!0;var o=function(){var s=n?t.pinnedWidthService.getPinnedLeftWidth():t.pinnedWidthService.getPinnedRightWidth();if(s!=null){var a=s==0,l=t.hidden!==a,u=t.gridOptionsService.get("enableRtl"),c=t.gridOptionsService.getScrollbarWidth(),d=t.scrollVisibleService.isVerticalScrollShowing()&&(u&&n||!u&&r),h=d?s+c:s;t.comp.setPinnedContainerWidth("".concat(h,"px")),t.comp.setDisplayed(!a),l&&(t.hidden=a,t.refresh())}};this.addManagedListener(this.eventService,C.EVENT_LEFT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,C.EVENT_RIGHT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,C.EVENT_SCROLL_VISIBILITY_CHANGED,o),this.addManagedListener(this.eventService,C.EVENT_SCROLLBAR_WIDTH_CHANGED,o)}},e.prototype.getHeaderCtrlForColumn=function(t){if(t instanceof mt)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(t):void 0;if(this.groupsRowCtrls.length!==0)for(var n=0;n<this.groupsRowCtrls.length;n++){var r=this.groupsRowCtrls[n].getHeaderCellCtrl(t);if(r)return r}},e.prototype.getHtmlElementForColumnHeader=function(t){var n=this.getHeaderCtrlForColumn(t);return n?n.getGui():null},e.prototype.getRowType=function(t){var n=this.getAllCtrls(),r=n[t];return r?r.getType():void 0},e.prototype.focusHeader=function(t,n,r){var o=this.getAllCtrls(),s=o[t];return s?s.focusHeader(n,r):!1},e.prototype.getViewport=function(){return this.eViewport},e.prototype.getRowCount=function(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)},e.prototype.destroy=function(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),i.prototype.destroy.call(this)},nd([y("ctrlsService")],e.prototype,"ctrlsService",void 0),nd([y("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),nd([y("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),nd([y("columnModel")],e.prototype,"columnModel",void 0),nd([y("focusService")],e.prototype,"focusService",void 0),nd([y("filterManager")],e.prototype,"filterManager",void 0),e}(j),$ae=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),KT=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},YT=function(i){$ae(e,i);function e(t){var n=i.call(this)||this;return n.headerRowComps={},n.rowCompsList=[],n.pinned=t,n}return e.prototype.init=function(){var t=this;this.selectAndSetTemplate();var n={setDisplayed:function(o){return t.setDisplayed(o)},setCtrls:function(o){return t.setCtrls(o)},setCenterWidth:function(o){return t.eCenterContainer.style.width=o},setViewportScrollLeft:function(o){return t.getGui().scrollLeft=o},setPinnedContainerWidth:function(o){var s=t.getGui();s.style.width=o,s.style.maxWidth=o,s.style.minWidth=o}},r=this.createManagedBean(new zae(this.pinned));r.setComp(n,this.getGui())},e.prototype.selectAndSetTemplate=function(){var t=this.pinned=="left",n=this.pinned=="right",r=t?e.PINNED_LEFT_TEMPLATE:n?e.PINNED_RIGHT_TEMPLATE:e.CENTER_TEMPLATE;this.setTemplate(r),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},e.prototype.destroyRowComps=function(){this.setCtrls([])},e.prototype.destroyRowComp=function(t){this.destroyBean(t),this.eRowContainer.removeChild(t.getGui())},e.prototype.setCtrls=function(t){var n=this,r=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];var o,s=function(a){var l=a.getGui(),u=l.parentElement!=n.eRowContainer;u&&n.eRowContainer.appendChild(l),o&&cO(n.eRowContainer,l,o),o=l};t.forEach(function(a){var l=a.getInstanceId(),u=r[l];delete r[l];var c=u||n.createBean(new mae(a));n.headerRowComps[l]=c,n.rowCompsList.push(c),s(c)}),La(r).forEach(function(a){return n.destroyRowComp(a)})},e.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="rowgroup"></div>',e.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="rowgroup"></div>',e.CENTER_TEMPLATE=`<div class="ag-header-viewport" role="presentation">
            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>
        </div>`,KT([Z("eCenterContainer")],e.prototype,"eCenterContainer",void 0),KT([W],e.prototype,"init",null),KT([oi],e.prototype,"destroyRowComps",null),e}(be),qae=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Jp=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Ds=function(i){return i[i.UP=0]="UP",i[i.DOWN=1]="DOWN",i[i.LEFT=2]="LEFT",i[i.RIGHT=3]="RIGHT",i}(Ds||{}),Kae=function(i){qae(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(n){t.gridBodyCon=n.gridBodyCtrl})},e.prototype.getHeaderRowCount=function(){var t=this.ctrlsService.getHeaderRowContainerCtrl();return t?t.getRowCount():0},e.prototype.navigateVertically=function(t,n,r){if(n||(n=this.focusService.getFocusedHeader()),!n)return!1;var o=n.headerRowIndex,s=n.column,a=this.getHeaderRowCount(),l=t===Ds.UP,u=l?this.headerPositionUtils.getColumnVisibleParent(s,o):this.headerPositionUtils.getColumnVisibleChild(s,o),c=u.nextRow,d=u.nextFocusColumn,h=!1;return c<0&&(c=0,d=s,h=!0),c>=a&&(c=-1),!h&&!d?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:c,column:d},allowUserOverride:!0,event:r})},e.prototype.navigateHorizontally=function(t,n,r){n===void 0&&(n=!1);var o=this.focusService.getFocusedHeader(),s=t===Ds.LEFT,a=this.gridOptionsService.get("enableRtl"),l,u;return s!==a?(u="Before",l=this.headerPositionUtils.findHeader(o,u)):(u="After",l=this.headerPositionUtils.findHeader(o,u)),l||!n?this.focusService.focusHeaderPosition({headerPosition:l,direction:u,fromTab:n,allowUserOverride:!0,event:r}):this.focusNextHeaderRow(o,u,r)},e.prototype.focusNextHeaderRow=function(t,n,r){var o=t.headerRowIndex,s=null,a;return n==="Before"?o>0&&(a=o-1,s=this.headerPositionUtils.findColAtEdgeForHeaderRow(a,"end")):(a=o+1,s=this.headerPositionUtils.findColAtEdgeForHeaderRow(a,"start")),this.focusService.focusHeaderPosition({headerPosition:s,direction:n,fromTab:!0,allowUserOverride:!0,event:r})},e.prototype.scrollToColumn=function(t,n){if(n===void 0&&(n="After"),!t.getPinned()){var r;if(t instanceof dn){var o=t.getDisplayedLeafColumns();r=n==="Before"?Je(o):o[0]}else r=t;this.gridBodyCon.getScrollFeature().ensureColumnVisible(r)}},Jp([y("focusService")],e.prototype,"focusService",void 0),Jp([y("headerPositionUtils")],e.prototype,"headerPositionUtils",void 0),Jp([y("ctrlsService")],e.prototype,"ctrlsService",void 0),Jp([W],e.prototype,"postConstruct",null),e=Jp([ee("headerNavigationService")],e),e}(j),Yae=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ef=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Qae=function(i){Yae(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.setComp=function(t,n,r){this.comp=t,this.eGui=n,this.createManagedBean(new du(r,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,C.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},e.prototype.setupHeaderHeight=function(){var t=this.setHeaderHeight.bind(this);t(),this.addManagedPropertyListener("headerHeight",t),this.addManagedPropertyListener("pivotHeaderHeight",t),this.addManagedPropertyListener("groupHeaderHeight",t),this.addManagedPropertyListener("pivotGroupHeaderHeight",t),this.addManagedPropertyListener("floatingFiltersHeight",t),this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,C.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,t),this.addManagedListener(this.eventService,C.EVENT_GRID_STYLES_CHANGED,t),this.addManagedListener(this.eventService,C.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,t)},e.prototype.getHeaderHeight=function(){return this.headerHeight},e.prototype.setHeaderHeight=function(){var t=this.columnModel,n=0,r=t.getHeaderRowCount(),o,s=this.filterManager.hasFloatingFilters();s&&(r++,n=1);var a=this.columnModel.getColumnGroupHeaderRowHeight(),l=this.columnModel.getColumnHeaderRowHeight(),u=1+n,c=r-u;if(o=n*t.getFloatingFiltersHeight(),o+=c*a,o+=l,this.headerHeight!==o){this.headerHeight=o;var d="".concat(o+1,"px");this.comp.setHeightAndMinHeight(d),this.eventService.dispatchEvent({type:C.EVENT_HEADER_HEIGHT_CHANGED})}},e.prototype.onPivotModeChanged=function(){var t=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)},e.prototype.onDisplayedColumnsChanged=function(){var t=this.columnModel.getAllDisplayedColumns(),n=t.some(function(r){return r.isSpanHeaderHeight()});this.comp.addOrRemoveCssClass("ag-header-allow-overflow",n)},e.prototype.onTabKeyDown=function(t){var n=this.gridOptionsService.get("enableRtl"),r=t.shiftKey!==n?Ds.LEFT:Ds.RIGHT;(this.headerNavigationService.navigateHorizontally(r,!0,t)||this.focusService.focusNextGridCoreContainer(t.shiftKey))&&t.preventDefault()},e.prototype.handleKeyDown=function(t){var n=null;switch(t.key){case I.LEFT:n=Ds.LEFT;case I.RIGHT:B(n)||(n=Ds.RIGHT),this.headerNavigationService.navigateHorizontally(n,!1,t);break;case I.UP:n=Ds.UP;case I.DOWN:B(n)||(n=Ds.DOWN),this.headerNavigationService.navigateVertically(n,null,t)&&t.preventDefault();break;default:return}},e.prototype.onFocusOut=function(t){var n=this.gridOptionsService.getDocument(),r=t.relatedTarget;!r&&this.eGui.contains(n.activeElement)||this.eGui.contains(r)||this.focusService.clearFocusedHeader()},ef([y("headerNavigationService")],e.prototype,"headerNavigationService",void 0),ef([y("focusService")],e.prototype,"focusService",void 0),ef([y("columnModel")],e.prototype,"columnModel",void 0),ef([y("ctrlsService")],e.prototype,"ctrlsService",void 0),ef([y("filterManager")],e.prototype,"filterManager",void 0),e}(j),Zae=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Xae=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Jae=function(i){Zae(e,i);function e(){return i.call(this,e.TEMPLATE)||this}return e.prototype.postConstruct=function(){var t=this,n={addOrRemoveCssClass:function(s,a){return t.addOrRemoveCssClass(s,a)},setHeightAndMinHeight:function(s){t.getGui().style.height=s,t.getGui().style.minHeight=s}},r=this.createManagedBean(new Qae);r.setComp(n,this.getGui(),this.getFocusableElement());var o=function(s){t.createManagedBean(s),t.appendChild(s)};o(new YT("left")),o(new YT(null)),o(new YT("right"))},e.TEMPLATE='<div class="ag-header" role="presentation"/>',Xae([W],e.prototype,"postConstruct",null),e}(be),ele=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),QT=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},tle=function(i){ele(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.addResizeBar=function(t){var n=this,r={dragStartPixels:t.dragStartPixels||0,eElement:t.eResizeBar,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this,t),onDragging:this.onDragging.bind(this,t),includeTouch:!0,stopPropagationForTouch:!0};this.dragService.addDragSource(r);var o=function(){return n.dragService.removeDragSource(r)};return o},e.prototype.onDragStart=function(t,n){this.dragStartX=n.clientX,this.setResizeIcons();var r=n instanceof MouseEvent&&n.shiftKey===!0;t.onResizeStart(r)},e.prototype.setResizeIcons=function(){var t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!0),t.disableUserSelect(!0)},e.prototype.onDragStop=function(t,n){t.onResizeEnd(this.resizeAmount),this.resetIcons()},e.prototype.resetIcons=function(){var t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!1),t.disableUserSelect(!1)},e.prototype.onDragging=function(t,n){this.resizeAmount=n.clientX-this.dragStartX,t.onResizing(this.resizeAmount)},QT([y("dragService")],e.prototype,"dragService",void 0),QT([y("ctrlsService")],e.prototype,"ctrlsService",void 0),e=QT([ee("horizontalResizeService")],e),e}(j),nle=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),tf=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ile=function(i){nle(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},e.prototype.showMenuAfterMouseEvent=function(t,n){var r=this;this.showPopup(t,function(o){r.popupService.positionPopupUnderMouseEvent({column:t,type:"columnMenu",mouseEvent:n,ePopup:o})},"columnMenu",n.target)},e.prototype.showMenuAfterButtonClick=function(t,n,r){var o=this;this.showPopup(t,function(s){o.popupService.positionPopupByComponent({type:r,eventSource:n,ePopup:s,keepWithinBounds:!0,position:"under",column:t})},r,n)},e.prototype.showPopup=function(t,n,r,o){var s=this,a=this.filterManager.getOrCreateFilterWrapper(t,"COLUMN_MENU");if(!a)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var l=document.createElement("div");fn(l,"presentation"),l.classList.add("ag-menu"),this.tabListener=this.addManagedListener(l,"keydown",function(g){return s.trapFocusWithin(g,l)}),a.guiPromise.then(function(g){return l.appendChild(g)});var u,c=function(){var g;return(g=a.filterPromise)===null||g===void 0?void 0:g.then(function(v){var m;return(m=v?.afterGuiDetached)===null||m===void 0?void 0:m.call(v)})},d=o||this.ctrlsService.getGridBodyCtrl().getGui(),h=function(g){t.setMenuVisible(!1,"contextMenu");var v=g instanceof KeyboardEvent;if(s.tabListener&&(s.tabListener=s.tabListener()),v&&o&&Ji(o)){var m=s.focusService.findTabbableParent(o);m&&m.focus()}c()},p=this.localeService.getLocaleTextFunc(),f=this.popupService.addPopup({modal:!0,eChild:l,closeOnEsc:!0,closedCallback:h,positionCallback:function(){return n(l)},anchorToElement:d,ariaLabel:p("ariaLabelColumnMenu","Column Menu")});f&&(this.hidePopup=u=f.hideFunc),a.filterPromise.then(function(g){n(l),g.afterGuiAttached&&g.afterGuiAttached({container:r,hidePopup:u})}),t.setMenuVisible(!0,"contextMenu")},e.prototype.trapFocusWithin=function(t,n){t.key!==I.TAB||t.defaultPrevented||this.focusService.findNextFocusableElement(n,!1,t.shiftKey)||(t.preventDefault(),this.focusService.focusInto(n,t.shiftKey))},e.prototype.isMenuEnabled=function(t){return t.isFilterAllowed()&&t.getMenuTabs(["filterMenuTab"]).includes("filterMenuTab")},tf([y("filterManager")],e.prototype,"filterManager",void 0),tf([y("popupService")],e.prototype,"popupService",void 0),tf([y("focusService")],e.prototype,"focusService",void 0),tf([y("ctrlsService")],e.prototype,"ctrlsService",void 0),e=tf([ee("menuFactory")],e),e}(j),rle=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),GH=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Sf=function(i){return i.TAB_GUARD="ag-tab-guard",i.TAB_GUARD_TOP="ag-tab-guard-top",i.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",i}(Sf||{}),ole=function(i){rle(e,i);function e(t){var n=i.call(this)||this;n.skipTabGuardFocus=!1;var r=t.comp,o=t.eTopGuard,s=t.eBottomGuard,a=t.focusTrapActive,l=t.focusInnerElement,u=t.onFocusIn,c=t.onFocusOut,d=t.shouldStopEventPropagation,h=t.onTabKeyDown,p=t.handleKeyDown,f=t.eFocusableElement;return n.comp=r,n.eTopGuard=o,n.eBottomGuard=s,n.providedFocusInnerElement=l,n.eFocusableElement=f,n.focusTrapActive=!!a,n.providedFocusIn=u,n.providedFocusOut=c,n.providedShouldStopEventPropagation=d,n.providedOnTabKeyDown=h,n.providedHandleKeyDown=p,n}return e.prototype.postConstruct=function(){var t=this;this.createManagedBean(new du(this.eFocusableElement,{shouldStopEventPropagation:function(){return t.shouldStopEventPropagation()},onTabKeyDown:function(n){return t.onTabKeyDown(n)},handleKeyDown:function(n){return t.handleKeyDown(n)},onFocusIn:function(n){return t.onFocusIn(n)},onFocusOut:function(n){return t.onFocusOut(n)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(n){return t.addManagedListener(n,"focus",t.onFocus.bind(t))})},e.prototype.handleKeyDown=function(t){this.providedHandleKeyDown&&this.providedHandleKeyDown(t)},e.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},e.prototype.shouldStopEventPropagation=function(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1},e.prototype.activateTabGuards=function(){var t=this.gridOptionsService.get("tabIndex");this.comp.setTabIndex(t.toString())},e.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},e.prototype.onFocus=function(t){if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}var n=t.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(n):this.focusInnerElement(n)},e.prototype.onFocusIn=function(t){this.focusTrapActive||(this.providedFocusIn&&this.providedFocusIn(t),this.deactivateTabGuards())},e.prototype.onFocusOut=function(t){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(t),this.eFocusableElement.contains(t.relatedTarget)||this.activateTabGuards())},e.prototype.onTabKeyDown=function(t){var n=this;if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(t);return}if(!this.focusTrapActive&&!t.defaultPrevented){var r=this.tabGuardsAreActive();r&&this.deactivateTabGuards();var o=this.getNextFocusableElement(t.shiftKey);r&&setTimeout(function(){return n.activateTabGuards()},0),o&&(o.focus(),t.preventDefault())}},e.prototype.focusInnerElement=function(t){t===void 0&&(t=!1);var n=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(n.splice(0,1),n.splice(n.length-1,1)),n.length&&n[t?n.length-1:0].focus({preventScroll:!0})},e.prototype.getNextFocusableElement=function(t){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,t)},e.prototype.forceFocusOutOfContainer=function(t){var n=this;t===void 0&&(t=!1);var r=t?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,r.focus(),window.setTimeout(function(){n.activateTabGuards()})},GH([y("focusService")],e.prototype,"focusService",void 0),GH([W],e.prototype,"postConstruct",null),e}(j),sle=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ale=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},lle=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},kf=function(i){sle(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.initialiseTabGuard=function(t){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var n=[this.eTopGuard,this.eBottomGuard],r={setTabIndex:function(o){n.forEach(function(s){return o!=null?s.setAttribute("tabindex",o):s.removeAttribute("tabindex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new ole({comp:r,focusTrapActive:!!t.focusTrapActive,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:t.onFocusIn,onFocusOut:t.onFocusOut,focusInnerElement:t.focusInnerElement,handleKeyDown:t.handleKeyDown,onTabKeyDown:t.onTabKeyDown,shouldStopEventPropagation:t.shouldStopEventPropagation}))},e.prototype.createTabGuard=function(t){var n=document.createElement("div"),r=t==="top"?Sf.TAB_GUARD_TOP:Sf.TAB_GUARD_BOTTOM;return n.classList.add(Sf.TAB_GUARD,r),fn(n,"presentation"),n},e.prototype.addTabGuards=function(t,n){this.eFocusableElement.insertAdjacentElement("afterbegin",t),this.eFocusableElement.insertAdjacentElement("beforeend",n)},e.prototype.removeAllChildrenExceptTabGuards=function(){var t=[this.eTopGuard,this.eBottomGuard];Rn(this.getFocusableElement()),this.addTabGuards.apply(this,lle([],ale(t),!1))},e.prototype.forceFocusOutOfContainer=function(t){t===void 0&&(t=!1),this.tabGuardCtrl.forceFocusOutOfContainer(t)},e.prototype.appendChild=function(t,n){Nf(t)||(t=t.getGui());var r=this.eBottomGuard;r?r.insertAdjacentElement("beforebegin",t):i.prototype.appendChild.call(this,t,n)},e}(be),ule=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),DC=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},rMe=function(i){ule(e,i);function e(t){var n=i.call(this,e.getTemplate(t.cssClass))||this;return n.items=[],n.tabbedItemScrollMap=new Map,n.params=t,t.items&&t.items.forEach(function(r){return n.addItem(r)}),n}return e.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),focusInnerElement:this.focusInnerElement.bind(this),focusTrapActive:!0}),this.addDestroyFunc(function(){var n,r,o;return(o=(r=(n=t.activeItem)===null||n===void 0?void 0:n.tabbedItem)===null||r===void 0?void 0:r.afterDetachedCallback)===null||o===void 0?void 0:o.call(r)})},e.getTemplate=function(t){return'<div class="ag-tabs '.concat(t,`">
            <div ref="eHeader" role="tablist" class="ag-tabs-header `).concat(t?"".concat(t,"-header"):"",`"></div>
            <div ref="eBody" role="presentation" class="ag-tabs-body `).concat(t?"".concat(t,"-body"):"",`"></div>
        </div>`)},e.prototype.handleKeyDown=function(t){var n=this.gridOptionsService.getDocument();switch(t.key){case I.RIGHT:case I.LEFT:if(!this.eHeader.contains(n.activeElement))return;var r=t.key===I.RIGHT,o=this.gridOptionsService.get("enableRtl"),s=this.items.indexOf(this.activeItem),a=r!==o?Math.min(s+1,this.items.length-1):Math.max(s-1,0);if(s===a)return;t.preventDefault();var l=this.items[a];this.showItemWrapper(l),l.eHeaderButton.focus();break;case I.UP:case I.DOWN:t.stopPropagation();break}},e.prototype.onTabKeyDown=function(t){if(!t.defaultPrevented){var n=this,r=n.focusService,o=n.eHeader,s=n.eBody,a=n.activeItem,l=this.gridOptionsService.getDocument(),u=l.activeElement,c=t.target;if(t.preventDefault(),o.contains(u)){this.focusBody(t.shiftKey);return}var d=null;r.isTargetUnderManagedComponent(s,c)&&(t.shiftKey&&(d=this.focusService.findFocusableElementBeforeTabGuard(s,c)),d||(d=a.eHeaderButton)),!d&&s.contains(u)&&(d=r.findNextFocusableElement(s,!1,t.shiftKey),d||this.focusHeader()),d&&d.focus()}},e.prototype.focusInnerElement=function(t){t?this.focusHeader():this.focusBody(!0)},e.prototype.focusHeader=function(){this.activeItem.eHeaderButton.focus()},e.prototype.focusBody=function(t){this.focusService.focusInto(this.eBody,t)},e.prototype.setAfterAttachedParams=function(t){this.afterAttachedParams=t},e.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},e.prototype.addItem=function(t){var n=document.createElement("span");fn(n,"tab"),n.setAttribute("tabindex","-1"),n.appendChild(t.title),n.classList.add("ag-tab"),this.eHeader.appendChild(n),As(n,t.titleLabel);var r={tabbedItem:t,eHeaderButton:n};this.items.push(r),n.addEventListener("click",this.showItemWrapper.bind(this,r))},e.prototype.showItem=function(t){var n=this.items.find(function(r){return r.tabbedItem===t});n&&this.showItemWrapper(n)},e.prototype.showItemWrapper=function(t){var n=this,r,o,s=t.tabbedItem,a=t.eHeaderButton;if(this.params.onItemClicked&&this.params.onItemClicked({item:s}),this.activeItem===t){DB(this.params.onActiveItemClicked);return}this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),Rn(this.eBody),s.bodyPromise.then(function(l){n.eBody.appendChild(l);var u=!n.focusService.isKeyboardMode();if(n.focusService.focusInto(n.eBody,!1,u),s.afterAttachedCallback&&s.afterAttachedCallback(n.afterAttachedParams),n.params.keepScrollPosition){var c=s.getScrollableContainer&&s.getScrollableContainer()||l;n.lastScrollListener=n.addManagedListener(c,"scroll",function(){n.tabbedItemScrollMap.set(s.name,c.scrollTop)});var d=n.tabbedItemScrollMap.get(s.name);d!==void 0&&setTimeout(function(){c.scrollTop=d},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),(o=(r=this.activeItem.tabbedItem).afterDetachedCallback)===null||o===void 0||o.call(r)),a.classList.add("ag-tab-selected"),this.activeItem=t},DC([y("focusService")],e.prototype,"focusService",void 0),DC([Z("eHeader")],e.prototype,"eHeader",void 0),DC([Z("eBody")],e.prototype,"eBody",void 0),DC([W],e.prototype,"postConstruct",null),e}(kf),cle=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),dle=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},hle=50,ple=function(i){cle(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.polyfillFunctions=[],t}return e.prototype.observeResize=function(t,n){var r=this,o=this.gridOptionsService.getWindow(),s=function(){var c=new o.ResizeObserver(n);return c.observe(t),function(){return c.disconnect()}},a=function(){var c,d,h=(c=t?.clientWidth)!==null&&c!==void 0?c:0,p=(d=t?.clientHeight)!==null&&d!==void 0?d:0,f=!0,g=function(){var v,m;if(f){var _=(v=t?.clientWidth)!==null&&v!==void 0?v:0,w=(m=t?.clientHeight)!==null&&m!==void 0?m:0,S=_!==h||w!==p;S&&(h=_,p=w,n()),r.doNextPolyfillTurn(g)}};return g(),function(){return f=!1}},l=this.gridOptionsService.get("suppressBrowserResizeObserver"),u=!!o.ResizeObserver;return u&&!l?s():this.getFrameworkOverrides().wrapIncoming(function(){return a()},"resize-observer")},e.prototype.doNextPolyfillTurn=function(t){this.polyfillFunctions.push(t),this.schedulePolyfill()},e.prototype.schedulePolyfill=function(){var t=this;if(!this.polyfillScheduled){var n=function(){var r=t.polyfillFunctions;t.polyfillScheduled=!1,t.polyfillFunctions=[],r.forEach(function(o){return o()})};this.polyfillScheduled=!0,window.setTimeout(n,hle)}},e=dle([ee("resizeObserverService")],e),e}(j),fle=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),RC=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},gle=function(i){fle(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.createTasksP1={list:[],sorted:!1},t.createTasksP2={list:[],sorted:!1},t.destroyTasks=[],t.ticking=!1,t.scrollGoingDown=!0,t.lastPage=0,t.lastScrollTop=0,t.taskCount=0,t.cancelledTasks=new Set,t}return e.prototype.setScrollTop=function(t){var n=this.gridOptionsService.get("pagination");if(this.scrollGoingDown=t>=this.lastScrollTop,n&&t===0){var r=this.paginationProxy.getCurrentPage();r!==this.lastPage&&(this.lastPage=r,this.scrollGoingDown=!0)}this.lastScrollTop=t},e.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsService.get("suppressAnimationFrame")},e.prototype.isOn=function(){return this.useAnimationFrame},e.prototype.verifyAnimationFrameOn=function(t){this.useAnimationFrame===!1&&console.warn("AG Grid: AnimationFrameService.".concat(t," called but animation frames are off"))},e.prototype.createTask=function(t,n,r){this.verifyAnimationFrameOn(r);var o={task:t,index:n,createOrder:++this.taskCount};this.addTaskToList(this[r],o),this.schedule()},e.prototype.cancelTask=function(t){this.cancelledTasks.add(t)},e.prototype.addTaskToList=function(t,n){t.list.push(n),t.sorted=!1},e.prototype.sortTaskList=function(t){if(!t.sorted){var n=this.scrollGoingDown?1:-1;t.list.sort(function(r,o){return r.index!==o.index?n*(o.index-r.index):o.createOrder-r.createOrder}),t.sorted=!0}},e.prototype.addDestroyTask=function(t){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(t),this.schedule()},e.prototype.executeFrame=function(t){this.verifyAnimationFrameOn("executeFrame");for(var n=this.createTasksP1,r=n.list,o=this.createTasksP2,s=o.list,a=this.destroyTasks,l=new Date().getTime(),u=new Date().getTime()-l,c=t<=0,d=this.ctrlsService.getGridBodyCtrl();c||u<t;){var h=d.getScrollFeature().scrollGridIfNeeded();if(!h){var p=void 0;if(r.length)this.sortTaskList(n),p=r.pop().task;else if(s.length)this.sortTaskList(o),p=s.pop().task;else if(a.length)p=a.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(p)||p()}u=new Date().getTime()-l}r.length||s.length||a.length?this.requestFrame():this.stopTicking()},e.prototype.stopTicking=function(){this.ticking=!1},e.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},e.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},e.prototype.requestFrame=function(){var t=this.executeFrame.bind(this,60);this.requestAnimationFrame(t)},e.prototype.requestAnimationFrame=function(t){var n=this.gridOptionsService.getWindow();n.requestAnimationFrame?n.requestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.setTimeout(t,0)},e.prototype.isQueueEmpty=function(){return!this.ticking},e.prototype.debounce=function(t){var n=this,r=!1;return function(){if(!n.isOn()){window.setTimeout(t,0);return}r||(r=!0,n.addDestroyTask(function(){r=!1,t()}))}},RC([y("ctrlsService")],e.prototype,"ctrlsService",void 0),RC([y("paginationProxy")],e.prototype,"paginationProxy",void 0),RC([W],e.prototype,"init",null),e=RC([ee("animationFrameService")],e),e}(j),ze=function(i){return i.EVERYTHING="group",i.FILTER="filter",i.SORT="sort",i.MAP="map",i.AGGREGATE="aggregate",i.FILTER_AGGREGATES="filter_aggregates",i.PIVOT="pivot",i.NOTHING="nothing",i}(ze||{}),vle=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ZT=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},mle=function(i){vle(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.isClientSideRowModel=this.rowModel.getType()==="clientSide"},e.prototype.expandRows=function(t){if(this.isClientSideRowModel){var n=new Set(t);this.rowModel.forEachNode(function(r){r.id&&n.has(r.id)&&(r.expanded=!0)}),this.onGroupExpandedOrCollapsed()}},e.prototype.getExpandedRows=function(){var t=[];return this.rowModel.forEachNode(function(n){var r=n.expanded,o=n.id;r&&o&&t.push(o)}),t},e.prototype.expandAll=function(t){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(t)},e.prototype.setRowNodeExpanded=function(t,n,r){t&&(r&&t.parent&&t.parent.level!==-1&&this.setRowNodeExpanded(t.parent,n,r),t.setExpanded(n))},e.prototype.onGroupExpandedOrCollapsed=function(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:ze.MAP})},ZT([y("rowModel")],e.prototype,"rowModel",void 0),ZT([W],e.prototype,"postConstruct",null),e=ZT([ee("expansionService")],e),e}(j),yle=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),nf=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Cle=function(i){yle(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(n){t.centerRowContainerCtrl=n.centerRowContainerCtrl})},e.prototype.getPreferredWidthForColumn=function(t,n){var r=this.getHeaderCellForColumn(t);if(!r)return-1;var o=this.rowRenderer.getAllCellsForColumn(t);return n||o.push(r),this.addElementsToContainerAndGetWidth(o)},e.prototype.getPreferredWidthForColumnGroup=function(t){var n=this.getHeaderCellForColumn(t);return n?this.addElementsToContainerAndGetWidth([n]):-1},e.prototype.addElementsToContainerAndGetWidth=function(t){var n=this,r=document.createElement("form");r.style.position="fixed";var o=this.centerRowContainerCtrl.getContainerElement();t.forEach(function(l){return n.cloneItemIntoDummy(l,r)}),o.appendChild(r);var s=r.offsetWidth;o.removeChild(r);var a=this.getAutoSizePadding();return s+a},e.prototype.getAutoSizePadding=function(){return this.gridOptionsService.get("autoSizePadding")},e.prototype.getHeaderCellForColumn=function(t){var n=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(r){var o=r.getHtmlElementForColumnHeader(t);o!=null&&(n=o)}),n},e.prototype.cloneItemIntoDummy=function(t,n){var r=t.cloneNode(!0);r.style.width="",r.style.position="static",r.style.left="";var o=document.createElement("div"),s=o.classList,a=["ag-header-cell","ag-header-group-cell"].some(function(h){return r.classList.contains(h)});a?(s.add("ag-header","ag-header-row"),o.style.position="static"):s.add("ag-row");for(var l=t.parentElement;l;){var u=["ag-header-row","ag-row"].some(function(h){return l.classList.contains(h)});if(u){for(var c=0;c<l.classList.length;c++){var d=l.classList[c];d!="ag-row-position-absolute"&&s.add(d)}break}l=l.parentElement}o.appendChild(r),n.appendChild(o)},nf([y("rowRenderer")],e.prototype,"rowRenderer",void 0),nf([y("ctrlsService")],e.prototype,"ctrlsService",void 0),nf([y("rowCssClassCalculator")],e.prototype,"rowCssClassCalculator",void 0),nf([W],e.prototype,"postConstruct",null),e=nf([ee("autoWidthCalculator")],e),e}(j),_le=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),TC=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},wle=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Sle=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Ele=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},ble=function(i){_le(e,i);function e(t,n){var r=i.call(this)||this;return r.createRowCon=t,r.destroyRowCtrls=n,r.stickyRowCtrls=[],r.containerHeight=0,r}return e.prototype.postConstruct=function(){var t=this;this.isClientSide=this.rowModel.getType()==="clientSide",this.ctrlsService.whenReady(function(n){t.gridBodyCtrl=n.gridBodyCtrl})},e.prototype.getStickyRowCtrls=function(){return this.stickyRowCtrls},e.prototype.checkStickyRows=function(){var t=this,n=0;if(!this.gridOptionsService.isGroupRowsSticky())return this.refreshNodesAndContainerHeight([],n);for(var r=[],o=this.rowRenderer.getFirstVisibleVerticalPixel(),s=function(f){var g,v,m;r.push(f);var _;if(t.isClientSide){for(var w=f;w.isExpandable()&&w.expanded;)if(w.master)w=w.detailNode;else if(w.childrenAfterSort){if(w.childrenAfterSort.length===0)break;w=Je(w.childrenAfterSort)}_=w.rowTop+w.rowHeight}else if(f.master)_=f.detailNode.rowTop+f.detailNode.rowHeight;else{var S=(g=f.childStore)===null||g===void 0?void 0:g.getStoreBounds();_=((v=S?.heightPx)!==null&&v!==void 0?v:0)+((m=S?.topPx)!==null&&m!==void 0?m:0)}var R=o+n+f.rowHeight;_<R?f.stickyRowTop=n+(_-R):f.stickyRowTop=n,n=0,r.forEach(function(T){var x=T.stickyRowTop+T.rowHeight;n<x&&(n=x)})},a=0;;){var l=o+n,u=this.rowModel.getRowIndexAtPixel(l),c=this.rowModel.getRow(u);if(c==null||c.level<0||a++===100)break;for(var d=[],h=c.parent;h.level>=0;)d.push(h),h=h.parent;var p=d.reverse().find(function(f){return r.indexOf(f)<0&&f.displayed});if(p){s(p);continue}if(c.isExpandable()&&c.expanded&&c.rowTop<l){s(c);continue}break}return this.refreshNodesAndContainerHeight(r,n)},e.prototype.refreshStickyNode=function(t){for(var n=[],r=0;r<this.stickyRowCtrls.length;r++){var o=this.stickyRowCtrls[r].getRowNode();o!==t&&n.push(o)}this.refreshNodesAndContainerHeight(n,this.containerHeight)&&this.checkStickyRows()},e.prototype.refreshNodesAndContainerHeight=function(t,n){var r,o,s,a=this,l=!1,u=this.stickyRowCtrls.filter(function(v){return t.indexOf(v.getRowNode())===-1}),c=t.filter(function(v){return a.stickyRowCtrls.findIndex(function(m){return m.getRowNode()===v})===-1});(u.length||c.length)&&(l=!0);var d={};u.forEach(function(v){d[v.getRowNode().id]=v,a.stickyRowCtrls=a.stickyRowCtrls.filter(function(m){return m!==v})});try{for(var h=wle(Object.values(d)),p=h.next();!p.done;p=h.next()){var f=p.value;f.getRowNode().sticky=!1}}catch(v){r={error:v}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}this.destroyRowCtrls(d,!1);var g=c.map(function(v){return v.sticky=!0,a.createRowCon(v,!1,!1)});return(s=this.stickyRowCtrls).push.apply(s,Ele([],Sle(g),!1)),this.stickyRowCtrls.forEach(function(v){return v.setRowTop(v.getRowNode().stickyRowTop)}),this.stickyRowCtrls.sort(function(v,m){return m.getRowNode().rowIndex-v.getRowNode().rowIndex}),this.containerHeight!==n&&(this.containerHeight=n,this.gridBodyCtrl.setStickyTopHeight(n),l=!0),l},TC([y("rowModel")],e.prototype,"rowModel",void 0),TC([y("rowRenderer")],e.prototype,"rowRenderer",void 0),TC([y("ctrlsService")],e.prototype,"ctrlsService",void 0),TC([W],e.prototype,"postConstruct",null),e}(j),Dle=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Yr=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Ea=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},ba=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},Rle=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Tle=function(i){Dle(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.destroyFuncsForColumnListeners=[],t.rowCtrlsByRowIndex={},t.zombieRowCtrls={},t.allRowCtrls=[],t.topRowCtrls=[],t.bottomRowCtrls=[],t.refreshInProgress=!1,t.dataFirstRenderedFired=!1,t.setupRangeSelectionListeners=function(){var n=function(){t.getAllCellCtrls().forEach(function(l){return l.onRangeSelectionChanged()})},r=function(){t.getAllCellCtrls().forEach(function(l){return l.updateRangeBordersIfRangeCount()})},o=function(){t.eventService.addEventListener(C.EVENT_RANGE_SELECTION_CHANGED,n),t.eventService.addEventListener(C.EVENT_COLUMN_MOVED,r),t.eventService.addEventListener(C.EVENT_COLUMN_PINNED,r),t.eventService.addEventListener(C.EVENT_COLUMN_VISIBLE,r)},s=function(){t.eventService.removeEventListener(C.EVENT_RANGE_SELECTION_CHANGED,n),t.eventService.removeEventListener(C.EVENT_COLUMN_MOVED,r),t.eventService.removeEventListener(C.EVENT_COLUMN_PINNED,r),t.eventService.removeEventListener(C.EVENT_COLUMN_VISIBLE,r)};t.addDestroyFunc(function(){return s()}),t.addManagedPropertyListener("enableRangeSelection",function(l){var u=l.currentValue;u?o():s()});var a=t.gridOptionsService.get("enableRangeSelection");a&&o()},t}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl(),t.initialise()})},e.prototype.initialise=function(){var t=this;if(this.addManagedListener(this.eventService,C.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,C.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,C.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],function(){return t.onDomLayoutChanged()}),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],function(){return t.redraw()}),this.addManagedPropertyListeners(["suppressCellFocus","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],function(){return t.redrawRows()}),this.gridOptionsService.isGroupRowsSticky()){var n=this.rowModel.getType();(n==="clientSide"||n==="serverSide")&&(this.stickyRowFeature=this.createManagedBean(new ble(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.get("embedFullWidthRows"),this.redrawAfterModelUpdate()},e.prototype.initialiseCache=function(){if(this.gridOptionsService.get("keepDetailRows")){var t=this.getKeepDetailRowsCount(),n=t??3;this.cachedRowCtrls=new Ale(n)}},e.prototype.getKeepDetailRowsCount=function(){return this.gridOptionsService.get("keepDetailRowsCount")},e.prototype.getStickyTopRowCtrls=function(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]},e.prototype.updateAllRowCtrls=function(){var t=La(this.rowCtrlsByRowIndex),n=La(this.zombieRowCtrls),r=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];n.length>0||r.length>0?this.allRowCtrls=ba(ba(ba([],Ea(t),!1),Ea(n),!1),Ea(r),!1):this.allRowCtrls=t},e.prototype.onCellFocusChanged=function(t){this.getAllCellCtrls().forEach(function(n){return n.onCellFocused(t)}),this.getFullWidthRowCtrls().forEach(function(n){return n.onFullWidthRowFocused(t)})},e.prototype.registerCellEventListeners=function(){var t=this;this.addManagedListener(this.eventService,C.EVENT_CELL_FOCUSED,function(n){t.onCellFocusChanged(n)}),this.addManagedListener(this.eventService,C.EVENT_CELL_FOCUS_CLEARED,function(){t.onCellFocusChanged()}),this.addManagedListener(this.eventService,C.EVENT_FLASH_CELLS,function(n){t.getAllCellCtrls().forEach(function(r){return r.onFlashCells(n)})}),this.addManagedListener(this.eventService,C.EVENT_COLUMN_HOVER_CHANGED,function(){t.getAllCellCtrls().forEach(function(n){return n.onColumnHover()})}),this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){t.getAllCellCtrls().forEach(function(n){return n.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){t.printLayout&&t.getAllCellCtrls().forEach(function(n){return n.onLeftChanged()})}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,C.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},e.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(t){return t()}),this.destroyFuncsForColumnListeners.length=0},e.prototype.refreshListenersToColumnsForCellComps=function(){var t=this;this.removeGridColumnListeners();var n=this.columnModel.getAllGridColumns();n.forEach(function(r){var o=function(d){t.getAllCellCtrls().forEach(function(h){h.getColumn()===r&&d(h)})},s=function(){o(function(d){return d.onLeftChanged()})},a=function(){o(function(d){return d.onWidthChanged()})},l=function(){o(function(d){return d.onFirstRightPinnedChanged()})},u=function(){o(function(d){return d.onLastLeftPinnedChanged()})},c=function(){o(function(d){return d.onColDefChanged()})};r.addEventListener("leftChanged",s),r.addEventListener("widthChanged",a),r.addEventListener("firstRightPinnedChanged",l),r.addEventListener("lastLeftPinnedChanged",u),r.addEventListener("colDefChanged",c),t.destroyFuncsForColumnListeners.push(function(){r.removeEventListener("leftChanged",s),r.removeEventListener("widthChanged",a),r.removeEventListener("firstRightPinnedChanged",l),r.removeEventListener("lastLeftPinnedChanged",u),r.removeEventListener("colDefChanged",c)})})},e.prototype.onDomLayoutChanged=function(){var t=this.gridOptionsService.isDomLayout("print"),n=t||this.gridOptionsService.get("embedFullWidthRows"),r=n!==this.embedFullWidthRows||this.printLayout!==t;this.printLayout=t,this.embedFullWidthRows=n,r&&this.redrawAfterModelUpdate({domLayoutChanged:!0})},e.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)},e.prototype.onPageLoaded=function(t){var n={recycleRows:t.keepRenderedRows,animate:t.animate,newData:t.newData,newPage:t.newPage,onlyBody:!0};this.redrawAfterModelUpdate(n)},e.prototype.getAllCellsForColumn=function(t){var n=[];return this.getAllRowCtrls().forEach(function(r){var o=r.getCellElement(t);o&&n.push(o)}),n},e.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},e.prototype.getTopRowCtrls=function(){return this.topRowCtrls},e.prototype.getCentreRowCtrls=function(){return this.allRowCtrls},e.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},e.prototype.refreshFloatingRows=function(t,n){var r=this;t.forEach(function(o){o.destroyFirstPass(),o.destroySecondPass()}),t.length=0,n&&n.forEach(function(o){var s=new au(o,r.beans,!1,!1,r.printLayout);t.push(s)})},e.prototype.onPinnedRowDataChanged=function(){var t={recycleRows:!0};this.redrawAfterModelUpdate(t)},e.prototype.redrawRow=function(t,n){var r=this;if(n===void 0&&(n=!1),t.sticky)this.stickyRowFeature.refreshStickyNode(t);else{var o=function(s){var a=s[t.rowIndex];a&&a.getRowNode()===t&&(a.destroyFirstPass(),a.destroySecondPass(),s[t.rowIndex]=r.createRowCon(t,!1,!1))};switch(t.rowPinned){case"top":o(this.topRowCtrls);case"bottom":o(this.bottomRowCtrls);default:o(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}n||this.dispatchDisplayedRowsChanged(!1)},e.prototype.redrawRows=function(t){var n=this,r=t!=null;if(r){t?.forEach(function(o){return n.redrawRow(o,!0)}),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()},e.prototype.getCellToRestoreFocusToAfterRefresh=function(t){var n=t?.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(n==null)return null;var r=this.gridOptionsService.getDocument(),o=r.activeElement,s=this.gridOptionsService.getDomData(o,su.DOM_DATA_KEY_CELL_CTRL),a=this.gridOptionsService.getDomData(o,au.DOM_DATA_KEY_ROW_CTRL),l=s||a;return l?n:null},e.prototype.redrawAfterModelUpdate=function(t){t===void 0&&(t={}),this.getLockOnRefresh();var n=this.getCellToRestoreFocusToAfterRefresh(t);this.updateContainerHeights(),this.scrollToTopIfNewData(t);var r=!t.domLayoutChanged&&!!t.recycleRows,o=t.animate&&this.gridOptionsService.isAnimateRows(),s=r?this.getRowsToRecycle():null;r||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows(),this.recycleRows(s,o),this.gridBodyCtrl.updateRowCount(),t.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),n!=null&&this.restoreFocusedCell(n),this.releaseLockOnRefresh()},e.prototype.scrollToTopIfNewData=function(t){var n=t.newData||t.newPage,r=this.gridOptionsService.get("suppressScrollOnNewData");n&&!r&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},e.prototype.updateContainerHeights=function(){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}var t=this.paginationProxy.getCurrentPageHeight();t===0&&(t=1),this.rowContainerHeightService.setModelHeight(t)},e.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},e.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},e.prototype.isRefreshInProgress=function(){return this.refreshInProgress},e.prototype.restoreFocusedCell=function(t){t&&(this.focusService.setRestoreFocusedCell(t),this.onCellFocusChanged(this.beans.gridOptionsService.addGridCommonParams({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"mock"})))},e.prototype.stopEditing=function(t){t===void 0&&(t=!1),this.getAllRowCtrls().forEach(function(n){n.stopEditing(t)})},e.prototype.getAllCellCtrls=function(){for(var t=[],n=this.getAllRowCtrls(),r=n.length,o=0;o<r;o++)for(var s=n[o].getAllCellCtrls(),a=s.length,l=0;l<a;l++)t.push(s[l]);return t},e.prototype.getAllRowCtrls=function(){var t,n,r=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],o=ba(ba(ba([],Ea(this.topRowCtrls),!1),Ea(this.bottomRowCtrls),!1),Ea(r),!1);try{for(var s=Rle(Object.keys(this.rowCtrlsByRowIndex)),a=s.next();!a.done;a=s.next()){var l=a.value;o.push(this.rowCtrlsByRowIndex[l])}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return o},e.prototype.addRenderedRowListener=function(t,n,r){var o=this.rowCtrlsByRowIndex[n];o&&o.addEventListener(t,r)},e.prototype.flashCells=function(t){t===void 0&&(t={});var n=t.flashDelay,r=t.fadeDelay;this.getCellCtrls(t.rowNodes,t.columns).forEach(function(o){return o.flashCell({flashDelay:n,fadeDelay:r})})},e.prototype.refreshCells=function(t){var n=this;t===void 0&&(t={});var r={forceRefresh:t.force,newData:!1,suppressFlash:t.suppressFlash};this.getCellCtrls(t.rowNodes,t.columns).forEach(function(o){return o.refreshOrDestroyCell(r)}),t.rowNodes&&(this.getRowCtrls(t.rowNodes).forEach(function(o){if(o.isFullWidth()){var s=o.refreshFullWidth();s||n.redrawRow(o.getRowNode(),!0)}}),this.dispatchDisplayedRowsChanged(!1))},e.prototype.getCellRendererInstances=function(t){var n=this,r,o=this.getCellCtrls(t.rowNodes,t.columns).map(function(l){return l.getCellRenderer()}).filter(function(l){return l!=null});if(!((r=t.columns)===null||r===void 0)&&r.length)return o;var s=[],a=this.mapRowNodes(t.rowNodes);return this.getAllRowCtrls().forEach(function(l){if(!(a&&!n.isRowInMap(l.getRowNode(),a))&&l.isFullWidth())for(var u=l.getFullWidthCellRenderers(),c=0;c<u.length;c++){var d=u[c];d!=null&&s.push(d)}}),ba(ba([],Ea(s),!1),Ea(o),!1)},e.prototype.getCellEditorInstances=function(t){var n=[];return this.getCellCtrls(t.rowNodes,t.columns).forEach(function(r){var o=r.getCellEditor();o&&n.push(o)}),n},e.prototype.getEditingCells=function(){var t=[];return this.getAllCellCtrls().forEach(function(n){if(n.isEditing()){var r=n.getCellPosition();t.push(r)}}),t},e.prototype.mapRowNodes=function(t){if(t){var n={top:{},bottom:{},normal:{}};return t.forEach(function(r){var o=r.id;r.rowPinned==="top"?n.top[o]=r:r.rowPinned==="bottom"?n.bottom[o]=r:n.normal[o]=r}),n}},e.prototype.isRowInMap=function(t,n){var r=t.id,o=t.rowPinned;return o==="bottom"?n.bottom[r]!=null:o==="top"?n.top[r]!=null:n.normal[r]!=null},e.prototype.getRowCtrls=function(t){var n=this,r=this.mapRowNodes(t),o=this.getAllRowCtrls();return!t||!r?o:o.filter(function(s){var a=s.getRowNode();return n.isRowInMap(a,r)})},e.prototype.getCellCtrls=function(t,n){var r=this,o;B(n)&&(o={},n.forEach(function(a){var l=r.columnModel.getGridColumn(a);B(l)&&(o[l.getId()]=!0)}));var s=[];return this.getRowCtrls(t).forEach(function(a){a.getAllCellCtrls().forEach(function(l){var u=l.getColumn().getId(),c=o&&!o[u];c||s.push(l)})}),s},e.prototype.destroy=function(){this.removeAllRowComps(),i.prototype.destroy.call(this)},e.prototype.removeAllRowComps=function(){var t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)},e.prototype.getRowsToRecycle=function(){var t=[];zn(this.rowCtrlsByRowIndex,function(r,o){var s=o.getRowNode().id==null;s&&t.push(r)}),this.removeRowCtrls(t);var n={};return zn(this.rowCtrlsByRowIndex,function(r,o){var s=o.getRowNode();n[s.id]=o}),this.rowCtrlsByRowIndex={},n},e.prototype.removeRowCtrls=function(t,n){var r=this;n===void 0&&(n=!1),t.forEach(function(o){var s=r.rowCtrlsByRowIndex[o];s&&(s.destroyFirstPass(n),s.destroySecondPass()),delete r.rowCtrlsByRowIndex[o]})},e.prototype.onBodyScroll=function(t){t.direction==="vertical"&&this.redraw({afterScroll:!0})},e.prototype.redraw=function(t){t===void 0&&(t={});var n=t.afterScroll,r;this.stickyRowFeature&&nO()&&(r=this.getCellToRestoreFocusToAfterRefresh()||void 0);var o=this.firstRenderedRow,s=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();var a=!1;this.stickyRowFeature&&(a=this.stickyRowFeature.checkStickyRows());var l=this.firstRenderedRow!==o||this.lastRenderedRow!==s;if(!(n&&!a&&!l)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,n),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(n&&!a),r!=null)){var u=this.getCellToRestoreFocusToAfterRefresh();r!=null&&u==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(r))}},e.prototype.removeRowCompsNotToDraw=function(t,n){var r={};t.forEach(function(a){return r[a]=!0});var o=Object.keys(this.rowCtrlsByRowIndex),s=o.filter(function(a){return!r[a]});this.removeRowCtrls(s,n)},e.prototype.calculateIndexesToDraw=function(t){var n=this,r=sj(this.firstRenderedRow,this.lastRenderedRow),o=function(c,d){var h=d.getRowNode().rowIndex;h!=null&&(h<n.firstRenderedRow||h>n.lastRenderedRow)&&n.doNotUnVirtualiseRow(d)&&r.push(h)};zn(this.rowCtrlsByRowIndex,o),zn(t,o),r.sort(function(c,d){return c-d});for(var s=[],a=0;a<r.length;a++){var l=r[a],u=this.paginationProxy.getRow(l);u&&!u.sticky&&s.push(l)}return s},e.prototype.recycleRows=function(t,n,r){var o=this;n===void 0&&(n=!1),r===void 0&&(r=!1);var s=this.calculateIndexesToDraw(t);if((this.printLayout||r)&&(n=!1),this.removeRowCompsNotToDraw(s,!n),s.forEach(function(l){var u=o.createOrUpdateRowCtrl(l,t,n,r);B(u)}),t){var a=r&&!this.gridOptionsService.get("suppressAnimationFrame")&&!this.printLayout;a?this.beans.animationFrameService.addDestroyTask(function(){o.destroyRowCtrls(t,n),o.updateAllRowCtrls(),o.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(t,n)}this.updateAllRowCtrls()},e.prototype.dispatchDisplayedRowsChanged=function(t){t===void 0&&(t=!1);var n={type:C.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:t};this.eventService.dispatchEvent(n)},e.prototype.onDisplayedColumnsChanged=function(){var t=this.columnModel.isPinningLeft(),n=this.columnModel.isPinningRight(),r=this.pinningLeft!==t||n!==this.pinningRight;r&&(this.pinningLeft=t,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},e.prototype.redrawFullWidthEmbeddedRows=function(){var t=[];this.getFullWidthRowCtrls().forEach(function(n){var r=n.getRowNode().rowIndex;t.push(r.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(t),this.redraw({afterScroll:!0})},e.prototype.getFullWidthRowCtrls=function(t){var n=this,r=this.mapRowNodes(t);return this.getAllRowCtrls().filter(function(o){if(!o.isFullWidth())return!1;var s=o.getRowNode();return!(r!=null&&!n.isRowInMap(s,r))})},e.prototype.createOrUpdateRowCtrl=function(t,n,r,o){var s,a=this.rowCtrlsByRowIndex[t];a||(s=this.paginationProxy.getRow(t),B(s)&&B(n)&&n[s.id]&&s.alreadyRendered&&(a=n[s.id],n[s.id]=null));var l=!a;if(l)if(s||(s=this.paginationProxy.getRow(t)),B(s))a=this.createRowCon(s,r,o);else return;return s&&(s.alreadyRendered=!0),this.rowCtrlsByRowIndex[t]=a,a},e.prototype.destroyRowCtrls=function(t,n){var r=this,o=[];zn(t,function(s,a){if(a){if(r.cachedRowCtrls&&a.isCacheable()){r.cachedRowCtrls.addRow(a);return}a.destroyFirstPass(!n),n?(r.zombieRowCtrls[a.getInstanceId()]=a,o.push(function(){a.destroySecondPass(),delete r.zombieRowCtrls[a.getInstanceId()]})):a.destroySecondPass()}}),n&&(o.push(function(){r.updateAllRowCtrls(),r.dispatchDisplayedRowsChanged()}),EB(o))},e.prototype.getRowBuffer=function(){return this.gridOptionsService.get("rowBuffer")},e.prototype.getRowBufferInPixels=function(){var t=this.getRowBuffer(),n=this.gridOptionsService.getRowHeightAsNumber();return t*n},e.prototype.workOutFirstAndLastRowsToRender=function(){this.rowContainerHeightService.updateOffset();var t,n;if(!this.paginationProxy.isRowsToRender())t=0,n=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),t=this.paginationProxy.getPageFirstRow(),n=this.paginationProxy.getPageLastRow();else{var r=this.getRowBufferInPixels(),o=this.ctrlsService.getGridBodyCtrl(),s=this.gridOptionsService.get("suppressRowVirtualisation"),a=!1,l=void 0,u=void 0;do{var c=this.paginationProxy.getPixelOffset(),d=this.paginationProxy.getCurrentPagePixelRange(),h=d.pageFirstPixel,p=d.pageLastPixel,f=this.rowContainerHeightService.getDivStretchOffset(),g=o.getScrollFeature().getVScrollPosition(),v=g.top,m=g.bottom;s?(l=h+f,u=p+f):(l=Math.max(v+c-r,h)+f,u=Math.min(m+c+r,p)+f),this.firstVisibleVPixel=Math.max(v+c,h)+f,a=this.ensureAllRowsInRangeHaveHeightsCalculated(l,u)}while(a);var _=this.paginationProxy.getRowIndexAtPixel(l),w=this.paginationProxy.getRowIndexAtPixel(u),S=this.paginationProxy.getPageFirstRow(),R=this.paginationProxy.getPageLastRow();_<S&&(_=S),w>R&&(w=R),t=_,n=w}var T=this.gridOptionsService.isDomLayout("normal"),x=this.gridOptionsService.get("suppressMaxRenderedRowRestriction"),A=Math.max(this.getRowBuffer(),500);T&&!x&&n-t>A&&(n=t+A);var U=t!==this.firstRenderedRow,q=n!==this.lastRenderedRow;if(U||q){this.firstRenderedRow=t,this.lastRenderedRow=n;var $={type:C.EVENT_VIEWPORT_CHANGED,firstRow:t,lastRow:n};this.eventService.dispatchEvent($)}},e.prototype.dispatchFirstDataRenderedEvent=function(){var t=this;if(!this.dataFirstRenderedFired){this.dataFirstRenderedFired=!0;var n={type:C.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(function(){t.beans.eventService.dispatchEvent(n)})}},e.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(t,n){var r=this.paginationProxy.ensureRowHeightsValid(t,n,-1,-1);return r&&this.updateContainerHeights(),r},e.prototype.getFirstVisibleVerticalPixel=function(){return this.firstVisibleVPixel},e.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},e.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},e.prototype.doNotUnVirtualiseRow=function(t){var n=!1,r=!0,o=t.getRowNode(),s=this.focusService.isRowNodeFocused(o),a=t.isEditing(),l=o.detail,u=s||a||l;if(!u)return n;var c=this.paginationProxy.isRowPresent(o);return c?r:n},e.prototype.createRowCon=function(t,n,r){var o=this.cachedRowCtrls?this.cachedRowCtrls.getRow(t):null;if(o)return o;var s=this.gridOptionsService.get("suppressAnimationFrame"),a=r&&!s&&!this.printLayout,l=new au(t,this.beans,n,a,this.printLayout);return l},e.prototype.getRenderedNodes=function(){var t=this.rowCtrlsByRowIndex;return Object.keys(t).map(function(n){return t[n].getRowNode()})},e.prototype.getRowByPosition=function(t){var n,r=t.rowIndex;switch(t.rowPinned){case"top":n=this.topRowCtrls[r];break;case"bottom":n=this.bottomRowCtrls[r];break;default:n=this.rowCtrlsByRowIndex[r],n||(n=this.getStickyTopRowCtrls().find(function(o){return o.getRowNode().rowIndex===r})||null);break}return n},e.prototype.getRowNode=function(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},e.prototype.isRangeInRenderedViewport=function(t,n){var r=t==null||n==null;if(r)return!1;var o=t>this.lastRenderedRow,s=n<this.firstRenderedRow,a=!s&&!o;return a},Yr([y("animationFrameService")],e.prototype,"animationFrameService",void 0),Yr([y("paginationProxy")],e.prototype,"paginationProxy",void 0),Yr([y("columnModel")],e.prototype,"columnModel",void 0),Yr([y("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Yr([y("rowModel")],e.prototype,"rowModel",void 0),Yr([y("focusService")],e.prototype,"focusService",void 0),Yr([y("beans")],e.prototype,"beans",void 0),Yr([y("rowContainerHeightService")],e.prototype,"rowContainerHeightService",void 0),Yr([y("ctrlsService")],e.prototype,"ctrlsService",void 0),Yr([W],e.prototype,"postConstruct",null),e=Yr([ee("rowRenderer")],e),e}(j),Ale=function(){function i(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}return i.prototype.addRow=function(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){var t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}},i.prototype.getRow=function(e){if(e==null||e.id==null)return null;var t=this.entriesMap[e.id];if(!t)return null;this.removeFromCache(t),t.setCached(!1);var n=t.getRowNode()!=e;return n?null:t},i.prototype.removeFromCache=function(e){var t=e.getRowNode().id;delete this.entriesMap[t],Ki(this.entriesList,e)},i.prototype.getEntries=function(){return this.entriesList},i}(),Ole=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),HH=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Ile=function(i){Ole(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.formatValue=function(t,n,r,o,s){s===void 0&&(s=!0);var a=null,l,u=t.getColDef();if(o?l=o:s&&(l=u.valueFormatter),l){var c=this.gridOptionsService.addGridCommonParams({value:r,node:n,data:n?n.data:null,colDef:u,column:t});typeof l=="function"?a=l(c):a=this.expressionService.evaluate(l,c)}else if(u.refData)return u.refData[r]||"";return a==null&&Array.isArray(r)&&(a=r.join(", ")),a},HH([y("expressionService")],e.prototype,"expressionService",void 0),e=HH([ee("valueFormatterService")],e),e}(j),Mle=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),XT=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},xle=function(i){Mle(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(){var t=this;this.setPinnedTopRowData(),this.setPinnedBottomRowData(),this.addManagedPropertyListener("pinnedTopRowData",function(){return t.setPinnedTopRowData()}),this.addManagedPropertyListener("pinnedBottomRowData",function(){return t.setPinnedBottomRowData()})},e.prototype.isEmpty=function(t){var n=t==="top"?this.pinnedTopRows:this.pinnedBottomRows;return Yi(n)},e.prototype.isRowsToRender=function(t){return!this.isEmpty(t)},e.prototype.getRowAtPixel=function(t,n){var r=n==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(Yi(r))return 0;for(var o=0;o<r.length;o++){var s=r[o],a=s.rowTop+s.rowHeight-1;if(a>=t)return o}return r.length-1},e.prototype.setPinnedTopRowData=function(){var t=this.gridOptionsService.get("pinnedTopRowData");this.pinnedTopRows=this.createNodesFromData(t,!0);var n={type:C.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(n)},e.prototype.setPinnedBottomRowData=function(){var t=this.gridOptionsService.get("pinnedBottomRowData");this.pinnedBottomRows=this.createNodesFromData(t,!1);var n={type:C.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(n)},e.prototype.createNodesFromData=function(t,n){var r=this,o=[];if(t){var s=0;t.forEach(function(a,l){var u=new Pe(r.beans);u.data=a;var c=n?Pe.ID_PREFIX_TOP_PINNED:Pe.ID_PREFIX_BOTTOM_PINNED;u.id=c+l,u.rowPinned=n?"top":"bottom",u.setRowTop(s),u.setRowHeight(r.gridOptionsService.getRowHeightForNode(u).height),u.setRowIndex(l),s+=u.rowHeight,o.push(u)})}return o},e.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},e.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},e.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},e.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},e.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},e.prototype.getPinnedTopRow=function(t){return this.pinnedTopRows[t]},e.prototype.getPinnedBottomRow=function(t){return this.pinnedBottomRows[t]},e.prototype.forEachPinnedTopRow=function(t){Yi(this.pinnedTopRows)||this.pinnedTopRows.forEach(t)},e.prototype.forEachPinnedBottomRow=function(t){Yi(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(t)},e.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},e.prototype.getTotalHeight=function(t){if(!t||t.length===0)return 0;var n=Je(t);return n.rowTop+n.rowHeight},XT([y("beans")],e.prototype,"beans",void 0),XT([W],e.prototype,"init",null),e=XT([ee("pinnedRowModel")],e),e}(j);var b_=function(){function i(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}return i.prototype.setInactive=function(){this.active=!1},i.prototype.isActive=function(){return this.active},i.prototype.depthFirstSearchChangedPath=function(e,t){if(e.children)for(var n=0;n<e.children.length;n++)this.depthFirstSearchChangedPath(e.children[n],t);t(e.rowNode)},i.prototype.depthFirstSearchEverything=function(e,t,n){if(e.childrenAfterGroup)for(var r=0;r<e.childrenAfterGroup.length;r++){var o=e.childrenAfterGroup[r];o.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[r],t,n):n&&t(o)}t(e)},i.prototype.forEachChangedNodeDepthFirst=function(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1),this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)},i.prototype.executeFromRootNode=function(e){e(this.pathRoot.rowNode)},i.prototype.createPathItems=function(e){for(var t=e,n=0;!this.mapToItems[t.id];){var r={rowNode:t,children:null};this.mapToItems[t.id]=r,n++,t=t.parent}return n},i.prototype.populateColumnsMap=function(e,t){var n=this;if(!(!this.keepingColumns||!t))for(var r=e;r;)this.nodeIdsToColumns[r.id]||(this.nodeIdsToColumns[r.id]={}),t.forEach(function(o){return n.nodeIdsToColumns[r.id][o.getId()]=!0}),r=r.parent},i.prototype.linkPathItems=function(e,t){for(var n=e,r=0;r<t;r++){var o=this.mapToItems[n.id],s=this.mapToItems[n.parent.id];s.children||(s.children=[]),s.children.push(o),n=n.parent}},i.prototype.addParentNode=function(e,t){if(!(!e||e.isRowPinned())){var n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}},i.prototype.canSkip=function(e){return this.active&&!this.mapToItems[e.id]},i.prototype.getValueColumnsForNode=function(e,t){if(!this.keepingColumns)return t;var n=this.nodeIdsToColumns[e.id],r=t.filter(function(o){return n[o.getId()]});return r},i.prototype.getNotValueColumnsForNode=function(e,t){if(!this.keepingColumns)return null;var n=this.nodeIdsToColumns[e.id],r=t.filter(function(o){return!n[o.getId()]});return r},i}(),Ple=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),kA=function(i){Ple(e,i);function e(t){var n=i.call(this)||this;return n.state=e.STATE_WAITING_TO_LOAD,n.version=0,n.id=t,n}return e.prototype.getId=function(){return this.id},e.prototype.load=function(){this.state=e.STATE_LOADING,this.loadFromDatasource()},e.prototype.getVersion=function(){return this.version},e.prototype.setStateWaitingToLoad=function(){this.version++,this.state=e.STATE_WAITING_TO_LOAD},e.prototype.getState=function(){return this.state},e.prototype.pageLoadFailed=function(t){var n=this.isRequestMostRecentAndLive(t);n&&(this.state=e.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},e.prototype.success=function(t,n){this.successCommon(t,n)},e.prototype.pageLoaded=function(t,n,r){this.successCommon(t,{rowData:n,rowCount:r})},e.prototype.isRequestMostRecentAndLive=function(t){var n=t===this.version,r=this.isAlive();return n&&r},e.prototype.successCommon=function(t,n){this.dispatchLoadCompleted();var r=this.isRequestMostRecentAndLive(t);r&&(this.state=e.STATE_LOADED,this.processServerResult(n))},e.prototype.dispatchLoadCompleted=function(t){t===void 0&&(t=!0);var n={type:e.EVENT_LOAD_COMPLETE,success:t,block:this};this.dispatchEvent(n)},e.EVENT_LOAD_COMPLETE="loadComplete",e.STATE_WAITING_TO_LOAD="needsLoading",e.STATE_LOADING="loading",e.STATE_LOADED="loaded",e.STATE_FAILED="failed",e}(j),Fle=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),AC=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Nle=function(i,e){return function(t,n){e(t,n,i)}},Lle=function(i){Fle(e,i);function e(){var n=i!==null&&i.apply(this,arguments)||this;return n.activeBlockLoadsCount=0,n.blocks=[],n.active=!0,n}t=e,e.prototype.postConstruct=function(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();var n=this.gridOptionsService.get("blockLoadDebounceMillis");n&&n>0&&(this.checkBlockToLoadDebounce=Te.debounce(this.performCheckBlocksToLoad.bind(this),n))},e.prototype.setBeans=function(n){this.logger=n.create("RowNodeBlockLoader")},e.prototype.getMaxConcurrentDatasourceRequests=function(){var n=this.gridOptionsService.get("maxConcurrentDatasourceRequests");if(n==null)return 2;if(!(n<=0))return n},e.prototype.addBlock=function(n){this.blocks.push(n),n.addEventListener(kA.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},e.prototype.removeBlock=function(n){Te.removeFromArray(this.blocks,n)},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.active=!1},e.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:t.BLOCK_LOADED_EVENT}),this.activeBlockLoadsCount==0&&this.dispatchEvent({type:t.BLOCK_LOADER_FINISHED_EVENT})},e.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},e.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.logger.log("checkBlockToLoad: max loads exceeded");return}var n=this.getAvailableLoadingCount(),r=this.blocks.filter(function(o){return o.getState()===kA.STATE_WAITING_TO_LOAD}).slice(0,n);this.registerLoads(r.length),r.forEach(function(o){return o.load()}),this.printCacheStatus()}},e.prototype.getBlockState=function(){if(this.gridOptionsService.isRowModelType("serverSide")){var n=this.rowModel;return n.getBlockStates()}var r={};return this.blocks.forEach(function(o){var s=o.getBlockStateJson(),a=s.id,l=s.state;r[a]=l}),r},e.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = ".concat(this.activeBlockLoadsCount,",")+" blocks = ".concat(JSON.stringify(this.getBlockState())))},e.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},e.prototype.registerLoads=function(n){this.activeBlockLoadsCount+=n},e.prototype.getAvailableLoadingCount=function(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0};var t;return e.BLOCK_LOADED_EVENT="blockLoaded",e.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",AC([y("rowModel")],e.prototype,"rowModel",void 0),AC([W],e.prototype,"postConstruct",null),AC([Nle(0,Or("loggerFactory"))],e.prototype,"setBeans",null),e=t=AC([ee("rowNodeBlockLoader")],e),e}(j),kle=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),JT=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Vle=function(i){kle(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.currentPage=0,t.topDisplayedRowIndex=0,t.bottomDisplayedRowIndex=0,t.pixelOffset=0,t.masterRowCount=0,t}return e.prototype.postConstruct=function(){this.active=this.gridOptionsService.get("pagination"),this.pageSizeFromGridOptions=this.gridOptionsService.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,C.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this)),this.onModelUpdated()},e.prototype.ensureRowHeightsValid=function(t,n,r,o){var s=this.rowModel.ensureRowHeightsValid(t,n,this.getPageFirstRow(),this.getPageLastRow());return s&&this.calculatePages(),s},e.prototype.isPaginateChildRows=function(){var t=this.gridOptionsService.get("groupRemoveSingleChildren")||this.gridOptionsService.get("groupRemoveLowestSingleChildren");return t?!0:this.gridOptionsService.get("paginateChildRows")},e.prototype.onModelUpdated=function(t){this.calculatePages();var n={type:C.EVENT_PAGINATION_CHANGED,animate:t?t.animate:!1,newData:t?t.newData:!1,newPage:t?t.newPage:!1,newPageSize:t?t.newPageSize:!1,keepRenderedRows:t?t.keepRenderedRows:!1};this.eventService.dispatchEvent(n)},e.prototype.onPaginationGridOptionChanged=function(){this.active=this.gridOptionsService.get("pagination"),this.calculatePages();var t={type:C.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!1,keepRenderedRows:!0};this.eventService.dispatchEvent(t)},e.prototype.onPageSizeGridOptionChanged=function(){this.setPageSize(this.gridOptionsService.get("paginationPageSize"),"gridOptions")},e.prototype.goToPage=function(t){if(!(!this.active||this.currentPage===t||typeof this.currentPage!="number")){this.currentPage=t;var n={type:C.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,newPageSize:!1};this.onModelUpdated(n)}},e.prototype.getPixelOffset=function(){return this.pixelOffset},e.prototype.getRow=function(t){return this.rowModel.getRow(t)},e.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},e.prototype.getRowIndexAtPixel=function(t){return this.rowModel.getRowIndexAtPixel(t)},e.prototype.getCurrentPageHeight=function(){return ue(this.topRowBounds)||ue(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},e.prototype.getCurrentPagePixelRange=function(){var t=this.topRowBounds?this.topRowBounds.rowTop:0,n=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:t,pageLastPixel:n}},e.prototype.isRowPresent=function(t){if(!this.rowModel.isRowPresent(t))return!1;var n=t.rowIndex>=this.topDisplayedRowIndex&&t.rowIndex<=this.bottomDisplayedRowIndex;return n},e.prototype.isEmpty=function(){return this.rowModel.isEmpty()},e.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},e.prototype.forEachNode=function(t){return this.rowModel.forEachNode(t)},e.prototype.forEachNodeOnPage=function(t){for(var n=this.getPageFirstRow(),r=this.getPageLastRow(),o=n;o<=r;o++){var s=this.getRow(o);s&&t(s)}},e.prototype.getType=function(){return this.rowModel.getType()},e.prototype.getRowBounds=function(t){var n=this.rowModel.getRowBounds(t);return n.rowIndex=t,n},e.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},e.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},e.prototype.getRowCount=function(){return this.rowModel.getRowCount()},e.prototype.getPageForIndex=function(t){return Math.floor(t/this.pageSize)},e.prototype.goToPageWithIndex=function(t){if(this.active){var n=this.getPageForIndex(t);this.goToPage(n)}},e.prototype.isRowInPage=function(t){if(!this.active)return!0;var n=this.getPageForIndex(t.rowIndex);return n===this.currentPage},e.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},e.prototype.getCurrentPage=function(){return this.currentPage},e.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},e.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},e.prototype.goToFirstPage=function(){this.goToPage(0)},e.prototype.goToLastPage=function(){var t=this.rowModel.getRowCount(),n=Math.floor(t/this.pageSize);this.goToPage(n)},e.prototype.getPageSize=function(){return this.pageSize},e.prototype.getTotalPages=function(){return this.totalPages},e.prototype.setPage=function(t){this.currentPage=t},Object.defineProperty(e.prototype,"pageSize",{get:function(){return B(this.pageSizeAutoCalculated)?this.pageSizeAutoCalculated:B(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:B(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:B(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize},enumerable:!1,configurable:!0}),e.prototype.unsetAutoCalculatedPageSize=function(){if(this.pageSizeAutoCalculated!==void 0){var t=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==t&&this.onModelUpdated({type:C.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0})}},e.prototype.setPageSize=function(t,n){var r=this.pageSize;switch(n){case"autoCalculated":this.pageSizeAutoCalculated=t;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=t,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=t;break;case"gridOptions":this.pageSizeFromGridOptions=t,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}if(r!==this.pageSize){var o={type:C.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0};this.onModelUpdated(o)}},e.prototype.calculatePages=function(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(B(this.topRowBounds)?this.topRowBounds.rowTop:0)},e.prototype.setPixelOffset=function(t){this.pixelOffset!==t&&(this.pixelOffset=t,this.eventService.dispatchEvent({type:C.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},e.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},e.prototype.adjustCurrentPageIfInvalid=function(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)},e.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid();var n=this.pageSize*this.currentPage,r=this.pageSize*(this.currentPage+1)-1;if(r>t&&(r=t),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(n),r===t)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var o=this.rowModel.getTopLevelRowDisplayedIndex(r+1);this.bottomDisplayedRowIndex=o-1}},e.prototype.getMasterRowCount=function(){return this.masterRowCount},e.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>t&&(this.bottomDisplayedRowIndex=t)},e.prototype.calculatedPagesNotActive=function(){this.setPageSize(this.masterRowCount,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},JT([y("rowModel")],e.prototype,"rowModel",void 0),JT([W],e.prototype,"postConstruct",null),e=JT([ee("paginationProxy")],e),e}(j),Gle=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),BH=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Hle=function(i){Gle(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.processAllCellClasses=function(t,n,r,o){this.processClassRules(void 0,t.cellClassRules,n,r,o),this.processStaticCellClasses(t,n,r)},e.prototype.processClassRules=function(t,n,r,o,s){if(!(n==null&&t==null)){var a={},l={},u=function(f,g){f.split(" ").forEach(function(v){v.trim()!=""&&g(v)})};if(n)for(var c=Object.keys(n),d=function(f){var g=c[f],v=n[g],m;typeof v=="string"?m=h.expressionService.evaluate(v,r):typeof v=="function"&&(m=v(r)),u(g,function(_){m?a[_]=!0:l[_]=!0})},h=this,p=0;p<c.length;p++)d(p);t&&s&&Object.keys(t).forEach(function(f){return u(f,function(g){a[g]||(l[g]=!0)})}),s&&Object.keys(l).forEach(s),Object.keys(a).forEach(o)}},e.prototype.getStaticCellClasses=function(t,n){var r=t.cellClass;if(!r)return[];var o;if(typeof r=="function"){var s=r;o=s(n)}else o=r;return typeof o=="string"&&(o=[o]),o||[]},e.prototype.processStaticCellClasses=function(t,n,r){var o=this.getStaticCellClasses(t,n);o.forEach(function(s){r(s)})},BH([y("expressionService")],e.prototype,"expressionService",void 0),e=BH([ee("stylingService")],e),e}(j),Ble=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),jle=function(i){Ble(e,i);function e(t){return i.call(this,t,"ag-toggle-button")||this}return e.prototype.setValue=function(t,n){return i.prototype.setValue.call(this,t,n),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},e}(C_),Ule=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Wle=function(i){Ule(e,i);function e(t){return i.call(this,t,"ag-text-area",null,"textarea")||this}return e.prototype.setValue=function(t,n){var r=i.prototype.setValue.call(this,t,n);return this.eInput.value=t,r},e.prototype.setCols=function(t){return this.eInput.cols=t,this},e.prototype.setRows=function(t){return this.eInput.rows=t,this},e}(Pa),zle=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$le=function(i){zle(e,i);function e(t){return i.call(this,t,"ag-date-field","date")||this}return e.prototype.postConstruct=function(){var t=this;i.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this));var n=eo();this.addManagedListener(this.eInput,"mousedown",function(){t.isDisabled()||n||t.eInput.focus()}),this.eInput.step="any"},e.prototype.onWheel=function(t){document.activeElement===this.eInput&&t.preventDefault()},e.prototype.setMin=function(t){var n,r=t instanceof Date?(n=Ir(t??null,!1))!==null&&n!==void 0?n:void 0:t;return this.min===r?this:(this.min=r,jo(this.eInput,"min",r),this)},e.prototype.setMax=function(t){var n,r=t instanceof Date?(n=Ir(t??null,!1))!==null&&n!==void 0?n:void 0:t;return this.max===r?this:(this.max=r,jo(this.eInput,"max",r),this)},e.prototype.setStep=function(t){return this.step===t?this:(this.step=t,jo(this.eInput,"step",t),this)},e.prototype.getDate=function(){var t;if(this.eInput.validity.valid)return(t=Di(this.getValue()))!==null&&t!==void 0?t:void 0},e.prototype.setDate=function(t,n){this.setValue(Ir(t??null,!1),n)},e}(hu),qle=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Kle=function(i){qle(e,i);function e(t){return i.call(this,t,"ag-range-field","range")||this}return e.prototype.postConstruct=function(){i.prototype.postConstruct.call(this);var t=this.config,n=t.min,r=t.max,o=t.step;n!=null&&this.setMinValue(n),r!=null&&this.setMaxValue(r),this.setStep(o||1)},e.prototype.addInputListeners=function(){var t=this;this.addManagedListener(this.eInput,"input",function(n){var r=n.target.value;t.setValue(r)})},e.prototype.setMinValue=function(t){return this.min=t,this.eInput.setAttribute("min",t.toString()),this},e.prototype.setMaxValue=function(t){return this.max=t,this.eInput.setAttribute("max",t.toString()),this},e.prototype.setStep=function(t){return this.eInput.setAttribute("step",t.toString()),this},e.prototype.setValue=function(t,n){this.min!=null&&(t=Math.max(parseFloat(t),this.min).toString()),this.max!=null&&(t=Math.min(parseFloat(t),this.max).toString());var r=i.prototype.setValue.call(this,t,n);return this.eInput.value=t,r},e}(Pa),Yle=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),jH=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Qle=function(i){Yle(e,i);function e(t,n){var r=i.call(this,'<div class="ag-rich-select-row" role="presentation"></div>')||this;return r.params=t,r.wrapperEl=n,r}return e.prototype.postConstruct=function(){this.addManagedListener(this.getGui(),"click",this.onClick.bind(this))},e.prototype.setState=function(t){var n="";this.params.valueFormatter&&(n=this.params.valueFormatter(t));var r=this.populateWithRenderer(t,n);r||this.populateWithoutRenderer(t,n),this.value=t},e.prototype.highlightString=function(t){var n=this.parsedValue;if(!(this.params.cellRenderer||!B(n))){var r=B(t);if(r){var o=n?.toLocaleLowerCase().indexOf(t.toLocaleLowerCase());if(o>=0){var s=o+t.length,a=tn(n.slice(0,o),!0),l=tn(n.slice(o,s),!0),u=tn(n.slice(s));this.renderValueWithoutRenderer("".concat(a,'<span class="ag-rich-select-row-text-highlight">').concat(l,"</span>").concat(u))}else r=!1}r||this.renderValueWithoutRenderer(n)}},e.prototype.updateHighlighted=function(t){var n,r=this.getGui(),o="ag-rich-select-row-".concat(this.getCompId());if((n=r.parentElement)===null||n===void 0||n.setAttribute("id",o),t){var s=this.getParentComponent().getAriaElement();qA(s,o),this.wrapperEl.setAttribute("data-active-option",o)}pd(r.parentElement,t),this.addOrRemoveCssClass("ag-rich-select-row-selected",t)},e.prototype.populateWithoutRenderer=function(t,n){var r=this.gridOptionsService.getDocument(),o=this.getGui(),s=r.createElement("span");s.style.overflow="hidden",s.style.textOverflow="ellipsis";var a=tn(B(n)?n:t,!0);this.parsedValue=B(a)?a:null,o.appendChild(s),this.renderValueWithoutRenderer(a)},e.prototype.renderValueWithoutRenderer=function(t){var n=this.getGui().querySelector("span");n&&(n.innerHTML=B(t)?t:"&nbsp;")},e.prototype.populateWithRenderer=function(t,n){var r=this,o,s;return this.params.cellRenderer&&(s=this.userComponentFactory.getCellRendererDetails(this.params,{value:t,valueFormatted:n})),s&&(o=s.newAgStackInstance()),o&&fO(o,this.getGui()),o?(o.then(function(a){r.addDestroyFunc(function(){r.getContext().destroyBean(a)})}),!0):!1},e.prototype.onClick=function(){var t=this.getParentComponent(),n={type:C.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:!1,value:this.value};t?.dispatchEvent(n)},jH([y("userComponentFactory")],e.prototype,"userComponentFactory",void 0),jH([W],e.prototype,"postConstruct",null),e}(be),Zle=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),OC=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Qj=function(i){Zle(e,i);function e(t){var n=i.call(this,e.getTemplate(t?.cssIdentifier||"default"))||this;n.renderedRows=new Map,n.rowHeight=20;var r=t||{},o=r.cssIdentifier,s=o===void 0?"default":o,a=r.ariaRole,l=a===void 0?"listbox":a,u=r.listName;return n.cssIdentifier=s,n.ariaRole=l,n.listName=u,n}return e.prototype.postConstruct=function(){var t=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(n){return t.onFocusIn(n)},onFocusOut:function(n){return t.onFocusOut(n)},focusInnerElement:function(n){return t.focusInnerElement(n)},onTabKeyDown:function(n){return t.onTabKeyDown(n)},handleKeyDown:function(n){return t.handleKeyDown(n)}}),this.setAriaProperties(),this.addManagedListener(this.eventService,C.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))},e.prototype.onGridStylesChanged=function(){this.rowHeight=this.getItemHeight(),this.refresh()},e.prototype.setAriaProperties=function(){var t=this.localeService.getLocaleTextFunc(),n=t("ariaDefaultListName",this.listName||"List"),r=this.eContainer;fn(r,this.ariaRole),As(r,n)},e.prototype.addResizeObserver=function(){var t=this,n=function(){return t.animationFrameService.requestAnimationFrame(function(){return t.drawVirtualRows()})},r=this.resizeObserverService.observeResize(this.getGui(),n);this.addDestroyFunc(r)},e.prototype.focusInnerElement=function(t){this.focusRow(t?this.model.getRowCount()-1:0)},e.prototype.onFocusIn=function(t){var n=t.target;n.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=UB(n)-1)},e.prototype.onFocusOut=function(t){this.getFocusableElement().contains(t.relatedTarget)||(this.lastFocusedRowIndex=null)},e.prototype.handleKeyDown=function(t){switch(t.key){case I.UP:case I.DOWN:this.navigate(t.key===I.UP)&&t.preventDefault();break}},e.prototype.onTabKeyDown=function(t){this.navigate(t.shiftKey)?t.preventDefault():(Uo(t),this.forceFocusOutOfContainer(t.shiftKey))},e.prototype.navigate=function(t){if(this.lastFocusedRowIndex==null)return!1;var n=this.lastFocusedRowIndex+(t?-1:1);return n<0||n>=this.model.getRowCount()?!1:(this.focusRow(n),!0)},e.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},e.prototype.focusRow=function(t){var n=this;this.ensureIndexVisible(t),window.setTimeout(function(){if(n.isAlive()){var r=n.renderedRows.get(t);r&&r.eDiv.focus()}},10)},e.prototype.getComponentAt=function(t){var n=this.renderedRows.get(t);return n&&n.rowComponent},e.prototype.forEachRenderedRow=function(t){this.renderedRows.forEach(function(n,r){return t(n.rowComponent,r)})},e.getTemplate=function(t){return'<div class="ag-virtual-list-viewport ag-'.concat(t,`-virtual-list-viewport" role="presentation">
                <div class="ag-virtual-list-container ag-`).concat(t,`-virtual-list-container" ref="eContainer"></div>
            </div>`)},e.prototype.getItemHeight=function(){return this.environment.getListItemHeight()},e.prototype.ensureIndexVisible=function(t,n){n===void 0&&(n=!0);var r=this.model.getRowCount();if(typeof t!="number"||t<0||t>=r)return console.warn("AG Grid: invalid row index for ensureIndexVisible: "+t),!1;var o=t*this.rowHeight,s=o+this.rowHeight,a=this.getGui(),l=a.scrollTop,u=a.offsetHeight,c=l+u,d=n?0:this.rowHeight,h=l>o+d,p=c<s-d;if(h)return a.scrollTop=o,!0;if(p){var f=s-u;return a.scrollTop=f,!0}return!1},e.prototype.setComponentCreator=function(t){this.componentCreator=t},e.prototype.setComponentUpdater=function(t){this.componentUpdater=t},e.prototype.getRowHeight=function(){return this.rowHeight},e.prototype.getScrollTop=function(){return this.getGui().scrollTop},e.prototype.setRowHeight=function(t){this.rowHeight=t,this.refresh()},e.prototype.refresh=function(t){var n=this;if(!(this.model==null||!this.isAlive())){var r=this.model.getRowCount();this.eContainer.style.height="".concat(r*this.rowHeight,"px"),HA(function(){return n.eContainer.clientHeight>=r*n.rowHeight},function(){n.isAlive()&&(n.canSoftRefresh(t)?n.drawVirtualRows(!0):(n.clearVirtualRows(),n.drawVirtualRows()))})}},e.prototype.canSoftRefresh=function(t){return!!(t&&this.renderedRows.size&&typeof this.model.areRowsEqual=="function"&&this.componentUpdater)},e.prototype.clearVirtualRows=function(){var t=this;this.renderedRows.forEach(function(n,r){return t.removeRow(r)})},e.prototype.drawVirtualRows=function(t){if(!(!this.isAlive()||!this.model)){var n=this.getGui(),r=n.scrollTop,o=r+n.offsetHeight,s=Math.floor(r/this.rowHeight),a=Math.floor(o/this.rowHeight);this.ensureRowsRendered(s,a,t)}},e.prototype.ensureRowsRendered=function(t,n,r){var o=this;this.renderedRows.forEach(function(a,l){(l<t||l>n)&&l!==o.lastFocusedRowIndex&&o.removeRow(l)}),r&&this.refreshRows();for(var s=t;s<=n;s++)this.renderedRows.has(s)||s<this.model.getRowCount()&&this.insertRow(s)},e.prototype.insertRow=function(t){var n=this,r=this.model.getRow(t),o=document.createElement("div");o.classList.add("ag-virtual-list-item","ag-".concat(this.cssIdentifier,"-virtual-list-item")),fn(o,this.ariaRole==="tree"?"treeitem":"option"),KA(o,this.model.getRowCount()),YA(o,t+1),o.setAttribute("tabindex","-1"),o.style.height="".concat(this.rowHeight,"px"),o.style.top="".concat(this.rowHeight*t,"px");var s=this.componentCreator(r,o);s.addGuiEventListener("focusin",function(){return n.lastFocusedRowIndex=t}),o.appendChild(s.getGui()),this.renderedRows.has(t-1)?this.renderedRows.get(t-1).eDiv.insertAdjacentElement("afterend",o):this.renderedRows.has(t+1)?this.renderedRows.get(t+1).eDiv.insertAdjacentElement("beforebegin",o):this.eContainer.appendChild(o),this.renderedRows.set(t,{rowComponent:s,eDiv:o,value:r})},e.prototype.removeRow=function(t){var n=this.renderedRows.get(t);this.eContainer.removeChild(n.eDiv),this.destroyBean(n.rowComponent),this.renderedRows.delete(t)},e.prototype.refreshRows=function(){var t=this,n=this.model.getRowCount();this.renderedRows.forEach(function(r,o){var s,a;if(o>=n)t.removeRow(o);else{var l=t.model.getRow(o);!((a=(s=t.model).areRowsEqual)===null||a===void 0)&&a.call(s,r.value,l)?t.componentUpdater(l,r.rowComponent):t.removeRow(o)}})},e.prototype.addScrollListener=function(){var t=this;this.addGuiEventListener("scroll",function(){return t.drawVirtualRows()},{passive:!0})},e.prototype.setModel=function(t){this.model=t},e.prototype.getAriaElement=function(){return this.eContainer},e.prototype.destroy=function(){this.isAlive()&&(this.clearVirtualRows(),i.prototype.destroy.call(this))},OC([y("resizeObserverService")],e.prototype,"resizeObserverService",void 0),OC([y("animationFrameService")],e.prototype,"animationFrameService",void 0),OC([Z("eContainer")],e.prototype,"eContainer",void 0),OC([W],e.prototype,"postConstruct",null),e}(kf),Xle=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),s_=function(){return s_=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},s_.apply(this,arguments)},UH=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Jle=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,eue=function(i){Xle(e,i);function e(t){var n=this,r,o;n=i.call(this,s_(s_({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"smallDown",ariaRole:"combobox",template:(r=t?.template)!==null&&r!==void 0?r:Jle,modalPicker:!1},t),{maxPickerHeight:(o=t?.maxPickerHeight)!==null&&o!==void 0?o:"calc(var(--ag-row-height) * 6.5)"}))||this,n.searchString="",n.highlightedItem=-1,n.lastRowHovered=-1,n.searchStringCreator=null;var s=t||{},a=s.cellRowHeight,l=s.value,u=s.valueList,c=s.searchStringCreator;return a!=null&&(n.cellRowHeight=a),l!==void 0&&(n.value=l),u!=null&&(n.values=u),c&&(n.searchStringCreator=c),n}return e.prototype.postConstruct=function(){var t=this;i.prototype.postConstruct.call(this),this.createLoadingElement(),this.createListComponent();var n=this.config,r=n.allowTyping,o=n.placeholder;r?(this.eInput.setAutoComplete(!1).setInputPlaceholder(o),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex");var s=this.config.searchDebounceDelay,a=s===void 0?300:s;this.clearSearchString=Ar(this.clearSearchString,a),this.renderSelectedValue(),r&&(this.eInput.onValueChange(function(l){return t.searchTextFromString(l)}),this.addManagedListener(this.eWrapper,"focus",this.onWrapperFocus.bind(this))),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))},e.prototype.createLoadingElement=function(){var t=this.gridOptionsService.getDocument(),n=this.localeService.getLocaleTextFunc(),r=t.createElement("div");r.classList.add("ag-loading-text"),r.innerText=n("loadingOoo","Loading..."),this.eLoading=r},e.prototype.createListComponent=function(){var t=this;this.listComponent=this.createBean(new Qj({cssIdentifier:"rich-select"})),this.listComponent.setComponentCreator(this.createRowComponent.bind(this));var n=function(c,d){};this.listComponent.setComponentUpdater(n),this.listComponent.setParentComponent(this),this.addManagedListener(this.listComponent,C.EVENT_FIELD_PICKER_VALUE_SELECTED,function(c){t.onListValueSelected(c.value,c.fromEnterKey)});var r=this.cellRowHeight;r&&this.listComponent.setRowHeight(r);var o=this.listComponent.getGui(),s=this.listComponent.getAriaElement();this.addManagedListener(o,"mousemove",this.onPickerMouseMove.bind(this)),this.addManagedListener(o,"mousedown",function(c){return c.preventDefault()}),o.classList.add("ag-rich-select-list");var a="ag-rich-select-list-".concat(this.listComponent.getCompId());s.setAttribute("id",a);var l=this.localeService.getLocaleTextFunc(),u=l(this.config.pickerAriaLabelKey,this.config.pickerAriaLabelValue);As(s,u),XA(this.eWrapper,s)},e.prototype.renderSelectedValue=function(){var t=this,n=this,r=n.value,o=n.eDisplayField,s=n.config,a=this.config,l=a.allowTyping,u=a.initialInputValue,c=this.config.valueFormatter?this.config.valueFormatter(r):r;if(l){this.eInput.setValue(u??c);return}var d;s.cellRenderer&&(d=this.userComponentFactory.getCellRendererDetails(this.config,{value:r,valueFormatted:c}));var h;if(d&&(h=d.newAgStackInstance()),h)Rn(o),fO(h,o),h.then(function(f){t.addDestroyFunc(function(){return t.getContext().destroyBean(f)})});else if(B(this.value))o.innerText=c,o.classList.remove("ag-display-as-placeholder");else{var p=s.placeholder;B(p)?(o.innerHTML="".concat(tn(p)),o.classList.add("ag-display-as-placeholder")):Rn(o)}},e.prototype.getCurrentValueIndex=function(){var t=this,n=t.currentList,r=t.value;if(r==null||!n)return-1;for(var o=0;o<n.length;o++)if(n[o]===r)return o;return-1},e.prototype.highlightFilterMatch=function(){var t=this,n;(n=this.listComponent)===null||n===void 0||n.forEachRenderedRow(function(r,o){r.highlightString(t.searchString)})},e.prototype.highlightSelectedValue=function(t){var n=this,r;t==null&&(t=this.getCurrentValueIndex()),this.highlightedItem=t,(r=this.listComponent)===null||r===void 0||r.forEachRenderedRow(function(o,s){var a=t===-1?!1:n.highlightedItem===s;o.updateHighlighted(a)})},e.prototype.setRowHeight=function(t){t!==this.cellRowHeight&&(this.cellRowHeight=t),this.listComponent&&this.listComponent.setRowHeight(t)},e.prototype.createPickerComponent=function(){var t=this.values;return t&&this.setValueList({valueList:t}),this.listComponent},e.prototype.setSearchStringCreator=function(t){this.searchStringCreator=t},e.prototype.setValueList=function(t){var n=t.valueList,r=t.refresh;this.listComponent&&this.currentList!==n&&(this.currentList=n,this.listComponent.setModel({getRowCount:function(){return n.length},getRow:function(o){return n[o]},areRowsEqual:function(o,s){return o===s}}),r&&(this.values?this.listComponent.refresh(!0):(this.values=n,this.isPickerDisplayed&&this.showCurrentValueInPicker())))},e.prototype.showPicker=function(){i.prototype.showPicker.call(this),this.showCurrentValueInPicker(),this.displayOrHidePicker()},e.prototype.showCurrentValueInPicker=function(){var t,n;if(this.listComponent){if(!this.currentList){this.isPickerDisplayed&&this.eLoading&&this.listComponent.appendChild(this.eLoading);return}!((t=this.eLoading)===null||t===void 0)&&t.offsetParent&&((n=this.eLoading.parentElement)===null||n===void 0||n.removeChild(this.eLoading));var r=this.getCurrentValueIndex();r!==-1?(this.listComponent.refresh(),this.listComponent.ensureIndexVisible(r),this.listComponent.refresh(!0),this.highlightSelectedValue(r)):this.listComponent.refresh()}},e.prototype.beforeHidePicker=function(){this.highlightedItem=-1,i.prototype.beforeHidePicker.call(this)},e.prototype.onWrapperFocus=function(){if(this.eInput){var t=this.eInput.getFocusableElement();t.focus(),t.select()}},e.prototype.onWrapperFocusOut=function(t){this.eWrapper.contains(t.relatedTarget)||this.hidePicker()},e.prototype.buildSearchStringFromKeyboardEvent=function(t){var n=t.key;if(n===I.BACKSPACE)this.searchString=this.searchString.slice(0,-1),n="";else if(!m_(t))return;t.preventDefault(),this.searchTextFromCharacter(n)},e.prototype.searchTextFromCharacter=function(t){this.searchString+=t,this.runSearch(),this.clearSearchString()},e.prototype.searchTextFromString=function(t){t==null&&(t=""),this.searchString=t,this.runSearch()},e.prototype.buildSearchStrings=function(t){var n=this.config.valueFormatter,r=n===void 0?function(s){return s}:n,o;return typeof t[0]=="number"||typeof t[0]=="string"?o=t.map(function(s){return r(s)}):typeof t[0]=="object"&&this.searchStringCreator&&(o=this.searchStringCreator(t)),o},e.prototype.getSuggestionsAndFilteredValues=function(t,n){var r=this,o=[],s=[];if(!t.length)return{suggestions:o,filteredValues:s};var a=this.config,l=a.searchType,u=l===void 0?"fuzzy":l,c=a.filterList;if(u==="fuzzy"){var d=Lf(this.searchString,n,!0);o=d.values;var h=d.indices;if(c&&h.length)for(var p=0;p<h.length;p++)s.push(this.values[h[p]])}else o=n.filter(function(f,g){var v=f.toLocaleLowerCase(),m=r.searchString.toLocaleLowerCase(),_=u==="match"?v.startsWith(m):v.indexOf(m)!==-1;return c&&_&&s.push(r.values[g]),_});return{suggestions:o,filteredValues:s}},e.prototype.filterListModel=function(t){var n=this.config.filterList;n&&(this.setValueList({valueList:t,refresh:!0}),this.alignPickerToComponent())},e.prototype.runSearch=function(){var t,n,r=this.values,o=this.buildSearchStrings(r);if(!o){this.highlightSelectedValue(-1);return}var s=this.getSuggestionsAndFilteredValues(this.searchString,o),a=s.suggestions,l=s.filteredValues,u=this.config,c=u.filterList,d=u.highlightMatch,h=u.searchType,p=h===void 0?"fuzzy":h,f=l.length,g=!!(c&&this.searchString!=="");if(this.filterListModel(g?l:r),a.length){var v=g?0:o.indexOf(a[0]);this.selectListItem(v)}else if(this.highlightSelectedValue(-1),!g||f)(t=this.listComponent)===null||t===void 0||t.ensureIndexVisible(0);else if(g){this.getAriaElement().removeAttribute("data-active-option");var m=(n=this.listComponent)===null||n===void 0?void 0:n.getAriaElement();m&&qA(m,null)}d&&p!=="fuzzy"&&this.highlightFilterMatch(),this.displayOrHidePicker()},e.prototype.displayOrHidePicker=function(){var t,n=(t=this.listComponent)===null||t===void 0?void 0:t.getGui(),r=this.currentList?this.currentList.length===0:!1;n?.classList.toggle("ag-hidden",r)},e.prototype.clearSearchString=function(){this.searchString=""},e.prototype.selectListItem=function(t,n){if(!(!this.isPickerDisplayed||!this.currentList||!this.listComponent||t<0||t>=this.currentList.length)){var r=this.listComponent.ensureIndexVisible(t,!n);r&&!n&&this.listComponent.refresh(!0),this.highlightSelectedValue(t)}},e.prototype.setValue=function(t,n,r){var o=this.currentList?this.currentList.indexOf(t):-1;return o===-1?this:(this.value=t,r||this.selectListItem(o),this.renderSelectedValue(),i.prototype.setValue.call(this,t,n))},e.prototype.createRowComponent=function(t){var n=new Qle(this.config,this.eWrapper);n.setParentComponent(this.listComponent),this.getContext().createBean(n),n.setState(t);var r=this.config,o=r.highlightMatch,s=r.searchType,a=s===void 0?"fuzzy":s;return o&&a!=="fuzzy"&&n.highlightString(this.searchString),n},e.prototype.getRowForMouseEvent=function(t){var n=this.listComponent;if(!n)return-1;var r=n?.getGui(),o=r.getBoundingClientRect(),s=n.getScrollTop(),a=t.clientY-o.top+s;return Math.floor(a/n.getRowHeight())},e.prototype.onPickerMouseMove=function(t){if(this.listComponent){var n=this.getRowForMouseEvent(t);n!==-1&&n!=this.lastRowHovered&&(this.lastRowHovered=n,this.selectListItem(n,!0))}},e.prototype.onNavigationKeyDown=function(t,n){t.preventDefault();var r=n===I.DOWN;if(!this.isPickerDisplayed&&r){this.showPicker();return}var o=this.highlightedItem,s=r?1:-1,a=o===-1?0:o+s;this.selectListItem(a)},e.prototype.onEnterKeyDown=function(t){this.isPickerDisplayed&&(t.preventDefault(),this.currentList&&this.onListValueSelected(this.currentList[this.highlightedItem],!0))},e.prototype.onTabKeyDown=function(){!this.isPickerDisplayed||!this.currentList||this.setValue(this.currentList[this.highlightedItem],!1,!0)},e.prototype.onListValueSelected=function(t,n){this.setValue(t,!1,!0),this.dispatchPickerEvent(t,n),this.hidePicker()},e.prototype.dispatchPickerEvent=function(t,n){var r={type:C.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:n,value:t};this.dispatchEvent(r)},e.prototype.getFocusableElement=function(){var t=this.config.allowTyping;return t?this.eInput.getFocusableElement():i.prototype.getFocusableElement.call(this)},e.prototype.onKeyDown=function(t){var n=t.key,r=this.config.allowTyping;switch(n){case I.LEFT:case I.RIGHT:case I.PAGE_HOME:case I.PAGE_END:r||t.preventDefault();break;case I.PAGE_UP:case I.PAGE_DOWN:t.preventDefault();break;case I.DOWN:case I.UP:this.onNavigationKeyDown(t,n);break;case I.ESCAPE:this.isPickerDisplayed&&(Ji(this.listComponent.getGui())&&(t.preventDefault(),Uo(t)),this.hidePicker());break;case I.ENTER:this.onEnterKeyDown(t);break;case I.TAB:this.onTabKeyDown();break;default:r||this.buildSearchStringFromKeyboardEvent(t)}},e.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),this.eLoading=void 0,i.prototype.destroy.call(this)},UH([y("userComponentFactory")],e.prototype,"userComponentFactory",void 0),UH([Z("eInput")],e.prototype,"eInput",void 0),e}(Rj),tue=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),IC=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},nue=function(i){tue(e,i);function e(t){var n=i.call(this,t,e.TEMPLATE)||this;return n.labelAlignment="top",n}return e.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},e.prototype.onValueChange=function(t){var n=this,r=C.EVENT_FIELD_VALUE_CHANGED;return this.addManagedListener(this.eText,r,function(){var o=parseFloat(n.eText.getValue());n.eSlider.setValue(o.toString(),!0),t(o||0)}),this.addManagedListener(this.eSlider,r,function(){var o=n.eSlider.getValue();n.eText.setValue(o,!0),t(parseFloat(o))}),this},e.prototype.setSliderWidth=function(t){return this.eSlider.setWidth(t),this},e.prototype.setTextFieldWidth=function(t){return this.eText.setWidth(t),this},e.prototype.setMinValue=function(t){return this.eSlider.setMinValue(t),this.eText.setMin(t),this},e.prototype.setMaxValue=function(t){return this.eSlider.setMaxValue(t),this.eText.setMax(t),this},e.prototype.getValue=function(){return this.eText.getValue()},e.prototype.setValue=function(t){return this.getValue()===t?this:(this.eText.setValue(t,!0),this.eSlider.setValue(t,!0),this.dispatchEvent({type:C.EVENT_FIELD_VALUE_CHANGED}),this)},e.prototype.setStep=function(t){return this.eSlider.setStep(t),this.eText.setStep(t),this},e.TEMPLATE=`<div class="ag-slider">
            <label ref="eLabel"></label>
            <div class="ag-wrapper ag-slider-wrapper">
                <ag-input-range ref="eSlider"></ag-input-range>
                <ag-input-number-field ref="eText"></ag-input-number-field>
            </div>
        </div>`,IC([Z("eLabel")],e.prototype,"eLabel",void 0),IC([Z("eSlider")],e.prototype,"eSlider",void 0),IC([Z("eText")],e.prototype,"eText",void 0),IC([W],e.prototype,"init",null),e}(bj),iue=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Da=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},rue=function(i){iue(e,i);function e(t){t===void 0&&(t={});var n=i.call(this,e.getTemplate(t))||this;n.suppressEnabledCheckbox=!0,n.suppressOpenCloseIcons=!1;var r=t.title,o=t.enabled,s=t.items,a=t.suppressEnabledCheckbox,l=t.suppressOpenCloseIcons;return n.title=r,n.cssIdentifier=t.cssIdentifier||"default",n.enabled=o??!0,n.items=s||[],n.alignItems=t.alignItems||"center",a!=null&&(n.suppressEnabledCheckbox=a),l!=null&&(n.suppressOpenCloseIcons=l),n}return e.getTemplate=function(t){var n=t.cssIdentifier||"default",r=t.direction||"vertical";return'<div class="ag-group ag-'.concat(n,`-group" role="presentation">
            <div class="ag-group-title-bar ag-`).concat(n,`-group-title-bar ag-unselectable" ref="eTitleBar" role="button">
                <span class="ag-group-title-bar-icon ag-`).concat(n,`-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>
                <span class="ag-group-title-bar-icon ag-`).concat(n,`-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>
                <span ref="eTitle" class="ag-group-title ag-`).concat(n,`-group-title"></span>
            </div>
            <div ref="eToolbar" class="ag-group-toolbar ag-`).concat(n,`-group-toolbar">
                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>
            </div>
            <div ref="eContainer" class="ag-group-container ag-group-container-`).concat(r," ag-").concat(n,`-group-container"></div>
        </div>`)},e.prototype.postConstruct=function(){if(this.items.length){var t=this.items;this.items=[],this.addItems(t)}var n=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(n("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},e.prototype.setupExpandContract=function(){var t=this;this.eGroupClosedIcon.appendChild(Rr("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(Rr("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eTitleBar,"click",function(){return t.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(n){switch(n.key){case I.ENTER:case I.SPACE:n.preventDefault(),t.toggleGroupExpand();break;case I.RIGHT:case I.LEFT:n.preventDefault(),t.toggleGroupExpand(n.key===I.RIGHT);break}})},e.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||Zr(this.eTitleBar,this.expanded)},e.prototype.refreshChildDisplay=function(){var t=!this.suppressOpenCloseIcons;qe(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),qe(this.eGroupOpenedIcon,t&&this.expanded),qe(this.eGroupClosedIcon,t&&!this.expanded)},e.prototype.isExpanded=function(){return this.expanded},e.prototype.setAlignItems=function(t){this.alignItems!==t&&this.removeCssClass("ag-group-item-alignment-".concat(this.alignItems)),this.alignItems=t;var n="ag-group-item-alignment-".concat(this.alignItems);return this.addCssClass(n),this},e.prototype.toggleGroupExpand=function(t){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),qe(this.eContainer,!0),this):(t=t??!this.expanded,this.expanded===t?this:(this.expanded=t,this.refreshAriaStatus(),this.refreshChildDisplay(),qe(this.eContainer,t),this.dispatchEvent({type:this.expanded?e.EVENT_EXPANDED:e.EVENT_COLLAPSED}),this))},e.prototype.addItems=function(t){var n=this;t.forEach(function(r){return n.addItem(r)})},e.prototype.addItem=function(t){var n=this.eContainer,r=t instanceof be?t.getGui():t;r.classList.add("ag-group-item","ag-".concat(this.cssIdentifier,"-group-item")),n.appendChild(r),this.items.push(r)},e.prototype.hideItem=function(t,n){var r=this.items[n];qe(r,!t)},e.prototype.setTitle=function(t){return this.eTitle.innerText=t,this},e.prototype.addCssClassToTitleBar=function(t){this.eTitleBar.classList.add(t)},e.prototype.setEnabled=function(t,n){return this.enabled=t,this.refreshDisabledStyles(),this.toggleGroupExpand(t),n||this.cbGroupEnabled.setValue(t),this},e.prototype.isEnabled=function(){return this.enabled},e.prototype.onEnableChange=function(t){var n=this;return this.cbGroupEnabled.onValueChange(function(r){n.setEnabled(r,!0),t(r)}),this},e.prototype.hideEnabledCheckbox=function(t){return this.suppressEnabledCheckbox=t,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},e.prototype.hideOpenCloseIcons=function(t){return this.suppressOpenCloseIcons=t,t&&this.toggleGroupExpand(!0),this},e.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},e.EVENT_EXPANDED="expanded",e.EVENT_COLLAPSED="collapsed",Da([Z("eTitleBar")],e.prototype,"eTitleBar",void 0),Da([Z("eGroupOpenedIcon")],e.prototype,"eGroupOpenedIcon",void 0),Da([Z("eGroupClosedIcon")],e.prototype,"eGroupClosedIcon",void 0),Da([Z("eToolbar")],e.prototype,"eToolbar",void 0),Da([Z("cbGroupEnabled")],e.prototype,"cbGroupEnabled",void 0),Da([Z("eTitle")],e.prototype,"eTitle",void 0),Da([Z("eContainer")],e.prototype,"eContainer",void 0),Da([W],e.prototype,"postConstruct",null),e}(be),oue=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),a_=function(){return a_=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},a_.apply(this,arguments)},WH=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},sue=function(i){oue(e,i);function e(t){t===void 0&&(t=1);var n=i.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return n.level=t,n.menuItems=[],n}return e.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onTabKeyDown:function(n){return t.onTabKeyDown(n)},handleKeyDown:function(n){return t.handleKeyDown(n)}})},e.prototype.onTabKeyDown=function(t){var n=this.getParentComponent(),r=n&&n.getGui(),o=r&&r.classList.contains("ag-focus-managed");o||t.preventDefault(),t.shiftKey&&this.closeIfIsChild(t)},e.prototype.handleKeyDown=function(t){switch(t.key){case I.UP:case I.RIGHT:case I.DOWN:case I.LEFT:t.preventDefault(),this.handleNavKey(t.key);break;case I.ESCAPE:var n=this.findTopMenu();n&&this.focusService.focusInto(n.getGui());break}},e.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},e.prototype.addMenuItems=function(t){var n=this;t?.forEach(function(r){r==="separator"?n.addSeparator():typeof r=="string"?console.warn("AG Grid: unrecognised menu item ".concat(r)):n.addItem(r)})},e.prototype.addItem=function(t){var n=this,r=this.createManagedBean(new rf(a_(a_({},t),{isAnotherSubMenuOpen:function(){return n.menuItems.some(function(o){return o.isSubMenuOpen()})}})));r.setParentComponent(this),qB(r.getGui(),this.level),this.menuItems.push(r),this.appendChild(r.getGui()),this.addManagedListener(r,rf.EVENT_MENU_ITEM_SELECTED,function(o){n.dispatchEvent(o)}),this.addManagedListener(r,rf.EVENT_MENU_ITEM_ACTIVATED,function(o){n.activeMenuItem&&n.activeMenuItem!==o.menuItem&&n.activeMenuItem.deactivate(),n.activeMenuItem=o.menuItem})},e.prototype.activateFirstItem=function(){var t=this.menuItems.filter(function(n){return!n.isDisabled()})[0];t&&t.activate()},e.prototype.addSeparator=function(){var t=`
            <div class="ag-menu-separator" aria-hidden="true">
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
            </div>`;this.appendChild(bi(t))},e.prototype.findTopMenu=function(){var t=this.getParentComponent();if(!t&&this instanceof e)return this;for(;;){var n=t&&t.getParentComponent&&t.getParentComponent();if(!n||!(n instanceof e||n instanceof rf))break;t=n}return t instanceof e?t:void 0},e.prototype.handleNavKey=function(t){switch(t){case I.UP:case I.DOWN:var n=this.findNextItem(t===I.UP);n&&n!==this.activeMenuItem&&n.activate();return}var r=this.gridOptionsService.get("enableRtl")?I.RIGHT:I.LEFT;t===r?this.closeIfIsChild():this.openChild()},e.prototype.closeIfIsChild=function(t){var n=this.getParentComponent();n&&n instanceof rf&&(t&&t.preventDefault(),n.closeSubMenu(),n.getGui().focus())},e.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},e.prototype.findNextItem=function(t){var n=this.menuItems.filter(function(l){return!l.isDisabled()});if(n.length){if(!this.activeMenuItem)return t?Je(n):n[0];t&&n.reverse();for(var r,o=!1,s=0;s<n.length;s++){var a=n[s];if(!o){a===this.activeMenuItem&&(o=!0);continue}r=a;break}return r||this.activeMenuItem}},e.prototype.destroy=function(){this.clearActiveItem(),i.prototype.destroy.call(this)},WH([y("focusService")],e.prototype,"focusService",void 0),WH([W],e.prototype,"postConstruct",null),e}(kf),aue=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),lue=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},uue=function(i){aue(e,i);function e(t){var n=i.call(this)||this;return n.wrappedComponent=t,n.setTemplateFromElement(t.getGui()),n}return e.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onTabKeyDown:function(n){return t.onTabKeyDown(n)},handleKeyDown:function(n){return t.handleKeyDown(n)}})},e.prototype.handleKeyDown=function(t){t.key===I.ESCAPE&&this.closePanel()},e.prototype.onTabKeyDown=function(t){t.defaultPrevented||(this.closePanel(),t.preventDefault())},e.prototype.closePanel=function(){var t=this.parentComponent;t.closeSubMenu(),setTimeout(function(){return t.getGui().focus()},0)},lue([W],e.prototype,"postConstruct",null),e}(kf),cue=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zH=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},rf=function(i){cue(e,i);function e(t){var n=i.call(this)||this;return n.params=t,n.isActive=!1,n.subMenuIsOpen=!1,n.setTemplate('<div class="'.concat(n.getClassName(),'" tabindex="-1" role="treeitem"></div>')),n}return e.prototype.init=function(){var t=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var n=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),$A(n,!0)):(this.addGuiEventListener("click",function(r){return t.onItemSelected(r)}),this.addGuiEventListener("keydown",function(r){(r.key===I.ENTER||r.key===I.SPACE)&&(r.preventDefault(),t.onItemSelected(r))}),this.addGuiEventListener("mousedown",function(r){r.stopPropagation(),r.preventDefault()}),this.addGuiEventListener("mouseenter",function(){return t.onMouseEnter()}),this.addGuiEventListener("mouseleave",function(){return t.onMouseLeave()})),this.params.cssClasses&&this.params.cssClasses.forEach(function(r){return t.addCssClass(r)})},e.prototype.isDisabled=function(){return!!this.params.disabled},e.prototype.openSubMenu=function(t){var n=this;if(t===void 0&&(t=!1),this.closeSubMenu(),!!this.params.subMenu){var r=bi('<div class="ag-menu" role="presentation"></div>'),o;if(this.params.subMenu instanceof Array){var s=jB(this.getGui()),a=isNaN(s)?1:s+1,l=this.createBean(new sue(a));l.setParentComponent(this),l.addMenuItems(this.params.subMenu),r.appendChild(l.getGui()),this.addManagedListener(l,e.EVENT_MENU_ITEM_SELECTED,function(_){return n.dispatchEvent(_)}),l.addGuiEventListener("mouseenter",function(){return n.cancelDeactivate()}),o=function(){return n.destroyBean(l)},t&&setTimeout(function(){return l.activateFirstItem()},0)}else{var u=this.params.subMenu,c=this.createBean(new uue(u));c.setParentComponent(this);var d=c.getGui(),h="mouseenter",p=function(){return n.cancelDeactivate()};d.addEventListener(h,p),o=function(){return d.removeEventListener(h,p)},r.appendChild(d),u.afterGuiAttached&&setTimeout(function(){return u.afterGuiAttached()},0)}var f=this.getGui(),g=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:f,ePopup:r}),v=this.localeService.getLocaleTextFunc(),m=this.popupService.addPopup({modal:!0,eChild:r,positionCallback:g,anchorToElement:f,ariaLabel:v("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,Zr(f,!0),this.hideSubMenu=function(){m&&m.hideFunc(),n.subMenuIsOpen=!1,Zr(f,!1),o()}}},e.prototype.closeSubMenu=function(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,Zr(this.getGui(),!1))},e.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},e.prototype.activate=function(t){var n=this;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),t&&this.params.subMenu&&window.setTimeout(function(){n.isAlive()&&n.isActive&&n.openSubMenu()},300),this.onItemActivated())},e.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},e.prototype.addIcon=function(){if(!(!this.params.checked&&!this.params.icon&&this.params.isCompact)){var t=bi('<span ref="eIcon" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("icon"),'" role="presentation"></span>'));this.params.checked?t.appendChild(Kt("check",this.gridOptionsService)):this.params.icon&&(Nf(this.params.icon)?t.appendChild(this.params.icon):typeof this.params.icon=="string"?t.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(t)}},e.prototype.addName=function(){if(!(!this.params.name&&this.params.isCompact)){var t=bi('<span ref="eName" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("text"),'">').concat(this.params.name||"","</span>"));this.getGui().appendChild(t)}},e.prototype.addTooltip=function(){this.params.tooltip&&(this.tooltip=this.params.tooltip,this.gridOptionsService.get("enableBrowserTooltips")?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new mO(this)))},e.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},e.prototype.addShortcut=function(){if(!(!this.params.shortcut&&this.params.isCompact)){var t=bi('<span ref="eShortcut" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("shortcut"),'">').concat(this.params.shortcut||"","</span>"));this.getGui().appendChild(t)}},e.prototype.addSubMenu=function(){if(!(!this.params.subMenu&&this.params.isCompact)){var t=bi('<span ref="ePopupPointer" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("popup-pointer"),'"></span>')),n=this.getGui();if(this.params.subMenu){var r=this.gridOptionsService.get("enableRtl")?"smallLeft":"smallRight";Zr(n,!1),t.appendChild(Kt(r,this.gridOptionsService))}n.appendChild(t)}},e.prototype.onItemSelected=function(t){if(this.params.action?this.params.action():this.openSubMenu(t&&t.type==="keydown"),!(this.params.subMenu&&!this.params.action)){var n={type:e.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:t};this.dispatchEvent(n)}},e.prototype.onItemActivated=function(){var t={type:e.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(t)},e.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},e.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},e.prototype.onMouseEnter=function(){var t=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return t.activate(!0)},e.ACTIVATION_DELAY):this.activate(!0)},e.prototype.onMouseLeave=function(){var t=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return t.deactivate()},e.ACTIVATION_DELAY):this.deactivate()},e.prototype.getClassName=function(t){var n=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return t?"".concat(n,"-").concat(t):n},e.EVENT_MENU_ITEM_SELECTED="menuItemSelected",e.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",e.ACTIVATION_DELAY=80,zH([y("popupService")],e.prototype,"popupService",void 0),zH([W],e.prototype,"init",null),e}(be),due=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),of=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Zj=function(i){due(e,i);function e(t){var n=i.call(this,e.getTemplate(t))||this;return n.closable=!0,n.config=t,n}return e.getTemplate=function(t){var n=t&&t.cssIdentifier||"default";return'<div class="ag-panel ag-'.concat(n,`-panel" tabindex="-1">
            <div ref="eTitleBar" class="ag-panel-title-bar ag-`).concat(n,`-panel-title-bar ag-unselectable">
                <span ref="eTitle" class="ag-panel-title-bar-title ag-`).concat(n,`-panel-title-bar-title"></span>
                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-`).concat(n,`-panel-title-bar-buttons"></div>
            </div>
            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-`).concat(n,`-panel-content-wrapper"></div>
        </div>`)},e.prototype.postConstruct=function(){var t=this,n=this.config,r=n.component,o=n.closable,s=n.hideTitleBar,a=n.title,l=n.minWidth,u=l===void 0?250:l,c=n.width,d=n.minHeight,h=d===void 0?250:d,p=n.height,f=n.centered,g=n.popup,v=n.x,m=n.y;this.positionableFeature=new Ej(this.getGui(),{minWidth:u,width:c,minHeight:h,height:p,centered:f,x:v,y:m,popup:g,calculateTopBuffer:function(){return t.positionableFeature.getHeight()-t.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var _=this.getGui();r&&this.setBodyComponent(r),s?qe(this.eTitleBar,!1):(a&&this.setTitle(a),this.setClosable(o??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(w){var S=t.gridOptionsService.getDocument();if(_.contains(w.relatedTarget)||_.contains(S.activeElement)||t.eTitleBarButtons.contains(w.target)){w.preventDefault();return}var R=t.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");R&&R.focus()}),!(g&&this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},e.prototype.renderComponent=function(){var t=this,n=this.getGui();n.focus(),this.close=function(){n.parentElement.removeChild(n),t.destroy()}},e.prototype.getHeight=function(){return this.positionableFeature.getHeight()},e.prototype.setHeight=function(t){this.positionableFeature.setHeight(t)},e.prototype.getWidth=function(){return this.positionableFeature.getWidth()},e.prototype.setWidth=function(t){this.positionableFeature.setWidth(t)},e.prototype.setClosable=function(t){if(t!==this.closable&&(this.closable=t),t){var n=this.closeButtonComp=new be(e.CLOSE_BTN_TEMPLATE);this.getContext().createBean(n);var r=n.getGui(),o=Kt("close",this.gridOptionsService);o.classList.add("ag-panel-title-bar-button-icon"),r.appendChild(o),this.addTitleBarButton(n),n.addManagedListener(r,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){var r=this.closeButtonComp.getGui();r.parentElement.removeChild(r),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}},e.prototype.setBodyComponent=function(t){t.setParentComponent(this),this.eContentWrapper.appendChild(t.getGui())},e.prototype.addTitleBarButton=function(t,n){var r=this.eTitleBarButtons,o=r.children,s=o.length;n==null&&(n=s),n=Math.max(0,Math.min(n,s)),t.addCssClass("ag-panel-title-bar-button");var a=t.getGui();n===0?r.insertAdjacentElement("afterbegin",a):n===s?r.insertAdjacentElement("beforeend",a):o[n-1].insertAdjacentElement("afterend",a),t.setParentComponent(this)},e.prototype.getBodyHeight=function(){return Ff(this.eContentWrapper)},e.prototype.getBodyWidth=function(){return cu(this.eContentWrapper)},e.prototype.setTitle=function(t){this.eTitle.innerText=t},e.prototype.onBtClose=function(){this.close()},e.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var t=this.getGui();t&&Ji(t)&&this.close(),i.prototype.destroy.call(this)},e.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',of([Z("eContentWrapper")],e.prototype,"eContentWrapper",void 0),of([Z("eTitleBar")],e.prototype,"eTitleBar",void 0),of([Z("eTitleBarButtons")],e.prototype,"eTitleBarButtons",void 0),of([Z("eTitle")],e.prototype,"eTitle",void 0),of([W],e.prototype,"postConstruct",null),e}(be),hue=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),l_=function(){return l_=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},l_.apply(this,arguments)},pue=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},fue=function(i){hue(e,i);function e(t){var n=i.call(this,l_(l_({},t),{popup:!0}))||this;return n.isMaximizable=!1,n.isMaximized=!1,n.maximizeListeners=[],n.resizeListenerDestroy=null,n.lastPosition={x:0,y:0,width:0,height:0},n}return e.prototype.postConstruct=function(){var t=this,n=this.getGui(),r=this.config,o=r.movable,s=r.resizable,a=r.maximizable;this.addCssClass("ag-dialog"),i.prototype.postConstruct.call(this),this.addManagedListener(n,"focusin",function(l){n.contains(l.relatedTarget)||t.popupService.bringPopupToFront(n)}),o&&this.setMovable(o),a&&this.setMaximizable(a),s&&this.setResizable(s)},e.prototype.renderComponent=function(){var t=this.getGui(),n=this.config,r=n.alwaysOnTop,o=n.modal,s=n.title,a=n.afterGuiAttached,l=this.localeService.getLocaleTextFunc(),u=this.popupService.addPopup({modal:o,eChild:t,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:r,ariaLabel:s||l("ariaLabelDialog","Dialog"),afterGuiAttached:a});u&&(this.close=u.hideFunc)},e.prototype.toggleMaximize=function(){var t=this.positionableFeature.getPosition();if(this.isMaximized){var n=this.lastPosition,r=n.x,o=n.y,s=n.width,a=n.height;this.setWidth(s),this.setHeight(a),this.positionableFeature.offsetElement(r,o)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=t.x,this.lastPosition.y=t.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},e.prototype.refreshMaximizeIcon=function(){qe(this.maximizeIcon,!this.isMaximized),qe(this.minimizeIcon,this.isMaximized)},e.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(t){return t()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},e.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),i.prototype.destroy.call(this)},e.prototype.setResizable=function(t){this.positionableFeature.setResizable(t)},e.prototype.setMovable=function(t){this.positionableFeature.setMovable(t,this.eTitleBar)},e.prototype.setMaximizable=function(t){var n=this;if(!t){this.clearMaximizebleListeners(),this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0);return}var r=this.eTitleBar;if(!(!r||t===this.isMaximizable)){var o=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),o.addManagedListener(o.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(o,0),this.maximizeListeners.push(this.addManagedListener(r,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){n.isMaximized=!1,n.refreshMaximizeIcon()})}},e.prototype.buildMaximizeAndMinimizeElements=function(){var t=this.maximizeButtonComp=this.createBean(new be('<div class="ag-dialog-button"></span>')),n=t.getGui();return this.maximizeIcon=Kt("maximize",this.gridOptionsService),n.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=Kt("minimize",this.gridOptionsService),n.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),t},pue([y("popupService")],e.prototype,"popupService",void 0),e}(Zj),gue=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),u_=function(){return u_=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},u_.apply(this,arguments)},sf=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},$H=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},qH=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},KH=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},eu=function(i){return i[i.vertical=0]="vertical",i[i.horizontal=1]="horizontal",i}(eu||{}),vue=0,mue=function(i){gue(e,i);function e(){var n=i!==null&&i.apply(this,arguments)||this;return n.popupList=[],n}t=e,e.prototype.postConstruct=function(){var n=this;this.ctrlsService.whenReady(function(r){n.gridCtrl=r.gridCtrl}),this.addManagedListener(this.eventService,C.EVENT_GRID_STYLES_CHANGED,this.handleThemeChange.bind(this))},e.prototype.getPopupParent=function(){var n=this.gridOptionsService.get("popupParent");return n||this.gridCtrl.getGui()},e.prototype.positionPopupForMenu=function(n){var r=n.eventSource,o=n.ePopup,s=this.getPopupIndex(o);if(s!==-1){var a=this.popupList[s];a.alignedToElement=r}var l=r.getBoundingClientRect(),u=this.getParentRect(),c=this.keepXYWithinBounds(o,l.top-u.top,eu.vertical),d=o.clientWidth>0?o.clientWidth:200;o.style.minWidth="".concat(d,"px");var h=u.right-u.left,p=h-d,f;this.gridOptionsService.get("enableRtl")?(f=v(),f<0&&(f=g(),this.setAlignedStyles(o,"left")),f>p&&(f=0,this.setAlignedStyles(o,"right"))):(f=g(),f>p&&(f=v(),this.setAlignedStyles(o,"right")),f<0&&(f=0,this.setAlignedStyles(o,"left"))),o.style.left="".concat(f,"px"),o.style.top="".concat(c,"px");function g(){return l.right-u.left-2}function v(){return l.left-u.left-d}},e.prototype.positionPopupUnderMouseEvent=function(n){var r=this,o=n.ePopup,s=n.nudgeX,a=n.nudgeY,l=n.skipObserver;this.positionPopup({ePopup:o,nudgeX:s,nudgeY:a,keepWithinBounds:!0,skipObserver:l,updatePosition:function(){return r.calculatePointerAlign(n.mouseEvent)},postProcessCallback:function(){return r.callPostProcessPopup(n.type,n.ePopup,null,n.mouseEvent,n.column,n.rowNode)}})},e.prototype.calculatePointerAlign=function(n){var r=this.getParentRect();return{x:n.clientX-r.left,y:n.clientY-r.top}},e.prototype.positionPopupByComponent=function(n){var r=this,o=n.ePopup,s=n.nudgeX,a=n.nudgeY,l=n.keepWithinBounds,u=n.eventSource,c=n.alignSide,d=c===void 0?"left":c,h=n.position,p=h===void 0?"over":h,f=n.column,g=n.rowNode,v=n.type,m=u.getBoundingClientRect(),_=this.getParentRect(),w=this.getPopupIndex(o);if(w!==-1){var S=this.popupList[w];S.alignedToElement=u}var R=function(){var T=m.left-_.left;d==="right"&&(T-=o.offsetWidth-m.width);var x;if(p==="over")x=m.top-_.top,r.setAlignedStyles(o,"over");else{r.setAlignedStyles(o,"under");var A=r.shouldRenderUnderOrAbove(o,m,_,n.nudgeY||0);A==="under"?x=m.top-_.top+m.height:x=m.top-o.offsetHeight-(a||0)*2-_.top}return{x:T,y:x}};this.positionPopup({ePopup:o,nudgeX:s,nudgeY:a,keepWithinBounds:l,updatePosition:R,postProcessCallback:function(){return r.callPostProcessPopup(v,o,u,null,f,g)}})},e.prototype.shouldRenderUnderOrAbove=function(n,r,o,s){var a=o.bottom-r.bottom,l=r.top-o.top,u=n.offsetHeight+s;return a>u?"under":l>u||l>a?"above":"under"},e.prototype.setAlignedStyles=function(n,r){var o=this.getPopupIndex(n);if(o!==-1){var s=this.popupList[o],a=s.alignedToElement;if(a){var l=["right","left","over","above","under"];l.forEach(function(u){a.classList.remove("ag-has-popup-positioned-".concat(u)),n.classList.remove("ag-popup-positioned-".concat(u))}),r&&(a.classList.add("ag-has-popup-positioned-".concat(r)),n.classList.add("ag-popup-positioned-".concat(r)))}}},e.prototype.callPostProcessPopup=function(n,r,o,s,a,l){var u=this.gridOptionsService.getCallback("postProcessPopup");if(u){var c={column:a,rowNode:l,ePopup:r,type:n,eventSource:o,mouseEvent:s};u(c)}},e.prototype.positionPopup=function(n){var r=this,o=n.ePopup,s=n.keepWithinBounds,a=n.nudgeX,l=n.nudgeY,u=n.skipObserver,c=n.updatePosition,d={width:0,height:0},h=function(f){f===void 0&&(f=!1);var g=c(),v=g.x,m=g.y;f&&o.clientWidth===d.width&&o.clientHeight===d.height||(d.width=o.clientWidth,d.height=o.clientHeight,a&&(v+=a),l&&(m+=l),s&&(v=r.keepXYWithinBounds(o,v,eu.horizontal),m=r.keepXYWithinBounds(o,m,eu.vertical)),o.style.left="".concat(v,"px"),o.style.top="".concat(m,"px"),n.postProcessCallback&&n.postProcessCallback())};if(h(),!u){var p=this.resizeObserverService.observeResize(o,function(){return h(!0)});setTimeout(function(){return p()},t.WAIT_FOR_POPUP_CONTENT_RESIZE)}},e.prototype.getActivePopups=function(){return this.popupList.map(function(n){return n.element})},e.prototype.getPopupList=function(){return this.popupList},e.prototype.getParentRect=function(){var n=this.gridOptionsService.getDocument(),r=this.getPopupParent();return r===n.body?r=n.documentElement:getComputedStyle(r).position==="static"&&(r=r.offsetParent),lO(r)},e.prototype.keepXYWithinBounds=function(n,r,o){var s=o===eu.vertical,a=s?"clientHeight":"clientWidth",l=s?"top":"left",u=s?"offsetHeight":"offsetWidth",c=s?"scrollTop":"scrollLeft",d=this.gridOptionsService.getDocument(),h=d.documentElement,p=this.getPopupParent(),f=p.getBoundingClientRect(),g=d.documentElement.getBoundingClientRect(),v=p===d.body,m=n[u],_=s?aO:Rf,w=v?_(h)+h[c]:p[a];v&&(w-=Math.abs(g[l]-f[l]));var S=w-m;return Math.min(Math.max(r,0),Math.abs(S))},e.prototype.addPopup=function(n){var r=this.gridOptionsService.getDocument(),o=n.eChild,s=n.ariaLabel,a=n.alwaysOnTop,l=n.positionCallback,u=n.anchorToElement;if(!r)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:function(){}};var c=this.getPopupIndex(o);if(c!==-1){var d=this.popupList[c];return{hideFunc:d.hideFunc}}this.initialisePopupPosition(o);var h=this.createPopupWrapper(o,s,!!a),p=this.addEventListenersToPopup(u_(u_({},n),{wrapperEl:h}));return l&&l(),this.addPopupToPopupList(o,h,p,u),{hideFunc:p}},e.prototype.initialisePopupPosition=function(n){var r=this.getPopupParent(),o=r.getBoundingClientRect();B(n.style.top)||(n.style.top="".concat(o.top*-1,"px")),B(n.style.left)||(n.style.left="".concat(o.left*-1,"px"))},e.prototype.createPopupWrapper=function(n,r,o){var s,a=this.getPopupParent(),l=document.createElement("div"),u=this.environment.getTheme().allThemes;return u.length&&(s=l.classList).add.apply(s,qH([],$H(u),!1)),l.classList.add("ag-popup"),n.classList.add(this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),n.hasAttribute("role")||fn(n,"dialog"),As(n,r),l.appendChild(n),a.appendChild(l),o?this.setAlwaysOnTop(n,!0):this.bringPopupToFront(n),l},e.prototype.handleThemeChange=function(){var n,r,o,s,a,l=this.environment.getTheme().allThemes;try{for(var u=KH(this.popupList),c=u.next();!c.done;c=u.next()){var d=c.value;try{for(var h=(o=void 0,KH(Array.from(d.wrapper.classList))),p=h.next();!p.done;p=h.next()){var f=p.value;f.startsWith("ag-theme-")&&d.wrapper.classList.remove(f)}}catch(g){o={error:g}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(o)throw o.error}}l.length&&(a=d.wrapper.classList).add.apply(a,qH([],$H(l),!1))}}catch(g){n={error:g}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}},e.prototype.addEventListenersToPopup=function(n){var r=this,o=this.gridOptionsService.getDocument(),s=this.getPopupParent(),a=n.wrapperEl,l=n.eChild;n.click;var u=n.closedCallback,c=n.afterGuiAttached,d=n.closeOnEsc,h=n.modal,p=!1,f=function(_){if(a.contains(o.activeElement)){var w=_.key;w===I.ESCAPE&&!Jr(_)&&m({keyboardEvent:_})}},g=function(_){return m({mouseEvent:_})},v=function(_){return m({touchEvent:_})},m=function(_){_===void 0&&(_={});var w=_.mouseEvent,S=_.touchEvent,R=_.keyboardEvent;r.isEventFromCurrentPopup({mouseEvent:w,touchEvent:S},l)||p||(p=!0,s.removeChild(a),o.removeEventListener("keydown",f),o.removeEventListener("mousedown",g),o.removeEventListener("touchstart",v),o.removeEventListener("contextmenu",g),r.eventService.removeEventListener(C.EVENT_DRAG_STARTED,g),u&&u(w||S||R),r.removePopupFromPopupList(l))};return c&&c({hidePopup:m}),window.setTimeout(function(){d&&o.addEventListener("keydown",f),h&&(o.addEventListener("mousedown",g),r.eventService.addEventListener(C.EVENT_DRAG_STARTED,g),o.addEventListener("touchstart",v),o.addEventListener("contextmenu",g))},0),m},e.prototype.addPopupToPopupList=function(n,r,o,s){this.popupList.push({element:n,wrapper:r,hideFunc:o,instanceId:vue++,isAnchored:!!s}),s&&this.setPopupPositionRelatedToElement(n,s)},e.prototype.getPopupIndex=function(n){return this.popupList.findIndex(function(r){return r.element===n})},e.prototype.setPopupPositionRelatedToElement=function(n,r){var o=this.getPopupIndex(n);if(o!==-1){var s=this.popupList[o];if(s.stopAnchoringPromise&&s.stopAnchoringPromise.then(function(l){return l&&l()}),s.stopAnchoringPromise=void 0,s.isAnchored=!1,!!r){var a=this.keepPopupPositionedRelativeTo({element:r,ePopup:n,hidePopup:s.hideFunc});return s.stopAnchoringPromise=a,s.isAnchored=!0,a}}},e.prototype.removePopupFromPopupList=function(n){this.setAlignedStyles(n,null),this.setPopupPositionRelatedToElement(n,null),this.popupList=this.popupList.filter(function(r){return r.element!==n})},e.prototype.keepPopupPositionedRelativeTo=function(n){var r=this,o=this.getPopupParent(),s=o.getBoundingClientRect(),a=n.element,l=n.ePopup,u=a.getBoundingClientRect(),c=s.top-u.top,d=s.left-u.left,h=c,p=d,f=l.style.top,g=parseInt(f.substring(0,f.length-1),10),v=l.style.left,m=parseInt(v.substring(0,v.length-1),10);return new Tr(function(_){r.getFrameworkOverrides().setInterval(function(){var w=o.getBoundingClientRect(),S=a.getBoundingClientRect(),R=S.top==0&&S.left==0&&S.height==0&&S.width==0;if(R){n.hidePopup();return}var T=w.top-S.top;if(T!=h){var x=r.keepXYWithinBounds(l,g+c-T,eu.vertical);l.style.top="".concat(x,"px")}h=T;var A=w.left-S.left;if(A!=p){var U=r.keepXYWithinBounds(l,m+d-A,eu.horizontal);l.style.left="".concat(U,"px")}p=A},200).then(function(w){var S=function(){w!=null&&window.clearInterval(w)};_(S)})})},e.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(n){return n.isAnchored})},e.prototype.isEventFromCurrentPopup=function(n,r){var o=n.mouseEvent,s=n.touchEvent,a=o||s;if(!a)return!1;var l=this.getPopupIndex(r);if(l===-1)return!1;for(var u=l;u<this.popupList.length;u++){var c=this.popupList[u];if(qC(c.element,a))return!0}return this.isElementWithinCustomPopup(a.target)},e.prototype.isElementWithinCustomPopup=function(n){for(var r=this.gridOptionsService.getDocument();n&&n!==r.body;){if(n.classList.contains("ag-custom-component-popup")||n.parentElement===null)return!0;n=n.parentElement}return!1},e.prototype.getWrapper=function(n){for(;!n.classList.contains("ag-popup")&&n.parentElement;)n=n.parentElement;return n.classList.contains("ag-popup")?n:null},e.prototype.setAlwaysOnTop=function(n,r){var o=this.getWrapper(n);o&&(o.classList.toggle("ag-always-on-top",!!r),r&&this.bringPopupToFront(o))},e.prototype.bringPopupToFront=function(n){var r=this.getPopupParent(),o=Array.prototype.slice.call(r.querySelectorAll(".ag-popup")),s=o.length,a=Array.prototype.slice.call(r.querySelectorAll(".ag-popup.ag-always-on-top")),l=a.length,u=this.getWrapper(n);if(!(!u||s<=1||!r.contains(n))){var c=o.indexOf(u),d=u.querySelectorAll("div"),h=[];if(d.forEach(function(v){v.scrollTop!==0&&h.push([v,v.scrollTop])}),l){var p=u.classList.contains("ag-always-on-top");p?c!==s-1&&Je(a).insertAdjacentElement("afterend",u):c!==s-l-1&&a[0].insertAdjacentElement("beforebegin",u)}else c!==s-1&&Je(o).insertAdjacentElement("afterend",u);for(;h.length;){var f=h.pop();f[0].scrollTop=f[1]}var g={type:"popupToFront",eWrapper:u};this.eventService.dispatchEvent(g)}};var t;return e.WAIT_FOR_POPUP_CONTENT_RESIZE=200,sf([y("focusService")],e.prototype,"focusService",void 0),sf([y("ctrlsService")],e.prototype,"ctrlsService",void 0),sf([y("resizeObserverService")],e.prototype,"resizeObserverService",void 0),sf([W],e.prototype,"postConstruct",null),e=t=sf([ee("popupService")],e),e}(j),yue=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Cue=function(i){yue(e,i);function e(){var t=i.call(this,`
        <div class="ag-autocomplete-row" role="presentation">
            <div class="ag-autocomplete-row-label"></div>
        </div>`)||this;return t.hasHighlighting=!1,t}return e.prototype.setState=function(t,n){this.value=t,this.render(),this.updateSelected(n)},e.prototype.updateSelected=function(t){this.addOrRemoveCssClass("ag-autocomplete-row-selected",t)},e.prototype.setSearchString=function(t){var n,r=!1;if(B(t)){var o=(n=this.value)===null||n===void 0?void 0:n.toLocaleLowerCase().indexOf(t.toLocaleLowerCase());if(o>=0){r=!0,this.hasHighlighting=!0;var s=o+t.length,a=tn(this.value.slice(0,o)),l=tn(this.value.slice(o,s)),u=tn(this.value.slice(s));this.getGui().lastElementChild.innerHTML="".concat(a,"<b>").concat(l,"</b>").concat(u)}}!r&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())},e.prototype.render=function(){var t;this.getGui().lastElementChild.innerHTML=(t=tn(this.value))!==null&&t!==void 0?t:"&nbsp;"},e}(be),_ue=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),YH=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},wue=function(i){_ue(e,i);function e(t){var n=i.call(this,e.TEMPLATE)||this;return n.params=t,n.searchString="",n}return e.prototype.destroy=function(){i.prototype.destroy.call(this)},e.prototype.init=function(){var t=this;this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new Qj({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:function(){return t.autocompleteEntries.length},getRow:function(r){return t.autocompleteEntries[r]}});var n=this.virtualList.getGui();this.addManagedListener(n,"click",function(){return t.params.onConfirmed()}),this.addManagedListener(n,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(n,"mousedown",function(r){return r.preventDefault()}),this.setSelectedValue(0)},e.prototype.onNavigationKeyDown=function(t,n){t.preventDefault();var r=this.autocompleteEntries.indexOf(this.selectedValue),o=n===I.UP?r-1:r+1;this.checkSetSelectedValue(o)},e.prototype.setSearch=function(t){this.searchString=t,B(t)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()},e.prototype.runContainsSearch=function(t,n){var r,o=!1,s=t.toLocaleLowerCase(),a=n.filter(function(l){var u=l.toLocaleLowerCase(),c=u.indexOf(s),d=c===0,h=c>=0;return h&&(!r||!o&&d||o===d&&l.length<r.length)&&(r=l,o=d),h});return!r&&a.length&&(r=a[0]),{topMatch:r,allMatches:a}},e.prototype.runSearch=function(){var t,n,r=this.params.autocompleteEntries,o=r.map(function(d){var h;return(h=d.displayValue)!==null&&h!==void 0?h:d.key}),s,a;if(this.params.useFuzzySearch)s=Lf(this.searchString,o,!0).values,a=s.length?s[0]:void 0;else{var l=this.runContainsSearch(this.searchString,o);s=l.allMatches,a=l.topMatch}var u=r.filter(function(d){var h=d.key,p=d.displayValue;return s.includes(p??h)});if(!u.length&&this.selectedValue&&(!((n=(t=this.params)===null||t===void 0?void 0:t.forceLastSelection)===null||n===void 0)&&n.call(t,this.selectedValue,this.searchString))&&(u=[this.selectedValue]),this.autocompleteEntries=u,this.virtualList.refresh(),!!a){var c=s.indexOf(a);this.checkSetSelectedValue(c)}},e.prototype.updateSearchInList=function(){var t=this;this.virtualList.forEachRenderedRow(function(n){return n.setSearchString(t.searchString)})},e.prototype.checkSetSelectedValue=function(t){t>=0&&t<this.autocompleteEntries.length&&this.setSelectedValue(t)},e.prototype.setSelectedValue=function(t){var n=this.autocompleteEntries[t];this.selectedValue!==n&&(this.selectedValue=n,this.virtualList.ensureIndexVisible(t),this.virtualList.forEachRenderedRow(function(r,o){r.updateSelected(t===o)}))},e.prototype.createRowComponent=function(t){var n,r=new Cue;return this.getContext().createBean(r),r.setState((n=t.displayValue)!==null&&n!==void 0?n:t.key,t===this.selectedValue),r},e.prototype.onMouseMove=function(t){var n=this.virtualList.getGui().getBoundingClientRect(),r=this.virtualList.getScrollTop(),o=t.clientY-n.top+r,s=Math.floor(o/this.virtualList.getRowHeight());this.checkSetSelectedValue(s)},e.prototype.afterGuiAttached=function(){this.virtualList.refresh()},e.prototype.getSelectedValue=function(){var t;return this.autocompleteEntries.length&&(t=this.selectedValue)!==null&&t!==void 0?t:null},e.TEMPLATE=`<div class="ag-autocomplete-list-popup">
            <div ref="eList" class="ag-autocomplete-list"></div>
        <div>`,YH([Z("eList")],e.prototype,"eList",void 0),YH([W],e.prototype,"init",null),e}(pu),Sue=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),eA=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Eue=function(i){Sue(e,i);function e(){var t=i.call(this,`
            <div class="ag-autocomplete" role="presentation">
                <ag-input-text-field ref="eAutocompleteInput"></ag-input-text-field>
            </div>`)||this;return t.isListOpen=!1,t.lastPosition=0,t.valid=!0,t}return e.prototype.postConstruct=function(){var t=this;this.eAutocompleteInput.onValueChange(function(n){return t.onValueChanged(n)}),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc(function(){t.destroyBean(t.autocompleteList)}),this.addGuiEventListener("focusout",function(){return t.onFocusOut()})},e.prototype.onValueChanged=function(t){var n=Bo(t);this.updateValue(n),this.updateAutocompleteList(n)},e.prototype.updateValue=function(t){this.updateLastPosition(),this.dispatchEvent({type:e.EVENT_VALUE_CHANGED,value:t}),this.validate(t)},e.prototype.updateAutocompleteList=function(t){var n,r,o,s,a=(r=(n=this.listGenerator)===null||n===void 0?void 0:n.call(this,t,this.lastPosition))!==null&&r!==void 0?r:{enabled:!1};if((!a.type||a.type!==((o=this.autocompleteListParams)===null||o===void 0?void 0:o.type))&&this.isListOpen&&this.closeList(),this.autocompleteListParams=a,!((s=this.autocompleteListParams)===null||s===void 0)&&s.enabled){this.isListOpen||this.openList();var l=this.autocompleteListParams.searchString;this.autocompleteList.setSearch(l??"")}else this.isListOpen&&this.closeList()},e.prototype.onKeyDown=function(t){var n=this,r=t.key;switch(this.updateLastPosition(),r){case I.ENTER:this.onEnterKeyDown(t);break;case I.TAB:this.onTabKeyDown(t);break;case I.DOWN:case I.UP:this.onUpDownKeyDown(t,r);break;case I.LEFT:case I.RIGHT:case I.PAGE_HOME:case I.PAGE_END:setTimeout(function(){n.updatePositionAndList()});break;case I.ESCAPE:this.onEscapeKeyDown(t);break;case I.SPACE:t.ctrlKey&&!this.isListOpen&&(t.preventDefault(),this.forceOpenList());break}},e.prototype.confirmSelection=function(){var t,n=(t=this.autocompleteList)===null||t===void 0?void 0:t.getSelectedValue();n&&(this.closeList(),this.dispatchEvent({type:e.EVENT_OPTION_SELECTED,value:this.getValue(),position:this.lastPosition,updateEntry:n,autocompleteType:this.autocompleteListParams.type}))},e.prototype.onTabKeyDown=function(t){this.isListOpen&&(t.preventDefault(),t.stopPropagation(),this.confirmSelection())},e.prototype.onEnterKeyDown=function(t){t.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()},e.prototype.onUpDownKeyDown=function(t,n){var r;t.preventDefault(),this.isListOpen?(r=this.autocompleteList)===null||r===void 0||r.onNavigationKeyDown(t,n):this.forceOpenList()},e.prototype.onEscapeKeyDown=function(t){this.isListOpen&&(t.preventDefault(),t.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))},e.prototype.onFocusOut=function(){this.isListOpen&&this.closeList()},e.prototype.updatePositionAndList=function(){var t;this.updateLastPosition(),this.updateAutocompleteList((t=this.eAutocompleteInput.getValue())!==null&&t!==void 0?t:null)},e.prototype.setCaret=function(t,n){var r=this.gridOptionsService.getDocument();n&&r.activeElement===r.body&&this.eAutocompleteInput.getFocusableElement().focus();var o=this.eAutocompleteInput.getInputElement();o.setSelectionRange(t,t),t===o.value.length&&(o.scrollLeft=o.scrollWidth)},e.prototype.forceOpenList=function(){this.onValueChanged(this.eAutocompleteInput.getValue())},e.prototype.updateLastPosition=function(){var t;this.lastPosition=(t=this.eAutocompleteInput.getInputElement().selectionStart)!==null&&t!==void 0?t:0},e.prototype.validate=function(t){var n;this.validator&&(this.validationMessage=this.validator(t),this.eAutocompleteInput.getInputElement().setCustomValidity((n=this.validationMessage)!==null&&n!==void 0?n:""),this.valid=!this.validationMessage,this.dispatchEvent({type:e.EVENT_VALID_CHANGED,isValid:this.valid,validationMessage:this.validationMessage}))},e.prototype.openList=function(){var t=this;this.isListOpen=!0,this.autocompleteList=this.createBean(new wue({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:function(){return t.confirmSelection()},forceLastSelection:this.forceLastSelection}));var n=this.autocompleteList.getGui(),r={ePopup:n,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gridOptionsService.get("enableRtl")?"right":"left",keepWithinBounds:!0},o=this.popupService.addPopup({eChild:n,anchorToElement:this.getGui(),positionCallback:function(){return t.popupService.positionPopupByComponent(r)},ariaLabel:this.listAriaLabel});this.hidePopup=o.hideFunc,this.autocompleteList.afterGuiAttached()},e.prototype.closeList=function(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null},e.prototype.onCompleted=function(){this.isListOpen&&this.closeList(),this.dispatchEvent({type:e.EVENT_VALUE_CONFIRMED,value:this.getValue(),isValid:this.isValid()})},e.prototype.getValue=function(){return Bo(this.eAutocompleteInput.getValue())},e.prototype.setInputPlaceholder=function(t){return this.eAutocompleteInput.setInputPlaceholder(t),this},e.prototype.setInputAriaLabel=function(t){return this.eAutocompleteInput.setInputAriaLabel(t),this},e.prototype.setListAriaLabel=function(t){return this.listAriaLabel=t,this},e.prototype.setListGenerator=function(t){return this.listGenerator=t,this},e.prototype.setValidator=function(t){return this.validator=t,this},e.prototype.isValid=function(){return this.valid},e.prototype.setValue=function(t){var n=t.value,r=t.position,o=t.silent,s=t.updateListOnlyIfOpen,a=t.restoreFocus;this.eAutocompleteInput.setValue(n,!0),this.setCaret(r??this.lastPosition,a),o||this.updateValue(n),(!s||this.isListOpen)&&this.updateAutocompleteList(n)},e.prototype.setForceLastSelection=function(t){return this.forceLastSelection=t,this},e.prototype.setInputDisabled=function(t){return this.eAutocompleteInput.setDisabled(t),this},e.EVENT_VALUE_CHANGED="eventValueChanged",e.EVENT_VALUE_CONFIRMED="eventValueConfirmed",e.EVENT_OPTION_SELECTED="eventOptionSelected",e.EVENT_VALID_CHANGED="eventValidChanged",eA([y("popupService")],e.prototype,"popupService",void 0),eA([Z("eAutocompleteInput")],e.prototype,"eAutocompleteInput",void 0),eA([W],e.prototype,"postConstruct",null),e}(be),bue=["touchstart","touchend","touchmove","touchcancel"],AO=function(){function i(e){e===void 0&&(e="javascript"),this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=function(t){return t()},this.wrapOutgoing=function(t){return t()}}return i.prototype.setInterval=function(e,t){return new Tr(function(n){n(window.setInterval(e,t))})},i.prototype.addEventListener=function(e,t,n,r){var o=Xr(bue,t);e.addEventListener(t,n,{capture:!!r,passive:o})},Object.defineProperty(i.prototype,"shouldWrapOutgoing",{get:function(){return!1},enumerable:!1,configurable:!0}),i.prototype.frameworkComponent=function(e){return null},i.prototype.isFrameworkComponent=function(e){return!1},i.prototype.getDocLink=function(e){var t=this.frameworkName==="solid"?"react":this.frameworkName;return"https://www.ag-grid.com/".concat(t,"-data-grid").concat(e?"/".concat(e):"")},i}(),Due=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),id=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Rue=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Tue=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},Aue=function(i){Due(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getNextCellToFocus=function(t,n,r){return r===void 0&&(r=!1),r?this.getNextCellToFocusWithCtrlPressed(t,n):this.getNextCellToFocusWithoutCtrlPressed(t,n)},e.prototype.getNextCellToFocusWithCtrlPressed=function(t,n){var r=t===I.UP,o=t===I.DOWN,s=t===I.LEFT,a,l;if(r||o)l=r?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),a=n.column;else{var u=this.columnModel.getAllDisplayedColumns(),c=this.gridOptionsService.get("enableRtl");l=n.rowIndex,a=s!==c?u[0]:Je(u)}return{rowIndex:l,rowPinned:null,column:a}},e.prototype.getNextCellToFocusWithoutCtrlPressed=function(t,n){for(var r=n,o=!1;!o;){switch(t){case I.UP:r=this.getCellAbove(r);break;case I.DOWN:r=this.getCellBelow(r);break;case I.RIGHT:this.gridOptionsService.get("enableRtl")?r=this.getCellToLeft(r):r=this.getCellToRight(r);break;case I.LEFT:this.gridOptionsService.get("enableRtl")?r=this.getCellToRight(r):r=this.getCellToLeft(r);break;default:r=null,console.warn("AG Grid: unknown key for navigation "+t);break}r?o=this.isCellGoodToFocusOn(r):o=!0}return r},e.prototype.isCellGoodToFocusOn=function(t){var n=t.column,r;switch(t.rowPinned){case"top":r=this.pinnedRowModel.getPinnedTopRow(t.rowIndex);break;case"bottom":r=this.pinnedRowModel.getPinnedBottomRow(t.rowIndex);break;default:r=this.rowModel.getRow(t.rowIndex);break}if(!r)return!1;var o=n.isSuppressNavigable(r);return!o},e.prototype.getCellToLeft=function(t){if(!t)return null;var n=this.columnModel.getDisplayedColBefore(t.column);return n?{rowIndex:t.rowIndex,column:n,rowPinned:t.rowPinned}:null},e.prototype.getCellToRight=function(t){if(!t)return null;var n=this.columnModel.getDisplayedColAfter(t.column);return n?{rowIndex:t.rowIndex,column:n,rowPinned:t.rowPinned}:null},e.prototype.getRowBelow=function(t){var n=t.rowIndex,r=t.rowPinned;if(this.isLastRowInContainer(t))switch(r){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}var o=this.rowModel.getRow(t.rowIndex),s=this.getNextStickyPosition(o);return s||{rowIndex:n+1,rowPinned:r}},e.prototype.getNextStickyPosition=function(t,n){if(!(!this.gridOptionsService.isGroupRowsSticky()||!t||!t.sticky)){var r=Tue([],Rue(this.rowRenderer.getStickyTopRowCtrls()),!1).sort(function(l,u){return l.getRowNode().rowIndex-u.getRowNode().rowIndex}),o=n?-1:1,s=r.findIndex(function(l){return l.getRowNode().rowIndex===t.rowIndex}),a=r[s+o];if(a)return{rowIndex:a.getRowNode().rowIndex,rowPinned:null}}},e.prototype.getCellBelow=function(t){if(!t)return null;var n=this.getRowBelow(t);return n?{rowIndex:n.rowIndex,column:t.column,rowPinned:n.rowPinned}:null},e.prototype.isLastRowInContainer=function(t){var n=t.rowPinned,r=t.rowIndex;if(n==="top"){var o=this.pinnedRowModel.getPinnedTopRowData().length-1;return o<=r}if(n==="bottom"){var s=this.pinnedRowModel.getPinnedBottomRowData().length-1;return s<=r}var a=this.paginationProxy.getPageLastRow();return a<=r},e.prototype.getRowAbove=function(t){var n=t.rowIndex,r=t.rowPinned,o=r?n===0:n===this.paginationProxy.getPageFirstRow();if(o)return r==="top"?null:r?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;var s=this.rowModel.getRow(t.rowIndex),a=this.getNextStickyPosition(s,!0);return a||{rowIndex:n-1,rowPinned:r}},e.prototype.getCellAbove=function(t){if(!t)return null;var n=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});return n?{rowIndex:n.rowIndex,column:t.column,rowPinned:n.rowPinned}:null},e.prototype.getLastBodyCell=function(){var t=this.paginationProxy.getPageLastRow();return{rowIndex:t,rowPinned:null}},e.prototype.getLastFloatingTopRow=function(){var t=this.pinnedRowModel.getPinnedTopRowData().length-1;return{rowIndex:t,rowPinned:"top"}},e.prototype.getNextTabbedCell=function(t,n){return n?this.getNextTabbedCellBackwards(t):this.getNextTabbedCellForwards(t)},e.prototype.getNextTabbedCellForwards=function(t){var n=this.columnModel.getAllDisplayedColumns(),r=t.rowIndex,o=t.rowPinned,s=this.columnModel.getDisplayedColAfter(t.column);if(!s){s=n[0];var a=this.getRowBelow(t);if(ue(a)||!a.rowPinned&&!this.paginationProxy.isRowInPage(a))return null;r=a?a.rowIndex:null,o=a?a.rowPinned:null}return{rowIndex:r,column:s,rowPinned:o}},e.prototype.getNextTabbedCellBackwards=function(t){var n=this.columnModel.getAllDisplayedColumns(),r=t.rowIndex,o=t.rowPinned,s=this.columnModel.getDisplayedColBefore(t.column);if(!s){s=Je(n);var a=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});if(ue(a)||!a.rowPinned&&!this.paginationProxy.isRowInPage(a))return null;r=a?a.rowIndex:null,o=a?a.rowPinned:null}return{rowIndex:r,column:s,rowPinned:o}},id([y("columnModel")],e.prototype,"columnModel",void 0),id([y("rowModel")],e.prototype,"rowModel",void 0),id([y("rowRenderer")],e.prototype,"rowRenderer",void 0),id([y("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),id([y("paginationProxy")],e.prototype,"paginationProxy",void 0),e=id([ee("cellNavigationService")],e),e}(j),Oue=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),af=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Iue=function(i,e){return function(t,n){e(t,n,i)}},Mue=function(i){Oue(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.consuming=!1,t}return e.prototype.setBeans=function(t){this.logger=t.create("AlignedGridsService")},e.prototype.getAlignedGridApis=function(){var t=this,n,r=(n=this.gridOptionsService.get("alignedGrids"))!==null&&n!==void 0?n:[],o=typeof r=="function";typeof r=="function"&&(r=r());var s=function(){return"See ".concat(t.getFrameworkOverrides().getDocLink("aligned-grids"))},a=r.map(function(l){var u;if(!l){Qr("alignedGrids contains an undefined option."),o||Qr(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),Qr(s());return}if(l instanceof Wj)return l;var c=l;return"current"in c?(u=c.current)===null||u===void 0?void 0:u.api:(c.api||Qr("alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ".concat(s())),c.api)}).filter(function(l){return!!l&&!l.isDestroyed()});return a},e.prototype.init=function(){this.addManagedListener(this.eventService,C.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,C.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,C.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,C.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,C.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,C.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},e.prototype.fireEvent=function(t){this.consuming||this.getAlignedGridApis().forEach(function(n){var r=n.__getAlignedGridService();t(r)})},e.prototype.onEvent=function(t){this.consuming=!0,t(),this.consuming=!1},e.prototype.fireColumnEvent=function(t){this.fireEvent(function(n){n.onColumnEvent(t)})},e.prototype.fireScrollEvent=function(t){t.direction==="horizontal"&&this.fireEvent(function(n){n.onScrollEvent(t)})},e.prototype.onScrollEvent=function(t){var n=this;this.onEvent(function(){var r=n.ctrlsService.getGridBodyCtrl();r.getScrollFeature().setHorizontalScrollPosition(t.left,!0)})},e.prototype.getMasterColumns=function(t){var n=[];return t.columns?t.columns.forEach(function(r){n.push(r)}):t.column&&n.push(t.column),n},e.prototype.getColumnIds=function(t){var n=[];return t.columns?t.columns.forEach(function(r){n.push(r.getColId())}):t.column&&n.push(t.column.getColId()),n},e.prototype.onColumnEvent=function(t){var n=this;this.onEvent(function(){switch(t.type){case C.EVENT_COLUMN_MOVED:case C.EVENT_COLUMN_VISIBLE:case C.EVENT_COLUMN_PINNED:case C.EVENT_COLUMN_RESIZED:var r=t;n.processColumnEvent(r);break;case C.EVENT_COLUMN_GROUP_OPENED:var o=t;n.processGroupOpenedEvent(o);break;case C.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})},e.prototype.processGroupOpenedEvent=function(t){var n=this;t.columnGroups.forEach(function(r){var o=null;if(r){var s=r.getGroupId();o=n.columnModel.getProvidedColumnGroup(s)}r&&!o||(n.logger.log("onColumnEvent-> processing "+t+" expanded = "+r.isExpanded()),n.columnModel.setColumnGroupOpened(o,r.isExpanded(),"alignedGridChanged"))})},e.prototype.processColumnEvent=function(t){var n=this,r,o=t.column,s=null;if(o&&(s=this.columnModel.getPrimaryColumn(o.getColId())),!(o&&!s)){var a=this.getMasterColumns(t);switch(t.type){case C.EVENT_COLUMN_MOVED:{var l=t,u=t.api.getColumnState(),c=u.map(function(m){return{colId:m.colId}});this.columnModel.applyColumnState({state:c,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(t.type," toIndex = ").concat(l.toIndex))}break;case C.EVENT_COLUMN_VISIBLE:{var d=t,u=t.api.getColumnState(),c=u.map(function(w){return{colId:w.colId,hide:w.hide}});this.columnModel.applyColumnState({state:c},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(t.type," visible = ").concat(d.visible))}break;case C.EVENT_COLUMN_PINNED:{var h=t,u=t.api.getColumnState(),c=u.map(function(w){return{colId:w.colId,pinned:w.pinned}});this.columnModel.applyColumnState({state:c},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(t.type," pinned = ").concat(h.pinned))}break;case C.EVENT_COLUMN_RESIZED:var p=t,f={};a.forEach(function(m){n.logger.log("onColumnEvent-> processing ".concat(t.type," actualWidth = ").concat(m.getActualWidth())),f[m.getId()]={key:m.getColId(),newWidth:m.getActualWidth()}}),(r=p.flexColumns)===null||r===void 0||r.forEach(function(m){f[m.getId()]&&delete f[m.getId()]}),this.columnModel.setColumnWidths(Object.values(f),!1,p.finished,"alignedGridChanged");break}var g=this.ctrlsService.getGridBodyCtrl(),v=g.isVerticalScrollShowing();this.getAlignedGridApis().forEach(function(m){m.setGridOption("alwaysShowVerticalScroll",v)})}},af([y("columnModel")],e.prototype,"columnModel",void 0),af([y("ctrlsService")],e.prototype,"ctrlsService",void 0),af([Iue(0,Or("loggerFactory"))],e.prototype,"setBeans",null),af([W],e.prototype,"init",null),e=af([ee("alignedGridsService")],e),e}(j),xue=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),MC=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Xj=function(i){xue(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.selectedNodes=new Map,t.lastRowNode=null,t}return e.prototype.init=function(){var t=this;this.rowSelection=this.gridOptionsService.get("rowSelection"),this.groupSelectsChildren=this.gridOptionsService.get("groupSelectsChildren"),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],function(){t.groupSelectsChildren=t.gridOptionsService.get("groupSelectsChildren"),t.rowSelection=t.gridOptionsService.get("rowSelection"),t.deselectAllRowNodes({source:"api"})}),this.addManagedListener(this.eventService,C.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.resetNodes(),this.lastRowNode=null},e.prototype.isMultiselect=function(){return this.rowSelection==="multiple"},e.prototype.setNodesSelected=function(t){var n,r=t.newValue,o=t.clearSelection,s=t.suppressFinishActions,a=t.rangeSelect,l=t.nodes,u=t.event,c=t.source,d=c===void 0?"api":c;if(l.length===0)return 0;if(l.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;var h=this.groupSelectsChildren&&t.groupSelectsFiltered===!0,p=l.map(function(A){return A.footer?A.sibling:A});if(a){if(l.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;var f=null;if(d==="checkboxSelected"&&r===!1&&this.lastRowNode&&(this.lastRowNode.id?f=this.lastRowNode:this.lastRowNode=null),f==null&&(f=this.getLastSelectedNode()),f){var g=p[0],v=g!==f;if(v&&this.isMultiselect())return this.selectRange(g,f,r,d)}}this.lastRowNode=r?null:p[0];for(var m=0,_=0;_<p.length;_++){var w=p[_],S=h&&w.group;if(!S){var R=w.selectThisNode(r,u,d);R&&m++}this.groupSelectsChildren&&(!((n=w.childrenAfterGroup)===null||n===void 0)&&n.length)&&(m+=this.selectChildren(w,r,h,d))}if(!s){var T=r&&(o||!this.isMultiselect());if(T&&(m+=this.clearOtherNodes(p[0],d)),m>0){this.updateGroupsFromChildrenSelections(d);var x={type:C.EVENT_SELECTION_CHANGED,source:d};this.eventService.dispatchEvent(x)}}return m},e.prototype.selectRange=function(t,n,r,o){var s=this;r===void 0&&(r=!0);var a=this.rowModel.getNodesInRangeForSelection(t,n),l=0;a.forEach(function(c){if(!(c.group&&s.groupSelectsChildren)){var d=c.selectThisNode(r,void 0,o);d&&l++}}),this.updateGroupsFromChildrenSelections(o);var u={type:C.EVENT_SELECTION_CHANGED,source:o};return this.eventService.dispatchEvent(u),l},e.prototype.selectChildren=function(t,n,r,o){var s=r?t.childrenAfterAggFilter:t.childrenAfterGroup;return ue(s)?0:this.setNodesSelected({newValue:n,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:r,source:o,nodes:s})},e.prototype.getLastSelectedNode=function(){var t=Array.from(this.selectedNodes.keys());if(t.length==0)return null;var n=this.selectedNodes.get(Je(t));return n||null},e.prototype.getSelectedNodes=function(){var t=[];return this.selectedNodes.forEach(function(n){n&&t.push(n)}),t},e.prototype.getSelectedRows=function(){var t=[];return this.selectedNodes.forEach(function(n){n&&n.data&&t.push(n.data)}),t},e.prototype.getSelectionCount=function(){return this.selectedNodes.size},e.prototype.filterFromSelection=function(t){var n=new Map;this.selectedNodes.forEach(function(r,o){var s=r&&t(r);s&&n.set(o,r)}),this.selectedNodes=n},e.prototype.updateGroupsFromChildrenSelections=function(t,n){if(!this.groupSelectsChildren||this.rowModel.getType()!=="clientSide")return!1;var r=this.rowModel,o=r.getRootNode();n||(n=new b_(!0,o),n.setInactive());var s=!1;return n.forEachChangedNodeDepthFirst(function(a){if(a!==o){var l=a.calculateSelectedFromChildren();s=a.selectThisNode(l===null?!1:l,void 0,t)||s}}),s},e.prototype.clearOtherNodes=function(t,n){var r=this,o=new Map,s=0;return this.selectedNodes.forEach(function(a){if(a&&a.id!==t.id){var l=r.selectedNodes.get(a.id);s+=l.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:n}),r.groupSelectsChildren&&a.parent&&o.set(a.parent.id,a.parent)}}),o.forEach(function(a){var l=a.calculateSelectedFromChildren();a.selectThisNode(l===null?!1:l,void 0,n)}),s},e.prototype.onRowSelected=function(t){var n=t.node;this.groupSelectsChildren&&n.group||(n.isSelected()?this.selectedNodes.set(n.id,n):this.selectedNodes.delete(n.id))},e.prototype.syncInRowNode=function(t,n){this.syncInOldRowNode(t,n),this.syncInNewRowNode(t)},e.prototype.syncInOldRowNode=function(t,n){var r=B(n)&&t.id!==n.id;if(r&&n){var o=n.id,s=this.selectedNodes.get(o)==t;s&&this.selectedNodes.set(n.id,n)}},e.prototype.syncInNewRowNode=function(t){this.selectedNodes.has(t.id)?(t.setSelectedInitialValue(!0),this.selectedNodes.set(t.id,t)):t.setSelectedInitialValue(!1)},e.prototype.reset=function(t){var n=this.getSelectionCount();if(this.resetNodes(),n){var r={type:C.EVENT_SELECTION_CHANGED,source:t};this.eventService.dispatchEvent(r)}},e.prototype.resetNodes=function(){var t;(t=this.selectedNodes)===null||t===void 0||t.clear()},e.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()!=="clientSide")return;var t=this.rowModel,n=t.getTopLevelNodes();if(n===null)return;var r=[];function o(s){for(var a=0,l=s.length;a<l;a++){var u=s[a];if(u.isSelected())r.push(u);else{var c=u;c.group&&c.children&&o(c.children)}}}return o(n),r},e.prototype.isEmpty=function(){var t=0;return this.selectedNodes.forEach(function(n){n&&t++}),t===0},e.prototype.deselectAllRowNodes=function(t){var n=function(u){return u.selectThisNode(!1,void 0,o)},r=this.rowModel.getType()==="clientSide",o=t.source,s=t.justFiltered,a=t.justCurrentPage;if(a||s){if(!r){console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(s,a).forEach(n)}else this.selectedNodes.forEach(function(u){u&&n(u)}),this.reset(o);r&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(o);var l={type:C.EVENT_SELECTION_CHANGED,source:o};this.eventService.dispatchEvent(l)},e.prototype.getSelectedCounts=function(t,n){var r=this,o=0,s=0,a=function(l){r.groupSelectsChildren&&l.group||(l.isSelected()?o++:l.selectable&&s++)};return this.getNodesToSelect(t,n).forEach(a),{selectedCount:o,notSelectedCount:s}},e.prototype.getSelectAllState=function(t,n){var r=this.getSelectedCounts(t,n),o=r.selectedCount,s=r.notSelectedCount;return o===0&&s===0?!1:o>0&&s>0?null:o>0},e.prototype.hasNodesToSelect=function(t,n){return t===void 0&&(t=!1),n===void 0&&(n=!1),this.getNodesToSelect(t,n).filter(function(r){return r.selectable}).length>0},e.prototype.getNodesToSelect=function(t,n){var r=this;if(t===void 0&&(t=!1),n===void 0&&(n=!1),this.rowModel.getType()!=="clientSide")throw new Error("selectAll only available when rowModelType='clientSide', ie not ".concat(this.rowModel.getType()));var o=[];if(n)return this.paginationProxy.forEachNodeOnPage(function(a){if(!a.group){o.push(a);return}if(!a.expanded){var l=function(u){var c;o.push(u),!((c=u.childrenAfterFilter)===null||c===void 0)&&c.length&&u.childrenAfterFilter.forEach(l)};l(a);return}r.groupSelectsChildren||o.push(a)}),o;var s=this.rowModel;return t?(s.forEachNodeAfterFilter(function(a){o.push(a)}),o):(s.forEachNode(function(a){o.push(a)}),o)},e.prototype.selectAllRowNodes=function(t){if(this.rowModel.getType()!=="clientSide")throw new Error("selectAll only available when rowModelType='clientSide', ie not ".concat(this.rowModel.getType()));var n=t.source,r=t.justFiltered,o=t.justCurrentPage,s=function(l){return l.selectThisNode(!0,void 0,n)};this.getNodesToSelect(r,o).forEach(s),this.rowModel.getType()==="clientSide"&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(n);var a={type:C.EVENT_SELECTION_CHANGED,source:n};this.eventService.dispatchEvent(a)},e.prototype.getSelectionState=function(){var t=[];return this.selectedNodes.forEach(function(n){n?.id&&t.push(n.id)}),t.length?t:null},e.prototype.setSelectionState=function(t,n){if(Array.isArray(t)){var r=new Set(t),o=[];this.rowModel.forEachNode(function(s){r.has(s.id)&&o.push(s)}),this.setNodesSelected({newValue:!0,nodes:o,source:n})}},MC([y("rowModel")],e.prototype,"rowModel",void 0),MC([y("paginationProxy")],e.prototype,"paginationProxy",void 0),MC([W],e.prototype,"init",null),e=MC([ee("selectionService")],e),e}(j),QH=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Pue=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Fue=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},Vf=function(){function i(e){var t=this;this.viaApi=function(n){for(var r,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return Se("Since v31, 'columnApi.".concat(n,"' is deprecated and moved to 'api.").concat(n,"'.")),(r=t.api)[n].apply(r,Fue([],Pue(o),!1))},this.api=e}return i.prototype.sizeColumnsToFit=function(e){this.viaApi("sizeColumnsToFit",e)},i.prototype.setColumnGroupOpened=function(e,t){this.viaApi("setColumnGroupOpened",e,t)},i.prototype.getColumnGroup=function(e,t){return this.viaApi("getColumnGroup",e,t)},i.prototype.getProvidedColumnGroup=function(e){return this.viaApi("getProvidedColumnGroup",e)},i.prototype.getDisplayNameForColumn=function(e,t){return this.viaApi("getDisplayNameForColumn",e,t)},i.prototype.getDisplayNameForColumnGroup=function(e,t){return this.viaApi("getDisplayNameForColumnGroup",e,t)},i.prototype.getColumn=function(e){return this.viaApi("getColumn",e)},i.prototype.getColumns=function(){return this.viaApi("getColumns")},i.prototype.applyColumnState=function(e){return this.viaApi("applyColumnState",e)},i.prototype.getColumnState=function(){return this.viaApi("getColumnState")},i.prototype.resetColumnState=function(){this.viaApi("resetColumnState")},i.prototype.getColumnGroupState=function(){return this.viaApi("getColumnGroupState")},i.prototype.setColumnGroupState=function(e){this.viaApi("setColumnGroupState",e)},i.prototype.resetColumnGroupState=function(){this.viaApi("resetColumnGroupState")},i.prototype.isPinning=function(){return this.viaApi("isPinning")},i.prototype.isPinningLeft=function(){return this.viaApi("isPinningLeft")},i.prototype.isPinningRight=function(){return this.viaApi("isPinningRight")},i.prototype.getDisplayedColAfter=function(e){return this.viaApi("getDisplayedColAfter",e)},i.prototype.getDisplayedColBefore=function(e){return this.viaApi("getDisplayedColBefore",e)},i.prototype.setColumnVisible=function(e,t){this.viaApi("setColumnVisible",e,t)},i.prototype.setColumnsVisible=function(e,t){this.viaApi("setColumnsVisible",e,t)},i.prototype.setColumnPinned=function(e,t){this.viaApi("setColumnPinned",e,t)},i.prototype.setColumnsPinned=function(e,t){this.viaApi("setColumnsPinned",e,t)},i.prototype.getAllGridColumns=function(){return this.viaApi("getAllGridColumns")},i.prototype.getDisplayedLeftColumns=function(){return this.viaApi("getDisplayedLeftColumns")},i.prototype.getDisplayedCenterColumns=function(){return this.viaApi("getDisplayedCenterColumns")},i.prototype.getDisplayedRightColumns=function(){return this.viaApi("getDisplayedRightColumns")},i.prototype.getAllDisplayedColumns=function(){return this.viaApi("getAllDisplayedColumns")},i.prototype.getAllDisplayedVirtualColumns=function(){return this.viaApi("getAllDisplayedVirtualColumns")},i.prototype.moveColumn=function(e,t){this.viaApi("moveColumn",e,t)},i.prototype.moveColumnByIndex=function(e,t){this.viaApi("moveColumnByIndex",e,t)},i.prototype.moveColumns=function(e,t){this.viaApi("moveColumns",e,t)},i.prototype.moveRowGroupColumn=function(e,t){this.viaApi("moveRowGroupColumn",e,t)},i.prototype.setColumnAggFunc=function(e,t){this.viaApi("setColumnAggFunc",e,t)},i.prototype.setColumnWidth=function(e,t,n,r){n===void 0&&(n=!0),this.viaApi("setColumnWidth",e,t,n,r)},i.prototype.setColumnWidths=function(e,t,n){t===void 0&&(t=!0),this.viaApi("setColumnWidths",e,t,n)},i.prototype.setPivotMode=function(e){this.viaApi("setPivotMode",e)},i.prototype.isPivotMode=function(){return this.viaApi("isPivotMode")},i.prototype.getPivotResultColumn=function(e,t){return this.viaApi("getPivotResultColumn",e,t)},i.prototype.setValueColumns=function(e){this.viaApi("setValueColumns",e)},i.prototype.getValueColumns=function(){return this.viaApi("getValueColumns")},i.prototype.removeValueColumn=function(e){this.viaApi("removeValueColumn",e)},i.prototype.removeValueColumns=function(e){this.viaApi("removeValueColumns",e)},i.prototype.addValueColumn=function(e){this.viaApi("addValueColumn",e)},i.prototype.addValueColumns=function(e){this.viaApi("addValueColumns",e)},i.prototype.setRowGroupColumns=function(e){this.viaApi("setRowGroupColumns",e)},i.prototype.removeRowGroupColumn=function(e){this.viaApi("removeRowGroupColumn",e)},i.prototype.removeRowGroupColumns=function(e){this.viaApi("removeRowGroupColumns",e)},i.prototype.addRowGroupColumn=function(e){this.viaApi("addRowGroupColumn",e)},i.prototype.addRowGroupColumns=function(e){this.viaApi("addRowGroupColumns",e)},i.prototype.getRowGroupColumns=function(){return this.viaApi("getRowGroupColumns")},i.prototype.setPivotColumns=function(e){this.viaApi("setPivotColumns",e)},i.prototype.removePivotColumn=function(e){this.viaApi("removePivotColumn",e)},i.prototype.removePivotColumns=function(e){this.viaApi("removePivotColumns",e)},i.prototype.addPivotColumn=function(e){this.viaApi("addPivotColumn",e)},i.prototype.addPivotColumns=function(e){this.viaApi("addPivotColumns",e)},i.prototype.getPivotColumns=function(){return this.viaApi("getPivotColumns")},i.prototype.getLeftDisplayedColumnGroups=function(){return this.viaApi("getLeftDisplayedColumnGroups")},i.prototype.getCenterDisplayedColumnGroups=function(){return this.viaApi("getCenterDisplayedColumnGroups")},i.prototype.getRightDisplayedColumnGroups=function(){return this.viaApi("getRightDisplayedColumnGroups")},i.prototype.getAllDisplayedColumnGroups=function(){return this.viaApi("getAllDisplayedColumnGroups")},i.prototype.autoSizeColumn=function(e,t){return this.viaApi("autoSizeColumn",e,t)},i.prototype.autoSizeColumns=function(e,t){this.viaApi("autoSizeColumns",e,t)},i.prototype.autoSizeAllColumns=function(e){this.viaApi("autoSizeAllColumns",e)},i.prototype.setPivotResultColumns=function(e){this.viaApi("setPivotResultColumns",e)},i.prototype.getPivotResultColumns=function(){return this.viaApi("getPivotResultColumns")},QH([y("gridApi")],i.prototype,"api",void 0),i=QH([ee("columnApi")],i),i}(),Nue=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),rd=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Lue=function(i){Nue(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.initialised=!1,t.isSsrm=!1,t}return e.prototype.init=function(){var t=this;this.isSsrm=this.gridOptionsService.isRowModelType("serverSide"),this.cellExpressions=this.gridOptionsService.get("enableCellExpressions"),this.isTreeData=this.gridOptionsService.get("treeData"),this.initialised=!0;var n=function(o){return t.callColumnCellValueChangedHandler(o)},r=this.gridOptionsService.useAsyncEvents();this.eventService.addEventListener(C.EVENT_CELL_VALUE_CHANGED,n,r),this.addDestroyFunc(function(){return t.eventService.removeEventListener(C.EVENT_CELL_VALUE_CHANGED,n,r)}),this.addManagedPropertyListener("treeData",function(o){return t.isTreeData=o.currentValue})},e.prototype.getValue=function(t,n,r,o){if(r===void 0&&(r=!1),o===void 0&&(o=!1),this.initialised||this.init(),!!n){var s=t.getColDef(),a=s.field,l=t.getColId(),u=n.data,c,d=n.groupData&&n.groupData[l]!==void 0,h=!o&&n.aggData&&n.aggData[l]!==void 0,p=this.isSsrm&&o&&!!t.getColDef().aggFunc,f=this.isSsrm&&n.footer&&n.field&&(t.getColDef().showRowGroup===!0||t.getColDef().showRowGroup===n.field);if(r&&s.filterValueGetter?c=this.executeFilterValueGetter(s.filterValueGetter,u,t,n):this.isTreeData&&h?c=n.aggData[l]:this.isTreeData&&s.valueGetter?c=this.executeValueGetter(s.valueGetter,u,t,n):this.isTreeData&&a&&u?c=ld(u,a,t.isFieldContainsDots()):d?c=n.groupData[l]:h?c=n.aggData[l]:s.valueGetter?c=this.executeValueGetter(s.valueGetter,u,t,n):f?c=ld(u,n.field,t.isFieldContainsDots()):a&&u&&!p&&(c=ld(u,a,t.isFieldContainsDots())),this.cellExpressions&&typeof c=="string"&&c.indexOf("=")===0){var g=c.substring(1);c=this.executeValueGetter(g,u,t,n)}if(c==null){var v=this.getOpenedGroup(n,t);if(v!=null)return v}return c}},e.prototype.getOpenedGroup=function(t,n){if(this.gridOptionsService.get("showOpenedGroup")){var r=n.getColDef();if(r.showRowGroup)for(var o=n.getColDef().showRowGroup,s=t.parent;s!=null;){if(s.rowGroupColumn&&(o===!0||o===s.rowGroupColumn.getColId()))return s.key;s=s.parent}}},e.prototype.setValue=function(t,n,r,o){var s=this.columnModel.getPrimaryColumn(n);if(!t||!s)return!1;ue(t.data)&&(t.data={});var a=s.getColDef(),l=a.field,u=a.valueSetter;if(ue(l)&&ue(u))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(s,r))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;var c=this.gridOptionsService.addGridCommonParams({node:t,data:t.data,oldValue:this.getValue(s,t),newValue:r,colDef:s.getColDef(),column:s});c.newValue=r;var d;if(B(u)?typeof u=="function"?d=u(c):d=this.expressionService.evaluate(u,c):d=this.setValueUsingField(t.data,l,r,s.isFieldContainsDots()),d===void 0&&(d=!0),!d)return!1;t.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),c.newValue=this.getValue(s,t);var h={type:C.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:c.column,api:c.api,columnApi:c.columnApi,colDef:c.colDef,context:c.context,data:t.data,node:t,oldValue:c.oldValue,newValue:c.newValue,value:c.newValue,source:o};return this.eventService.dispatchEvent(h),!0},e.prototype.callColumnCellValueChangedHandler=function(t){var n=t.colDef.onCellValueChanged;typeof n=="function"&&n({node:t.node,data:t.data,oldValue:t.oldValue,newValue:t.newValue,colDef:t.colDef,column:t.column,api:t.api,columnApi:t.columnApi,context:t.context})},e.prototype.setValueUsingField=function(t,n,r,o){if(!n)return!1;var s=!1;if(!o)s=t[n]===r,s||(t[n]=r);else for(var a=n.split("."),l=t;a.length>0&&l;){var u=a.shift();a.length===0?(s=l[u]===r,s||(l[u]=r)):l=l[u]}return!s},e.prototype.executeFilterValueGetter=function(t,n,r,o){var s=this.gridOptionsService.addGridCommonParams({data:n,node:o,column:r,colDef:r.getColDef(),getValue:this.getValueCallback.bind(this,o)});return typeof t=="function"?t(s):this.expressionService.evaluate(t,s)},e.prototype.executeValueGetter=function(t,n,r,o){var s=r.getColId(),a=this.valueCache.getValue(o,s);if(a!==void 0)return a;var l=this.gridOptionsService.addGridCommonParams({data:n,node:o,column:r,colDef:r.getColDef(),getValue:this.getValueCallback.bind(this,o)}),u;return typeof t=="function"?u=t(l):u=this.expressionService.evaluate(t,l),this.valueCache.setValue(o,s,u),u},e.prototype.getValueCallback=function(t,n){var r=this.columnModel.getPrimaryColumn(n);return r?this.getValue(r,t):null},e.prototype.getKeyForNode=function(t,n){var r=this.getValue(t,n),o=t.getColDef().keyCreator,s=r;if(o){var a=this.gridOptionsService.addGridCommonParams({value:r,colDef:t.getColDef(),column:t,node:n,data:n.data});s=o(a)}return typeof s=="string"||s==null||(s=String(s),s==="[object Object]"&&Se("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),s},rd([y("expressionService")],e.prototype,"expressionService",void 0),rd([y("columnModel")],e.prototype,"columnModel",void 0),rd([y("valueCache")],e.prototype,"valueCache",void 0),rd([y("dataTypeService")],e.prototype,"dataTypeService",void 0),rd([W],e.prototype,"init",null),e=rd([ee("valueService")],e),e}(j),kue=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ZH=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Vue=function(i,e){return function(t,n){e(t,n,i)}},Gue=function(i){kue(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.expressionToFunctionCache={},t}return e.prototype.setBeans=function(t){this.logger=t.create("ExpressionService")},e.prototype.evaluate=function(t,n){if(typeof t=="string")return this.evaluateExpression(t,n);console.error("AG Grid: value should be either a string or a function",t)},e.prototype.evaluateExpression=function(t,n){try{var r=this.createExpressionFunction(t),o=r(n.value,n.context,n.oldValue,n.newValue,n.value,n.node,n.data,n.colDef,n.rowIndex,n.api,n.columnApi,n.getValue,n.column,n.columnGroup);return o}catch(s){return console.log("Processing of the expression failed"),console.log("Expression = "+t),console.log("Params =",n),console.log("Exception = "+s),null}},e.prototype.createExpressionFunction=function(t){if(this.expressionToFunctionCache[t])return this.expressionToFunctionCache[t];var n=this.createFunctionBody(t),r=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",n);return this.expressionToFunctionCache[t]=r,r},e.prototype.createFunctionBody=function(t){return t.indexOf("return")>=0?t:"return "+t+";"},ZH([Vue(0,Or("loggerFactory"))],e.prototype,"setBeans",null),e=ZH([ee("expressionService")],e),e}(j),Hue=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Bue=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},jue=function(i){Hue(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.templateCache={},t.waitingCallbacks={},t}return e.prototype.getTemplate=function(t,n){var r=this.templateCache[t];if(r)return r;var o=this.waitingCallbacks[t],s=this;if(!o){o=[],this.waitingCallbacks[t]=o;var a=new XMLHttpRequest;a.onload=function(){s.handleHttpResult(this,t)},a.open("GET",t),a.send()}return n&&o.push(n),null},e.prototype.handleHttpResult=function(t,n){if(t.status!==200||t.response===null){console.warn("AG Grid: Unable to get template error ".concat(t.status," - ").concat(n));return}this.templateCache[n]=t.response||t.responseText;for(var r=this.waitingCallbacks[n],o=0;o<r.length;o++){var s=r[o];s()}},e=Bue([ee("templateService")],e),e}(j),Uue=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),XH=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Wue=function(i,e){return function(t,n){e(t,n,i)}},zue=function(i){Uue(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.setBeans=function(t){this.logging=t.get("debug")},e.prototype.create=function(t){return new OO(t,this.isLogging.bind(this))},e.prototype.isLogging=function(){return this.logging},XH([Wue(0,Or("gridOptionsService"))],e.prototype,"setBeans",null),e=XH([ee("loggerFactory")],e),e}(j),OO=function(){function i(e,t){this.name=e,this.isLoggingFunc=t}return i.prototype.isLogging=function(){return this.isLoggingFunc()},i.prototype.log=function(e){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+e)},i}(),$ue=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),od=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},que=function(i){$ue(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.setComp=function(t,n,r){var o=this;this.view=t,this.eGridHostDiv=n,this.eGui=r,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:function(){return o.eGui},isInterestedIn:function(a){return a===Xi.HeaderCell||a===Xi.ToolPanel},getIconName:function(){return hn.ICON_NOT_ALLOWED}}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(n),this.createManagedBean(new EO(this.view)),this.addRtlSupport();var s=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return s()}),this.ctrlsService.registerGridCtrl(this)},e.prototype.isDetailGrid=function(){var t,n=this.focusService.findTabbableParent(this.getGui());return((t=n?.getAttribute("row-id"))===null||t===void 0?void 0:t.startsWith("detail"))||!1},e.prototype.showDropZones=function(){return lt.__isRegistered(re.RowGroupingModule,this.context.getGridId())},e.prototype.showSideBar=function(){return lt.__isRegistered(re.SideBarModule,this.context.getGridId())},e.prototype.showStatusBar=function(){return lt.__isRegistered(re.StatusBarModule,this.context.getGridId())},e.prototype.showWatermark=function(){return lt.__isRegistered(re.EnterpriseCoreModule,this.context.getGridId())},e.prototype.onGridSizeChanged=function(){var t={type:C.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(t)},e.prototype.addRtlSupport=function(){var t=this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(t)},e.prototype.destroyGridUi=function(){this.view.destroyGridUi()},e.prototype.getGui=function(){return this.eGui},e.prototype.setResizeCursor=function(t){this.view.setCursor(t?"ew-resize":null)},e.prototype.disableUserSelect=function(t){this.view.setUserSelect(t?"none":null)},e.prototype.focusNextInnerContainer=function(t){var n=this.gridOptionsService.getDocument(),r=this.view.getFocusableContainers(),o=r.findIndex(function(a){return a.contains(n.activeElement)}),s=o+(t?-1:1);return s<=0||s>=r.length?!1:this.focusService.focusInto(r[s])},e.prototype.focusInnerElement=function(t){var n=this.view.getFocusableContainers(),r=this.columnModel.getAllDisplayedColumns();if(t){if(n.length>1)return this.focusService.focusInto(Je(n),!0);var o=Je(r);if(this.focusService.focusGridView(o,!0))return!0}return this.gridOptionsService.get("headerHeight")===0?this.focusService.focusGridView(r[0]):this.focusService.focusFirstHeader()},e.prototype.forceFocusOutOfContainer=function(t){t===void 0&&(t=!1),this.view.forceFocusOutOfContainer(t)},od([y("focusService")],e.prototype,"focusService",void 0),od([y("resizeObserverService")],e.prototype,"resizeObserverService",void 0),od([y("columnModel")],e.prototype,"columnModel",void 0),od([y("ctrlsService")],e.prototype,"ctrlsService",void 0),od([y("mouseEventService")],e.prototype,"mouseEventService",void 0),od([y("dragAndDropService")],e.prototype,"dragAndDropService",void 0),e}(j),Kue=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),lf=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Jj=function(i){Kue(e,i);function e(t){var n=i.call(this)||this;return n.eGridDiv=t,n}return e.prototype.postConstruct=function(){var t=this;this.logger=this.loggerFactory.create("GridComp");var n={destroyGridUi:function(){return t.destroyBean(t)},setRtlClass:function(o){return t.addCssClass(o)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(o){t.getGui().style.userSelect=o??"",t.getGui().style.webkitUserSelect=o??""},setCursor:function(o){t.getGui().style.cursor=o??""}};this.ctrl=this.createManagedBean(new que);var r=this.createTemplate();this.setTemplate(r),this.ctrl.setComp(n,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(o){return t.ctrl.focusInnerElement(o)}})},e.prototype.insertGridIntoDom=function(){var t=this,n=this.getGui();this.eGridDiv.appendChild(n),this.addDestroyFunc(function(){t.eGridDiv.removeChild(n),t.logger.log("Grid removed from DOM")})},e.prototype.updateLayoutClasses=function(t,n){var r=this.eRootWrapperBody.classList;r.toggle(pn.AUTO_HEIGHT,n.autoHeight),r.toggle(pn.NORMAL,n.normal),r.toggle(pn.PRINT,n.print),this.addOrRemoveCssClass(pn.AUTO_HEIGHT,n.autoHeight),this.addOrRemoveCssClass(pn.NORMAL,n.normal),this.addOrRemoveCssClass(pn.PRINT,n.print)},e.prototype.createTemplate=function(){var t=this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",n=this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"",r=this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"",o=this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"",s=`<div class="ag-root-wrapper" role="presentation">
                `.concat(t,`
                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">
                    <ag-grid-body ref="gridBody"></ag-grid-body>
                    `).concat(n,`
                </div>
                `).concat(r,`
                <ag-pagination></ag-pagination>
                `).concat(o,`
            </div>`);return s},e.prototype.getFocusableElement=function(){return this.eRootWrapperBody},e.prototype.getFocusableContainers=function(){var t=[this.gridBodyComp.getGui()];return this.sideBarComp&&t.push(this.sideBarComp.getGui()),t.filter(function(n){return Ji(n)})},lf([y("loggerFactory")],e.prototype,"loggerFactory",void 0),lf([Z("gridBody")],e.prototype,"gridBodyComp",void 0),lf([Z("sideBar")],e.prototype,"sideBarComp",void 0),lf([Z("rootWrapperBody")],e.prototype,"eRootWrapperBody",void 0),lf([W],e.prototype,"postConstruct",null),e}(kf),Yue=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),JH=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Fo=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Ra=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},Que=function(i){Yue(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}t=e,e.prototype.progressSort=function(n,r,o){var s=this.getNextSortDirection(n);this.setSortForColumn(n,s,r,o)},e.prototype.setSortForColumn=function(n,r,o,s){r!=="asc"&&r!=="desc"&&(r=null);var a=this.gridOptionsService.isColumnsSortingCoupledToGroup(),l=[n];if(a&&n.getColDef().showRowGroup){var u=this.columnModel.getSourceColumnsForGroupColumn(n),c=u?.filter(function(f){return f.isSortable()});c&&(l=Ra([n],Fo(c),!1))}l.forEach(function(f){return f.setSort(r,s)});var d=(o||this.gridOptionsService.get("alwaysMultiSort"))&&!this.gridOptionsService.get("suppressMultiSort"),h=[];if(!d){var p=this.clearSortBarTheseColumns(l,s);h.push.apply(h,Ra([],Fo(p),!1))}this.updateSortIndex(n),h.push.apply(h,Ra([],Fo(l),!1)),this.dispatchSortChangedEvents(s,h)},e.prototype.updateSortIndex=function(n){var r=this.gridOptionsService.isColumnsSortingCoupledToGroup(),o=this.columnModel.getGroupDisplayColumnForGroup(n.getId()),s=r&&o||n,a=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(c){return c.setSortIndex(null)});var l=a.filter(function(c){return c!==s}),u=s.getSort()?Ra(Ra([],Fo(l),!1),[s],!1):l;u.forEach(function(c,d){return c.setSortIndex(d)})},e.prototype.onSortChanged=function(n,r){this.dispatchSortChangedEvents(n,r)},e.prototype.isSortActive=function(){var n=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),r=n.filter(function(o){return!!o.getSort()});return r&&r.length>0},e.prototype.dispatchSortChangedEvents=function(n,r){var o={type:C.EVENT_SORT_CHANGED,source:n};r&&(o.columns=r),this.eventService.dispatchEvent(o)},e.prototype.clearSortBarTheseColumns=function(n,r){var o=[];return this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(s){n.includes(s)||(s.getSort()&&o.push(s),s.setSort(void 0,r))}),o},e.prototype.getNextSortDirection=function(n){var r;if(n.getColDef().sortingOrder?r=n.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?r=this.gridOptionsService.get("sortingOrder"):r=t.DEFAULT_SORTING_ORDER,!Array.isArray(r)||r.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's ".concat(r)),null;var o=r.indexOf(n.getSort()),s=o<0,a=o==r.length-1,l;return s||a?l=r[0]:l=r[o+1],t.DEFAULT_SORTING_ORDER.indexOf(l)<0?(console.warn("AG Grid: invalid sort type "+l),null):l},e.prototype.getIndexedSortMap=function(){var n=this,r=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(c){return!!c.getSort()});if(this.columnModel.isPivotMode()){var o=this.gridOptionsService.isColumnsSortingCoupledToGroup();r=r.filter(function(c){var d=!!c.getAggFunc(),h=!c.isPrimary(),p=o?n.columnModel.getGroupDisplayColumnForGroup(c.getId()):c.getColDef().showRowGroup;return d||h||p})}var s=this.columnModel.getRowGroupColumns().filter(function(c){return!!c.getSort()}),a=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!s.length;a&&(r=Ra([],Fo(new Set(r.map(function(c){var d;return(d=n.columnModel.getGroupDisplayColumnForGroup(c.getId()))!==null&&d!==void 0?d:c}))),!1));var l={};r.forEach(function(c,d){return l[c.getId()]=d}),r.sort(function(c,d){var h=c.getSortIndex(),p=d.getSortIndex();if(h!=null&&p!=null)return h-p;if(h==null&&p==null){var f=l[c.getId()],g=l[d.getId()];return f>g?1:-1}else return p==null?-1:1});var u=new Map;return r.forEach(function(c,d){return u.set(c,d)}),a&&s.forEach(function(c){var d=n.columnModel.getGroupDisplayColumnForGroup(c.getId());u.set(c,u.get(d))}),u},e.prototype.getColumnsWithSortingOrdered=function(){return Ra([],Fo(this.getIndexedSortMap().entries()),!1).sort(function(n,r){var o=Fo(n,2);o[0];var s=o[1],a=Fo(r,2);a[0];var l=a[1];return s-l}).map(function(n){var r=Fo(n,1),o=r[0];return o})},e.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().filter(function(n){return n.getSort()}).map(function(n){return{sort:n.getSort(),colId:n.getId()}})},e.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().filter(function(n){return n.getSort()}).map(function(n){return{sort:n.getSort(),column:n}})},e.prototype.canColumnDisplayMixedSort=function(n){var r=this.gridOptionsService.isColumnsSortingCoupledToGroup(),o=!!n.getColDef().showRowGroup;return r&&o},e.prototype.getDisplaySortForColumn=function(n){var r=this.columnModel.getSourceColumnsForGroupColumn(n);if(!this.canColumnDisplayMixedSort(n)||!r?.length)return n.getSort();var o=n.getColDef().field!=null||!!n.getColDef().valueGetter,s=o?Ra([n],Fo(r),!1):r,a=s[0].getSort(),l=s.every(function(u){return u.getSort()==a});return l?a:"mixed"},e.prototype.getDisplaySortIndexForColumn=function(n){return this.getIndexedSortMap().get(n)};var t;return e.DEFAULT_SORTING_ORDER=["asc","desc",null],JH([y("columnModel")],e.prototype,"columnModel",void 0),e=t=JH([ee("sortController")],e),e}(j),Zue=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ef=function(){return Ef=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},Ef.apply(this,arguments)},zi=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Xue=function(i){Zue(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}t=e,e.addKeyboardModeEvents=function(n){this.instanceCount>0||(n.addEventListener("keydown",t.toggleKeyboardMode),n.addEventListener("mousedown",t.toggleKeyboardMode))},e.removeKeyboardModeEvents=function(n){this.instanceCount>0||(n.addEventListener("keydown",t.toggleKeyboardMode),n.addEventListener("mousedown",t.toggleKeyboardMode))},e.toggleKeyboardMode=function(n){var r=t.keyboardModeActive,o=n.type==="keydown";o&&(n.ctrlKey||n.metaKey||n.altKey)||r!==o&&(t.keyboardModeActive=o)},e.unregisterGridCompController=function(n){t.removeKeyboardModeEvents(n)},e.prototype.init=function(){var n=this,r=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,C.EVENT_COLUMN_PIVOT_MODE_CHANGED,r),this.addManagedListener(this.eventService,C.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_COLUMN_GROUP_OPENED,r),this.addManagedListener(this.eventService,C.EVENT_COLUMN_ROW_GROUP_CHANGED,r),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(function(o){n.gridCtrl=o.gridCtrl})},e.prototype.registerKeyboardFocusEvents=function(){var n=this.gridOptionsService.getDocument();t.addKeyboardModeEvents(n),t.instanceCount++,this.addDestroyFunc(function(){t.instanceCount--,t.unregisterGridCompController(n)})},e.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var n=this.focusedCellPosition.column,r=this.columnModel.getGridColumn(n.getId());n!==r&&this.clearFocusedCell()}},e.prototype.isKeyboardMode=function(){return t.keyboardModeActive},e.prototype.getFocusCellToUseAfterRefresh=function(){var n=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(n.activeElement,au.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},e.prototype.getFocusHeaderToUseAfterRefresh=function(){var n=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(n.activeElement,E_.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},e.prototype.isDomDataMissingInHierarchy=function(n,r){for(var o=n;o;){var s=this.gridOptionsService.getDomData(o,r);if(s)return!1;o=o.parentNode}return!0},e.prototype.getFocusedCell=function(){return this.focusedCellPosition},e.prototype.shouldRestoreFocus=function(n){var r=this;return this.isCellRestoreFocused(n)?(setTimeout(function(){r.restoredFocusedCellPosition=null},0),!0):!1},e.prototype.isCellRestoreFocused=function(n){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(n,this.restoredFocusedCellPosition)},e.prototype.setRestoreFocusedCell=function(n){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=n)},e.prototype.getFocusEventParams=function(){var n=this.focusedCellPosition,r=n.rowIndex,o=n.rowPinned,s=n.column,a={rowIndex:r,rowPinned:o,column:s,isFullWidthCell:!1},l=this.rowRenderer.getRowByPosition({rowIndex:r,rowPinned:o});return l&&(a.isFullWidthCell=l.isFullWidth()),a},e.prototype.clearFocusedCell=function(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition!=null){var n=Ef({type:C.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(n)}},e.prototype.setFocusedCell=function(n){var r=n.column,o=n.rowIndex,s=n.rowPinned,a=n.forceBrowserFocus,l=a===void 0?!1:a,u=n.preventScrollOnBrowserFocus,c=u===void 0?!1:u,d=this.columnModel.getGridColumn(r);if(!d){this.focusedCellPosition=null;return}this.focusedCellPosition=d?{rowIndex:o,rowPinned:Bo(s),column:d}:null;var h=Ef(Ef({type:C.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:l,preventScrollOnBrowserFocus:c,floating:null});this.eventService.dispatchEvent(h)},e.prototype.isCellFocused=function(n){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(n,this.focusedCellPosition)},e.prototype.isRowNodeFocused=function(n){return this.isRowFocused(n.rowIndex,n.rowPinned)},e.prototype.isHeaderWrapperFocused=function(n){if(this.focusedHeaderPosition==null)return!1;var r=n.getColumnGroupChild(),o=n.getRowIndex(),s=n.getPinned(),a=this.focusedHeaderPosition,l=a.column,u=a.headerRowIndex;return r===l&&o===u&&s==l.getPinned()},e.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},e.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},e.prototype.setFocusedHeader=function(n,r){this.focusedHeaderPosition={headerRowIndex:n,column:r}},e.prototype.focusHeaderPosition=function(n){var r=n.direction,o=n.fromTab,s=n.allowUserOverride,a=n.event,l=n.fromCell,u=n.headerPosition;if(l&&this.filterManager.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(u);if(s){var c=this.getFocusedHeader(),d=this.headerNavigationService.getHeaderRowCount();if(o){var h=this.gridOptionsService.getCallback("tabToNextHeader");if(h){var p={backwards:r==="Before",previousHeaderPosition:c,nextHeaderPosition:u,headerRowCount:d};u=h(p)}}else{var h=this.gridOptionsService.getCallback("navigateToNextHeader");if(h&&a){var f={key:a.key,previousHeaderPosition:c,nextHeaderPosition:u,headerRowCount:d,event:a};u=h(f)}}}if(!u)return!1;if(u.headerRowIndex===-1)return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(u):this.focusGridView(u.column);this.headerNavigationService.scrollToColumn(u.column,r);var g=this.ctrlsService.getHeaderRowContainerCtrl(u.column.getPinned()),v=g.focusHeader(u.headerRowIndex,u.column,a);return v},e.prototype.focusFirstHeader=function(){var n=this.columnModel.getAllDisplayedColumns()[0];return n?(n.getParent()&&(n=this.columnModel.getColumnGroupAtLevel(n,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:n}})):!1},e.prototype.focusLastHeader=function(n){var r=this.headerNavigationService.getHeaderRowCount()-1,o=Je(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:r,column:o},event:n})},e.prototype.focusPreviousFromFirstCell=function(n){return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(n)},e.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},e.prototype.isRowFocused=function(n,r){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===n&&this.focusedCellPosition.rowPinned===Bo(r)},e.prototype.findFocusableElements=function(n,r,o){o===void 0&&(o=!1);var s=aj,a=oO;r&&(a+=", "+r),o&&(a+=', [tabindex="-1"]');var l=Array.prototype.slice.apply(n.querySelectorAll(s)).filter(function(d){return Ji(d)}),u=Array.prototype.slice.apply(n.querySelectorAll(a));if(!u.length)return l;var c=function(d,h){return d.filter(function(p){return h.indexOf(p)===-1})};return c(l,u)},e.prototype.focusInto=function(n,r,o){r===void 0&&(r=!1),o===void 0&&(o=!1);var s=this.findFocusableElements(n,null,o),a=r?Je(s):s[0];return a?(a.focus({preventScroll:!0}),!0):!1},e.prototype.findFocusableElementBeforeTabGuard=function(n,r){if(!r)return null;var o=this.findFocusableElements(n),s=o.indexOf(r);if(s===-1)return null;for(var a=-1,l=s-1;l>=0;l--)if(o[l].classList.contains(Sf.TAB_GUARD_TOP)){a=l;break}return a<=0?null:o[a-1]},e.prototype.findNextFocusableElement=function(n,r,o){n===void 0&&(n=this.eGridDiv);var s=this.findFocusableElements(n,r?':not([tabindex="-1"])':null),a=this.gridOptionsService.getDocument(),l=a.activeElement,u;r?u=s.findIndex(function(d){return d.contains(l)}):u=s.indexOf(l);var c=u+(o?-1:1);return c<0||c>=s.length?null:s[c]},e.prototype.isTargetUnderManagedComponent=function(n,r){if(!r)return!1;var o=n.querySelectorAll(".".concat(du.FOCUS_MANAGED_CLASS));if(!o.length)return!1;for(var s=0;s<o.length;s++)if(o[s].contains(r))return!0;return!1},e.prototype.findTabbableParent=function(n,r){r===void 0&&(r=5);for(var o=0;n&&YC(n)===null&&++o<=r;)n=n.parentElement;return YC(n)===null?null:n},e.prototype.focusGridView=function(n,r){if(this.gridOptionsService.get("suppressCellFocus"))return r?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var o=r?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!o)return!1;var s=o.rowIndex,a=o.rowPinned,l=this.getFocusedHeader();if(!n&&l&&(n=l.column),s==null||!n)return!1;if(this.navigationService.ensureCellVisible({rowIndex:s,column:n,rowPinned:a}),this.setFocusedCell({rowIndex:s,column:n,rowPinned:Bo(a),forceBrowserFocus:!0}),this.rangeService){var u={rowIndex:s,rowPinned:a,column:n};this.rangeService.setRangeToCell(u)}return!0},e.prototype.focusNextGridCoreContainer=function(n,r){return r===void 0&&(r=!1),!r&&this.gridCtrl.focusNextInnerContainer(n)?!0:((r||!n&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(n),!1)},e.prototype.focusAdvancedFilter=function(n){return this.advancedFilterFocusColumn=n?.column,this.advancedFilterService.getCtrl().focusHeaderComp()},e.prototype.focusNextFromAdvancedFilter=function(n,r){var o,s,a=(o=r?void 0:this.advancedFilterFocusColumn)!==null&&o!==void 0?o:(s=this.columnModel.getAllDisplayedColumns())===null||s===void 0?void 0:s[0];return n?this.focusHeaderPosition({headerPosition:{column:a,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(a)},e.prototype.clearAdvancedFilterColumn=function(){this.advancedFilterFocusColumn=void 0};var t;return e.keyboardModeActive=!1,e.instanceCount=0,zi([y("eGridDiv")],e.prototype,"eGridDiv",void 0),zi([y("columnModel")],e.prototype,"columnModel",void 0),zi([y("headerNavigationService")],e.prototype,"headerNavigationService",void 0),zi([y("rowRenderer")],e.prototype,"rowRenderer",void 0),zi([y("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),zi([y("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),zi([$e("rangeService")],e.prototype,"rangeService",void 0),zi([y("navigationService")],e.prototype,"navigationService",void 0),zi([y("ctrlsService")],e.prototype,"ctrlsService",void 0),zi([y("filterManager")],e.prototype,"filterManager",void 0),zi([$e("advancedFilterService")],e.prototype,"advancedFilterService",void 0),zi([W],e.prototype,"init",null),e=t=zi([ee("focusService")],e),e}(j),Jue=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ece=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},tce=function(i){Jue(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.setMouseOver=function(t){this.selectedColumns=t;var n={type:C.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(n)},e.prototype.clearMouseOver=function(){this.selectedColumns=null;var t={type:C.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(t)},e.prototype.isHovered=function(t){return!!this.selectedColumns&&this.selectedColumns.indexOf(t)>=0},e=ece([ee("columnHoverService")],e),e}(j),nce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),tA=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ice=function(i){nce(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.executeNextFuncs=[],t.executeLaterFuncs=[],t.active=!1,t.animationThreadCount=0,t}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(n){return t.gridBodyCtrl=n.gridBodyCtrl})},e.prototype.isActive=function(){return this.active},e.prototype.start=function(){this.active||this.gridOptionsService.get("suppressColumnMoveAnimation")||this.gridOptionsService.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)},e.prototype.finish=function(){this.active&&(this.flush(),this.active=!1)},e.prototype.executeNextVMTurn=function(t){this.active?this.executeNextFuncs.push(t):t()},e.prototype.executeLaterVMTurn=function(t){this.active?this.executeLaterFuncs.push(t):t()},e.prototype.ensureAnimationCssClassPresent=function(){var t=this;this.animationThreadCount++;var n=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){t.animationThreadCount===n&&t.gridBodyCtrl.setColumnMovingCss(!1)})},e.prototype.flush=function(){var t=this.executeNextFuncs;this.executeNextFuncs=[];var n=this.executeLaterFuncs;this.executeLaterFuncs=[],!(t.length===0&&n.length===0)&&this.getFrameworkOverrides().wrapIncoming(function(){window.setTimeout(function(){return t.forEach(function(r){return r()})},0),window.setTimeout(function(){return n.forEach(function(r){return r()})},300)})},tA([y("ctrlsService")],e.prototype,"ctrlsService",void 0),tA([W],e.prototype,"postConstruct",null),e=tA([ee("columnAnimationService")],e),e}(j),rce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),xC=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},oce=function(i){rce(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(n){t.centerRowContainerCon=n.centerRowContainerCtrl,t.addManagedListener(t.eventService,C.EVENT_BODY_HEIGHT_CHANGED,t.checkPageSize.bind(t)),t.addManagedListener(t.eventService,C.EVENT_SCROLL_VISIBILITY_CHANGED,t.checkPageSize.bind(t)),t.addManagedPropertyListener("paginationAutoPageSize",t.onPaginationAutoSizeChanged.bind(t)),t.checkPageSize()})},e.prototype.notActive=function(){return!this.gridOptionsService.get("paginationAutoPageSize")||this.centerRowContainerCon==null},e.prototype.onPaginationAutoSizeChanged=function(){this.notActive()?this.paginationProxy.unsetAutoCalculatedPageSize():this.checkPageSize()},e.prototype.checkPageSize=function(){var t=this;if(!this.notActive()){var n=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(n>0){var r=function(){var o=t.gridOptionsService.getRowHeightAsNumber(),s=Math.floor(n/o);t.paginationProxy.setPageSize(s,"autoCalculated")};this.isBodyRendered?Ar(function(){return r()},50)():(r(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},xC([y("ctrlsService")],e.prototype,"ctrlsService",void 0),xC([y("paginationProxy")],e.prototype,"paginationProxy",void 0),xC([W],e.prototype,"postConstruct",null),e=xC([ee("paginationAutoPageSizeService")],e),e}(j),sce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),eB=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ace=function(i){sce(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.cacheVersion=0,t}return e.prototype.init=function(){this.active=this.gridOptionsService.get("valueCache"),this.neverExpires=this.gridOptionsService.get("valueCacheNeverExpires")},e.prototype.onDataChanged=function(){this.neverExpires||this.expire()},e.prototype.expire=function(){this.cacheVersion++},e.prototype.setValue=function(t,n,r){this.active&&(t.__cacheVersion!==this.cacheVersion&&(t.__cacheVersion=this.cacheVersion,t.__cacheData={}),t.__cacheData[n]=r)},e.prototype.getValue=function(t,n){if(!(!this.active||t.__cacheVersion!==this.cacheVersion))return t.__cacheData[n]},eB([W],e.prototype,"init",null),e=eB([ee("valueCache")],e),e}(j),lce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),PC=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},uce="paste",cce=function(i){lce(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,C.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},e.prototype.onCellValueChanged=function(t){t.source!==uce&&this.doChangeDetection(t.node,t.column)},e.prototype.doChangeDetection=function(t,n){if(!this.gridOptionsService.get("suppressChangeDetection")){var r=[t];if(this.clientSideRowModel&&!t.isRowPinned()){var o=this.gridOptionsService.get("aggregateOnlyChangedColumns"),s=new b_(o,this.clientSideRowModel.getRootNode());s.addParentNode(t.parent,[n]),this.clientSideRowModel.doAggregate(s),s.forEachChangedNodeDepthFirst(function(a){r.push(a)})}this.rowRenderer.refreshCells({rowNodes:r})}},PC([y("rowModel")],e.prototype,"rowModel",void 0),PC([y("rowRenderer")],e.prototype,"rowRenderer",void 0),PC([W],e.prototype,"init",null),e=PC([ee("changeDetectionService")],e),e}(j),dce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),tB=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},hce=function(i){dce(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.adaptFunction=function(t,n){var r=this.componentMetadataProvider.retrieve(t);return r&&r.functionAdapter?r.functionAdapter(n):null},e.prototype.adaptCellRendererFunction=function(t){var n=function(){function r(){}return r.prototype.refresh=function(o){return!1},r.prototype.getGui=function(){return this.eGui},r.prototype.init=function(o){var s=t(o),a=typeof s;if(a==="string"||a==="number"||a==="boolean"){this.eGui=bi("<span>"+s+"</span>");return}if(s==null){this.eGui=bi("<span></span>");return}this.eGui=s},r}();return n},e.prototype.doesImplementIComponent=function(t){return t?t.prototype&&"getGui"in t.prototype:!1},tB([y("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),e=tB([ee("agComponentUtils")],e),e}(j),pce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),nA=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},fce=function(i){pce(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},e.prototype.retrieve=function(t){return this.componentMetaData[t]},nA([y("agComponentUtils")],e.prototype,"agComponentUtils",void 0),nA([W],e.prototype,"postConstruct",null),e=nA([ee("componentMetadataProvider")],e),e}(j),gce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),iA=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},vce=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},mce=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},yce=25,nB=10,rA=8,Cce=4,oA=4,sA=6,_ce=16,iB=14,aA=8,wce={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:Cce*5,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:rA*7,headerCellMinWidth:48,listItemHeight:rA*4,rowHeight:rA*6,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:oA*8,headerCellMinWidth:24,listItemHeight:oA*6,rowHeight:oA*7,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:sA*8,headerCellMinWidth:36,listItemHeight:sA*4,rowHeight:sA*7,chartMenuPanelWidth:240},"ag-theme-quartz":{headerHeight:iB+aA*4.25,headerCellMinWidth:36,listItemHeight:_ce+aA,rowHeight:iB+aA*3.5,chartMenuPanelWidth:260}},rB={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},Sce=function(i){gce(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.calculatedSizes={},t}return e.prototype.postConstruct=function(){var t=this,n,r=(n=this.getTheme().el)!==null&&n!==void 0?n:this.eGridDiv;this.addManagedPropertyListener("rowHeight",function(){return t.refreshRowHeightVariable()}),this.mutationObserver=new MutationObserver(function(){t.calculatedSizes={},t.fireGridStylesChangedEvent()}),this.mutationObserver.observe(r||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})},e.prototype.fireGridStylesChangedEvent=function(){var t={type:C.EVENT_GRID_STYLES_CHANGED};this.eventService.dispatchEvent(t)},e.prototype.getSassVariable=function(t){var n=this.getTheme(),r=n.themeFamily,o=n.el;if(!(!r||r.indexOf("ag-theme")!==0)){this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[r]||(this.calculatedSizes[r]={});var s=this.calculatedSizes[r][t];return s??(this.calculatedSizes[r][t]=this.calculateValueForSassProperty(t,r,o),this.calculatedSizes[r][t])}},e.prototype.calculateValueForSassProperty=function(t,n,r){var o,s="ag-theme-"+(n.match("material")?"material":n.match("balham")?"balham":n.match("alpine")?"alpine":"custom"),a=wce[s][t],l=this.gridOptionsService.getDocument();if(r||(r=this.eGridDiv),!rB[t])return a;var u=rB[t],c=l.createElement("div"),d=Array.from(r.classList);(o=c.classList).add.apply(o,mce([n],vce(d),!1)),c.style.position="absolute";var h=u.reduce(function(g,v){var m=l.createElement("div");return m.style.position="static",m.classList.add(v),g.appendChild(m),m},c),p=0;if(l.body){l.body.appendChild(c);var f=t.toLowerCase().indexOf("height")!==-1?"height":"width";p=parseInt(window.getComputedStyle(h)[f],10),l.body.removeChild(c)}return p||a},e.prototype.isThemeDark=function(){var t=this.getTheme().theme;return!!t&&t.indexOf("dark")>=0},e.prototype.chartMenuPanelWidth=function(){return this.getSassVariable("chartMenuPanelWidth")},e.prototype.getTheme=function(){for(var t=/\bag-(material|(?:theme-([\w\-]*)))\b/g,n=this.eGridDiv,r=null,o=[];n;)if(r=t.exec(n.className),!r)n=n.parentElement||void 0;else{var s=n.className.match(t);s&&(o=s);break}if(!r)return{allThemes:o};var a=r[0];return{theme:a,el:n,themeFamily:a.replace(/-dark$/,""),allThemes:o}},e.prototype.getFromTheme=function(t,n){var r;return(r=this.getSassVariable(n))!==null&&r!==void 0?r:t},e.prototype.getDefaultRowHeight=function(){return this.getFromTheme(yce,"rowHeight")},e.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},e.prototype.refreshRowHeightVariable=function(){var t=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),n=this.gridOptionsService.get("rowHeight");if(n==null||isNaN(n)||!isFinite(n))return t!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;var r="".concat(n,"px");return t!=r?(this.eGridDiv.style.setProperty("--ag-line-height",r),n):t!=""?parseFloat(t):-1},e.prototype.getMinColWidth=function(){var t=this.getFromTheme(null,"headerCellMinWidth");return B(t)?Math.max(t,nB):nB},e.prototype.destroy=function(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),i.prototype.destroy.call(this)},iA([y("eGridDiv")],e.prototype,"eGridDiv",void 0),iA([W],e.prototype,"postConstruct",null),e=iA([ee("environment")],e),e}(j),Ece=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),FC=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},bce=function(i,e){return function(t,n){e(t,n,i)}},Dce=function(i){Ece(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.scrollY=0,t.uiBodyHeight=0,t}return e.prototype.agWire=function(t){this.logger=t.create("RowContainerHeightService")},e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,C.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=tj(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},e.prototype.isStretching=function(){return this.stretching},e.prototype.getDivStretchOffset=function(){return this.divStretchOffset},e.prototype.updateOffset=function(){if(this.stretching){var t=this.ctrlsService.getGridBodyCtrl(),n=t.getScrollFeature().getVScrollPosition().top,r=this.getUiBodyHeight(),o=n!==this.scrollY||r!==this.uiBodyHeight;o&&(this.scrollY=n,this.uiBodyHeight=r,this.calculateOffset())}},e.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var t=this.scrollY/this.maxScrollY,n=t*this.pixelsToShave;this.logger.log("Div Stretch Offset = ".concat(n," (").concat(this.pixelsToShave," * ").concat(t,")")),this.setDivStretchOffset(n)},e.prototype.setUiContainerHeight=function(t){t!==this.uiContainerHeight&&(this.uiContainerHeight=t,this.eventService.dispatchEvent({type:C.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},e.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},e.prototype.setDivStretchOffset=function(t){var n=typeof t=="number"?Math.floor(t):null;this.divStretchOffset!==n&&(this.divStretchOffset=n,this.eventService.dispatchEvent({type:C.EVENT_HEIGHT_SCALE_CHANGED}))},e.prototype.setModelHeight=function(t){this.modelHeight=t,this.stretching=t!=null&&this.maxDivHeight>0&&t>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},e.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},e.prototype.getRealPixelPosition=function(t){return t-this.divStretchOffset},e.prototype.getUiBodyHeight=function(){var t=this.ctrlsService.getGridBodyCtrl(),n=t.getScrollFeature().getVScrollPosition();return n.bottom-n.top},e.prototype.getScrollPositionForPixel=function(t){if(this.pixelsToShave<=0)return t;var n=this.modelHeight-this.getUiBodyHeight(),r=t/n,o=this.maxScrollY*r;return o},FC([y("ctrlsService")],e.prototype,"ctrlsService",void 0),FC([bce(0,Or("loggerFactory"))],e.prototype,"agWire",null),FC([W],e.prototype,"postConstruct",null),e=FC([ee("rowContainerHeightService")],e),e}(j),Rce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),NC=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Tce=function(i){Rce(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(){var t=this;this.addManagedPropertyListener("isRowSelectable",function(){return t.updateSelectable()})},e.prototype.updateSelectableAfterGrouping=function(){this.updateSelectable(!0)},e.prototype.updateSelectable=function(t){t===void 0&&(t=!1);var n=!!this.gridOptionsService.get("rowSelection"),r=this.gridOptionsService.get("isRowSelectable");if(!(!n||!r)){var o=this.gridOptionsService.get("groupSelectsChildren"),s=this.rowModel.getType()==="clientSide"&&o,a=[],l=function(d){if(!(t&&!d.group)){if(s&&d.group){var h=d.childrenAfterGroup.some(function(f){return f.selectable===!0});d.setRowSelectable(h,!0);return}var p=r?r(d):!0;d.setRowSelectable(p,!0),!p&&d.isSelected()&&a.push(d)}};if(s){var u=this.rowModel,c=new b_(!1,u.getRootNode());c.forEachChangedNodeDepthFirst(l,!0,!0)}else this.rowModel.forEachNode(l);a.length&&this.selectionService.setNodesSelected({nodes:a,newValue:!1,source:"selectableChanged"}),s&&this.selectionService instanceof Xj&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},NC([y("rowModel")],e.prototype,"rowModel",void 0),NC([y("selectionService")],e.prototype,"selectionService",void 0),NC([W],e.prototype,"init",null),e=NC([ee("selectableService")],e),e}(j),Ace=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$i=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Oce=function(i){Ace(e,i);function e(){var t=i.call(this)||this;return t.previousAndFirstButtonsDisabled=!1,t.nextButtonDisabled=!1,t.lastButtonDisabled=!1,t.areListenersSetup=!1,t}return e.prototype.postConstruct=function(){var t=this,n=this.gridOptionsService.get("enableRtl");this.setTemplate(this.getTemplate());var r=this,o=r.btFirst,s=r.btPrevious,a=r.btNext,l=r.btLast;r.pageSizeComp,this.activateTabIndex([o,s,a,l]),o.insertAdjacentElement("afterbegin",Kt(n?"last":"first",this.gridOptionsService)),s.insertAdjacentElement("afterbegin",Kt(n?"next":"previous",this.gridOptionsService)),a.insertAdjacentElement("afterbegin",Kt(n?"previous":"next",this.gridOptionsService)),l.insertAdjacentElement("afterbegin",Kt(n?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],function(){return t.onPageSizeRelatedOptionsChange()}),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.onPaginationChanged()},e.prototype.onPaginationChanged=function(){var t=this.gridOptionsService.get("pagination"),n=t&&!this.gridOptionsService.get("suppressPaginationPanel");this.setDisplayed(n),n&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels(),this.onPageSizeRelatedOptionsChange())},e.prototype.onPageSizeRelatedOptionsChange=function(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())},e.prototype.setupListeners=function(){var t=this;this.areListenersSetup||(this.addManagedListener(this.eventService,C.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(n){var r=n.el,o=n.fn;t.addManagedListener(r,"click",o),t.addManagedListener(r,"keydown",function(s){(s.key===I.ENTER||s.key===I.SPACE)&&(s.preventDefault(),o())})}),this.areListenersSetup=!0)},e.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},e.prototype.setCurrentPageLabel=function(){var t=this.paginationProxy.getTotalPages()>0,n=this.paginationProxy.getCurrentPage(),r=t?n+1:0;this.lbCurrent.textContent=this.formatNumber(r)},e.prototype.formatNumber=function(t){var n=this.gridOptionsService.getCallback("paginationNumberFormatter");if(n){var r={value:t};return n(r)}var o=this.localeService.getLocaleTextFunc(),s=o("thousandSeparator",","),a=o("decimalSeparator",".");return rO(t,s,a)},e.prototype.getTemplate=function(){var t=this.localeService.getLocaleTextFunc(),n=t("page","Page"),r=t("to","to"),o=t("of","of"),s=t("firstPage","First Page"),a=t("previousPage","Previous Page"),l=t("nextPage","Next Page"),u=t("lastPage","Last Page"),c=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'.concat(c,`">
                <ag-page-size-selector ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel" role="status">
                    <span id="ag-`).concat(c,`-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-`).concat(c,'-to">').concat(r,`</span>
                    <span id="ag-`).concat(c,`-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-`).concat(c,'-of">').concat(o,`</span>
                    <span id="ag-`).concat(c,`-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="`).concat(s,`"></div>
                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="`).concat(a,`"></div>
                    <span class="ag-paging-description" role="status">
                        <span id="ag-`).concat(c,'-start-page">').concat(n,`</span>
                        <span id="ag-`).concat(c,`-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-`).concat(c,'-of-page">').concat(o,`</span>
                        <span id="ag-`).concat(c,`-of-page-number" ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="`).concat(l,`"></div>
                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="`).concat(u,`"></div>
                </span>
            </div>`)},e.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},e.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},e.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},e.prototype.enableOrDisableButtons=function(){var t=this.paginationProxy.getCurrentPage(),n=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=t===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var o=this.isZeroPagesToDisplay(),s=t===r-1;this.nextButtonDisabled=s||o,this.lastButtonDisabled=!n||o||t===r-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},e.prototype.toggleButtonDisabled=function(t,n){$A(t,n),t.classList.toggle("ag-disabled",n)},e.prototype.updateRowLabels=function(){var t=this.paginationProxy.getCurrentPage(),n=this.paginationProxy.getPageSize(),r=this.paginationProxy.isLastPageFound(),o=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null,s,a;if(this.isZeroPagesToDisplay()?s=a=0:(s=n*t+1,a=s+n-1,r&&a>o&&(a=o)),this.lbFirstRowOnPage.textContent=this.formatNumber(s),this.rowNodeBlockLoader.isLoading()){var l=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=l("pageLastRowUnknown","?")}else this.lbLastRowOnPage.textContent=this.formatNumber(a)},e.prototype.isZeroPagesToDisplay=function(){var t=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages();return t&&n===0},e.prototype.setTotalLabels=function(){var t=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages(),r=t?this.paginationProxy.getMasterRowCount():null;if(r===1){var o=this.paginationProxy.getRow(0),s=o&&o.group&&!(o.groupData||o.aggData);if(s){this.setTotalLabelsToZero();return}}if(t)this.lbTotal.textContent=this.formatNumber(n),this.lbRecordCount.textContent=this.formatNumber(r);else{var a=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=a,this.lbRecordCount.innerHTML=a}},e.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.textContent=this.formatNumber(0),this.lbCurrent.textContent=this.formatNumber(0),this.lbLastRowOnPage.textContent=this.formatNumber(0),this.lbTotal.textContent=this.formatNumber(0),this.lbRecordCount.textContent=this.formatNumber(0)},$i([y("paginationProxy")],e.prototype,"paginationProxy",void 0),$i([y("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),$i([Z("btFirst")],e.prototype,"btFirst",void 0),$i([Z("btPrevious")],e.prototype,"btPrevious",void 0),$i([Z("btNext")],e.prototype,"btNext",void 0),$i([Z("btLast")],e.prototype,"btLast",void 0),$i([Z("lbRecordCount")],e.prototype,"lbRecordCount",void 0),$i([Z("lbFirstRowOnPage")],e.prototype,"lbFirstRowOnPage",void 0),$i([Z("lbLastRowOnPage")],e.prototype,"lbLastRowOnPage",void 0),$i([Z("lbCurrent")],e.prototype,"lbCurrent",void 0),$i([Z("lbTotal")],e.prototype,"lbTotal",void 0),$i([Z("pageSizeComp")],e.prototype,"pageSizeComp",void 0),$i([W],e.prototype,"postConstruct",null),e}(be),Ice=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),lA=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Mce=function(i){Ice(e,i);function e(){var t=i.call(this,e.TEMPLATE)||this;return t.inProgress=!1,t.destroyRequested=!1,t}return e.prototype.updateLayoutClasses=function(t,n){var r=this.eOverlayWrapper.classList;r.toggle(pn.AUTO_HEIGHT,n.autoHeight),r.toggle(pn.NORMAL,n.normal),r.toggle(pn.PRINT,n.print)},e.prototype.postConstruct=function(){this.createManagedBean(new EO(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.registerOverlayWrapperComp(this)},e.prototype.setWrapperTypeClass=function(t){var n=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&n.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=t,n.toggle(t,!0)},e.prototype.showOverlay=function(t,n,r){var o=this;this.inProgress||(this.setWrapperTypeClass(n),this.destroyActiveOverlay(),this.inProgress=!0,t&&t.then(function(s){o.inProgress=!1,o.eOverlayWrapper.appendChild(s.getGui()),o.activeOverlay=s,o.updateListenerDestroyFunc=r,o.destroyRequested&&(o.destroyRequested=!1,o.destroyActiveOverlay())}),this.setDisplayed(!0,{skipAriaHidden:!0}))},e.prototype.destroyActiveOverlay=function(){var t;if(this.inProgress){this.destroyRequested=!0;return}this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),(t=this.updateListenerDestroyFunc)===null||t===void 0||t.call(this),Rn(this.eOverlayWrapper))},e.prototype.hideOverlay=function(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})},e.prototype.destroy=function(){this.destroyActiveOverlay(),i.prototype.destroy.call(this)},e.TEMPLATE=`
        <div class="ag-overlay" role="presentation">
            <div class="ag-overlay-panel" role="presentation">
                <div class="ag-overlay-wrapper" ref="eOverlayWrapper" role="presentation"></div>
            </div>
        </div>`,lA([y("overlayService")],e.prototype,"overlayService",void 0),lA([Z("eOverlayWrapper")],e.prototype,"eOverlayWrapper",void 0),lA([W],e.prototype,"postConstruct",null),e}(be),xce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),LC=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Pce=function(i){xce(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getFirstRow=function(){var t=0,n;return this.pinnedRowModel.getPinnedTopRowCount()?n="top":this.rowModel.getRowCount()?(n=null,t=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(n="bottom"),n===void 0?null:{rowIndex:t,rowPinned:n}},e.prototype.getLastRow=function(){var t,n=null,r=this.pinnedRowModel.getPinnedBottomRowCount(),o=this.pinnedRowModel.getPinnedTopRowCount();return r?(n="bottom",t=r-1):this.rowModel.getRowCount()?(n=null,t=this.paginationProxy.getPageLastRow()):o&&(n="top",t=o-1),t===void 0?null:{rowIndex:t,rowPinned:n}},e.prototype.getRowNode=function(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},e.prototype.sameRow=function(t,n){return!t&&!n?!0:t&&!n||!t&&n?!1:t.rowIndex===n.rowIndex&&t.rowPinned==n.rowPinned},e.prototype.before=function(t,n){switch(t.rowPinned){case"top":if(n.rowPinned!=="top")return!0;break;case"bottom":if(n.rowPinned!=="bottom")return!1;break;default:if(B(n.rowPinned))return n.rowPinned!=="top";break}return t.rowIndex<n.rowIndex},e.prototype.rowMax=function(t){var n=this,r;return t.forEach(function(o){(r===void 0||n.before(r,o))&&(r=o)}),r},e.prototype.rowMin=function(t){var n=this,r;return t.forEach(function(o){(r===void 0||n.before(o,r))&&(r=o)}),r},LC([y("rowModel")],e.prototype,"rowModel",void 0),LC([y("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),LC([y("paginationProxy")],e.prototype,"paginationProxy",void 0),e=LC([ee("rowPositionUtils")],e),e}(j),Fce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Nce=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Lce=function(i){Fce(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createId=function(t){var n=t.rowIndex,r=t.rowPinned,o=t.column;return this.createIdFromValues({rowIndex:n,column:o,rowPinned:r})},e.prototype.createIdFromValues=function(t){var n=t.rowIndex,r=t.rowPinned,o=t.column;return"".concat(n,".").concat(r??"null",".").concat(o.getId())},e.prototype.equals=function(t,n){var r=t.column===n.column,o=t.rowPinned===n.rowPinned,s=t.rowIndex===n.rowIndex;return r&&o&&s},e=Nce([ee("cellPositionUtils")],e),e}(j),kce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_f=function(){function i(e){this.cellValueChanges=e}return i}(),uA=function(i){kce(e,i);function e(t,n,r,o){var s=i.call(this,t)||this;return s.initialRange=n,s.finalRange=r,s.ranges=o,s}return e}(_f),oB=function(){function i(e){this.actionStack=[],this.maxStackSize=e||i.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return i.prototype.pop=function(){return this.actionStack.pop()},i.prototype.push=function(e){var t=e.cellValueChanges&&e.cellValueChanges.length>0;t&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))},i.prototype.clear=function(){this.actionStack=[]},i.prototype.getCurrentStackSize=function(){return this.actionStack.length},i.DEFAULT_STACK_SIZE=10,i}(),Vce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),c_=function(){return c_=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},c_.apply(this,arguments)},No=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Gce=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Hce=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},Bce=function(i){Vce(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.cellValueChanges=[],t.activeCellEdit=null,t.activeRowEdit=null,t.isPasting=!1,t.isRangeInAction=!1,t.onCellValueChanged=function(n){var r={column:n.column,rowIndex:n.rowIndex,rowPinned:n.rowPinned},o=t.activeCellEdit!==null&&t.cellPositionUtils.equals(t.activeCellEdit,r),s=t.activeRowEdit!==null&&t.rowPositionUtils.sameRow(t.activeRowEdit,r),a=o||s||t.isPasting||t.isRangeInAction;if(a){var l=n.rowPinned,u=n.rowIndex,c=n.column,d=n.oldValue,h=n.value,p={rowPinned:l,rowIndex:u,columnId:c.getColId(),newValue:h,oldValue:d};t.cellValueChanges.push(p)}},t.clearStacks=function(){t.undoStack.clear(),t.redoStack.clear()},t}return e.prototype.init=function(){var t=this;if(this.gridOptionsService.get("undoRedoCellEditing")){var n=this.gridOptionsService.get("undoRedoCellEditingLimit");n<=0||(this.undoStack=new oB(n),this.redoStack=new oB(n),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,C.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,C.EVENT_MODEL_UPDATED,function(r){r.keepUndoRedoStack||t.clearStacks()}),this.addManagedListener(this.eventService,C.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,C.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,C.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,C.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,C.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,C.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,C.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,C.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl()}))}},e.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},e.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},e.prototype.undo=function(t){var n={type:C.EVENT_UNDO_STARTED,source:t};this.eventService.dispatchEvent(n);var r=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo"),o={type:C.EVENT_UNDO_ENDED,source:t,operationPerformed:r};this.eventService.dispatchEvent(o)},e.prototype.redo=function(t){var n={type:C.EVENT_REDO_STARTED,source:t};this.eventService.dispatchEvent(n);var r=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo"),o={type:C.EVENT_REDO_ENDED,source:t,operationPerformed:r};this.eventService.dispatchEvent(o)},e.prototype.undoRedo=function(t,n,r,o,s){if(!t)return!1;var a=t.pop();return!a||!a.cellValueChanges?!1:(this.processAction(a,function(l){return l[o]},s),a instanceof uA?this.processRange(a.ranges||[a[r]]):this.processCell(a.cellValueChanges),n.push(a),!0)},e.prototype.processAction=function(t,n,r){var o=this;t.cellValueChanges.forEach(function(s){var a=s.rowIndex,l=s.rowPinned,u=s.columnId,c={rowIndex:a,rowPinned:l},d=o.getRowNode(c);d.displayed&&d.setDataValue(u,n(s),r)})},e.prototype.processRange=function(t){var n=this,r;this.rangeService.removeAllCellRanges(!0),t.forEach(function(o,s){if(o){var a=o.startRow,l=o.endRow;s===t.length-1&&(r={rowPinned:a.rowPinned,rowIndex:a.rowIndex,columnId:o.startColumn.getColId()},n.setLastFocusedCell(r));var u={rowStartIndex:a.rowIndex,rowStartPinned:a.rowPinned,rowEndIndex:l.rowIndex,rowEndPinned:l.rowPinned,columnStart:o.startColumn,columns:o.columns};n.rangeService.addCellRange(u)}})},e.prototype.processCell=function(t){var n=t[0],r=n.rowIndex,o=n.rowPinned,s={rowIndex:r,rowPinned:o},a=this.getRowNode(s),l={rowPinned:n.rowPinned,rowIndex:a.rowIndex,columnId:n.columnId};this.setLastFocusedCell(l,!!this.rangeService)},e.prototype.setLastFocusedCell=function(t,n){var r=t.rowIndex,o=t.columnId,s=t.rowPinned,a=this.gridBodyCtrl.getScrollFeature(),l=this.columnModel.getGridColumn(o);if(l){a.ensureIndexVisible(r),a.ensureColumnVisible(l);var u={rowIndex:r,column:l,rowPinned:s};this.focusService.setFocusedCell(c_(c_({},u),{forceBrowserFocus:!0})),n&&this.rangeService.setRangeToCell(u)}},e.prototype.addRowEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,C.EVENT_ROW_EDITING_STARTED,function(n){t.activeRowEdit={rowIndex:n.rowIndex,rowPinned:n.rowPinned}}),this.addManagedListener(this.eventService,C.EVENT_ROW_EDITING_STOPPED,function(){var n=new _f(t.cellValueChanges);t.pushActionsToUndoStack(n),t.activeRowEdit=null})},e.prototype.addCellEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,C.EVENT_CELL_EDITING_STARTED,function(n){t.activeCellEdit={column:n.column,rowIndex:n.rowIndex,rowPinned:n.rowPinned}}),this.addManagedListener(this.eventService,C.EVENT_CELL_EDITING_STOPPED,function(n){t.activeCellEdit=null;var r=n.valueChanged&&!t.activeRowEdit&&!t.isPasting&&!t.isRangeInAction;if(r){var o=new _f(t.cellValueChanges);t.pushActionsToUndoStack(o)}})},e.prototype.addPasteListeners=function(){var t=this;this.addManagedListener(this.eventService,C.EVENT_PASTE_START,function(){t.isPasting=!0}),this.addManagedListener(this.eventService,C.EVENT_PASTE_END,function(){var n=new _f(t.cellValueChanges);t.pushActionsToUndoStack(n),t.isPasting=!1})},e.prototype.addFillListeners=function(){var t=this;this.addManagedListener(this.eventService,C.EVENT_FILL_START,function(){t.isRangeInAction=!0}),this.addManagedListener(this.eventService,C.EVENT_FILL_END,function(n){var r=new uA(t.cellValueChanges,n.initialRange,n.finalRange);t.pushActionsToUndoStack(r),t.isRangeInAction=!1})},e.prototype.addCellKeyListeners=function(){var t=this;this.addManagedListener(this.eventService,C.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,function(){t.isRangeInAction=!0}),this.addManagedListener(this.eventService,C.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,function(){var n;t.rangeService&&t.gridOptionsService.get("enableRangeSelection")?n=new uA(t.cellValueChanges,void 0,void 0,Hce([],Gce(t.rangeService.getCellRanges()),!1)):n=new _f(t.cellValueChanges),t.pushActionsToUndoStack(n),t.isRangeInAction=!1})},e.prototype.pushActionsToUndoStack=function(t){this.undoStack.push(t),this.cellValueChanges=[],this.redoStack.clear()},e.prototype.getRowNode=function(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},No([y("focusService")],e.prototype,"focusService",void 0),No([y("ctrlsService")],e.prototype,"ctrlsService",void 0),No([y("rowModel")],e.prototype,"rowModel",void 0),No([y("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),No([y("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),No([y("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),No([y("columnModel")],e.prototype,"columnModel",void 0),No([$e("rangeService")],e.prototype,"rangeService",void 0),No([W],e.prototype,"init",null),e=No([ee("undoRedoService")],e),e}(j),jce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),cA=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Uce=function(i){jce(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.findHeader=function(t,n){var r,o,s;if(t.column instanceof dn?(o="getDisplayedGroup".concat(n),r=this.columnModel[o](t.column)):(s="getDisplayedCol".concat(n),r=this.columnModel[s](t.column)),!!r){var a=t.headerRowIndex,l=this.getHeaderRowType(a);if(l===$n.COLUMN_GROUP){var u=r;if(u.isPadding()&&this.isAnyChildSpanningHeaderHeight(u)){var c=this.getColumnVisibleChild(u,a,n),d=c.nextFocusColumn,h=c.nextRow;d&&(r=d,a=h)}}return{column:r,headerRowIndex:a}}},e.prototype.isAnyChildSpanningHeaderHeight=function(t){return t?t.getLeafColumns().some(function(n){return n.isSpanHeaderHeight()}):!1},e.prototype.getColumnVisibleParent=function(t,n){var r=this.getHeaderRowType(n),o=r===$n.FLOATING_FILTER,s=r===$n.COLUMN,a=o?t:t.getParent(),l=n-1;if(s&&this.isAnyChildSpanningHeaderHeight(t.getParent())){for(;a&&a.isPadding();)a=a.getParent(),l--;l<0&&(a=t,l=n)}return{nextFocusColumn:a,nextRow:l}},e.prototype.getColumnVisibleChild=function(t,n,r){r===void 0&&(r="After");var o=this.getHeaderRowType(n),s=t,a=n+1;if(o===$n.COLUMN_GROUP){var l=t.getDisplayedLeafColumns(),u=r==="After"?l[0]:Je(l);if(this.isAnyChildSpanningHeaderHeight(u.getParent())){s=u;for(var c=u.getParent();c&&c!==t;)c=c.getParent(),a++}else s=t.getDisplayedChildren()[0]}return{nextFocusColumn:s,nextRow:a}},e.prototype.getHeaderRowType=function(t){var n=this.ctrlsService.getHeaderRowContainerCtrl();if(n)return n.getRowType(t)},e.prototype.findColAtEdgeForHeaderRow=function(t,n){var r=this.columnModel.getAllDisplayedColumns(),o=r[n==="start"?0:r.length-1];if(o){var s=this.ctrlsService.getHeaderRowContainerCtrl(o.getPinned()),a=s.getRowType(t);if(a==$n.COLUMN_GROUP){var l=this.columnModel.getColumnGroupAtLevel(o,t);return{headerRowIndex:t,column:l}}return{headerRowIndex:a==null?-1:t,column:o}}},cA([y("columnModel")],e.prototype,"columnModel",void 0),cA([y("ctrlsService")],e.prototype,"ctrlsService",void 0),e=cA([ee("headerPositionUtils")],e),e}(j),Wce=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},zce=function(){function i(){}return i.prototype.buildColumnDefs=function(e,t,n){var r=this,o=[],s={};return e.forEach(function(a){for(var l=r.createDefFromColumn(a,t,n),u=!0,c=l,d=a.getOriginalParent(),h=null;d;){var p=null;if(d.isPadding()){d=d.getOriginalParent();continue}var f=s[d.getGroupId()];if(f){f.children.push(c),u=!1;break}if(p=r.createDefFromGroup(d),p&&(p.children=[c],s[p.groupId]=p,c=p,d=d.getOriginalParent()),d!=null&&h===d){u=!1;break}h=d}u&&o.push(c)}),o},i.prototype.createDefFromGroup=function(e){var t=WC(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t},i.prototype.createDefFromColumn=function(e,t,n){var r=WC(e.getColDef());return r.colId=e.getColId(),r.width=e.getActualWidth(),r.rowGroup=e.isRowGroupActive(),r.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,r.pivot=e.isPivotActive(),r.pivotIndex=e.isPivotActive()?n.indexOf(e):null,r.aggFunc=e.isValueActive()?e.getAggFunc():null,r.hide=e.isVisible()?void 0:!0,r.pinned=e.isPinned()?e.getPinned():null,r.sort=e.getSort()?e.getSort():null,r.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,r},i=Wce([ee("columnDefFactory")],i),i}(),dA=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},$ce=function(){function i(){}return i.prototype.getInitialRowClasses=function(e){var t=[];return B(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),EA(t,this.processClassesFromGridOptions(e.rowNode)),EA(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&(e.pinned==="left"&&t.push("ag-cell-last-left-pinned"),e.pinned==="right"&&t.push("ag-cell-first-right-pinned")),t},i.prototype.processClassesFromGridOptions=function(e){var t=[],n=function(l){typeof l=="string"?t.push(l):Array.isArray(l)&&l.forEach(function(u){return t.push(u)})},r=this.gridOptionsService.get("rowClass");if(r){if(typeof r=="function")return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];n(r)}var o=this.gridOptionsService.getCallback("getRowClass");if(o){var s={data:e.data,node:e,rowIndex:e.rowIndex},a=o(s);n(a)}return t},i.prototype.preProcessRowClassRules=function(e){var t=[];return this.processRowClassRules(e,function(n){t.push(n)},function(n){}),t},i.prototype.processRowClassRules=function(e,t,n){var r=this.gridOptionsService.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gridOptionsService.get("rowClassRules"),r,t,n)},i.prototype.calculateRowLevel=function(e){return e.group?e.level:e.parent?e.parent.level+1:0},dA([y("stylingService")],i.prototype,"stylingService",void 0),dA([y("gridOptionsService")],i.prototype,"gridOptionsService",void 0),i=dA([ee("rowCssClassCalculator")],i),i}(),qce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),kC=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Kce=function(i){qce(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(){var t=this;this.isAccentedSort=this.gridOptionsService.get("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",function(n){return t.isAccentedSort=n.currentValue}),this.addManagedPropertyListener("autoGroupColumnDef",function(){return t.primaryColumnsSortGroups=t.gridOptionsService.isColumnsSortingCoupledToGroup()})},e.prototype.doFullSort=function(t,n){var r=function(s,a){return{currentPos:a,rowNode:s}},o=t.map(r);return o.sort(this.compareRowNodes.bind(this,n)),o.map(function(s){return s.rowNode})},e.prototype.compareRowNodes=function(t,n,r){for(var o=n.rowNode,s=r.rowNode,a=0,l=t.length;a<l;a++){var u=t[a],c=u.sort==="desc",d=this.getValue(o,u.column),h=this.getValue(s,u.column),p=void 0,f=this.getComparator(u,o);f?p=f(d,h,o,s,c):p=Te.defaultComparator(d,h,this.isAccentedSort);var g=!isNaN(p);if(g&&p!==0)return u.sort==="asc"?p:p*-1}return n.currentPos-r.currentPos},e.prototype.getComparator=function(t,n){var r=t.column,o=r.getColDef().comparator;if(o!=null)return o;if(r.getColDef().showRowGroup){var s=!n.group&&r.getColDef().field;if(s){var a=this.columnModel.getPrimaryColumn(s);if(a)return a.getColDef().comparator}}},e.prototype.getValue=function(t,n){var r,o;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(n,t,!1,!1);var s=t.rowGroupColumn===n;if(s){var a=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive());if(a){var l=(r=t.allLeafChildren)===null||r===void 0?void 0:r[0];return l?this.valueService.getValue(n,l,!1,!1):void 0}var u=this.columnModel.getGroupDisplayColumnForGroup(n.getId());return u?(o=t.groupData)===null||o===void 0?void 0:o[u.getId()]:void 0}if(!(t.group&&n.getColDef().showRowGroup))return this.valueService.getValue(n,t,!1,!1)},kC([y("valueService")],e.prototype,"valueService",void 0),kC([y("columnModel")],e.prototype,"columnModel",void 0),kC([W],e.prototype,"init",null),e=kC([ee("rowNodeSorter")],e),e}(j),Yce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Qce=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Zce=function(i){Yce(e,i);function e(){var n=i!==null&&i.apply(this,arguments)||this;return n.ready=!1,n.readyCallbacks=[],n}t=e,e.prototype.checkReady=function(){if(this.ready=this.gridCtrl!=null&&this.gridBodyCtrl!=null&&this.centerRowContainerCtrl!=null&&this.leftRowContainerCtrl!=null&&this.rightRowContainerCtrl!=null&&this.bottomCenterRowContainerCtrl!=null&&this.bottomLeftRowContainerCtrl!=null&&this.bottomRightRowContainerCtrl!=null&&this.topCenterRowContainerCtrl!=null&&this.topLeftRowContainerCtrl!=null&&this.topRightRowContainerCtrl!=null&&this.stickyTopCenterRowContainerCtrl!=null&&this.stickyTopLeftRowContainerCtrl!=null&&this.stickyTopRightRowContainerCtrl!=null&&this.centerHeaderRowContainerCtrl!=null&&this.leftHeaderRowContainerCtrl!=null&&this.rightHeaderRowContainerCtrl!=null&&this.fakeHScrollComp!=null&&this.fakeVScrollComp!=null&&this.gridHeaderCtrl!=null,this.ready){var n=this.createReadyParams();this.readyCallbacks.forEach(function(r){return r(n)}),this.readyCallbacks.length=0}},e.prototype.whenReady=function(n){this.ready?n(this.createReadyParams()):this.readyCallbacks.push(n)},e.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},e.prototype.registerFakeHScrollComp=function(n){this.fakeHScrollComp=n,this.checkReady()},e.prototype.registerFakeVScrollComp=function(n){this.fakeVScrollComp=n,this.checkReady()},e.prototype.registerGridHeaderCtrl=function(n){this.gridHeaderCtrl=n,this.checkReady()},e.prototype.registerCenterRowContainerCtrl=function(n){this.centerRowContainerCtrl=n,this.checkReady()},e.prototype.registerLeftRowContainerCtrl=function(n){this.leftRowContainerCtrl=n,this.checkReady()},e.prototype.registerRightRowContainerCtrl=function(n){this.rightRowContainerCtrl=n,this.checkReady()},e.prototype.registerTopCenterRowContainerCtrl=function(n){this.topCenterRowContainerCtrl=n,this.checkReady()},e.prototype.registerTopLeftRowContainerCon=function(n){this.topLeftRowContainerCtrl=n,this.checkReady()},e.prototype.registerTopRightRowContainerCtrl=function(n){this.topRightRowContainerCtrl=n,this.checkReady()},e.prototype.registerStickyTopCenterRowContainerCtrl=function(n){this.stickyTopCenterRowContainerCtrl=n,this.checkReady()},e.prototype.registerStickyTopLeftRowContainerCon=function(n){this.stickyTopLeftRowContainerCtrl=n,this.checkReady()},e.prototype.registerStickyTopRightRowContainerCtrl=function(n){this.stickyTopRightRowContainerCtrl=n,this.checkReady()},e.prototype.registerBottomCenterRowContainerCtrl=function(n){this.bottomCenterRowContainerCtrl=n,this.checkReady()},e.prototype.registerBottomLeftRowContainerCtrl=function(n){this.bottomLeftRowContainerCtrl=n,this.checkReady()},e.prototype.registerBottomRightRowContainerCtrl=function(n){this.bottomRightRowContainerCtrl=n,this.checkReady()},e.prototype.registerHeaderContainer=function(n,r){switch(r){case"left":this.leftHeaderRowContainerCtrl=n;break;case"right":this.rightHeaderRowContainerCtrl=n;break;default:this.centerHeaderRowContainerCtrl=n;break}this.checkReady()},e.prototype.registerGridBodyCtrl=function(n){this.gridBodyCtrl=n,this.checkReady()},e.prototype.registerGridCtrl=function(n){this.gridCtrl=n,this.checkReady()},e.prototype.getFakeHScrollComp=function(){return this.fakeHScrollComp},e.prototype.getFakeVScrollComp=function(){return this.fakeVScrollComp},e.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},e.prototype.getGridCtrl=function(){return this.gridCtrl},e.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},e.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},e.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},e.prototype.getStickyTopCenterRowContainerCtrl=function(){return this.stickyTopCenterRowContainerCtrl},e.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},e.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},e.prototype.getHeaderRowContainerCtrl=function(n){switch(n){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}};var t;return e.NAME="ctrlsService",e=t=Qce([ee(t.NAME)],e),e}(j),Xce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Jce=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ede=function(i){Xce(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.registry={},t}return e.prototype.register=function(t){this.registry[t.controllerName]=t.controllerClass},e.prototype.getInstance=function(t){var n=this.registry[t];if(n!=null)return new n},e=Jce([ee("ctrlsFactory")],e),e}(j),tde=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),uf=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},eU=function(i){tde(e,i);function e(t,n){var r=i.call(this,t)||this;return r.direction=n,r.hideTimeout=null,r}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,C.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",tO()||Va())},e.prototype.initialiseInvisibleScrollbar=function(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=iO(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))},e.prototype.addActiveListenerToggles=function(){var t=this,n=["mouseenter","mousedown","touchstart"],r=["mouseleave","touchend"],o=this.getGui();n.forEach(function(s){return t.addManagedListener(o,s,function(){return t.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),r.forEach(function(s){return t.addManagedListener(o,s,function(){return t.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},e.prototype.onScrollVisibilityChanged=function(){var t=this;this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(function(){return t.setScrollVisible()})},e.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var t=this;this.addManagedListener(this.eventService,C.EVENT_BODY_SCROLL,function(n){n.direction===t.direction&&(t.hideTimeout!==null&&(window.clearTimeout(t.hideTimeout),t.hideTimeout=null),t.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,C.EVENT_BODY_SCROLL_END,function(){t.hideTimeout=window.setTimeout(function(){t.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),t.hideTimeout=null},400)})},e.prototype.attemptSettingScrollPosition=function(t){var n=this,r=this.getViewport();HA(function(){return Ji(r)},function(){return n.setScrollPosition(t)},100)},e.prototype.getViewport=function(){return this.eViewport},e.prototype.getContainer=function(){return this.eContainer},e.prototype.onScrollCallback=function(t){this.addManagedListener(this.getViewport(),"scroll",t)},uf([Z("eViewport")],e.prototype,"eViewport",void 0),uf([Z("eContainer")],e.prototype,"eContainer",void 0),uf([y("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),uf([y("ctrlsService")],e.prototype,"ctrlsService",void 0),uf([y("animationFrameService")],e.prototype,"animationFrameService",void 0),e}(be),nde=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),cf=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ide=function(i){nde(e,i);function e(){return i.call(this,e.TEMPLATE,"horizontal")||this}return e.prototype.postConstruct=function(){var t=this;i.prototype.postConstruct.call(this);var n=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,n),this.addManagedListener(this.eventService,C.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",n),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new DO(function(r){return t.eContainer.style.width="".concat(r,"px")})),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))},e.prototype.initialiseInvisibleScrollbar=function(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gridOptionsService.get("enableRtl"),i.prototype.initialiseInvisibleScrollbar.call(this),this.invisibleScrollbar&&this.refreshCompBottom())},e.prototype.onPinnedRowDataChanged=function(){this.refreshCompBottom()},e.prototype.refreshCompBottom=function(){if(this.invisibleScrollbar){var t=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom="".concat(t,"px")}},e.prototype.onScrollVisibilityChanged=function(){i.prototype.onScrollVisibilityChanged.call(this),this.setFakeHScrollSpacerWidths()},e.prototype.setFakeHScrollSpacerWidths=function(){var t=this.scrollVisibleService.isVerticalScrollShowing(),n=this.columnModel.getDisplayedColumnsRightWidth(),r=!this.enableRtl&&t,o=this.gridOptionsService.getScrollbarWidth();r&&(n+=o),Mr(this.eRightSpacer,n),this.eRightSpacer.classList.toggle("ag-scroller-corner",n<=o);var s=this.columnModel.getDisplayedColumnsLeftWidth(),a=this.enableRtl&&t;a&&(s+=o),Mr(this.eLeftSpacer,s),this.eLeftSpacer.classList.toggle("ag-scroller-corner",s<=o)},e.prototype.setScrollVisible=function(){var t=this.scrollVisibleService.isHorizontalScrollShowing(),n=this.invisibleScrollbar,r=this.gridOptionsService.get("suppressHorizontalScroll"),o=t&&this.gridOptionsService.getScrollbarWidth()||0,s=o===0&&n?16:o,a=r?0:s;this.addOrRemoveCssClass("ag-scrollbar-invisible",n),ou(this.getGui(),a),ou(this.eViewport,a),ou(this.eContainer,a),this.setDisplayed(t,{skipAriaHidden:!0})},e.prototype.getScrollPosition=function(){return Af(this.getViewport(),this.enableRtl)},e.prototype.setScrollPosition=function(t){Ji(this.getViewport())||this.attemptSettingScrollPosition(t),Of(this.getViewport(),t,this.enableRtl)},e.TEMPLATE=`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>
        </div>`,cf([Z("eLeftSpacer")],e.prototype,"eLeftSpacer",void 0),cf([Z("eRightSpacer")],e.prototype,"eRightSpacer",void 0),cf([y("columnModel")],e.prototype,"columnModel",void 0),cf([y("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),cf([W],e.prototype,"postConstruct",null),e}(eU),rde=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),hA=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ode=function(i){rde(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedPropertyListener("domLayout",t)},e.prototype.checkContainerWidths=function(){var t=this.gridOptionsService.isDomLayout("print"),n=t?0:this.columnModel.getDisplayedColumnsLeftWidth(),r=t?0:this.columnModel.getDisplayedColumnsRightWidth();n!=this.leftWidth&&(this.leftWidth=n,this.eventService.dispatchEvent({type:C.EVENT_LEFT_PINNED_WIDTH_CHANGED})),r!=this.rightWidth&&(this.rightWidth=r,this.eventService.dispatchEvent({type:C.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},e.prototype.getPinnedRightWidth=function(){return this.rightWidth},e.prototype.getPinnedLeftWidth=function(){return this.leftWidth},hA([y("columnModel")],e.prototype,"columnModel",void 0),hA([W],e.prototype,"postConstruct",null),e=hA([ee("pinnedWidthService")],e),e}(j),sde=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),VC=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ade=function(i){sde(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.events=[],t}return e.prototype.postConstruct=function(){this.rowModel.getType()=="clientSide"&&(this.clientSideRowModel=this.rowModel)},e.prototype.dispatchExpanded=function(t){var n=this;if(this.clientSideRowModel==null){this.eventService.dispatchEvent(t);return}this.events.push(t);var r=function(){n.clientSideRowModel&&n.clientSideRowModel.onRowGroupOpened(),n.events.forEach(function(o){return n.eventService.dispatchEvent(o)}),n.events=[]};this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(r)),this.dispatchExpandedDebounced()},VC([y("animationFrameService")],e.prototype,"animationFrameService",void 0),VC([y("rowModel")],e.prototype,"rowModel",void 0),VC([W],e.prototype,"postConstruct",null),e=VC([ee("rowNodeEventThrottle")],e),e}(j),lde={},Ta=function(i,e){var t;return((t=e.rowModelType)!==null&&t!==void 0?t:"clientSide")==="clientSide"?{module:re.RowGroupingModule}:null},ude={enableRowGroup:Ta,rowGroup:Ta,rowGroupIndex:Ta,enablePivot:Ta,enableValue:Ta,pivot:Ta,pivotIndex:Ta,aggFunc:Ta,cellEditor:function(i){return i.cellEditor==="agRichSelect"||i.cellEditor==="agRichSelectCellEditor"?{module:re.RichSelectModule}:null},menuTabs:function(i){var e,t=["columnsMenuTab","generalMenuTab"];return!((e=i.menuTabs)===null||e===void 0)&&e.some(function(n){return t.includes(n)})?{module:re.MenuModule}:null},columnsMenuParams:{module:[re.MenuModule,re.ColumnsToolPanelModule]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],dependencies:function(i,e){var t=e.rowSelection;return t==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"}},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],dependencies:function(i,e){var t=e.rowSelection;return t==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"}},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],dependencies:function(i,e){var t=e.rowSelection;return t==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"}},children:function(){return ad}},ad={objectName:"colDef",allProperties:yoe.ALL_PROPERTIES,docsUrl:"column-properties/",deprecations:lde,validations:ude},sB=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},aB=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},cde={enableChartToolPanelsButton:{version:"29",message:"The Chart Tool Panels button is now enabled by default. To hide the Chart Tool Panels button and display the hamburger button instead, set suppressChartToolPanelsButton=true."},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",renamed:"enterNavigatesVertically"},enterMovesDownAfterEdit:{version:"30",renamed:"enterNavigatesVerticallyAfterEdit"},suppressParentsInRowNodes:{version:"30.2",message:"Using suppressParentsInRowNodes is no longer recommended. To serialize nodes it is now recommended to instead remove the parent node reference before serialization."},advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."}},dde={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!1,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,suppressChartToolPanelsButton:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFadeDelay:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,functionsPassive:!1,groupLockGroupColumns:0},hde={sideBar:{module:re.SideBarModule},statusBar:{module:re.StatusBarModule},enableCharts:{module:re.GridChartsModule},getMainMenuItems:{module:re.MenuModule},getContextMenuItems:{module:re.MenuModule},allowContextMenuWithControlKey:{module:re.MenuModule},enableAdvancedFilter:{module:re.AdvancedFilterModule},treeData:{supportedRowModels:["clientSide","serverSide"],module:re.RowGroupingModule,dependencies:function(i){var e,t=(e=i.rowModelType)!==null&&e!==void 0?e:"clientSide";switch(t){case"clientSide":var n="treeData requires 'getDataPath' in the ".concat(t," row model.");return i.getDataPath?null:n;case"serverSide":var r="treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ".concat(t," row model.");return i.isServerSideGroup&&i.getServerSideGroupKey?null:r}return null}},masterDetail:{module:re.MasterDetailModule},enableRangeSelection:{module:re.RangeSelectionModule},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],dependencies:function(i){var e,t=(e=i.rowModelType)!==null&&e!==void 0?e:"clientSide";switch(t){case"clientSide":return null;case"serverSide":var n="groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll";return i.suppressServerSideInfiniteScroll?n:null}return null}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},suppressParentsInRowNodes:{dependencies:{groupSelectsChildren:[void 0,!1]}},viewportDatasource:{supportedRowModels:["viewport"],module:re.ViewportRowModelModule},serverSideDatasource:{supportedRowModels:["serverSide"],module:re.ServerSideRowModelModule},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:re.InfiniteRowModelModule},rowData:{supportedRowModels:["clientSide"],module:re.ClientSideRowModelModule},columnDefs:function(){return ad},defaultColDef:function(){return ad},defaultColGroupDef:function(){return ad},autoGroupColumnDef:function(){return ad}},pde={objectName:"gridOptions",allProperties:aB(aB([],sB(Ho.ALL_PROPERTIES),!1),sB(Pf.EVENT_CALLBACKS),!1),propertyExceptions:["api","columnApi"],docsUrl:"grid-options/",deprecations:cde,validations:hde},Lo=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},GC=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},pA=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},tU=function(){function i(){var t=this;this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new ka,this.globalEventHandlerFactory=function(n){return function(r,o){if(!t.destroyed){var s=e.alwaysSyncGlobalEvents.has(r);if(!(s&&!n||!s&&n)){var a=Pf.getCallbackForEvent(r),l=t.gridOptions[a];typeof l=="function"&&t.frameworkOverrides.wrapOutgoing(function(){l(o)})}}}}}e=i,Object.defineProperty(i.prototype,"context",{get:function(){return this.gridOptions.context},enumerable:!1,configurable:!0}),i.prototype.init=function(){this.columnApi=new Vf(this.api);var t=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),t),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.getScrollbarWidth()},i.prototype.destroy=function(){this.destroyed=!0,this.columnApi=void 0},i.prototype.get=function(t){var n;return(n=this.gridOptions[t])!==null&&n!==void 0?n:dde[t]},i.prototype.getCallback=function(t){return this.mergeGridCommonParams(this.gridOptions[t])},i.prototype.exists=function(t){return B(this.gridOptions[t])},i.prototype.mergeGridCommonParams=function(t){var n=this;if(t){var r=function(o){var s=o;return s.api=n.api,s.columnApi=n.columnApi,s.context=n.context,t(s)};return r}return t},i.toBoolean=function(t){return typeof t=="boolean"?t:typeof t=="string"?t.toUpperCase()==="TRUE"||t=="":!1},i.toNumber=function(t){if(typeof t=="number")return t;if(typeof t=="string"){var n=parseInt(t);return isNaN(n)?void 0:n}},i.toConstrainedNum=function(t,n){return function(r){var o=e.toNumber(r);if(!(o==null||o<t||o>n))return o}},i.getCoercedValue=function(t,n){var r=e.PROPERTY_COERCIONS.get(t);return r?r(n):n},i.getCoercedGridOptions=function(t){var n={};return Object.entries(t).forEach(function(r){var o=GC(r,2),s=o[0],a=o[1],l=e.getCoercedValue(s,a);n[s]=l}),n},i.prototype.updateGridOptions=function(t){var n=this,r=t.options,o=t.source,s=o===void 0?"api":o,a={id:e.changeSetId++,properties:[]},l=[];Object.entries(r).forEach(function(u){var c=GC(u,2),d=c[0],h=c[1];s==="api"&&Ine[d]&&Se("".concat(d," is an initial property and cannot be updated."));var p=e.getCoercedValue(d,h),f=typeof p=="object"&&s==="api",g=n.gridOptions[d];if(f||g!==p){n.gridOptions[d]=p;var v={type:d,currentValue:p,previousValue:g,changeSet:a,source:s};l.push(v)}}),this.validationService.processGridOptions(this.gridOptions),a.properties=l.map(function(u){return u.type}),l.forEach(function(u){n.gridOptions.debug&&console.log("AG Grid: Updated property ".concat(u.type," from "),u.previousValue," to  ",u.currentValue),n.propertyEventService.dispatchEvent(u)})},i.prototype.addEventListener=function(t,n){this.propertyEventService.addEventListener(t,n)},i.prototype.removeEventListener=function(t,n){this.propertyEventService.removeEventListener(t,n)},i.prototype.getGridId=function(){return this.api.getGridId()},i.prototype.getScrollbarWidth=function(){if(this.scrollbarWidth==null){var t=typeof this.gridOptions.scrollbarWidth=="number"&&this.gridOptions.scrollbarWidth>=0,n=t?this.gridOptions.scrollbarWidth:rj();n!=null&&(this.scrollbarWidth=n,this.eventService.dispatchEvent({type:C.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},i.prototype.isRowModelType=function(t){return this.gridOptions.rowModelType===t||t==="clientSide"&&ue(this.gridOptions.rowModelType)},i.prototype.isDomLayout=function(t){var n,r=(n=this.gridOptions.domLayout)!==null&&n!==void 0?n:"normal";return r===t},i.prototype.isRowSelection=function(){return this.gridOptions.rowSelection==="single"||this.gridOptions.rowSelection==="multiple"},i.prototype.useAsyncEvents=function(){return!this.get("suppressAsyncEvents")},i.prototype.isGetRowHeightFunction=function(){return typeof this.gridOptions.getRowHeight=="function"},i.prototype.getRowHeightForNode=function(t,n,r){if(n===void 0&&(n=!1),r==null&&(r=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(n)return{height:r,estimated:!0};var o={node:t,data:t.data},s=this.getCallback("getRowHeight")(o);if(this.isNumeric(s))return s===0&&Se("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,s),estimated:!1}}if(t.detail&&this.get("masterDetail"))return this.getMasterDetailRowHeight();var a=this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:r;return{height:a,estimated:!1}},i.prototype.getMasterDetailRowHeight=function(){return this.get("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}},i.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||ue(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();var t=this.environment.refreshRowHeightVariable();return t!==-1?t:(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())},i.prototype.isNumeric=function(t){return!isNaN(t)&&typeof t=="number"&&isFinite(t)},i.prototype.getDomDataKey=function(){return this.domDataKey},i.prototype.getDomData=function(t,n){var r=t[this.getDomDataKey()];return r?r[n]:void 0},i.prototype.setDomData=function(t,n,r){var o=this.getDomDataKey(),s=t[o];ue(s)&&(s={},t[o]=s),s[n]=r},i.prototype.getDocument=function(){var t=null;return this.gridOptions.getDocument&&B(this.gridOptions.getDocument)?t=this.gridOptions.getDocument():this.eGridDiv&&(t=this.eGridDiv.ownerDocument),t&&B(t)?t:document},i.prototype.getWindow=function(){var t=this.getDocument();return t.defaultView||window},i.prototype.getRootNode=function(){return this.eGridDiv.getRootNode()},i.prototype.getAsyncTransactionWaitMillis=function(){return B(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50},i.prototype.isAnimateRows=function(){return this.get("ensureDomOrder")?!1:this.get("animateRows")},i.prototype.isGroupRowsSticky=function(){return!(this.get("suppressGroupRowsSticky")||this.get("paginateChildRows")||this.get("groupHideOpenParents")||this.isDomLayout("print"))},i.prototype.isColumnsSortingCoupledToGroup=function(){var t=this.gridOptions.autoGroupColumnDef;return!t?.comparator&&!this.get("treeData")},i.prototype.getGroupAggFiltering=function(){var t=this.gridOptions.groupAggFiltering;if(typeof t=="function")return this.getCallback("groupAggFiltering");if(t===!0)return function(){return!0}},i.prototype.isGroupIncludeFooterTrueOrCallback=function(){var t=this.gridOptions.groupIncludeFooter;return t===!0||typeof t=="function"},i.prototype.getGroupIncludeFooter=function(){var t=this.gridOptions.groupIncludeFooter;return typeof t=="function"?this.getCallback("groupIncludeFooter"):t===!0?function(){return!0}:function(){return!1}},i.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?this.gridOptions.groupDisplayType==="multipleColumns":this.get("groupHideOpenParents")},i.prototype.isGroupUseEntireRow=function(t){return t?!1:this.gridOptions.groupDisplayType==="groupRows"},i.prototype.getGridCommonParams=function(){return{api:this.api,columnApi:this.columnApi,context:this.context}},i.prototype.addGridCommonParams=function(t){var n=t;return n.api=this.api,n.columnApi=this.columnApi,n.context=this.context,n};var e;return i.alwaysSyncGlobalEvents=new Set([C.EVENT_GRID_PRE_DESTROYED]),i.PROPERTY_COERCIONS=new Map(pA(pA(pA([],GC(Ho.BOOLEAN_PROPERTIES.map(function(t){return[t,e.toBoolean]})),!1),GC(Ho.NUMBER_PROPERTIES.map(function(t){return[t,e.toNumber]})),!1),[["groupAggFiltering",function(t){return typeof t=="function"?t:e.toBoolean(t)}],["pageSize",e.toConstrainedNum(1,Number.MAX_VALUE)],["autoSizePadding",e.toConstrainedNum(0,Number.MAX_VALUE)],["keepDetailRowsCount",e.toConstrainedNum(1,Number.MAX_VALUE)],["rowBuffer",e.toConstrainedNum(0,Number.MAX_VALUE)],["infiniteInitialRowCount",e.toConstrainedNum(1,Number.MAX_VALUE)],["cacheOverflowSize",e.toConstrainedNum(1,Number.MAX_VALUE)],["cacheBlockSize",e.toConstrainedNum(1,Number.MAX_VALUE)],["serverSideInitialRowCount",e.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelPageSize",e.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelBufferSize",e.toConstrainedNum(0,Number.MAX_VALUE)]],!1)),i.changeSetId=0,Lo([y("gridOptions")],i.prototype,"gridOptions",void 0),Lo([y("eventService")],i.prototype,"eventService",void 0),Lo([y("environment")],i.prototype,"environment",void 0),Lo([y("frameworkOverrides")],i.prototype,"frameworkOverrides",void 0),Lo([y("eGridDiv")],i.prototype,"eGridDiv",void 0),Lo([y("validationService")],i.prototype,"validationService",void 0),Lo([y("gridApi")],i.prototype,"api",void 0),Lo([W],i.prototype,"init",null),Lo([oi],i.prototype,"destroy",null),i=e=Lo([ee("gridOptionsService")],i),i}(),fde=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),gde=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},vde=function(i){fde(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getLocaleTextFunc=function(){var t=this.gridOptionsService.getCallback("getLocaleText");if(t)return function(r,o,s){var a={key:r,defaultValue:o,variableValues:s};return t(a)};var n=this.gridOptionsService.get("localeText");return function(r,o,s){var a=n&&n[r];if(a&&s&&s.length)for(var l=0;!(l>=s.length);){var u=a.indexOf("${variable}");if(u===-1)break;a=a.replace("${variable}",s[l++])}return a??o}},e=gde([ee("localeService")],e),e}(j),mde=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),yde=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Cde=function(i){mde(e,i);function e(){return i.call(this,e.TEMPLATE,"vertical")||this}return e.prototype.postConstruct=function(){i.prototype.postConstruct.call(this),this.createManagedBean(new Kj(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this),this.addManagedListener(this.eventService,C.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))},e.prototype.setScrollVisible=function(){var t=this.scrollVisibleService.isVerticalScrollShowing(),n=this.invisibleScrollbar,r=t&&this.gridOptionsService.getScrollbarWidth()||0,o=r===0&&n?16:r;this.addOrRemoveCssClass("ag-scrollbar-invisible",n),Mr(this.getGui(),o),Mr(this.eViewport,o),Mr(this.eContainer,o),this.setDisplayed(t,{skipAriaHidden:!0})},e.prototype.onRowContainerHeightChanged=function(){var t=this.ctrlsService,n=t.getGridBodyCtrl(),r=n.getBodyViewportElement(),o=this.getScrollPosition(),s=r.scrollTop;o!=s&&this.setScrollPosition(s,!0)},e.prototype.getScrollPosition=function(){return this.getViewport().scrollTop},e.prototype.setScrollPosition=function(t,n){!n&&!Ji(this.getViewport())&&this.attemptSettingScrollPosition(t),this.getViewport().scrollTop=t},e.TEMPLATE=`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">
                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>
            </div>
        </div>`,yde([W],e.prototype,"postConstruct",null),e}(eU),_de=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ei=function(){return Ei=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},Ei.apply(this,arguments)},Xl=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ko=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},df=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},lB={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},uB=["january","february","march","april","may","june","july","august","september","october","november","december"],wde=function(i){_de(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.dataTypeDefinitions={},t.isWaitingForRowData=!1,t.isColumnTypeOverrideInDataTypeDefinitions=!1,t.columnStateUpdatesPendingInference={},t.columnStateUpdateListenerDestroyFuncs=[],t}return e.prototype.init=function(){var t=this;this.groupHideOpenParents=this.gridOptionsService.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",function(){t.groupHideOpenParents=t.gridOptionsService.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",function(){t.processDataTypeDefinitions(),t.columnModel.recreateColumnDefs("gridOptionsChanged")})},e.prototype.processDataTypeDefinitions=function(){var t=this,n,r=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(r).forEach(function(s){var a=ko(s,2),l=a[0],u=a[1];t.dataTypeDefinitions[l]=Ei(Ei({},u),{groupSafeValueFormatter:t.createGroupSafeValueFormatter(u)})});var o=(n=this.gridOptionsService.get("dataTypeDefinitions"))!==null&&n!==void 0?n:{};this.dataTypeMatchers={},Object.entries(o).forEach(function(s){var a=ko(s,2),l=a[0],u=a[1],c=t.processDataTypeDefinition(u,o,[l],r);c&&(t.dataTypeDefinitions[l]=c,u.dataTypeMatcher&&(t.dataTypeMatchers[l]=u.dataTypeMatcher))}),this.checkObjectValueHandlers(r),["dateString","text","number","boolean","date"].forEach(function(s){var a=t.dataTypeMatchers[s];a&&delete t.dataTypeMatchers[s],t.dataTypeMatchers[s]=a??r[s].dataTypeMatcher})},e.prototype.mergeDataTypeDefinitions=function(t,n){var r=Ei(Ei({},t),n);return t.columnTypes&&n.columnTypes&&n.appendColumnTypes&&(r.columnTypes=df(df([],ko(this.convertColumnTypes(t.columnTypes)),!1),ko(this.convertColumnTypes(n.columnTypes)),!1)),r},e.prototype.processDataTypeDefinition=function(t,n,r,o){var s,a=t.extendsDataType;if(t.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),t.extendsDataType===t.baseDataType){var l=o[a],u=n[a];if(l&&u&&(l=u),!this.validateDataTypeDefinition(t,l,a))return;s=this.mergeDataTypeDefinitions(l,t)}else{if(r.includes(a)){Se('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}var c=n[a];if(!this.validateDataTypeDefinition(t,c,a))return;var d=this.processDataTypeDefinition(c,n,df(df([],ko(r),!1),[a],!1),o);if(!d)return;s=this.mergeDataTypeDefinitions(d,t)}return Ei(Ei({},s),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(s)})},e.prototype.validateDataTypeDefinition=function(t,n,r){return n?n.baseDataType!==t.baseDataType?(Se('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(Se("The data type definition ".concat(r," does not exist.")),!1)},e.prototype.createGroupSafeValueFormatter=function(t){var n=this;if(t.valueFormatter)return function(r){var o,s;if(!((o=r.node)===null||o===void 0)&&o.group){var a=r.column.getAggFunc();if(a){if(a==="first"||a==="last")return t.valueFormatter(r);if(t.baseDataType==="number"&&a!=="count"){if(typeof r.value=="number")return t.valueFormatter(r);if(typeof r.value=="object"){if(!r.value)return;if("toNumber"in r.value)return t.valueFormatter(Ei(Ei({},r),{value:r.value.toNumber()}));if("value"in r.value)return t.valueFormatter(Ei(Ei({},r),{value:r.value.value}))}}}if(!n.gridOptionsService.get("suppressGroupMaintainValueType"))return}else if(n.groupHideOpenParents&&r.column.isRowGroupActive()){if(typeof r.value!="string"||!((s=t.dataTypeMatcher)===null||s===void 0)&&s.call(t,r.value))return t.valueFormatter(r);if(!n.gridOptionsService.get("suppressGroupMaintainValueType"))return}return t.valueFormatter(r)}},e.prototype.updateColDefAndGetDataTypeDefinitionColumnType=function(t,n,r){var o=n.cellDataType,s=n.field;if(o===void 0&&(o=t.cellDataType),(o==null||o===!0)&&(o=this.canInferCellDataType(t,n)?this.inferCellDataType(s,r):!1),!o){t.cellDataType=!1;return}var a=this.dataTypeDefinitions[o];if(!a){Se('Missing data type definition - "'.concat(o,'"'));return}return t.cellDataType=o,a.groupSafeValueFormatter&&(t.valueFormatter=a.groupSafeValueFormatter),a.valueParser&&(t.valueParser=a.valueParser),a.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(t,a,r),a.columnTypes},e.prototype.updateColDefAndGetColumnType=function(t,n,r){var o,s,a=this.updateColDefAndGetDataTypeDefinitionColumnType(t,n,r),l=(s=(o=n.type)!==null&&o!==void 0?o:a)!==null&&s!==void 0?s:t.type;return t.type=l,l?this.convertColumnTypes(l):void 0},e.prototype.addColumnListeners=function(t){if(this.isWaitingForRowData){var n=this.columnStateUpdatesPendingInference[t.getColId()];if(n){var r=function(o){n.add(o.key)};t.addEventListener(mt.EVENT_STATE_UPDATED,r),this.columnStateUpdateListenerDestroyFuncs.push(function(){return t.removeEventListener(mt.EVENT_STATE_UPDATED,r)})}}},e.prototype.canInferCellDataType=function(t,n){var r=this,o;if(this.rowModel.getType()!=="clientSide")return!1;var s={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(n,s))return!1;var a=n.type===null?t.type:n.type;if(a){var l=(o=this.gridOptionsService.get("columnTypes"))!==null&&o!==void 0?o:{},u=this.convertColumnTypes(a).some(function(c){var d=l[c.trim()];return d&&r.doColDefPropsPreventInference(d,s)});if(u)return!1}return!this.doColDefPropsPreventInference(t,s)},e.prototype.doColDefPropsPreventInference=function(t,n){var r=this;return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(function(o){var s=ko(o,2),a=s[0],l=s[1];return r.doesColDefPropPreventInference(t,n,a,l)})},e.prototype.doesColDefPropPreventInference=function(t,n,r,o){if(!n[r])return!1;var s=t[r];return s===null?(n[r]=!1,!1):o===void 0?!!s:s===o},e.prototype.inferCellDataType=function(t,n){var r;if(t){var o,s=this.getInitialData();if(s){var a=t.indexOf(".")>=0&&!this.gridOptionsService.get("suppressFieldDotNotation");o=ld(s,t,a)}else this.initWaitForRowData(n);if(o!=null){var l=ko((r=Object.entries(this.dataTypeMatchers).find(function(c){var d=ko(c,2);d[0];var h=d[1];return h(o)}))!==null&&r!==void 0?r:["object"],1),u=l[0];return u}}},e.prototype.getInitialData=function(){var t=this.gridOptionsService.get("rowData");if(t?.length)return t[0];if(this.initialData)return this.initialData;var n=this.rowModel.getRootNode().allLeafChildren;return n?.length?n[0].data:null},e.prototype.initWaitForRowData=function(t){var n=this;if(this.columnStateUpdatesPendingInference[t]=new Set,!this.isWaitingForRowData){this.isWaitingForRowData=!0;var r=this.isColumnTypeOverrideInDataTypeDefinitions;r&&this.columnModel.queueResizeOperations();var o=this.addManagedListener(this.eventService,C.EVENT_ROW_DATA_UPDATE_STARTED,function(s){var a=s.firstRowData;if(a){o?.(),n.isWaitingForRowData=!1,n.processColumnsPendingInference(a,r),n.columnStateUpdatesPendingInference={},r&&n.columnModel.processResizeOperations();var l={type:C.EVENT_DATA_TYPES_INFERRED};n.eventService.dispatchEvent(l)}})}},e.prototype.isPendingInference=function(){return this.isWaitingForRowData},e.prototype.processColumnsPendingInference=function(t,n){var r=this;this.initialData=t;var o=[];this.columnStateUpdateListenerDestroyFuncs.forEach(function(l){return l()}),this.columnStateUpdateListenerDestroyFuncs=[];var s={},a={};Object.entries(this.columnStateUpdatesPendingInference).forEach(function(l){var u=ko(l,2),c=u[0],d=u[1],h=r.columnModel.getGridColumn(c);if(h){var p=h.getColDef();if(r.columnModel.resetColumnDefIntoColumn(h,"cellDataTypeInferred")){var f=h.getColDef();if(n&&f.type&&f.type!==p.type){var g=r.getUpdatedColumnState(h,d);g.rowGroup&&g.rowGroupIndex==null&&(s[c]=g),g.pivot&&g.pivotIndex==null&&(a[c]=g),o.push(g)}}}}),n&&o.push.apply(o,df([],ko(this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(s,a)),!1)),o.length&&this.columnModel.applyColumnState({state:o},"cellDataTypeInferred"),this.initialData=null},e.prototype.getUpdatedColumnState=function(t,n){var r=this.columnModel.getColumnStateFromColDef(t);return n.forEach(function(o){delete r[o],o==="rowGroup"?delete r.rowGroupIndex:o==="pivot"&&delete r.pivotIndex}),r},e.prototype.checkObjectValueHandlers=function(t){var n=this.dataTypeDefinitions.object,r=t.object;this.hasObjectValueParser=n.valueParser!==r.valueParser,this.hasObjectValueFormatter=n.valueFormatter!==r.valueFormatter},e.prototype.convertColumnTypes=function(t){var n=[];if(t instanceof Array){var r=t.some(function(o){return typeof o!="string"});r?console.warn("if colDef.type is supplied an array it should be of type 'string[]'"):n=t}else typeof t=="string"?n=t.split(","):console.warn("colDef.type should be of type 'string' | 'string[]'");return n},e.prototype.getDateStringTypeDefinition=function(){return this.dataTypeDefinitions.dateString},e.prototype.getDateParserFunction=function(){return this.getDateStringTypeDefinition().dateParser},e.prototype.getDateFormatterFunction=function(){return this.getDateStringTypeDefinition().dateFormatter},e.prototype.getDataTypeDefinition=function(t){var n=t.getColDef();if(n.cellDataType)return this.dataTypeDefinitions[n.cellDataType]},e.prototype.getBaseDataType=function(t){var n;return(n=this.getDataTypeDefinition(t))===null||n===void 0?void 0:n.baseDataType},e.prototype.checkType=function(t,n){var r;if(n==null)return!0;var o=(r=this.getDataTypeDefinition(t))===null||r===void 0?void 0:r.dataTypeMatcher;return o?o(n):!0},e.prototype.validateColDef=function(t){t.cellDataType==="object"&&(t.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&Se('Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),t.editable&&t.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&Se('Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'))},e.prototype.setColDefPropertiesForBaseDataType=function(t,n,r){var o=this,s=function(d,h,p){var f=d.getColDef().valueFormatter;return f===n.groupSafeValueFormatter&&(f=n.valueFormatter),o.valueFormatterService.formatValue(d,h,p,f)},a=lt.__isRegistered(re.SetFilterModule,this.context.getGridId()),l=this.localeService.getLocaleTextFunc(),u=function(d){var h=t.filterParams;t.filterParams=typeof h=="object"?Ei(Ei({},h),d):d};switch(n.baseDataType){case"number":{t.cellEditor="agNumberCellEditor",a&&u({comparator:function(d,h){var p=d==null?0:parseInt(d),f=h==null?0:parseInt(h);return p===f?0:p>f?1:-1}});break}case"boolean":{t.cellEditor="agCheckboxCellEditor",t.cellRenderer="agCheckboxCellRenderer",t.suppressKeyboardEvent=function(d){return!!d.colDef.editable&&d.event.key===I.SPACE},u(a?{valueFormatter:function(d){return B(d.value)?l(String(d.value),d.value?"True":"False"):l("blanks","(Blanks)")}}:{maxNumConditions:1,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:function(d,h){return h},numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:function(d,h){return h===!1},numberOfInputs:0}]});break}case"date":{t.cellEditor="agDateCellEditor",t.keyCreator=function(d){return s(d.column,d.node,d.value)},a&&u({valueFormatter:function(d){var h=s(d.column,d.node,d.value);return B(h)?h:l("blanks","(Blanks)")},treeList:!0,treeListFormatter:function(d,h){if(h===1&&d!=null){var p=uB[Number(d)-1];return l(p,lB[p])}return d??l("blanks","(Blanks)")}});break}case"dateString":{t.cellEditor="agDateStringCellEditor",t.keyCreator=function(d){return s(d.column,d.node,d.value)};var c=this.getDateParserFunction();u(a?{valueFormatter:function(d){var h=s(d.column,d.node,d.value);return B(h)?h:l("blanks","(Blanks)")},treeList:!0,treeListPathGetter:function(d){var h=c(d??void 0);return h?[String(h.getFullYear()),String(h.getMonth()+1),String(h.getDate())]:null},treeListFormatter:function(d,h){if(h===1&&d!=null){var p=uB[Number(d)-1];return l(p,lB[p])}return d??l("blanks","(Blanks)")}}:{comparator:function(d,h){var p=c(h);return h==null||p<d?-1:p>d?1:0}});break}case"object":{t.cellEditorParams={useFormatter:!0},t.comparator=function(d,h){var p=o.columnModel.getPrimaryColumn(r),f=p?.getColDef();if(!p||!f)return 0;var g=d==null?"":s(p,null,d),v=h==null?"":s(p,null,h);return g===v?0:g>v?1:-1},t.keyCreator=function(d){return s(d.column,d.node,d.value)},a?u({valueFormatter:function(d){var h=s(d.column,d.node,d.value);return B(h)?h:l("blanks","(Blanks)")}}):t.filterValueGetter=function(d){return s(d.column,d.node,o.valueService.getValue(d.column,d.node))};break}}},e.prototype.getDefaultDataTypes=function(){var t=function(r){return!!r.match("^\\d{4}-\\d{2}-\\d{2}$")},n=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:function(r){var o,s;return((s=(o=r.newValue)===null||o===void 0?void 0:o.trim)===null||s===void 0?void 0:s.call(o))===""?null:Number(r.newValue)},valueFormatter:function(r){return r.value==null?"":typeof r.value!="number"||isNaN(r.value)?(console.log("was",typeof r.value,r.value,r),n("invalidNumber","Invalid Number")):String(r.value)},dataTypeMatcher:function(r){return typeof r=="number"}},text:{baseDataType:"text",valueParser:function(r){return r.newValue===""?null:bf(r.newValue)},dataTypeMatcher:function(r){return typeof r=="string"}},boolean:{baseDataType:"boolean",valueParser:function(r){var o,s;return r.newValue==null?r.newValue:((s=(o=r.newValue)===null||o===void 0?void 0:o.trim)===null||s===void 0?void 0:s.call(o))===""?null:String(r.newValue).toLowerCase()==="true"},valueFormatter:function(r){return r.value==null?"":String(r.value)},dataTypeMatcher:function(r){return typeof r=="boolean"}},date:{baseDataType:"date",valueParser:function(r){return Di(r.newValue==null?null:String(r.newValue))},valueFormatter:function(r){var o;return r.value==null?"":!(r.value instanceof Date)||isNaN(r.value.getTime())?n("invalidDate","Invalid Date"):(o=Ir(r.value,!1))!==null&&o!==void 0?o:""},dataTypeMatcher:function(r){return r instanceof Date}},dateString:{baseDataType:"dateString",dateParser:function(r){var o;return(o=Di(r))!==null&&o!==void 0?o:void 0},dateFormatter:function(r){var o;return(o=Ir(r??null,!1))!==null&&o!==void 0?o:void 0},valueParser:function(r){return t(String(r.newValue))?r.newValue:null},valueFormatter:function(r){return t(String(r.value))?r.value:""},dataTypeMatcher:function(r){return typeof r=="string"&&t(r)}},object:{baseDataType:"object",valueParser:function(){return null},valueFormatter:function(r){var o;return(o=bf(r.value))!==null&&o!==void 0?o:""}}}},Xl([y("rowModel")],e.prototype,"rowModel",void 0),Xl([y("columnModel")],e.prototype,"columnModel",void 0),Xl([y("columnUtils")],e.prototype,"columnUtils",void 0),Xl([y("valueService")],e.prototype,"valueService",void 0),Xl([y("valueFormatterService")],e.prototype,"valueFormatterService",void 0),Xl([W],e.prototype,"init",null),e=Xl([ee("dataTypeService")],e),e}(j),Sde=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),cB=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Ede=function(i){Sde(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.parseValue=function(t,n,r,o){var s=t.getColDef(),a=this.gridOptionsService.addGridCommonParams({node:n,data:n?.data,oldValue:o,newValue:r,colDef:s,column:t}),l=s.valueParser;return B(l)?typeof l=="function"?l(a):this.expressionService.evaluate(l,a):r},cB([y("expressionService")],e.prototype,"expressionService",void 0),e=cB([ee("valueParserService")],e),e}(j),bde=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),hf=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Dde=function(i){bde(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.waitingForColumns=!1,t}return e.prototype.postConstruct=function(){var t=this;this.addManagedPropertyListener("columnDefs",function(n){return t.setColumnDefs(n)})},e.prototype.start=function(){var t=this;this.ctrlsService.whenReady(function(){var n=t.gridOptionsService.get("columnDefs");n?t.setColumnsAndData(n):t.waitingForColumns=!0,t.gridReady()})},e.prototype.setColumnsAndData=function(t){this.columnModel.setColumnDefs(t??[],"gridInitializing"),this.rowModel.start()},e.prototype.gridReady=function(){var t=this;this.dispatchGridReadyEvent();var n=lt.__isRegistered(re.EnterpriseCoreModule,this.context.getGridId()),r=new OO("AG Grid",function(){return t.gridOptionsService.get("debug")});r.log("initialised successfully, enterprise = ".concat(n))},e.prototype.dispatchGridReadyEvent=function(){var t={type:C.EVENT_GRID_READY};this.eventService.dispatchEvent(t)},e.prototype.setColumnDefs=function(t){var n,r=this.gridOptionsService.get("columnDefs");if(r){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(r);return}var o=(n=t.source)!==null&&n!==void 0?n:"api";this.columnModel.setColumnDefs(r,o)}},hf([y("ctrlsService")],e.prototype,"ctrlsService",void 0),hf([y("columnModel")],e.prototype,"columnModel",void 0),hf([y("rowModel")],e.prototype,"rowModel",void 0),hf([W],e.prototype,"postConstruct",null),e=hf([ee("syncService")],e),e}(j),Rde=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),VA=function(){return VA=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},VA.apply(this,arguments)},pf=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Tde=function(i){Rde(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.manuallyDisplayed=!1,t}return e.prototype.postConstruct=function(){var t=this;this.addManagedListener(this.eventService,C.EVENT_ROW_DATA_UPDATED,function(){return t.onRowDataUpdated()}),this.addManagedListener(this.eventService,C.EVENT_NEW_COLUMNS_LOADED,function(){return t.onNewColumnsLoaded()})},e.prototype.registerOverlayWrapperComp=function(t){this.overlayWrapperComp=t,(!this.gridOptionsService.get("columnDefs")||this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData"))&&this.showLoadingOverlay()},e.prototype.showLoadingOverlay=function(){if(!this.gridOptionsService.get("suppressLoadingOverlay")){var t={},n=this.userComponentFactory.getLoadingOverlayCompDetails(t);this.showOverlay(n,"ag-overlay-loading-wrapper","loadingOverlayComponentParams")}},e.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsService.get("suppressNoRowsOverlay")){var t={},n=this.userComponentFactory.getNoRowsOverlayCompDetails(t);this.showOverlay(n,"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams")}},e.prototype.showOverlay=function(t,n,r){var o=this,s=t.newAgStackInstance(),a=this.addManagedPropertyListener(r,function(l){var u=l.currentValue;s.then(function(c){c.refresh&&c.refresh(o.gridOptionsService.addGridCommonParams(VA({},u??{})))})});this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.overlayWrapperComp.showOverlay(s,n,a)},e.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.overlayWrapperComp.hideOverlay()},e.prototype.showOrHideOverlay=function(){var t=this.paginationProxy.isEmpty(),n=this.gridOptionsService.get("suppressNoRowsOverlay");t&&!n?this.showNoRowsOverlay():this.hideOverlay()},e.prototype.onRowDataUpdated=function(){this.showOrHideOverlay()},e.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()},pf([y("userComponentFactory")],e.prototype,"userComponentFactory",void 0),pf([y("paginationProxy")],e.prototype,"paginationProxy",void 0),pf([y("columnModel")],e.prototype,"columnModel",void 0),pf([W],e.prototype,"postConstruct",null),e=pf([ee("overlayService")],e),e}(j),Ade=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ma=function(){return Ma=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},Ma.apply(this,arguments)},Dr=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Ode=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ide=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Mde=function(i){Ade(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.suppressEvents=!0,t.queuedUpdateSources=new Set,t.dispatchStateUpdateEventDebounced=Ar(function(){return t.dispatchQueuedStateUpdateEvents()},0),t}return e.prototype.postConstruct=function(){var t=this,n;this.isClientSideRowModel=this.rowModel.getType()==="clientSide",this.cachedState=(n=this.gridOptionsService.get("initialState"))!==null&&n!==void 0?n:{},this.ctrlsService.whenReady(function(){return t.suppressEventsAndDispatchInitEvent(function(){return t.setupStateOnGridReady()})});var r=this.addManagedListener(this.eventService,C.EVENT_NEW_COLUMNS_LOADED,function(a){var l=a.source;l==="gridInitializing"&&(r?.(),t.suppressEventsAndDispatchInitEvent(function(){return t.setupStateOnColumnsInitialised()}))}),o=this.addManagedListener(this.eventService,C.EVENT_ROW_COUNT_READY,function(){o?.(),t.suppressEventsAndDispatchInitEvent(function(){return t.setupStateOnRowCountReady()})}),s=this.addManagedListener(this.eventService,C.EVENT_FIRST_DATA_RENDERED,function(){s?.(),t.suppressEventsAndDispatchInitEvent(function(){return t.setupStateOnFirstDataRendered()})})},e.prototype.getState=function(){return this.cachedState},e.prototype.setupStateOnGridReady=function(){var t=this;this.updateCachedState("sideBar",this.getSideBarState()),this.addManagedListener(this.eventService,C.EVENT_TOOL_PANEL_VISIBLE_CHANGED,function(){return t.updateCachedState("sideBar",t.getSideBarState())}),this.addManagedListener(this.eventService,C.EVENT_SIDE_BAR_UPDATED,function(){return t.updateCachedState("sideBar",t.getSideBarState())})},e.prototype.setupStateOnColumnsInitialised=function(){var t=this,n,r=(n=this.gridOptionsService.get("initialState"))!==null&&n!==void 0?n:{},o=r.columnGroup;this.setColumnState(r),o&&this.setColumnGroupState(o),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState()),this.addManagedListener(this.eventService,C.EVENT_COLUMN_VALUE_CHANGED,function(){return t.updateColumnState(["aggregation"])}),this.addManagedListener(this.eventService,C.EVENT_COLUMN_MOVED,function(){return t.updateColumnState(["columnOrder"])}),this.addManagedListener(this.eventService,C.EVENT_COLUMN_PINNED,function(){return t.updateColumnState(["columnPinning"])}),this.addManagedListener(this.eventService,C.EVENT_COLUMN_RESIZED,function(){return t.updateColumnState(["columnSizing"])}),this.addManagedListener(this.eventService,C.EVENT_COLUMN_VISIBLE,function(){return t.updateColumnState(["columnVisibility"])}),this.addManagedListener(this.eventService,C.EVENT_COLUMN_PIVOT_CHANGED,function(){return t.updateColumnState(["pivot"])}),this.addManagedListener(this.eventService,C.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return t.updateColumnState(["pivot"])}),this.addManagedListener(this.eventService,C.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return t.updateColumnState(["rowGroup"])}),this.addManagedListener(this.eventService,C.EVENT_SORT_CHANGED,function(){return t.updateColumnState(["sort"])}),this.addManagedListener(this.eventService,C.EVENT_NEW_COLUMNS_LOADED,function(){return t.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"])}),this.addManagedListener(this.eventService,C.EVENT_COLUMN_GROUP_OPENED,function(){return t.updateCachedState("columnGroup",t.getColumnGroupState())})},e.prototype.setupStateOnRowCountReady=function(){var t=this,n,r=(n=this.gridOptionsService.get("initialState"))!==null&&n!==void 0?n:{},o=r.filter,s=r.rowGroupExpansion,a=r.rowSelection,l=r.pagination,u=this.gridOptionsService.get("advancedFilterModel");(o||u)&&this.setFilterState(o,u),s&&this.setRowGroupExpansionState(s),a&&this.setRowSelectionState(a),l&&this.setPaginationState(l),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState()),this.addManagedListener(this.eventService,C.EVENT_FILTER_CHANGED,function(){return t.updateCachedState("filter",t.getFilterState())}),this.addManagedListener(this.eventService,C.EVENT_ROW_GROUP_OPENED,function(){return t.updateCachedState("rowGroupExpansion",t.getRowGroupExpansionState())}),this.addManagedListener(this.eventService,C.EVENT_EXPAND_COLLAPSE_ALL,function(){return t.updateCachedState("rowGroupExpansion",t.getRowGroupExpansionState())}),this.addManagedListener(this.eventService,C.EVENT_SELECTION_CHANGED,function(){return t.updateCachedState("rowSelection",t.getRowSelectionState())}),this.addManagedListener(this.eventService,C.EVENT_PAGINATION_CHANGED,function(c){(c.newPage||c.newPageSize)&&t.updateCachedState("pagination",t.getPaginationState())})},e.prototype.setupStateOnFirstDataRendered=function(){var t=this,n,r=(n=this.gridOptionsService.get("initialState"))!==null&&n!==void 0?n:{},o=r.scroll,s=r.rangeSelection,a=r.focusedCell,l=r.columnOrder;a&&this.setFocusedCellState(a),s&&this.setRangeSelectionState(s),o&&this.setScrollState(o),this.setColumnPivotState(!!l?.orderedColIds),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState()),this.updateCachedState("rangeSelection",this.getRangeSelectionState()),this.updateCachedState("scroll",this.getScrollState()),this.addManagedListener(this.eventService,C.EVENT_CELL_FOCUSED,function(){return t.updateCachedState("focusedCell",t.getFocusedCellState())}),this.addManagedListener(this.eventService,C.EVENT_RANGE_SELECTION_CHANGED,function(u){u.finished&&t.updateCachedState("rangeSelection",t.getRangeSelectionState())}),this.addManagedListener(this.eventService,C.EVENT_BODY_SCROLL_END,function(){return t.updateCachedState("scroll",t.getScrollState())})},e.prototype.getColumnState=function(){for(var t=this.columnModel.isPivotMode(),n=[],r=[],o=[],s=[],a=[],l=[],u=[],c=[],d=[],h=this.columnModel.getColumnState(),p=0;p<h.length;p++){var f=h[p],g=f.colId,v=f.sort,m=f.sortIndex,_=f.rowGroup,w=f.rowGroupIndex,S=f.aggFunc,R=f.pivot,T=f.pivotIndex,x=f.pinned,A=f.hide,U=f.width,q=f.flex;d.push(g),v&&(n[m??0]={colId:g,sort:v}),_&&(r[w??0]=g),typeof S=="string"&&o.push({colId:g,aggFunc:S}),R&&(s[T??0]=g),x&&(x==="right"?l:a).push(g),A&&u.push(g),(q||U)&&c.push({colId:g,flex:q??void 0,width:U})}return{sort:n.length?{sortModel:n}:void 0,rowGroup:r.length?{groupColIds:r}:void 0,aggregation:o.length?{aggregationModel:o}:void 0,pivot:s.length||t?{pivotMode:t,pivotColIds:s}:void 0,columnPinning:a.length||l.length?{leftColIds:a,rightColIds:l}:void 0,columnVisibility:u.length?{hiddenColIds:u}:void 0,columnSizing:c.length?{columnSizingModel:c}:void 0,columnOrder:d.length?{orderedColIds:d}:void 0}},e.prototype.setColumnState=function(t){var n=t.sort,r=t.rowGroup,o=t.aggregation,s=t.pivot,a=t.columnPinning,l=t.columnVisibility,u=t.columnSizing,c=t.columnOrder,d={},h=function(m){var _=d[m];return _||(_={colId:m},d[m]=_,_)};n&&n.sortModel.forEach(function(m,_){var w=m.colId,S=m.sort,R=h(w);R.sort=S,R.sortIndex=_}),r&&r.groupColIds.forEach(function(m,_){var w=h(m);w.rowGroup=!0,w.rowGroupIndex=_}),o&&o.aggregationModel.forEach(function(m){var _=m.colId,w=m.aggFunc;h(_).aggFunc=w}),s&&(s.pivotColIds.forEach(function(m,_){var w=h(m);w.pivot=!0,w.pivotIndex=_}),this.gridOptionsService.updateGridOptions({options:{pivotMode:s.pivotMode},source:"gridInitializing"})),a&&(a.leftColIds.forEach(function(m){h(m).pinned="left"}),a.rightColIds.forEach(function(m){h(m).pinned="right"})),l&&l.hiddenColIds.forEach(function(m){h(m).hide=!0}),u&&u.columnSizingModel.forEach(function(m){var _=m.colId,w=m.flex,S=m.width,R=h(_);R.flex=w??null,R.width=S});var p=c?.orderedColIds,f=!!p?.length,g=f?p.map(function(m){return h(m)}):Object.values(d);if(g.length){this.columnStates=g;var v={sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};this.columnModel.applyColumnState({state:g,applyOrder:f,defaultState:v},"gridInitializing")}},e.prototype.setColumnPivotState=function(t){var n,r,o=this.columnStates;if(this.columnStates=void 0,!(!o||!this.columnModel.isSecondaryColumnsPresent())){var s=[];try{for(var a=Ode(o),l=a.next();!l.done;l=a.next()){var u=l.value;this.columnModel.getSecondaryColumn(u.colId)&&s.push(u)}}catch(c){n={error:c}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}this.columnModel.applyColumnState({state:s,applyOrder:t},"gridInitializing")}},e.prototype.getColumnGroupState=function(){var t=this.columnModel.getColumnGroupState(),n=[];return t.forEach(function(r){var o=r.groupId,s=r.open;s&&n.push(o)}),n.length?{openColumnGroupIds:n}:void 0},e.prototype.setColumnGroupState=function(t){var n=t.openColumnGroupIds,r=new Set(n),o=this.columnModel.getColumnGroupState(),s=o.map(function(a){var l=a.groupId;return{groupId:l,open:r.has(l)}});this.columnModel.setColumnGroupState(s,"gridInitializing")},e.prototype.getFilterState=function(){var t,n=this.filterManager.getFilterModel();n&&Object.keys(n).length===0&&(n=void 0);var r=(t=this.filterManager.getAdvancedFilterModel())!==null&&t!==void 0?t:void 0;return n||r?{filterModel:n,advancedFilterModel:r}:void 0},e.prototype.setFilterState=function(t,n){var r=t??{advancedFilterModel:n},o=r.filterModel,s=r.advancedFilterModel;o&&this.filterManager.setFilterModel(o,"columnFilter"),s&&this.filterManager.setAdvancedFilterModel(s)},e.prototype.getRangeSelectionState=function(){var t,n=(t=this.rangeService)===null||t===void 0?void 0:t.getCellRanges().map(function(r){var o=r.id,s=r.type,a=r.startRow,l=r.endRow,u=r.columns,c=r.startColumn;return{id:o,type:s,startRow:a,endRow:l,colIds:u.map(function(d){return d.getColId()}),startColId:c.getColId()}});return n?.length?{cellRanges:n}:void 0},e.prototype.setRangeSelectionState=function(t){var n=this,r;if(this.gridOptionsService.get("enableRangeSelection")){var o=t.cellRanges.map(function(s){return Ma(Ma({},s),{columns:s.colIds.map(function(a){return n.columnModel.getGridColumn(a)}),startColumn:n.columnModel.getGridColumn(s.startColId)})});(r=this.rangeService)===null||r===void 0||r.setCellRanges(o)}},e.prototype.getScrollState=function(){var t,n,r;if(this.isClientSideRowModel){var o=(t=this.ctrlsService.getGridBodyCtrl())===null||t===void 0?void 0:t.getScrollFeature(),s=((n=o?.getHScrollPosition())!==null&&n!==void 0?n:{left:0}).left,a=((r=o?.getVScrollPosition())!==null&&r!==void 0?r:{top:0}).top;return a||s?{top:a,left:s}:void 0}},e.prototype.setScrollState=function(t){var n;if(this.isClientSideRowModel){var r=t.top,o=t.left;(n=this.ctrlsService.getGridBodyCtrl())===null||n===void 0||n.getScrollFeature().setScrollPosition(r,o)}},e.prototype.getSideBarState=function(){var t,n;return(n=(t=this.sideBarService)===null||t===void 0?void 0:t.getSideBarComp())===null||n===void 0?void 0:n.getState()},e.prototype.getFocusedCellState=function(){if(this.isClientSideRowModel){var t=this.focusService.getFocusedCell();if(t){var n=t.column,r=t.rowIndex,o=t.rowPinned;return{colId:n.getColId(),rowIndex:r,rowPinned:o}}}},e.prototype.setFocusedCellState=function(t){if(this.isClientSideRowModel){var n=t.colId,r=t.rowIndex,o=t.rowPinned;this.focusService.setFocusedCell({column:this.columnModel.getGridColumn(n),rowIndex:r,rowPinned:o,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}},e.prototype.getPaginationState=function(){var t=this.paginationProxy.getCurrentPage(),n=this.gridOptionsService.get("paginationAutoPageSize")?void 0:this.paginationProxy.getPageSize();if(!(!t&&!n))return{page:t,pageSize:n}},e.prototype.setPaginationState=function(t){t.pageSize&&!this.gridOptionsService.get("paginationAutoPageSize")&&this.paginationProxy.setPageSize(t.pageSize,"initialState"),typeof t.page=="number"&&this.paginationProxy.setPage(t.page)},e.prototype.getRowSelectionState=function(){var t,n=this.selectionService.getSelectionState(),r=!n||!Array.isArray(n)&&(n.selectAll===!1||n.selectAllChildren===!1)&&!(!((t=n?.toggledNodes)===null||t===void 0)&&t.length);return r?void 0:n},e.prototype.setRowSelectionState=function(t){this.selectionService.setSelectionState(t,"gridInitializing")},e.prototype.getRowGroupExpansionState=function(){var t=this.expansionService.getExpandedRows();return t.length?{expandedRowGroupIds:t}:void 0},e.prototype.setRowGroupExpansionState=function(t){this.expansionService.expandRows(t.expandedRowGroupIds)},e.prototype.updateColumnState=function(t){var n=this,r=this.getColumnState(),o=!1;Object.entries(r).forEach(function(s){var a=Ide(s,2),l=a[0],u=a[1];CA(u,n.cachedState[l])||(o=!0)}),this.cachedState=Ma(Ma({},this.cachedState),r),o&&this.dispatchStateUpdateEvent(t)},e.prototype.updateCachedState=function(t,n){var r,o=this.cachedState[t];this.cachedState=Ma(Ma({},this.cachedState),(r={},r[t]=n,r)),CA(n,o)||this.dispatchStateUpdateEvent([t])},e.prototype.dispatchStateUpdateEvent=function(t){var n=this;this.suppressEvents||(t.forEach(function(r){return n.queuedUpdateSources.add(r)}),this.dispatchStateUpdateEventDebounced())},e.prototype.dispatchQueuedStateUpdateEvents=function(){var t=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear();var n={type:C.EVENT_STATE_UPDATED,sources:t,state:this.cachedState};this.eventService.dispatchEvent(n)},e.prototype.suppressEventsAndDispatchInitEvent=function(t){var n=this;this.suppressEvents=!0,t(),setTimeout(function(){n.suppressEvents=!1,n.queuedUpdateSources.clear(),n.dispatchStateUpdateEvent(["gridInitializing"])})},Dr([y("filterManager")],e.prototype,"filterManager",void 0),Dr([$e("rangeService")],e.prototype,"rangeService",void 0),Dr([y("ctrlsService")],e.prototype,"ctrlsService",void 0),Dr([$e("sideBarService")],e.prototype,"sideBarService",void 0),Dr([y("focusService")],e.prototype,"focusService",void 0),Dr([y("columnModel")],e.prototype,"columnModel",void 0),Dr([y("paginationProxy")],e.prototype,"paginationProxy",void 0),Dr([y("rowModel")],e.prototype,"rowModel",void 0),Dr([y("selectionService")],e.prototype,"selectionService",void 0),Dr([y("expansionService")],e.prototype,"expansionService",void 0),Dr([W],e.prototype,"postConstruct",null),e=Dr([ee("stateService")],e),e}(j),xde=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fA=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Jl=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},ff=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},Pde=function(i){xde(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(){this.processGridOptions(this.gridOptions)},e.prototype.processGridOptions=function(t){this.processOptions(t,pde)},e.prototype.processColumnDefs=function(t){this.processOptions(t,ad)},e.prototype.processOptions=function(t,n){var r=this,o=n.validations,s=n.deprecations,a=n.allProperties,l=n.propertyExceptions,u=n.objectName,c=n.docsUrl;a&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(t,ff(ff([],Jl(l??[]),!1),Jl(Object.keys(s)),!1),a,u,c);var d=new Set,h=Object.keys(t);h.forEach(function(p){var f,g=s[p];if(g)if("renamed"in g){var v=g.renamed,m=g.version;d.add("As of v".concat(m,", ").concat(String(p)," is deprecated. Please use ").concat(String(v)," instead.")),t[v]=t[p]}else{var _=g.message,m=g.version;d.add("As of v".concat(m,", ").concat(String(p)," is deprecated. ").concat(_??""))}var w=t[p];if(!(w==null||w===!1)){var S=o[p],R;if(S)if(typeof S=="function"){var T=S(t,r.gridOptions);if(!T)return;if("objectName"in T){var x=t[p];if(Array.isArray(x)){x.forEach(function(je){r.processOptions(je,T)});return}r.processOptions(t[p],T);return}R=T}else R=S;else return;var A=R.module,U=R.dependencies,q=R.supportedRowModels;if(q){var $=(f=r.gridOptions.rowModelType)!==null&&f!==void 0?f:"clientSide";if(!q.includes($)){d.add("".concat(String(p)," is not supported with the '").concat($,"' row model."));return}}if(A){var oe=Array.isArray(A)?A:[A],Ae=!0;if(oe.forEach(function(je){lt.__assertRegistered(je,String(p),r.gridOptionsService.getGridId())||(Ae=!1,d.add("".concat(String(p)," is only available when ").concat(je," is loaded.")))}),!Ae)return}if(U){var tt=r.checkForWarning(p,U,t);if(tt){d.add(tt);return}}}}),d.size>0&&d.forEach(function(p){Se(p)})},e.prototype.checkForWarning=function(t,n,r){if(typeof n=="function")return n(r,this.gridOptions);var o=Object.entries(n),s=o.find(function(c){var d=Jl(c,2),h=d[0],p=d[1],f=r[h];return!p.includes(f)});if(!s)return null;var a=Jl(s,2),l=a[0],u=a[1];return u.length>1?"'".concat(String(t),"' requires '").concat(l,"' to be one of [").concat(u.join(", "),"]."):"'".concat(String(t),"' requires '").concat(l,"' to be ").concat(u[0],".")},e.prototype.checkProperties=function(t,n,r,o,s){var a=["__ob__","__v_skip","__metadata__"],l=fj(Object.getOwnPropertyNames(t),ff(ff(ff([],Jl(a),!1),Jl(n),!1),Jl(r),!1),r);if(zn(l,function(c,d){Se("invalid ".concat(o," property '").concat(c,"' did you mean any of these: ").concat(d.slice(0,8).join(", ")))}),Object.keys(l).length>0&&s){var u=this.getFrameworkOverrides().getDocLink(s);Se("to see all the valid ".concat(o," properties please check: ").concat(u))}},fA([y("gridOptions")],e.prototype,"gridOptions",void 0),fA([W],e.prototype,"init",null),e=fA([ee("validationService")],e),e}(j),Fde=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),dB=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Nde=function(i){Fde(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.syncEventListeners=new Map,t.asyncEventListeners=new Map,t.syncGlobalEventListeners=new Set,t.asyncGlobalEventListeners=new Set,t}return e.prototype.postConstruct=function(){this.frameworkEventWrappingService=new BA(this.getFrameworkOverrides())},e.prototype.addEventListener=function(t,n){var r=this.frameworkEventWrappingService.wrap(n),o=this.gridOptionsService.useAsyncEvents(),s=o?this.asyncEventListeners:this.syncEventListeners;s.has(t)||s.set(t,new Set),s.get(t).add(r),this.eventService.addEventListener(t,r,o)},e.prototype.addGlobalListener=function(t){var n=this.frameworkEventWrappingService.wrapGlobal(t),r=this.gridOptionsService.useAsyncEvents(),o=r?this.asyncGlobalEventListeners:this.syncGlobalEventListeners;o.add(n),this.eventService.addGlobalListener(n,r)},e.prototype.removeEventListener=function(t,n){var r,o=this.frameworkEventWrappingService.unwrap(n),s=this.asyncEventListeners.get(t),a=!!s?.delete(o);a||(r=this.asyncEventListeners.get(t))===null||r===void 0||r.delete(o),this.eventService.removeEventListener(t,o,a)},e.prototype.removeGlobalListener=function(t){var n=this.frameworkEventWrappingService.unwrapGlobal(t),r=this.asyncGlobalEventListeners.delete(n);r||this.syncGlobalEventListeners.delete(n),this.eventService.removeGlobalListener(n,r)},e.prototype.destroyEventListeners=function(t,n){var r=this;t.forEach(function(o,s){o.forEach(function(a){return r.eventService.removeEventListener(s,a,n)}),o.clear()}),t.clear()},e.prototype.destroyGlobalListeners=function(t,n){var r=this;t.forEach(function(o){return r.eventService.removeGlobalListener(o,n)}),t.clear()},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.destroyGlobalListeners(this.asyncGlobalEventListeners,!0)},dB([W],e.prototype,"postConstruct",null),e=dB([ee("apiEventService")],e),e}(j),Lde=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),HC=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},kde=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Vde=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},Gde=function(i){Lde(e,i);function e(){var t=i.call(this,'<span class="ag-paging-page-size"></span>')||this;return t.hasEmptyOption=!1,t.handlePageSizeItemSelected=function(){if(t.selectPageSizeComp){var n=t.selectPageSizeComp.getValue();if(n){var r=Number(n);isNaN(r)||r<1||r===t.paginationProxy.getPageSize()||(t.paginationProxy.setPageSize(r,"pageSizeSelector"),t.hasEmptyOption&&t.toggleSelectDisplay(!0),t.selectPageSizeComp.getFocusableElement().focus())}}},t}return e.prototype.init=function(){var t=this;this.addManagedPropertyListener("paginationPageSizeSelector",function(){t.onPageSizeSelectorValuesChange()}),this.addManagedListener(this.eventService,C.EVENT_PAGINATION_CHANGED,function(n){return t.handlePaginationChanged(n)})},e.prototype.handlePaginationChanged=function(t){if(!(!this.selectPageSizeComp||!t?.newPageSize)){var n=this.paginationProxy.getPageSize();this.getPageSizeSelectorValues().includes(n)?this.selectPageSizeComp.setValue(n.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}},e.prototype.toggleSelectDisplay=function(t){this.selectPageSizeComp&&this.reset(),t&&(this.reloadPageSizesSelector(),this.selectPageSizeComp&&this.appendChild(this.selectPageSizeComp))},e.prototype.reset=function(){Rn(this.getGui()),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0)},e.prototype.onPageSizeSelectorValuesChange=function(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()},e.prototype.shouldShowPageSizeSelector=function(){return this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel")&&!this.gridOptionsService.get("paginationAutoPageSize")&&this.gridOptionsService.get("paginationPageSizeSelector")!==!1},e.prototype.reloadPageSizesSelector=function(){var t=this,n=this.getPageSizeSelectorValues(),r=this.paginationProxy.getPageSize(),o=!r||!n.includes(r);o&&(n.unshift(""),Se(`The paginationPageSize grid option is set to a value that is not in the list of page size options.
                Please make sure that the paginationPageSize grid option is set to one of the values in the 
                paginationPageSizeSelector array, or set the paginationPageSizeSelector to false to hide the page size selector.`)),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0);var s=this.localeService.getLocaleTextFunc(),a=s("pageSizeSelectorLabel","Page Size:"),l=n.map(function(c){return{value:String(c),text:String(c)}}),u=s("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new y_).addOptions(l).setValue(String(o?"":r)).setAriaLabel(u).setLabel(a).onValueChange(function(){return t.handlePageSizeItemSelected()}),this.hasEmptyOption=o},e.prototype.getPageSizeSelectorValues=function(){var t=[20,50,100],n=this.gridOptionsService.get("paginationPageSizeSelector");return!Array.isArray(n)||!this.validateValues(n)?t:Vde([],kde(n),!1).sort(function(r,o){return r-o})},e.prototype.validateValues=function(t){if(!t.length)return Se(`The paginationPageSizeSelector grid option is an empty array. This is most likely a mistake.
                If you want to hide the page size selector, please set the paginationPageSizeSelector to false.`),!1;for(var n=0;n<t.length;n++){var r=t[n],o=typeof r=="number",s=r>0;if(!o)return Se(`The paginationPageSizeSelector grid option contains a non-numeric value.
                    Please make sure that all values in the paginationPageSizeSelector array are numbers.`),!1;if(!s)return Se(`The paginationPageSizeSelector grid option contains a negative number or zero.
                    Please make sure that all values in the paginationPageSizeSelector array are positive.`),!1}return!0},e.prototype.destroy=function(){this.toggleSelectDisplay(!1),i.prototype.destroy.call(this)},HC([y("localeService")],e.prototype,"localeService",void 0),HC([y("gridOptionsService")],e.prototype,"gridOptionsService",void 0),HC([y("paginationProxy")],e.prototype,"paginationProxy",void 0),HC([W],e.prototype,"init",null),e}(be),hB=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},pB=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))};function nU(i,e,t){if(!e)return Qr("No gridOptions provided to createGrid"),{};var n=tU.getCoercedGridOptions(e),r=new iU().create(i,n,function(s){var a=new Jj(i);s.createBean(a)},void 0,t);if(!Object.isFrozen(e)&&!t?.frameworkOverrides){var o="https://ag-grid.com/javascript-data-grid/grid-interface/#grid-api";Object.defineProperty(e,"api",{get:function(){Qr("gridOptions.api is no longer supported. See ".concat(o,"."))},configurable:!0}),Object.defineProperty(e,"columnApi",{get:function(){Qr("gridOptions.columnApi is no longer supported and all methods moved to the grid api. See ".concat(o,"."))},configurable:!0})}return r}var oMe=function(){function i(e,t,n){var r=this;if(Se("Since v31 new Grid(...) is deprecated. Use createGrid instead: `const gridApi = createGrid(...)`. The grid api is returned from createGrid and will not be available on gridOptions."),!t){Qr("No gridOptions provided to the grid");return}this.gridOptions=t;var o=new iU().create(e,t,function(s){var a=new Jj(e),l=s.createBean(a);l.addDestroyFunc(function(){r.destroy()})},void 0,n);this.gridOptions.api=o,this.gridOptions.columnApi=new Vf(o)}return i.prototype.destroy=function(){var e;this.gridOptions&&((e=this.gridOptions.api)===null||e===void 0||e.destroy(),delete this.gridOptions.api,delete this.gridOptions.columnApi)},i}(),Hde=1,iU=function(){function i(){}return i.prototype.create=function(e,t,n,r,o){var s,a=!!t.debug,l=(s=t.gridId)!==null&&s!==void 0?s:String(Hde++),u=this.getRegisteredModules(o,l),c=this.createBeansList(t.rowModelType,u,l),d=this.createProvidedBeans(e,t,o);if(!c){Qr("Failed to create grid.");return}var h={providedBeanInstances:d,beanClasses:c,debug:a,gridId:l},p=new OO("Context",function(){return h.debug}),f=new $te(h,p),g=f.getBean("beans");return this.registerModuleUserComponents(g,u),this.registerStackComponents(g,u),this.registerControllers(g,u),n(f),g.syncService.start(),r&&r(f),g.gridApi},i.prototype.registerControllers=function(e,t){t.forEach(function(n){n.controllers&&n.controllers.forEach(function(r){return e.ctrlsFactory.register(r)})})},i.prototype.registerStackComponents=function(e,t){var n=this.createAgStackComponentsList(t);e.agStackComponentsRegistry.setupComponents(n)},i.prototype.getRegisteredModules=function(e,t){var n=e?e.modules:null,r=lt.__getRegisteredModules(t),o=[],s={},a=function(l,u,c){var d=function(h){s[h.moduleName]||(s[h.moduleName]=!0,o.push(h),lt.__register(h,l,c))};d(u),u.dependantModules&&u.dependantModules.forEach(function(h){return a(l,h,c)})};return n&&n.forEach(function(l){return a(!0,l,t)}),r&&r.forEach(function(l){return a(!lt.__isPackageBased(),l,void 0)}),o},i.prototype.registerModuleUserComponents=function(e,t){var n=this.extractModuleEntity(t,function(r){return r.userComponents?r.userComponents:[]});n.forEach(function(r){e.userComponentRegistry.registerDefaultComponent(r.componentName,r.componentClass)})},i.prototype.createProvidedBeans=function(e,t,n){var r=n?n.frameworkOverrides:null;ue(r)&&(r=new AO);var o={gridOptions:t,eGridDiv:e,globalEventListener:n?n.globalEventListener:null,globalSyncEventListener:n?n.globalSyncEventListener:null,frameworkOverrides:r};return n&&n.providedBeanInstances&&Object.assign(o,n.providedBeanInstances),o},i.prototype.createAgStackComponentsList=function(e){var t=[{componentName:"AgCheckbox",componentClass:C_},{componentName:"AgRadioButton",componentClass:Tj},{componentName:"AgToggleButton",componentClass:jle},{componentName:"AgInputTextField",componentClass:hu},{componentName:"AgInputTextArea",componentClass:Wle},{componentName:"AgInputNumberField",componentClass:CO},{componentName:"AgInputDateField",componentClass:$le},{componentName:"AgInputRange",componentClass:Kle},{componentName:"AgRichSelect",componentClass:eue},{componentName:"AgSelect",componentClass:y_},{componentName:"AgSlider",componentClass:nue},{componentName:"AgGridBody",componentClass:Wse},{componentName:"AgHeaderRoot",componentClass:Jae},{componentName:"AgSortIndicator",componentClass:wO},{componentName:"AgPagination",componentClass:Oce},{componentName:"AgPageSizeSelector",componentClass:Gde},{componentName:"AgOverlayWrapper",componentClass:Mce},{componentName:"AgGroupComponent",componentClass:rue},{componentName:"AgPanel",componentClass:Zj},{componentName:"AgDialog",componentClass:fue},{componentName:"AgRowContainer",componentClass:sae},{componentName:"AgFakeHorizontalScroll",componentClass:ide},{componentName:"AgFakeVerticalScroll",componentClass:Cde},{componentName:"AgAutocomplete",componentClass:Eue}],n=this.extractModuleEntity(e,function(r){return r.agStackComponents?r.agStackComponents:[]});return t=t.concat(n),t},i.prototype.createBeansList=function(e,t,n){e===void 0&&(e="clientSide");var r=t.filter(function(u){return!u.rowModel||u.rowModel===e}),o={clientSide:re.ClientSideRowModelModule,infinite:re.InfiniteRowModelModule,serverSide:re.ServerSideRowModelModule,viewport:re.ViewportRowModelModule};if(!o[e]){Qr("Could not find row model for rowModelType = "+e);return}if(lt.__assertRegistered(o[e],"rowModelType = '".concat(e,"'"),n)){var s=[qj,Pce,Lce,Uce,oce,Wj,eoe,hce,fce,ple,moe,Dce,tle,vde,Pde,xle,_oe,One,ka,tU,mue,Xj,boe,Ene,Kae,Vle,Tle,Gue,lne,jue,Mue,Qse,ace,Lue,zue,Rne,Cle,ile,hn,Vf,Xue,Kse,Sce,Aue,Ile,Hle,$se,Que,tce,ice,Tce,dne,cce,gle,Bce,Pne,zce,$ce,Lle,Kce,Zce,ode,ade,ede,wde,Ede,zj,Dde,Tde,Mde,mle,Nde],a=this.extractModuleEntity(r,function(u){return u.beans?u.beans:[]});s.push.apply(s,pB([],hB(a),!1));var l=[];return s.forEach(function(u){l.indexOf(u)<0&&l.push(u)}),l}},i.prototype.extractModuleEntity=function(e,t){return[].concat.apply([],pB([],hB(e.map(t)),!1))},i}(),rU=function(){function i(){}return i.prototype.wrap=function(e,t,n,r){var o=this;n===void 0&&(n=[]);var s=this.createWrapper(e,r);return t.forEach(function(a){o.createMethod(s,a,!0)}),n.forEach(function(a){o.createMethod(s,a,!1)}),s},i.prototype.unwrap=function(e){return e},i.prototype.createMethod=function(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))},i.prototype.createMethodProxy=function(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&console.warn("AG Grid: Framework component is missing the method "+t+"()"),null)}},i}();var vd=typeof global>"u"?{}:global;vd.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;vd.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;vd.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;vd.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;vd.Node=typeof Node>"u"?{}:Node;vd.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var gf=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},vf=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},Bde=function(){function i(e,t,n,r,o,s){this.nextId=0,this.allNodesMap={},this.rootNode=e,this.gridOptionsService=t,this.eventService=n,this.columnModel=r,this.beans=s,this.selectionService=o,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=i.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}return i.prototype.getCopyOfNodesMap=function(){return Te.cloneObject(this.allNodesMap)},i.prototype.getRowNode=function(e){return this.allNodesMap[e]},i.prototype.setRowData=function(e){var t=this;if(typeof e=="string"){console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first");return}this.dispatchRowDataUpdateStartedEvent(e);var n=this.rootNode,r=this.rootNode.sibling;n.childrenAfterFilter=null,n.childrenAfterGroup=null,n.childrenAfterAggFilter=null,n.childrenAfterSort=null,n.childrenMapped=null,n.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?n.allLeafChildren=e.map(function(o){return t.createNode(o,t.rootNode,i.TOP_LEVEL)}):(n.allLeafChildren=[],n.childrenAfterGroup=[]),r&&(r.childrenAfterFilter=n.childrenAfterFilter,r.childrenAfterGroup=n.childrenAfterGroup,r.childrenAfterAggFilter=n.childrenAfterAggFilter,r.childrenAfterSort=n.childrenAfterSort,r.childrenMapped=n.childrenMapped,r.allLeafChildren=n.allLeafChildren)},i.prototype.updateRowData=function(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);var n={remove:[],update:[],add:[]},r=[];return this.executeRemove(e,n,r),this.executeUpdate(e,n,r),this.executeAdd(e,n),this.updateSelection(r,"rowDataChanged"),t&&Te.sortRowNodesByOrder(this.rootNode.allLeafChildren,t),n},i.prototype.dispatchRowDataUpdateStartedEvent=function(e){var t={type:C.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:e?.length?e[0]:null};this.eventService.dispatchEvent(t)},i.prototype.updateSelection=function(e,t){var n=e.length>0;if(n&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),this.selectionService.updateGroupsFromChildrenSelections(t),n){var r={type:C.EVENT_SELECTION_CHANGED,source:t};this.eventService.dispatchEvent(r)}},i.prototype.executeAdd=function(e,t){var n=this,r,o=e.add,s=e.addIndex;if(!Te.missingOrEmpty(o)){var a=o.map(function(g){return n.createNode(g,n.rootNode,i.TOP_LEVEL)});if(typeof s=="number"&&s>=0){var l=this.rootNode.allLeafChildren,u=l.length,c=s,d=this.gridOptionsService.get("treeData");if(d&&s>0&&u>0){for(var h=0;h<u;h++)if(((r=l[h])===null||r===void 0?void 0:r.rowIndex)==s-1){c=h+1;break}}var p=l.slice(0,c),f=l.slice(c,l.length);this.rootNode.allLeafChildren=vf(vf(vf([],gf(p),!1),gf(a),!1),gf(f),!1)}else this.rootNode.allLeafChildren=vf(vf([],gf(this.rootNode.allLeafChildren),!1),gf(a),!1);this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),t.add=a}},i.prototype.executeRemove=function(e,t,n){var r=this,o=e.remove;if(!Te.missingOrEmpty(o)){var s={};o.forEach(function(a){var l=r.lookupRowNode(a);l&&(l.isSelected()&&n.push(l),l.clearRowTopAndRowIndex(),s[l.id]=!0,delete r.allNodesMap[l.id],t.remove.push(l))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(a){return!s[a.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},i.prototype.executeUpdate=function(e,t,n){var r=this,o=e.update;Te.missingOrEmpty(o)||o.forEach(function(s){var a=r.lookupRowNode(s);a&&(a.updateData(s),!a.selectable&&a.isSelected()&&n.push(a),r.setMasterForRow(a,s,i.TOP_LEVEL,!1),t.update.push(a))})},i.prototype.lookupRowNode=function(e){var t=this.gridOptionsService.getCallback("getRowId"),n;if(t){var r=t({data:e,level:0});if(n=this.allNodesMap[r],!n)return console.error("AG Grid: could not find row id=".concat(r,", data item was not found for this id")),null}else if(n=this.rootNode.allLeafChildren.find(function(o){return o.data===e}),!n)return console.error("AG Grid: could not find data item as object was not found",e),console.error("Consider using getRowId to help the Grid find matching row data"),null;return n||null},i.prototype.createNode=function(e,t,n){var r=new Pe(this.beans);r.group=!1,this.setMasterForRow(r,e,n,!0);var o=this.gridOptionsService.get("suppressParentsInRowNodes");return t&&!o&&(r.parent=t),r.level=n,r.setDataAndId(e,this.nextId.toString()),this.allNodesMap[r.id]&&console.warn("AG Grid: duplicate node id '".concat(r.id,"' detected from getRowId callback, this could cause issues in your grid.")),this.allNodesMap[r.id]=r,this.nextId++,r},i.prototype.setMasterForRow=function(e,t,n,r){var o=this.gridOptionsService.get("treeData");if(o)e.setMaster(!1),r&&(e.expanded=!1);else{var s=this.gridOptionsService.get("masterDetail");if(s){var a=this.gridOptionsService.get("isRowMaster");a?e.setMaster(a(t)):e.setMaster(!0)}else e.setMaster(!1);if(r){var l=this.columnModel.getRowGroupColumns(),u=l?l.length:0,c=n+u;e.expanded=e.master?this.isExpanded(c):!1}}},i.prototype.isExpanded=function(e){var t=this.gridOptionsService.get("groupDefaultExpanded");return t===-1?!0:e<t},i.TOP_LEVEL=0,i.ROOT_NODE_ID="ROOT_NODE_ID",i}(),jde=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ci=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},_i=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},wi=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},bs=function(i){return i[i.Normal=0]="Normal",i[i.AfterFilter=1]="AfterFilter",i[i.AfterFilterAndSort=2]="AfterFilterAndSort",i[i.PivotNodes=3]="PivotNodes",i}(bs||{}),Ude=function(i){jde(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.onRowHeightChanged_debounced=Te.debounce(t.onRowHeightChanged.bind(t),100),t.rowsToDisplay=[],t.hasStarted=!1,t.shouldSkipSettingDataOnStart=!1,t.isRefreshingModel=!1,t.rowCountReady=!1,t}return e.prototype.init=function(){var t=this,n=this.refreshModel.bind(this,{step:ze.EVERYTHING}),r=!this.gridOptionsService.get("suppressAnimationFrame"),o=this.refreshModel.bind(this,{step:ze.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:r});this.addManagedListener(this.eventService,C.EVENT_NEW_COLUMNS_LOADED,o),this.addManagedListener(this.eventService,C.EVENT_COLUMN_ROW_GROUP_CHANGED,n),this.addManagedListener(this.eventService,C.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:ze.PIVOT})),this.addManagedListener(this.eventService,C.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_COLUMN_PIVOT_MODE_CHANGED,n),this.addManagedListener(this.eventService,C.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this)),this.addManagedListener(this.eventService,C.EVENT_GRID_READY,function(){return t.onGridReady()}),this.addPropertyListeners(),this.rootNode=new Pe(this.beans),this.nodeManager=new Bde(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans)},e.prototype.addPropertyListeners=function(){var t=this,n=new Set(["treeData","masterDetail"]),r=new Set(["suppressParentsInRowNodes","groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),o=new Set(["excludeChildrenWhenTreeDataFiltering"]),s=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),a=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly"]),l=new Set(["postSortRows","groupDisplayType","accentedSort"]),u=new Set([]),c=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter"]),d=wi(wi(wi(wi(wi(wi(wi(wi(wi([],_i(n),!1),_i(r),!1),_i(o),!1),_i(s),!1),_i(s),!1),_i(a),!1),_i(l),!1),_i(u),!1),_i(c),!1);this.addManagedPropertyListeners(d,function(h){var p,f=(p=h.changeSet)===null||p===void 0?void 0:p.properties;if(f){var g=function(v){return f.some(function(m){return v.has(m)})};if(g(n)){t.setRowData(t.rootNode.allLeafChildren.map(function(v){return v.data}));return}if(g(r)){t.refreshModel({step:ze.EVERYTHING});return}if(g(o)){t.refreshModel({step:ze.FILTER});return}if(g(s)){t.refreshModel({step:ze.PIVOT});return}if(g(a)){t.refreshModel({step:ze.AGGREGATE});return}if(g(l)){t.refreshModel({step:ze.SORT});return}if(g(u)){t.refreshModel({step:ze.FILTER_AGGREGATES});return}g(c)&&t.refreshModel({step:ze.MAP})}}),this.addManagedPropertyListener("rowHeight",function(){return t.resetRowHeights()})},e.prototype.start=function(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()},e.prototype.setInitialData=function(){var t=this.gridOptionsService.get("rowData");t&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(t))},e.prototype.ensureRowHeightsValid=function(t,n,r,o){var s,a=!1;do{s=!1;for(var l=this.getRowIndexAtPixel(t),u=this.getRowIndexAtPixel(n),c=Math.max(l,r),d=Math.min(u,o),h=c;h<=d;h++){var p=this.getRow(h);if(p.rowHeightEstimated){var f=this.gridOptionsService.getRowHeightForNode(p);p.setRowHeight(f.height),s=!0,a=!0}}s&&this.setRowTopAndRowIndex()}while(s);return a},e.prototype.setRowTopAndRowIndex=function(){for(var t=this.environment.getDefaultRowHeight(),n=0,r=new Set,o=this.gridOptionsService.isDomLayout("normal"),s=0;s<this.rowsToDisplay.length;s++){var a=this.rowsToDisplay[s];if(a.id!=null&&r.add(a.id),a.rowHeight==null){var l=this.gridOptionsService.getRowHeightForNode(a,o,t);a.setRowHeight(l.height,l.estimated)}a.setRowTop(n),a.setRowIndex(s),n+=a.rowHeight}return r},e.prototype.clearRowTopAndRowIndex=function(t,n){var r=t.isActive(),o=function(a){a&&a.id!=null&&!n.has(a.id)&&a.clearRowTopAndRowIndex()},s=function(a){if(o(a),o(a.detailNode),o(a.sibling),a.hasChildren()&&a.childrenAfterGroup){var l=a.level==-1,u=r&&!l&&!a.expanded;u||a.childrenAfterGroup.forEach(s)}};s(this.rootNode)},e.prototype.ensureRowsAtPixel=function(t,n,r){var o=this;r===void 0&&(r=0);var s=this.getRowIndexAtPixel(n),a=this.getRow(s),l=!this.gridOptionsService.get("suppressAnimationFrame");return a===t[0]?!1:(t.forEach(function(u){Te.removeFromArray(o.rootNode.allLeafChildren,u)}),t.forEach(function(u,c){Te.insertIntoArray(o.rootNode.allLeafChildren,u,Math.max(s+r,0)+c)}),this.refreshModel({step:ze.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:l}),!0)},e.prototype.highlightRowAtPixel=function(t,n){var r=n!=null?this.getRowIndexAtPixel(n):null,o=r!=null?this.getRow(r):null;if(!o||!t||o===t||n==null){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null);return}var s=this.getHighlightPosition(n,o);this.lastHighlightedRow&&this.lastHighlightedRow!==o&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),o.setHighlighted(s),this.lastHighlightedRow=o},e.prototype.getHighlightPosition=function(t,n){if(!n){var r=this.getRowIndexAtPixel(t);if(n=this.getRow(r||0),!n)return Na.Below}var o=n.rowTop,s=n.rowHeight;return t-o<s/2?Na.Above:Na.Below},e.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},e.prototype.isLastRowIndexKnown=function(){return!0},e.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},e.prototype.getTopLevelRowCount=function(){var t=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(t)return 1;var n=this.rootNode.childrenAfterAggFilter;return n?n.length:0},e.prototype.getTopLevelRowDisplayedIndex=function(t){var n=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(n)return t;var r=this.rootNode.childrenAfterSort[t];if(this.gridOptionsService.get("groupHideOpenParents"))for(;r.expanded&&r.childrenAfterSort&&r.childrenAfterSort.length>0;)r=r.childrenAfterSort[0];return r.rowIndex},e.prototype.getRowBounds=function(t){if(Te.missing(this.rowsToDisplay))return null;var n=this.rowsToDisplay[t];return n?{rowTop:n.rowTop,rowHeight:n.rowHeight}:null},e.prototype.onRowGroupOpened=function(){var t=this.gridOptionsService.isAnimateRows();this.refreshModel({step:ze.MAP,keepRenderedRows:!0,animate:t})},e.prototype.onFilterChanged=function(t){if(!t.afterDataChange){var n=this.gridOptionsService.isAnimateRows(),r=t.columns.length===0||t.columns.some(function(s){return s.isPrimary()}),o=r?ze.FILTER:ze.FILTER_AGGREGATES;this.refreshModel({step:o,keepRenderedRows:!0,animate:n})}},e.prototype.onSortChanged=function(){var t=this.gridOptionsService.isAnimateRows();this.refreshModel({step:ze.SORT,keepRenderedRows:!0,animate:t,keepEditingRows:!0})},e.prototype.getType=function(){return"clientSide"},e.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:ze.PIVOT}):this.refreshModel({step:ze.AGGREGATE})},e.prototype.createChangePath=function(t){var n=Te.missingOrEmpty(t),r=new b_(!1,this.rootNode);return(n||this.gridOptionsService.get("treeData"))&&r.setInactive(),r},e.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(t){if(!this.gridOptionsService.get("suppressModelUpdateAfterUpdateTransaction")||t.rowNodeTransactions==null)return!1;var n=t.rowNodeTransactions.filter(function(o){return o.add!=null&&o.add.length>0||o.remove!=null&&o.remove.length>0}),r=n==null||n.length==0;return r},e.prototype.buildRefreshModelParams=function(t){var n=ze.EVERYTHING,r={everything:ze.EVERYTHING,group:ze.EVERYTHING,filter:ze.FILTER,map:ze.MAP,aggregate:ze.AGGREGATE,sort:ze.SORT,pivot:ze.PIVOT};if(Te.exists(t)&&(n=r[t]),Te.missing(n)){console.error("AG Grid: invalid step ".concat(t,", available steps are ").concat(Object.keys(r).join(", ")));return}var o=!this.gridOptionsService.get("suppressAnimationFrame"),s={step:n,keepRenderedRows:!0,keepEditingRows:!0,animate:o};return s},e.prototype.refreshModel=function(t){if(!(!this.hasStarted||this.isRefreshingModel)){var n=typeof t=="object"&&"step"in t?t:this.buildRefreshModelParams(t);if(n&&!this.isSuppressModelUpdateAfterUpdateTransaction(n)){var r=this.createChangePath(n.rowNodeTransactions);switch(this.isRefreshingModel=!0,n.step){case ze.EVERYTHING:this.doRowGrouping(n.rowNodeTransactions,n.rowNodeOrder,r,!!n.afterColumnsChanged);case ze.FILTER:this.doFilter(r);case ze.PIVOT:this.doPivot(r);case ze.AGGREGATE:this.doAggregate(r);case ze.FILTER_AGGREGATES:this.doFilterAggregates(r);case ze.SORT:this.doSort(n.rowNodeTransactions,r);case ze.MAP:this.doRowsToDisplay()}var o=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(r,o),this.isRefreshingModel=!1;var s={type:C.EVENT_MODEL_UPDATED,animate:n.animate,keepRenderedRows:n.keepRenderedRows,newData:n.newData,newPage:!1,keepUndoRedoStack:n.keepUndoRedoStack};this.eventService.dispatchEvent(s)}}},e.prototype.isEmpty=function(){var t=Te.missing(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return Te.missing(this.rootNode)||t||!this.columnModel.isReady()},e.prototype.isRowsToRender=function(){return Te.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},e.prototype.getNodesInRangeForSelection=function(t,n){var r=!n,o=!1,s=[],a=this.gridOptionsService.get("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(function(l){if(!o){if(r&&(l===n||l===t)&&(o=!0,l.group&&a)){s.push.apply(s,wi([],_i(l.allLeafChildren),!1));return}if(!r){if(l!==n&&l!==t)return;r=!0}var u=!l.group||!a;if(u){s.push(l);return}}}),s},e.prototype.setDatasource=function(t){console.error("AG Grid: should never call setDatasource on clientSideRowController")},e.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},e.prototype.getRootNode=function(){return this.rootNode},e.prototype.getRow=function(t){return this.rowsToDisplay[t]},e.prototype.isRowPresent=function(t){return this.rowsToDisplay.indexOf(t)>=0},e.prototype.getRowIndexAtPixel=function(t){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;var n=0,r=this.rowsToDisplay.length-1;if(t<=0)return 0;var o=Te.last(this.rowsToDisplay);if(o.rowTop<=t)return this.rowsToDisplay.length-1;for(var s=-1,a=-1;;){var l=Math.floor((n+r)/2),u=this.rowsToDisplay[l];if(this.isRowInPixel(u,t))return l;u.rowTop<t?n=l+1:u.rowTop>t&&(r=l-1);var c=s===n&&a===r;if(c)return l;s=n,a=r}},e.prototype.isRowInPixel=function(t,n){var r=t.rowTop,o=t.rowTop+t.rowHeight,s=r<=n&&o>n;return s},e.prototype.forEachLeafNode=function(t){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(n,r){return t(n,r)})},e.prototype.forEachNode=function(t,n){n===void 0&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:wi([],_i(this.rootNode.childrenAfterGroup||[]),!1),callback:t,recursionType:bs.Normal,index:0,includeFooterNodes:n})},e.prototype.forEachNodeAfterFilter=function(t,n){n===void 0&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:wi([],_i(this.rootNode.childrenAfterAggFilter||[]),!1),callback:t,recursionType:bs.AfterFilter,index:0,includeFooterNodes:n})},e.prototype.forEachNodeAfterFilterAndSort=function(t,n){n===void 0&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:wi([],_i(this.rootNode.childrenAfterSort||[]),!1),callback:t,recursionType:bs.AfterFilterAndSort,index:0,includeFooterNodes:n})},e.prototype.forEachPivotNode=function(t,n){n===void 0&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:t,recursionType:bs.PivotNodes,index:0,includeFooterNodes:n})},e.prototype.recursivelyWalkNodesAndCallback=function(t){for(var n,r=t.nodes,o=t.callback,s=t.recursionType,a=t.includeFooterNodes,l=t.index,u=0;u<r.length;u++){var c=r[u];if(o(c,l++),c.hasChildren()&&!c.footer){var d=null;switch(s){case bs.Normal:d=c.childrenAfterGroup;break;case bs.AfterFilter:d=c.childrenAfterAggFilter;break;case bs.AfterFilterAndSort:d=c.childrenAfterSort;break;case bs.PivotNodes:d=c.leafGroup?null:c.childrenAfterSort;break}d&&(l=this.recursivelyWalkNodesAndCallback({nodes:wi([],_i(d),!1),callback:o,recursionType:s,index:l,includeFooterNodes:a}))}}var h=(n=r[0])===null||n===void 0?void 0:n.parent;if(!a||!h)return l;var p=h===this.rootNode;if(p){var f=this.gridOptionsService.get("groupIncludeTotalFooter");if(!f)return l}else{var g=this.gridOptionsService.getGroupIncludeFooter();if(!g({node:h}))return l}return h.createFooter(),o(h.sibling,l++),l},e.prototype.doAggregate=function(t){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.doFilterAggregates=function(t){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:t}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},e.prototype.expandOrCollapseAll=function(t){var n=this.gridOptionsService.get("treeData"),r=this.columnModel.isPivotActive(),o=function(l){l&&l.forEach(function(u){var c=function(){u.expanded=t,o(u.childrenAfterGroup)};if(n){var d=Te.exists(u.childrenAfterGroup);d&&c();return}if(r){var h=!u.leafGroup;h&&c();return}var p=u.group;p&&c()})};this.rootNode&&o(this.rootNode.childrenAfterGroup),this.refreshModel({step:ze.MAP});var s=t?"expandAll":"collapseAll",a={type:C.EVENT_EXPAND_COLLAPSE_ALL,source:s};this.eventService.dispatchEvent(a)},e.prototype.doSort=function(t,n){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,changedPath:n})},e.prototype.doRowGrouping=function(t,n,r,o){if(this.groupStage){if(t?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,rowNodeOrder:n,changedPath:r}):this.groupStage.execute({rowNode:this.rootNode,changedPath:r,afterColumnsChanged:o}),this.gridOptionsService.get("groupSelectsChildren")){var s=this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",r);if(s){var a={type:C.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"};this.eventService.dispatchEvent(a)}}}else this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren();this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:C.EVENT_ROW_COUNT_READY})},e.prototype.doFilter=function(t){this.filterStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.doPivot=function(t){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},e.prototype.getRowNode=function(t){var n=typeof t=="string"&&t.indexOf(Pe.ID_PREFIX_ROW_GROUP)==0;if(n){var r=void 0;return this.forEachNode(function(o){o.id===t&&(r=o)}),r}return this.nodeManager.getRowNode(t)},e.prototype.setRowData=function(t){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(t),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()},e.prototype.dispatchUpdateEventsAndRefresh=function(){var t={type:C.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(t),this.refreshModel({step:ze.EVERYTHING,newData:!0})},e.prototype.batchUpdateRowData=function(t,n){var r=this;if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];var o=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){r.executeBatchUpdateRowData()},o)}this.rowDataTransactionBatch.push({rowDataTransaction:t,callback:n})},e.prototype.flushAsyncTransactions=function(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},e.prototype.executeBatchUpdateRowData=function(){var t=this;this.valueCache.onDataChanged();var n=[],r=[],o=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(a){var l=t.nodeManager.updateRowData(a.rowDataTransaction,void 0);r.push(l),a.callback&&n.push(a.callback.bind(null,l)),typeof a.rowDataTransaction.addIndex=="number"&&(o=!0)}),this.commonUpdateRowData(r,void 0,o),n.length>0&&window.setTimeout(function(){n.forEach(function(a){return a()})},0),r.length>0){var s={type:C.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:r};this.eventService.dispatchEvent(s)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},e.prototype.updateRowData=function(t,n){this.valueCache.onDataChanged();var r=this.nodeManager.updateRowData(t,n),o=typeof t.addIndex=="number";return this.commonUpdateRowData([r],n,o),r},e.prototype.createRowNodeOrder=function(){var t=this.gridOptionsService.get("suppressMaintainUnsortedOrder");if(!t){var n={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var r=0;r<this.rootNode.allLeafChildren.length;r++){var o=this.rootNode.allLeafChildren[r];n[o.id]=r}return n}},e.prototype.commonUpdateRowData=function(t,n,r){if(this.hasStarted){var o=!this.gridOptionsService.get("suppressAnimationFrame");r&&(n=this.createRowNodeOrder());var s={type:C.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(s),this.refreshModel({step:ze.EVERYTHING,rowNodeTransactions:t,rowNodeOrder:n,keepRenderedRows:!0,keepEditingRows:!0,animate:o})}},e.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},e.prototype.onRowHeightChanged=function(){this.refreshModel({step:ze.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})},e.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},e.prototype.resetRowHeights=function(){var t=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),t&&this.onRowHeightChanged()},e.prototype.resetRowHeightsForAllRowNodes=function(){var t=!1;return this.forEachNode(function(n){n.setRowHeight(n.rowHeight,!0);var r=n.detailNode;r&&r.setRowHeight(r.rowHeight,!0),n.sibling&&n.sibling.setRowHeight(n.sibling.rowHeight,!0),t=!0}),t},e.prototype.onGridStylesChanges=function(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()},e.prototype.onGridReady=function(){this.hasStarted||this.setInitialData()},e.prototype.isRowDataLoaded=function(){return this.rowCountReady},Ci([y("columnModel")],e.prototype,"columnModel",void 0),Ci([y("selectionService")],e.prototype,"selectionService",void 0),Ci([y("filterManager")],e.prototype,"filterManager",void 0),Ci([y("valueCache")],e.prototype,"valueCache",void 0),Ci([y("beans")],e.prototype,"beans",void 0),Ci([y("filterStage")],e.prototype,"filterStage",void 0),Ci([y("sortStage")],e.prototype,"sortStage",void 0),Ci([y("flattenStage")],e.prototype,"flattenStage",void 0),Ci([$e("groupStage")],e.prototype,"groupStage",void 0),Ci([$e("aggregationStage")],e.prototype,"aggregationStage",void 0),Ci([$e("pivotStage")],e.prototype,"pivotStage",void 0),Ci([$e("filterAggregatesStage")],e.prototype,"filterAggregatesStage",void 0),Ci([W],e.prototype,"init",null),e=Ci([ee("rowModel")],e),e}(j),Wde=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fB=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},zde=function(i){Wde(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.execute=function(t){var n=t.changedPath;this.filterService.filter(n)},fB([y("filterService")],e.prototype,"filterService",void 0),e=fB([ee("filterStage")],e),e}(j),$de=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),gA=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},qde=function(i){$de(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.execute=function(t){var n=this,r=this.sortController.getSortOptions(),o=Te.exists(r)&&r.length>0,s=o&&Te.exists(t.rowNodeTransactions)&&this.gridOptionsService.get("deltaSort"),a=r.some(function(l){var u=n.gridOptionsService.isColumnsSortingCoupledToGroup();return u?l.column.isPrimary()&&l.column.isRowGroupActive():!!l.column.getColDef().showRowGroup});this.sortService.sort(r,o,s,t.rowNodeTransactions,t.changedPath,a)},gA([y("sortService")],e.prototype,"sortService",void 0),gA([y("sortController")],e.prototype,"sortController",void 0),e=gA([ee("sortStage")],e),e}(j),Kde=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),vA=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Yde=function(i){Kde(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.execute=function(t){var n=t.rowNode,r=[],o=this.columnModel.isPivotMode(),s=o&&n.leafGroup,a=s?[n]:n.childrenAfterSort,l=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(l,a,r,o,0);var u=r.length>0,c=!s&&u&&l.groupIncludeTotalFooter;return c&&(n.createFooter(),this.addRowNodeToRowsToDisplay(l,n.sibling,r,0)),r},e.prototype.getFlattenDetails=function(){var t=this.gridOptionsService.get("groupRemoveSingleChildren"),n=!t&&this.gridOptionsService.get("groupRemoveLowestSingleChildren");return{groupRemoveLowestSingleChildren:n,groupRemoveSingleChildren:t,isGroupMultiAutoColumn:this.gridOptionsService.isGroupMultiAutoColumn(),hideOpenParents:this.gridOptionsService.get("groupHideOpenParents"),groupIncludeTotalFooter:this.gridOptionsService.get("groupIncludeTotalFooter"),getGroupIncludeFooter:this.gridOptionsService.getGroupIncludeFooter()}},e.prototype.recursivelyAddToRowsToDisplay=function(t,n,r,o,s){if(!Te.missingOrEmpty(n))for(var a=0;a<n.length;a++){var l=n[a],u=l.hasChildren(),c=o&&!u,d=t.groupRemoveSingleChildren&&u&&l.childrenAfterGroup.length===1,h=t.groupRemoveLowestSingleChildren&&u&&l.leafGroup&&l.childrenAfterGroup.length===1,p=o&&l.leafGroup,f=t.hideOpenParents&&l.expanded&&!l.master&&!p,g=!c&&!f&&!d&&!h;if(g&&this.addRowNodeToRowsToDisplay(t,l,r,s),!(o&&l.leafGroup)){if(u){var v=d||h;if(l.expanded||v){var m=v?s:s+1;this.recursivelyAddToRowsToDisplay(t,l.childrenAfterSort,r,o,m);var _=t.getGroupIncludeFooter({node:l});_?(l.createFooter(),this.addRowNodeToRowsToDisplay(t,l.sibling,r,m)):l.destroyFooter()}}else if(l.master&&l.expanded){var w=this.createDetailNode(l);this.addRowNodeToRowsToDisplay(t,w,r,s)}}}},e.prototype.addRowNodeToRowsToDisplay=function(t,n,r,o){r.push(n),n.setUiLevel(t.isGroupMultiAutoColumn?0:o)},e.prototype.createDetailNode=function(t){if(Te.exists(t.detailNode))return t.detailNode;var n=new Pe(this.beans);return n.detail=!0,n.selectable=!1,n.parent=t,Te.exists(t.id)&&(n.id="detail_"+t.id),n.data=t.data,n.level=t.level+1,t.detailNode=n,n},vA([y("columnModel")],e.prototype,"columnModel",void 0),vA([y("beans")],e.prototype,"beans",void 0),e=vA([ee("flattenStage")],e),e}(j),Qde=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),mA=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Zde=function(i){Qde(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.sort=function(t,n,r,o,s,a){var l=this,u=this.gridOptionsService.get("groupMaintainOrder"),c=this.columnModel.getAllGridColumns().some(function(g){return g.isRowGroupActive()}),d={};r&&o&&(d=this.calculateDirtyNodes(o));var h=this.columnModel.isPivotMode(),p=this.gridOptionsService.getCallback("postSortRows"),f=function(g){var v;l.pullDownGroupDataForHideOpenParents(g.childrenAfterAggFilter,!0);var m=h&&g.leafGroup,_=u&&c&&!g.leafGroup&&!a;if(_){var w=(v=l.columnModel.getRowGroupColumns())===null||v===void 0?void 0:v[g.level+1],S=w?.getSort()===null,R=g.childrenAfterAggFilter.slice(0);if(g.childrenAfterSort&&!S){var T={};g.childrenAfterSort.forEach(function(A,U){T[A.id]=U}),R.sort(function(A,U){var q,$;return((q=T[A.id])!==null&&q!==void 0?q:0)-(($=T[U.id])!==null&&$!==void 0?$:0)})}g.childrenAfterSort=R}else!n||m?g.childrenAfterSort=g.childrenAfterAggFilter.slice(0):r?g.childrenAfterSort=l.doDeltaSort(g,d,s,t):g.childrenAfterSort=l.rowNodeSorter.doFullSort(g.childrenAfterAggFilter,t);if(g.sibling&&(g.sibling.childrenAfterSort=g.childrenAfterSort),l.updateChildIndexes(g),p){var x={nodes:g.childrenAfterSort};p(x)}};s&&s.forEachChangedNodeDepthFirst(f),this.updateGroupDataForHideOpenParents(s)},e.prototype.calculateDirtyNodes=function(t){var n={},r=function(o){o&&o.forEach(function(s){return n[s.id]=!0})};return t&&t.forEach(function(o){r(o.add),r(o.update),r(o.remove)}),n},e.prototype.doDeltaSort=function(t,n,r,o){var s=this,a=t.childrenAfterAggFilter,l=t.childrenAfterSort;if(!l)return this.rowNodeSorter.doFullSort(a,o);var u={},c=[];a.forEach(function(f){n[f.id]||!r.canSkip(f)?c.push(f):u[f.id]=!0});var d=l.filter(function(f){return u[f.id]}),h=function(f,g){return{currentPos:g,rowNode:f}},p=c.map(h).sort(function(f,g){return s.rowNodeSorter.compareRowNodes(o,f,g)});return this.mergeSortedArrays(o,p,d.map(h)).map(function(f){var g=f.rowNode;return g})},e.prototype.mergeSortedArrays=function(t,n,r){for(var o=[],s=0,a=0;s<n.length&&a<r.length;){var l=this.rowNodeSorter.compareRowNodes(t,n[s],r[a]);l<0?o.push(n[s++]):o.push(r[a++])}for(;s<n.length;)o.push(n[s++]);for(;a<r.length;)o.push(r[a++]);return o},e.prototype.updateChildIndexes=function(t){if(!Te.missing(t.childrenAfterSort))for(var n=t.childrenAfterSort,r=0;r<n.length;r++){var o=n[r],s=r===0,a=r===t.childrenAfterSort.length-1;o.setFirstChild(s),o.setLastChild(a),o.setChildIndex(r)}},e.prototype.updateGroupDataForHideOpenParents=function(t){var n=this;if(this.gridOptionsService.get("groupHideOpenParents")){if(this.gridOptionsService.get("treeData"))return Te.warnOnce("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;var r=function(o){n.pullDownGroupDataForHideOpenParents(o.childrenAfterSort,!1),o.childrenAfterSort.forEach(function(s){s.hasChildren()&&r(s)})};t&&t.executeFromRootNode(function(o){return r(o)})}},e.prototype.pullDownGroupDataForHideOpenParents=function(t,n){var r=this;!this.gridOptionsService.get("groupHideOpenParents")||Te.missing(t)||t.forEach(function(o){var s=r.columnModel.getGroupDisplayColumns();s.forEach(function(a){var l=a.getColDef().showRowGroup;if(typeof l!="string"){console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}var u=l,c=r.columnModel.getPrimaryColumn(u),d=c===o.rowGroupColumn;if(!d)if(n)o.setGroupValue(a.getId(),void 0);else{var h=o.getFirstChildOfFirstChild(c);h&&o.setGroupValue(a.getId(),h.key)}})})},mA([y("columnModel")],e.prototype,"columnModel",void 0),mA([y("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),e=mA([ee("sortService")],e),e}(j),Xde=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),gB=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Jde=function(i){Xde(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.filter=function(t){var n=this.filterManager.isChildFilterPresent();this.filterNodes(n,t)},e.prototype.filterNodes=function(t,n){var r=this,o=function(u,c){u.hasChildren()&&t&&!c?u.childrenAfterFilter=u.childrenAfterGroup.filter(function(d){var h=d.childrenAfterFilter&&d.childrenAfterFilter.length>0,p=d.data&&r.filterManager.doesRowPassFilter({rowNode:d});return h||p}):u.childrenAfterFilter=u.childrenAfterGroup,u.sibling&&(u.sibling.childrenAfterFilter=u.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var s=function(u,c){if(u.childrenAfterGroup)for(var d=0;d<u.childrenAfterGroup.length;d++){var h=u.childrenAfterGroup[d],p=c||r.filterManager.doesRowPassFilter({rowNode:h});h.childrenAfterGroup?s(u.childrenAfterGroup[d],p):o(h,p)}o(u,c)},a=function(u){return s(u,!1)};n.executeFromRootNode(a)}else{var l=function(u){return o(u,!1)};n.forEachChangedNodeDepthFirst(l,!0)}},e.prototype.doingTreeDataFiltering=function(){return this.gridOptionsService.get("treeData")&&!this.gridOptionsService.get("excludeChildrenWhenTreeDataFiltering")},gB([y("filterManager")],e.prototype,"filterManager",void 0),e=gB([ee("filterService")],e),e}(j),ehe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),mf=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},the=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},nhe=function(i){ehe(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t=this;this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",function(){return t.onRowDataUpdated()}))},e.prototype.isActive=function(){var t=this.gridOptionsService.exists("getRowId"),n=this.gridOptionsService.get("resetRowDataOnUpdate");return n?!1:t},e.prototype.setRowData=function(t){var n=this.createTransactionForRowData(t);if(n){var r=the(n,2),o=r[0],s=r[1];this.clientSideRowModel.updateRowData(o,s)}},e.prototype.createTransactionForRowData=function(t){if(Te.missing(this.clientSideRowModel)){console.error("AG Grid: ImmutableService only works with ClientSideRowModel");return}var n=this.gridOptionsService.getCallback("getRowId");if(n==null){console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");return}var r={remove:[],update:[],add:[]},o=this.clientSideRowModel.getCopyOfNodesMap(),s=this.gridOptionsService.get("suppressMaintainUnsortedOrder"),a=s?void 0:{};return Te.exists(t)&&t.forEach(function(l,u){var c=n({data:l,level:0}),d=o[c];if(a&&(a[c]=u),d){var h=d.data!==l;h&&r.update.push(l),o[c]=void 0}else r.add.push(l)}),Te.iterateObject(o,function(l,u){u&&r.remove.push(u.data)}),[r,a]},e.prototype.onRowDataUpdated=function(){var t=this.gridOptionsService.get("rowData");t&&(this.isActive()?this.setRowData(t):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(t)))},mf([y("rowModel")],e.prototype,"rowModel",void 0),mf([y("rowRenderer")],e.prototype,"rowRenderer",void 0),mf([y("selectionService")],e.prototype,"selectionService",void 0),mf([W],e.prototype,"postConstruct",null),e=mf([ee("immutableService")],e),e}(j),ihe="31.0.3",rhe={version:ihe,moduleName:re.ClientSideRowModelModule,rowModel:"clientSide",beans:[Ude,zde,qde,Yde,Zde,Jde,nhe]},ohe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),yA=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},vB=function(i){ohe(e,i);function e(t,n,r){var o=i.call(this,t)||this;return o.parentCache=n,o.params=r,o.startRow=t*r.blockSize,o.endRow=o.startRow+r.blockSize,o}return e.prototype.postConstruct=function(){this.createRowNodes()},e.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},e.prototype.setDataAndId=function(t,n,r){Te.exists(n)?t.setDataAndId(n,r.toString()):t.setDataAndId(void 0,void 0)},e.prototype.loadFromDatasource=function(){var t=this,n=this.createLoadParams();if(Te.missing(this.params.datasource.getRows)){console.warn("AG Grid: datasource is missing getRows method");return}window.setTimeout(function(){t.params.datasource.getRows(n)},0)},e.prototype.processServerFail=function(){},e.prototype.createLoadParams=function(){var t={startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsService.getGridCommonParams().context};return t},e.prototype.forEachNode=function(t,n,r){var o=this;this.rowNodes.forEach(function(s,a){var l=o.startRow+a;l<r&&t(s,n.next())})},e.prototype.getLastAccessed=function(){return this.lastAccessed},e.prototype.getRow=function(t,n){n===void 0&&(n=!1),n||(this.lastAccessed=this.params.lastAccessedSequence.next());var r=t-this.startRow;return this.rowNodes[r]},e.prototype.getStartRow=function(){return this.startRow},e.prototype.getEndRow=function(){return this.endRow},e.prototype.createRowNodes=function(){this.rowNodes=[];for(var t=0;t<this.params.blockSize;t++){var n=this.startRow+t,r=new Pe(this.beans);r.setRowHeight(this.params.rowHeight),r.uiLevel=0,r.setRowIndex(n),r.setRowTop(this.params.rowHeight*n),this.rowNodes.push(r)}},e.prototype.processServerResult=function(t){var n=this;this.rowNodes.forEach(function(o,s){var a=t.rowData?t.rowData[s]:void 0;!o.id&&o.alreadyRendered&&a&&(n.rowNodes[s]=new Pe(n.beans),n.rowNodes[s].setRowIndex(o.rowIndex),n.rowNodes[s].setRowTop(o.rowTop),n.rowNodes[s].setRowHeight(o.rowHeight),o.clearRowTopAndRowIndex()),n.setDataAndId(n.rowNodes[s],a,n.startRow+s)});var r=t.rowCount!=null&&t.rowCount>=0?t.rowCount:void 0;this.parentCache.pageLoaded(this,r)},e.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(t){t.clearRowTopAndRowIndex()})},yA([y("beans")],e.prototype,"beans",void 0),yA([W],e.prototype,"postConstruct",null),yA([oi],e.prototype,"destroyRowNodes",null),e}(kA),she=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),BC=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ahe=function(i,e){return function(t,n){e(t,n,i)}},lhe=function(i){she(e,i);function e(t){var n=i.call(this)||this;return n.lastRowIndexKnown=!1,n.blocks={},n.blockCount=0,n.rowCount=t.initialRowCount,n.params=t,n}return e.prototype.setBeans=function(t){this.logger=t.create("InfiniteCache")},e.prototype.getRow=function(t,n){n===void 0&&(n=!1);var r=Math.floor(t/this.params.blockSize),o=this.blocks[r];if(!o){if(n)return;o=this.createBlock(r)}return o.getRow(t)},e.prototype.createBlock=function(t){var n=this.createBean(new vB(t,this,this.params));return this.blocks[n.getId()]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),this.params.rowNodeBlockLoader.addBlock(n),n},e.prototype.refreshCache=function(){var t=this.blockCount==0;if(t){this.purgeCache();return}this.getBlocksInOrder().forEach(function(n){return n.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad()},e.prototype.destroyAllBlocks=function(){var t=this;this.getBlocksInOrder().forEach(function(n){return t.destroyBlock(n)})},e.prototype.getRowCount=function(){return this.rowCount},e.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},e.prototype.pageLoaded=function(t,n){this.isAlive()&&(this.logger.log("onPageLoaded: page = ".concat(t.getId(),", lastRow = ").concat(n)),this.checkRowCount(t,n),this.onCacheUpdated())},e.prototype.purgeBlocksIfNeeded=function(t){var n=this,r=this.getBlocksInOrder().filter(function(u){return u!=t}),o=function(u,c){return c.getLastAccessed()-u.getLastAccessed()};r.sort(o);var s=this.params.maxBlocksInCache>0,a=s?this.params.maxBlocksInCache-1:null,l=e.MAX_EMPTY_BLOCKS_TO_KEEP-1;r.forEach(function(u,c){var d=u.getState()===vB.STATE_WAITING_TO_LOAD&&c>=l,h=s?c>=a:!1;if(d||h){if(n.isBlockCurrentlyDisplayed(u)||n.isBlockFocused(u))return;n.removeBlockFromCache(u)}})},e.prototype.isBlockFocused=function(t){var n=this.focusService.getFocusCellToUseAfterRefresh();if(!n||n.rowPinned!=null)return!1;var r=t.getStartRow(),o=t.getEndRow(),s=n.rowIndex>=r&&n.rowIndex<o;return s},e.prototype.isBlockCurrentlyDisplayed=function(t){var n=t.getStartRow(),r=t.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(n,r)},e.prototype.removeBlockFromCache=function(t){t&&this.destroyBlock(t)},e.prototype.checkRowCount=function(t,n){if(typeof n=="number"&&n>=0)this.rowCount=n,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var r=(t.getId()+1)*this.params.blockSize,o=r+this.params.overflowSize;this.rowCount<o&&(this.rowCount=o)}},e.prototype.setRowCount=function(t,n){this.rowCount=t,Te.exists(n)&&(this.lastRowIndexKnown=n),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()},e.prototype.forEachNodeDeep=function(t){var n=this,r=new gd;this.getBlocksInOrder().forEach(function(o){return o.forEachNode(t,r,n.rowCount)})},e.prototype.getBlocksInOrder=function(){var t=function(r,o){return r.getId()-o.getId()},n=Te.getAllValuesInObject(this.blocks).sort(t);return n},e.prototype.destroyBlock=function(t){delete this.blocks[t.getId()],this.destroyBean(t),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(t)},e.prototype.onCacheUpdated=function(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();var t={type:C.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(t)}},e.prototype.destroyAllBlocksPastVirtualRowCount=function(){var t=this,n=[];this.getBlocksInOrder().forEach(function(r){var o=r.getId()*t.params.blockSize;o>=t.rowCount&&n.push(r)}),n.length>0&&n.forEach(function(r){return t.destroyBlock(r)})},e.prototype.purgeCache=function(){var t=this;this.getBlocksInOrder().forEach(function(n){return t.removeBlockFromCache(n)}),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},e.prototype.getRowNodesInRange=function(t,n){var r=this,o=[],s=-1,a=!1,l=new gd;Te.missing(t)&&(a=!0);var u=!1;this.getBlocksInOrder().forEach(function(d){if(!u){if(a&&s+1!==d.getId()){u=!0;return}s=d.getId(),d.forEachNode(function(h){var p=h===t||h===n;(a||p)&&o.push(h),p&&(a=!a)},l,r.rowCount)}});var c=u||a;return c?[]:o},e.MAX_EMPTY_BLOCKS_TO_KEEP=2,BC([y("rowRenderer")],e.prototype,"rowRenderer",void 0),BC([y("focusService")],e.prototype,"focusService",void 0),BC([ahe(0,Or("loggerFactory"))],e.prototype,"setBeans",null),BC([oi],e.prototype,"destroyAllBlocks",null),e}(j),uhe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Aa=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},che=function(i){uhe(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getRowBounds=function(t){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*t}},e.prototype.ensureRowHeightsValid=function(t,n,r,o){return!1},e.prototype.init=function(){var t=this;this.gridOptionsService.isRowModelType("infinite")&&(this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return t.destroyCache()}),this.verifyProps())},e.prototype.verifyProps=function(){this.gridOptionsService.exists("initialGroupOrderComparator")&&Te.warnOnce("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")},e.prototype.start=function(){this.setDatasource(this.gridOptionsService.get("datasource"))},e.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},e.prototype.addEventListeners=function(){var t=this;this.addManagedListener(this.eventService,C.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,C.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this)),this.addManagedPropertyListener("datasource",function(){return t.setDatasource(t.gridOptionsService.get("datasource"))}),this.addManagedPropertyListener("cacheBlockSize",function(){return t.resetCache()}),this.addManagedPropertyListener("rowHeight",function(){t.rowHeight=t.gridOptionsService.getRowHeightAsNumber(),t.cacheParams.rowHeight=t.rowHeight,t.updateRowHeights()})},e.prototype.onFilterChanged=function(){this.reset()},e.prototype.onSortChanged=function(){this.reset()},e.prototype.onColumnEverything=function(){var t;this.cacheParams?t=this.isSortModelDifferent():t=!0,t&&this.reset()},e.prototype.isSortModelDifferent=function(){return!Te.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},e.prototype.getType=function(){return"infinite"},e.prototype.setDatasource=function(t){this.destroyDatasource(),this.datasource=t,t&&this.reset()},e.prototype.isEmpty=function(){return!this.infiniteCache},e.prototype.isRowsToRender=function(){return!!this.infiniteCache},e.prototype.getNodesInRangeForSelection=function(t,n){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(t,n):[]},e.prototype.reset=function(){if(this.datasource){var t=this.gridOptionsService.getCallback("getRowId"),n=t!=null;n||this.selectionService.reset("rowDataChanged"),this.resetCache()}},e.prototype.createModelUpdatedEvent=function(){return{type:C.EVENT_MODEL_UPDATED,newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1}},e.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gridOptionsService.get("infiniteInitialRowCount"),maxBlocksInCache:this.gridOptionsService.get("maxBlocksInCache"),rowHeight:this.gridOptionsService.getRowHeightAsNumber(),overflowSize:this.gridOptionsService.get("cacheOverflowSize"),blockSize:this.gridOptionsService.get("cacheBlockSize"),lastAccessedSequence:new gd},this.infiniteCache=this.createBean(new lhe(this.cacheParams)),this.eventService.dispatchEventOnce({type:C.EVENT_ROW_COUNT_READY});var t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)},e.prototype.updateRowHeights=function(){var t=this;this.forEachNode(function(r){r.setRowHeight(t.rowHeight),r.setRowTop(t.rowHeight*r.rowIndex)});var n=this.createModelUpdatedEvent();this.eventService.dispatchEvent(n)},e.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},e.prototype.onCacheUpdated=function(){var t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)},e.prototype.getRow=function(t){if(this.infiniteCache&&!(t>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(t)},e.prototype.getRowNode=function(t){var n;return this.forEachNode(function(r){r.id===t&&(n=r)}),n},e.prototype.forEachNode=function(t){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(t)},e.prototype.getTopLevelRowCount=function(){return this.getRowCount()},e.prototype.getTopLevelRowDisplayedIndex=function(t){return t},e.prototype.getRowIndexAtPixel=function(t){if(this.rowHeight!==0){var n=Math.floor(t/this.rowHeight),r=this.getRowCount()-1;return n>r?r:n}return 0},e.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},e.prototype.isRowPresent=function(t){var n=this.getRowNode(t.id);return!!n},e.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},e.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},e.prototype.isLastRowIndexKnown=function(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1},e.prototype.setRowCount=function(t,n){this.infiniteCache&&this.infiniteCache.setRowCount(t,n)},Aa([y("filterManager")],e.prototype,"filterManager",void 0),Aa([y("sortController")],e.prototype,"sortController",void 0),Aa([y("selectionService")],e.prototype,"selectionService",void 0),Aa([y("rowRenderer")],e.prototype,"rowRenderer",void 0),Aa([y("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),Aa([W],e.prototype,"init",null),Aa([oi],e.prototype,"destroyDatasource",null),e=Aa([ee("rowModel")],e),e}(j),dhe="31.0.3",hhe={version:dhe,moduleName:re.InfiniteRowModelModule,rowModel:"infinite",beans:[che]},phe=function(){function i(){}return i.prototype.setBeans=function(e){this.beans=e},i.prototype.getFileName=function(e){var t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?"".concat(e,".").concat(t):e},i.prototype.getData=function(e){var t=this.createSerializingSession(e),n=this.beans.gridSerializer.serialize(t,e);return n},i.prototype.getDefaultFileName=function(){return"export.".concat(this.getDefaultFileExtension())},i}(),fhe=function(){function i(e){this.groupColumns=[];var t=e.columnModel,n=e.valueService,r=e.gridOptionsService,o=e.valueFormatterService,s=e.valueParserService,a=e.processCellCallback,l=e.processHeaderCallback,u=e.processGroupHeaderCallback,c=e.processRowGroupCallback;this.columnModel=t,this.valueService=n,this.gridOptionsService=r,this.valueFormatterService=o,this.valueParserService=s,this.processCellCallback=a,this.processHeaderCallback=l,this.processGroupHeaderCallback=u,this.processRowGroupCallback=c}return i.prototype.prepare=function(e){this.groupColumns=e.filter(function(t){return!!t.getColDef().showRowGroup})},i.prototype.extractHeaderValue=function(e){var t=this.getHeaderName(this.processHeaderCallback,e);return t??""},i.prototype.extractRowCellValue=function(e,t,n,r,o){var s=this.gridOptionsService.get("groupHideOpenParents"),a=(!s||o.footer)&&this.shouldRenderGroupSummaryCell(o,e,t)?this.createValueForGroupNode(e,o):this.valueService.getValue(e,o),l=this.processCell({accumulatedRowIndex:n,rowNode:o,column:e,value:a,processCellCallback:this.processCellCallback,type:r});return l},i.prototype.shouldRenderGroupSummaryCell=function(e,t,n){var r,o=e&&e.group;if(!o)return!1;var s=this.groupColumns.indexOf(t);if(s!==-1){if(((r=e.groupData)===null||r===void 0?void 0:r[t.getId()])!=null||this.gridOptionsService.isRowModelType("serverSide")&&e.group)return!0;if(e.footer&&e.level===-1){var a=t.getColDef(),l=a==null||a.showRowGroup===!0;return l||a.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}var u=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return n===0&&u},i.prototype.getHeaderName=function(e,t){return e?e(this.gridOptionsService.addGridCommonParams({column:t})):this.columnModel.getDisplayNameForColumn(t,"csv",!0)},i.prototype.createValueForGroupNode=function(e,t){var n=this;if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gridOptionsService.addGridCommonParams({column:e,node:t}));var r=this.gridOptionsService.get("treeData"),o=this.gridOptionsService.get("suppressGroupMaintainValueType"),s=function(c){var d,h;if(r||o)return c.key;var p=(d=c.groupData)===null||d===void 0?void 0:d[e.getId()];return!p||!c.rowGroupColumn||c.rowGroupColumn.getColDef().useValueFormatterForExport===!1?p:(h=n.valueFormatterService.formatValue(c.rowGroupColumn,c,p))!==null&&h!==void 0?h:p},a=t.footer,l=[s(t)];if(!this.gridOptionsService.isGroupMultiAutoColumn())for(;t.parent;)t=t.parent,l.push(s(t));var u=l.reverse().join(" -> ");return a?"Total ".concat(u):u},i.prototype.processCell=function(e){var t=this,n,r=e.accumulatedRowIndex,o=e.rowNode,s=e.column,a=e.value,l=e.processCellCallback,u=e.type;return l?{value:(n=l(this.gridOptionsService.addGridCommonParams({accumulatedRowIndex:r,column:s,node:o,value:a,type:u,parseValue:function(c){return t.valueParserService.parseValue(s,o,c,t.valueService.getValue(s,o))},formatValue:function(c){var d;return(d=t.valueFormatterService.formatValue(s,o,c))!==null&&d!==void 0?d:c}})))!==null&&n!==void 0?n:""}:s.getColDef().useValueFormatterForExport!==!1?{value:a??"",valueFormatted:this.valueFormatterService.formatValue(s,o,a)}:{value:a??""}},i}(),ghe=function(){function i(){}return i.download=function(e,t){var n=document.defaultView||window;if(!n){console.warn("AG Grid: There is no `window` associated with the current `document`");return}var r=document.createElement("a"),o=n.URL.createObjectURL(t);r.setAttribute("href",o),r.setAttribute("download",e),r.style.display="none",document.body.appendChild(r),r.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(r),n.setTimeout(function(){n.URL.revokeObjectURL(o)},0)},i}(),vhe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),mB=`\r
`,mhe=function(i){vhe(e,i);function e(t){var n=i.call(this,t)||this;n.isFirstLine=!0,n.result="";var r=t.suppressQuotes,o=t.columnSeparator;return n.suppressQuotes=r,n.columnSeparator=o,n}return e.prototype.addCustomContent=function(t){var n=this;t&&(typeof t=="string"?(/^\s*\n/.test(t)||this.beginNewLine(),t=t.replace(/\r?\n/g,mB),this.result+=t):t.forEach(function(r){n.beginNewLine(),r.forEach(function(o,s){s!==0&&(n.result+=n.columnSeparator),n.result+=n.putInQuotes(o.data.value||""),o.mergeAcross&&n.appendEmptyCells(o.mergeAcross)})}))},e.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},e.prototype.onNewHeaderGroupingRowColumn=function(t,n,r,o){r!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n),this.appendEmptyCells(o)},e.prototype.appendEmptyCells=function(t){for(var n=1;n<=t;n++)this.result+=this.columnSeparator+this.putInQuotes("")},e.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},e.prototype.onNewHeaderRowColumn=function(t,n){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(t))},e.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},e.prototype.onNewBodyRowColumn=function(t,n,r){var o;n!=0&&(this.result+=this.columnSeparator);var s=this.extractRowCellValue(t,n,n,"csv",r);this.result+=this.putInQuotes((o=s.valueFormatted)!==null&&o!==void 0?o:s.value)},e.prototype.putInQuotes=function(t){if(this.suppressQuotes)return t;if(t==null)return'""';var n;typeof t=="string"?n=t:typeof t.toString=="function"?n=t.toString():(console.warn("AG Grid: unknown value type during csv conversion"),n="");var r=n.replace(/"/g,'""');return'"'+r+'"'},e.prototype.parse=function(){return this.result},e.prototype.beginNewLine=function(){this.isFirstLine||(this.result+=mB),this.isFirstLine=!1},e}(fhe),yhe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Oa=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Che=function(i){yhe(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})},e.prototype.getMergedParams=function(t){var n=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},n,t)},e.prototype.export=function(t){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var n=this.getMergedParams(t),r=this.getData(n),o=new Blob(["\uFEFF",r],{type:"text/plain"});return ghe.download(this.getFileName(n.fileName),o),r},e.prototype.exportDataAsCsv=function(t){return this.export(t)},e.prototype.getDataAsCsv=function(t,n){n===void 0&&(n=!1);var r=n?Object.assign({},t):this.getMergedParams(t);return this.getData(r)},e.prototype.getDefaultFileExtension=function(){return"csv"},e.prototype.createSerializingSession=function(t){var n=this,r=n.columnModel,o=n.valueService,s=n.gridOptionsService,a=n.valueFormatterService,l=n.valueParserService,u=t,c=u.processCellCallback,d=u.processHeaderCallback,h=u.processGroupHeaderCallback,p=u.processRowGroupCallback,f=u.suppressQuotes,g=u.columnSeparator;return new mhe({columnModel:r,valueService:o,gridOptionsService:s,valueFormatterService:a,valueParserService:l,processCellCallback:c||void 0,processHeaderCallback:d||void 0,processGroupHeaderCallback:h||void 0,processRowGroupCallback:p||void 0,suppressQuotes:f||!1,columnSeparator:g||","})},e.prototype.isExportSuppressed=function(){return this.gridOptionsService.get("suppressCsvExport")},Oa([y("columnModel")],e.prototype,"columnModel",void 0),Oa([y("valueService")],e.prototype,"valueService",void 0),Oa([y("gridSerializer")],e.prototype,"gridSerializer",void 0),Oa([y("gridOptionsService")],e.prototype,"gridOptionsService",void 0),Oa([y("valueFormatterService")],e.prototype,"valueFormatterService",void 0),Oa([y("valueParserService")],e.prototype,"valueParserService",void 0),Oa([W],e.prototype,"postConstruct",null),e=Oa([ee("csvCreator")],e),e}(phe),_he=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ia=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o};var whe=function(i){_he(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.serialize=function(t,n){n===void 0&&(n={});var r=n.allColumns,o=n.columnKeys,s=n.skipRowGroups,a=this.getColumnsToExport(r,s,o),l=Te.compose(this.prepareSession(a),this.prependContent(n),this.exportColumnGroups(n,a),this.exportHeaders(n,a),this.processPinnedTopRows(n,a),this.processRows(n,a),this.processPinnedBottomRows(n,a),this.appendContent(n));return l(t).parse()},e.prototype.processRow=function(t,n,r,o){var s=n.shouldRowBeSkipped||function(){return!1},a=this.gridOptionsService.get("groupRemoveSingleChildren"),l=this.gridOptionsService.get("groupRemoveLowestSingleChildren"),u=n.rowPositions!=null,c=u||!!n.onlySelected,d=this.gridOptionsService.get("groupHideOpenParents")&&!c,h=this.columnModel.isPivotMode()?o.leafGroup:!o.group,p=!!o.footer;n.skipRowGroups;var f=l&&o.leafGroup,g=o.allChildrenCount===1&&(a||f);if(!(!h&&!p&&(n.skipRowGroups||g||d)||n.onlySelected&&!o.isSelected()||n.skipPinnedTop&&o.rowPinned==="top"||n.skipPinnedBottom&&o.rowPinned==="bottom")){var v=o.level===-1;if(!(v&&!h&&!p)){var m=s(this.gridOptionsService.addGridCommonParams({node:o}));if(!m){var _=t.onNewBodyRow(o);if(r.forEach(function(S,R){_.onColumn(S,R,o)}),n.getCustomContentBelowRow){var w=n.getCustomContentBelowRow(this.gridOptionsService.addGridCommonParams({node:o}));w&&t.addCustomContent(w)}}}}},e.prototype.appendContent=function(t){return function(n){var r=t.appendContent;return r&&n.addCustomContent(r),n}},e.prototype.prependContent=function(t){return function(n){var r=t.prependContent;return r&&n.addCustomContent(r),n}},e.prototype.prepareSession=function(t){return function(n){return n.prepare(t),n}},e.prototype.exportColumnGroups=function(t,n){var r=this;return function(o){if(!t.skipColumnGroupHeaders){var s=new kB,a=r.displayedGroupCreator.createDisplayedGroups(n,s,null);r.recursivelyAddHeaderGroups(a,o,t.processGroupHeaderCallback)}return o}},e.prototype.exportHeaders=function(t,n){return function(r){if(!t.skipColumnHeaders){var o=r.onNewHeaderRow();n.forEach(function(s,a){o.onColumn(s,a,void 0)})}return r}},e.prototype.processPinnedTopRows=function(t,n){var r=this;return function(o){var s=r.processRow.bind(r,o,t,n);return t.rowPositions?t.rowPositions.filter(function(a){return a.rowPinned==="top"}).sort(function(a,l){return a.rowIndex-l.rowIndex}).map(function(a){return r.pinnedRowModel.getPinnedTopRow(a.rowIndex)}).forEach(s):r.pinnedRowModel.forEachPinnedTopRow(s),o}},e.prototype.processRows=function(t,n){var r=this;return function(o){var s=r.rowModel,a=s.getType(),l=a==="clientSide",u=a==="serverSide",c=!l&&t.onlySelected,d=r.processRow.bind(r,o,t,n),h=t.exportedRows,p=h===void 0?"filteredAndSorted":h;if(t.rowPositions)t.rowPositions.filter(function(g){return g.rowPinned==null}).sort(function(g,v){return g.rowIndex-v.rowIndex}).map(function(g){return s.getRow(g.rowIndex)}).forEach(d);else if(r.columnModel.isPivotMode())l?s.forEachPivotNode(d,!0):u?s.forEachNodeAfterFilterAndSort(d,!0):s.forEachNode(d);else if(t.onlySelectedAllPages||c){var f=r.selectionService.getSelectedNodes();r.replicateSortedOrder(f),f.forEach(d)}else p==="all"?s.forEachNode(d):l||u?s.forEachNodeAfterFilterAndSort(d,!0):s.forEachNode(d);return o}},e.prototype.replicateSortedOrder=function(t){var n=this,r=this.sortController.getSortOptions(),o=function(s,a){var l,u,c,d;return s.rowIndex!=null&&a.rowIndex!=null?s.rowIndex-a.rowIndex:s.level===a.level?((l=s.parent)===null||l===void 0?void 0:l.id)===((u=a.parent)===null||u===void 0?void 0:u.id)?n.rowNodeSorter.compareRowNodes(r,{rowNode:s,currentPos:(c=s.rowIndex)!==null&&c!==void 0?c:-1},{rowNode:a,currentPos:(d=a.rowIndex)!==null&&d!==void 0?d:-1}):o(s.parent,a.parent):s.level>a.level?o(s.parent,a):o(s,a.parent)};t.sort(o)},e.prototype.processPinnedBottomRows=function(t,n){var r=this;return function(o){var s=r.processRow.bind(r,o,t,n);return t.rowPositions?t.rowPositions.filter(function(a){return a.rowPinned==="bottom"}).sort(function(a,l){return a.rowIndex-l.rowIndex}).map(function(a){return r.pinnedRowModel.getPinnedBottomRow(a.rowIndex)}).forEach(s):r.pinnedRowModel.forEachPinnedBottomRow(s),o}},e.prototype.getColumnsToExport=function(t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);var o=this.columnModel.isPivotMode();if(r&&r.length)return this.columnModel.getGridColumns(r);var s=this.gridOptionsService.get("treeData"),a=[];return t&&!o?a=this.columnModel.getAllGridColumns():a=this.columnModel.getAllDisplayedColumns(),n&&!s&&(a=a.filter(function(l){return l.getColId()!==hd})),a},e.prototype.recursivelyAddHeaderGroups=function(t,n,r){var o=[];t.forEach(function(s){var a=s;a.getChildren&&a.getChildren().forEach(function(l){return o.push(l)})}),t.length>0&&t[0]instanceof dn&&this.doAddHeaderHeader(n,t,r),o&&o.length>0&&this.recursivelyAddHeaderGroups(o,n,r)},e.prototype.doAddHeaderHeader=function(t,n,r){var o=this,s=t.onNewHeaderGroupingRow(),a=0;n.forEach(function(l){var u=l,c;r?c=r(o.gridOptionsService.addGridCommonParams({columnGroup:u})):c=o.columnModel.getDisplayNameForColumnGroup(u,"header");var d=u.getLeafColumns().reduce(function(h,p,f,g){var v=Te.last(h),m=p.getColumnGroupShow()==="open";return m?(!v||v[1]!=null)&&(v=[f],h.push(v)):v&&v[1]==null&&(v[1]=f-1),f===g.length-1&&v&&v[1]==null&&(v[1]=f),h},[]);s.onColumn(u,c||"",a++,u.getLeafColumns().length-1,d)})},Ia([y("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),Ia([y("columnModel")],e.prototype,"columnModel",void 0),Ia([y("rowModel")],e.prototype,"rowModel",void 0),Ia([y("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Ia([y("selectionService")],e.prototype,"selectionService",void 0),Ia([y("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),Ia([y("sortController")],e.prototype,"sortController",void 0),e=Ia([ee("gridSerializer")],e),e}(j),She="31.0.3",Ehe={version:She,moduleName:re.CsvExportModule,beans:[Che,whe]},jC=`\r
`,sMe=function(){function i(){}return i.createHeader=function(e){e===void 0&&(e={});var t="<?",n="?>",r=["version"];e.version||(e.version="1.0"),e.encoding&&r.push("encoding"),e.standalone&&r.push("standalone");var o=r.map(function(s){return"".concat(s,'="').concat(e[s],'"')}).join(" ");return"".concat(t,"xml ").concat(o," ").concat(n)},i.createXml=function(e,t){var n=this,r="";e.properties&&(e.properties.prefixedAttributes&&e.properties.prefixedAttributes.forEach(function(s){Object.keys(s.map).forEach(function(a){r+=n.returnAttributeIfPopulated(s.prefix+a,s.map[a],t)})}),e.properties.rawMap&&Object.keys(e.properties.rawMap).forEach(function(s){r+=n.returnAttributeIfPopulated(s,e.properties.rawMap[s],t)}));var o="<"+e.name+r;return!e.children&&e.textNode==null?o+"/>"+jC:e.textNode!=null?o+">"+e.textNode+"</"+e.name+">"+jC:(o+=">"+jC,e.children&&e.children.forEach(function(s){o+=n.createXml(s,t)}),o+"</"+e.name+">"+jC)},i.returnAttributeIfPopulated=function(e,t,n){if(!t&&t!==""&&t!==0)return"";var r=t;return typeof t=="boolean"&&n&&(r=n(t))," ".concat(e,'="').concat(r,'"')},i}(),bhe=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Dhe=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),aMe=function(){function i(){}return i.addFolders=function(e){e.forEach(this.addFolder.bind(this))},i.addFolder=function(e){this.folders.push({path:e,created:new Date,isBase64:!1})},i.addFile=function(e,t,n){n===void 0&&(n=!1),this.files.push({path:e,created:new Date,content:t,isBase64:n})},i.getContent=function(e){e===void 0&&(e="application/zip");var t=this.buildFileStream(),n=this.buildUint8Array(t);return this.clearStream(),new Blob([n],{type:e})},i.clearStream=function(){this.folders=[],this.files=[]},i.buildFileStream=function(e){var t,n;e===void 0&&(e="");var r=this.folders.concat(this.files),o=r.length,s="",a=0,l=0;try{for(var u=bhe(r),c=u.next();!c.done;c=u.next()){var d=c.value,h=this.getHeader(d,a),p=h.fileHeader,f=h.folderHeader,g=h.content;a+=p.length+g.length,l+=f.length,e+=p+g,s+=f}}catch(m){t={error:m}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}var v=this.buildFolderEnd(o,l,a);return e+s+v},i.getHeader=function(e,t){var n=e.content,r=e.path,o=e.created,s=e.isBase64,a=Te.utf8_encode,l=Te.decToHex,u=a(r),c=u!==r,d=this.convertTime(o),h=this.convertDate(o),p="";if(c){var f=l(1,1)+l(this.getFromCrc32Table(u),4)+u;p="up"+l(f.length,2)+f}var g=n?this.getConvertedContent(n,s):{size:0,content:""},v=g.size,m=g.content,_=`
\0`+(c?"\0\b":"\0\0")+"\0\0"+l(d,2)+l(h,2)+l(v?this.getFromCrc32Table(m):0,4)+l(v,4)+l(v,4)+l(u.length,2)+l(p.length,2),w="PK"+_+u+p,S="PK\0"+_+"\0\0\0\0\0\0"+(n?"\0\0\0\0":"\0\0\0")+l(t,4)+u+p;return{fileHeader:w,folderHeader:S,content:m||""}},i.getConvertedContent=function(e,t){return t===void 0&&(t=!1),t&&(e=e.split(";base64,")[1]),e=t?atob(e):e,{size:e.length,content:e}},i.buildFolderEnd=function(e,t,n){var r=Te.decToHex;return"PK\0\0\0\0"+r(e,2)+r(e,2)+r(t,4)+r(n,4)+"\0\0"},i.buildUint8Array=function(e){for(var t=new Uint8Array(e.length),n=0;n<t.length;n++)t[n]=e.charCodeAt(n);return t},i.getFromCrc32Table=function(e){if(!e.length)return 0;for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);for(var o=-1,s=0,a=0,l=0,r=0;r<t;r++)s=n[r],a=(o^s)&255,l=Dhe[a],o=o>>>8^l;return o^-1},i.convertTime=function(e){var t=e.getHours();return t<<=6,t=t|e.getMinutes(),t<<=5,t=t|e.getSeconds()/2,t},i.convertDate=function(e){var t=e.getFullYear()-1980;return t<<=4,t=t|e.getMonth()+1,t<<=5,t=t|e.getDate(),t},i.folders=[],i.files=[],i}(),Rhe=[rhe,hhe,Ehe];lt.registerModules(Rhe);var oU=(()=>{class i extends AO{constructor(t){super("angular"),this._ngZone=t,this.isRunningWithinTestZone=!1,this.wrapIncoming=(n,r)=>this.runOutside(n,r),this.wrapOutgoing=n=>this.runInsideAngular(n),this.isRunningWithinTestZone=window?.AG_GRID_UNDER_TEST??!!window?.Zone?.AsyncTestZoneSpec,this._ngZone?this.isRunningWithinTestZone?this.runOutside=(n,r)=>r==="resize-observer"?this._ngZone.runOutsideAngular(n):n():this.runOutside=n=>this._ngZone.runOutsideAngular(n):this.runOutside=n=>n()}get shouldWrapOutgoing(){return this._ngZone&&fe.isInAngularZone()}isFrameworkComponent(t){if(!t)return!1;let n=t.prototype;return n&&"agInit"in n}runInsideAngular(t){return this._ngZone?this._ngZone.run(t):t()}runOutsideAngular(t,n){return this.runOutside(t,n)}}return i.\u0275fac=function(t){return new(t||i)(G(fe))},i.\u0275prov=k({token:i,factory:i.\u0275fac}),i})(),sU=(()=>{class i extends rU{setViewContainerRef(t,n){this.viewContainerRef=t,this.angularFrameworkOverrides=n}createWrapper(t,n){let r=this.angularFrameworkOverrides,o=this;class s extends IO{init(u){r.runInsideAngular(()=>{super.init(u),this._componentRef.changeDetectorRef.detectChanges()})}createComponent(){return r.runInsideAngular(()=>o.createComponent(t))}hasMethod(u){return a.getFrameworkComponentInstance()[u]!=null}callMethod(u,c){let d=this.getFrameworkComponentInstance();return r.runInsideAngular(()=>a.getFrameworkComponentInstance()[u].apply(d,c))}addMethod(u,c){a[u]=c}}let a=new s;return a}createComponent(t){return this.viewContainerRef.createComponent(t)}}return i.\u0275fac=(()=>{let e;return function(n){return(e||(e=nn(i)))(n||i)}})(),i.\u0275prov=k({token:i,factory:i.\u0275fac}),i})(),IO=class{init(e){this._params=e,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}destroy(){this._frameworkComponentInstance&&typeof this._frameworkComponentInstance.destroy=="function"&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}},D_=(()=>{class i{constructor(t,n,r,o){this.viewContainerRef=n,this.angularFrameworkOverrides=r,this.frameworkComponentWrapper=o,this._initialised=!1,this._destroyed=!1,this._fullyReady=Tr.resolve(!0),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipTrigger=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.tooltipInteraction=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.suppressCutToClipboard=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.dataTypeDefinitions=void 0,this.maintainColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.autoSizeStrategy=void 0,this.components=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterMovesDown=void 0,this.enterMovesDownAfterEdit=void 0,this.enterNavigatesVertically=void 0,this.enterNavigatesVerticallyAfterEdit=void 0,this.enableCellEditingOnBackspace=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.excludeHiddenColumnsFromQuickFilter=void 0,this.includeHiddenColumnsInQuickFilter=void 0,this.quickFilterParser=void 0,this.quickFilterMatcher=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableAdvancedFilter=void 0,this.advancedFilterModel=void 0,this.includeHiddenColumnsInAdvancedFilter=void 0,this.advancedFilterParent=void 0,this.advancedFilterBuilderParams=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.enableChartToolPanelsButton=void 0,this.suppressChartToolPanelsButton=void 0,this.chartToolPanelsDef=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressParentsInRowNodes=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationPageSizeSelector=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotDefaultExpanded=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.alwaysAggregateAtRootLevel=void 0,this.suppressAggAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDelay=void 0,this.cellFadeDelay=void 0,this.allowShowChangeAfterFilter=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.rowDragText=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.suppressGroupMaintainValueType=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupLockGroupColumns=void 0,this.groupAggFiltering=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.groupAllowUnbalanced=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.rowGroupPanelSuppressSort=void 0,this.suppressGroupRowsSticky=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.suppressServerSideInfiniteScroll=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideOnlyRefreshFilteredGroups=void 0,this.serverSideFilterAllLevels=void 0,this.serverSideSortOnServer=void 0,this.serverSideFilterOnServer=void 0,this.serverSidePivotResultFieldSeparator=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellFocus=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.gridId=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.functionsPassive=void 0,this.enableGroupEdit=void 0,this.initialState=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processUnpinnedColumns=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new V,this.toolPanelSizeChanged=new V,this.cutStart=new V,this.cutEnd=new V,this.pasteStart=new V,this.pasteEnd=new V,this.columnVisible=new V,this.columnPinned=new V,this.columnResized=new V,this.columnMoved=new V,this.columnValueChanged=new V,this.columnPivotModeChanged=new V,this.columnPivotChanged=new V,this.columnGroupOpened=new V,this.newColumnsLoaded=new V,this.gridColumnsChanged=new V,this.displayedColumnsChanged=new V,this.virtualColumnsChanged=new V,this.columnEverythingChanged=new V,this.columnHeaderMouseOver=new V,this.columnHeaderMouseLeave=new V,this.columnHeaderClicked=new V,this.columnHeaderContextMenu=new V,this.componentStateChanged=new V,this.cellValueChanged=new V,this.cellEditRequest=new V,this.rowValueChanged=new V,this.cellEditingStarted=new V,this.cellEditingStopped=new V,this.rowEditingStarted=new V,this.rowEditingStopped=new V,this.undoStarted=new V,this.undoEnded=new V,this.redoStarted=new V,this.redoEnded=new V,this.rangeDeleteStart=new V,this.rangeDeleteEnd=new V,this.filterOpened=new V,this.filterChanged=new V,this.filterModified=new V,this.advancedFilterBuilderVisibleChanged=new V,this.chartCreated=new V,this.chartRangeSelectionChanged=new V,this.chartOptionsChanged=new V,this.chartDestroyed=new V,this.cellKeyDown=new V,this.gridReady=new V,this.gridPreDestroyed=new V,this.firstDataRendered=new V,this.gridSizeChanged=new V,this.modelUpdated=new V,this.virtualRowRemoved=new V,this.viewportChanged=new V,this.bodyScroll=new V,this.bodyScrollEnd=new V,this.dragStarted=new V,this.dragStopped=new V,this.stateUpdated=new V,this.paginationChanged=new V,this.rowDragEnter=new V,this.rowDragMove=new V,this.rowDragLeave=new V,this.rowDragEnd=new V,this.columnRowGroupChanged=new V,this.rowGroupOpened=new V,this.expandOrCollapseAll=new V,this.pinnedRowDataChanged=new V,this.rowDataUpdated=new V,this.asyncTransactionsFlushed=new V,this.storeRefreshed=new V,this.cellClicked=new V,this.cellDoubleClicked=new V,this.cellFocused=new V,this.cellMouseOver=new V,this.cellMouseOut=new V,this.cellMouseDown=new V,this.rowClicked=new V,this.rowDoubleClicked=new V,this.rowSelected=new V,this.selectionChanged=new V,this.cellContextMenu=new V,this.rangeSelectionChanged=new V,this.tooltipShow=new V,this.tooltipHide=new V,this.sortChanged=new V,this.columnRowGroupChangeRequest=new V,this.columnPivotChangeRequest=new V,this.columnValueChangeRequest=new V,this.columnAggFuncChangeRequest=new V,this._nativeElement=t.nativeElement}ngAfterViewInit(){this.angularFrameworkOverrides.runOutsideAngular(()=>{this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef,this.angularFrameworkOverrides);let t=Pf.combineAttributesAndGridOptions(this.gridOptions,this);this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]};let n=nU(this._nativeElement,t,this.gridParams);n&&(this.api=n,this.columnApi=new Vf(n));let r=this.gridPreDestroyed;(r.observed??r.observers.length>0)&&console.warn('AG Grid: gridPreDestroyed event listener registered via (gridPreDestroyed)="method($event)" will be ignored! Please assign via gridOptions.gridPreDestroyed and pass to the grid as [gridOptions]="gridOptions"'),this._initialised=!0,this._fullyReady.resolveNow(null,o=>o)})}ngOnChanges(t){this._initialised&&this.angularFrameworkOverrides.runOutsideAngular(()=>{let n={};Object.entries(t).forEach(([r,o])=>{n[r]=o.currentValue}),Pf.processOnChange(n,this.api)})}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api?.destroy())}isEmitterUsed(t){let r=this[t],o=r?.observed??r?.observers?.length>0,s=`on${t.charAt(0).toUpperCase()}${t.substring(1)}`,a=!!this.gridOptions&&!!this.gridOptions[s];return o||a}globalEventListener(t,n){if(this._destroyed)return;let r=this[t];if(r&&this.isEmitterUsed(t)){let o=()=>this.angularFrameworkOverrides.runInsideAngular(()=>r.emit(n));t==="gridReady"?this._fullyReady.then(()=>o()):o()}}}return i.\u0275fac=function(t){return new(t||i)(P(Ge),P(Mn),P(oU),P(sU))},i.\u0275cmp=ce({type:i,selectors:[["ag-grid-angular"]],inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipTrigger:"tooltipTrigger",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",tooltipInteraction:"tooltipInteraction",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressCopySingleCellRanges:"suppressCopySingleCellRanges",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",suppressCutToClipboard:"suppressCutToClipboard",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",dataTypeDefinitions:"dataTypeDefinitions",maintainColumnOrder:"maintainColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",suppressRowGroupHidesColumns:"suppressRowGroupHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",autoSizeStrategy:"autoSizeStrategy",components:"components",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterMovesDown:"enterMovesDown",enterMovesDownAfterEdit:"enterMovesDownAfterEdit",enterNavigatesVertically:"enterNavigatesVertically",enterNavigatesVerticallyAfterEdit:"enterNavigatesVerticallyAfterEdit",enableCellEditingOnBackspace:"enableCellEditingOnBackspace",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",excludeHiddenColumnsFromQuickFilter:"excludeHiddenColumnsFromQuickFilter",includeHiddenColumnsInQuickFilter:"includeHiddenColumnsInQuickFilter",quickFilterParser:"quickFilterParser",quickFilterMatcher:"quickFilterMatcher",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableAdvancedFilter:"enableAdvancedFilter",advancedFilterModel:"advancedFilterModel",includeHiddenColumnsInAdvancedFilter:"includeHiddenColumnsInAdvancedFilter",advancedFilterParent:"advancedFilterParent",advancedFilterBuilderParams:"advancedFilterBuilderParams",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",enableChartToolPanelsButton:"enableChartToolPanelsButton",suppressChartToolPanelsButton:"suppressChartToolPanelsButton",chartToolPanelsDef:"chartToolPanelsDef",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressParentsInRowNodes:"suppressParentsInRowNodes",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationPageSizeSelector:"paginationPageSizeSelector",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotDefaultExpanded:"pivotDefaultExpanded",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",alwaysAggregateAtRootLevel:"alwaysAggregateAtRootLevel",suppressAggAtRootLevel:"suppressAggAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",removePivotHeaderRowWhenSingleValueColumn:"removePivotHeaderRowWhenSingleValueColumn",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDelay:"cellFlashDelay",cellFadeDelay:"cellFadeDelay",allowShowChangeAfterFilter:"allowShowChangeAfterFilter",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",rowDragText:"rowDragText",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",suppressGroupMaintainValueType:"suppressGroupMaintainValueType",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupLockGroupColumns:"groupLockGroupColumns",groupAggFiltering:"groupAggFiltering",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",groupAllowUnbalanced:"groupAllowUnbalanced",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",rowGroupPanelSuppressSort:"rowGroupPanelSuppressSort",suppressGroupRowsSticky:"suppressGroupRowsSticky",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",suppressServerSideInfiniteScroll:"suppressServerSideInfiniteScroll",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:"serverSideSortAllLevels",serverSideOnlyRefreshFilteredGroups:"serverSideOnlyRefreshFilteredGroups",serverSideFilterAllLevels:"serverSideFilterAllLevels",serverSideSortOnServer:"serverSideSortOnServer",serverSideFilterOnServer:"serverSideFilterOnServer",serverSidePivotResultFieldSeparator:"serverSidePivotResultFieldSeparator",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellFocus:"suppressCellFocus",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",alwaysMultiSort:"alwaysMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",gridId:"gridId",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",functionsPassive:"functionsPassive",enableGroupEdit:"enableGroupEdit",initialState:"initialState",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processUnpinnedColumns:"processUnpinnedColumns",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowId:"getRowId",resetRowDataOnUpdate:"resetRowDataOnUpdate",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthRow:"isFullWidthRow"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",toolPanelSizeChanged:"toolPanelSizeChanged",cutStart:"cutStart",cutEnd:"cutEnd",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",columnHeaderMouseOver:"columnHeaderMouseOver",columnHeaderMouseLeave:"columnHeaderMouseLeave",columnHeaderClicked:"columnHeaderClicked",columnHeaderContextMenu:"columnHeaderContextMenu",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",undoStarted:"undoStarted",undoEnded:"undoEnded",redoStarted:"redoStarted",redoEnded:"redoEnded",rangeDeleteStart:"rangeDeleteStart",rangeDeleteEnd:"rangeDeleteEnd",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",advancedFilterBuilderVisibleChanged:"advancedFilterBuilderVisibleChanged",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",gridReady:"gridReady",gridPreDestroyed:"gridPreDestroyed",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",stateUpdated:"stateUpdated",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",storeRefreshed:"storeRefreshed",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",tooltipShow:"tooltipShow",tooltipHide:"tooltipHide",sortChanged:"sortChanged",columnRowGroupChangeRequest:"columnRowGroupChangeRequest",columnPivotChangeRequest:"columnPivotChangeRequest",columnValueChangeRequest:"columnValueChangeRequest",columnAggFuncChangeRequest:"columnAggFuncChangeRequest"},standalone:!0,features:[Bt([oU,sU]),Vt,ye],decls:0,vars:0,template:function(t,n){},encapsulation:2}),i})();var aU=(()=>{let e=class e{constructor(n){this.router=n}agInit(n){this.patient=n.data}refresh(n){return this.patient=n.data,!0}aiPrediction(){this.router.navigate(["/ai-prediction"],{queryParams:{patientId:this.patient.id}})}};e.\u0275fac=function(r){return new(r||e)(P(St))},e.\u0275cmp=ce({type:e,selectors:[["app-ai-prediction-button"]],standalone:!0,features:[ye],decls:2,vars:2,consts:[[1,"btn","btn-sm","btn-outline-secondary",3,"click"]],template:function(r,o){r&1&&(b(0,"button",0),Q("click",function(){return o.aiPrediction()}),H(1),D()),r&2&&(O(),th("AI Prediction for ",o.patient.firstName," ",o.patient.lastName,""))},dependencies:[st]});let i=e;return i})();var lU=(()=>{let e=class e{constructor(n){this.router=n}agInit(n){this.patient=n.data}refresh(n){return this.patient=n.data,!0}archives(){this.router.navigate(["/archives"],{queryParams:{patientId:this.patient.id}})}};e.\u0275fac=function(r){return new(r||e)(P(St))},e.\u0275cmp=ce({type:e,selectors:[["app-archives-button"]],standalone:!0,features:[ye],decls:2,vars:2,consts:[[1,"btn","btn-sm","btn-outline-secondary",3,"click"]],template:function(r,o){r&1&&(b(0,"button",0),Q("click",function(){return o.archives()}),H(1),D()),r&2&&(O(),th("",o.patient.firstName," ",o.patient.lastName,"'s Archives"))},dependencies:[st]});let i=e;return i})();var uU=(()=>{let e=class e{dateFormatter(n){return new Date(n.value).toLocaleDateString("en-us",{weekday:"long",year:"numeric",month:"short",day:"numeric"})}constructor(n,r,o,s){this.patientService=n,this.httpClient=r,this.toastr=o,this.aiPredictionService=s,this.themeClass="ag-theme-quartz",this.patients=[],this.defaultColDef={filter:!0,floatingFilter:!0},this.colDefs=[{field:"id",hide:!0},{field:"firstName"},{field:"lastName"},{field:"birthDate",valueFormatter:this.dateFormatter},{field:"dateRegistered",valueFormatter:this.dateFormatter},{field:"gender",cellRenderer:function(a){return a.value?'<span><i class="fas fa-female"></i></span>':'<i class="fas fa-male"></i>'},cellStyle:{fontSize:"18px",textAlign:"center"},floatingFilter:!1,filter:!1,width:85},{headerName:"Ai Prediction",floatingFilter:!1,filter:!1,minWidth:250,cellRenderer:aU,hide:this.hideAIPredictionButton(),suppressColumnsToolPanel:this.hideAIPredictionButton()},{headerName:"Archives",floatingFilter:!1,filter:!1,minWidth:250,cellRenderer:lU}],this.autoSizeStrategy={type:"fitGridWidth"},this.aiPredictionService.predictionRequest=new Ca,this.getPatients()}getPatients(){this.httpClient.get(vt.serverAddress+this.patientService.api.patients).subscribe(n=>{this.patients=n})}hideAIPredictionButton(){return pt.getLoginToken().roleType==_n.Cardiolog}};e.\u0275fac=function(r){return new(r||e)(P(Er),P($t),P(ci),P(xo))},e.\u0275cmp=ce({type:e,selectors:[["app-patient-overview"]],standalone:!0,features:[ye],decls:14,vars:8,consts:[[1,"container-fluid"],[1,"row","page-titles"],[1,"col-12","col-sm-3","col-md-5","align-self-center"],[1,"text-themecolor"],[1,"col-12","col-sm-9","col-md-7","align-self-center","text-end"],[1,"d-flex","display-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],[1,"breadcrumb-item","active"],[1,"content"],["domLayout","autoHeight",3,"rowData","columnDefs","defaultColDef","pagination","columnHoverHighlight","autoSizeStrategy"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),H(4,"Patients"),D()(),b(5,"div",4)(6,"div",5)(7,"ol",6)(8,"li",7),H(9,"Pages"),D(),b(10,"li",8),H(11,"Patients"),D()()()()()(),b(12,"div",9),ne(13,"ag-grid-angular",10),D()),r&2&&(O(13),rn(o.themeClass),N("rowData",o.patients)("columnDefs",o.colDefs)("defaultColDef",o.defaultColDef)("pagination",!0)("columnHoverHighlight",!0)("autoSizeStrategy",o.autoSizeStrategy))},dependencies:[st,D_],styles:[".ag-theme-quartz[_ngcontent-%COMP%], .ag-theme-quartz-dark[_ngcontent-%COMP%]{--ag-selected-row-background-color: rgb(251, 150, 120, .3)}"]});let i=e;return i})();var cU=(()=>{let e=class e{constructor(){this.minValue=1,this.maxValue=100,this.value=50,this.valueChange=new V}setValue(n){this.value=parseInt(n.target.value),this.valueChange.next(this.value)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ce({type:e,selectors:[["slider"]],inputs:{minValue:"minValue",maxValue:"maxValue",value:"value"},outputs:{valueChange:"valueChange"},standalone:!0,features:[ye],decls:5,vars:4,consts:[["type","range",1,"slider",3,"min","max","value","change"]],template:function(r,o){r&1&&(b(0,"input",0),Q("change",function(a){return o.setValue(a)}),D(),b(1,"p"),H(2,"Value: "),b(3,"span"),H(4),D()()),r&2&&(N("min",o.minValue)("max",o.maxValue)("value",o.value),O(4),Nt(o.value))},dependencies:[st],styles:[".slider[_ngcontent-%COMP%]{-webkit-appearance:none;width:100%;height:15px;border-radius:5px;background:#fff;outline:none;opacity:.7;-webkit-transition:.2s;transition:opacity .2s}.slider[_ngcontent-%COMP%]:hover{opacity:1}.slider[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:25px;height:25px;border-radius:50%;background:var(--bs-blue);cursor:pointer}.slider[_ngcontent-%COMP%]::-moz-range-thumb{width:25px;height:25px;border-radius:50%;background:var(--bs-blue);cursor:pointer}"]});let i=e;return i})();var dU=(()=>{let e=class e{constructor(n,r,o,s){this.httpClient=n,this.modalRefResults=r,this.router=o,this.aiPredictionService=s,this.loading=!1}bookAnAppointment(){this.router.navigate(["/appointment"],{queryParams:{patientId:this.patient?.id}}),this.modalRefResults.close()}predictWithOpenAI(){this.loading=!0;let n=this.aiPredictionService.predictionRequest;n.percentage=this.aiPredictionService.prediction,this.httpClient.post(vt.serverAddress+this.aiPredictionService.api.openAiPredict,this.aiPredictionService.predictionRequest).subscribe(r=>{this.predictionMessage=r.choices[0].text},r=>{this.predictionMessage="An error occurred while predicting with Open AI."}).add(()=>this.loading=!1)}};e.\u0275fac=function(r){return new(r||e)(P($t),P(Mo),P(St),P(xo))},e.\u0275cmp=ce({type:e,selectors:[["app-results-popup"]],standalone:!0,features:[ye],decls:16,vars:5,consts:[[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"justify-content-center","align-items-center"],[1,"custom-message"],[1,"modal-footer"],[1,"d-flex","justify-content-center","align-items-center","flex-row","gap-2"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary","ml-2",3,"click"],[1,"loader-container"],[1,"loader"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"h5",1),H(2,"Prediction Results"),D(),b(3,"button",2),Q("click",function(){return o.modalRefResults.close()}),D()(),b(4,"div",3)(5,"div",4)(6,"div",5),H(7),D()()(),b(8,"div",6)(9,"div",7)(10,"button",8),Q("click",function(){return o.predictWithOpenAI()}),H(11,"Get a detailed explanation "),D(),b(12,"button",9),Q("click",function(){return o.bookAnAppointment()}),H(13," Book an Appointment "),D()()(),b(14,"div",10),ne(15,"div",11),D()),r&2&&(O(5),it("show-message",o.predictionMessage),O(2),Ot(" ",o.predictionMessage," "),O(7),it("show-loader",o.loading))},dependencies:[st],styles:[".display-flex[_ngcontent-%COMP%]{display:flex!important}.custom-form-padding[_ngcontent-%COMP%]{padding-right:16px}@media (max-width: 767px){.custom-form-padding[_ngcontent-%COMP%]{padding-right:0!important}}.custom-message-block[_ngcontent-%COMP%]{display:none}.custom-message-block.show-message[_ngcontent-%COMP%]{display:block}.custom-message[_ngcontent-%COMP%]{padding:15px;border:2px solid #fb977860;color:#333;background-color:#fb977815}.loader-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#fffc;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);z-index:1000;display:none}.loader-container.show-loader[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.loader[_ngcontent-%COMP%]{border:8px solid #f3f3f3;border-top:8px solid #3498db;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]});let i=e;return i})();function The(i,e){if(i&1&&(b(0,"option",41),H(1),D()),i&2){let t=e.$implicit;N("value",t.value),O(),Ot("",t.label," ")}}function Ahe(i,e){if(i&1&&(b(0,"option",42),H(1),D()),i&2){let t=e.$implicit,n=K(2);N("value",t.value)("ngClass",n.getSelectOptionClassPressure(t.value)),O(),Ot("",t.label," ")}}function Ohe(i,e){if(i&1){let t=At();lr(0),b(1,"div",29)(2,"label",30),H(3,"*Chest Pain Type (Cp)"),D(),b(4,"select",31),Q("ngModelChange",function(r){Me(t);let o=K();return xe(o.aiPredictionService.predictionRequest.cp=r)}),se(5,The,2,2,"option",32),D()(),b(6,"div",29)(7,"div",33)(8,"label",34),H(9,"*Resting Electrocardiographic Results (Rest ECG) "),D(),b(10,"span",35),H(11," (Normal: 120/80 mmHg)"),D()(),b(12,"select",36),Q("ngModelChange",function(r){Me(t);let o=K();return xe(o.aiPredictionService.predictionRequest.trestBps=r)}),se(13,Ahe,2,3,"option",37),D()(),b(14,"div",29)(15,"div",33)(16,"label",38),H(17,"*Serum Cholesterol (Chol) "),D(),b(18,"span",35),H(19," (Normal: < 5 mmol / L)"),D()(),b(20,"slider",39),Q("valueChange",function(r){Me(t);let o=K();return xe(o.aiPredictionService.predictionRequest.chol=r)}),D()(),b(21,"div",29)(22,"div",33)(23,"label"),H(24,"*Fasting Blood Sugar (Fbs) "),D(),b(25,"span",35),H(26," (Normal: 3 - 6 mmol / L)"),D()(),b(27,"slider",40),Q("valueChange",function(r){Me(t);let o=K();return xe(o.aiPredictionService.predictionRequest.fbs=r)}),D()(),ur()}if(i&2){let t=K();O(4),N("ngModel",t.aiPredictionService.predictionRequest.cp),O(),N("ngForOf",t.aiPredictionService.cpOptions),O(7),N("ngModel",t.aiPredictionService.predictionRequest.trestBps),O(),N("ngForOf",t.aiPredictionService.trestBps),O(7),Pi("color",t.getTextColor()),N("value",t.aiPredictionService.predictionRequest.chol),O(7),Pi("color",t.getTextColorSugar()),N("maxValue",23)("value",t.aiPredictionService.predictionRequest.fbs)}}function Ihe(i,e){if(i&1&&(b(0,"option",42),H(1),D()),i&2){let t=e.$implicit,n=K(2);N("value",t.value)("ngClass",n.getSelectOptionClass(t.value)),O(),Ot("",t.label," ")}}function Mhe(i,e){if(i&1&&(b(0,"option",42),H(1),D()),i&2){let t=e.$implicit,n=K(2);N("value",t.value)("ngClass",n.getSelectOptionClassHeartRate(t.value)),O(),Ot("",t.label," ")}}function xhe(i,e){if(i&1){let t=At();lr(0),b(1,"div",29)(2,"label",43),H(3,"*Resting Electrocardiographic Results (Rest ECG)"),D(),b(4,"select",44),Q("ngModelChange",function(r){Me(t);let o=K();return xe(o.aiPredictionService.predictionRequest.restEcg=r)}),se(5,Ihe,2,3,"option",37),D()(),b(6,"div",29)(7,"div",33)(8,"label",45),H(9,"*Maximum Heart Rate Achieved (Thalach) "),D(),b(10,"span",35),H(11," (Normal: 60-100 beats per minute)"),D()(),b(12,"select",46),Q("ngModelChange",function(r){Me(t);let o=K();return xe(o.aiPredictionService.predictionRequest.thalach=r)}),se(13,Mhe,2,3,"option",37),D()(),b(14,"div",29)(15,"label",47),H(16,"Exercise Induced Angina (Exang)"),D(),b(17,"div",48)(18,"input",49),Q("change",function(r){Me(t);let o=K();return xe(o.updateExangValue(r))}),D(),b(19,"label",50),H(20,"Exang"),D()()(),b(21,"div",29)(22,"label",51),H(23,"*ST Depression Induced by Exercise Relative to Rest (Old Peak)"),D(),b(24,"slider",39),Q("valueChange",function(r){Me(t);let o=K();return xe(o.aiPredictionService.predictionRequest.oldPeak=r)}),D()(),ur()}if(i&2){let t=K();O(4),N("ngModel",t.aiPredictionService.predictionRequest.restEcg),O(),N("ngForOf",t.aiPredictionService.restEcgOptions),O(7),N("ngModel",t.aiPredictionService.predictionRequest.thalach),O(),N("ngForOf",t.aiPredictionService.thalachOptions),O(5),N("checked",t.aiPredictionService.predictionRequest.exang),O(6),N("value",t.aiPredictionService.predictionRequest.oldPeak)}}function Phe(i,e){if(i&1&&(b(0,"option",42),H(1),D()),i&2){let t=e.$implicit,n=K(2);N("value",t.value)("ngClass",n.getSelectOptionThal(t.value)),O(),Ot("",t.label," ")}}function Fhe(i,e){if(i&1){let t=At();lr(0),b(1,"div",29)(2,"label",52),H(3,"*Slope of the Peak Exercise ST Segment (Slope)"),D(),b(4,"slider",39),Q("valueChange",function(r){Me(t);let o=K();return xe(o.aiPredictionService.predictionRequest.slope=r)}),D()(),b(5,"div",29)(6,"div",33)(7,"label"),H(8,"*Number of Major Vessels Colored by Fluoroscopy (Ca) "),D(),b(9,"span",35),H(10," (Normal: 0)"),D()(),b(11,"slider",53),Q("valueChange",function(r){Me(t);let o=K();return xe(o.aiPredictionService.predictionRequest.ca=r)}),D()(),b(12,"div",29)(13,"div",33)(14,"label",45),H(15,"*Thalassemia (Thal) "),D(),b(16,"span",35),H(17," (Normal: No)"),D()(),b(18,"select",46),Q("ngModelChange",function(r){Me(t);let o=K();return xe(o.aiPredictionService.predictionRequest.thal=r)}),se(19,Phe,2,3,"option",37),D()(),ur()}if(i&2){let t=K();O(4),N("value",t.aiPredictionService.predictionRequest.slope),O(7),Pi("color",t.getTextColorCa()),N("maxValue",3)("minValue",0)("value",t.aiPredictionService.predictionRequest.ca),O(7),N("ngModel",t.aiPredictionService.predictionRequest.thal),O(),N("ngForOf",t.aiPredictionService.thal)}}function Nhe(i,e){if(i&1&&(b(0,"button",54),H(1,"Predict"),D()),i&2){let t=K(),n=ul(26);N("disabled",!n.valid&&!t.predictionMessage)}}var hU=(()=>{let e=class e{constructor(n,r,o,s,a,l,u){this.httpClient=n,this.aiPredictionService=r,this.toastr=o,this.patientService=s,this.route=a,this.router=l,this.modalService=u,this.formStep=1,this.predictionMessage="",this.appointment=!1,this.loading=!1,this.modalRefResultsPopup=null}ngOnInit(){this.handleQueryParams(),this.aiPredictionService.predictionRequest.chol=3,this.aiPredictionService.predictionRequest.fbs=3}handleQueryParams(){this.route.queryParams.subscribe(n=>{n.patientId&&this.getPatient(n.patientId)})}getPatient(n){this.httpClient.get(vt.serverAddress+this.patientService.api.patients+"/"+n).subscribe(r=>{this.patient=r})}updateExangValue(n){this.aiPredictionService.predictionRequest.exang=n.target.checked?1:0}clearPredictionForm(){this.aiPredictionService.predictionRequest=new Ca,this.toastr.info("Prediction form has been cleared!"),this.predictionMessage="",this.appointment=!1}predict(){this.validateFields()&&(this.loading=!0,this.httpClient.post(vt.serverAddress+this.aiPredictionService.api.predict,this.aiPredictionService.predictionRequest).subscribe(n=>{this.predictionMessage="The likelihood percentage of the patient suffering from cardiovascular disease is: "+n+"%",this.openPredictModal(this.predictionMessage),this.aiPredictionService.prediction=n,this.appointment=!0},n=>{this.predictionMessage="An error occurred while predicting."}).add(()=>this.loading=!1))}validateFields(n=!0){return this.aiPredictionService.predictionRequest.chol<1||this.aiPredictionService.predictionRequest.fbs<1||this.aiPredictionService.predictionRequest.oldPeak<1||this.aiPredictionService.predictionRequest.slope<1?(n&&this.toastr.error("Please ensure that numeric values are greater than or equal to 1!"),this.predictionMessage="",!1):!0}getTextColor(){let n=this.aiPredictionService.predictionRequest.chol,r="";return n<5?r="green":n==5?r="orange":n>5&&(r="red"),r}getTextColorSugar(){let n=this.aiPredictionService.predictionRequest.fbs,r="";return n>=3&&n<=6?r="green":n<3?r="red":n>6&&n<=9?r="orange":n>9&&(r="red"),r}getTextColorCa(){let n=this.aiPredictionService.predictionRequest.ca,r="";return n==0?r="green":n==1?r="orange":n>1&&(r="red"),r}getSelectOptionClass(n){let r="";return n==0?r="normal-option":n==1?r="bad-option":n==2&&(r="worst-option"),r}getSelectOptionThal(n){let r="";return n==0?r="normal-option":n==1&&(r="worst-option"),r}getSelectOptionClassHeartRate(n){let r="";return n==3?r="normal-option":(n==6||n==7)&&(r="worst-option"),r}getSelectOptionClassPressure(n){let r="";return n==1||n==2?r="normal-option":n==3||n==4?r="bad-option":r="worst-option",r}goBack(){pt.getLoginToken().roleType==_n.Doctor?this.router.navigate(["../"]):this.router.navigate(["/calendar"])}openPredictModal(n){this.modalRefResultsPopup=this.modalService.open(dU,{modalClass:"modal-lg modal-dialog-scrollable",data:{predictionMessage:n,patient:this.patient}})}};e.\u0275fac=function(r){return new(r||e)(P($t),P(xo),P(ci),P(Er),P(ui),P(St),P(Cr))},e.\u0275cmp=ce({type:e,selectors:[["app-ai-prediction"]],standalone:!0,features:[Bt([Cr]),ye],decls:40,vars:12,consts:[[1,"container-fluid"],[1,"row","page-titles"],[1,"col-12","col-sm-3","col-md-5","align-self-center"],[1,"d-flex","display-flex","align-items-center"],["type","button",1,"btn","btn-info","d-lg-block","m-r-15","text-white",3,"click"],[1,"fas","fa-angle-left"],[1,"text-themecolor"],[1,"col-12","col-sm-9","col-md-7","align-self-center","text-end"],[1,"d-flex","display-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],[1,"breadcrumb-item","active"],["type","button",1,"btn","btn-info","d-lg-block","m-l-15","text-white",3,"click"],[1,"fas","fa-eraser"],[1,"w-full","d-flex","justify-content-center","align-items-center"],["id","progressbar"],["id","step1",3,"ngClass"],["id","step2",3,"ngClass"],["id","step3",3,"ngClass"],[1,"m-4",3,"ngSubmit"],["predictionForm","ngForm"],[1,"col-12","d-flex","display-flex","flex-wrap","justify-content-between"],[4,"ngIf"],[1,"d-flex","flex-row","justify-content-center","align-items-center","mb-4","gap-2"],["type","button",1,"btn","btn-info",3,"disabled","click"],[1,"d-flex","justify-content-center","align-items-center","flex-row","gap-2"],["type","submit","class","btn btn-info",3,"disabled",4,"ngIf"],[1,"loader-container"],[1,"loader"],[1,"form-group","col-12","col-md-6","custom-form-padding"],["for","cp"],["id","cp","name","cp","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between"],["for","trestBps"],[1,"normal-label-text"],["id","trestBps","name","trestBps","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"value","ngClass",4,"ngFor","ngForOf"],["for","chol"],[3,"value","valueChange"],[3,"maxValue","value","valueChange"],[3,"value"],[3,"value","ngClass"],["for","restEcg"],["id","restEcg","name","restEcg","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","thalach"],["id","thalach","name","thalach","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","exang"],[1,"form-check"],["type","checkbox","id","exang","name","exang","required","",1,"form-check-input",3,"checked","change"],["for","exang",1,"form-check-label"],["for","oldPeak"],["for","slope"],[3,"maxValue","minValue","value","valueChange"],["type","submit",1,"btn","btn-info",3,"disabled"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),Q("click",function(){return o.goBack()}),ne(5,"i",5),D(),b(6,"h4",6),H(7,"AI Prediction"),D()()(),b(8,"div",7)(9,"div",8)(10,"ol",9)(11,"li",10),H(12,"Pages"),D(),b(13,"li",11),H(14,"AI Prediction"),D(),b(15,"li",10),H(16),D()(),b(17,"button",12),Q("click",function(){return o.clearPredictionForm()}),ne(18,"i",13),H(19," Clear prediction form"),D()()()()(),b(20,"div",14)(21,"ul",15),ne(22,"li",16)(23,"li",17)(24,"li",18),D()(),b(25,"form",19,20),Q("ngSubmit",function(){return o.predict()}),b(27,"div",21),se(28,Ohe,28,11,"ng-container",22)(29,xhe,25,6,"ng-container",22)(30,Fhe,20,8,"ng-container",22),D(),b(31,"div",23)(32,"button",24),Q("click",function(){return o.formStep=o.formStep-1}),H(33,"Back"),D(),b(34,"button",24),Q("click",function(){return o.formStep=o.formStep+1}),H(35,"Next"),D()(),b(36,"div",25),se(37,Nhe,2,1,"button",26),D(),b(38,"div",27),ne(39,"div",28),D()()),r&2&&(O(16),Nt((o.patient==null?null:o.patient.firstName)+" "+(o.patient==null?null:o.patient.lastName)),O(6),N("ngClass",o.formStep>=1?"active":""),O(),N("ngClass",o.formStep>=2?"active":""),O(),N("ngClass",o.formStep===3?"active":""),O(4),N("ngIf",o.formStep===1),O(),N("ngIf",o.formStep===2),O(),N("ngIf",o.formStep===3),O(2),N("disabled",o.formStep===1),O(2),N("disabled",o.formStep===3),O(3),N("ngIf",o.formStep===3),O(),it("show-loader",o.loading))},dependencies:[st,qs,Ks,Li,yc,_c,wc,Cc,ta,mc,cs,us,gl,cU],styles:['.display-flex[_ngcontent-%COMP%]{display:flex!important}.custom-form-padding[_ngcontent-%COMP%]{padding-right:16px}@media (max-width: 767px){.custom-form-padding[_ngcontent-%COMP%]{padding-right:0!important}}.custom-message-block[_ngcontent-%COMP%]{display:none}.custom-message-block.show-message[_ngcontent-%COMP%]{display:block}.custom-message[_ngcontent-%COMP%]{padding:15px;border:2px solid silver;color:#333;background-color:#f2f2f2}.loader-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#fffc;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);z-index:1000;display:none}.loader-container.show-loader[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.loader[_ngcontent-%COMP%]{border:8px solid #f3f3f3;border-top:8px solid #3498db;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}#progressbar[_ngcontent-%COMP%]{width:100%;margin-left:25%;margin-bottom:30px;overflow:hidden;color:#d3d3d3}#progressbar[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#000}#progressbar[_ngcontent-%COMP%]   #step1[_ngcontent-%COMP%]:before{text-align:center;font-family:FontAwesome;content:"1"}#progressbar[_ngcontent-%COMP%]   #step2[_ngcontent-%COMP%]:before{text-align:center;font-family:FontAwesome;content:"2"}#progressbar[_ngcontent-%COMP%]   #step3[_ngcontent-%COMP%]:before{text-align:center;font-family:FontAwesome;content:"3"}#progressbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none;font-size:12px;width:25%;float:left;position:relative}#progressbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{width:50px;height:50px;line-height:45px;display:block;font-size:18px;color:#fff;background:#d3d3d3;border-radius:50%;margin:0 auto 10px;padding:2px}#progressbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:after{content:"";width:100%;height:2px;background:#d3d3d3;position:absolute;left:0;top:25px;z-index:-1}#progressbar[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:before, #progressbar[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:after{background:#87ceeb}']});let i=e;return i})();var pU=(()=>{let e=class e{constructor(n,r,o,s,a){this.aiPredictionService=n,this.httpClient=r,this.patientService=o,this.route=s,this.router=a,this.themeClass="ag-theme-quartz",this.predictionResults=[],this.defaultColDef={filter:!0,floatingFilter:!0},this.colDefs=[{field:"id",headerName:"ID",hide:!0},{field:"cp",headerName:"Chest Pain Type"},{field:"trestBps",headerName:"Resting Blood Pressure"},{field:"chol",headerName:"Serum Cholesterol"},{field:"fbs",headerName:"Fasting Blood Sugar"},{field:"restEcg",headerName:"Rest ECG"},{field:"thalach",headerName:"Maximum Heart Rate Achieved"},{field:"exang",headerName:"Exercise Induced Angina"},{field:"oldPeak",headerName:"Old Peak"},{field:"slope",headerName:"Slope"},{field:"ca",headerName:"Number of Vessels Colored"},{field:"thal",headerName:"Thalassemia"},{field:"label",headerName:"Result"}]}ngOnInit(){this.handleQueryParams()}handleQueryParams(){this.route.queryParams.subscribe(n=>{n.patientId&&this.getPatient(n.patientId)})}getPatient(n){this.httpClient.get(vt.serverAddress+this.patientService.api.patients+"/"+n).subscribe(r=>{this.patient=r,this.getArchives()})}getArchives(){this.httpClient.get(vt.serverAddress+this.aiPredictionService.api.predictionResult+"/"+this.patient.id).subscribe(n=>{this.predictionResults=n})}goBack(){this.router.navigate(["../"])}};e.\u0275fac=function(r){return new(r||e)(P(xo),P($t),P(Er),P(ui),P(St))},e.\u0275cmp=ce({type:e,selectors:[["app-archive"]],standalone:!0,features:[ye],decls:19,vars:8,consts:[[1,"container-fluid"],[1,"row","page-titles"],[1,"col-12","col-sm-3","col-md-5","align-self-center"],[1,"d-flex","display-flex","align-items-center"],["type","button",1,"btn","btn-info","d-lg-block","m-r-15","text-white",3,"click"],[1,"fas","fa-angle-left"],[1,"text-themecolor"],[1,"col-12","col-sm-9","col-md-7","align-self-center","text-end"],[1,"d-flex","display-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],[1,"breadcrumb-item","active"],[1,"content"],["domLayout","autoHeight",3,"rowData","columnDefs","defaultColDef","pagination","columnHoverHighlight"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),Q("click",function(){return o.goBack()}),ne(5,"i",5),D(),b(6,"h4",6),H(7,"Archives"),D()()(),b(8,"div",7)(9,"div",8)(10,"ol",9)(11,"li",10),H(12,"Pages"),D(),b(13,"li",11),H(14,"Archives"),D(),b(15,"li",10),H(16),D()()()()()(),b(17,"div",12),ne(18,"ag-grid-angular",13),D()),r&2&&(O(16),Nt((o.patient==null?null:o.patient.firstName)+" "+(o.patient==null?null:o.patient.lastName)),O(2),rn(o.themeClass),N("rowData",o.predictionResults)("columnDefs",o.colDefs)("defaultColDef",o.defaultColDef)("pagination",!0)("columnHoverHighlight",!0))},dependencies:[st,D_]});let i=e;return i})();var fU=[{path:"",component:Gm},{path:"home-page",component:tL},{path:"patient-example",component:nL},{path:"appointment",component:rH},{path:"patients",component:uU},{path:"calendar",component:oH},{path:"ai-prediction",component:hU},{path:"archives",component:pU}];function gU(i){i.providers.push({provide:Ur,useClass:Yv}),window.location.href.includes("#")||(document.getElementsByTagName("base")[0].href="/#/")}function vU(i){return new X(3e3,!1)}function Lhe(){return new X(3100,!1)}function khe(){return new X(3101,!1)}function Vhe(i){return new X(3001,!1)}function Ghe(i){return new X(3003,!1)}function Hhe(i){return new X(3004,!1)}function Bhe(i,e){return new X(3005,!1)}function jhe(){return new X(3006,!1)}function Uhe(){return new X(3007,!1)}function Whe(i,e){return new X(3008,!1)}function zhe(i){return new X(3002,!1)}function $he(i,e,t,n,r){return new X(3010,!1)}function qhe(){return new X(3011,!1)}function Khe(){return new X(3012,!1)}function Yhe(){return new X(3200,!1)}function Qhe(){return new X(3202,!1)}function Zhe(){return new X(3013,!1)}function Xhe(i){return new X(3014,!1)}function Jhe(i){return new X(3015,!1)}function epe(i){return new X(3016,!1)}function tpe(i,e){return new X(3404,!1)}function npe(i){return new X(3502,!1)}function ipe(i){return new X(3503,!1)}function rpe(){return new X(3300,!1)}function ope(i){return new X(3504,!1)}function spe(i){return new X(3301,!1)}function ape(i,e){return new X(3302,!1)}function lpe(i){return new X(3303,!1)}function upe(i,e){return new X(3400,!1)}function cpe(i){return new X(3401,!1)}function dpe(i){return new X(3402,!1)}function hpe(i,e){return new X(3505,!1)}function Ha(i){switch(i.length){case 0:return new na;case 1:return i[0];default:return new Hh(i)}}function IU(i,e,t=new Map,n=new Map){let r=[],o=[],s=-1,a=null;if(e.forEach(l=>{let u=l.get("offset"),c=u==s,d=c&&a||new Map;l.forEach((h,p)=>{let f=p,g=h;if(p!=="offset")switch(f=i.normalizePropertyName(f,r),g){case Vm:g=t.get(p);break;case So:g=n.get(p);break;default:g=i.normalizeStyleValue(p,f,g,r);break}d.set(f,g)}),c||o.push(d),a=d,s=u}),r.length)throw npe(r);return o}function XO(i,e,t,n){switch(e){case"start":i.onStart(()=>n(t&&MO(t,"start",i)));break;case"done":i.onDone(()=>n(t&&MO(t,"done",i)));break;case"destroy":i.onDestroy(()=>n(t&&MO(t,"destroy",i)));break}}function MO(i,e,t){let n=t.totalTime,r=!!t.disabled,o=JO(i.element,i.triggerName,i.fromState,i.toState,e||i.phaseName,n??i.totalTime,r),s=i._data;return s!=null&&(o._data=s),o}function JO(i,e,t,n,r="",o=0,s){return{element:i,triggerName:e,fromState:t,toState:n,phaseName:r,totalTime:o,disabled:!!s}}function nr(i,e,t){let n=i.get(e);return n||i.set(e,n=t),n}function mU(i){let e=i.indexOf(":"),t=i.substring(1,e),n=i.slice(e+1);return[t,n]}var ppe=typeof document>"u"?null:document.documentElement;function eI(i){let e=i.parentNode||i.host||null;return e===ppe?null:e}function fpe(i){return i.substring(1,6)=="ebkit"}var fu=null,yU=!1;function gpe(i){fu||(fu=vpe()||{},yU=fu.style?"WebkitAppearance"in fu.style:!1);let e=!0;return fu.style&&!fpe(i)&&(e=i in fu.style,!e&&yU&&(e="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in fu.style)),e}function vpe(){return typeof document<"u"?document.body:null}function MU(i,e){for(;e;){if(e===i)return!0;e=eI(e)}return!1}function xU(i,e,t){if(t)return Array.from(i.querySelectorAll(e));let n=i.querySelector(e);return n?[n]:[]}var tI=(()=>{let e=class e{validateStyleProperty(n){return gpe(n)}matchesElement(n,r){return!1}containsElement(n,r){return MU(n,r)}getParentElement(n){return eI(n)}query(n,r,o){return xU(n,r,o)}computeStyle(n,r,o){return o||""}animate(n,r,o,s,a,l=[],u){return new na(o,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac});let i=e;return i})(),zf=(()=>{let e=class e{};e.NOOP=new tI;let i=e;return i})(),mu=class{};var mpe=1e3,PU="{{",ype="}}",FU="ng-enter",kO="ng-leave",R_="ng-trigger",M_=".ng-trigger",CU="ng-animating",VO=".ng-animating";function Os(i){if(typeof i=="number")return i;let e=i.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:GO(parseFloat(e[1]),e[2])}function GO(i,e){switch(e){case"s":return i*mpe;default:return i}}function x_(i,e,t){return i.hasOwnProperty("duration")?i:Cpe(i,e,t)}function Cpe(i,e,t){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,s="";if(typeof i=="string"){let a=i.match(n);if(a===null)return e.push(vU(i)),{duration:0,delay:0,easing:""};r=GO(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=GO(parseFloat(l),a[4]));let u=a[5];u&&(s=u)}else r=i;if(!t){let a=!1,l=e.length;r<0&&(e.push(Lhe()),a=!0),o<0&&(e.push(khe()),a=!0),a&&e.splice(l,0,vU(i))}return{duration:r,delay:o,easing:s}}function _pe(i){return i.length?i[0]instanceof Map?i:i.map(e=>new Map(Object.entries(e))):[]}function Wo(i,e,t){e.forEach((n,r)=>{let o=nI(r);t&&!t.has(r)&&t.set(r,i.style[o]),i.style[o]=n})}function vu(i,e){e.forEach((t,n)=>{let r=nI(n);i.style[r]=""})}function Gf(i){return Array.isArray(i)?i.length==1?i[0]:$1(i):i}function wpe(i,e,t){let n=e.params||{},r=NU(i);r.length&&r.forEach(o=>{n.hasOwnProperty(o)||t.push(Vhe(o))})}var HO=new RegExp(`${PU}\\s*(.+?)\\s*${ype}`,"g");function NU(i){let e=[];if(typeof i=="string"){let t;for(;t=HO.exec(i);)e.push(t[1]);HO.lastIndex=0}return e}function Bf(i,e,t){let n=`${i}`,r=n.replace(HO,(o,s)=>{let a=e[s];return a==null&&(t.push(Ghe(s)),a=""),a.toString()});return r==n?i:r}var Spe=/-+([a-z0-9])/g;function nI(i){return i.replace(Spe,(...e)=>e[1].toUpperCase())}function Epe(i,e){return i===0||e===0}function bpe(i,e,t){if(t.size&&e.length){let n=e[0],r=[];if(t.forEach((o,s)=>{n.has(s)||r.push(s),n.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,iI(i,a)))}}return e}function tr(i,e,t){switch(e.type){case Ne.Trigger:return i.visitTrigger(e,t);case Ne.State:return i.visitState(e,t);case Ne.Transition:return i.visitTransition(e,t);case Ne.Sequence:return i.visitSequence(e,t);case Ne.Group:return i.visitGroup(e,t);case Ne.Animate:return i.visitAnimate(e,t);case Ne.Keyframes:return i.visitKeyframes(e,t);case Ne.Style:return i.visitStyle(e,t);case Ne.Reference:return i.visitReference(e,t);case Ne.AnimateChild:return i.visitAnimateChild(e,t);case Ne.AnimateRef:return i.visitAnimateRef(e,t);case Ne.Query:return i.visitQuery(e,t);case Ne.Stagger:return i.visitStagger(e,t);default:throw Hhe(e.type)}}function iI(i,e){return window.getComputedStyle(i)[e]}var Dpe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),P_=class extends mu{normalizePropertyName(e,t){return nI(e)}normalizeStyleValue(e,t,n,r){let o="",s=n.toString().trim();if(Dpe.has(t)&&n!==0&&n!=="0")if(typeof n=="number")o="px";else{let a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(Bhe(e,n))}return s+o}};var F_="*";function Rpe(i,e){let t=[];return typeof i=="string"?i.split(/\s*,\s*/).forEach(n=>Tpe(n,t,e)):t.push(i),t}function Tpe(i,e,t){if(i[0]==":"){let l=Ape(i,t);if(typeof l=="function"){e.push(l);return}i=l}let n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return t.push(Jhe(i)),e;let r=n[1],o=n[2],s=n[3];e.push(_U(r,s));let a=r==F_&&s==F_;o[0]=="<"&&!a&&e.push(_U(s,r))}function Ape(i,e){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,n)=>parseFloat(n)>parseFloat(t);case":decrement":return(t,n)=>parseFloat(n)<parseFloat(t);default:return e.push(epe(i)),"* => *"}}var T_=new Set(["true","1"]),A_=new Set(["false","0"]);function _U(i,e){let t=T_.has(i)||A_.has(i),n=T_.has(e)||A_.has(e);return(r,o)=>{let s=i==F_||i==r,a=e==F_||e==o;return!s&&t&&typeof r=="boolean"&&(s=r?T_.has(i):A_.has(i)),!a&&n&&typeof o=="boolean"&&(a=o?T_.has(e):A_.has(e)),s&&a}}var LU=":self",Ope=new RegExp(`s*${LU}s*,?`,"g");function kU(i,e,t,n){return new BO(i).build(e,t,n)}var wU="",BO=class{constructor(e){this._driver=e}build(e,t,n){let r=new jO(t);return this._resetContextStyleTimingState(r),tr(this,Gf(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=wU,e.collectedStyles=new Map,e.collectedStyles.set(wU,new Map),e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,r=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(jhe()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==Ne.State){let l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(c=>{l.name=c,o.push(this.visitState(l,t))}),l.name=u}else if(a.type==Ne.Transition){let l=this.visitTransition(a,t);n+=l.queryCount,r+=l.depCount,s.push(l)}else t.errors.push(Uhe())}),{type:Ne.Trigger,name:e.name,states:o,transitions:s,queryCount:n,depCount:r,options:null}}visitState(e,t){let n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){let o=new Set,s=r||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{NU(l).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&t.errors.push(Whe(e.name,[...o.values()]))}return{type:Ne.State,name:e.name,style:n,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let n=tr(this,Gf(e.animation),t),r=Rpe(e.expr,t.errors);return{type:Ne.Transition,matchers:r,animation:n,queryCount:t.queryCount,depCount:t.depCount,options:gu(e.options)}}visitSequence(e,t){return{type:Ne.Sequence,steps:e.steps.map(n=>tr(this,n,t)),options:gu(e.options)}}visitGroup(e,t){let n=t.currentTime,r=0,o=e.steps.map(s=>{t.currentTime=n;let a=tr(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:Ne.Group,steps:o,options:gu(e.options)}}visitAnimate(e,t){let n=Ppe(e.timings,t.errors);t.currentAnimateTimings=n;let r,o=e.styles?e.styles:vl({});if(o.type==Ne.Keyframes)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let u={};n.easing&&(u.easing=n.easing),s=vl(u)}t.currentTime+=n.duration+n.delay;let l=this.visitStyle(s,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:Ne.Animate,timings:n,style:r,options:null}}visitStyle(e,t){let n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){let n=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===So?n.push(a):t.errors.push(zhe(a)):n.push(new Map(Object.entries(a)));let o=!1,s=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(PU)>=0){o=!0;break}}}),{type:Ne.Style,styles:n,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let n=t.currentAnimateTimings,r=t.currentTime,o=t.currentTime;n&&o>0&&(o-=n.duration+n.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let u=t.collectedStyles.get(t.currentQuerySelector),c=u.get(l),d=!0;c&&(o!=r&&o>=c.startTime&&r<=c.endTime&&(t.errors.push($he(l,c.startTime,c.endTime,o,r)),d=!1),o=c.startTime),d&&u.set(l,{startTime:o,endTime:r}),t.options&&wpe(a,t.options,t.errors)})})}visitKeyframes(e,t){let n={type:Ne.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(qhe()),n;let r=1,o=0,s=[],a=!1,l=!1,u=0,c=e.steps.map(m=>{let _=this._makeStyleAst(m,t),w=_.offset!=null?_.offset:xpe(_.styles),S=0;return w!=null&&(o++,S=_.offset=w),l=l||S<0||S>1,a=a||S<u,u=S,s.push(S),_});l&&t.errors.push(Khe()),a&&t.errors.push(Yhe());let d=e.steps.length,h=0;o>0&&o<d?t.errors.push(Qhe()):o==0&&(h=r/(d-1));let p=d-1,f=t.currentTime,g=t.currentAnimateTimings,v=g.duration;return c.forEach((m,_)=>{let w=h>0?_==p?1:h*_:s[_],S=w*v;t.currentTime=f+g.delay+S,g.duration=S,this._validateStyleAst(m,t),m.offset=w,n.styles.push(m)}),n}visitReference(e,t){return{type:Ne.Reference,animation:tr(this,Gf(e.animation),t),options:gu(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Ne.AnimateChild,options:gu(e.options)}}visitAnimateRef(e,t){return{type:Ne.AnimateRef,animation:this.visitReference(e.animation,t),options:gu(e.options)}}visitQuery(e,t){let n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=Ipe(e.selector);t.currentQuerySelector=n.length?n+" "+o:o,nr(t.collectedStyles,t.currentQuerySelector,new Map);let a=tr(this,Gf(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:Ne.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:gu(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(Zhe());let n=e.timings==="full"?{duration:0,delay:0,easing:"full"}:x_(e.timings,t.errors,!0);return{type:Ne.Stagger,animation:tr(this,Gf(e.animation),t),timings:n,options:null}}};function Ipe(i){let e=!!i.split(/\s*,\s*/).find(t=>t==LU);return e&&(i=i.replace(Ope,"")),i=i.replace(/@\*/g,M_).replace(/@\w+/g,t=>M_+"-"+t.slice(1)).replace(/:animating/g,VO),[i,e]}function Mpe(i){return i?z({},i):null}var jO=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function xpe(i){if(typeof i=="string")return null;let e=null;if(Array.isArray(i))i.forEach(t=>{if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}});else if(i instanceof Map&&i.has("offset")){let t=i;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function Ppe(i,e){if(i.hasOwnProperty("duration"))return i;if(typeof i=="number"){let o=x_(i,e).duration;return xO(o,0,"")}let t=i;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=xO(0,0,"");return o.dynamic=!0,o.strValue=t,o}let r=x_(t,e);return xO(r.duration,r.delay,r.easing)}function gu(i){return i?(i=z({},i),i.params&&(i.params=Mpe(i.params))):i={},i}function xO(i,e,t){return{duration:i,delay:e,easing:t}}function rI(i,e,t,n,r,o,s=null,a=!1){return{type:1,element:i,keyframes:e,preStyleProps:t,postStyleProps:n,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}var jf=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},Fpe=1,Npe=":enter",Lpe=new RegExp(Npe,"g"),kpe=":leave",Vpe=new RegExp(kpe,"g");function VU(i,e,t,n,r,o=new Map,s=new Map,a,l,u=[]){return new UO().buildKeyframes(i,e,t,n,r,o,s,a,l,u)}var UO=class{buildKeyframes(e,t,n,r,o,s,a,l,u,c=[]){u=u||new jf;let d=new WO(e,t,u,r,o,c,[]);d.options=l;let h=l.delay?Os(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,l),tr(this,n,d);let p=d.timelines.filter(f=>f.containsAnimation());if(p.length&&a.size){let f;for(let g=p.length-1;g>=0;g--){let v=p[g];if(v.element===t){f=v;break}}f&&!f.allowOnlyTimelineStyles()&&f.setStyles([a],null,d.errors,l)}return p.length?p.map(f=>f.buildKeyframes()):[rI(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let n=t.subInstructions.get(t.element);if(n){let r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,n),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,n){for(let r of e){let o=r?.delay;if(o){let s=typeof o=="number"?o:Os(Bf(o,r?.params??{},t.errors));n.delayNextStep(s)}}}_visitSubInstructions(e,t,n){let o=t.currentTimeline.currentTime,s=n.duration!=null?Os(n.duration):null,a=n.delay!=null?Os(n.delay):null;return s!==0&&e.forEach(l=>{let u=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),tr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let n=t.subContextCount,r=t,o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==Ne.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=N_);let s=Os(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>tr(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let n=[],r=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Os(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),tr(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let n=e.strValue,r=t.params?Bf(n,t.params,t.errors):n;return x_(r,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());let o=e.style;o.type==Ne.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(n.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();let o=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(o):n.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let n=t.currentAnimateTimings,r=t.currentTimeline.duration,o=n.duration,a=t.createSubContext().currentTimeline;a.easing=n.easing,e.styles.forEach(l=>{let u=l.offset||0;a.forwardTime(u*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){let n=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?Os(r.delay):0;o&&(t.previousNode.type===Ne.Style||n==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=N_);let s=n,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((u,c)=>{t.currentQueryIndex=c;let d=t.createSubContext(e.options,u);o&&d.delayNextStep(o),u===t.element&&(l=d.currentTimeline),tr(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let h=d.currentTimeline.currentTime;s=Math.max(s,h)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let n=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime;break}let c=t.currentTimeline;l&&c.delayNextStep(l);let d=c.currentTime;tr(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-d+(r.startTime-n.currentTimeline.startTime)}},N_={},WO=class i{constructor(e,t,n,r,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=N_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new L_(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let n=e,r=this.options;n.duration!=null&&(r.duration=Os(n.duration)),n.delay!=null&&(r.delay=Os(n.delay));let o=n.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Bf(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let n=e.params={};Object.keys(t).forEach(r=>{n[r]=t[r]})}}return e}createSubContext(e=null,t,n){let r=t||this.element,o=new i(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=N_,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){let r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(n??0)+e.delay,easing:""},o=new zO(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(Lpe,"."+this._enterClassName),e=e.replace(Vpe,"."+this._leaveClassName);let l=n!=1,u=this._driver.query(this.element,e,l);n!==0&&(u=n<0?u.slice(u.length+n,u.length):u.slice(0,n)),a.push(...u)}return!o&&a.length==0&&s.push(Xhe(t)),a}},L_=class i{constructor(e,t,n,r){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new i(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Fpe,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,n]of this._globalTimelineStyles)this._backFill.set(t,n||So),this._currentKeyframe.set(t,So);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,r){t&&this._previousKeyframe.set("easing",t);let o=r&&r.params||{},s=Gpe(e,this._globalTimelineStyles);for(let[a,l]of s){let u=Bf(l,o,n);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??So),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,n)=>{let r=this._styleSummary.get(n);(!r||t.time>r.time)&&this._updateStyle(n,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,n=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let u=new Map([...this._backFill,...a]);u.forEach((c,d)=>{c===Vm?e.add(d):c===So&&t.add(d)}),n||u.set("offset",l/this.duration),r.push(u)});let o=[...e.values()],s=[...t.values()];if(n){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return rI(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},zO=class extends L_{constructor(e,t,n,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=n+t,a=t/s,l=new Map(e[0]);l.set("offset",0),o.push(l);let u=new Map(e[0]);u.set("offset",SU(a)),o.push(u);let c=e.length-1;for(let d=1;d<=c;d++){let h=new Map(e[d]),p=h.get("offset"),f=t+p*n;h.set("offset",SU(f/s)),o.push(h)}n=s,t=0,r="",e=o}return rI(this.element,e,this.preStyleProps,this.postStyleProps,n,t,r,!0)}};function SU(i,e=3){let t=Math.pow(10,e-1);return Math.round(i*t)/t}function Gpe(i,e){let t=new Map,n;return i.forEach(r=>{if(r==="*"){n??=e.keys();for(let o of n)t.set(o,So)}else for(let[o,s]of r)t.set(o,s)}),t}function EU(i,e,t,n,r,o,s,a,l,u,c,d,h){return{type:0,element:i,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:n,toStyles:s,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:d,errors:h}}var PO={},k_=class{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,r){return Hpe(this.ast.matchers,e,t,n,r)}buildStyles(e,t,n){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,n):new Map}build(e,t,n,r,o,s,a,l,u,c){let d=[],h=this.ast.options&&this.ast.options.params||PO,p=a&&a.params||PO,f=this.buildStyles(n,p,d),g=l&&l.params||PO,v=this.buildStyles(r,g,d),m=new Set,_=new Map,w=new Map,S=r==="void",R={params:GU(g,h),delay:this.ast.options?.delay},T=c?[]:VU(e,t,this.ast.animation,o,s,f,v,R,u,d),x=0;return T.forEach(A=>{x=Math.max(A.duration+A.delay,x)}),d.length?EU(t,this._triggerName,n,r,S,f,v,[],[],_,w,x,d):(T.forEach(A=>{let U=A.element,q=nr(_,U,new Set);A.preStyleProps.forEach(oe=>q.add(oe));let $=nr(w,U,new Set);A.postStyleProps.forEach(oe=>$.add(oe)),U!==t&&m.add(U)}),EU(t,this._triggerName,n,r,S,f,v,T,[...m.values()],_,w,x))}};function Hpe(i,e,t,n,r){return i.some(o=>o(e,t,n,r))}function GU(i,e){let t=z({},e);return Object.entries(i).forEach(([n,r])=>{r!=null&&(t[n]=r)}),t}var $O=class{constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n}buildStyles(e,t){let n=new Map,r=GU(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Bf(s,r,t));let l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),n.set(a,s)})}),n}};function Bpe(i,e,t){return new qO(i,e,t)}var qO=class{constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new $O(r.style,o,n))}),bU(this.states,"true","1"),bU(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new k_(e,r,this.states))}),this.fallbackTransition=jpe(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,r){return this.transitionFactories.find(s=>s.match(e,t,n,r))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}};function jpe(i,e,t){let n=[(s,a)=>!0],r={type:Ne.Sequence,steps:[],options:null},o={type:Ne.Transition,animation:r,matchers:n,options:null,queryCount:0,depCount:0};return new k_(i,o,e)}function bU(i,e,t){i.has(e)?i.has(t)||i.set(t,i.get(e)):i.has(t)&&i.set(e,i.get(t))}var Upe=new jf,KO=class{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let n=[],r=[],o=kU(this._driver,t,n,r);if(n.length)throw ipe(n);r.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,t,n){let r=e.element,o=IU(this._normalizer,e.keyframes,t,n);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){let r=[],o=this._animations.get(e),s,a=new Map;if(o?(s=VU(this._driver,t,o,FU,kO,new Map,new Map,n,Upe,r),s.forEach(c=>{let d=nr(a,c.element,new Map);c.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(rpe()),s=[]),r.length)throw ope(r);a.forEach((c,d)=>{c.forEach((h,p)=>{c.set(p,this._driver.computeStyle(d,p,So))})});let l=s.map(c=>{let d=a.get(c.element);return this._buildPlayer(c,new Map,d)}),u=Ha(l);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw spe(e);return t}listen(e,t,n,r){let o=JO(t,"","","");return XO(this._getPlayer(e),n,o,r),()=>{}}command(e,t,n,r){if(n=="register"){this.register(e,r[0]);return}if(n=="create"){let s=r[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},DU="ng-animate-queued",Wpe=".ng-animate-queued",FO="ng-animate-disabled",zpe=".ng-animate-disabled",$pe="ng-star-inserted",qpe=".ng-star-inserted",Kpe=[],HU={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ype={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},to="__ng_removed",Uf=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let n=e&&e.hasOwnProperty("value"),r=n?e.value:e;if(this.value=Zpe(r),n){let o=e,{value:s}=o,a=U_(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let n=this.options.params;Object.keys(t).forEach(r=>{n[r]==null&&(n[r]=t[r])})}}},Hf="void",NO=new Uf(Hf),YO=class{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Pr(t,this._hostClassName)}listen(e,t,n,r){if(!this._triggers.has(t))throw ape(n,t);if(n==null||n.length==0)throw lpe(t);if(!Xpe(n))throw upe(n,t);let o=nr(this._elementListeners,e,[]),s={name:t,phase:n,callback:r};o.push(s);let a=nr(this._engine.statesByElement,e,new Map);return a.has(t)||(Pr(e,R_),Pr(e,R_+"-"+t),a.set(t,NO)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw cpe(e);return t}trigger(e,t,n,r=!0){let o=this._getTrigger(t),s=new Wf(this.id,t,e),a=this._engine.statesByElement.get(e);a||(Pr(e,R_),Pr(e,R_+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t),u=new Uf(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(t,u),l||(l=NO),!(u.value===Hf)&&l.value===u.value){if(!tfe(l.params,u.params)){let g=[],v=o.matchStyles(l.value,l.params,g),m=o.matchStyles(u.value,u.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{vu(e,v),Wo(e,m)})}return}let h=nr(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let p=o.matchTransition(l.value,u.value,e,u.params),f=!1;if(!p){if(!r)return;p=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:p,fromState:l,toState:u,player:s,isFallbackTransition:f}),f||(Pr(e,DU),s.onStart(()=>{md(e,DU)})),s.onDone(()=>{let g=this.players.indexOf(s);g>=0&&this.players.splice(g,1);let v=this._engine.playersByElement.get(e);if(v){let m=v.indexOf(s);m>=0&&v.splice(m,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(n=>n.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let n=this._engine.driver.query(e,M_,!0);n.forEach(r=>{if(r[to])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,n,r){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((l,u)=>{if(s.set(u,l.value),this._triggers.has(u)){let c=this.trigger(e,u,Hf,r);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),n&&Ha(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){let r=new Set;t.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let l=this._triggers.get(s).fallbackTransition,u=n.get(s)||NO,c=new Uf(Hf),d=new Wf(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:u,toState:c,player:d,isFallbackTransition:!0})})}}removeNode(e,t){let n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(n.totalAnimations){let o=n.players.length?n.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(n.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)n.markElementAsRemoved(this.id,e,!1,t);else{let o=e[to];(!o||o===HU)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){Pr(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(n=>{let r=n.player;if(r.destroyed)return;let o=n.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==n.triggerName){let l=JO(o,n.triggerName,n.fromState.value,n.toState.value);l._data=e,XO(n.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(n)}),this._queue=[],t.sort((n,r)=>{let o=n.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},QO=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(n=>{n.queued&&e.push(n)})}),e}createNamespace(e,t){let n=new YO(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){let n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let l=r.get(a);if(l){let u=n.indexOf(l);n.splice(u+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||n.unshift(e)}else n.push(e);return r.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(e);this.namespacesByHostElement.delete(n.hostElement);let r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,n=this.statesByElement.get(e);if(n){for(let r of n.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}}return t}trigger(e,t,n,r){if(O_(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,n,r),!0}return!1}insertNode(e,t,n,r){if(!O_(t))return;let o=t[to];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,n)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Pr(e,FO)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),md(e,FO))}removeNode(e,t,n){if(O_(t)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(t,n):this.markElementAsRemoved(e,t,!1,n);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,n)}else this._onRemovalComplete(t,n)}markElementAsRemoved(e,t,n,r,o){this.collectedLeaveElements.push(t),t[to]={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,n,r,o){return O_(t)?this._fetchNamespace(e).listen(t,n,r,o):()=>{}}_buildInstruction(e,t,n,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,M_,!0);t.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,VO,!0),t.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ha(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[to];if(t&&t.setForRemoval){if(e[to]=HU,t.namespaceId){this.destroyInnerAnimations(e);let n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(FO)&&this.markElementAsDisabled(e,!1),this.driver.query(e,zpe,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let r=this.collectedEnterElements[n];Pr(r,$pe)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{t=this._flushAnimations(n,e)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let r=this.collectedLeaveElements[n];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],t.length?Ha(t).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(e){throw dpe(e)}_flushAnimations(e,t){let n=new jf,r=[],o=new Map,s=[],a=new Map,l=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(J=>{c.add(J);let Y=this.driver.query(J,Wpe,!0);for(let te=0;te<Y.length;te++)c.add(Y[te])});let d=this.bodyNode,h=Array.from(this.statesByElement.keys()),p=AU(h,this.collectedEnterElements),f=new Map,g=0;p.forEach((J,Y)=>{let te=FU+g++;f.set(Y,te),J.forEach(he=>Pr(he,te))});let v=[],m=new Set,_=new Set;for(let J=0;J<this.collectedLeaveElements.length;J++){let Y=this.collectedLeaveElements[J],te=Y[to];te&&te.setForRemoval&&(v.push(Y),m.add(Y),te.hasAnimation?this.driver.query(Y,qpe,!0).forEach(he=>m.add(he)):_.add(Y))}let w=new Map,S=AU(h,Array.from(m));S.forEach((J,Y)=>{let te=kO+g++;w.set(Y,te),J.forEach(he=>Pr(he,te))}),e.push(()=>{p.forEach((J,Y)=>{let te=f.get(Y);J.forEach(he=>md(he,te))}),S.forEach((J,Y)=>{let te=w.get(Y);J.forEach(he=>md(he,te))}),v.forEach(J=>{this.processLeaveNode(J)})});let R=[],T=[];for(let J=this._namespaceList.length-1;J>=0;J--)this._namespaceList[J].drainQueuedTransitions(t).forEach(te=>{let he=te.player,et=te.element;if(R.push(he),this.collectedEnterElements.length){let Wt=et[to];if(Wt&&Wt.setForMove){if(Wt.previousTriggersValues&&Wt.previousTriggersValues.has(te.triggerName)){let qn=Wt.previousTriggersValues.get(te.triggerName),Gn=this.statesByElement.get(te.element);if(Gn&&Gn.has(te.triggerName)){let Cu=Gn.get(te.triggerName);Cu.value=qn,Gn.set(te.triggerName,Cu)}}he.destroy();return}}let gn=!d||!this.driver.containsElement(d,et),xt=w.get(et),Vn=f.get(et),ht=this._buildInstruction(te,n,Vn,xt,gn);if(ht.errors&&ht.errors.length){T.push(ht);return}if(gn){he.onStart(()=>vu(et,ht.fromStyles)),he.onDestroy(()=>Wo(et,ht.toStyles)),r.push(he);return}if(te.isFallbackTransition){he.onStart(()=>vu(et,ht.fromStyles)),he.onDestroy(()=>Wo(et,ht.toStyles)),r.push(he);return}let Fr=[];ht.timelines.forEach(Wt=>{Wt.stretchStartingKeyframe=!0,this.disabledNodes.has(Wt.element)||Fr.push(Wt)}),ht.timelines=Fr,n.append(et,ht.timelines);let Ba={instruction:ht,player:he,element:et};s.push(Ba),ht.queriedElements.forEach(Wt=>nr(a,Wt,[]).push(he)),ht.preStyleProps.forEach((Wt,qn)=>{if(Wt.size){let Gn=l.get(qn);Gn||l.set(qn,Gn=new Set),Wt.forEach((Cu,ja)=>Gn.add(ja))}}),ht.postStyleProps.forEach((Wt,qn)=>{let Gn=u.get(qn);Gn||u.set(qn,Gn=new Set),Wt.forEach((Cu,ja)=>Gn.add(ja))})});if(T.length){let J=[];T.forEach(Y=>{J.push(hpe(Y.triggerName,Y.errors))}),R.forEach(Y=>Y.destroy()),this.reportError(J)}let x=new Map,A=new Map;s.forEach(J=>{let Y=J.element;n.has(Y)&&(A.set(Y,Y),this._beforeAnimationBuild(J.player.namespaceId,J.instruction,x))}),r.forEach(J=>{let Y=J.element;this._getPreviousPlayers(Y,!1,J.namespaceId,J.triggerName,null).forEach(he=>{nr(x,Y,[]).push(he),he.destroy()})});let U=v.filter(J=>OU(J,l,u)),q=new Map;TU(q,this.driver,_,u,So).forEach(J=>{OU(J,l,u)&&U.push(J)});let oe=new Map;p.forEach((J,Y)=>{TU(oe,this.driver,new Set(J),l,Vm)}),U.forEach(J=>{let Y=q.get(J),te=oe.get(J);q.set(J,new Map([...Y?.entries()??[],...te?.entries()??[]]))});let Ae=[],tt=[],je={};s.forEach(J=>{let{element:Y,player:te,instruction:he}=J;if(n.has(Y)){if(c.has(Y)){te.onDestroy(()=>Wo(Y,he.toStyles)),te.disabled=!0,te.overrideTotalTime(he.totalTime),r.push(te);return}let et=je;if(A.size>1){let xt=Y,Vn=[];for(;xt=xt.parentNode;){let ht=A.get(xt);if(ht){et=ht;break}Vn.push(xt)}Vn.forEach(ht=>A.set(ht,et))}let gn=this._buildAnimation(te.namespaceId,he,x,o,oe,q);if(te.setRealPlayer(gn),et===je)Ae.push(te);else{let xt=this.playersByElement.get(et);xt&&xt.length&&(te.parentPlayer=Ha(xt)),r.push(te)}}else vu(Y,he.fromStyles),te.onDestroy(()=>Wo(Y,he.toStyles)),tt.push(te),c.has(Y)&&r.push(te)}),tt.forEach(J=>{let Y=o.get(J.element);if(Y&&Y.length){let te=Ha(Y);J.setRealPlayer(te)}}),r.forEach(J=>{J.parentPlayer?J.syncPlayerEvents(J.parentPlayer):J.destroy()});for(let J=0;J<v.length;J++){let Y=v[J],te=Y[to];if(md(Y,kO),te&&te.hasAnimation)continue;let he=[];if(a.size){let gn=a.get(Y);gn&&gn.length&&he.push(...gn);let xt=this.driver.query(Y,VO,!0);for(let Vn=0;Vn<xt.length;Vn++){let ht=a.get(xt[Vn]);ht&&ht.length&&he.push(...ht)}}let et=he.filter(gn=>!gn.destroyed);et.length?Jpe(this,Y,et):this.processLeaveNode(Y)}return v.length=0,Ae.forEach(J=>{this.players.push(J),J.onDone(()=>{J.destroy();let Y=this.players.indexOf(J);this.players.splice(Y,1)}),J.play()}),Ae}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,r,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let l=!o||o==Hf;a.forEach(u=>{u.queued||!l&&u.triggerName!=r||s.push(u)})}}return(n||r)&&(s=s.filter(a=>!(n&&n!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,n){let r=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:r;for(let l of t.timelines){let u=l.element,c=u!==o,d=nr(n,u,[]);this._getPreviousPlayers(u,c,s,a,t.toState).forEach(p=>{let f=p.getRealPlayer();f.beforeDestroy&&f.beforeDestroy(),p.destroy(),d.push(p)})}vu(o,t.fromStyles)}_buildAnimation(e,t,n,r,o,s){let a=t.triggerName,l=t.element,u=[],c=new Set,d=new Set,h=t.timelines.map(f=>{let g=f.element;c.add(g);let v=g[to];if(v&&v.removedBeforeQueried)return new na(f.duration,f.delay);let m=g!==l,_=efe((n.get(g)||Kpe).map(x=>x.getRealPlayer())).filter(x=>{let A=x;return A.element?A.element===g:!1}),w=o.get(g),S=s.get(g),R=IU(this._normalizer,f.keyframes,w,S),T=this._buildPlayer(f,R,_);if(f.subTimeline&&r&&d.add(g),m){let x=new Wf(e,a,g);x.setRealPlayer(T),u.push(x)}return T});u.forEach(f=>{nr(this.playersByQueriedElement,f.element,[]).push(f),f.onDone(()=>Qpe(this.playersByQueriedElement,f.element,f))}),c.forEach(f=>Pr(f,CU));let p=Ha(h);return p.onDestroy(()=>{c.forEach(f=>md(f,CU)),Wo(l,t.toStyles)}),d.forEach(f=>{nr(r,f,[]).push(p)}),p}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new na(e.duration,e.delay)}},Wf=class{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new na,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,n)=>{t.forEach(r=>XO(e,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){nr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function Qpe(i,e,t){let n=i.get(e);if(n){if(n.length){let r=n.indexOf(t);n.splice(r,1)}n.length==0&&i.delete(e)}return n}function Zpe(i){return i??null}function O_(i){return i&&i.nodeType===1}function Xpe(i){return i=="start"||i=="done"}function RU(i,e){let t=i.style.display;return i.style.display=e??"none",t}function TU(i,e,t,n,r){let o=[];t.forEach(l=>o.push(RU(l)));let s=[];n.forEach((l,u)=>{let c=new Map;l.forEach(d=>{let h=e.computeStyle(u,d,r);c.set(d,h),(!h||h.length==0)&&(u[to]=Ype,s.push(u))}),i.set(u,c)});let a=0;return t.forEach(l=>RU(l,o[a++])),s}function AU(i,e){let t=new Map;if(i.forEach(a=>t.set(a,[])),e.length==0)return t;let n=1,r=new Set(e),o=new Map;function s(a){if(!a)return n;let l=o.get(a);if(l)return l;let u=a.parentNode;return t.has(u)?l=u:r.has(u)?l=n:l=s(u),o.set(a,l),l}return e.forEach(a=>{let l=s(a);l!==n&&t.get(l).push(a)}),t}function Pr(i,e){i.classList?.add(e)}function md(i,e){i.classList?.remove(e)}function Jpe(i,e,t){Ha(t).onDone(()=>i.processLeaveNode(e))}function efe(i){let e=[];return BU(i,e),e}function BU(i,e){for(let t=0;t<i.length;t++){let n=i[t];n instanceof Hh?BU(n.players,e):e.push(n)}}function tfe(i,e){let t=Object.keys(i),n=Object.keys(e);if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++){let o=t[r];if(!e.hasOwnProperty(o)||i[o]!==e[o])return!1}return!0}function OU(i,e,t){let n=t.get(i);if(!n)return!1;let r=e.get(i);return r?n.forEach(o=>r.add(o)):e.set(i,n),t.delete(i),!0}var yd=class{constructor(e,t,n){this._driver=t,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new QO(e.body,t,n),this._timelineEngine=new KO(e.body,t,n),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,n,r,o){let s=e+"-"+r,a=this._triggerCache[s];if(!a){let l=[],u=[],c=kU(this._driver,o,l,u);if(l.length)throw tpe(r,l);u.length&&void 0,a=Bpe(r,c,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}onRemove(e,t,n){this._transitionEngine.removeNode(e,t,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,r){if(n.charAt(0)=="@"){let[o,s]=mU(n),a=r;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,n,r)}listen(e,t,n,r,o){if(n.charAt(0)=="@"){let[s,a]=mU(n);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,n,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function nfe(i,e){let t=null,n=null;return Array.isArray(e)&&e.length?(t=LO(e[0]),e.length>1&&(n=LO(e[e.length-1]))):e instanceof Map&&(t=LO(e)),t||n?new ife(i,t,n):null}var ife=(()=>{let e=class e{constructor(n,r,o){this._element=n,this._startStyles=r,this._endStyles=o,this._state=0;let s=e.initialStylesByElement.get(n);s||e.initialStylesByElement.set(n,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Wo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Wo(this._element,this._initialStyles),this._endStyles&&(Wo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(vu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(vu(this._element,this._endStyles),this._endStyles=null),Wo(this._element,this._initialStyles),this._state=3)}};e.initialStylesByElement=new WeakMap;let i=e;return i})();function LO(i){let e=null;return i.forEach((t,n)=>{rfe(n)&&(e=e||new Map,e.set(n,t))}),e}function rfe(i){return i==="display"||i==="position"}var V_=class{constructor(e,t,n,r){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(n=>{t.push(Object.fromEntries(n))}),t}_triggerWebAnimation(e,t,n){return e.animate(this._convertKeyframesToObject(t),n)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{r!=="offset"&&e.set(r,this._finished?n:iI(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}},G_=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return MU(e,t)}getParentElement(e){return eI(e)}query(e,t,n){return xU(e,t,n)}computeStyle(e,t,n){return iI(e,t)}animate(e,t,n,r,o,s=[]){let a=r==0?"both":"forwards",l={duration:n,delay:r,fill:a};o&&(l.easing=o);let u=new Map,c=s.filter(p=>p instanceof V_);Epe(n,r)&&c.forEach(p=>{p.currentSnapshot.forEach((f,g)=>u.set(g,f))});let d=_pe(t).map(p=>new Map(p));d=bpe(e,d,u);let h=nfe(e,d);return new V_(e,d,l,h)}};var I_="@",jU="@.disabled",H_=class{constructor(e,t,n,r){this.namespaceId=e,this.delegate=t,this.engine=n,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,r=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,r){this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){t.charAt(0)==I_&&t==jU?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},ZO=class extends H_{constructor(e,t,n,r,o){super(t,n,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,n){t.charAt(0)==I_?t.charAt(1)=="."&&t==jU?(n=n===void 0?!0:!!n,this.disableAnimations(e,n)):this.engine.process(this.namespaceId,e,t.slice(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if(t.charAt(0)==I_){let r=ofe(e),o=t.slice(1),s="";return o.charAt(0)!=I_&&([o,s]=sfe(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,n,a)})}return this.delegate.listen(e,t,n)}};function ofe(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}function sfe(i){let e=i.indexOf("."),t=i.substring(0,e),n=i.slice(e+1);return[t,n]}var B_=class{constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,o)=>{let s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(e,t){let n="",r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let u=this._rendererCache,c=u.get(r);if(!c){let d=()=>u.delete(r);c=new H_(n,r,this.engine,d),u.set(r,c)}return c}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(o,s,e,u.name,u)};return t.data.animation.forEach(a),new ZO(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(n));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var lfe=(()=>{let e=class e extends yd{constructor(n,r,o,s){super(n,r,o)}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(G(ge),G(zf),G(mu),G(Un))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let i=e;return i})();function ufe(){return new P_}function cfe(i,e,t){return new B_(i,e,t)}var UU=[{provide:mu,useFactory:ufe},{provide:yd,useClass:lfe},{provide:Gr,useFactory:cfe,deps:[am,yd,fe]}],dfe=[{provide:zf,useFactory:()=>new G_},{provide:Yd,useValue:"BrowserAnimations"},...UU],bxe=[{provide:zf,useClass:tI},{provide:Yd,useValue:"NoopAnimations"},...UU];function oI(){return[...dfe]}var WU=(()=>{let e=class e{constructor(n){this.router=n}intercept(n,r){if(console.log("interceptor called"),n.url.endsWith("/login"))return r.handle(n);let o=pt.getLoginToken();if(!o.isExpired){let s=n.clone({headers:n.headers.set("Authorization",o.id)});return r.handle(s)}return console.log("Token expired, redirecting to login page"),this.router.navigate([""]),pt.clearLocalStorage(),new ve}};e.\u0275fac=function(r){return new(r||e)(G(St))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let i=e;return i})();var yu={providers:[oI()]};gU(yu);yu.providers.push(g1(fU));yu.providers.push(rE(Q1.forRoot()));yu.providers.push(oI());yu.providers.push(yN(CN()));yu.providers.push({provide:r0,useClass:WU,multi:!0});RN(J1,yu);
