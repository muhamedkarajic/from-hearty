var C4=Object.defineProperty,w4=Object.defineProperties;var S4=Object.getOwnPropertyDescriptors;var Hm=Object.getOwnPropertySymbols;var dF=Object.prototype.hasOwnProperty,hF=Object.prototype.propertyIsEnumerable;var cF=(i,e,t)=>e in i?C4(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,K=(i,e)=>{for(var t in e||={})dF.call(e,t)&&cF(i,t,e[t]);if(Hm)for(var t of Hm(e))hF.call(e,t)&&cF(i,t,e[t]);return i},be=(i,e)=>w4(i,S4(e));var Db=(i,e)=>{var t={};for(var n in i)dF.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&Hm)for(var n of Hm(i))e.indexOf(n)<0&&hF.call(i,n)&&(t[n]=i[n]);return t};function b4(i,e){return Object.is(i,e)}var Fn=null,Gm=!1,Bm=1,Nc=Symbol("SIGNAL");function $n(i){let e=Fn;return Fn=i,e}var Tb={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function fF(i){if(Gm)throw new Error("");if(Fn===null)return;Fn.consumerOnSignalRead(i);let e=Fn.nextProducerIndex++;if(Fc(Fn),e<Fn.producerNode.length&&Fn.producerNode[e]!==i&&qh(Fn)){let t=Fn.producerNode[e];jm(t,Fn.producerIndexOfThis[e])}Fn.producerNode[e]!==i&&(Fn.producerNode[e]=i,Fn.producerIndexOfThis[e]=qh(Fn)?_F(i,Fn,e):0),Fn.producerLastReadVersion[e]=i.version}function E4(){Bm++}function D4(i){if(!(qh(i)&&!i.dirty)&&!(!i.dirty&&i.lastCleanEpoch===Bm)){if(!i.producerMustRecompute(i)&&!Rb(i)){i.dirty=!1,i.lastCleanEpoch=Bm;return}i.producerRecomputeValue(i),i.dirty=!1,i.lastCleanEpoch=Bm}}function pF(i){if(i.liveConsumerNode===void 0)return;let e=Gm;Gm=!0;try{for(let t of i.liveConsumerNode)t.dirty||T4(t)}finally{Gm=e}}function gF(){return Fn?.consumerAllowSignalWrites!==!1}function T4(i){i.dirty=!0,pF(i),i.consumerMarkedDirty?.(i)}function mF(i){return i&&(i.nextProducerIndex=0),$n(i)}function vF(i,e){if($n(e),!(!i||i.producerNode===void 0||i.producerIndexOfThis===void 0||i.producerLastReadVersion===void 0)){if(qh(i))for(let t=i.nextProducerIndex;t<i.producerNode.length;t++)jm(i.producerNode[t],i.producerIndexOfThis[t]);for(;i.producerNode.length>i.nextProducerIndex;)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}function Rb(i){Fc(i);for(let e=0;e<i.producerNode.length;e++){let t=i.producerNode[e],n=i.producerLastReadVersion[e];if(n!==t.version||(D4(t),n!==t.version))return!0}return!1}function yF(i){if(Fc(i),qh(i))for(let e=0;e<i.producerNode.length;e++)jm(i.producerNode[e],i.producerIndexOfThis[e]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}function _F(i,e,t){if(CF(i),Fc(i),i.liveConsumerNode.length===0)for(let n=0;n<i.producerNode.length;n++)i.producerIndexOfThis[n]=_F(i.producerNode[n],i,n);return i.liveConsumerIndexOfThis.push(t),i.liveConsumerNode.push(e)-1}function jm(i,e){if(CF(i),Fc(i),i.liveConsumerNode.length===1)for(let n=0;n<i.producerNode.length;n++)jm(i.producerNode[n],i.producerIndexOfThis[n]);let t=i.liveConsumerNode.length-1;if(i.liveConsumerNode[e]=i.liveConsumerNode[t],i.liveConsumerIndexOfThis[e]=i.liveConsumerIndexOfThis[t],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,e<i.liveConsumerNode.length){let n=i.liveConsumerIndexOfThis[e],r=i.liveConsumerNode[e];Fc(r),r.producerIndexOfThis[n]=e}}function qh(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function Fc(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}function CF(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}function R4(){throw new Error}var wF=R4;function SF(){wF()}function bF(i){wF=i}var A4=null;function EF(i){let e=Object.create(TF);e.value=i;let t=()=>(fF(e),e.value);return t[Nc]=e,t}function Ab(i,e){gF()||SF(),i.equal(i.value,e)||(i.value=e,O4(i))}function DF(i,e){gF()||SF(),Ab(i,e(i.value))}var TF=be(K({},Tb),{equal:b4,value:void 0});function O4(i){i.version++,E4(),pF(i),A4?.()}function _e(i){return typeof i=="function"}function Lc(i){let t=i(n=>{Error.call(n),n.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Um=Lc(i=>function(t){i(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((n,r)=>`${r+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Kl(i,e){if(i){let t=i.indexOf(e);0<=t&&i.splice(t,1)}}var Bt=class i{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:n}=this;if(_e(n))try{n()}catch(o){e=o instanceof Um?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{RF(o)}catch(s){e=e??[],s instanceof Um?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Um(e)}}add(e){var t;if(e&&e!==this)if(this.closed)RF(e);else{if(e instanceof i){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Kl(t,e)}remove(e){let{_finalizers:t}=this;t&&Kl(t,e),e instanceof i&&e._removeParent(this)}};Bt.EMPTY=(()=>{let i=new Bt;return i.closed=!0,i})();var Ob=Bt.EMPTY;function Wm(i){return i instanceof Bt||i&&"closed"in i&&_e(i.remove)&&_e(i.add)&&_e(i.unsubscribe)}function RF(i){_e(i)?i():i.unsubscribe()}var uo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var kc={setTimeout(i,e,...t){let{delegate:n}=kc;return n?.setTimeout?n.setTimeout(i,e,...t):setTimeout(i,e,...t)},clearTimeout(i){let{delegate:e}=kc;return(e?.clearTimeout||clearTimeout)(i)},delegate:void 0};function zm(i){kc.setTimeout(()=>{let{onUnhandledError:e}=uo;if(e)e(i);else throw i})}function Ps(){}var AF=xb("C",void 0,void 0);function OF(i){return xb("E",void 0,i)}function xF(i){return xb("N",i,void 0)}function xb(i,e,t){return{kind:i,value:e,error:t}}var Ql=null;function Vc(i){if(uo.useDeprecatedSynchronousErrorHandling){let e=!Ql;if(e&&(Ql={errorThrown:!1,error:null}),i(),e){let{errorThrown:t,error:n}=Ql;if(Ql=null,t)throw n}}else i()}function MF(i){uo.useDeprecatedSynchronousErrorHandling&&Ql&&(Ql.errorThrown=!0,Ql.error=i)}var Zl=class extends Bt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Wm(e)&&e.add(this)):this.destination=I4}static create(e,t,n){return new Hc(e,t,n)}next(e){this.isStopped?Ib(xF(e),this):this._next(e)}error(e){this.isStopped?Ib(OF(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ib(AF,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},x4=Function.prototype.bind;function Mb(i,e){return x4.call(i,e)}var Pb=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(n){$m(n)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(n){$m(n)}else $m(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){$m(t)}}},Hc=class extends Zl{constructor(e,t,n){super();let r;if(_e(e)||!e)r={next:e??void 0,error:t??void 0,complete:n??void 0};else{let o;this&&uo.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Mb(e.next,o),error:e.error&&Mb(e.error,o),complete:e.complete&&Mb(e.complete,o)}):r=e}this.destination=new Pb(r)}};function $m(i){uo.useDeprecatedSynchronousErrorHandling?MF(i):zm(i)}function M4(i){throw i}function Ib(i,e){let{onStoppedNotification:t}=uo;t&&kc.setTimeout(()=>t(i,e))}var I4={closed:!0,next:Ps,error:M4,complete:Ps};var Gc=typeof Symbol=="function"&&Symbol.observable||"@@observable";function yi(i){return i}function Fb(...i){return Nb(i)}function Nb(i){return i.length===0?yi:i.length===1?i[0]:function(t){return i.reduce((n,r)=>r(n),t)}}var Ce=(()=>{class i{constructor(t){t&&(this._subscribe=t)}lift(t){let n=new i;return n.source=this,n.operator=t,n}subscribe(t,n,r){let o=F4(t)?t:new Hc(t,n,r);return Vc(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(n){t.error(n)}}forEach(t,n){return n=IF(n),new n((r,o)=>{let s=new Hc({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)}[Gc](){return this}pipe(...t){return Nb(t)(this)}toPromise(t){return t=IF(t),new t((n,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>n(o))})}}return i.create=e=>new i(e),i})();function IF(i){var e;return(e=i??uo.Promise)!==null&&e!==void 0?e:Promise}function P4(i){return i&&_e(i.next)&&_e(i.error)&&_e(i.complete)}function F4(i){return i&&i instanceof Zl||P4(i)&&Wm(i)}function Lb(i){return _e(i?.lift)}function ze(i){return e=>{if(Lb(e))return e.lift(function(t){try{return i(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ee(i,e,t,n,r){return new kb(i,e,t,n,r)}var kb=class extends Zl{constructor(e,t,n,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Bc(){return ze((i,e)=>{let t=null;i._refCount++;let n=Ee(e,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount){t=null;return}let r=i._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});i.subscribe(n),n.closed||(t=i.connect())})}var jc=class extends Ce{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Lb(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Bt;let t=this.getSubject();e.add(this.source.subscribe(Ee(t,void 0,()=>{this._teardown(),t.complete()},n=>{this._teardown(),t.error(n)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Bt.EMPTY)}return e}refCount(){return Bc()(this)}};var PF=Lc(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Se=(()=>{class i extends Ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let n=new qm(this,this);return n.operator=t,n}_throwIfClosed(){if(this.closed)throw new PF}next(t){Vc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(t)}})}error(t){Vc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:n}=this;for(;n.length;)n.shift().error(t)}})}complete(){Vc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:n,isStopped:r,observers:o}=this;return n||r?Ob:(this.currentObservers=null,o.push(t),new Bt(()=>{this.currentObservers=null,Kl(o,t)}))}_checkFinalizedStatuses(t){let{hasError:n,thrownError:r,isStopped:o}=this;n?t.error(r):o&&t.complete()}asObservable(){let t=new Ce;return t.source=this,t}}return i.create=(e,t)=>new qm(e,t),i})(),qm=class extends Se{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.next)===null||n===void 0||n.call(t,e)}error(e){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.error)===null||n===void 0||n.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,n;return(n=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&n!==void 0?n:Ob}};var dn=class extends Se{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:n}=this;if(e)throw t;return this._throwIfClosed(),n}next(e){super.next(this._value=e)}};var Vb={now(){return(Vb.delegate||Date).now()},delegate:void 0};var Ym=class extends Bt{constructor(e,t){super()}schedule(e,t=0){return this}};var Yh={setInterval(i,e,...t){let{delegate:n}=Yh;return n?.setInterval?n.setInterval(i,e,...t):setInterval(i,e,...t)},clearInterval(i){let{delegate:e}=Yh;return(e?.clearInterval||clearInterval)(i)},delegate:void 0};var Km=class extends Ym{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var n;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,n=0){return Yh.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return t;t!=null&&Yh.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(e,t);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n=!1,r;try{this.work(e)}catch(o){n=!0,r=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:n}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Kl(n,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Uc=class i{constructor(e,t=i.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,n){return new this.schedulerActionCtor(this,e).schedule(n,t)}};Uc.now=Vb.now;var Qm=class extends Uc{constructor(e,t=Uc.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let n;this._active=!0;do if(n=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}};var Kh=new Qm(Km),FF=Kh;var Nn=new Ce(i=>i.complete());function Zm(i){return i&&_e(i.schedule)}function Hb(i){return i[i.length-1]}function Ea(i){return _e(Hb(i))?i.pop():void 0}function Lo(i){return Zm(Hb(i))?i.pop():void 0}function NF(i,e){return typeof Hb(i)=="number"?i.pop():e}function kF(i,e,t,n){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(d){s(d)}}function l(c){try{u(n.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((n=n.apply(i,e||[])).next())})}function LF(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xl(i){return this instanceof Xl?(this.v=i,this):new Xl(i)}function VF(i,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(i,e||[]),r,o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(h){n[h]&&(r[h]=function(f){return new Promise(function(p,g){o.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{l(n[h](f))}catch(p){d(o[0][3],p)}}function l(h){h.value instanceof Xl?Promise.resolve(h.value.v).then(u,c):d(o[0][2],h)}function u(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}function HF(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],t;return e?e.call(i):(i=typeof LF=="function"?LF(i):i[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(o){t[o]=i[o]&&function(s){return new Promise(function(a,l){s=i[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}var Wc=i=>i&&typeof i.length=="number"&&typeof i!="function";function Xm(i){return _e(i?.then)}function Jm(i){return _e(i[Gc])}function ev(i){return Symbol.asyncIterator&&_e(i?.[Symbol.asyncIterator])}function tv(i){return new TypeError(`You provided ${i!==null&&typeof i=="object"?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function N4(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var nv=N4();function iv(i){return _e(i?.[nv])}function rv(i){return VF(this,arguments,function*(){let t=i.getReader();try{for(;;){let{value:n,done:r}=yield Xl(t.read());if(r)return yield Xl(void 0);yield yield Xl(n)}}finally{t.releaseLock()}})}function ov(i){return _e(i?.getReader)}function rt(i){if(i instanceof Ce)return i;if(i!=null){if(Jm(i))return L4(i);if(Wc(i))return k4(i);if(Xm(i))return V4(i);if(ev(i))return GF(i);if(iv(i))return H4(i);if(ov(i))return G4(i)}throw tv(i)}function L4(i){return new Ce(e=>{let t=i[Gc]();if(_e(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function k4(i){return new Ce(e=>{for(let t=0;t<i.length&&!e.closed;t++)e.next(i[t]);e.complete()})}function V4(i){return new Ce(e=>{i.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,zm)})}function H4(i){return new Ce(e=>{for(let t of i)if(e.next(t),e.closed)return;e.complete()})}function GF(i){return new Ce(e=>{B4(i,e).catch(t=>e.error(t))})}function G4(i){return GF(rv(i))}function B4(i,e){var t,n,r,o;return kF(this,void 0,void 0,function*(){try{for(t=HF(i);n=yield t.next(),!n.done;){let s=n.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{n&&!n.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})}function Mi(i,e,t,n=0,r=!1){let o=e.schedule(function(){t(),r?i.add(this.schedule(null,n)):this.unsubscribe()},n);if(i.add(o),!r)return o}function sv(i,e=0){return ze((t,n)=>{t.subscribe(Ee(n,r=>Mi(n,i,()=>n.next(r),e),()=>Mi(n,i,()=>n.complete(),e),r=>Mi(n,i,()=>n.error(r),e)))})}function av(i,e=0){return ze((t,n)=>{n.add(i.schedule(()=>t.subscribe(n),e))})}function BF(i,e){return rt(i).pipe(av(e),sv(e))}function jF(i,e){return rt(i).pipe(av(e),sv(e))}function UF(i,e){return new Ce(t=>{let n=0;return e.schedule(function(){n===i.length?t.complete():(t.next(i[n++]),t.closed||this.schedule())})})}function WF(i,e){return new Ce(t=>{let n;return Mi(t,e,()=>{n=i[nv](),Mi(t,e,()=>{let r,o;try{({value:r,done:o}=n.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>_e(n?.return)&&n.return()})}function lv(i,e){if(!i)throw new Error("Iterable cannot be null");return new Ce(t=>{Mi(t,e,()=>{let n=i[Symbol.asyncIterator]();Mi(t,e,()=>{n.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function zF(i,e){return lv(rv(i),e)}function $F(i,e){if(i!=null){if(Jm(i))return BF(i,e);if(Wc(i))return UF(i,e);if(Xm(i))return jF(i,e);if(ev(i))return lv(i,e);if(iv(i))return WF(i,e);if(ov(i))return zF(i,e)}throw tv(i)}function xt(i,e){return e?$F(i,e):rt(i)}function he(...i){let e=Lo(i);return xt(i,e)}function zc(i,e){let t=_e(i)?i:()=>i,n=r=>r.error(t());return new Ce(e?r=>e.schedule(n,0,r):n)}function uv(i){return!!i&&(i instanceof Ce||_e(i.lift)&&_e(i.subscribe))}var Fs=Lc(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});function qF(i){return i instanceof Date&&!isNaN(i)}function De(i,e){return ze((t,n)=>{let r=0;t.subscribe(Ee(n,o=>{n.next(i.call(e,o,r++))}))})}var{isArray:j4}=Array;function U4(i,e){return j4(e)?i(...e):i(e)}function Da(i){return De(e=>U4(i,e))}var{isArray:W4}=Array,{getPrototypeOf:z4,prototype:$4,keys:q4}=Object;function cv(i){if(i.length===1){let e=i[0];if(W4(e))return{args:e,keys:null};if(Y4(e)){let t=q4(e);return{args:t.map(n=>e[n]),keys:t}}}return{args:i,keys:null}}function Y4(i){return i&&typeof i=="object"&&z4(i)===$4}function dv(i,e){return i.reduce((t,n,r)=>(t[n]=e[r],t),{})}function $c(...i){let e=Lo(i),t=Ea(i),{args:n,keys:r}=cv(i);if(n.length===0)return xt([],e);let o=new Ce(K4(n,e,r?s=>dv(r,s):yi));return t?o.pipe(Da(t)):o}function K4(i,e,t=yi){return n=>{YF(e,()=>{let{length:r}=i,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)YF(e,()=>{let u=xt(i[l],e),c=!1;u.subscribe(Ee(n,d=>{o[l]=d,c||(c=!0,a--),a||n.next(t(o.slice()))},()=>{--s||n.complete()}))},n)},n)}}function YF(i,e,t){i?Mi(t,i,e):e()}function KF(i,e,t,n,r,o,s,a){let l=[],u=0,c=0,d=!1,h=()=>{d&&!l.length&&!u&&e.complete()},f=g=>u<n?p(g):l.push(g),p=g=>{o&&e.next(g),u++;let m=!1;rt(t(g,c++)).subscribe(Ee(e,v=>{r?.(v),o?f(v):e.next(v)},()=>{m=!0},void 0,()=>{if(m)try{for(u--;l.length&&u<n;){let v=l.shift();s?Mi(e,s,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return i.subscribe(Ee(e,f,()=>{d=!0,h()})),()=>{a?.()}}function jt(i,e,t=1/0){return _e(e)?jt((n,r)=>De((o,s)=>e(n,o,r,s))(rt(i(n,r))),t):(typeof e=="number"&&(t=e),ze((n,r)=>KF(n,r,i,t)))}function Ta(i=1/0){return jt(yi,i)}function QF(){return Ta(1)}function ko(...i){return QF()(xt(i,Lo(i)))}function hv(i){return new Ce(e=>{rt(i()).subscribe(e)})}function Gb(...i){let e=Ea(i),{args:t,keys:n}=cv(i),r=new Ce(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,u=s;for(let c=0;c<s;c++){let d=!1;rt(t[c]).subscribe(Ee(o,h=>{d||(d=!0,u--),a[c]=h},()=>l--,void 0,()=>{(!l||!d)&&(u||o.next(n?dv(n,a):a),o.complete())}))}});return e?r.pipe(Da(e)):r}var Q4=["addListener","removeListener"],Z4=["addEventListener","removeEventListener"],X4=["on","off"];function tn(i,e,t,n){if(_e(t)&&(n=t,t=void 0),n)return tn(i,e,t).pipe(Da(n));let[r,o]=t8(i)?Z4.map(s=>a=>i[s](e,a,t)):J4(i)?Q4.map(ZF(i,e)):e8(i)?X4.map(ZF(i,e)):[];if(!r&&Wc(i))return jt(s=>tn(s,e,t))(rt(i));if(!r)throw new TypeError("Invalid event target");return new Ce(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function ZF(i,e){return t=>n=>i[t](e,n)}function J4(i){return _e(i.addListener)&&_e(i.removeListener)}function e8(i){return _e(i.on)&&_e(i.off)}function t8(i){return _e(i.addEventListener)&&_e(i.removeEventListener)}function fv(i,e,t){return t?fv(i,e).pipe(Da(t)):new Ce(n=>{let r=(...s)=>n.next(s.length===1?s[0]:s),o=i(r);return _e(e)?()=>e(r,o):void 0})}function Jl(i=0,e,t=FF){let n=-1;return e!=null&&(Zm(e)?t=e:n=e),new Ce(r=>{let o=qF(i)?+i-t.now():i;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=n?this.schedule(void 0,n):r.complete())},o)})}function Qh(...i){let e=Lo(i),t=NF(i,1/0),n=i;return n.length?n.length===1?rt(n[0]):Ta(t)(xt(n,e)):Nn}var{isArray:n8}=Array;function pv(i){return i.length===1&&n8(i[0])?i[0]:i}function ft(i,e){return ze((t,n)=>{let r=0;t.subscribe(Ee(n,o=>i.call(e,o,r++)&&n.next(o)))})}function gv(...i){return i=pv(i),i.length===1?rt(i[0]):new Ce(i8(i))}function i8(i){return e=>{let t=[];for(let n=0;t&&!e.closed&&n<i.length;n++)t.push(rt(i[n]).subscribe(Ee(e,r=>{if(t){for(let o=0;o<t.length;o++)o!==n&&t[o].unsubscribe();t=null}e.next(r)})))}}function Zh(...i){let e=Ea(i),t=pv(i);return t.length?new Ce(n=>{let r=t.map(()=>[]),o=t.map(()=>!1);n.add(()=>{r=o=null});for(let s=0;!n.closed&&s<t.length;s++)rt(t[s]).subscribe(Ee(n,a=>{if(r[s].push(a),r.every(l=>l.length)){let l=r.map(u=>u.shift());n.next(e?e(...l):l),r.some((u,c)=>!u.length&&o[c])&&n.complete()}},()=>{o[s]=!0,!r[s].length&&n.complete()}));return()=>{r=o=null}}):Nn}function XF(i){return ze((e,t)=>{let n=!1,r=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,n){n=!1;let u=r;r=null,t.next(u)}s&&t.complete()},l=()=>{o=null,s&&t.complete()};e.subscribe(Ee(t,u=>{n=!0,r=u,o||rt(i(u)).subscribe(o=Ee(t,a,l))},()=>{s=!0,(!n||!o||o.closed)&&t.complete()}))})}function mv(i,e=Kh){return XF(()=>Jl(i,e))}function Ra(i){return ze((e,t)=>{let n=null,r=!1,o;n=e.subscribe(Ee(t,void 0,void 0,s=>{o=rt(i(s,Ra(i)(e))),n?(n.unsubscribe(),n=null,o.subscribe(t)):r=!0})),r&&(n.unsubscribe(),n=null,o.subscribe(t))})}function JF(i,e,t,n,r){return(o,s)=>{let a=t,l=e,u=0;o.subscribe(Ee(s,c=>{let d=u++;l=a?i(l,c,d):(a=!0,c),n&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function Ns(i,e){return _e(e)?jt(i,e,1):jt(i,1)}function Aa(i){return ze((e,t)=>{let n=!1;e.subscribe(Ee(t,r=>{n=!0,t.next(r)},()=>{n||t.next(i),t.complete()}))})}function Ut(i){return i<=0?()=>Nn:ze((e,t)=>{let n=0;e.subscribe(Ee(t,r=>{++n<=i&&(t.next(r),i<=n&&t.complete())}))})}function eN(){return ze((i,e)=>{i.subscribe(Ee(e,Ps))})}function Xh(i){return De(()=>i)}function Bb(i,e){return e?t=>ko(e.pipe(Ut(1),eN()),t.pipe(Bb(i))):jt((t,n)=>rt(i(t,n)).pipe(Ut(1),Xh(t)))}function jb(i,e=Kh){let t=Jl(i,e);return Bb(()=>t)}function vv(i=r8){return ze((e,t)=>{let n=!1;e.subscribe(Ee(t,r=>{n=!0,t.next(r)},()=>n?t.complete():t.error(i())))})}function r8(){return new Fs}function Ub(...i){return e=>ko(e,he(...i))}function Ir(i){return ze((e,t)=>{try{e.subscribe(t)}finally{t.add(i)}})}function Vo(i,e){let t=arguments.length>=2;return n=>n.pipe(i?ft((r,o)=>i(r,o,n)):yi,Ut(1),t?Aa(e):vv(()=>new Fs))}function qc(i){return i<=0?()=>Nn:ze((e,t)=>{let n=[];e.subscribe(Ee(t,r=>{n.push(r),i<n.length&&n.shift()},()=>{for(let r of n)t.next(r);t.complete()},void 0,()=>{n=null}))})}function Wb(i,e){let t=arguments.length>=2;return n=>n.pipe(i?ft((r,o)=>i(r,o,n)):yi,qc(1),t?Aa(e):vv(()=>new Fs))}function zb(i,e){return ze(JF(i,e,arguments.length>=2,!0))}function Jh(...i){let e=Lo(i);return ze((t,n)=>{(e?ko(i,t,e):ko(i,t)).subscribe(n)})}function Sn(i,e){return ze((t,n)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&n.complete();t.subscribe(Ee(n,l=>{r?.unsubscribe();let u=0,c=o++;rt(i(l,c)).subscribe(r=Ee(n,d=>n.next(e?e(l,d,c,u++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Et(i){return ze((e,t)=>{rt(i).subscribe(Ee(t,()=>t.complete(),Ps)),!t.closed&&e.subscribe(t)})}function Kt(i,e,t){let n=_e(i)||e||t?{next:i,error:e,complete:t}:i;return n?ze((r,o)=>{var s;(s=n.subscribe)===null||s===void 0||s.call(n);let a=!0;r.subscribe(Ee(o,l=>{var u;(u=n.next)===null||u===void 0||u.call(n,l),o.next(l)},()=>{var l;a=!1,(l=n.complete)===null||l===void 0||l.call(n),o.complete()},l=>{var u;a=!1,(u=n.error)===null||u===void 0||u.call(n,l),o.error(l)},()=>{var l,u;a&&((l=n.unsubscribe)===null||l===void 0||l.call(n)),(u=n.finalize)===null||u===void 0||u.call(n)}))}):yi}function ef(...i){let e=Ea(i);return ze((t,n)=>{let r=i.length,o=new Array(r),s=i.map(()=>!1),a=!1;for(let l=0;l<r;l++)rt(i[l]).subscribe(Ee(n,u=>{o[l]=u,!a&&!s[l]&&(s[l]=!0,(a=s.every(yi))&&(s=null))},Ps));t.subscribe(Ee(n,l=>{if(a){let u=[l,...o];n.next(e?e(...u):u)}}))})}var UN="https://g.co/ng/security#xss",ee=class extends Error{constructor(e,t){super(Zv(e,t)),this.code=e}};function Zv(i,e){return`${`NG0${Math.abs(i)}`}${e?": "+e:""}`}function Mt(i){for(let e in i)if(i[e]===Mt)return e;throw Error("Could not find renamed property on target object.")}function s8(i,e){for(let t in e)e.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&(i[t]=e[t])}function wi(i){if(typeof i=="string")return i;if(Array.isArray(i))return"["+i.map(wi).join(", ")+"]";if(i==null)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;let e=i.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function c0(i,e){return i==null||i===""?e===null?"":e:e==null||e===""?i:i+" "+e}var a8=Mt({__forward_ref__:Mt});function bi(i){return i.__forward_ref__=bi,i.toString=function(){return wi(this())},i}function _i(i){return WN(i)?i():i}function WN(i){return typeof i=="function"&&i.hasOwnProperty(a8)&&i.__forward_ref__===bi}function zN(i){return i&&!!i.\u0275providers}var l8=Mt({\u0275cmp:Mt}),u8=Mt({\u0275dir:Mt}),c8=Mt({\u0275pipe:Mt}),d8=Mt({\u0275mod:Mt}),Mv=Mt({\u0275fac:Mt}),tf=Mt({__NG_ELEMENT_ID__:Mt}),tN=Mt({__NG_ENV_ID__:Mt});function ld(i){return typeof i=="string"?i:i==null?"":String(i)}function h8(i){return typeof i=="function"?i.name||i.toString():typeof i=="object"&&i!=null&&typeof i.type=="function"?i.type.name||i.type.toString():ld(i)}function f8(i,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${i}`:"";throw new ee(-200,`Circular dependency in DI detected for ${i}${t}`)}function EE(i,e){throw new ee(-201,!1)}function p8(i,e,t){i!=e&&$N(t,i,e,"==")}function g8(i,e){i==null&&$N(e,i,null,"!=")}function $N(i,e,t,n){throw new Error(`ASSERTION ERROR: ${i}`+(n==null?"":` [Expected=> ${t} ${n} ${e} <=Actual]`))}function G(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Ie(i){return{providers:i.providers||[],imports:i.imports||[]}}function Xv(i){return nN(i,YN)||nN(i,KN)}function qN(i){return Xv(i)!==null}function nN(i,e){return i.hasOwnProperty(e)?i[e]:null}function m8(i){let e=i&&(i[YN]||i[KN]);return e||null}function iN(i){return i&&(i.hasOwnProperty(rN)||i.hasOwnProperty(v8))?i[rN]:null}var YN=Mt({\u0275prov:Mt}),rN=Mt({\u0275inj:Mt}),KN=Mt({ngInjectableDef:Mt}),v8=Mt({ngInjectorDef:Mt}),Qe=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(Qe||{}),d0;function QN(){return d0}function Pr(i){let e=d0;return d0=i,e}function ZN(i,e,t){let n=Xv(i);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(t&Qe.Optional)return null;if(e!==void 0)return e;EE(i,"Injector")}var or=globalThis;var le=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=G({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var y8={},sf=y8,h0="__NG_DI_FLAG__",Iv="ngTempTokenPath",_8="ngTokenPath",C8=/\n/gm,w8="\u0275",oN="__source",Xc;function S8(){return Xc}function Oa(i){let e=Xc;return Xc=i,e}function b8(i,e=Qe.Default){if(Xc===void 0)throw new ee(-203,!1);return Xc===null?ZN(i,void 0,e):Xc.get(i,e&Qe.Optional?null:void 0,e)}function U(i,e=Qe.Default){return(QN()||b8)(_i(i),e)}function k(i,e=Qe.Default){return U(i,Jv(e))}function Jv(i){return typeof i>"u"||typeof i=="number"?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function f0(i){let e=[];for(let t=0;t<i.length;t++){let n=_i(i[t]);if(Array.isArray(n)){if(n.length===0)throw new ee(900,!1);let r,o=Qe.Default;for(let s=0;s<n.length;s++){let a=n[s],l=E8(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}e.push(U(r,o))}else e.push(U(n))}return e}function XN(i,e){return i[h0]=e,i.prototype[h0]=e,i}function E8(i){return i[h0]}function D8(i,e,t,n){let r=i[Iv];throw e[oN]&&r.unshift(e[oN]),i.message=T8(`
`+i.message,r,t,n),i[_8]=r,i[Iv]=null,i}function T8(i,e,t,n=null){i=i&&i.charAt(0)===`
`&&i.charAt(1)==w8?i.slice(2):i;let r=wi(e);if(Array.isArray(e))r=e.map(wi).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):wi(a)))}r=`{${o.join(", ")}}`}return`${t}${n?"("+n+")":""}[${r}]: ${i.replace(C8,`
  `)}`}function wf(i){return{toString:i}.toString()}var JN=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(JN||{}),jo=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(jo||{}),ed={},Ci=[],pt=function(i){return i[i.None=0]="None",i[i.SignalBased=1]="SignalBased",i[i.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",i}(pt||{});function e1(i,e,t){let n=i.length;for(;;){let r=i.indexOf(e,t);if(r===-1)return r;if(r===0||i.charCodeAt(r-1)<=32){let o=e.length;if(r+o===n||i.charCodeAt(r+o)<=32)return r}t=r+1}}function p0(i,e,t){let n=0;for(;n<t.length;){let r=t[n];if(typeof r=="number"){if(r!==0)break;n++;let o=t[n++],s=t[n++],a=t[n++];i.setAttribute(e,s,a,o)}else{let o=r,s=t[++n];R8(o)?i.setProperty(e,o,s):i.setAttribute(e,o,s),n++}}return n}function t1(i){return i===3||i===4||i===6}function R8(i){return i.charCodeAt(0)===64}function af(i,e){if(!(e===null||e.length===0))if(i===null||i.length===0)i=e.slice();else{let t=-1;for(let n=0;n<e.length;n++){let r=e[n];typeof r=="number"?t=r:t===0||(t===-1||t===2?sN(i,t,r,null,e[++n]):sN(i,t,r,null,null))}}return i}function sN(i,e,t,n,r){let o=0,s=i.length;if(e===-1)s=-1;else for(;o<i.length;){let a=i[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<i.length;){let a=i[o];if(typeof a=="number")break;if(a===t){if(n===null){r!==null&&(i[o+1]=r);return}else if(n===i[o+1]){i[o+2]=r;return}}o++,n!==null&&o++,r!==null&&o++}s!==-1&&(i.splice(s,0,e),o=s+1),i.splice(o++,0,t),n!==null&&i.splice(o++,0,n),r!==null&&i.splice(o++,0,r)}var n1="ng-template";function A8(i,e,t){let n=0,r=!0;for(;n<i.length;){let o=i[n++];if(typeof o=="string"&&r){let s=i[n++];if(t&&o==="class"&&e1(s.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;n<i.length&&typeof(o=i[n++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(r=!1)}return!1}function i1(i){return i.type===4&&i.value!==n1}function O8(i,e,t){let n=i.type===4&&!t?n1:i.value;return e===n}function x8(i,e,t){let n=4,r=i.attrs||[],o=P8(r),s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!co(n)&&!co(l))return!1;if(s&&co(l))continue;s=!1,n=l|n&1;continue}if(!s)if(n&4){if(n=2|n&1,l!==""&&!O8(i,l,t)||l===""&&e.length===1){if(co(n))return!1;s=!0}}else{let u=n&8?l:e[++a];if(n&8&&i.attrs!==null){if(!A8(i.attrs,u,t)){if(co(n))return!1;s=!0}continue}let c=n&8?"class":l,d=M8(c,r,i1(i),t);if(d===-1){if(co(n))return!1;s=!0;continue}if(u!==""){let h;d>o?h="":h=r[d+1].toLowerCase();let f=n&8?h:null;if(f&&e1(f,u,0)!==-1||n&2&&u!==h){if(co(n))return!1;s=!0}}}}return co(n)||s}function co(i){return(i&1)===0}function M8(i,e,t,n){if(e===null)return-1;let r=0;if(n||!t){let o=!1;for(;r<e.length;){let s=e[r];if(s===i)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return F8(e,i)}function r1(i,e,t=!1){for(let n=0;n<e.length;n++)if(x8(i,e[n],t))return!0;return!1}function I8(i){let e=i.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function P8(i){for(let e=0;e<i.length;e++){let t=i[e];if(t1(t))return e}return i.length}function F8(i,e){let t=i.indexOf(4);if(t>-1)for(t++;t<i.length;){let n=i[t];if(typeof n=="number")return-1;if(n===e)return t;t++}return-1}function N8(i,e){e:for(let t=0;t<e.length;t++){let n=e[t];if(i.length===n.length){for(let r=0;r<i.length;r++)if(i[r]!==n[r])continue e;return!0}}return!1}function aN(i,e){return i?":not("+e.trim()+")":e}function L8(i){let e=i[0],t=1,n=2,r="",o=!1;for(;t<i.length;){let s=i[t];if(typeof s=="string")if(n&2){let a=i[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else n&8?r+="."+s:n&4&&(r+=" "+s);else r!==""&&!co(s)&&(e+=aN(o,r),r=""),n=s,o=o||!co(n);t++}return r!==""&&(e+=aN(o,r)),e}function k8(i){return i.map(L8).join(",")}function V8(i){let e=[],t=[],n=1,r=2;for(;n<i.length;){let o=i[n];if(typeof o=="string")r===2?o!==""&&e.push(o,i[++n]):r===8&&t.push(o);else{if(!co(r))break;r=o}n++}return{attrs:e,classes:t}}function re(i){return wf(()=>{let e=u1(i),t=be(K({},e),{decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===JN.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||jo.Emulated,styles:i.styles||Ci,_:null,schemas:i.schemas||null,tView:null,id:""});c1(t);let n=i.dependencies;return t.directiveDefs=uN(n,!1),t.pipeDefs=uN(n,!0),t.id=B8(t),t})}function H8(i){return ks(i)||o1(i)}function G8(i){return i!==null}function Pe(i){return wf(()=>({type:i.type,bootstrap:i.bootstrap||Ci,declarations:i.declarations||Ci,imports:i.imports||Ci,exports:i.exports||Ci,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function lN(i,e){if(i==null)return ed;let t={};for(let n in i)if(i.hasOwnProperty(n)){let r=i[n],o,s,a=pt.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(t[o]=a!==pt.None?[n,a]:n,e[o]=s):t[o]=n}return t}function ot(i){return wf(()=>{let e=u1(i);return c1(e),e})}function ks(i){return i[l8]||null}function o1(i){return i[u8]||null}function s1(i){return i[c8]||null}function a1(i){let e=ks(i)||o1(i)||s1(i);return e!==null?e.standalone:!1}function l1(i,e){let t=i[d8]||null;if(!t&&e===!0)throw new Error(`Type ${wi(i)} does not have '\u0275mod' property.`);return t}function u1(i){let e={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:i.inputs||ed,exportAs:i.exportAs||null,standalone:i.standalone===!0,signals:i.signals===!0,selectors:i.selectors||Ci,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:lN(i.inputs,e),outputs:lN(i.outputs),debugInfo:null}}function c1(i){i.features?.forEach(e=>e(i))}function uN(i,e){if(!i)return null;let t=e?s1:H8;return()=>(typeof i=="function"?i():i).map(n=>t(n)).filter(G8)}function B8(i){let e=0,t=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(let r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var qo=0,Le=1,Oe=2,qn=3,fo=4,Ii=5,td=6,lf=7,ai=8,nd=9,Vs=10,Rt=11,uf=12,cN=13,ud=14,sr=15,Sf=16,Yc=17,Bo=18,ey=19,d1=20,xa=21,$b=22,iu=23,Yn=25,DE=1;var ru=7,Pv=8,id=9,li=10,TE=function(i){return i[i.None=0]="None",i[i.HasTransplantedViews=2]="HasTransplantedViews",i}(TE||{});function tu(i){return Array.isArray(i)&&typeof i[DE]=="object"}function Bs(i){return Array.isArray(i)&&i[DE]===!0}function RE(i){return(i.flags&4)!==0}function ty(i){return i.componentOffset>-1}function ny(i){return(i.flags&1)===1}function Hs(i){return!!i.template}function j8(i){return(i[Oe]&512)!==0}function rd(i,e){let t=i.hasOwnProperty(Mv);return t?i[Mv]:null}var g0=class{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}};function h1(i,e,t,n){e!==null?e.applyValueToInputSignal(e,n):i[t]=n}function Wt(){return f1}function f1(i){return i.type.prototype.ngOnChanges&&(i.setInput=W8),U8}Wt.ngInherit=!0;function U8(){let i=g1(this),e=i?.current;if(e){let t=i.previous;if(t===ed)i.previous=e;else for(let n in e)t[n]=e[n];i.current=null,this.ngOnChanges(e)}}function W8(i,e,t,n,r){let o=this.declaredInputs[n],s=g1(i)||z8(i,{previous:ed,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new g0(u&&u.currentValue,t,l===ed),h1(i,e,r,t)}var p1="__ngSimpleChanges__";function g1(i){return i[p1]||null}function z8(i,e){return i[p1]=e}var dN=null;var Ho=function(i,e,t){dN?.(i,e,t)},m1="svg",$8="math",q8=!1;function Y8(){return q8}function Fr(i){for(;Array.isArray(i);)i=i[qo];return i}function K8(i){for(;Array.isArray(i);){if(typeof i[DE]=="object")return i;i=i[qo]}return null}function iy(i,e){return Fr(e[i])}function Nr(i,e){return Fr(e[i.index])}function AE(i,e){return i.data[e]}function Q8(i,e){return i[e]}function Ia(i,e){let t=e[i];return tu(t)?t:t[qo]}function Z8(i){return(i[Oe]&4)===4}function OE(i){return(i[Oe]&128)===128}function X8(i){return Bs(i[qn])}function ou(i,e){return e==null?null:i[e]}function v1(i){i[Yc]=0}function J8(i){i[Oe]&1024||(i[Oe]|=1024,OE(i)&&cf(i))}function eq(i,e){for(;i>0;)e=e[ud],i--;return e}function y1(i){return i[Oe]&9216||i[iu]?.dirty}function m0(i){y1(i)?cf(i):i[Oe]&64&&(Y8()?(i[Oe]|=1024,cf(i)):i[Vs].changeDetectionScheduler?.notify())}function cf(i){i[Vs].changeDetectionScheduler?.notify();let e=df(i);for(;e!==null&&!(e[Oe]&8192||(e[Oe]|=8192,!OE(e)));)e=df(e)}function _1(i,e){if((i[Oe]&256)===256)throw new ee(911,!1);i[xa]===null&&(i[xa]=[]),i[xa].push(e)}function tq(i,e){if(i[xa]===null)return;let t=i[xa].indexOf(e);t!==-1&&i[xa].splice(t,1)}function df(i){let e=i[qn];return Bs(e)?e[qn]:e}var He={lFrame:x1(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function nq(){return He.lFrame.elementDepthCount}function iq(){He.lFrame.elementDepthCount++}function rq(){He.lFrame.elementDepthCount--}function C1(){return He.bindingsEnabled}function w1(){return He.skipHydrationRootTNode!==null}function oq(i){return He.skipHydrationRootTNode===i}function sq(){He.skipHydrationRootTNode=null}function Be(){return He.lFrame.lView}function nn(){return He.lFrame.tView}function Ze(i){return He.lFrame.contextLView=i,i[ai]}function Xe(i){return He.lFrame.contextLView=null,i}function Ei(){let i=S1();for(;i!==null&&i.type===64;)i=i.parent;return i}function S1(){return He.lFrame.currentTNode}function hf(){let i=He.lFrame,e=i.currentTNode;return i.isParent?e:e.parent}function Uo(i,e){let t=He.lFrame;t.currentTNode=i,t.isParent=e}function xE(){return He.lFrame.isParent}function ME(){He.lFrame.isParent=!1}function aq(){return He.lFrame.contextLView}function b1(){let i=He.lFrame,e=i.bindingRootIndex;return e===-1&&(e=i.bindingRootIndex=i.tView.bindingStartIndex),e}function lq(){return He.lFrame.bindingIndex}function uq(i){return He.lFrame.bindingIndex=i}function Pa(){return He.lFrame.bindingIndex++}function E1(i){let e=He.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+i,t}function cq(){return He.lFrame.inI18n}function D1(i){He.lFrame.inI18n=i}function dq(i,e){let t=He.lFrame;t.bindingIndex=t.bindingRootIndex=i,v0(e)}function hq(){return He.lFrame.currentDirectiveIndex}function v0(i){He.lFrame.currentDirectiveIndex=i}function T1(i){let e=He.lFrame.currentDirectiveIndex;return e===-1?null:i[e]}function R1(){return He.lFrame.currentQueryIndex}function IE(i){He.lFrame.currentQueryIndex=i}function fq(i){let e=i[Le];return e.type===2?e.declTNode:e.type===1?i[Ii]:null}function A1(i,e,t){if(t&Qe.SkipSelf){let r=e,o=i;for(;r=r.parent,r===null&&!(t&Qe.Host);)if(r=fq(o),r===null||(o=o[ud],r.type&10))break;if(r===null)return!1;e=r,i=o}let n=He.lFrame=O1();return n.currentTNode=e,n.lView=i,!0}function PE(i){let e=O1(),t=i[Le];He.lFrame=e,e.currentTNode=t.firstChild,e.lView=i,e.tView=t,e.contextLView=i,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function O1(){let i=He.lFrame,e=i===null?null:i.child;return e===null?x1(i):e}function x1(i){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return i!==null&&(i.child=e),e}function M1(){let i=He.lFrame;return He.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}var I1=M1;function FE(){let i=M1();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function pq(i){return(He.lFrame.contextLView=eq(i,He.lFrame.contextLView))[ai]}function Fa(){return He.lFrame.selectedIndex}function su(i){He.lFrame.selectedIndex=i}function ry(){let i=He.lFrame;return AE(i.tView,i.selectedIndex)}function P1(){He.lFrame.currentNamespace=m1}function gq(){return He.lFrame.currentNamespace}var F1=!0;function oy(){return F1}function sy(i){F1=i}function mq(i,e,t){let{ngOnChanges:n,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(n){let s=f1(e);(t.preOrderHooks??=[]).push(i,s),(t.preOrderCheckHooks??=[]).push(i,s)}r&&(t.preOrderHooks??=[]).push(0-i,r),o&&((t.preOrderHooks??=[]).push(i,o),(t.preOrderCheckHooks??=[]).push(i,o))}function ay(i,e){for(let t=e.directiveStart,n=e.directiveEnd;t<n;t++){let o=i.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=o;s&&(i.contentHooks??=[]).push(-t,s),a&&((i.contentHooks??=[]).push(t,a),(i.contentCheckHooks??=[]).push(t,a)),l&&(i.viewHooks??=[]).push(-t,l),u&&((i.viewHooks??=[]).push(t,u),(i.viewCheckHooks??=[]).push(t,u)),c!=null&&(i.destroyHooks??=[]).push(t,c)}}function Ev(i,e,t){N1(i,e,3,t)}function Dv(i,e,t,n){(i[Oe]&3)===t&&N1(i,e,t,n)}function qb(i,e){let t=i[Oe];(t&3)===e&&(t&=16383,t+=1,i[Oe]=t)}function N1(i,e,t,n){let r=n!==void 0?i[Yc]&65535:0,o=n??-1,s=e.length-1,a=0;for(let l=r;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],n!=null&&a>=n)break}else e[l]<0&&(i[Yc]+=65536),(a<o||o==-1)&&(vq(i,t,e,l),i[Yc]=(i[Yc]&4294901760)+l+2),l++}function hN(i,e){Ho(4,i,e);let t=$n(null);try{e.call(i)}finally{$n(t),Ho(5,i,e)}}function vq(i,e,t,n){let r=t[n]<0,o=t[n+1],s=r?-t[n]:t[n],a=i[s];r?i[Oe]>>14<i[Yc]>>16&&(i[Oe]&3)===e&&(i[Oe]+=16384,hN(a,o)):hN(a,o)}var Jc=-1,au=class{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}};function yq(i){return i instanceof au}function _q(i){return(i.flags&8)!==0}function Cq(i){return(i.flags&16)!==0}function L1(i){return i!==Jc}function Fv(i){return i&32767}function wq(i){return i>>16}function Nv(i,e){let t=wq(i),n=e;for(;t>0;)n=n[ud],t--;return n}var y0=!0;function fN(i){let e=y0;return y0=i,e}var Sq=256,k1=Sq-1,V1=5,bq=0,Go={};function Eq(i,e,t){let n;typeof t=="string"?n=t.charCodeAt(0)||0:t.hasOwnProperty(tf)&&(n=t[tf]),n==null&&(n=t[tf]=bq++);let r=n&k1,o=1<<r;e.data[i+(r>>V1)]|=o}function Lv(i,e){let t=H1(i,e);if(t!==-1)return t;let n=e[Le];n.firstCreatePass&&(i.injectorIndex=e.length,Yb(n.data,i),Yb(e,null),Yb(n.blueprint,null));let r=NE(i,e),o=i.injectorIndex;if(L1(r)){let s=Fv(r),a=Nv(r,e),l=a[Le].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=r,o}function Yb(i,e){i.push(0,0,0,0,0,0,0,0,e)}function H1(i,e){return i.injectorIndex===-1||i.parent&&i.parent.injectorIndex===i.injectorIndex||e[i.injectorIndex+8]===null?-1:i.injectorIndex}function NE(i,e){if(i.parent&&i.parent.injectorIndex!==-1)return i.parent.injectorIndex;let t=0,n=null,r=e;for(;r!==null;){if(n=W1(r),n===null)return Jc;if(t++,r=r[ud],n.injectorIndex!==-1)return n.injectorIndex|t<<16}return Jc}function _0(i,e,t){Eq(i,e,t)}function Dq(i,e){if(e==="class")return i.classes;if(e==="style")return i.styles;let t=i.attrs;if(t){let n=t.length,r=0;for(;r<n;){let o=t[r];if(t1(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<n&&typeof t[r]=="string";)r++;else{if(o===e)return t[r+1];r=r+2}}}return null}function G1(i,e,t){if(t&Qe.Optional||i!==void 0)return i;EE(e,"NodeInjector")}function B1(i,e,t,n){if(t&Qe.Optional&&n===void 0&&(n=null),!(t&(Qe.Self|Qe.Host))){let r=i[nd],o=Pr(void 0);try{return r?r.get(e,n,t&Qe.Optional):ZN(e,n,t&Qe.Optional)}finally{Pr(o)}}return G1(n,e,t)}function j1(i,e,t,n=Qe.Default,r){if(i!==null){if(e[Oe]&2048&&!(n&Qe.Self)){let s=Oq(i,e,t,n,Go);if(s!==Go)return s}let o=U1(i,e,t,n,Go);if(o!==Go)return o}return B1(e,t,n,r)}function U1(i,e,t,n,r){let o=Rq(t);if(typeof o=="function"){if(!A1(e,i,n))return n&Qe.Host?G1(r,t,n):B1(e,t,n,r);try{let s;if(s=o(n),s==null&&!(n&Qe.Optional))EE(t);else return s}finally{I1()}}else if(typeof o=="number"){let s=null,a=H1(i,e),l=Jc,u=n&Qe.Host?e[sr][Ii]:null;for((a===-1||n&Qe.SkipSelf)&&(l=a===-1?NE(i,e):e[a+8],l===Jc||!gN(n,!1)?a=-1:(s=e[Le],a=Fv(l),e=Nv(l,e)));a!==-1;){let c=e[Le];if(pN(o,a,c.data)){let d=Tq(a,e,t,s,n,u);if(d!==Go)return d}l=e[a+8],l!==Jc&&gN(n,e[Le].data[a+8]===u)&&pN(o,a,e)?(s=c,a=Fv(l),e=Nv(l,e)):a=-1}}return r}function Tq(i,e,t,n,r,o){let s=e[Le],a=s.data[i+8],l=n==null?ty(a)&&y0:n!=s&&(a.type&3)!==0,u=r&Qe.Host&&o===a,c=Tv(a,s,t,l,u);return c!==null?lu(e,s,c,a):Go}function Tv(i,e,t,n,r){let o=i.providerIndexes,s=e.data,a=o&1048575,l=i.directiveStart,u=i.directiveEnd,c=o>>20,d=n?a:a+c,h=r?a+c:u;for(let f=d;f<h;f++){let p=s[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(r){let f=s[l];if(f&&Hs(f)&&f.type===t)return l}return null}function lu(i,e,t,n){let r=i[t],o=e.data;if(yq(r)){let s=r;s.resolving&&f8(h8(o[t]));let a=fN(s.canSeeViewProviders);s.resolving=!0;let l,u=s.injectImpl?Pr(s.injectImpl):null,c=A1(i,n,Qe.Default);try{r=i[t]=s.factory(void 0,o,i,n),e.firstCreatePass&&t>=n.directiveStart&&mq(t,o[t],e)}finally{u!==null&&Pr(u),fN(a),s.resolving=!1,I1()}}return r}function Rq(i){if(typeof i=="string")return i.charCodeAt(0)||0;let e=i.hasOwnProperty(tf)?i[tf]:void 0;return typeof e=="number"?e>=0?e&k1:Aq:e}function pN(i,e,t){let n=1<<i;return!!(t[e+(i>>V1)]&n)}function gN(i,e){return!(i&Qe.Self)&&!(i&Qe.Host&&e)}var nu=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,n){return j1(this._tNode,this._lView,e,Jv(n),t)}};function Aq(){return new nu(Ei(),Be())}function hn(i){return wf(()=>{let e=i.prototype.constructor,t=e[Mv]||C0(e),n=Object.prototype,r=Object.getPrototypeOf(i.prototype).constructor;for(;r&&r!==n;){let o=r[Mv]||C0(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function C0(i){return WN(i)?()=>{let e=C0(_i(i));return e&&e()}:rd(i)}function Oq(i,e,t,n,r){let o=i,s=e;for(;o!==null&&s!==null&&s[Oe]&2048&&!(s[Oe]&512);){let a=U1(o,s,t,n|Qe.Self,Go);if(a!==Go)return a;let l=o.parent;if(!l){let u=s[d1];if(u){let c=u.get(t,Go,n);if(c!==Go)return c}l=W1(s),s=s[ud]}o=l}return r}function W1(i){let e=i[Le],t=e.type;return t===2?e.declTNode:t===1?i[Ii]:null}function ly(i){return Dq(Ei(),i)}var yv="__parameters__";function xq(i){return function(...t){if(i){let n=i(...t);for(let r in n)this[r]=n[r]}}}function z1(i,e,t){return wf(()=>{let n=xq(e);function r(...o){if(this instanceof r)return n.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,u,c){let d=l.hasOwnProperty(yv)?l[yv]:Object.defineProperty(l,yv,{value:[]})[yv];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(s),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=i,r.annotationCls=r,r})}function Mq(i){return typeof i=="function"}function Iq(i,e,t){if(i.length!==e.length)return!1;for(let n=0;n<i.length;n++){let r=i[n],o=e[n];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function Pq(i){return i.flat(Number.POSITIVE_INFINITY)}function LE(i,e){i.forEach(t=>Array.isArray(t)?LE(t,e):e(t))}function $1(i,e,t){e>=i.length?i.push(t):i.splice(e,0,t)}function kv(i,e){return e>=i.length-1?i.pop():i.splice(e,1)[0]}function Fq(i,e){let t=[];for(let n=0;n<i;n++)t.push(e);return t}function Nq(i,e,t,n){let r=i.length;if(r==e)i.push(t,n);else if(r===1)i.push(n,i[0]),i[0]=t;else{for(r--,i.push(i[r-1],i[r]);r>e;){let o=r-2;i[r]=i[o],r--}i[e]=t,i[e+1]=n}}function kE(i,e,t){let n=bf(i,e);return n>=0?i[n|1]=t:(n=~n,Nq(i,n,e,t)),n}function Kb(i,e){let t=bf(i,e);if(t>=0)return i[t|1]}function bf(i,e){return Lq(i,e,1)}function Lq(i,e,t){let n=0,r=i.length>>t;for(;r!==n;){let o=n+(r-n>>1),s=i[o<<t];if(e===s)return o<<t;s>e?r=o:n=o+1}return~(r<<t)}var Ef=XN(z1("Optional"),8);var uy=XN(z1("SkipSelf"),4);var od=new le(""),q1=new le("",-1),Y1=new le(""),Vv=class{get(e,t=sf){if(t===sf){let n=new Error(`NullInjectorError: No provider for ${wi(e)}!`);throw n.name="NullInjectorError",n}return t}};function Na(i){return{\u0275providers:i}}function VE(...i){return{\u0275providers:K1(!0,i),\u0275fromNgModule:!0}}function K1(i,...e){let t=[],n=new Set,r,o=s=>{t.push(s)};return LE(e,s=>{let a=s;w0(a,o,[],n)&&(r||=[],r.push(a))}),r!==void 0&&Q1(r,o),t}function Q1(i,e){for(let t=0;t<i.length;t++){let{ngModule:n,providers:r}=i[t];HE(r,o=>{e(o,n)})}}function w0(i,e,t,n){if(i=_i(i),!i)return!1;let r=null,o=iN(i),s=!o&&ks(i);if(!o&&!s){let l=i.ngModule;if(o=iN(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=i}let a=n.has(r);if(s){if(a)return!1;if(n.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)w0(u,e,t,n)}}else if(o){if(o.imports!=null&&!a){n.add(r);let u;try{LE(o.imports,c=>{w0(c,e,t,n)&&(u||=[],u.push(c))})}finally{}u!==void 0&&Q1(u,e)}if(!a){let u=rd(r)||(()=>new r);e({provide:r,useFactory:u,deps:Ci},r),e({provide:Y1,useValue:r,multi:!0},r),e({provide:od,useValue:()=>U(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let u=i;HE(l,c=>{e(c,u)})}}else return!1;return r!==i&&i.providers!==void 0}function HE(i,e){for(let t of i)zN(t)&&(t=t.\u0275providers),Array.isArray(t)?HE(t,e):e(t)}var kq=Mt({provide:String,useValue:Mt});function Z1(i){return i!==null&&typeof i=="object"&&kq in i}function Vq(i){return!!(i&&i.useExisting)}function Hq(i){return!!(i&&i.useFactory)}function sd(i){return typeof i=="function"}function Gq(i){return!!i.useClass}var cy=new le(""),Rv={},Bq={},Qb;function dy(){return Qb===void 0&&(Qb=new Vv),Qb}var Ln=class{},ff=class extends Ln{get destroyed(){return this._destroyed}constructor(e,t,n,r){super(),this.parent=t,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,b0(e,s=>this.processProvider(s)),this.records.set(q1,Kc(void 0,this)),r.has("environment")&&this.records.set(Ln,Kc(void 0,this));let o=this.records.get(cy);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Y1,Ci,Qe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let t of this._ngOnDestroyHooks)t.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Oa(this),n=Pr(void 0),r;try{return e()}finally{Oa(t),Pr(n)}}get(e,t=sf,n=Qe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(tN))return e[tN](this);n=Jv(n);let r,o=Oa(this),s=Pr(void 0);try{if(!(n&Qe.SkipSelf)){let l=this.records.get(e);if(l===void 0){let u=$q(e)&&Xv(e);u&&this.injectableDefInScope(u)?l=Kc(S0(e),Rv):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=n&Qe.Self?dy():this.parent;return t=n&Qe.Optional&&t===sf?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Iv]=a[Iv]||[]).unshift(wi(e)),o)throw a;return D8(a,e,"R3InjectorError",this.source)}else throw a}finally{Pr(s),Oa(o)}}resolveInjectorInitializers(){let e=Oa(this),t=Pr(void 0),n;try{let r=this.get(od,Ci,Qe.Self);for(let o of r)o()}finally{Oa(e),Pr(t)}}toString(){let e=[],t=this.records;for(let n of t.keys())e.push(wi(n));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ee(205,!1)}processProvider(e){e=_i(e);let t=sd(e)?e:_i(e&&e.provide),n=Uq(e);if(!sd(e)&&e.multi===!0){let r=this.records.get(t);r||(r=Kc(void 0,Rv,!0),r.factory=()=>f0(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,n)}hydrate(e,t){return t.value===Rv&&(t.value=Bq,t.value=t.factory()),typeof t.value=="object"&&t.value&&zq(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;let t=_i(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function S0(i){let e=Xv(i),t=e!==null?e.factory:rd(i);if(t!==null)return t;if(i instanceof le)throw new ee(204,!1);if(i instanceof Function)return jq(i);throw new ee(204,!1)}function jq(i){if(i.length>0)throw new ee(204,!1);let t=m8(i);return t!==null?()=>t.factory(i):()=>new i}function Uq(i){if(Z1(i))return Kc(void 0,i.useValue);{let e=X1(i);return Kc(e,Rv)}}function X1(i,e,t){let n;if(sd(i)){let r=_i(i);return rd(r)||S0(r)}else if(Z1(i))n=()=>_i(i.useValue);else if(Hq(i))n=()=>i.useFactory(...f0(i.deps||[]));else if(Vq(i))n=()=>U(_i(i.useExisting));else{let r=_i(i&&(i.useClass||i.provide));if(Wq(i))n=()=>new r(...f0(i.deps));else return rd(r)||S0(r)}return n}function Kc(i,e,t=!1){return{factory:i,value:e,multi:t?[]:void 0}}function Wq(i){return!!i.deps}function zq(i){return i!==null&&typeof i=="object"&&typeof i.ngOnDestroy=="function"}function $q(i){return typeof i=="function"||typeof i=="object"&&i instanceof le}function b0(i,e){for(let t of i)Array.isArray(t)?b0(t,e):t&&zN(t)?b0(t.\u0275providers,e):e(t)}function Yo(i,e){i instanceof ff&&i.assertNotDestroyed();let t,n=Oa(i),r=Pr(void 0);try{return e()}finally{Oa(n),Pr(r)}}function GE(i){if(!QN()&&!S8())throw new ee(-203,!1)}function mN(i,e=null,t=null,n){let r=J1(i,e,t,n);return r.resolveInjectorInitializers(),r}function J1(i,e=null,t=null,n,r=new Set){let o=[t||Ci,VE(i)];return n=n||(typeof i=="object"?void 0:wi(i)),new ff(o,e||dy(),n||null,r)}var It=(()=>{let e=class e{static create(n,r){if(Array.isArray(n))return mN({name:""},r,n,"");{let o=n.name??"";return mN({name:o},n.parent,n.providers,o)}}};e.THROW_IF_NOT_FOUND=sf,e.NULL=new Vv,e.\u0275prov=G({token:e,providedIn:"any",factory:()=>U(q1)}),e.__NG_ELEMENT_ID__=-1;let i=e;return i})();var E0;function eL(i){E0=i}function BE(){if(E0!==void 0)return E0;if(typeof document<"u")return document;throw new ee(210,!1)}var hy=new le("",{providedIn:"root",factory:()=>qq}),qq="ng",jE=new le(""),Di=new le("",{providedIn:"platform",factory:()=>"unknown"});var Df=new le(""),Tf=new le("",{providedIn:"root",factory:()=>BE().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function tL(i){return i.ownerDocument.defaultView}function nL(i){return i instanceof Function?i():i}function Yq(i){return(i??k(It)).get(Di)==="browser"}function iL(i){return(i.flags&128)===128}var Wo=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(Wo||{}),Kq=/^>|^->|<!--|-->|--!>|<!-$/g,Qq=/(<|>)/g,Zq="\u200B$1\u200B";function Xq(i){return i.replace(Kq,e=>e.replace(Qq,Zq))}var rL=new Map,Jq=0;function e6(){return Jq++}function t6(i){rL.set(i[ey],i)}function n6(i){rL.delete(i[ey])}var vN="__ngContext__";function zo(i,e){tu(e)?(i[vN]=e[ey],t6(e)):i[vN]=e}var D0;function UE(i,e){return D0(i,e)}function i6(i){D0===void 0&&(D0=i())}function Qc(i,e,t,n,r){if(n!=null){let o,s=!1;Bs(n)?o=n:tu(n)&&(s=!0,n=n[qo]);let a=Fr(n);i===0&&t!==null?r==null?dL(e,t,a):uu(e,t,a,r||null,!0):i===1&&t!==null?uu(e,t,a,r||null,!0):i===2?vL(e,a,s):i===3&&e.destroyNode(a),o!=null&&p6(e,i,o,t,r)}}function WE(i,e){return i.createText(e)}function oL(i,e,t){i.setValue(e,t)}function sL(i,e){return i.createComment(Xq(e))}function zE(i,e,t){return i.createElement(e,t)}function r6(i,e){aL(i,e),e[qo]=null,e[Ii]=null}function o6(i,e,t,n,r,o){n[qo]=r,n[Ii]=e,my(i,n,t,1,r,o)}function aL(i,e){my(i,e,e[Rt],2,null,null)}function s6(i){let e=i[uf];if(!e)return Zb(i[Le],i);for(;e;){let t=null;if(tu(e))t=e[uf];else{let n=e[li];n&&(t=n)}if(!t){for(;e&&!e[fo]&&e!==i;)tu(e)&&Zb(e[Le],e),e=e[qn];e===null&&(e=i),tu(e)&&Zb(e[Le],e),t=e&&e[fo]}e=t}}function a6(i,e,t,n){let r=li+n,o=t.length;n>0&&(t[r-1][fo]=e),n<o-li?(e[fo]=t[r],$1(t,li+n,e)):(t.push(e),e[fo]=null),e[qn]=t;let s=e[Sf];s!==null&&t!==s&&l6(s,e);let a=e[Bo];a!==null&&a.insertView(i),m0(e),e[Oe]|=128}function l6(i,e){let t=i[id],r=e[qn][qn][sr];e[sr]!==r&&(i[Oe]|=TE.HasTransplantedViews),t===null?i[id]=[e]:t.push(e)}function lL(i,e){let t=i[id],n=t.indexOf(e);t.splice(n,1)}function pf(i,e){if(i.length<=li)return;let t=li+e,n=i[t];if(n){let r=n[Sf];r!==null&&r!==i&&lL(r,n),e>0&&(i[t-1][fo]=n[fo]);let o=kv(i,li+e);r6(n[Le],n);let s=o[Bo];s!==null&&s.detachView(o[Le]),n[qn]=null,n[fo]=null,n[Oe]&=-129}return n}function fy(i,e){if(!(e[Oe]&256)){let t=e[Rt];t.destroyNode&&my(i,e,t,3,null,null),s6(e)}}function Zb(i,e){if(!(e[Oe]&256)){e[Oe]&=-129,e[Oe]|=256,e[iu]&&yF(e[iu]),c6(i,e),u6(i,e),e[Le].type===1&&e[Rt].destroy();let t=e[Sf];if(t!==null&&Bs(e[qn])){t!==e[qn]&&lL(t,e);let n=e[Bo];n!==null&&n.detachView(i)}n6(e)}}function u6(i,e){let t=i.cleanup,n=e[lf];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?n[s]():n[-s].unsubscribe(),o+=2}else{let s=n[t[o+1]];t[o].call(s)}n!==null&&(e[lf]=null);let r=e[xa];if(r!==null){e[xa]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function c6(i,e){let t;if(i!=null&&(t=i.destroyHooks)!=null)for(let n=0;n<t.length;n+=2){let r=e[t[n]];if(!(r instanceof au)){let o=t[n+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];Ho(4,a,l);try{l.call(a)}finally{Ho(5,a,l)}}else{Ho(4,r,o);try{o.call(r)}finally{Ho(5,r,o)}}}}}function uL(i,e,t){return cL(i,e.parent,t)}function cL(i,e,t){let n=e;for(;n!==null&&n.type&40;)e=n,n=e.parent;if(n===null)return t[qo];{let{componentOffset:r}=n;if(r>-1){let{encapsulation:o}=i.data[n.directiveStart+r];if(o===jo.None||o===jo.Emulated)return null}return Nr(n,t)}}function uu(i,e,t,n,r){i.insertBefore(e,t,n,r)}function dL(i,e,t){i.appendChild(e,t)}function yN(i,e,t,n,r){n!==null?uu(i,e,t,n,r):dL(i,e,t)}function d6(i,e,t,n){i.removeChild(e,t,n)}function py(i,e){return i.parentNode(e)}function h6(i,e){return i.nextSibling(e)}function hL(i,e,t){return pL(i,e,t)}function fL(i,e,t){return i.type&40?Nr(i,t):null}var pL=fL,T0;function gL(i,e){pL=i,T0=e}function gy(i,e,t,n){let r=uL(i,n,e),o=e[Rt],s=n.parent||e[Ii],a=hL(s,n,e);if(r!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)yN(o,r,t[l],a,!1);else yN(o,r,t,a,!1);T0!==void 0&&T0(o,n,e,t,r)}function Av(i,e){if(e!==null){let t=e.type;if(t&3)return Nr(e,i);if(t&4)return R0(-1,i[e.index]);if(t&8){let n=e.child;if(n!==null)return Av(i,n);{let r=i[e.index];return Bs(r)?R0(-1,r):Fr(r)}}else{if(t&32)return UE(e,i)()||Fr(i[e.index]);{let n=mL(i,e);if(n!==null){if(Array.isArray(n))return n[0];let r=df(i[sr]);return Av(r,n)}else return Av(i,e.next)}}}return null}function mL(i,e){if(e!==null){let n=i[sr][Ii],r=e.projection;return n.projection[r]}return null}function R0(i,e){let t=li+i+1;if(t<e.length){let n=e[t],r=n[Le].firstChild;if(r!==null)return Av(n,r)}return e[ru]}function vL(i,e,t){let n=py(i,e);n&&d6(i,n,e,t)}function $E(i,e,t,n,r,o,s){for(;t!=null;){let a=n[t.index],l=t.type;if(s&&e===0&&(a&&zo(Fr(a),n),t.flags|=2),(t.flags&32)!==32)if(l&8)$E(i,e,t.child,n,r,o,!1),Qc(e,i,r,a,o);else if(l&32){let u=UE(t,n),c;for(;c=u();)Qc(e,i,r,c,o);Qc(e,i,r,a,o)}else l&16?yL(i,e,n,t,r,o):Qc(e,i,r,a,o);t=s?t.projectionNext:t.next}}function my(i,e,t,n,r,o){$E(t,n,i.firstChild,e,r,o,!1)}function f6(i,e,t){let n=e[Rt],r=uL(i,t,e),o=t.parent||e[Ii],s=hL(o,t,e);yL(n,0,e,t,r,s)}function yL(i,e,t,n,r,o){let s=t[sr],l=s[Ii].projection[n.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let c=l[u];Qc(e,i,r,c,o)}else{let u=l,c=s[qn];iL(n)&&(u.flags|=128),$E(i,e,u,c,r,o,!0)}}function p6(i,e,t,n,r){let o=t[ru],s=Fr(t);o!==s&&Qc(e,i,n,o,r);for(let a=li;a<t.length;a++){let l=t[a];my(l[Le],l,i,e,n,o)}}function g6(i,e,t,n,r){if(e)r?i.addClass(t,n):i.removeClass(t,n);else{let o=n.indexOf("-")===-1?void 0:Wo.DashCase;r==null?i.removeStyle(t,n,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Wo.Important),i.setStyle(t,n,r,o))}}function m6(i,e,t){i.setAttribute(e,"style",t)}function _L(i,e,t){t===""?i.removeAttribute(e,"class"):i.setAttribute(e,"class",t)}function CL(i,e,t){let{mergedAttrs:n,classes:r,styles:o}=t;n!==null&&p0(i,e,n),r!==null&&_L(i,e,r),o!==null&&m6(i,e,o)}var _v;function v6(){if(_v===void 0&&(_v=null,or.trustedTypes))try{_v=or.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return _v}function vy(i){return v6()?.createHTML(i)||i}var Cv;function wL(){if(Cv===void 0&&(Cv=null,or.trustedTypes))try{Cv=or.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Cv}function _N(i){return wL()?.createHTML(i)||i}function CN(i){return wL()?.createScriptURL(i)||i}var Gs=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${UN})`}},A0=class extends Gs{getTypeName(){return"HTML"}},O0=class extends Gs{getTypeName(){return"Style"}},x0=class extends Gs{getTypeName(){return"Script"}},M0=class extends Gs{getTypeName(){return"URL"}},I0=class extends Gs{getTypeName(){return"ResourceURL"}};function Lr(i){return i instanceof Gs?i.changingThisBreaksApplicationSecurity:i}function js(i,e){let t=y6(i);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${UN})`)}return t===e}function y6(i){return i instanceof Gs&&i.getTypeName()||null}function SL(i){return new A0(i)}function bL(i){return new O0(i)}function EL(i){return new x0(i)}function DL(i){return new M0(i)}function TL(i){return new I0(i)}function RL(i){let e=new F0(i);return _6()?new P0(e):e}var P0=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(vy(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}},F0=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=vy(e),t}};function _6(){try{return!!new window.DOMParser().parseFromString(vy(""),"text/html")}catch{return!1}}var C6=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Rf(i){return i=String(i),i.match(C6)?i:"unsafe:"+i}function Us(i){let e={};for(let t of i.split(","))e[t]=!0;return e}function Af(...i){let e={};for(let t of i)for(let n in t)t.hasOwnProperty(n)&&(e[n]=!0);return e}var AL=Us("area,br,col,hr,img,wbr"),OL=Us("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),xL=Us("rp,rt"),w6=Af(xL,OL),S6=Af(OL,Us("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),b6=Af(xL,Us("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),N0=Af(AL,S6,b6,w6),qE=Us("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),E6=Us("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),D6=Us("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),ML=Af(qE,E6,D6),T6=Us("script,style,template"),L0=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;){if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild){t=t.firstChild;continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}}return this.buf.join("")}startElement(e){let t=e.nodeName.toLowerCase();if(!N0.hasOwnProperty(t))return this.sanitizedSomething=!0,!T6.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let n=e.attributes;for(let r=0;r<n.length;r++){let o=n.item(r),s=o.name,a=s.toLowerCase();if(!ML.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;qE[a]&&(l=Rf(l)),this.buf.push(" ",s,'="',wN(l),'"')}return this.buf.push(">"),!0}endElement(e){let t=e.nodeName.toLowerCase();N0.hasOwnProperty(t)&&!AL.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(wN(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}},R6=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,A6=/([^\#-~ |!])/g;function wN(i){return i.replace(/&/g,"&amp;").replace(R6,function(e){let t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+((t-55296)*1024+(n-56320)+65536)+";"}).replace(A6,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var wv;function YE(i,e){let t=null;try{wv=wv||RL(i);let n=e?String(e):"";t=wv.getInertBodyElement(n);let r=5,o=n;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,n=o,o=t.innerHTML,t=wv.getInertBodyElement(n)}while(n!==o);let a=new L0().sanitizeChildren(k0(t)||t);return vy(a)}finally{if(t){let n=k0(t)||t;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function k0(i){return"content"in i&&O6(i)?i.content:null}function O6(i){return i.nodeType===Node.ELEMENT_NODE&&i.nodeName==="TEMPLATE"}var lr=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(lr||{});function Of(i){let e=KE();return e?_N(e.sanitize(lr.HTML,i)||""):js(i,"HTML")?_N(Lr(i)):YE(BE(),ld(i))}function x6(i){let e=KE();return e?e.sanitize(lr.URL,i)||"":js(i,"URL")?Lr(i):Rf(ld(i))}function M6(i){let e=KE();if(e)return CN(e.sanitize(lr.RESOURCE_URL,i)||"");if(js(i,"ResourceURL"))return CN(Lr(i));throw new ee(904,!1)}function I6(i,e){return e==="src"&&(i==="embed"||i==="frame"||i==="iframe"||i==="media"||i==="script")||e==="href"&&(i==="base"||i==="link")?M6:x6}function IL(i,e,t){return I6(e,t)(i)}function KE(){let i=Be();return i&&i[Vs].sanitizer}var gf=class{};var P6="h",F6="b";var N6=()=>null;function QE(i,e,t=!1){return N6(i,e,t)}var V0=class{},Hv=class{};function L6(i){let e=Error(`No component factory found for ${wi(i)}.`);return e[k6]=i,e}var k6="ngComponent";var H0=class{resolveComponentFactory(e){throw L6(e)}},kr=(()=>{let e=class e{};e.NULL=new H0;let i=e;return i})();function V6(){return cd(Ei(),Be())}function cd(i,e){return new $e(Nr(i,e))}var $e=(()=>{let e=class e{constructor(n){this.nativeElement=n}};e.__NG_ELEMENT_ID__=V6;let i=e;return i})();function H6(i){return i instanceof $e?i.nativeElement:i}var po=class{},ur=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>G6();let i=e;return i})();function G6(){let i=Be(),e=Ei(),t=Ia(e.index,i);return(tu(t)?t:i)[Rt]}var B6=(()=>{let e=class e{};e.\u0275prov=G({token:e,providedIn:"root",factory:()=>null});let i=e;return i})(),Xb={};function yy(i,e){let t=EF(i),n=t[Nc];return e?.equal&&(n.equal=e.equal),t.set=r=>Ab(n,r),t.update=r=>DF(n,r),t.asReadonly=j6.bind(t),t}function j6(){let i=this[Nc];if(i.readonlyFn===void 0){let e=()=>this();e[Nc]=i,i.readonlyFn=e}return i.readonlyFn}function PL(i){return ZE(i)?Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i:!1}function U6(i,e){if(Array.isArray(i))for(let t=0;t<i.length;t++)e(i[t]);else{let t=i[Symbol.iterator](),n;for(;!(n=t.next()).done;)e(n.value)}}function ZE(i){return i!==null&&(typeof i=="function"||typeof i=="object")}var G0=class{constructor(){}supports(e){return PL(e)}create(e){return new B0(e)}},W6=(i,e)=>e,B0=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||W6}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,o=null;for(;t||n;){let s=!n||t&&t.currentIndex<SN(n,r,o)?t:n,a=SN(s,r,o),l=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(t=t._next,s.previousIndex==null)r++;else{o||(o=[]);let u=a-r,c=l-r;if(u!=c){for(let h=0;h<u;h++){let f=h<o.length?o[h]:o[h]=0,p=f+h;c<=p&&p<u&&(o[h]=f+1)}let d=s.previousIndex;o[d]=c-u}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!PL(e))throw new ee(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,n=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),n=!0):(n&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else r=0,U6(e,a=>{s=this._trackByFn(r,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,r),n=!0):(n&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(n,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new j0(t,n),o,r)),e}_verifyReinsertion(e,t,n,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Gv),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,n=e._next;return t===null?this._itHead=n:t._next=n,n===null?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Gv),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},j0=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},U0=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;n!==null;n=n._nextDup)if((t===null||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){let t=e._prevDup,n=e._nextDup;return t===null?this._head=n:t._nextDup=n,n===null?this._tail=t:n._prevDup=t,this._head===null}},Gv=class{constructor(){this.map=new Map}put(e){let t=e.trackById,n=this.map.get(t);n||(n=new U0,this.map.set(t,n)),n.add(e)}get(e,t){let n=e,r=this.map.get(n);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function SN(i,e,t){let n=i.previousIndex;if(n===null)return n;let r=0;return t&&n<t.length&&(r=t[n]),n+e+r}var W0=class{constructor(){}supports(e){return e instanceof Map||ZE(e)}create(){return new z0}},z0=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||ZE(e)))throw new ee(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(n,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,n),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(r,n);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let n=t;n!==null;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,t);let o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}let n=new $0(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}},$0=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function bN(){return new _y([new G0])}var _y=(()=>{let e=class e{constructor(n){this.factories=n}static create(n,r){if(r!=null){let o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||bN()),deps:[[e,new uy,new Ef]]}}find(n){let r=this.factories.find(o=>o.supports(n));if(r!=null)return r;throw new ee(901,!1)}};e.\u0275prov=G({token:e,providedIn:"root",factory:bN});let i=e;return i})();function EN(){return new XE([new W0])}var XE=(()=>{let e=class e{constructor(n){this.factories=n}static create(n,r){if(r){let o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||EN()),deps:[[e,new uy,new Ef]]}}find(n){let r=this.factories.find(o=>o.supports(n));if(r)return r;throw new ee(901,!1)}};e.\u0275prov=G({token:e,providedIn:"root",factory:EN});let i=e;return i})();function Bv(i,e,t,n,r=!1){for(;t!==null;){let o=e[t.index];o!==null&&n.push(Fr(o)),Bs(o)&&z6(o,n);let s=t.type;if(s&8)Bv(i,e,t.child,n);else if(s&32){let a=UE(t,e),l;for(;l=a();)n.push(l)}else if(s&16){let a=mL(e,t);if(Array.isArray(a))n.push(...a);else{let l=df(e[sr]);Bv(l[Le],l,a,n,!0)}}t=r?t.projectionNext:t.next}return n}function z6(i,e){for(let t=li;t<i.length;t++){let n=i[t],r=n[Le].firstChild;r!==null&&Bv(n[Le],n,r,e)}i[ru]!==i[qo]&&e.push(i[ru])}var FL=[];function $6(i){return i[iu]??q6(i)}function q6(i){let e=FL.pop()??Object.create(K6);return e.lView=i,e}function Y6(i){i.lView[iu]!==i&&(i.lView=null,FL.push(i))}var K6=be(K({},Tb),{consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{cf(i.lView)},consumerOnSignalRead(){this.lView[iu]=this}});function NL(i){return kL(i[uf])}function LL(i){return kL(i[fo])}function kL(i){for(;i!==null&&!Bs(i);)i=i[fo];return i}var Q6="ngOriginalError";function Jb(i){return i[Q6]}var $o=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Jb(e);for(;t&&Jb(t);)t=Jb(t);return t||null}},VL=new le("",{providedIn:"root",factory:()=>k($o).handleError.bind(void 0)});var HL=!1,Z6=new le("",{providedIn:"root",factory:()=>HL});var Ws={};function I(i=1){GL(nn(),Be(),Fa()+i,!1)}function GL(i,e,t,n){if(!n)if((e[Oe]&3)===3){let o=i.preOrderCheckHooks;o!==null&&Ev(e,o,t)}else{let o=i.preOrderHooks;o!==null&&Dv(e,o,0,t)}su(t)}function x(i,e=Qe.Default){let t=Be();if(t===null)return U(i,e);let n=Ei();return j1(n,t,_i(i),e)}function BL(){let i="invalid";throw new Error(i)}function jL(i,e,t,n,r,o){let s=$n(null);try{let a=null;r&pt.SignalBased&&(a=e[n][Nc]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&pt.HasDecoratorInputTransform&&(o=i.inputTransforms[n].call(e,o)),i.setInput!==null?i.setInput(e,a,o,t,n):h1(e,a,n,o)}finally{$n(s)}}function X6(i,e){let t=i.hostBindingOpCodes;if(t!==null)try{for(let n=0;n<t.length;n++){let r=t[n];if(r<0)su(~r);else{let o=r,s=t[++n],a=t[++n];dq(s,o);let l=e[o];a(2,l)}}}finally{su(-1)}}function Cy(i,e,t,n,r,o,s,a,l,u,c){let d=e.blueprint.slice();return d[qo]=r,d[Oe]=n|4|128|8|64,(u!==null||i&&i[Oe]&2048)&&(d[Oe]|=2048),v1(d),d[qn]=d[ud]=i,d[ai]=t,d[Vs]=s||i&&i[Vs],d[Rt]=a||i&&i[Rt],d[nd]=l||i&&i[nd]||null,d[Ii]=o,d[ey]=e6(),d[td]=c,d[d1]=u,d[sr]=e.type==2?i[sr]:d,d}function dd(i,e,t,n,r){let o=i.data[e];if(o===null)o=JE(i,e,t,n,r),cq()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=n,o.attrs=r;let s=hf();o.injectorIndex=s===null?-1:s.injectorIndex}return Uo(o,!0),o}function JE(i,e,t,n,r){let o=S1(),s=xE(),a=s?o:o&&o.parent,l=i.data[e]=rY(i,a,t,e,n,r);return i.firstChild===null&&(i.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function xf(i,e,t,n){if(t===0)return-1;let r=e.length;for(let o=0;o<t;o++)e.push(n),i.blueprint.push(n),i.data.push(null);return r}function UL(i,e,t,n,r){let o=Fa(),s=n&2;try{su(-1),s&&e.length>Yn&&GL(i,e,Yn,!1),Ho(s?2:0,r),t(n,r)}finally{su(o),Ho(s?3:1,r)}}function eD(i,e,t){if(RE(e)){let n=$n(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=i.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{$n(n)}}}function tD(i,e,t){C1()&&(cY(i,e,t,Nr(t,e)),(t.flags&64)===64&&$L(i,e,t))}function nD(i,e,t=Nr){let n=e.localNames;if(n!==null){let r=e.index+1;for(let o=0;o<n.length;o+=2){let s=n[o+1],a=s===-1?t(e,i):i[s];i[r++]=a}}}function WL(i){let e=i.tView;return e===null||e.incompleteFirstPass?i.tView=iD(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):e}function iD(i,e,t,n,r,o,s,a,l,u,c){let d=Yn+n,h=d+r,f=J6(d,h),p=typeof u=="function"?u():u;return f[Le]={type:i,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:c}}function J6(i,e){let t=[];for(let n=0;n<e;n++)t.push(n<i?null:Ws);return t}function eY(i,e,t,n){let o=n.get(Z6,HL)||t===jo.ShadowDom,s=i.selectRootElement(e,o);return tY(s),s}function tY(i){nY(i)}var nY=()=>null;function iY(i,e,t,n){let r=KL(e);r.push(t),i.firstCreatePass&&QL(i).push(n,r.length-1)}function rY(i,e,t,n,r,o){let s=e?e.injectorIndex:-1,a=0;return w1()&&(a|=128),{type:t,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function DN(i,e,t,n,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;n??={};let a,l=pt.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let u=o;if(r!==null){if(!r.hasOwnProperty(o))continue;u=r[o]}i===0?TN(n,t,u,a,l):TN(n,t,u,a)}return n}function TN(i,e,t,n,r){let o;i.hasOwnProperty(t)?(o=i[t]).push(e,n):o=i[t]=[e,n],r!==void 0&&o.push(r)}function oY(i,e,t){let n=e.directiveStart,r=e.directiveEnd,o=i.data,s=e.attrs,a=[],l=null,u=null;for(let c=n;c<r;c++){let d=o[c],h=t?t.get(d):null,f=h?h.inputs:null,p=h?h.outputs:null;l=DN(0,d.inputs,c,l,f),u=DN(1,d.outputs,c,u,p);let g=l!==null&&s!==null&&!i1(e)?CY(l,c,s):null;a.push(g)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}function sY(i){return i==="class"?"className":i==="for"?"htmlFor":i==="formaction"?"formAction":i==="innerHtml"?"innerHTML":i==="readonly"?"readOnly":i==="tabindex"?"tabIndex":i}function wy(i,e,t,n,r,o,s,a){let l=Nr(e,t),u=e.inputs,c;!a&&u!=null&&(c=u[n])?(sD(i,t,c,n,r),ty(e)&&aY(t,e.index)):e.type&3?(n=sY(n),r=s!=null?s(r,e.value||"",n):r,o.setProperty(l,n,r)):e.type&12}function aY(i,e){let t=Ia(e,i);t[Oe]&16||(t[Oe]|=64)}function rD(i,e,t,n){if(C1()){let r=n===null?null:{"":-1},o=hY(i,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&zL(i,e,t,s,r,a),r&&fY(t,n,r)}t.mergedAttrs=af(t.mergedAttrs,t.attrs)}function zL(i,e,t,n,r,o){for(let u=0;u<n.length;u++)_0(Lv(t,e),i,n[u].type);gY(t,i.data.length,n.length);for(let u=0;u<n.length;u++){let c=n[u];c.providersResolver&&c.providersResolver(c)}let s=!1,a=!1,l=xf(i,e,n.length,null);for(let u=0;u<n.length;u++){let c=n[u];t.mergedAttrs=af(t.mergedAttrs,c.hostAttrs),mY(i,t,e,l,c),pY(l,c,r),c.contentQueries!==null&&(t.flags|=4),(c.hostBindings!==null||c.hostAttrs!==null||c.hostVars!==0)&&(t.flags|=64);let d=c.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((i.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}oY(i,t,o)}function lY(i,e,t,n,r){let o=r.hostBindings;if(o){let s=i.hostBindingOpCodes;s===null&&(s=i.hostBindingOpCodes=[]);let a=~e.index;uY(s)!=a&&s.push(a),s.push(t,n,o)}}function uY(i){let e=i.length;for(;e>0;){let t=i[--e];if(typeof t=="number"&&t<0)return t}return 0}function cY(i,e,t,n){let r=t.directiveStart,o=t.directiveEnd;ty(t)&&vY(e,t,i.data[r+t.componentOffset]),i.firstCreatePass||Lv(t,e),zo(n,e);let s=t.initialInputs;for(let a=r;a<o;a++){let l=i.data[a],u=lu(e,i,a,t);if(zo(u,e),s!==null&&_Y(e,a-r,u,l,t,s),Hs(l)){let c=Ia(t.index,e);c[ai]=lu(e,i,a,t)}}}function $L(i,e,t){let n=t.directiveStart,r=t.directiveEnd,o=t.index,s=hq();try{su(o);for(let a=n;a<r;a++){let l=i.data[a],u=e[a];v0(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&dY(l,u)}}finally{su(-1),v0(s)}}function dY(i,e){i.hostBindings!==null&&i.hostBindings(1,e)}function hY(i,e){let t=i.directiveRegistry,n=null,r=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(r1(e,s.selectors,!1))if(n||(n=[]),Hs(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),n.unshift(...a,s);let l=a.length;q0(i,e,l)}else n.unshift(s),q0(i,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,n,r),n.push(s)}return n===null?null:[n,r]}function q0(i,e,t){e.componentOffset=t,(i.components??=[]).push(e.index)}function fY(i,e,t){if(e){let n=i.localNames=[];for(let r=0;r<e.length;r+=2){let o=t[e[r+1]];if(o==null)throw new ee(-301,!1);n.push(e[r],o)}}}function pY(i,e,t){if(t){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)t[e.exportAs[n]]=i;Hs(e)&&(t[""]=i)}}function gY(i,e,t){i.flags|=1,i.directiveStart=e,i.directiveEnd=e+t,i.providerIndexes=e}function mY(i,e,t,n,r){i.data[n]=r;let o=r.factory||(r.factory=rd(r.type,!0)),s=new au(o,Hs(r),x);i.blueprint[n]=s,t[n]=s,lY(i,e,n,xf(i,t,r.hostVars,Ws),r)}function vY(i,e,t){let n=Nr(e,i),r=WL(t),o=i[Vs].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=Sy(i,Cy(i,r,null,s,n,e,null,o.createRenderer(n,t),null,null,null));i[e.index]=a}function yY(i,e,t,n,r,o){let s=Nr(i,e);oD(e[Rt],s,o,i.value,t,n,r)}function oD(i,e,t,n,r,o,s){if(o==null)i.removeAttribute(e,r,t);else{let a=s==null?ld(o):s(o,n||"",r);i.setAttribute(e,r,a,t)}}function _Y(i,e,t,n,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],u=s[a++],c=s[a++],d=s[a++];jL(n,t,l,u,c,d)}}function CY(i,e,t){let n=null,r=0;for(;r<t.length;){let o=t[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(i.hasOwnProperty(o)){n===null&&(n=[]);let s=i[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){n.push(o,s[a+1],s[a+2],t[r+1]);break}}r+=2}return n}function qL(i,e,t,n){return[i,!0,0,e,null,n,null,t,null,null]}function YL(i,e){let t=i.contentQueries;if(t!==null){let n=$n(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let a=i.data[s];IE(o),a.contentQueries(2,e[s],s)}}}finally{$n(n)}}}function Sy(i,e){return i[uf]?i[cN][fo]=e:i[uf]=e,i[cN]=e,e}function Y0(i,e,t){IE(0);let n=$n(null);try{e(i,t)}finally{$n(n)}}function KL(i){return i[lf]||(i[lf]=[])}function QL(i){return i.cleanup||(i.cleanup=[])}function wY(i,e,t){return(i===null||Hs(i))&&(t=K8(t[e.index])),t[Rt]}function ZL(i,e){let t=i[nd],n=t?t.get($o,null):null;n&&n.handleError(e)}function sD(i,e,t,n,r){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],l=t[o++],u=e[s],c=i.data[s];jL(c,u,n,a,l,r)}}function SY(i,e,t){let n=iy(e,i);oL(i[Rt],n,t)}var bY=100;function EY(i,e=!0){let t=i[Vs],n=t.rendererFactory,r=!1;r||n.begin?.();try{DY(i)}catch(o){throw e&&ZL(i,o),o}finally{r||(n.end?.(),t.inlineEffectRunner?.flush())}}function DY(i){K0(i,0);let e=0;for(;y1(i);){if(e===bY)throw new ee(103,!1);e++,K0(i,1)}}function TY(i,e,t,n){let r=e[Oe];if((r&256)===256)return;let o=!1;!o&&e[Vs].inlineEffectRunner?.flush(),PE(e);let s=null,a=null;!o&&RY(i)&&(a=$6(e),s=mF(a));try{v1(e),uq(i.bindingStartIndex),t!==null&&UL(i,e,t,2,n);let l=(r&3)===3;if(!o)if(l){let d=i.preOrderCheckHooks;d!==null&&Ev(e,d,null)}else{let d=i.preOrderHooks;d!==null&&Dv(e,d,0,null),qb(e,0)}if(AY(e),XL(e,0),i.contentQueries!==null&&YL(i,e),!o)if(l){let d=i.contentCheckHooks;d!==null&&Ev(e,d)}else{let d=i.contentHooks;d!==null&&Dv(e,d,1),qb(e,1)}X6(i,e);let u=i.components;u!==null&&ek(e,u,0);let c=i.viewQuery;if(c!==null&&Y0(2,c,n),!o)if(l){let d=i.viewCheckHooks;d!==null&&Ev(e,d)}else{let d=i.viewHooks;d!==null&&Dv(e,d,2),qb(e,2)}if(i.firstUpdatePass===!0&&(i.firstUpdatePass=!1),e[$b]){for(let d of e[$b])d();e[$b]=null}o||(e[Oe]&=-73)}catch(l){throw cf(e),l}finally{a!==null&&(vF(a,s),Y6(a)),FE()}}function RY(i){return i.type!==2}function XL(i,e){for(let t=NL(i);t!==null;t=LL(t))for(let n=li;n<t.length;n++){let r=t[n];JL(r,e)}}function AY(i){for(let e=NL(i);e!==null;e=LL(e)){if(!(e[Oe]&TE.HasTransplantedViews))continue;let t=e[id];for(let n=0;n<t.length;n++){let r=t[n],o=r[qn];J8(r)}}}function OY(i,e,t){let n=Ia(e,i);JL(n,t)}function JL(i,e){OE(i)&&K0(i,e)}function K0(i,e){let n=i[Le],r=i[Oe],o=i[iu],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&Rb(o)),o&&(o.dirty=!1),i[Oe]&=-9217,s)TY(n,i,n.template,i[ai]);else if(r&8192){XL(i,1);let a=n.components;a!==null&&ek(i,a,1)}}function ek(i,e,t){for(let n=0;n<e.length;n++)OY(i,e[n],t)}function aD(i){for(i[Vs].changeDetectionScheduler?.notify();i;){i[Oe]|=64;let e=df(i);if(j8(i)&&!e)return i;i=e}return null}var cu=class{get rootNodes(){let e=this._lView,t=e[Le];return Bv(t,e,t.firstChild,[])}constructor(e,t,n=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ai]}set context(e){this._lView[ai]=e}get destroyed(){return(this._lView[Oe]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[qn];if(Bs(e)){let t=e[Pv],n=t?t.indexOf(this):-1;n>-1&&(pf(e,n),kv(t,n))}this._attachedToViewContainer=!1}fy(this._lView[Le],this._lView)}onDestroy(e){_1(this._lView,e)}markForCheck(){aD(this._cdRefInjectingView||this._lView)}detach(){this._lView[Oe]&=-129}reattach(){m0(this._lView),this._lView[Oe]|=128}detectChanges(){this._lView[Oe]|=1024,EY(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,aL(this._lView[Le],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ee(902,!1);this._appRef=e,m0(this._lView)}},kn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=xY;let i=e;return i})();function xY(i){return MY(Ei(),Be(),(i&16)===16)}function MY(i,e,t){if(ty(i)&&!t){let n=Ia(i.index,e);return new cu(n,n)}else if(i.type&47){let n=e[sr];return new cu(n,e)}return null}var hd=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=IY,e.__NG_ENV_ID__=n=>n;let i=e;return i})(),Q0=class extends hd{constructor(e){super(),this._lView=e}onDestroy(e){return _1(this._lView,e),()=>tq(this._lView,e)}};function IY(){return new Q0(Be())}var RN=new Set;function fd(i){RN.has(i)||(RN.add(i),performance?.mark?.("mark_feature_usage",{detail:{feature:i}}))}var Z0=class extends Se{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let r=e,o=t||(()=>null),s=n;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=e0(o),r&&(r=e0(r)),s&&(s=e0(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof Bt&&e.add(a),a}};function e0(i){return e=>{setTimeout(i,void 0,e)}}var j=Z0;function AN(...i){}function PY(){let i=typeof or.requestAnimationFrame=="function",e=or[i?"requestAnimationFrame":"setTimeout"],t=or[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){let n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);let r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}var we=class i{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new j(!1),this.onMicrotaskEmpty=new j(!1),this.onStable=new j(!1),this.onError=new j(!1),typeof Zone>"u")throw new ee(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=PY().nativeRequestAnimationFrame,LY(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!i.isInAngularZone())throw new ee(909,!1)}static assertNotInAngularZone(){if(i.isInAngularZone())throw new ee(909,!1)}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,FY,AN,AN);try{return o.runTask(s,t,n)}finally{o.cancelTask(s)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}},FY={};function lD(i){if(i._nesting==0&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function NY(i){i.isCheckStableRunning||i.lastRequestAnimationFrameId!==-1||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(or,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,X0(i),i.isCheckStableRunning=!0,lD(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),X0(i))}function LY(i){let e=()=>{NY(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,r,o,s,a)=>{if(kY(a))return t.invokeTask(r,o,s,a);try{return ON(i),t.invokeTask(r,o,s,a)}finally{(i.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||i.shouldCoalesceRunChangeDetection)&&e(),xN(i)}},onInvoke:(t,n,r,o,s,a,l)=>{try{return ON(i),t.invoke(r,o,s,a,l)}finally{i.shouldCoalesceRunChangeDetection&&e(),xN(i)}},onHasTask:(t,n,r,o)=>{t.hasTask(r,o),n===r&&(o.change=="microTask"?(i._hasPendingMicrotasks=o.microTask,X0(i),lD(i)):o.change=="macroTask"&&(i.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,n,r,o)=>(t.handleError(r,o),i.runOutsideAngular(()=>i.onError.emit(o)),!1)})}function X0(i){i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&i.lastRequestAnimationFrameId!==-1?i.hasPendingMicrotasks=!0:i.hasPendingMicrotasks=!1}function ON(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function xN(i){i._nesting--,lD(i)}function kY(i){return!Array.isArray(i)||i.length!==1?!1:i[0].data?.__ignore_ng_zone__===!0}var Zc=function(i){return i[i.EarlyRead=0]="EarlyRead",i[i.Write=1]="Write",i[i.MixedReadWrite=2]="MixedReadWrite",i[i.Read=3]="Read",i}(Zc||{}),VY={destroy(){}};function uD(i,e){!e&&GE(uD);let t=e?.injector??k(It);if(!Yq(t))return VY;fd("NgAfterNextRender");let n=t.get(cD),r=n.handler??=new eE,o=e?.phase??Zc.MixedReadWrite,s=()=>{r.unregister(l),a()},a=t.get(hd).onDestroy(s),l=new J0(t,o,()=>{s(),i()});return r.register(l),{destroy:s}}var J0=class{constructor(e,t,n){this.phase=t,this.callbackFn=n,this.zone=e.get(we),this.errorHandler=e.get($o,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},eE=class{constructor(){this.executingCallbacks=!1,this.buckets={[Zc.EarlyRead]:new Set,[Zc.Write]:new Set,[Zc.MixedReadWrite]:new Set,[Zc.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){let e=!1;this.executingCallbacks=!0;for(let t of Object.values(this.buckets))for(let n of t)e=!0,n.invoke();this.executingCallbacks=!1;for(let t of this.deferredCallbacks)this.buckets[t.phase].add(t);return this.deferredCallbacks.clear(),e}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},cD=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let o of n)o();return!!this.handler?.execute()||n.length>0}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=G({token:e,providedIn:"root",factory:()=>new e});let i=e;return i})();function HY(i,e){let t=Ia(e,i),n=t[Le];GY(n,t);let r=t[qo];r!==null&&t[td]===null&&(t[td]=QE(r,t[nd])),dD(n,t,t[ai])}function GY(i,e){for(let t=e.length;t<i.blueprint.length;t++)e.push(i.blueprint[t])}function dD(i,e,t){PE(e);try{let n=i.viewQuery;n!==null&&Y0(1,n,t);let r=i.template;r!==null&&UL(i,e,r,1,t),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&YL(i,e),i.staticViewQueries&&Y0(2,i.viewQuery,t);let o=i.components;o!==null&&BY(e,o)}catch(n){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),n}finally{e[Oe]&=-5,FE()}}function BY(i,e){for(let t=0;t<e.length;t++)HY(i,e[t])}function jv(i,e,t){let n=t?i.styles:null,r=t?i.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=c0(r,a);else if(o==2){let l=a,u=e[++s];n=c0(n,l+": "+u+";")}}t?i.styles=n:i.stylesWithoutHost=n,t?i.classes=r:i.classesWithoutHost=r}var Uv=class extends kr{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=ks(e);return new du(t,this.ngModule)}};function MN(i){let e=[];for(let t in i){if(!i.hasOwnProperty(t))continue;let n=i[t];n!==void 0&&e.push({propName:Array.isArray(n)?n[0]:n,templateName:t})}return e}function jY(i){let e=i.toLowerCase();return e==="svg"?m1:e==="math"?$8:null}var tE=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,n){n=Jv(n);let r=this.injector.get(e,Xb,n);return r!==Xb||t===Xb?r:this.parentInjector.get(e,t,n)}},du=class extends Hv{get inputs(){let e=this.componentDef,t=e.inputTransforms,n=MN(e.inputs);if(t!==null)for(let r of n)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return n}get outputs(){return MN(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=k8(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,n,r){r=r||this.ngModule;let o=r instanceof Ln?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let s=o?new tE(e,o):e,a=s.get(po,null);if(a===null)throw new ee(407,!1);let l=s.get(B6,null),u=s.get(cD,null),c=s.get(gf,null),d={rendererFactory:a,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:c},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=n?eY(h,n,this.componentDef.encapsulation,s):zE(h,f,jY(f)),g=512;this.componentDef.signals?g|=4096:this.componentDef.onPush||(g|=16);let m=null;p!==null&&(m=QE(p,s,!0));let v=iD(0,null,null,1,0,null,null,null,null,null,null),y=Cy(null,v,null,g,null,null,d,h,s,null,m);PE(y);let C,S;try{let E=this.componentDef,T,O=null;E.findHostDirectiveDefs?(T=[],O=new Map,E.findHostDirectiveDefs(E,T,O),T.push(E)):T=[E];let R=UY(y,p),M=WY(R,p,E,T,y,d,h);S=AE(v,Yn),p&&qY(h,E,p,n),t!==void 0&&YY(S,this.ngContentSelectors,t),C=$Y(M,E,T,O,y,[KY]),dD(v,y,null)}finally{FE()}return new nE(this.componentType,C,cd(S,y),y,S)}},nE=class extends V0{constructor(e,t,n,r,o){super(),this.location=n,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new cu(r,void 0,!1),this.componentType=e}setInput(e,t){let n=this._tNode.inputs,r;if(n!==null&&(r=n[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;sD(o[Le],o,r,e,t),this.previousInputValues.set(e,t);let s=Ia(this._tNode.index,o);aD(s)}}get injector(){return new nu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function UY(i,e){let t=i[Le],n=Yn;return i[n]=e,dd(t,n,2,"#host",null)}function WY(i,e,t,n,r,o,s){let a=r[Le];zY(n,i,e,s);let l=null;e!==null&&(l=QE(e,r[nd]));let u=o.rendererFactory.createRenderer(e,t),c=16;t.signals?c=4096:t.onPush&&(c=64);let d=Cy(r,WL(t),null,c,r[i.index],i,o,u,null,null,l);return a.firstCreatePass&&q0(a,i,n.length-1),Sy(r,d),r[i.index]=d}function zY(i,e,t,n){for(let r of i)e.mergedAttrs=af(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(jv(e,e.mergedAttrs,!0),t!==null&&CL(n,t,e))}function $Y(i,e,t,n,r,o){let s=Ei(),a=r[Le],l=Nr(s,r);zL(a,r,s,t,null,n);for(let c=0;c<t.length;c++){let d=s.directiveStart+c,h=lu(r,a,d,s);zo(h,r)}$L(a,r,s),l&&zo(l,r);let u=lu(r,a,s.directiveStart+s.componentOffset,s);if(i[ai]=r[ai]=u,o!==null)for(let c of o)c(u,e);return eD(a,s,i),u}function qY(i,e,t,n){if(n)p0(i,t,["ng-version","17.1.2"]);else{let{attrs:r,classes:o}=V8(e.selectors[0]);r&&p0(i,t,r),o&&o.length>0&&_L(i,t,o.join(" "))}}function YY(i,e,t){let n=i.projection=[];for(let r=0;r<e.length;r++){let o=t[r];n.push(o!=null?Array.from(o):null)}}function KY(){let i=Ei();ay(Be()[Le],i)}function QY(i){return Object.getPrototypeOf(i.prototype).constructor}function ui(i){let e=QY(i.type),t=!0,n=[i];for(;e;){let r;if(Hs(i))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ee(903,!1);r=e.\u0275dir}if(r){if(t){n.push(r);let s=i;s.inputs=Sv(i.inputs),s.inputTransforms=Sv(i.inputTransforms),s.declaredInputs=Sv(i.declaredInputs),s.outputs=Sv(i.outputs);let a=r.hostBindings;a&&tK(i,a);let l=r.viewQuery,u=r.contentQueries;if(l&&JY(i,l),u&&eK(i,u),ZY(i,r),s8(i.outputs,r.outputs),Hs(r)&&r.data.animation){let c=i.data;c.animation=(c.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(i),a===ui&&(t=!1)}}e=Object.getPrototypeOf(e)}XY(n)}function ZY(i,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||i.inputs.hasOwnProperty(t))continue;let n=e.inputs[t];if(n!==void 0&&(i.inputs[t]=n,i.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let r=Array.isArray(n)?n[0]:n;if(!e.inputTransforms.hasOwnProperty(r))continue;i.inputTransforms??={},i.inputTransforms[r]=e.inputTransforms[r]}}}function XY(i){let e=0,t=null;for(let n=i.length-1;n>=0;n--){let r=i[n];r.hostVars=e+=r.hostVars,r.hostAttrs=af(r.hostAttrs,t=af(t,r.hostAttrs))}}function Sv(i){return i===ed?{}:i===Ci?[]:i}function JY(i,e){let t=i.viewQuery;t?i.viewQuery=(n,r)=>{e(n,r),t(n,r)}:i.viewQuery=e}function eK(i,e){let t=i.contentQueries;t?i.contentQueries=(n,r,o)=>{e(n,r,o),t(n,r,o)}:i.contentQueries=e}function tK(i,e){let t=i.hostBindings;t?i.hostBindings=(n,r)=>{e(n,r),t(n,r)}:i.hostBindings=e}function La(i){let e=i.inputConfig,t={};for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];Array.isArray(r)&&r[3]&&(t[n]=r[3])}i.inputTransforms=t}var iIe=new RegExp(`^(\\d+)*(${F6}|${P6})*(.*)`);var nK=()=>null;function mf(i,e){return nK(i,e)}function by(i,e,t,n){let r=e.tView,s=i[Oe]&4096?4096:16,a=Cy(i,r,t,s,null,e,null,null,null,n?.injector??null,n?.dehydratedView??null),l=i[e.index];a[Sf]=l;let u=i[Bo];return u!==null&&(a[Bo]=u.createEmbeddedView(r)),dD(r,a,t),a}function tk(i,e){let t=li+e;if(t<i.length)return i[t]}function vf(i,e){return!e||e.firstChild===null||iL(i)}function Ey(i,e,t,n=!0){let r=e[Le];if(a6(r,e,i,t),n){let s=R0(t,i),a=e[Rt],l=py(a,i[ru]);l!==null&&o6(r,i[Ii],a,e,l,s)}let o=e[td];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function nk(i,e){let t=pf(i,e);return t!==void 0&&fy(t[Le],t),t}var Kn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=iK;let i=e;return i})();function iK(){let i=Ei();return rk(i,Be())}var rK=Kn,ik=class extends rK{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return cd(this._hostTNode,this._hostLView)}get injector(){return new nu(this._hostTNode,this._hostLView)}get parentInjector(){let e=NE(this._hostTNode,this._hostLView);if(L1(e)){let t=Nv(e,this._hostLView),n=Fv(e),r=t[Le].data[n+8];return new nu(r,t)}else return new nu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=IN(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-li}createEmbeddedView(e,t,n){let r,o;typeof n=="number"?r=n:n!=null&&(r=n.index,o=n.injector);let s=mf(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,vf(this._hostTNode,s)),a}createComponent(e,t,n,r,o){let s=e&&!Mq(e),a;if(s)a=t;else{let p=t||{};a=p.index,n=p.injector,r=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let l=s?e:new du(ks(e)),u=n||this.parentInjector;if(!o&&l.ngModule==null){let g=(s?u:this.parentInjector).get(Ln,null);g&&(o=g)}let c=ks(l.componentType??{}),d=mf(this._lContainer,c?.id??null),h=d?.firstChild??null,f=l.create(u,r,h,o);return this.insertImpl(f.hostView,a,vf(this._hostTNode,d)),f}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,n){let r=e._lView;if(X8(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[qn],u=new ik(l,l[Ii],l[qn]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Ey(s,r,o,n),e.attachToViewContainerRef(),$1(t0(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=IN(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),n=pf(this._lContainer,t);n&&(kv(t0(this._lContainer),t),fy(n[Le],n))}detach(e){let t=this._adjustIndex(e,-1),n=pf(this._lContainer,t);return n&&kv(t0(this._lContainer),t)!=null?new cu(n):null}_adjustIndex(e,t=0){return e??this.length+t}};function IN(i){return i[Pv]}function t0(i){return i[Pv]||(i[Pv]=[])}function rk(i,e){let t,n=e[i.index];return Bs(n)?t=n:(t=qL(n,e,null,i),e[i.index]=t,Sy(e,t)),sK(t,e,i,n),new ik(t,i,e)}function oK(i,e){let t=i[Rt],n=t.createComment(""),r=Nr(e,i),o=py(t,r);return uu(t,o,n,h6(t,r),!1),n}var sK=uK,aK=()=>!1;function lK(i,e,t){return aK(i,e,t)}function uK(i,e,t,n){if(i[ru])return;let r;t.type&8?r=Fr(n):r=oK(e,t),i[ru]=r}function ok(i,e,t){return i[e]=t}function ar(i,e,t){let n=i[e];return Object.is(n,t)?!1:(i[e]=t,!0)}function cK(i,e,t,n){let r=ar(i,e,t);return ar(i,e+1,n)||r}function dK(i,e,t,n,r,o,s,a,l){let u=e.consts,c=dd(e,i,4,s||null,ou(u,a));rD(e,t,c,ou(u,l)),ay(e,c);let d=c.tView=iD(2,c,n,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}function ue(i,e,t,n,r,o,s,a){let l=Be(),u=nn(),c=i+Yn,d=u.firstCreatePass?dK(c,u,l,e,t,n,r,o,s):u.data[c];Uo(d,!1);let h=hK(u,l,d,i);oy()&&gy(u,l,h,d),zo(h,l);let f=qL(h,l,h,d);return l[c]=f,Sy(l,f),lK(f,d,l),ny(d)&&tD(u,l,d),s!=null&&nD(l,d,a),ue}var hK=fK;function fK(i,e,t,n){return sy(!0),e[Rt].createComment("")}function Qn(i,e,t,n){let r=Be(),o=Pa();if(ar(r,o,e)){let s=nn(),a=ry();yY(a,r,i,e,t,n)}return Qn}function pK(i,e,t,n){return ar(i,Pa(),t)?e+ld(t)+n:Ws}function bv(i,e){return i<<17|e<<2}function hu(i){return i>>17&32767}function gK(i){return(i&2)==2}function mK(i,e){return i&131071|e<<17}function iE(i){return i|2}function ad(i){return(i&131068)>>2}function n0(i,e){return i&-131069|e<<2}function vK(i){return(i&1)===1}function rE(i){return i|1}function yK(i,e,t,n,r,o){let s=o?e.classBindings:e.styleBindings,a=hu(s),l=ad(s);i[n]=t;let u=!1,c;if(Array.isArray(t)){let d=t;c=d[1],(c===null||bf(d,c)>0)&&(u=!0)}else c=t;if(r)if(l!==0){let h=hu(i[a+1]);i[n+1]=bv(h,a),h!==0&&(i[h+1]=n0(i[h+1],n)),i[a+1]=mK(i[a+1],n)}else i[n+1]=bv(a,0),a!==0&&(i[a+1]=n0(i[a+1],n)),a=n;else i[n+1]=bv(l,0),a===0?a=n:i[l+1]=n0(i[l+1],n),l=n;u&&(i[n+1]=iE(i[n+1])),PN(i,c,n,!0),PN(i,c,n,!1),_K(e,c,i,n,o),s=bv(a,l),o?e.classBindings=s:e.styleBindings=s}function _K(i,e,t,n,r){let o=r?i.residualClasses:i.residualStyles;o!=null&&typeof e=="string"&&bf(o,e)>=0&&(t[n+1]=rE(t[n+1]))}function PN(i,e,t,n){let r=i[t+1],o=e===null,s=n?hu(r):ad(r),a=!1;for(;s!==0&&(a===!1||o);){let l=i[s],u=i[s+1];CK(l,e)&&(a=!0,i[s+1]=n?rE(u):iE(u)),s=n?hu(u):ad(u)}a&&(i[t+1]=n?iE(r):rE(r))}function CK(i,e){return i===null||e==null||(Array.isArray(i)?i[1]:i)===e?!0:Array.isArray(i)&&typeof e=="string"?bf(i,e)>=0:!1}var ho={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function wK(i){return i.substring(ho.key,ho.keyEnd)}function SK(i){return bK(i),sk(i,ak(i,0,ho.textEnd))}function sk(i,e){let t=ho.textEnd;return t===e?-1:(e=ho.keyEnd=EK(i,ho.key=e,t),ak(i,e,t))}function bK(i){ho.key=0,ho.keyEnd=0,ho.value=0,ho.valueEnd=0,ho.textEnd=i.length}function ak(i,e,t){for(;e<t&&i.charCodeAt(e)<=32;)e++;return e}function EK(i,e,t){for(;e<t&&i.charCodeAt(e)>32;)e++;return e}function N(i,e,t){let n=Be(),r=Pa();if(ar(n,r,e)){let o=nn(),s=ry();wy(o,s,n,i,e,n[Rt],t,!1)}return N}function oE(i,e,t,n,r){let o=e.inputs,s=r?"class":"style";sD(i,t,o[s],s,n)}function ci(i,e,t){return lk(i,e,t,!1),ci}function at(i,e){return lk(i,e,null,!0),at}function Pt(i){TK(IK,DK,i,!0)}function DK(i,e){for(let t=SK(e);t>=0;t=sk(e,t))kE(i,wK(e),!0)}function lk(i,e,t,n){let r=Be(),o=nn(),s=E1(2);if(o.firstUpdatePass&&ck(o,i,s,n),e!==Ws&&ar(r,s,e)){let a=o.data[Fa()];dk(o,a,r,r[Rt],i,r[s+1]=FK(e,t),n,s)}}function TK(i,e,t,n){let r=nn(),o=E1(2);r.firstUpdatePass&&ck(r,null,o,n);let s=Be();if(t!==Ws&&ar(s,o,t)){let a=r.data[Fa()];if(hk(a,n)&&!uk(r,o)){let l=n?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=c0(l,t||"")),oE(r,a,s,t,n)}else PK(r,a,s,s[Rt],s[o+1],s[o+1]=MK(i,e,t),n,o)}}function uk(i,e){return e>=i.expandoStartIndex}function ck(i,e,t,n){let r=i.data;if(r[t+1]===null){let o=r[Fa()],s=uk(i,t);hk(o,n)&&e===null&&!s&&(e=!1),e=RK(r,o,e,n),yK(r,o,e,t,s,n)}}function RK(i,e,t,n){let r=T1(i),o=n?e.residualClasses:e.residualStyles;if(r===null)(n?e.classBindings:e.styleBindings)===0&&(t=i0(null,i,e,t,n),t=yf(t,e.attrs,n),o=null);else{let s=e.directiveStylingLast;if(s===-1||i[s]!==r)if(t=i0(r,i,e,t,n),o===null){let l=AK(i,e,n);l!==void 0&&Array.isArray(l)&&(l=i0(null,i,e,l[1],n),l=yf(l,e.attrs,n),OK(i,e,n,l))}else o=xK(i,e,n)}return o!==void 0&&(n?e.residualClasses=o:e.residualStyles=o),t}function AK(i,e,t){let n=t?e.classBindings:e.styleBindings;if(ad(n)!==0)return i[hu(n)]}function OK(i,e,t,n){let r=t?e.classBindings:e.styleBindings;i[hu(r)]=n}function xK(i,e,t){let n,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=i[o].hostAttrs;n=yf(n,s,t)}return yf(n,e.attrs,t)}function i0(i,e,t,n,r){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],n=yf(n,o.hostAttrs,r),o!==i);)a++;return i!==null&&(t.directiveStylingLast=a),n}function yf(i,e,t){let n=t?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===n&&(Array.isArray(i)||(i=i===void 0?[]:["",i]),kE(i,s,t?!0:e[++o]))}return i===void 0?null:i}function MK(i,e,t){if(t==null||t==="")return Ci;let n=[],r=Lr(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)i(n,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&i(n,o,r[o]);else typeof r=="string"&&e(n,r);return n}function IK(i,e,t){let n=String(e);n!==""&&!n.includes(" ")&&kE(i,n,t)}function PK(i,e,t,n,r,o,s,a){r===Ws&&(r=Ci);let l=0,u=0,c=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;c!==null||d!==null;){let h=l<r.length?r[l+1]:void 0,f=u<o.length?o[u+1]:void 0,p=null,g;c===d?(l+=2,u+=2,h!==f&&(p=d,g=f)):d===null||c!==null&&c<d?(l+=2,p=c):(u+=2,p=d,g=f),p!==null&&dk(i,e,t,n,p,g,s,a),c=l<r.length?r[l]:null,d=u<o.length?o[u]:null}}function dk(i,e,t,n,r,o,s,a){if(!(e.type&3))return;let l=i.data,u=l[a+1],c=vK(u)?FN(l,e,t,r,ad(u),s):void 0;if(!Wv(c)){Wv(o)||gK(u)&&(o=FN(l,null,t,r,a,s));let d=iy(Fa(),t);g6(n,s,d,r,o)}}function FN(i,e,t,n,r,o){let s=e===null,a;for(;r>0;){let l=i[r],u=Array.isArray(l),c=u?l[1]:l,d=c===null,h=t[r+1];h===Ws&&(h=d?Ci:void 0);let f=d?Kb(h,n):c===n?h:void 0;if(u&&!Wv(f)&&(f=Kb(l,n)),Wv(f)&&(a=f,s))return a;let p=i[r+1];r=s?hu(p):ad(p)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=Kb(l,n))}return a}function Wv(i){return i!==void 0}function FK(i,e){return i==null||i===""||(typeof e=="string"?i=i+e:typeof i=="object"&&(i=wi(Lr(i)))),i}function hk(i,e){return(i.flags&(e?8:16))!==0}var sE=class{destroy(e){}updateValue(e,t){}swap(e,t){let n=Math.min(e,t),r=Math.max(e,t),o=this.detach(r);if(r-n>1){let s=this.detach(n);this.attach(n,o),this.attach(r,s)}else this.attach(n,o)}move(e,t){this.attach(t,this.detach(e))}};function r0(i,e,t,n,r){return i===t&&Object.is(e,n)?1:Object.is(r(i,e),r(t,n))?-1:0}function NK(i,e,t){let n,r,o=0,s=i.length-1;if(Array.isArray(e)){let a=e.length-1;for(;o<=s&&o<=a;){let l=i.at(o),u=e[o],c=r0(o,l,o,u,t);if(c!==0){c<0&&i.updateValue(o,u),o++;continue}let d=i.at(s),h=e[a],f=r0(s,d,a,h,t);if(f!==0){f<0&&i.updateValue(s,h),s--,a--;continue}let p=t(o,l),g=t(s,d),m=t(o,u);if(Object.is(m,g)){let v=t(a,h);Object.is(v,p)?(i.swap(o,s),i.updateValue(s,h),a--,s--):i.move(s,o),i.updateValue(o,u),o++;continue}if(n??=new zv,r??=LN(i,o,s,t),aE(i,n,o,m))i.updateValue(o,u),o++,s++;else if(r.has(m))n.set(p,i.detach(o)),s--;else{let v=i.create(o,e[o]);i.attach(o,v),o++,s++}}for(;o<=a;)NN(i,n,t,o,e[o]),o++}else if(e!=null){let a=e[Symbol.iterator](),l=a.next();for(;!l.done&&o<=s;){let u=i.at(o),c=l.value,d=r0(o,u,o,c,t);if(d!==0)d<0&&i.updateValue(o,c),o++,l=a.next();else{n??=new zv,r??=LN(i,o,s,t);let h=t(o,c);if(aE(i,n,o,h))i.updateValue(o,c),o++,s++,l=a.next();else if(!r.has(h))i.attach(o,i.create(o,c)),o++,s++,l=a.next();else{let f=t(o,u);n.set(f,i.detach(o)),s--}}}for(;!l.done;)NN(i,n,t,i.length,l.value),l=a.next()}for(;o<=s;)i.destroy(i.detach(s--));n?.forEach(a=>{i.destroy(a)})}function aE(i,e,t,n){return e!==void 0&&e.has(n)?(i.attach(t,e.get(n)),e.delete(n),!0):!1}function NN(i,e,t,n,r){if(aE(i,e,n,t(n,r)))i.updateValue(n,r);else{let o=i.create(n,r);i.attach(n,o)}}function LN(i,e,t,n){let r=new Set;for(let o=e;o<=t;o++)r.add(n(o,i.at(o)));return r}var zv=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let n=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(n);)n=r.get(n);r.set(n,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,n]of this.kvMap)if(e(n,t),this._vMap!==void 0){let r=this._vMap;for(;r.has(n);)n=r.get(n),e(n,t)}}};function Qt(i,e,t){fd("NgControlFlow");let n=Be(),r=Pa(),o=dE(n,Yn+i),s=0;if(ar(n,r,e)){let a=$n(null);try{if(nk(o,s),e!==-1){let l=hE(n[Le],Yn+e),u=mf(o,l.tView.ssrId),c=by(n,l,t,{dehydratedView:u});Ey(o,c,s,vf(l,u))}}finally{$n(a)}}else{let a=tk(o,s);a!==void 0&&(a[ai]=t)}}var lE=class{constructor(e,t,n){this.lContainer=e,this.$implicit=t,this.$index=n}get $count(){return this.lContainer.length-li}};function ka(i,e){return e}var uE=class{constructor(e,t,n){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=n}};function Va(i,e,t,n,r,o,s,a,l,u,c,d,h){fd("NgControlFlow");let f=l!==void 0,p=Be(),g=a?s.bind(p[sr][ai]):s,m=new uE(f,g);p[Yn+i]=m,ue(i+1,e,t,n,r,o),f&&ue(i+2,l,u,c,d,h)}var cE=class extends sE{constructor(e,t,n){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=n,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-li}at(e){return this.getLView(e)[ai].$implicit}attach(e,t){let n=t[td];this.needsIndexUpdate||=e!==this.length,Ey(this.lContainer,t,e,vf(this.templateTNode,n))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,LK(this.lContainer,e)}create(e,t){let n=mf(this.lContainer,this.templateTNode.tView.ssrId);return by(this.hostLView,this.templateTNode,new lE(this.lContainer,t,e),{dehydratedView:n})}destroy(e){fy(e[Le],e)}updateValue(e,t){this.getLView(e)[ai].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[ai].$index=e}getLView(e){return kK(this.lContainer,e)}};function Ha(i){let e=$n(null),t=Fa();try{let n=Be(),r=n[Le],o=n[t];if(o.liveCollection===void 0){let a=t+1,l=dE(n,a),u=hE(r,a);o.liveCollection=new cE(l,n,u)}else o.liveCollection.reset();let s=o.liveCollection;if(NK(s,i,o.trackByFn),s.updateIndexes(),o.hasEmptyBlock){let a=Pa(),l=s.length===0;if(ar(n,a,l)){let u=t+2,c=dE(n,u);if(l){let d=hE(r,u),h=mf(c,d.tView.ssrId),f=by(n,d,void 0,{dehydratedView:h});Ey(c,f,0,vf(d,h))}else nk(c,0)}}}finally{$n(e)}}function dE(i,e){return i[e]}function LK(i,e){return pf(i,e)}function kK(i,e){return tk(i,e)}function hE(i,e){return AE(i,e)}function VK(i,e,t,n,r,o){let s=e.consts,a=ou(s,r),l=dd(e,i,2,n,a);return rD(e,t,l,ou(s,o)),l.attrs!==null&&jv(l,l.attrs,!1),l.mergedAttrs!==null&&jv(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function b(i,e,t,n){let r=Be(),o=nn(),s=Yn+i,a=r[Rt],l=o.firstCreatePass?VK(s,o,r,e,t,n):o.data[s],u=HK(o,r,l,a,e,i);r[s]=u;let c=ny(l);return Uo(l,!0),CL(a,u,l),(l.flags&32)!==32&&oy()&&gy(o,r,u,l),nq()===0&&zo(u,r),iq(),c&&(tD(o,r,l),eD(o,l,r)),n!==null&&nD(r,l),b}function D(){let i=Ei();xE()?ME():(i=i.parent,Uo(i,!1));let e=i;oq(e)&&sq(),rq();let t=nn();return t.firstCreatePass&&(ay(t,i),RE(i)&&t.queries.elementEnd(i)),e.classesWithoutHost!=null&&_q(e)&&oE(t,e,Be(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Cq(e)&&oE(t,e,Be(),e.stylesWithoutHost,!1),D}function Q(i,e,t,n){return b(i,e,t,n),D(),Q}var HK=(i,e,t,n,r,o)=>(sy(!0),zE(n,r,gq()));function GK(i,e,t,n,r){let o=e.consts,s=ou(o,n),a=dd(e,i,8,"ng-container",s);s!==null&&jv(a,s,!0);let l=ou(o,r);return rD(e,t,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function Ko(i,e,t){let n=Be(),r=nn(),o=i+Yn,s=r.firstCreatePass?GK(o,r,n,e,t):r.data[o];Uo(s,!0);let a=BK(r,n,s,i);return n[o]=a,oy()&&gy(r,n,a,s),zo(a,n),ny(s)&&(tD(r,n,s),eD(r,s,n)),t!=null&&nD(n,s),Ko}function Qo(){let i=Ei(),e=nn();return xE()?ME():(i=i.parent,Uo(i,!1)),e.firstCreatePass&&(ay(e,i),RE(i)&&e.queries.elementEnd(i)),Qo}function Ga(i,e,t){return Ko(i,e,t),Qo(),Ga}var BK=(i,e,t,n)=>(sy(!0),sL(e[Rt],""));function Ft(){return Be()}function hD(i,e,t){let n=Be(),r=Pa();if(ar(n,r,e)){let o=nn(),s=ry();wy(o,s,n,i,e,n[Rt],t,!0)}return hD}function fD(i,e,t){let n=Be(),r=Pa();if(ar(n,r,e)){let o=nn(),s=ry(),a=T1(o.data),l=wY(a,s,n);wy(o,s,n,i,e,l,t,!0)}return fD}var eu=void 0;function jK(i){let e=i,t=Math.floor(Math.abs(i)),n=i.toString().replace(/^[^.]*\.?/,"").length;return t===1&&n===0?1:5}var UK=["en",[["a","p"],["AM","PM"],eu],[["AM","PM"],eu,eu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],eu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],eu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",eu,"{1} 'at' {0}",eu],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",jK],o0={};function cr(i){let e=WK(i),t=kN(e);if(t)return t;let n=e.split("-")[0];if(t=kN(n),t)return t;if(n==="en")return UK;throw new ee(701,!1)}function fk(i){return cr(i)[rn.PluralCase]}function kN(i){return i in o0||(o0[i]=or.ng&&or.ng.common&&or.ng.common.locales&&or.ng.common.locales[i]),o0[i]}var rn=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(rn||{});function WK(i){return i.toLowerCase().replace(/_/g,"-")}var zK=["zero","one","two","few","many"];function $K(i,e){let t=fk(e)(parseInt(i,10)),n=zK[t];return n!==void 0?n:"other"}var $v="en-US";var pk={marker:"element"},gk={marker:"ICU"},Ls=function(i){return i[i.SHIFT=2]="SHIFT",i[i.APPEND_EAGERLY=1]="APPEND_EAGERLY",i[i.COMMENT=2]="COMMENT",i}(Ls||{}),mk=$v;function qK(i){g8(i,"Expected localeId to be defined"),typeof i=="string"&&(mk=i.toLowerCase().replace(/_/g,"-"))}function YK(){return mk}function vk(i,e,t){let n=e.insertBeforeIndex,r=Array.isArray(n)?n[0]:n;return r===null?fL(i,e,t):Fr(t[r])}function yk(i,e,t,n,r){let o=e.insertBeforeIndex;if(Array.isArray(o)){let s=n,a=null;if(e.type&3||(a=s,s=r),s!==null&&e.componentOffset===-1)for(let l=1;l<o.length;l++){let u=t[o[l]];uu(i,s,u,a,!1)}}}function _k(i,e){if(i.push(e),i.length>1)for(let t=i.length-2;t>=0;t--){let n=i[t];Ck(n)||KK(n,e)&&QK(n)===null&&ZK(n,e.index)}}function Ck(i){return!(i.type&64)}function KK(i,e){return Ck(e)||i.index>e.index}function QK(i){let e=i.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function ZK(i,e){let t=i.insertBeforeIndex;Array.isArray(t)?t[0]=e:(gL(vk,yk),i.insertBeforeIndex=e)}function nf(i,e){let t=i.data[e];return t===null||typeof t=="string"?null:t.hasOwnProperty("currentCaseLViewIndex")?t:t.value}function XK(i,e,t){let n=i.data[e];n===null?i.data[e]=t:n.value=t}function JK(i,e){let t=i.insertBeforeIndex;t===null?(gL(vk,yk),t=i.insertBeforeIndex=[null,e]):(p8(Array.isArray(t),!0,"Expecting array here"),t.push(e))}function e7(i,e,t){let n=JE(i,t,64,null,null);return _k(e,n),n}function Dy(i,e){let t=e[i.currentCaseLViewIndex];return t===null?t:t<0?~t:t}function t7(i){return i>>>17}function n7(i){return(i&131070)>>>1}function i7(i,e,t){return i|e<<17|t<<1}var _f=0,rf=0;function r7(i){i&&(_f=_f|1<<Math.min(rf,31)),rf++}function o7(i,e,t){if(rf>0){let n=i.data[t],r=Array.isArray(n)?n:n.update,o=lq()-rf-1;Sk(i,e,r,o,_f)}_f=0,rf=0}function s7(i,e,t,n){let r=i[Rt];for(let o=0;o<e.length;o++){let s=e[o++],a=e[o],l=(s&Ls.COMMENT)===Ls.COMMENT,u=(s&Ls.APPEND_EAGERLY)===Ls.APPEND_EAGERLY,c=s>>>Ls.SHIFT,d=i[c];d===null&&(d=i[c]=l?r.createComment(a):WE(r,a)),u&&t!==null&&uu(r,t,d,n,!1)}}function wk(i,e,t,n){let r=t[Rt],o=null,s;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="string"){let u=e[++a];t[u]===null&&(t[u]=WE(r,l))}else if(typeof l=="number")switch(l&1){case 0:let u=t7(l);o===null&&(o=u,s=py(r,n));let c,d;if(u===o?(c=n,d=s):(c=null,d=Fr(t[u])),d!==null){let g=n7(l),m=t[g];uu(r,d,m,c,!1);let v=nf(i,g);if(v!==null&&typeof v=="object"){let y=Dy(v,t);y!==null&&wk(i,v.create[y],t,t[v.anchorIdx])}}break;case 1:let h=l>>>1,f=e[++a],p=e[++a];oD(r,iy(h,t),null,null,f,p,null);break;default:}else switch(l){case gk:let u=e[++a],c=e[++a];if(t[c]===null){let f=t[c]=sL(r,u);zo(f,t)}break;case pk:let d=e[++a],h=e[++a];if(t[h]===null){let f=t[h]=zE(r,d,null);zo(f,t)}break;default:}}}function Sk(i,e,t,n,r){for(let o=0;o<t.length;o++){let s=t[o],a=t[++o];if(s&r){let l="";for(let u=o+1;u<=o+a;u++){let c=t[u];if(typeof c=="string")l+=c;else if(typeof c=="number")if(c<0)l+=ld(e[n-c]);else{let d=c>>>2;switch(c&3){case 1:let h=t[++u],f=t[++u],p=i.data[d];typeof p=="string"?oD(e[Rt],e[d],null,p,h,l,f):wy(i,p,e,h,l,e[Rt],f,!1);break;case 0:let g=e[d];g!==null&&oL(e[Rt],g,l);break;case 2:a7(i,nf(i,d),e,l);break;case 3:VN(i,nf(i,d),n,e);break}}}}else{let l=t[o+1];if(l>0&&(l&3)===3){let u=l>>>2,c=nf(i,u);e[c.currentCaseLViewIndex]<0&&VN(i,c,n,e)}}o+=a}}function VN(i,e,t,n){let r=n[e.currentCaseLViewIndex];if(r!==null){let o=_f;r<0&&(r=n[e.currentCaseLViewIndex]=~r,o=-1),Sk(i,n,e.update[r],t,o)}}function a7(i,e,t,n){let r=l7(e,n);if(Dy(e,t)!==r&&(bk(i,e,t),t[e.currentCaseLViewIndex]=r===null?null:~r,r!==null)){let s=t[e.anchorIdx];s&&wk(i,e.create[r],t,s)}}function bk(i,e,t){let n=Dy(e,t);if(n!==null){let r=e.remove[n];for(let o=0;o<r.length;o++){let s=r[o];if(s>0){let a=iy(s,t);a!==null&&vL(t[Rt],a)}else bk(i,nf(i,~s),t)}}}function l7(i,e){let t=i.cases.indexOf(e);if(t===-1)switch(i.type){case 1:{let n=$K(e,YK());t=i.cases.indexOf(n),t===-1&&n!=="other"&&(t=i.cases.indexOf("other"));break}case 0:{t=i.cases.indexOf("other");break}}return t===-1?null:t}function u7(){let i=[],e=-1,t,n;function r(a,l){for(t=l;i.length;)i.pop();return o(a.value,l),s}function o(a,l){e=0;let u=Dy(a,l);u!==null?n=a.remove[u]:n=Ci}function s(){if(e<n.length){let a=n[e++];if(a>0)return t[a];{i.push(e,n);let l=~a,u=t[Le].data[l];return o(u,t),s()}}else return i.length===0?null:(n=i.pop(),e=i.pop(),s())}return r}var qv=/�(\d+):?\d*�/gi;var c7=/�(\d+)�/,Ek=/^\s*(�\d+:?\d*�)\s*,\s*(select|plural)\s*,/,of="\uFFFD",d7=/�\/?\*(\d+:\d+)�/gi,h7=/�(\/?[#*]\d+):?\d*�/gi,f7=/\uE500/g;function p7(i){return i.replace(f7," ")}function g7(i,e,t,n,r,o){let s=hf(),a=[],l=[],u=[[]];r=y7(r,o);let c=p7(r).split(h7);for(let d=0;d<c.length;d++){let h=c[d];if(d&1){let f=h.charCodeAt(0)===47,p=h.charCodeAt(f?1:0),g=Yn+Number.parseInt(h.substring(f?2:1));if(f)u.shift(),Uo(hf(),!1);else{let m=e7(i,u[0],g);u.unshift([]),Uo(m,!0)}}else{let f=fE(h);for(let p=0;p<f.length;p++){let g=f[p];if(p&1){let m=g;if(typeof m!="object")throw new Error(`Unable to parse ICU expression in "${r}" message.`);let y=Dk(i,s,u[0],t,a,"",!0).index;Rk(i,t,l,e,m,y)}else{let m=g;m!==""&&m7(i,s,u[0],a,l,t,m)}}}}i.data[n]={create:a,update:l}}function Dk(i,e,t,n,r,o,s){let a=xf(i,n,1,null),l=a<<Ls.SHIFT,u=hf();e===u&&(u=null),u===null&&(l|=Ls.APPEND_EAGERLY),s&&(l|=Ls.COMMENT,i6(u7)),r.push(l,o===null?"":o);let c=JE(i,a,s?32:1,o===null?"":o,null);_k(t,c);let d=c.index;return Uo(c,!1),u!==null&&e!==u&&JK(u,d),c}function m7(i,e,t,n,r,o,s){let a=s.match(qv),l=Dk(i,e,t,o,n,a?null:s,!1);a&&Ov(r,s,l.index,null,0,null)}function Ov(i,e,t,n,r,o){let s=i.length,a=s+1;i.push(null,null);let l=s+2,u=e.split(qv),c=0;for(let d=0;d<u.length;d++){let h=u[d];if(d&1){let f=r+parseInt(h,10);i.push(-1-f),c=c|Tk(f)}else h!==""&&i.push(h)}return i.push(t<<2|(n?1:0)),n&&i.push(n,o),i[s]=c,i[a]=i.length-l,c}function Tk(i){return 1<<Math.min(i,31)}function v7(i){return i===-1}function HN(i){let e,t="",n=0,r=!1,o;for(;(e=d7.exec(i))!==null;)r?e[0]===`${of}/*${o}${of}`&&(n=e.index,r=!1):(t+=i.substring(n,e.index+e[0].length),o=e[1],r=!0);return t+=i.slice(n),t}function y7(i,e){if(v7(e))return HN(i);{let t=i.indexOf(`:${e}${of}`)+2+e.toString().length,n=i.search(new RegExp(`${of}\\/\\*\\d+:${e}${of}`));return HN(i.substring(t,n))}}function Rk(i,e,t,n,r,o){let s=0,a={type:r.type,currentCaseLViewIndex:xf(i,e,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};S7(t,r,o),XK(i,o,a);let l=r.values;for(let u=0;u<l.length;u++){let c=l[u],d=[];for(let h=0;h<c.length;h++){let f=c[h];if(typeof f!="string"){let p=d.push(f)-1;c[h]=`<!--\uFFFD${p}\uFFFD-->`}}s=C7(i,a,e,t,n,r.cases[u],c.join(""),d)|s}s&&b7(t,s,o)}function _7(i){let e=[],t=[],n=1,r=0;i=i.replace(Ek,function(s,a,l){return l==="select"?n=0:n=1,r=parseInt(a.slice(1),10),""});let o=fE(i);for(let s=0;s<o.length;){let a=o[s++].trim();n===1&&(a=a.replace(/\s*(?:=)?(\w+)\s*/,"$1")),a.length&&e.push(a);let l=fE(o[s++]);e.length>t.length&&t.push(l)}return{type:n,mainBinding:r,cases:e,values:t}}function fE(i){if(!i)return[];let e=0,t=[],n=[],r=/[{}]/g;r.lastIndex=0;let o;for(;o=r.exec(i);){let a=o.index;if(o[0]=="}"){if(t.pop(),t.length==0){let l=i.substring(e,a);Ek.test(l)?n.push(_7(l)):n.push(l),e=a+1}}else{if(t.length==0){let l=i.substring(e,a);n.push(l),e=a+1}t.push("{")}}let s=i.substring(e);return n.push(s),n}function C7(i,e,t,n,r,o,s,a){let l=[],u=[],c=[];e.cases.push(o),e.create.push(l),e.remove.push(u),e.update.push(c);let h=RL(BE()).getInertBodyElement(s),f=k0(h)||h;return f?Ak(i,e,t,n,l,u,c,f,r,a,0):0}function Ak(i,e,t,n,r,o,s,a,l,u,c){let d=0,h=a.firstChild;for(;h;){let f=xf(i,t,1,null);switch(h.nodeType){case Node.ELEMENT_NODE:let p=h,g=p.tagName.toLowerCase();if(N0.hasOwnProperty(g)){s0(r,pk,g,l,f),i.data[f]=g;let C=p.attributes;for(let S=0;S<C.length;S++){let E=C.item(S),T=E.name.toLowerCase();!!E.value.match(qv)?ML.hasOwnProperty(T)&&(qE[T]?Ov(s,E.value,f,E.name,0,Rf):Ov(s,E.value,f,E.name,0,null)):E7(r,f,E)}d=Ak(i,e,t,n,r,o,s,h,f,u,c+1)|d,GN(o,f,c)}break;case Node.TEXT_NODE:let m=h.textContent||"",v=m.match(qv);s0(r,null,v?"":m,l,f),GN(o,f,c),v&&(d=Ov(s,m,f,null,0,null)|d);break;case Node.COMMENT_NODE:let y=c7.exec(h.textContent||"");if(y){let C=parseInt(y[1],10),S=u[C];s0(r,gk,"",l,f),Rk(i,t,n,l,S,f),w7(o,f,c)}break}h=h.nextSibling}return d}function GN(i,e,t){t===0&&i.push(e)}function w7(i,e,t){t===0&&(i.push(~e),i.push(e))}function S7(i,e,t){i.push(Tk(e.mainBinding),2,-1-e.mainBinding,t<<2|2)}function b7(i,e,t){i.push(e,1,t<<2|3)}function s0(i,e,t,n,r){e!==null&&i.push(e),i.push(t,r,i7(0,n,r))}function E7(i,e,t){i.push(e<<1|1,t.name,t.value)}function D7(i,e,t=-1){let n=nn(),r=Be(),o=Yn+i,s=ou(n.consts,e),a=hf();if(n.firstCreatePass&&g7(n,a===null?0:a.index,r,o,s,t),n.type===2){let h=r[sr];h[Oe]|=32}else r[Oe]|=32;let l=n.data[o],u=a===r[Ii]?null:a,c=cL(n,u,r),d=a&&a.type&8?r[a.index]:null;s7(r,l.create,c,d),D1(!0)}function T7(){D1(!1)}function Ba(i,e,t){D7(i,e,t),T7()}function pD(i){let e=Be();return r7(ar(e,Pa(),i)),pD}function Ok(i){o7(nn(),Be(),i+Yn)}function fu(i){return!!i&&typeof i.then=="function"}function xk(i){return!!i&&typeof i.subscribe=="function"}function z(i,e,t,n){let r=Be(),o=nn(),s=Ei();return A7(o,r,r[Rt],s,i,e,n),z}function R7(i,e,t,n){let r=i.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===n){let a=e[lf],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function A7(i,e,t,n,r,o,s){let a=ny(n),u=i.firstCreatePass&&QL(i),c=e[ai],d=KL(e),h=!0;if(n.type&3||s){let g=Nr(n,e),m=s?s(g):g,v=d.length,y=s?S=>s(Fr(S[n.index])):n.index,C=null;if(!s&&a&&(C=R7(i,e,r,n.index)),C!==null){let S=C.__ngLastListenerFn__||C;S.__ngNextListenerFn__=o,C.__ngLastListenerFn__=o,h=!1}else{o=jN(n,e,c,o,!1);let S=t.listen(m,r,o);d.push(o,S),u&&u.push(r,y,v,v+1)}}else o=jN(n,e,c,o,!1);let f=n.outputs,p;if(h&&f!==null&&(p=f[r])){let g=p.length;if(g)for(let m=0;m<g;m+=2){let v=p[m],y=p[m+1],E=e[v][y].subscribe(o),T=d.length;d.push(o,E),u&&u.push(r,n.index,T,-(T+1))}}}function BN(i,e,t,n){try{return Ho(6,e,t),t(n)!==!1}catch(r){return ZL(i,r),!1}finally{Ho(7,e,t)}}function jN(i,e,t,n,r){return function o(s){if(s===Function)return n;let a=i.componentOffset>-1?Ia(i.index,e):e;aD(a);let l=BN(e,t,n,s),u=o.__ngNextListenerFn__;for(;u;)l=BN(e,t,u,s)&&l,u=u.__ngNextListenerFn__;return r&&l===!1&&s.preventDefault(),l}}function te(i=1){return pq(i)}function O7(i,e){let t=null,n=I8(i);for(let r=0;r<e.length;r++){let o=e[r];if(o==="*"){t=r;continue}if(n===null?r1(i,o,!0):N8(n,o))return r}return t}function Mf(i){let e=Be()[sr][Ii];if(!e.projection){let t=i?i.length:1,n=e.projection=Fq(t,null),r=n.slice(),o=e.child;for(;o!==null;){let s=i?O7(o,i):0;s!==null&&(r[s]?r[s].projectionNext=o:n[s]=o,r[s]=o),o=o.next}}}function If(i,e=0,t){let n=Be(),r=nn(),o=dd(r,Yn+i,16,null,t||null);o.projection===null&&(o.projection=e),ME(),(!n[td]||w1())&&(o.flags&32)!==32&&f6(r,n,o)}function x7(){return this._results[Symbol.iterator]()}var Yv=class i{get changes(){return this._changes??=new j}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=i.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=x7)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let n=Pq(e);(this._changesDetected=!Iq(this._results,n,t))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},Si=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=P7;let i=e;return i})(),M7=Si,I7=class extends M7{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,n){let r=by(this._declarationLView,this._declarationTContainer,e,{injector:t,dehydratedView:n});return new cu(r)}};function P7(){return Ty(Ei(),Be())}function Ty(i,e){return i.type&4?new I7(e,i,cd(i,e)):null}var pE=class i{constructor(e){this.queryList=e,this.matches=null}clone(){return new i(this.queryList)}setDirty(){this.queryList.setDirty()}},gE=class i{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let n=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let o=0;o<n;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new i(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Fk(e,t).matches!==null&&this.queries[t].setDirty()}},Kv=class{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}},mE=class i{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){let r=t!==null?t.length:0,o=this.getByIndex(n).embeddedTView(e,r);o&&(o.indexInDeclarationView=n,t!==null?t.push(o):t=[o])}return t!==null?new i(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},vE=class i{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new i(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,n=e.parent;for(;n!==null&&n.type&8&&n.index!==t;)n=n.parent;return t===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){let o=n[r];this.matchTNodeWithReadOption(e,t,F7(t,o)),this.matchTNodeWithReadOption(e,t,Tv(t,e,o,!1,!1))}else n===Si?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Tv(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(n!==null){let r=this.metadata.read;if(r!==null)if(r===$e||r===Kn||r===Si&&t.type&4)this.addMatch(t.index,-2);else{let o=Tv(t,e,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,n)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function F7(i,e){let t=i.localNames;if(t!==null){for(let n=0;n<t.length;n+=2)if(t[n]===e)return t[n+1]}return null}function N7(i,e){return i.type&11?cd(i,e):i.type&4?Ty(i,e):null}function L7(i,e,t,n){return t===-1?N7(e,i):t===-2?k7(i,e,n):lu(i,i[Le],t,e)}function k7(i,e,t){if(t===$e)return cd(e,i);if(t===Si)return Ty(e,i);if(t===Kn)return rk(e,i)}function Mk(i,e,t,n){let r=e[Bo].queries[n];if(r.matches===null){let o=i.data,s=t.matches,a=[];for(let l=0;l<s.length;l+=2){let u=s[l];if(u<0)a.push(null);else{let c=o[u];a.push(L7(e,c,s[l+1],t.metadata.read))}}r.matches=a}return r.matches}function yE(i,e,t,n){let r=i.queries.getByIndex(t),o=r.matches;if(o!==null){let s=Mk(i,e,r,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)n.push(s[a/2]);else{let u=o[a+1],c=e[-l];for(let d=li;d<c.length;d++){let h=c[d];h[Sf]===h[qn]&&yE(h[Le],h,u,n)}if(c[id]!==null){let d=c[id];for(let h=0;h<d.length;h++){let f=d[h];yE(f[Le],f,u,n)}}}}}return n}function V7(i,e){return i[Bo].queries[e].queryList}function Ik(i,e,t){let n=new Yv((t&4)===4);iY(i,e,n,n.destroy),e[Bo]===null&&(e[Bo]=new gE),e[Bo].queries.push(new pE(n))}function Pk(i,e,t){i.queries===null&&(i.queries=new mE),i.queries.track(new vE(e,t))}function H7(i,e){let t=i.contentQueries||(i.contentQueries=[]),n=t.length?t[t.length-1]:-1;e!==n&&t.push(i.queries.length-1,e)}function Fk(i,e){return i.queries.getByIndex(e)}function bn(i,e,t,n){let r=nn();if(r.firstCreatePass){let o=Ei();Pk(r,new Kv(e,t,n),o.index),H7(r,i),(t&2)===2&&(r.staticContentQueries=!0)}Ik(r,Be(),t)}function Zn(i,e,t){let n=nn();n.firstCreatePass&&(Pk(n,new Kv(i,e,t),-1),(e&2)===2&&(n.staticViewQueries=!0)),Ik(n,Be(),e)}function lt(i){let e=Be(),t=nn(),n=R1();IE(n+1);let r=Fk(t,n);if(i.dirty&&Z8(e)===((r.metadata.flags&2)===2)){if(r.matches===null)i.reset([]);else{let o=r.crossesNgTemplate?yE(t,e,n,[]):Mk(t,e,r,n);i.reset(o,H6),i.notifyOnChanges()}return!0}return!1}function ut(){return V7(Be(),R1())}function Zo(i){let e=aq();return Q8(e,Yn+i)}function P(i,e=""){let t=Be(),n=nn(),r=i+Yn,o=n.firstCreatePass?dd(n,r,1,e,null):n.data[r],s=G7(n,t,o,e,i);t[r]=s,oy()&&gy(n,t,s,o),Uo(o,!1)}var G7=(i,e,t,n,r)=>(sy(!0),WE(e[Rt],n));function At(i){return di("",i,""),At}function di(i,e,t){let n=Be(),r=pK(n,i,e,t);return r!==Ws&&SY(n,Fa(),r),di}function B7(i,e,t){let n=nn();if(n.firstCreatePass){let r=Hs(i);_E(t,n.data,n.blueprint,r,!0),_E(e,n.data,n.blueprint,r,!1)}}function _E(i,e,t,n,r){if(i=_i(i),Array.isArray(i))for(let o=0;o<i.length;o++)_E(i[o],e,t,n,r);else{let o=nn(),s=Be(),a=Ei(),l=sd(i)?i:_i(i.provide),u=X1(i),c=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(sd(i)||!i.multi){let f=new au(u,r,x),p=l0(l,e,r?c:c+h,d);p===-1?(_0(Lv(a,s),o,l),a0(o,i,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(f),s.push(f)):(t[p]=f,s[p]=f)}else{let f=l0(l,e,c+h,d),p=l0(l,e,c,c+h),g=f>=0&&t[f],m=p>=0&&t[p];if(r&&!m||!r&&!g){_0(Lv(a,s),o,l);let v=W7(r?U7:j7,t.length,r,n,u);!r&&m&&(t[p].providerFactory=v),a0(o,i,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(v),s.push(v)}else{let v=Nk(t[r?p:f],u,!r&&n);a0(o,i,f>-1?f:p,v)}!r&&n&&m&&t[p].componentProviders++}}}function a0(i,e,t,n){let r=sd(e),o=Gq(e);if(r||o){let l=(o?_i(e.useClass):e).prototype.ngOnDestroy;if(l){let u=i.destroyHooks||(i.destroyHooks=[]);if(!r&&e.multi){let c=u.indexOf(t);c===-1?u.push(t,[n,l]):u[c+1].push(n,l)}else u.push(t,l)}}}function Nk(i,e,t){return t&&i.componentProviders++,i.multi.push(e)-1}function l0(i,e,t,n){for(let r=t;r<n;r++)if(e[r]===i)return r;return-1}function j7(i,e,t,n){return CE(this.multi,[])}function U7(i,e,t,n){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=lu(t,t[Le],this.providerFactory.index,n);o=a.slice(0,s),CE(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],CE(r,o);return o}function CE(i,e){for(let t=0;t<i.length;t++){let n=i[t];e.push(n())}return e}function W7(i,e,t,n,r){let o=new au(i,t,x);return o.multi=[],o.index=e,o.componentProviders=0,Nk(o,r,n&&!t),o}function vt(i,e=[]){return t=>{t.providersResolver=(n,r)=>B7(n,r?r(i):i,e)}}var Ma=class{},Cf=class{};var wE=class extends Ma{constructor(e,t,n){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Uv(this);let r=l1(e);this._bootstrapComponents=nL(r.bootstrap),this._r3Injector=J1(e,t,[{provide:Ma,useValue:this},{provide:kr,useValue:this.componentFactoryResolver},...n],wi(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},SE=class extends Cf{constructor(e){super(),this.moduleType=e}create(e){return new wE(this.moduleType,e,[])}};var Qv=class extends Ma{constructor(e){super(),this.componentFactoryResolver=new Uv(this),this.instance=null;let t=new ff([...e.providers,{provide:Ma,useValue:this},{provide:kr,useValue:this.componentFactoryResolver}],e.parent||dy(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ry(i,e,t=null){return new Qv({providers:i,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var z7=(()=>{let e=class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=K1(!1,n.type),o=r.length>0?Ry([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=G({token:e,providedIn:"environment",factory:()=>new e(U(Ln))});let i=e;return i})();function oe(i){fd("NgStandalone"),i.getStandaloneInjector=e=>e.get(z7).getOrCreateStandaloneInjector(i)}function go(i,e,t,n){return $7(Be(),b1(),i,e,t,n)}function Ay(i,e,t,n,r){return q7(Be(),b1(),i,e,t,n,r)}function Lk(i,e){let t=i[e];return t===Ws?void 0:t}function $7(i,e,t,n,r,o){let s=e+t;return ar(i,s,r)?ok(i,s+1,o?n.call(o,r):n(r)):Lk(i,s+1)}function q7(i,e,t,n,r,o,s){let a=e+t;return cK(i,a,r,o)?ok(i,a+2,s?n.call(s,r,o):n(r,o)):Lk(i,a+2)}function Pf(i,e){return Ty(i,e)}var Oy=(()=>{let e=class e{log(n){console.log(n)}warn(n){console.warn(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"platform"});let i=e;return i})(),bE=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},xy=(()=>{let e=class e{compileModuleSync(n){return new SE(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=l1(n),s=nL(o.declarations).reduce((a,l)=>{let u=ks(l);return u&&a.push(new du(u)),a},[]);return new bE(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var pu=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new dn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var kk=new le("");var My=new le(""),Vk=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=k(My,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let s=o();if(fu(s))n.push(s);else if(xk(s)){let a=new Promise((l,u)=>{s.subscribe({complete:l,error:u})});n.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Ff=new le("");function Y7(){bF(()=>{throw new ee(600,!1)})}function K7(i){return i.isBoundToModule}function Q7(i,e,t){try{let n=t();return fu(n)?n.catch(r=>{throw e.runOutsideAngular(()=>i.handleError(r)),r}):n}catch(n){throw e.runOutsideAngular(()=>i.handleError(n)),n}}var Pi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(VL),this.afterRenderEffectManager=k(cD),this.componentTypes=[],this.components=[],this.isStable=k(pu).hasPendingTasks.pipe(De(n=>!n)),this._injector=k(Ln)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let o=n instanceof Hv;if(!this._injector.get(Vk).done){let f=!o&&a1(n),p=!1;throw new ee(405,p)}let a;o?a=n:a=this._injector.get(kr).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let l=K7(a)?void 0:this._injector.get(Ma),u=r||a.selector,c=a.create(It.NULL,[],u,l),d=c.location.nativeElement,h=c.injector.get(kk,null);return h?.registerApplication(d),c.onDestroy(()=>{this.detachView(c.hostView),u0(this.components,c),h?.unregisterApplication(d)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new ee(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{try{let n=this.afterRenderEffectManager.execute()}catch(n){this.internalErrorHandler(n)}this._runningTick=!1}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;u0(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Ff,[]);[...this._bootstrapListeners,...r].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>u0(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ee(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function u0(i,e){let t=i.indexOf(e);t>-1&&i.splice(t,1)}var Z7=(()=>{let e=class e{constructor(){this.zone=k(we),this.applicationRef=k(Pi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function X7(i){return[{provide:we,useFactory:i},{provide:od,multi:!0,useFactory:()=>{let e=k(Z7,{optional:!0});return()=>e.initialize()}},{provide:od,multi:!0,useFactory:()=>{let e=k(n9);return()=>{e.initialize()}}},{provide:VL,useFactory:J7}]}function J7(){let i=k(we),e=k($o);return t=>i.runOutsideAngular(()=>e.handleError(t))}function e9(i){let e=X7(()=>new we(t9(i)));return Na([[],e])}function t9(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}var n9=(()=>{let e=class e{constructor(){this.subscription=new Bt,this.initialized=!1,this.zone=k(we),this.pendingTasks=k(pu)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function i9(){return typeof $localize<"u"&&$localize.locale||$v}var pd=new le("",{providedIn:"root",factory:()=>k(pd,Qe.Optional|Qe.SkipSelf)||i9()});var Hk=new le("");var xv=null;function r9(i=[],e){return It.create({name:e,providers:[{provide:cy,useValue:"platform"},{provide:Hk,useValue:new Set([()=>xv=null])},...i]})}function o9(i=[]){if(xv)return xv;let e=r9(i);return xv=e,Y7(),s9(e),e}function s9(i){i.get(jE,null)?.forEach(t=>t())}function Gk(i){try{let{rootComponent:e,appProviders:t,platformProviders:n}=i,r=o9(n),o=[e9(),...t||[]],a=new Qv({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,l=a.get(we);return l.run(()=>{a.resolveInjectorInitializers();let u=a.get($o,null),c;l.runOutsideAngular(()=>{c=l.onError.subscribe({next:f=>{u.handleError(f)}})});let d=()=>a.destroy(),h=r.get(Hk);return h.add(d),a.onDestroy(()=>{c.unsubscribe(),h.delete(d)}),Q7(u,l,()=>{let f=a.get(Vk);return f.runInitializers(),f.donePromise.then(()=>{let p=a.get(pd,$v);qK(p||$v);let g=a.get(Pi);return e!==void 0&&g.bootstrap(e),g})})})}catch(e){return Promise.reject(e)}}function Ti(i){return typeof i=="boolean"?i:i!=null&&i!=="false"}function Nf(i,e=NaN){return!isNaN(parseFloat(i))&&!isNaN(Number(i))?Number(i):e}function Iy(i,e){let t=ks(i),n=e.elementInjector||dy();return new du(t).create(n,e.projectableNodes,e.hostElement,e.environmentInjector)}function Bk(i){let e=ks(i);if(!e)return null;let t=new du(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Yk=null;function Ks(){return Yk}function Kk(i){Yk??=i}var By=class{},Te=new le(""),ED=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:()=>k(l9),providedIn:"platform"});let i=e;return i})(),Qk=new le(""),l9=(()=>{let e=class e extends ED{constructor(){super(),this._doc=k(Te),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ks().getBaseHref(this._doc)}onPopState(n){let r=Ks().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Ks().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:()=>new e,providedIn:"platform"});let i=e;return i})();function DD(i,e){if(i.length==0)return e;if(e.length==0)return i;let t=0;return i.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?i+e.substring(1):t==1?i+e:i+"/"+e}function jk(i){let e=i.match(/#|\?|$/),t=e&&e.index||i.length,n=t-(i[t-1]==="/"?1:0);return i.slice(0,n)+i.slice(t)}function $s(i){return i&&i[0]!=="?"?"?"+i:i}var vo=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:()=>k(TD),providedIn:"root"});let i=e;return i})(),Zk=new le(""),TD=(()=>{let e=class e extends vo{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??k(Te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return DD(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+$s(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,s){let a=this.prepareExternalUrl(o+$s(s));this._platformLocation.pushState(n,r,a)}replaceState(n,r,o,s){let a=this.prepareExternalUrl(o+$s(s));this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(r){return new(r||e)(U(ED),U(Zk,8))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Uy=(()=>{let e=class e extends vo{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=DD(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,s){let a=this.prepareExternalUrl(o+$s(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,r,a)}replaceState(n,r,o,s){let a=this.prepareExternalUrl(o+$s(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(r){return new(r||e)(U(ED),U(Zk,8))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let i=e;return i})(),ja=(()=>{let e=class e{constructor(n){this._subject=new j,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=d9(jk(Uk(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+$s(r))}normalize(n){return e.stripTrailingSlash(c9(this._basePath,Uk(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+$s(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+$s(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r,complete:o})}};e.normalizeQueryParams=$s,e.joinWithSlash=DD,e.stripTrailingSlash=jk,e.\u0275fac=function(r){return new(r||e)(U(vo))},e.\u0275prov=G({token:e,factory:()=>u9(),providedIn:"root"});let i=e;return i})();function u9(){return new ja(U(vo))}function c9(i,e){if(!i||!e.startsWith(i))return e;let t=e.substring(i.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function Uk(i){return i.replace(/\/index.html$/,"")}function d9(i){if(new RegExp("^(https?:)?//").test(i)){let[,t]=i.split(/\/\/[^\/]+/);return t}return i}var pn=function(i){return i[i.Format=0]="Format",i[i.Standalone=1]="Standalone",i}(pn||{}),st=function(i){return i[i.Narrow=0]="Narrow",i[i.Abbreviated=1]="Abbreviated",i[i.Wide=2]="Wide",i[i.Short=3]="Short",i}(st||{}),dr=function(i){return i[i.Short=0]="Short",i[i.Medium=1]="Medium",i[i.Long=2]="Long",i[i.Full=3]="Full",i}(dr||{}),qs=function(i){return i[i.Decimal=0]="Decimal",i[i.Group=1]="Group",i[i.List=2]="List",i[i.PercentSign=3]="PercentSign",i[i.PlusSign=4]="PlusSign",i[i.MinusSign=5]="MinusSign",i[i.Exponential=6]="Exponential",i[i.SuperscriptingExponent=7]="SuperscriptingExponent",i[i.PerMille=8]="PerMille",i[i.Infinity=9]="Infinity",i[i.NaN=10]="NaN",i[i.TimeSeparator=11]="TimeSeparator",i[i.CurrencyDecimal=12]="CurrencyDecimal",i[i.CurrencyGroup=13]="CurrencyGroup",i}(qs||{});function h9(i){return cr(i)[rn.LocaleId]}function RD(i,e,t){let n=cr(i),r=[n[rn.DayPeriodsFormat],n[rn.DayPeriodsStandalone]],o=Vr(r,e);return Vr(o,t)}function AD(i,e,t){let n=cr(i),r=[n[rn.DaysFormat],n[rn.DaysStandalone]],o=Vr(r,e);return Vr(o,t)}function Wy(i,e,t){let n=cr(i),r=[n[rn.MonthsFormat],n[rn.MonthsStandalone]],o=Vr(r,e);return Vr(o,t)}function f9(i,e){let n=cr(i)[rn.Eras];return Vr(n,e)}function Py(i,e){let t=cr(i);return Vr(t[rn.DateFormat],e)}function Fy(i,e){let t=cr(i);return Vr(t[rn.TimeFormat],e)}function Ny(i,e){let n=cr(i)[rn.DateTimeFormat];return Vr(n,e)}function zy(i,e){let t=cr(i),n=t[rn.NumberSymbols][e];if(typeof n>"u"){if(e===qs.CurrencyDecimal)return t[rn.NumberSymbols][qs.Decimal];if(e===qs.CurrencyGroup)return t[rn.NumberSymbols][qs.Group]}return n}function Xk(i){if(!i[rn.ExtraData])throw new Error(`Missing extra locale data for the locale "${i[rn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function p9(i){let e=cr(i);return Xk(e),(e[rn.ExtraData][2]||[]).map(n=>typeof n=="string"?gD(n):[gD(n[0]),gD(n[1])])}function g9(i,e,t){let n=cr(i);Xk(n);let r=[n[rn.ExtraData][0],n[rn.ExtraData][1]],o=Vr(r,e)||[];return Vr(o,t)||[]}function Vr(i,e){for(let t=e;t>-1;t--)if(typeof i[t]<"u")return i[t];throw new Error("Locale data API: locale data undefined")}function gD(i){let[e,t]=i.split(":");return{hours:+e,minutes:+t}}var m9=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ly={},v9=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Ys=function(i){return i[i.Short=0]="Short",i[i.ShortGMT=1]="ShortGMT",i[i.Long=2]="Long",i[i.Extended=3]="Extended",i}(Ys||{}),_t=function(i){return i[i.FullYear=0]="FullYear",i[i.Month=1]="Month",i[i.Date=2]="Date",i[i.Hours=3]="Hours",i[i.Minutes=4]="Minutes",i[i.Seconds=5]="Seconds",i[i.FractionalSeconds=6]="FractionalSeconds",i[i.Day=7]="Day",i}(_t||{}),yt=function(i){return i[i.DayPeriods=0]="DayPeriods",i[i.Days=1]="Days",i[i.Months=2]="Months",i[i.Eras=3]="Eras",i}(yt||{});function Jk(i,e,t,n){let r=T9(i);e=zs(t,e)||e;let s=[],a;for(;e;)if(a=v9.exec(e),a){s=s.concat(a.slice(1));let c=s.pop();if(!c)break;e=c}else{s.push(e);break}let l=r.getTimezoneOffset();n&&(l=tV(n,l),r=D9(r,n,!0));let u="";return s.forEach(c=>{let d=b9(c);u+=d?d(r,t,l):c==="''"?"'":c.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function jy(i,e,t){let n=new Date(0);return n.setFullYear(i,e,t),n.setHours(0,0,0),n}function zs(i,e){let t=h9(i);if(Ly[t]??={},Ly[t][e])return Ly[t][e];let n="";switch(e){case"shortDate":n=Py(i,dr.Short);break;case"mediumDate":n=Py(i,dr.Medium);break;case"longDate":n=Py(i,dr.Long);break;case"fullDate":n=Py(i,dr.Full);break;case"shortTime":n=Fy(i,dr.Short);break;case"mediumTime":n=Fy(i,dr.Medium);break;case"longTime":n=Fy(i,dr.Long);break;case"fullTime":n=Fy(i,dr.Full);break;case"short":let r=zs(i,"shortTime"),o=zs(i,"shortDate");n=ky(Ny(i,dr.Short),[r,o]);break;case"medium":let s=zs(i,"mediumTime"),a=zs(i,"mediumDate");n=ky(Ny(i,dr.Medium),[s,a]);break;case"long":let l=zs(i,"longTime"),u=zs(i,"longDate");n=ky(Ny(i,dr.Long),[l,u]);break;case"full":let c=zs(i,"fullTime"),d=zs(i,"fullDate");n=ky(Ny(i,dr.Full),[c,d]);break}return n&&(Ly[t][e]=n),n}function ky(i,e){return e&&(i=i.replace(/\{([^}]+)}/g,function(t,n){return e!=null&&n in e?e[n]:t})),i}function mo(i,e,t="-",n,r){let o="";(i<0||r&&i<=0)&&(r?i=-i+1:(i=-i,o=t));let s=String(i);for(;s.length<e;)s="0"+s;return n&&(s=s.slice(s.length-e)),o+s}function y9(i,e){return mo(i,3).substring(0,e)}function fn(i,e,t=0,n=!1,r=!1){return function(o,s){let a=_9(i,o);if((t>0||a>-t)&&(a+=t),i===_t.Hours)a===0&&t===-12&&(a=12);else if(i===_t.FractionalSeconds)return y9(a,e);let l=zy(s,qs.MinusSign);return mo(a,e,l,n,r)}}function _9(i,e){switch(i){case _t.FullYear:return e.getFullYear();case _t.Month:return e.getMonth();case _t.Date:return e.getDate();case _t.Hours:return e.getHours();case _t.Minutes:return e.getMinutes();case _t.Seconds:return e.getSeconds();case _t.FractionalSeconds:return e.getMilliseconds();case _t.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${i}".`)}}function kt(i,e,t=pn.Format,n=!1){return function(r,o){return C9(r,o,i,e,t,n)}}function C9(i,e,t,n,r,o){switch(t){case yt.Months:return Wy(e,r,n)[i.getMonth()];case yt.Days:return AD(e,r,n)[i.getDay()];case yt.DayPeriods:let s=i.getHours(),a=i.getMinutes();if(o){let u=p9(e),c=g9(e,r,n),d=u.findIndex(h=>{if(Array.isArray(h)){let[f,p]=h,g=s>=f.hours&&a>=f.minutes,m=s<p.hours||s===p.hours&&a<p.minutes;if(f.hours<p.hours){if(g&&m)return!0}else if(g||m)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(d!==-1)return c[d]}return RD(e,r,n)[s<12?0:1];case yt.Eras:return f9(e,n)[i.getFullYear()<=0?0:1];default:let l=t;throw new Error(`unexpected translation type ${l}`)}}function Vy(i){return function(e,t,n){let r=-1*n,o=zy(t,qs.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(i){case Ys.Short:return(r>=0?"+":"")+mo(s,2,o)+mo(Math.abs(r%60),2,o);case Ys.ShortGMT:return"GMT"+(r>=0?"+":"")+mo(s,1,o);case Ys.Long:return"GMT"+(r>=0?"+":"")+mo(s,2,o)+":"+mo(Math.abs(r%60),2,o);case Ys.Extended:return n===0?"Z":(r>=0?"+":"")+mo(s,2,o)+":"+mo(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${i}"`)}}}var w9=0,Gy=4;function S9(i){let e=jy(i,w9,1).getDay();return jy(i,0,1+(e<=Gy?Gy:Gy+7)-e)}function eV(i){let e=i.getDay(),t=e===0?-3:Gy-e;return jy(i.getFullYear(),i.getMonth(),i.getDate()+t)}function mD(i,e=!1){return function(t,n){let r;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();r=1+Math.floor((s+o)/7)}else{let o=eV(t),s=S9(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return mo(r,i,zy(n,qs.MinusSign))}}function Hy(i,e=!1){return function(t,n){let o=eV(t).getFullYear();return mo(o,i,zy(n,qs.MinusSign),e)}}var vD={};function b9(i){if(vD[i])return vD[i];let e;switch(i){case"G":case"GG":case"GGG":e=kt(yt.Eras,st.Abbreviated);break;case"GGGG":e=kt(yt.Eras,st.Wide);break;case"GGGGG":e=kt(yt.Eras,st.Narrow);break;case"y":e=fn(_t.FullYear,1,0,!1,!0);break;case"yy":e=fn(_t.FullYear,2,0,!0,!0);break;case"yyy":e=fn(_t.FullYear,3,0,!1,!0);break;case"yyyy":e=fn(_t.FullYear,4,0,!1,!0);break;case"Y":e=Hy(1);break;case"YY":e=Hy(2,!0);break;case"YYY":e=Hy(3);break;case"YYYY":e=Hy(4);break;case"M":case"L":e=fn(_t.Month,1,1);break;case"MM":case"LL":e=fn(_t.Month,2,1);break;case"MMM":e=kt(yt.Months,st.Abbreviated);break;case"MMMM":e=kt(yt.Months,st.Wide);break;case"MMMMM":e=kt(yt.Months,st.Narrow);break;case"LLL":e=kt(yt.Months,st.Abbreviated,pn.Standalone);break;case"LLLL":e=kt(yt.Months,st.Wide,pn.Standalone);break;case"LLLLL":e=kt(yt.Months,st.Narrow,pn.Standalone);break;case"w":e=mD(1);break;case"ww":e=mD(2);break;case"W":e=mD(1,!0);break;case"d":e=fn(_t.Date,1);break;case"dd":e=fn(_t.Date,2);break;case"c":case"cc":e=fn(_t.Day,1);break;case"ccc":e=kt(yt.Days,st.Abbreviated,pn.Standalone);break;case"cccc":e=kt(yt.Days,st.Wide,pn.Standalone);break;case"ccccc":e=kt(yt.Days,st.Narrow,pn.Standalone);break;case"cccccc":e=kt(yt.Days,st.Short,pn.Standalone);break;case"E":case"EE":case"EEE":e=kt(yt.Days,st.Abbreviated);break;case"EEEE":e=kt(yt.Days,st.Wide);break;case"EEEEE":e=kt(yt.Days,st.Narrow);break;case"EEEEEE":e=kt(yt.Days,st.Short);break;case"a":case"aa":case"aaa":e=kt(yt.DayPeriods,st.Abbreviated);break;case"aaaa":e=kt(yt.DayPeriods,st.Wide);break;case"aaaaa":e=kt(yt.DayPeriods,st.Narrow);break;case"b":case"bb":case"bbb":e=kt(yt.DayPeriods,st.Abbreviated,pn.Standalone,!0);break;case"bbbb":e=kt(yt.DayPeriods,st.Wide,pn.Standalone,!0);break;case"bbbbb":e=kt(yt.DayPeriods,st.Narrow,pn.Standalone,!0);break;case"B":case"BB":case"BBB":e=kt(yt.DayPeriods,st.Abbreviated,pn.Format,!0);break;case"BBBB":e=kt(yt.DayPeriods,st.Wide,pn.Format,!0);break;case"BBBBB":e=kt(yt.DayPeriods,st.Narrow,pn.Format,!0);break;case"h":e=fn(_t.Hours,1,-12);break;case"hh":e=fn(_t.Hours,2,-12);break;case"H":e=fn(_t.Hours,1);break;case"HH":e=fn(_t.Hours,2);break;case"m":e=fn(_t.Minutes,1);break;case"mm":e=fn(_t.Minutes,2);break;case"s":e=fn(_t.Seconds,1);break;case"ss":e=fn(_t.Seconds,2);break;case"S":e=fn(_t.FractionalSeconds,1);break;case"SS":e=fn(_t.FractionalSeconds,2);break;case"SSS":e=fn(_t.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Vy(Ys.Short);break;case"ZZZZZ":e=Vy(Ys.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Vy(Ys.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Vy(Ys.Long);break;default:return null}return vD[i]=e,e}function tV(i,e){i=i.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+i)/6e4;return isNaN(t)?e:t}function E9(i,e){return i=new Date(i.getTime()),i.setMinutes(i.getMinutes()+e),i}function D9(i,e,t){let n=t?-1:1,r=i.getTimezoneOffset(),o=tV(e,r);return E9(i,n*(o-r))}function T9(i){if(Wk(i))return i;if(typeof i=="number"&&!isNaN(i))return new Date(i);if(typeof i=="string"){if(i=i.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(i)){let[r,o=1,s=1]=i.split("-").map(a=>+a);return jy(r,o-1,s)}let t=parseFloat(i);if(!isNaN(i-t))return new Date(t);let n;if(n=i.match(m9))return R9(n)}let e=new Date(i);if(!Wk(e))throw new Error(`Unable to convert "${i}" into a date`);return e}function R9(i){let e=new Date(0),t=0,n=0,r=i[8]?e.setUTCFullYear:e.setFullYear,o=i[8]?e.setUTCHours:e.setHours;i[9]&&(t=Number(i[9]+i[10]),n=Number(i[9]+i[11])),r.call(e,Number(i[1]),Number(i[2])-1,Number(i[3]));let s=Number(i[4]||0)-t,a=Number(i[5]||0)-n,l=Number(i[6]||0),u=Math.floor(parseFloat("0."+(i[7]||0))*1e3);return o.call(e,s,a,l,u),e}function Wk(i){return i instanceof Date&&!isNaN(i.valueOf())}function $y(i,e){e=encodeURIComponent(e);for(let t of i.split(";")){let n=t.indexOf("="),[r,o]=n==-1?[t,""]:[t.slice(0,n),t.slice(n+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var yD=/\s+/,zk=[],Ua=(()=>{let e=class e{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=zk,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(yD):zk}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(yD):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let o=this.stateMap.get(n);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],o=n[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(yD).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(r){return new(r||e)(x($e),x(ur))},e.\u0275dir=ot({type:e,selectors:[["","ngClass",""]],inputs:{klass:[pt.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let i=e;return i})();var _D=class{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Xo=(()=>{let e=class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((o,s,a)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new _D(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(s===null?void 0:s);else if(s!==null){let l=r.get(s);r.move(l,a),$k(l,o)}});for(let o=0,s=r.length;o<s;o++){let l=r.get(o).context;l.index=o,l.count=s,l.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{let s=r.get(o.currentIndex);$k(s,o)})}static ngTemplateContextGuard(n,r){return!0}};e.\u0275fac=function(r){return new(r||e)(x(Kn),x(Si),x(_y))},e.\u0275dir=ot({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let i=e;return i})();function $k(i,e){i.context.$implicit=e.item}var Ri=(()=>{let e=class e{constructor(n,r){this._viewContainer=n,this._context=new CD,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){qk("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){qk("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}};e.\u0275fac=function(r){return new(r||e)(x(Kn),x(Si))},e.\u0275dir=ot({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let i=e;return i})(),CD=class{constructor(){this.$implicit=null,this.ngIf=null}};function qk(i,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${i} must be a TemplateRef, but received '${wi(e)}'.`)}var nV=(()=>{let e=class e{constructor(n,r,o){this._ngEl=n,this._differs=r,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){let[o,s]=n.split("."),a=o.indexOf("-")===-1?void 0:Wo.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,o,s?`${r}${s}`:r,a):this._renderer.removeStyle(this._ngEl.nativeElement,o,a)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}};e.\u0275fac=function(r){return new(r||e)(x($e),x(XE),x(ur))},e.\u0275dir=ot({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let i=e;return i})(),Lf=(()=>{let e=class e{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(this._shouldRecreateView(n)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let o=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,o)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,o):!1,get:(n,r,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,o)}})}};e.\u0275fac=function(r){return new(r||e)(x(Kn))},e.\u0275dir=ot({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Wt]});let i=e;return i})();var gu=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Ie({});let i=e;return i})(),OD="browser",A9="server";function md(i){return i===OD}function xD(i){return i===A9}var iV=(()=>{let e=class e{};e.\u0275prov=G({token:e,providedIn:"root",factory:()=>md(k(Di))?new wD(k(Te),window):new SD});let i=e;return i})(),wD=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=O9(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],r-o[1])}};function O9(i,e){let t=i.getElementById(e)||i.getElementsByName(e)[0];if(t)return t;if(typeof i.createTreeWalker=="function"&&i.body&&typeof i.body.attachShadow=="function"){let n=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT),r=n.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=n.nextNode()}}return null}var SD=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},gd=class{};var kf=class{},Yy=class{},vu=class i{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let n=t.indexOf(":");if(n>0){let r=t.slice(0,n),o=r.toLowerCase(),s=t.slice(n+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,n)=>{this.setHeaderEntries(n,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,n])=>{this.setHeaderEntries(t,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new i;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let n=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var ID=class{encodeKey(e){return rV(e)}encodeValue(e){return rV(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function I9(i,e){let t=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var P9=/%(\d[a-f0-9])/gi,F9={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function rV(i){return encodeURIComponent(i).replace(P9,(e,t)=>F9[t]??e)}function qy(i){return`${i}`}var Wa=class i{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ID,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=I9(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let n=e.fromObject[t],r=Array.isArray(n)?n.map(qy):[qy(n)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(n=>{let r=e[n];Array.isArray(r)?r.forEach(o=>{t.push({param:n,value:o,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(n=>t+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new i({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(qy(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let n=this.map.get(e.param)||[],r=n.indexOf(qy(e.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var PD=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function N9(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function oV(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function sV(i){return typeof Blob<"u"&&i instanceof Blob}function aV(i){return typeof FormData<"u"&&i instanceof FormData}function L9(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var mu=class i{constructor(e,t,n,r){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(N9(this.method)||r?(this.body=n!==void 0?n:null,o=r):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new vu,this.context??=new PD,!this.params)this.params=new Wa,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:oV(this.body)||sV(this.body)||aV(this.body)||L9(this.body)||typeof this.body=="string"?this.body:this.body instanceof Wa?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||aV(this.body)?null:sV(this.body)?this.body.type||null:oV(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Wa?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,n=e.url||this.url,r=e.responseType||this.responseType,o=e.body!==void 0?e.body:this.body,s=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,c=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),u)),new i(t,n,o,{params:u,headers:l,context:c,reportProgress:a,responseType:r,withCredentials:s})}},za=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(za||{}),Vf=class{constructor(e,t=Zy.Ok,n="OK"){this.headers=e.headers||new vu,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},FD=class i extends Vf{constructor(e={}){super(e),this.type=za.ResponseHeader}clone(e={}){return new i({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ky=class i extends Vf{constructor(e={}){super(e),this.type=za.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new i({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Qy=class extends Vf{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Zy=function(i){return i[i.Continue=100]="Continue",i[i.SwitchingProtocols=101]="SwitchingProtocols",i[i.Processing=102]="Processing",i[i.EarlyHints=103]="EarlyHints",i[i.Ok=200]="Ok",i[i.Created=201]="Created",i[i.Accepted=202]="Accepted",i[i.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",i[i.NoContent=204]="NoContent",i[i.ResetContent=205]="ResetContent",i[i.PartialContent=206]="PartialContent",i[i.MultiStatus=207]="MultiStatus",i[i.AlreadyReported=208]="AlreadyReported",i[i.ImUsed=226]="ImUsed",i[i.MultipleChoices=300]="MultipleChoices",i[i.MovedPermanently=301]="MovedPermanently",i[i.Found=302]="Found",i[i.SeeOther=303]="SeeOther",i[i.NotModified=304]="NotModified",i[i.UseProxy=305]="UseProxy",i[i.Unused=306]="Unused",i[i.TemporaryRedirect=307]="TemporaryRedirect",i[i.PermanentRedirect=308]="PermanentRedirect",i[i.BadRequest=400]="BadRequest",i[i.Unauthorized=401]="Unauthorized",i[i.PaymentRequired=402]="PaymentRequired",i[i.Forbidden=403]="Forbidden",i[i.NotFound=404]="NotFound",i[i.MethodNotAllowed=405]="MethodNotAllowed",i[i.NotAcceptable=406]="NotAcceptable",i[i.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",i[i.RequestTimeout=408]="RequestTimeout",i[i.Conflict=409]="Conflict",i[i.Gone=410]="Gone",i[i.LengthRequired=411]="LengthRequired",i[i.PreconditionFailed=412]="PreconditionFailed",i[i.PayloadTooLarge=413]="PayloadTooLarge",i[i.UriTooLong=414]="UriTooLong",i[i.UnsupportedMediaType=415]="UnsupportedMediaType",i[i.RangeNotSatisfiable=416]="RangeNotSatisfiable",i[i.ExpectationFailed=417]="ExpectationFailed",i[i.ImATeapot=418]="ImATeapot",i[i.MisdirectedRequest=421]="MisdirectedRequest",i[i.UnprocessableEntity=422]="UnprocessableEntity",i[i.Locked=423]="Locked",i[i.FailedDependency=424]="FailedDependency",i[i.TooEarly=425]="TooEarly",i[i.UpgradeRequired=426]="UpgradeRequired",i[i.PreconditionRequired=428]="PreconditionRequired",i[i.TooManyRequests=429]="TooManyRequests",i[i.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",i[i.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",i[i.InternalServerError=500]="InternalServerError",i[i.NotImplemented=501]="NotImplemented",i[i.BadGateway=502]="BadGateway",i[i.ServiceUnavailable=503]="ServiceUnavailable",i[i.GatewayTimeout=504]="GatewayTimeout",i[i.HttpVersionNotSupported=505]="HttpVersionNotSupported",i[i.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",i[i.InsufficientStorage=507]="InsufficientStorage",i[i.LoopDetected=508]="LoopDetected",i[i.NotExtended=510]="NotExtended",i[i.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",i}(Zy||{});function MD(i,e){return{body:e,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}var je=(()=>{let e=class e{constructor(n){this.handler=n}request(n,r,o={}){let s;if(n instanceof mu)s=n;else{let u;o.headers instanceof vu?u=o.headers:u=new vu(o.headers);let c;o.params&&(o.params instanceof Wa?c=o.params:c=new Wa({fromObject:o.params})),s=new mu(n,r,o.body!==void 0?o.body:null,{headers:u,context:o.context,params:c,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=he(s).pipe(Ns(u=>this.handler.handle(u)));if(n instanceof mu||o.observe==="events")return a;let l=a.pipe(ft(u=>u instanceof Ky));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(De(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return l.pipe(De(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return l.pipe(De(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return l.pipe(De(u=>u.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Wa().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,MD(o,r))}post(n,r,o={}){return this.request("POST",n,MD(o,r))}put(n,r,o={}){return this.request("PUT",n,MD(o,r))}};e.\u0275fac=function(r){return new(r||e)(U(kf))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let i=e;return i})();function dV(i,e){return e(i)}function k9(i,e){return(t,n)=>e.intercept(t,{handle:r=>i(r,n)})}function V9(i,e,t){return(n,r)=>Yo(t,()=>e(n,o=>i(o,r)))}var ND=new le(""),LD=new le(""),H9=new le(""),G9=new le("");function B9(){let i=null;return(e,t)=>{i===null&&(i=(k(ND,{optional:!0})??[]).reduceRight(k9,dV));let n=k(pu),r=n.add();return i(e,t).pipe(Ir(()=>n.remove(r)))}}var lV=(()=>{let e=class e extends kf{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=k(pu);let o=k(G9,{optional:!0});this.backend=o??n}handle(n){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(LD),...this.injector.get(H9,[])]));this.chain=o.reduceRight((s,a)=>V9(s,a,this.injector),dV)}let r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(Ir(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(U(Yy),U(Ln))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let i=e;return i})();var j9=/^\)\]\}',?\n/;function U9(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}var uV=(()=>{let e=class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new ee(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?xt(r.\u0275loadImpl()):he(null)).pipe(Sn(()=>new Ce(s=>{let a=r.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((m,v)=>a.setRequestHeader(m,v.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let m=n.detectContentTypeHeader();m!==null&&a.setRequestHeader("Content-Type",m)}if(n.responseType){let m=n.responseType.toLowerCase();a.responseType=m!=="json"?m:"text"}let l=n.serializeBody(),u=null,c=()=>{if(u!==null)return u;let m=a.statusText||"OK",v=new vu(a.getAllResponseHeaders()),y=U9(a)||n.url;return u=new FD({headers:v,status:a.status,statusText:m,url:y}),u},d=()=>{let{headers:m,status:v,statusText:y,url:C}=c(),S=null;v!==Zy.NoContent&&(S=typeof a.response>"u"?a.responseText:a.response),v===0&&(v=S?Zy.Ok:0);let E=v>=200&&v<300;if(n.responseType==="json"&&typeof S=="string"){let T=S;S=S.replace(j9,"");try{S=S!==""?JSON.parse(S):null}catch(O){S=T,E&&(E=!1,S={error:O,text:S})}}E?(s.next(new Ky({body:S,headers:m,status:v,statusText:y,url:C||void 0})),s.complete()):s.error(new Qy({error:S,headers:m,status:v,statusText:y,url:C||void 0}))},h=m=>{let{url:v}=c(),y=new Qy({error:m,status:a.status||0,statusText:a.statusText||"Unknown Error",url:v||void 0});s.error(y)},f=!1,p=m=>{f||(s.next(c()),f=!0);let v={type:za.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(v.total=m.total),n.responseType==="text"&&a.responseText&&(v.partialText=a.responseText),s.next(v)},g=m=>{let v={type:za.UploadProgress,loaded:m.loaded};m.lengthComputable&&(v.total=m.total),s.next(v)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),n.reportProgress&&(a.addEventListener("progress",p),l!==null&&a.upload&&a.upload.addEventListener("progress",g)),a.send(l),s.next({type:za.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),n.reportProgress&&(a.removeEventListener("progress",p),l!==null&&a.upload&&a.upload.removeEventListener("progress",g)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(U(gd))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let i=e;return i})(),hV=new le(""),W9="XSRF-TOKEN",z9=new le("",{providedIn:"root",factory:()=>W9}),$9="X-XSRF-TOKEN",q9=new le("",{providedIn:"root",factory:()=>$9}),Xy=class{},Y9=(()=>{let e=class e{constructor(n,r,o){this.doc=n,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=$y(n,this.cookieName),this.lastCookieString=n),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(U(Te),U(Di),U(z9))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let i=e;return i})();function K9(i,e){let t=i.url.toLowerCase();if(!k(hV)||i.method==="GET"||i.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(i);let n=k(Xy).getToken(),r=k(q9);return n!=null&&!i.headers.has(r)&&(i=i.clone({headers:i.headers.set(r,n)})),e(i)}var fV=function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i}(fV||{});function Q9(i,e){return{\u0275kind:i,\u0275providers:e}}function pV(...i){let e=[je,uV,lV,{provide:kf,useExisting:lV},{provide:Yy,useExisting:uV},{provide:LD,useValue:K9,multi:!0},{provide:hV,useValue:!0},{provide:Xy,useClass:Y9}];for(let t of i)e.push(...t.\u0275providers);return Na(e)}var cV=new le("");function gV(){return Q9(fV.LegacyInterceptors,[{provide:cV,useFactory:B9},{provide:LD,useExisting:cV,multi:!0}])}var HD=class extends By{constructor(){super(...arguments),this.supportsDOMEvents=!0}},GD=class i extends HD{static makeCurrent(){Kk(new i)}onAndCancel(e,t,n){return e.addEventListener(t,n),()=>{e.removeEventListener(t,n)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=Z9();return t==null?null:X9(t)}resetBaseElement(){Hf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return $y(document.cookie,e)}},Hf=null;function Z9(){return Hf=Hf||document.querySelector("base"),Hf?Hf.getAttribute("href"):null}function X9(i){return new URL(i,document.baseURI).pathname}var J9=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac});let i=e;return i})(),BD=new le(""),yV=(()=>{let e=class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new ee(5101,!1);return this._eventNameToPlugin.set(n,r),r}};e.\u0275fac=function(r){return new(r||e)(U(BD),U(we))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let i=e;return i})(),Jy=class{constructor(e){this._doc=e}},kD="ng-app-id",_V=(()=>{let e=class e{constructor(n,r,o,s={}){this.doc=n,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=xD(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(o=>o.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${kD}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(n,r){let o=this.styleRef;if(o.has(n)){let s=o.get(n);return s.usage+=r,s.usage}return o.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===n)return o.delete(r),s.removeAttribute(kD),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(kD,this.appId),n.appendChild(a),a}}addStyleToHost(n,r){let o=this.getStyleElement(n,r),s=this.styleRef,a=s.get(r)?.elements;a?a.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(U(Te),U(hy),U(Tf,8),U(Di))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let i=e;return i})(),VD={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},UD=/%COMP%/g,CV="%COMP%",eQ=`_nghost-${CV}`,tQ=`_ngcontent-${CV}`,nQ=!0,iQ=new le("",{providedIn:"root",factory:()=>nQ});function rQ(i){return tQ.replace(UD,i)}function oQ(i){return eQ.replace(UD,i)}function wV(i,e){return e.map(t=>t.replace(UD,i))}var e_=(()=>{let e=class e{constructor(n,r,o,s,a,l,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=xD(l),this.defaultRenderer=new Gf(n,a,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===jo.ShadowDom&&(r=be(K({},r),{encapsulation:jo.Emulated}));let o=this.getOrCreateRenderer(n,r);return o instanceof t_?o.applyToHost(n):o instanceof Bf&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let a=this.doc,l=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case jo.Emulated:s=new t_(u,c,r,this.appId,d,a,l,h);break;case jo.ShadowDom:return new jD(u,c,n,r,a,l,this.nonce,h);default:s=new Bf(u,c,r,d,a,l,h);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(U(yV),U(_V),U(hy),U(iQ),U(Te),U(Di),U(we),U(Tf))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let i=e;return i})(),Gf=class{constructor(e,t,n,r){this.eventManager=e,this.doc=t,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(VD[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(mV(e)?e.content:e).appendChild(t)}insertBefore(e,t,n){e&&(mV(e)?e.content:e).insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new ee(-5104,!1);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;let o=VD[r];o?e.setAttributeNS(o,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){let r=VD[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&(Wo.DashCase|Wo.Important)?e.style.setProperty(t,n,r&Wo.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&Wo.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e!=null&&(e[t]=n)}setValue(e,t){e.nodeValue=t}listen(e,t,n){if(typeof e=="string"&&(e=Ks().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(n))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function mV(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var jD=class extends Gf{constructor(e,t,n,r,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=wV(r.id,r.styles);for(let c of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=c,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Bf=class extends Gf{constructor(e,t,n,r,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?wV(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},t_=class extends Bf{constructor(e,t,n,r,o,s,a,l){let u=r+"-"+n.id;super(e,t,n,o,s,a,l,u),this.contentAttr=rQ(u),this.hostAttr=oQ(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}},sQ=(()=>{let e=class e extends Jy{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(U(Te))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let i=e;return i})(),vV=["alt","control","meta","shift"],aQ={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lQ={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},uQ=(()=>{let e=class e extends Jy{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ks().onAndCancel(n,s.domEventName,a))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),vV.forEach(c=>{let d=r.indexOf(c);d>-1&&(r.splice(d,1),a+=c+".")}),a+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=o,u.fullKey=a,u}static matchEventFullKeyCode(n,r){let o=aQ[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(o=n.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),vV.forEach(a=>{if(a!==o){let l=lQ[a];l(n)&&(s+=a+".")}}),s+=o,s===r)}static eventCallback(n,r,o){return s=>{e.matchEventFullKeyCode(s,n)&&o.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}};e.\u0275fac=function(r){return new(r||e)(U(Te))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let i=e;return i})();function SV(i,e){return Gk(K({rootComponent:i},cQ(e)))}function cQ(i){return{appProviders:[...gQ,...i?.providers??[]],platformProviders:pQ}}function dQ(){GD.makeCurrent()}function hQ(){return new $o}function fQ(){return eL(document),document}var pQ=[{provide:Di,useValue:OD},{provide:jE,useValue:dQ,multi:!0},{provide:Te,useFactory:fQ,deps:[]}];var gQ=[{provide:cy,useValue:"root"},{provide:$o,useFactory:hQ,deps:[]},{provide:BD,useClass:sQ,multi:!0,deps:[Te,we,Di]},{provide:BD,useClass:uQ,multi:!0,deps:[Te]},e_,_V,yV,{provide:po,useExisting:e_},{provide:gd,useClass:J9,deps:[]},[]];var bV=(()=>{let e=class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};e.\u0275fac=function(r){return new(r||e)(U(Te))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var WD=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=U(mQ),o},providedIn:"root"});let i=e;return i})(),mQ=(()=>{let e=class e extends WD{constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case lr.NONE:return r;case lr.HTML:return js(r,"HTML")?Lr(r):YE(this._doc,String(r)).toString();case lr.STYLE:return js(r,"Style")?Lr(r):r;case lr.SCRIPT:if(js(r,"Script"))return Lr(r);throw new ee(5200,!1);case lr.URL:return js(r,"URL")?Lr(r):Rf(String(r));case lr.RESOURCE_URL:if(js(r,"ResourceURL"))return Lr(r);throw new ee(5201,!1);default:throw new ee(5202,!1)}}bypassSecurityTrustHtml(n){return SL(n)}bypassSecurityTrustStyle(n){return bL(n)}bypassSecurityTrustScript(n){return EL(n)}bypassSecurityTrustUrl(n){return DL(n)}bypassSecurityTrustResourceUrl(n){return TL(n)}};e.\u0275fac=function(r){return new(r||e)(U(Te))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Vn=function(i){return i.Doctor="Doctor",i.Cardiolog="Cardiolog",i.Patient="Patient",i}(Vn||{}),vd=class{get isExpired(){return new Date>new Date(this.validUntil)}};var xe=class{static isLoggedIn(){return localStorage.getItem("Authorization")!==null}static setLoginToken(e){e==null&&(e=new vd),localStorage.setItem("Authorization",JSON.stringify(e))}static getLoginToken(){let e=localStorage.getItem("Authorization");if(e==null)return new vd;try{return JSON.parse(e)}catch{return new vd}}static clearLocalStorage(){localStorage.removeItem("Authorization")}};var Ue="primary",ip=Symbol("RouteTitle"),KD=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Sd(i){return new KD(i)}function vQ(i,e,t){let n=t.path.split("/");if(n.length>i.length||t.pathMatch==="full"&&(e.hasChildren()||n.length<i.length))return null;let r={};for(let o=0;o<n.length;o++){let s=n[o],a=i[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:i.slice(0,n.length),posParams:r}}function yQ(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;++t)if(!Jo(i[t],e[t]))return!1;return!0}function Jo(i,e){let t=i?QD(i):void 0,n=e?QD(e):void 0;if(!t||!n||t.length!=n.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!PV(i[r],e[r]))return!1;return!0}function QD(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function PV(i,e){if(Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return!1;let t=[...i].sort(),n=[...e].sort();return t.every((r,o)=>n[o]===r)}else return i===e}function FV(i){return i.length>0?i[i.length-1]:null}function Ka(i){return uv(i)?i:fu(i)?xt(Promise.resolve(i)):he(i)}var _Q={exact:LV,subset:kV},NV={exact:CQ,subset:wQ,ignored:()=>!0};function DV(i,e,t){return _Q[t.paths](i.root,e.root,t.matrixParams)&&NV[t.queryParams](i.queryParams,e.queryParams)&&!(t.fragment==="exact"&&i.fragment!==e.fragment)}function CQ(i,e){return Jo(i,e)}function LV(i,e,t){if(!_u(i.segments,e.segments)||!r_(i.segments,e.segments,t)||i.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!i.children[n]||!LV(i.children[n],e.children[n],t))return!1;return!0}function wQ(i,e){return Object.keys(e).length<=Object.keys(i).length&&Object.keys(e).every(t=>PV(i[t],e[t]))}function kV(i,e,t){return VV(i,e,e.segments,t)}function VV(i,e,t,n){if(i.segments.length>t.length){let r=i.segments.slice(0,t.length);return!(!_u(r,t)||e.hasChildren()||!r_(r,t,n))}else if(i.segments.length===t.length){if(!_u(i.segments,t)||!r_(i.segments,t,n))return!1;for(let r in e.children)if(!i.children[r]||!kV(i.children[r],e.children[r],n))return!1;return!0}else{let r=t.slice(0,i.segments.length),o=t.slice(i.segments.length);return!_u(i.segments,r)||!r_(i.segments,r,n)||!i.children[Ue]?!1:VV(i.children[Ue],e,o,n)}}function r_(i,e,t){return e.every((n,r)=>NV[t](i[r].parameters,n.parameters))}var $a=class{constructor(e=new St([],{}),t={},n=null){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Sd(this.queryParams),this._queryParamMap}toString(){return EQ.serialize(this)}},St=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return o_(this)}},yu=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Sd(this.parameters),this._parameterMap}toString(){return GV(this)}};function SQ(i,e){return _u(i,e)&&i.every((t,n)=>Jo(t.parameters,e[n].parameters))}function _u(i,e){return i.length!==e.length?!1:i.every((t,n)=>t.path===e[n].path)}function bQ(i,e){let t=[];return Object.entries(i.children).forEach(([n,r])=>{n===Ue&&(t=t.concat(e(r,n)))}),Object.entries(i.children).forEach(([n,r])=>{n!==Ue&&(t=t.concat(e(r,n)))}),t}var rp=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:()=>new Yf,providedIn:"root"});let i=e;return i})(),Yf=class{parse(e){let t=new XD(e);return new $a(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${jf(e.root,!0)}`,n=RQ(e.queryParams),r=typeof e.fragment=="string"?`#${DQ(e.fragment)}`:"";return`${t}${n}${r}`}},EQ=new Yf;function o_(i){return i.segments.map(e=>GV(e)).join("/")}function jf(i,e){if(!i.hasChildren())return o_(i);if(e){let t=i.children[Ue]?jf(i.children[Ue],!1):"",n=[];return Object.entries(i.children).forEach(([r,o])=>{r!==Ue&&n.push(`${r}:${jf(o,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}else{let t=bQ(i,(n,r)=>r===Ue?[jf(i.children[Ue],!1)]:[`${r}:${jf(n,!1)}`]);return Object.keys(i.children).length===1&&i.children[Ue]!=null?`${o_(i)}/${t[0]}`:`${o_(i)}/(${t.join("//")})`}}function HV(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function n_(i){return HV(i).replace(/%3B/gi,";")}function DQ(i){return encodeURI(i)}function ZD(i){return HV(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function s_(i){return decodeURIComponent(i)}function TV(i){return s_(i.replace(/\+/g,"%20"))}function GV(i){return`${ZD(i.path)}${TQ(i.parameters)}`}function TQ(i){return Object.entries(i).map(([e,t])=>`;${ZD(e)}=${ZD(t)}`).join("")}function RQ(i){let e=Object.entries(i).map(([t,n])=>Array.isArray(n)?n.map(r=>`${n_(t)}=${n_(r)}`).join("&"):`${n_(t)}=${n_(n)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var AQ=/^[^\/()?;#]+/;function zD(i){let e=i.match(AQ);return e?e[0]:""}var OQ=/^[^\/()?;=#]+/;function xQ(i){let e=i.match(OQ);return e?e[0]:""}var MQ=/^[^=?&#]+/;function IQ(i){let e=i.match(MQ);return e?e[0]:""}var PQ=/^[^&#]+/;function FQ(i){let e=i.match(PQ);return e?e[0]:""}var XD=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new St([],{}):new St([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[Ue]=new St(e,t)),n}parseSegment(){let e=zD(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ee(4009,!1);return this.capture(e),new yu(s_(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=xQ(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){let r=zD(this.remaining);r&&(n=r,this.capture(n))}e[s_(t)]=s_(n)}parseQueryParam(e){let t=IQ(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){let s=FQ(this.remaining);s&&(n=s,this.capture(n))}let r=TV(t),o=TV(n);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=zD(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new ee(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ue);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[Ue]:new St([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ee(4011,!1)}};function BV(i){return i.segments.length>0?new St([],{[Ue]:i}):i}function jV(i){let e={};for(let[n,r]of Object.entries(i.children)){let o=jV(r);if(n===Ue&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[n]=o)}let t=new St(i.segments,e);return NQ(t)}function NQ(i){if(i.numberOfChildren===1&&i.children[Ue]){let e=i.children[Ue];return new St(i.segments.concat(e.segments),e.children)}return i}function bd(i){return i instanceof $a}function LQ(i,e,t=null,n=null){let r=UV(i);return WV(r,e,t,n)}function UV(i){let e;function t(o){let s={};for(let l of o.children){let u=t(l);s[l.outlet]=u}let a=new St(o.url,s);return o===i&&(e=a),a}let n=t(i.root),r=BV(n);return e??r}function WV(i,e,t,n){let r=i;for(;r.parent;)r=r.parent;if(e.length===0)return $D(r,r,r,t,n);let o=kQ(e);if(o.toRoot())return $D(r,r,new St([],{}),t,n);let s=VQ(o,r,i),a=s.processChildren?zf(s.segmentGroup,s.index,o.commands):$V(s.segmentGroup,s.index,o.commands);return $D(r,s.segmentGroup,a,t,n)}function a_(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function Kf(i){return typeof i=="object"&&i!=null&&i.outlets}function $D(i,e,t,n,r){let o={};n&&Object.entries(n).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(c=>`${c}`):`${u}`});let s;i===e?s=t:s=zV(i,e,t);let a=BV(jV(s));return new $a(a,o,r)}function zV(i,e,t){let n={};return Object.entries(i.children).forEach(([r,o])=>{o===e?n[r]=t:n[r]=zV(o,e,t)}),new St(i.segments,n)}var l_=class{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&a_(n[0]))throw new ee(4003,!1);let r=n.find(Kf);if(r&&r!==FV(n))throw new ee(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function kQ(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new l_(!0,0,i);let e=0,t=!1,n=i.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new l_(t,e,n)}var Cd=class{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}};function VQ(i,e,t){if(i.isAbsolute)return new Cd(e,!0,0);if(!t)return new Cd(e,!1,NaN);if(t.parent===null)return new Cd(t,!0,0);let n=a_(i.commands[0])?0:1,r=t.segments.length-1+n;return HQ(t,r,i.numberOfDoubleDots)}function HQ(i,e,t){let n=i,r=e,o=t;for(;o>r;){if(o-=r,n=n.parent,!n)throw new ee(4005,!1);r=n.segments.length}return new Cd(n,!1,r-o)}function GQ(i){return Kf(i[0])?i[0].outlets:{[Ue]:i}}function $V(i,e,t){if(i??=new St([],{}),i.segments.length===0&&i.hasChildren())return zf(i,e,t);let n=BQ(i,e,t),r=t.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){let o=new St(i.segments.slice(0,n.pathIndex),{});return o.children[Ue]=new St(i.segments.slice(n.pathIndex),i.children),zf(o,0,r)}else return n.match&&r.length===0?new St(i.segments,{}):n.match&&!i.hasChildren()?JD(i,e,t):n.match?zf(i,0,r):JD(i,e,t)}function zf(i,e,t){if(t.length===0)return new St(i.segments,{});{let n=GQ(t),r={};if(Object.keys(n).some(o=>o!==Ue)&&i.children[Ue]&&i.numberOfChildren===1&&i.children[Ue].segments.length===0){let o=zf(i.children[Ue],e,t);return new St(i.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=$V(i.children[o],e,s))}),Object.entries(i.children).forEach(([o,s])=>{n[o]===void 0&&(r[o]=s)}),new St(i.segments,r)}}function BQ(i,e,t){let n=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(n>=t.length)return o;let s=i.segments[r],a=t[n];if(Kf(a))break;let l=`${a}`,u=n<t.length-1?t[n+1]:null;if(r>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!AV(l,u,s))return o;n+=2}else{if(!AV(l,{},s))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function JD(i,e,t){let n=i.segments.slice(0,e),r=0;for(;r<t.length;){let o=t[r];if(Kf(o)){let l=jQ(o.outlets);return new St(n,l)}if(r===0&&a_(t[0])){let l=i.segments[e];n.push(new yu(l.path,RV(t[0]))),r++;continue}let s=Kf(o)?o.outlets[Ue]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&a_(a)?(n.push(new yu(s,RV(a))),r+=2):(n.push(new yu(s,{})),r++)}return new St(n,{})}function jQ(i){let e={};return Object.entries(i).forEach(([t,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[t]=JD(new St([],{}),0,n))}),e}function RV(i){let e={};return Object.entries(i).forEach(([t,n])=>e[t]=`${n}`),e}function AV(i,e,t){return i==t.path&&Jo(e,t.parameters)}var $f="imperative",Hn=function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i}(Hn||{}),Gr=class{constructor(e,t){this.id=e,this.url=t}},Ed=class extends Gr{constructor(e,t,n="imperative",r=null){super(e,t),this.type=Hn.NavigationStart,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},es=class extends Gr{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n,this.type=Hn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Hr=function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i}(Hr||{}),u_=function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i}(u_||{}),qa=class extends Gr{constructor(e,t,n,r){super(e,t),this.reason=n,this.code=r,this.type=Hn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ya=class extends Gr{constructor(e,t,n,r){super(e,t),this.reason=n,this.code=r,this.type=Hn.NavigationSkipped}},Qf=class extends Gr{constructor(e,t,n,r){super(e,t),this.error=n,this.target=r,this.type=Hn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},c_=class extends Gr{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r,this.type=Hn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},eT=class extends Gr{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r,this.type=Hn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tT=class extends Gr{constructor(e,t,n,r,o){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o,this.type=Hn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},nT=class extends Gr{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r,this.type=Hn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},iT=class extends Gr{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r,this.type=Hn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rT=class{constructor(e){this.route=e,this.type=Hn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},oT=class{constructor(e){this.route=e,this.type=Hn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},sT=class{constructor(e){this.snapshot=e,this.type=Hn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},aT=class{constructor(e){this.snapshot=e,this.type=Hn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lT=class{constructor(e){this.snapshot=e,this.type=Hn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uT=class{constructor(e){this.snapshot=e,this.type=Hn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},d_=class{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n,this.type=Hn.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Zf=class{},Xf=class{constructor(e){this.url=e}};var cT=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new op,this.attachRef=null}},op=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new cT,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),h_=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=dT(e,this._root);return t?t.children.map(n=>n.value):[]}firstChild(e){let t=dT(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=hT(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return hT(e,this._root).map(t=>t.value)}};function dT(i,e){if(i===e.value)return e;for(let t of e.children){let n=dT(i,t);if(n)return n}return null}function hT(i,e){if(i===e.value)return[e];for(let t of e.children){let n=hT(i,t);if(n.length)return n.unshift(e),n}return[]}var hr=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function _d(i){let e={};return i&&i.children.forEach(t=>e[t.value.outlet]=t),e}var f_=class extends h_{constructor(e,t){super(e),this.snapshot=t,ST(this,e)}toString(){return this.snapshot.toString()}};function qV(i){let e=UQ(i),t=new dn([new yu("",{})]),n=new dn({}),r=new dn({}),o=new dn({}),s=new dn(""),a=new Ni(t,n,o,s,r,Ue,i,e.root);return a.snapshot=e.root,new f_(new hr(a,[]),e)}function UQ(i){let e={},t={},n={},r="",o=new Jf([],e,n,r,t,Ue,i,null,{});return new p_("",new hr(o,[]))}var Ni=class{constructor(e,t,n,r,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(De(u=>u[ip]))??he(void 0),this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(De(e=>Sd(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(De(e=>Sd(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function wT(i,e,t="emptyOnly"){let n,{routeConfig:r}=i;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:K(K({},e.params),i.params),data:K(K({},e.data),i.data),resolve:K(K(K(K({},i.data),e.data),r?.data),i._resolvedData)}:n={params:K({},i.params),data:K({},i.data),resolve:K(K({},i.data),i._resolvedData??{})},r&&KV(r)&&(n.resolve[ip]=r.title),n}var Jf=class{get title(){return this.data?.[ip]}constructor(e,t,n,r,o,s,a,l,u){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Sd(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Sd(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},p_=class extends h_{constructor(e,t){super(t),this.url=e,ST(this,t)}toString(){return YV(this._root)}};function ST(i,e){e.value._routerState=i,e.children.forEach(t=>ST(i,t))}function YV(i){let e=i.children.length>0?` { ${i.children.map(YV).join(", ")} } `:"";return`${i.value}${e}`}function qD(i){if(i.snapshot){let e=i.snapshot,t=i._futureSnapshot;i.snapshot=t,Jo(e.queryParams,t.queryParams)||i.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&i.fragmentSubject.next(t.fragment),Jo(e.params,t.params)||i.paramsSubject.next(t.params),yQ(e.url,t.url)||i.urlSubject.next(t.url),Jo(e.data,t.data)||i.dataSubject.next(t.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function fT(i,e){let t=Jo(i.params,e.params)&&SQ(i.url,e.url),n=!i.parent!=!e.parent;return t&&!n&&(!i.parent||fT(i.parent,e.parent))}function KV(i){return typeof i.title=="string"||i.title===null}var bT=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ue,this.activateEvents=new j,this.deactivateEvents=new j,this.attachEvents=new j,this.detachEvents=new j,this.parentContexts=k(op),this.location=k(Kn),this.changeDetector=k(kn),this.environmentInjector=k(Ln),this.inputBinder=k(y_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ee(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ee(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ee(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new ee(4013,!1);this._activatedRoute=n;let o=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,u=new pT(n,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ot({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Wt]});let i=e;return i})(),pT=class{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===Ni?this.route:e===op?this.childContexts:this.parent.get(e,t)}},y_=new le(""),OV=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,o=$c([r.queryParams,r.params,r.data]).pipe(Sn(([s,a,l],u)=>(l=K(K(K({},s),a),l),u===0?he(l):Promise.resolve(l)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let a=Bk(r.component);if(!a){this.unsubscribeFromRouteData(n);return}for(let{templateName:l}of a.inputs)n.activatedComponentRef.setInput(l,s[l])});this.outletDataSubscriptions.set(n,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac});let i=e;return i})();function WQ(i,e,t){let n=ep(i,e._root,t?t._root:void 0);return new f_(n,e)}function ep(i,e,t){if(t&&i.shouldReuseRoute(e.value,t.value.snapshot)){let n=t.value;n._futureSnapshot=e.value;let r=zQ(i,e,t);return new hr(n,r)}else{if(i.shouldAttach(e.value)){let o=i.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ep(i,a)),s}}let n=$Q(e.value),r=e.children.map(o=>ep(i,o));return new hr(n,r)}}function zQ(i,e,t){return e.children.map(n=>{for(let r of t.children)if(i.shouldReuseRoute(n.value,r.value.snapshot))return ep(i,n,r);return ep(i,n)})}function $Q(i){return new Ni(new dn(i.url),new dn(i.params),new dn(i.queryParams),new dn(i.fragment),new dn(i.data),i.outlet,i.component,i)}var QV="ngNavigationCancelingError";function ZV(i,e){let{redirectTo:t,navigationBehaviorOptions:n}=bd(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=XV(!1,Hr.Redirect);return r.url=t,r.navigationBehaviorOptions=n,r}function XV(i,e){let t=new Error(`NavigationCancelingError: ${i||""}`);return t[QV]=!0,t.cancellationCode=e,t}function qQ(i){return JV(i)&&bd(i.url)}function JV(i){return!!i&&i[QV]}var YQ=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=re({type:e,selectors:[["ng-component"]],standalone:!0,features:[oe],decls:1,vars:0,template:function(r,o){r&1&&Q(0,"router-outlet")},dependencies:[bT],encapsulation:2});let i=e;return i})();function KQ(i,e){return i.providers&&!i._injector&&(i._injector=Ry(i.providers,e,`Route: ${i.path}`)),i._injector??e}function ET(i){let e=i.children&&i.children.map(ET),t=e?be(K({},i),{children:e}):K({},i);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ue&&(t.component=YQ),t}function ts(i){return i.outlet||Ue}function QQ(i,e){let t=i.filter(n=>ts(n)===e);return t.push(...i.filter(n=>ts(n)!==e)),t}function sp(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let e=i.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var ZQ=(i,e,t,n)=>De(r=>(new gT(e,r.targetRouterState,r.currentRouterState,t,n).activate(i),r)),gT=class{constructor(e,t,n,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),qD(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){let r=_d(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],n),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(e,t,n){let r=e.value,o=t?t.value:null;if(r===o)if(r.component){let s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,n);else o&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,o=_d(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(n&&n.outlet){let s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,o=_d(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,t,n){let r=_d(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new uT(o.value.snapshot))}),e.children.length&&this.forwardEvent(new aT(e.value.snapshot))}activateRoutes(e,t,n){let r=e.value,o=t?t.value:null;if(qD(r),r===o)if(r.component){let s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,n);else if(r.component){let s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),qD(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=sp(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,n)}},g_=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},wd=class{constructor(e,t){this.component=e,this.route=t}};function XQ(i,e,t){let n=i._root,r=e?e._root:null;return Uf(n,r,t,[n.value])}function JQ(i){let e=i.routeConfig?i.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:i,guards:e}}function Td(i,e){let t=Symbol(),n=e.get(i,t);return n===t?typeof i=="function"&&!qN(i)?i:e.get(i):n}function Uf(i,e,t,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=_d(e);return i.children.forEach(s=>{eZ(s,o[s.value.outlet],t,n.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>qf(a,t.getContext(s),r)),r}function eZ(i,e,t,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=i.value,s=e?e.value:null,a=t?t.getContext(i.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=tZ(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new g_(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Uf(i,e,a?a.children:null,n,r):Uf(i,e,t,n,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new wd(a.outlet.component,s))}else s&&qf(e,a,r),r.canActivateChecks.push(new g_(n)),o.component?Uf(i,null,a?a.children:null,n,r):Uf(i,null,t,n,r);return r}function tZ(i,e,t){if(typeof t=="function")return t(i,e);switch(t){case"pathParamsChange":return!_u(i.url,e.url);case"pathParamsOrQueryParamsChange":return!_u(i.url,e.url)||!Jo(i.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fT(i,e)||!Jo(i.queryParams,e.queryParams);case"paramsChange":default:return!fT(i,e)}}function qf(i,e,t){let n=_d(i),r=i.value;Object.entries(n).forEach(([o,s])=>{r.component?e?qf(s,e.children.getContext(o),t):qf(s,null,t):qf(s,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new wd(e.outlet.component,r)):t.canDeactivateChecks.push(new wd(null,r)):t.canDeactivateChecks.push(new wd(null,r))}function ap(i){return typeof i=="function"}function nZ(i){return typeof i=="boolean"}function iZ(i){return i&&ap(i.canLoad)}function rZ(i){return i&&ap(i.canActivate)}function oZ(i){return i&&ap(i.canActivateChild)}function sZ(i){return i&&ap(i.canDeactivate)}function aZ(i){return i&&ap(i.canMatch)}function eH(i){return i instanceof Fs||i?.name==="EmptyError"}var i_=Symbol("INITIAL_VALUE");function Dd(){return Sn(i=>$c(i.map(e=>e.pipe(Ut(1),Jh(i_)))).pipe(De(e=>{for(let t of e)if(t!==!0){if(t===i_)return i_;if(t===!1||t instanceof $a)return t}return!0}),ft(e=>e!==i_),Ut(1)))}function lZ(i,e){return jt(t=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?he(be(K({},t),{guardsResult:!0})):uZ(s,n,r,i).pipe(jt(a=>a&&nZ(a)?cZ(n,o,i,e):he(a)),De(a=>be(K({},t),{guardsResult:a})))})}function uZ(i,e,t,n){return xt(i).pipe(jt(r=>gZ(r.component,r.route,t,e,n)),Vo(r=>r!==!0,!0))}function cZ(i,e,t,n){return xt(e).pipe(Ns(r=>ko(hZ(r.route.parent,n),dZ(r.route,n),pZ(i,r.path,t),fZ(i,r.route,t))),Vo(r=>r!==!0,!0))}function dZ(i,e){return i!==null&&e&&e(new lT(i)),he(!0)}function hZ(i,e){return i!==null&&e&&e(new sT(i)),he(!0)}function fZ(i,e,t){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return he(!0);let r=n.map(o=>hv(()=>{let s=sp(e)??t,a=Td(o,s),l=rZ(a)?a.canActivate(e,i):Yo(s,()=>a(e,i));return Ka(l).pipe(Vo())}));return he(r).pipe(Dd())}function pZ(i,e,t){let n=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>JQ(s)).filter(s=>s!==null).map(s=>hv(()=>{let a=s.guards.map(l=>{let u=sp(s.node)??t,c=Td(l,u),d=oZ(c)?c.canActivateChild(n,i):Yo(u,()=>c(n,i));return Ka(d).pipe(Vo())});return he(a).pipe(Dd())}));return he(o).pipe(Dd())}function gZ(i,e,t,n,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return he(!0);let s=o.map(a=>{let l=sp(e)??r,u=Td(a,l),c=sZ(u)?u.canDeactivate(i,e,t,n):Yo(l,()=>u(i,e,t,n));return Ka(c).pipe(Vo())});return he(s).pipe(Dd())}function mZ(i,e,t,n){let r=e.canLoad;if(r===void 0||r.length===0)return he(!0);let o=r.map(s=>{let a=Td(s,i),l=iZ(a)?a.canLoad(e,t):Yo(i,()=>a(e,t));return Ka(l)});return he(o).pipe(Dd(),tH(n))}function tH(i){return Fb(Kt(e=>{if(bd(e))throw ZV(i,e)}),De(e=>e===!0))}function vZ(i,e,t,n){let r=e.canMatch;if(!r||r.length===0)return he(!0);let o=r.map(s=>{let a=Td(s,i),l=aZ(a)?a.canMatch(e,t):Yo(i,()=>a(e,t));return Ka(l)});return he(o).pipe(Dd(),tH(n))}var tp=class{constructor(e){this.segmentGroup=e||null}},m_=class extends Error{constructor(e){super(),this.urlTree=e}};function yd(i){return zc(new tp(i))}function yZ(i){return zc(new ee(4e3,!1))}function _Z(i){return zc(XV(!1,Hr.GuardRejected))}var mT=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return he(n);if(r.numberOfChildren>1||!r.children[Ue])return yZ(e.redirectTo);r=r.children[Ue]}}applyRedirectCommands(e,t,n){let r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,n);if(t.startsWith("/"))throw new m_(r);return r}applyRedirectCreateUrlTree(e,t,n,r){let o=this.createSegmentGroup(e,t.root,n,r);return new $a(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let n={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);n[r]=t[a]}else n[r]=o}),n}createSegmentGroup(e,t,n,r){let o=this.createSegments(e,t.segments,n,r),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,n,r)}),new St(o,s)}createSegments(e,t,n,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,n))}findPosParam(e,t,n){let r=n[t.path.substring(1)];if(!r)throw new ee(4001,!1);return r}findOrReturn(e,t){let n=0;for(let r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}},vT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function CZ(i,e,t,n,r){let o=DT(i,e,t);return o.matched?(n=KQ(e,n),vZ(n,e,t,r).pipe(De(s=>s===!0?o:K({},vT)))):he(o)}function DT(i,e,t){if(e.path==="**")return wZ(t);if(e.path==="")return e.pathMatch==="full"&&(i.hasChildren()||t.length>0)?K({},vT):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||vQ)(t,i,e);if(!r)return K({},vT);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?K(K({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function wZ(i){return{matched:!0,parameters:i.length>0?FV(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function xV(i,e,t,n){return t.length>0&&EZ(i,t,n)?{segmentGroup:new St(e,bZ(n,new St(t,i.children))),slicedSegments:[]}:t.length===0&&DZ(i,t,n)?{segmentGroup:new St(i.segments,SZ(i,t,n,i.children)),slicedSegments:t}:{segmentGroup:new St(i.segments,i.children),slicedSegments:t}}function SZ(i,e,t,n){let r={};for(let o of t)if(__(i,e,o)&&!n[ts(o)]){let s=new St([],{});r[ts(o)]=s}return K(K({},n),r)}function bZ(i,e){let t={};t[Ue]=e;for(let n of i)if(n.path===""&&ts(n)!==Ue){let r=new St([],{});t[ts(n)]=r}return t}function EZ(i,e,t){return t.some(n=>__(i,e,n)&&ts(n)!==Ue)}function DZ(i,e,t){return t.some(n=>__(i,e,n))}function __(i,e,t){return(i.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function TZ(i,e,t,n){return ts(i)!==n&&(n===Ue||!__(e,t,i))?!1:DT(e,i,t).matched}function RZ(i,e,t){return e.length===0&&!i.children[t]}var yT=class{};function AZ(i,e,t,n,r,o,s="emptyOnly"){return new _T(i,e,t,n,r,s,o).recognize()}var OZ=31,_T=class{constructor(e,t,n,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=n,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new mT(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ee(4002,`'${e.segmentGroup}'`)}recognize(){let e=xV(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(De(t=>{let n=new Jf([],Object.freeze({}),Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ue,this.rootComponentType,null,{}),r=new hr(n,t),o=new p_("",r),s=LQ(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Ue).pipe(Ra(n=>{if(n instanceof m_)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof tp?this.noMatchError(n):n}))}inheritParamsAndData(e,t){let n=e.value,r=wT(n,t,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,n))}processSegmentGroup(e,t,n,r){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,t,n):this.processSegment(e,t,n,n.segments,r,!0).pipe(De(o=>o instanceof hr?[o]:[]))}processChildren(e,t,n){let r=[];for(let o of Object.keys(n.children))o==="primary"?r.unshift(o):r.push(o);return xt(r).pipe(Ns(o=>{let s=n.children[o],a=QQ(t,o);return this.processSegmentGroup(e,a,s,o)}),zb((o,s)=>(o.push(...s),o)),Aa(null),Wb(),jt(o=>{if(o===null)return yd(n);let s=nH(o);return xZ(s),he(s)}))}processSegment(e,t,n,r,o,s){return xt(t).pipe(Ns(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,n,r,o,s).pipe(Ra(l=>{if(l instanceof tp)return he(null);throw l}))),Vo(a=>!!a),Ra(a=>{if(eH(a))return RZ(n,r,o)?he(new yT):yd(n);throw a}))}processSegmentAgainstRoute(e,t,n,r,o,s,a){return TZ(n,r,o,s)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,n,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,n,o,s):yd(r):yd(r)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,o,s){let{matched:a,consumedSegments:l,positionalParamSegments:u,remainingSegments:c}=DT(t,r,o);if(!a)return yd(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>OZ&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,u);return this.applyRedirects.lineralizeSegments(r,d).pipe(jt(h=>this.processSegment(e,n,t,h.concat(c),s,!1)))}matchSegmentAgainstRoute(e,t,n,r,o){let s=CZ(t,n,r,e,this.urlSerializer);return n.path==="**"&&(t.children={}),s.pipe(Sn(a=>a.matched?(e=n._injector??e,this.getChildConfig(e,n,r).pipe(Sn(({routes:l})=>{let u=n._loadedInjector??e,{consumedSegments:c,remainingSegments:d,parameters:h}=a,f=new Jf(c,h,Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,IZ(n),ts(n),n.component??n._loadedComponent??null,n,PZ(n)),{segmentGroup:p,slicedSegments:g}=xV(t,c,d,l);if(g.length===0&&p.hasChildren())return this.processChildren(u,l,p).pipe(De(v=>v===null?null:new hr(f,v)));if(l.length===0&&g.length===0)return he(new hr(f,[]));let m=ts(n)===o;return this.processSegment(u,l,p,g,m?Ue:o,!0).pipe(De(v=>new hr(f,v instanceof hr?[v]:[])))}))):yd(t)))}getChildConfig(e,t,n){return t.children?he({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?he({routes:t._loadedRoutes,injector:t._loadedInjector}):mZ(e,t,n,this.urlSerializer).pipe(jt(r=>r?this.configLoader.loadChildren(e,t).pipe(Kt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):_Z(t))):he({routes:[],injector:e})}};function xZ(i){i.sort((e,t)=>e.value.outlet===Ue?-1:t.value.outlet===Ue?1:e.value.outlet.localeCompare(t.value.outlet))}function MZ(i){let e=i.value.routeConfig;return e&&e.path===""}function nH(i){let e=[],t=new Set;for(let n of i){if(!MZ(n)){e.push(n);continue}let r=e.find(o=>n.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...n.children),t.add(r)):e.push(n)}for(let n of t){let r=nH(n.children);e.push(new hr(n.value,r))}return e.filter(n=>!t.has(n))}function IZ(i){return i.data||{}}function PZ(i){return i.resolve||{}}function FZ(i,e,t,n,r,o){return jt(s=>AZ(i,e,t,n,s.extractedUrl,r,o).pipe(De(({state:a,tree:l})=>be(K({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function NZ(i,e){return jt(t=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=t;if(!r.length)return he(t);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let u of iH(l))s.add(u);let a=0;return xt(s).pipe(Ns(l=>o.has(l)?LZ(l,n,i,e):(l.data=wT(l,l.parent,i).resolve,he(void 0))),Kt(()=>a++),qc(1),jt(l=>a===s.size?he(t):Nn))})}function iH(i){let e=i.children.map(t=>iH(t)).flat();return[i,...e]}function LZ(i,e,t,n){let r=i.routeConfig,o=i._resolve;return r?.title!==void 0&&!KV(r)&&(o[ip]=r.title),kZ(o,i,e,n).pipe(De(s=>(i._resolvedData=s,i.data=wT(i,i.parent,t).resolve,null)))}function kZ(i,e,t,n){let r=QD(i);if(r.length===0)return he({});let o={};return xt(r).pipe(jt(s=>VZ(i[s],e,t,n).pipe(Vo(),Kt(a=>{o[s]=a}))),qc(1),Xh(o),Ra(s=>eH(s)?Nn:zc(s)))}function VZ(i,e,t,n){let r=sp(e)??n,o=Td(i,r),s=o.resolve?o.resolve(e,t):Yo(r,()=>o(e,t));return Ka(s)}function YD(i){return Sn(e=>{let t=i(e);return t?xt(t).pipe(De(()=>e)):he(e)})}var rH=(()=>{let e=class e{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===Ue);return r}getResolvedTitleForRoute(n){return n.data[ip]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:()=>k(HZ),providedIn:"root"});let i=e;return i})(),HZ=(()=>{let e=class e extends rH{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(U(bV))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),lp=new le("",{providedIn:"root",factory:()=>({})}),np=new le(""),TT=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(xy)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return he(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Ka(n.loadComponent()).pipe(De(oH),Kt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Ir(()=>{this.componentLoaders.delete(n)})),o=new jc(r,()=>new Se).pipe(Bc());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return he({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=GZ(r,this.compiler,n,this.onLoadEndListener).pipe(Ir(()=>{this.childrenLoaders.delete(r)})),a=new jc(s,()=>new Se).pipe(Bc());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function GZ(i,e,t,n){return Ka(i.loadChildren()).pipe(De(oH),jt(r=>r instanceof Cf||Array.isArray(r)?he(r):xt(e.compileModuleAsync(r))),De(r=>{n&&n(i);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(t).injector,s=o.get(np,[],{optional:!0,self:!0}).flat()),{routes:s.map(ET),injector:o}}))}function BZ(i){return i&&typeof i=="object"&&"default"in i}function oH(i){return BZ(i)?i.default:i}var RT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:()=>k(jZ),providedIn:"root"});let i=e;return i})(),jZ=(()=>{let e=class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),sH=new le(""),aH=new le("");function UZ(i,e,t){let n=i.get(aH),r=i.get(Te);return i.get(we).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,Promise.resolve();let o,s=new Promise(u=>{o=u}),a=r.startViewTransition(()=>(o(),WZ(i))),{onViewTransitionCreated:l}=n;return l&&Yo(i,()=>l({transition:a,from:e,to:t})),s})}function WZ(i){return new Promise(e=>{uD(e,{injector:i})})}var AT=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Se,this.transitionAbortSubject=new Se,this.configLoader=k(TT),this.environmentInjector=k(Ln),this.urlSerializer=k(rp),this.rootContexts=k(op),this.location=k(ja),this.inputBindingEnabled=k(y_,{optional:!0})!==null,this.titleStrategy=k(rH),this.options=k(lp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(RT),this.createViewTransition=k(sH,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>he(void 0),this.rootComponentType=null;let n=o=>this.events.next(new rT(o)),r=o=>this.events.next(new oT(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(be(K(K({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,o){return this.transitions=new dn({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:$f,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ft(s=>s.id!==0),De(s=>be(K({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Sn(s=>{this.currentTransition=s;let a=!1,l=!1;return he(s).pipe(Kt(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?be(K({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Sn(u=>{let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&d!=="reload"){let h="";return this.events.next(new Ya(u.id,this.urlSerializer.serialize(u.rawUrl),h,u_.IgnoredSameUrlNavigation)),u.resolve(null),Nn}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return he(u).pipe(Sn(h=>{let f=this.transitions?.getValue();return this.events.next(new Ed(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Nn:Promise.resolve(h)}),FZ(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Kt(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=be(K({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new c_(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=u,v=new Ed(h,this.urlSerializer.serialize(f),p,g);this.events.next(v);let y=qV(this.rootComponentType).snapshot;return this.currentTransition=s=be(K({},u),{targetSnapshot:y,urlAfterRedirects:f,extras:be(K({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,he(s)}else{let h="";return this.events.next(new Ya(u.id,this.urlSerializer.serialize(u.extractedUrl),h,u_.IgnoredByUrlHandlingStrategy)),u.resolve(null),Nn}}),Kt(u=>{let c=new eT(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),De(u=>(this.currentTransition=s=be(K({},u),{guards:XQ(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),lZ(this.environmentInjector,u=>this.events.next(u)),Kt(u=>{if(s.guardsResult=u.guardsResult,bd(u.guardsResult))throw ZV(this.urlSerializer,u.guardsResult);let c=new tT(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),ft(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Hr.GuardRejected),!1)),YD(u=>{if(u.guards.canActivateChecks.length)return he(u).pipe(Kt(c=>{let d=new nT(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),Sn(c=>{let d=!1;return he(c).pipe(NZ(this.paramsInheritanceStrategy,this.environmentInjector),Kt({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(c,"",Hr.NoDataFromResolver)}}))}),Kt(c=>{let d=new iT(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}))}),YD(u=>{let c=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Kt(f=>{d.component=f}),De(()=>{})));for(let f of d.children)h.push(...c(f));return h};return $c(c(u.targetSnapshot.root)).pipe(Aa(null),Ut(1))}),YD(()=>this.afterPreactivation()),Sn(()=>{let{currentSnapshot:u,targetSnapshot:c}=s,d=this.createViewTransition?.(this.environmentInjector,u.root,c.root);return d?xt(d).pipe(De(()=>s)):he(s)}),De(u=>{let c=WQ(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=be(K({},u),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,s}),Kt(()=>{this.events.next(new Zf)}),ZQ(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Ut(1),Kt({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new es(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),Et(this.transitionAbortSubject.pipe(Kt(u=>{throw u}))),Ir(()=>{!a&&!l&&this.cancelNavigationTransition(s,"",Hr.SupersededByNewNavigation),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Ra(u=>{if(l=!0,JV(u))this.events.next(new qa(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),qQ(u)?this.events.next(new Xf(u.url)):s.resolve(!1);else{this.events.next(new Qf(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(u))}catch(c){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(c)}}return Nn}))}))}cancelNavigationTransition(n,r,o){let s=new qa(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function zZ(i){return i!==$f}var $Z=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:()=>k(qZ),providedIn:"root"});let i=e;return i})(),CT=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},qZ=(()=>{let e=class e extends CT{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=hn(e)))(o||e)}})(),e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),lH=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:()=>k(YZ),providedIn:"root"});let i=e;return i})(),YZ=(()=>{let e=class e extends lH{constructor(){super(...arguments),this.location=k(ja),this.urlSerializer=k(rp),this.options=k(lp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(RT),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new $a,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=qV(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Ed)this.stateMemento=this.createStateMemento();else if(n instanceof Ya)this.rawUrlTree=r.initialUrl;else if(n instanceof c_){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else n instanceof Zf?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof qa&&(n.code===Hr.GuardRejected||n.code===Hr.NoDataFromResolver)?this.restoreHistory(r):n instanceof Qf?this.restoreHistory(r,!0):n instanceof es&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,a=K(K({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",a)}else{let s=K(K({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=hn(e)))(o||e)}})(),e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Wf=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(Wf||{});function uH(i,e){i.events.pipe(ft(t=>t instanceof es||t instanceof qa||t instanceof Qf||t instanceof Ya),De(t=>t instanceof es||t instanceof Ya?Wf.COMPLETE:(t instanceof qa?t.code===Hr.Redirect||t.code===Hr.SupersededByNewNavigation:!1)?Wf.REDIRECTING:Wf.FAILED),ft(t=>t!==Wf.REDIRECTING),Ut(1)).subscribe(()=>{e()})}function KZ(i){throw i}var QZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ZZ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Dt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=k(Oy),this.stateManager=k(lH),this.options=k(lp,{optional:!0})||{},this.pendingTasks=k(pu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(AT),this.urlSerializer=k(rp),this.location=k(ja),this.urlHandlingStrategy=k(RT),this._events=new Se,this.errorHandler=this.options.errorHandler||KZ,this.navigated=!1,this.routeReuseStrategy=k($Z),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(np,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(y_,{optional:!0}),this.eventsSubscription=new Bt,this.isNgZoneEnabled=k(we)instanceof we&&we.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof qa&&r.code!==Hr.Redirect&&r.code!==Hr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof es)this.navigated=!0;else if(r instanceof Xf){let a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||zZ(o.source)};this.scheduleNavigation(a,$f,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}JZ(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),$f,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let u=K({},o);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let l=this.parseUrl(n);this.scheduleNavigation(l,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(ET),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:a,d=null;switch(l){case"merge":d=K(K({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=o?o.snapshot:this.routerState.snapshot.root;h=UV(f)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),h=this.currentUrlTree.root}return WV(h,n,d,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=bd(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,$f,null,r)}navigate(n,r={skipLocationChange:!1}){return XZ(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=K({},QZ):r===!1?o=K({},ZZ):o=r,bd(n))return DV(this.currentUrlTree,n,o);let s=this.parseUrl(n);return DV(this.currentUrlTree,s,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(n,r,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,u,c;a?(l=a.resolve,u=a.reject,c=a.promise):c=new Promise((h,f)=>{l=h,u=f});let d=this.pendingTasks.add();return uH(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:l,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function XZ(i){for(let e=0;e<i.length;e++)if(i[e]==null)throw new ee(4008,!1)}function JZ(i){return!(i instanceof Zf)&&!(i instanceof Xf)}var cH=(()=>{let e=class e{constructor(n,r,o,s,a,l){this.router=n,this.route=r,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new Se,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof es&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n!=null?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,o,s,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(n!==0||r||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:IL(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let o=this.renderer,s=this.el.nativeElement;r!==null?o.setAttribute(s,n,r):o.removeAttribute(s,n)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(x(Dt),x(Ni),ly("tabindex"),x(ur),x($e),x(vo))},e.\u0275dir=ot({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&z("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&Qn("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[pt.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Ti],skipLocationChange:[pt.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Ti],replaceUrl:[pt.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Ti],routerLink:"routerLink"},standalone:!0,features:[La,Wt]});let i=e;return i})();var v_=class{};var eX=(()=>{let e=class e{constructor(n,r,o,s,a){this.router=n,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(ft(n=>n instanceof es),Ns(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let o=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Ry(s.providers,n,`Route: ${s.path}`));let a=s._injector??n,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(l,s.children??s._loadedRoutes))}return xt(o).pipe(Ta())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(n,r):o=he(null);let s=o.pipe(jt(a=>a===null?he(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return xt([s,a]).pipe(Ta())}else return s})}};e.\u0275fac=function(r){return new(r||e)(U(Dt),U(xy),U(Ln),U(v_),U(TT))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),dH=new le(""),tX=(()=>{let e=class e{constructor(n,r,o,s,a={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ed?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof es?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Ya&&n.code===u_.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof d_&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new d_(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){BL()},e.\u0275prov=G({token:e,factory:e.\u0275fac});let i=e;return i})();function hH(i,...e){return Na([{provide:np,multi:!0,useValue:i},[],{provide:Ni,useFactory:fH,deps:[Dt]},{provide:Ff,multi:!0,useFactory:pH},e.map(t=>t.\u0275providers)])}function fH(i){return i.routerState.root}function up(i,e){return{\u0275kind:i,\u0275providers:e}}function pH(){let i=k(It);return e=>{let t=i.get(Pi);if(e!==t.components[0])return;let n=i.get(Dt),r=i.get(gH);i.get(OT)===1&&n.initialNavigation(),i.get(mH,null,Qe.Optional)?.setUpPreloading(),i.get(dH,null,Qe.Optional)?.init(),n.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var gH=new le("",{factory:()=>new Se}),OT=new le("",{providedIn:"root",factory:()=>1});function nX(){return up(2,[{provide:OT,useValue:0},{provide:My,multi:!0,deps:[It],useFactory:e=>{let t=e.get(Qk,Promise.resolve());return()=>t.then(()=>new Promise(n=>{let r=e.get(Dt),o=e.get(gH);uH(r,()=>{n(!0)}),e.get(AT).afterPreactivation=()=>(n(!0),o.closed?he(void 0):o),r.initialNavigation()}))}}])}function iX(){return up(3,[{provide:My,multi:!0,useFactory:()=>{let e=k(Dt);return()=>{e.setUpLocationChangeListener()}}},{provide:OT,useValue:2}])}var mH=new le("");function rX(i){return up(0,[{provide:mH,useExisting:eX},{provide:v_,useExisting:i}])}function oX(){return up(8,[OV,{provide:y_,useExisting:OV}])}function sX(i){let e=[{provide:sH,useValue:UZ},{provide:aH,useValue:K({skipNextTransition:!!i?.skipInitialTransition},i)}];return up(9,e)}var MV=new le("ROUTER_FORROOT_GUARD"),aX=[ja,{provide:rp,useClass:Yf},Dt,op,{provide:Ni,useFactory:fH,deps:[Dt]},TT,[]],xT=(()=>{let e=class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[aX,[],{provide:np,multi:!0,useValue:n},{provide:MV,useFactory:dX,deps:[[Dt,new Ef,new uy]]},{provide:lp,useValue:r||{}},r?.useHash?uX():cX(),lX(),r?.preloadingStrategy?rX(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?hX(r):[],r?.bindToComponentInputs?oX().\u0275providers:[],r?.enableViewTransitions?sX().\u0275providers:[],fX()]}}static forChild(n){return{ngModule:e,providers:[{provide:np,multi:!0,useValue:n}]}}};e.\u0275fac=function(r){return new(r||e)(U(MV,8))},e.\u0275mod=Pe({type:e}),e.\u0275inj=Ie({});let i=e;return i})();function lX(){return{provide:dH,useFactory:()=>{let i=k(iV),e=k(we),t=k(lp),n=k(AT),r=k(rp);return t.scrollOffset&&i.setOffset(t.scrollOffset),new tX(r,n,i,e,t)}}}function uX(){return{provide:vo,useClass:Uy}}function cX(){return{provide:vo,useClass:TD}}function dX(i){return"guarded"}function hX(i){return[i.initialNavigation==="disabled"?iX().\u0275providers:[],i.initialNavigation==="enabledBlocking"?nX().\u0275providers:[]]}var IV=new le("");function fX(){return[{provide:IV,useFactory:pH},{provide:Ff,multi:!0,useExisting:IV}]}var C_=class{constructor(){this.username="",this.password=""}};var vH={BACKEND_URL:"https://fromheartywebapp.azurewebsites.net"};var w_=class w_{};w_.serverAddress=vH.BACKEND_URL,w_.httpOptions=function(){let e=xe.getLoginToken(),t="";return e!=null&&(t=e.id),{headers:{Authorization:t}}};var pe=w_;var RH=(()=>{let e=class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};e.\u0275fac=function(r){return new(r||e)(x(ur),x($e))},e.\u0275dir=ot({type:e});let i=e;return i})(),A_=(()=>{let e=class e extends RH{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=hn(e)))(o||e)}})(),e.\u0275dir=ot({type:e,features:[ui]});let i=e;return i})(),Qs=new le("");var pX={provide:Qs,useExisting:bi(()=>is),multi:!0};function gX(){let i=Ks()?Ks().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var mX=new le(""),is=(()=>{let e=class e extends RH{constructor(n,r,o){super(n,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!gX())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};e.\u0275fac=function(r){return new(r||e)(x(ur),x($e),x(mX,8))},e.\u0275dir=ot({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&z("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[vt([pX]),ui]});let i=e;return i})();function vX(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}var pp=new le(""),AH=new le("");function yX(i){return vX(i.value)?{required:!0}:null}function yH(i){return null}function OH(i){return i!=null}function xH(i){return fu(i)?xt(i):i}function MH(i){let e={};return i.forEach(t=>{e=t!=null?K(K({},e),t):e}),Object.keys(e).length===0?null:e}function IH(i,e){return e.map(t=>t(i))}function _X(i){return!i.validate}function PH(i){return i.map(e=>_X(e)?e:t=>e.validate(t))}function CX(i){if(!i)return null;let e=i.filter(OH);return e.length==0?null:function(t){return MH(IH(t,e))}}function IT(i){return i!=null?CX(PH(i)):null}function wX(i){if(!i)return null;let e=i.filter(OH);return e.length==0?null:function(t){let n=IH(t,e).map(xH);return Gb(n).pipe(De(MH))}}function PT(i){return i!=null?wX(PH(i)):null}function _H(i,e){return i===null?[e]:Array.isArray(i)?[...i,e]:[i,e]}function SX(i){return i._rawValidators}function bX(i){return i._rawAsyncValidators}function MT(i){return i?Array.isArray(i)?i:[i]:[]}function b_(i,e){return Array.isArray(i)?i.includes(e):i===e}function CH(i,e){let t=MT(e);return MT(i).forEach(r=>{b_(t,r)||t.push(r)}),t}function wH(i,e){return MT(e).filter(t=>!b_(i,t))}var E_=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=IT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=PT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Ad=class extends E_{get formDirective(){return null}get path(){return null}},fp=class extends E_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},D_=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},EX={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},HPe=be(K({},EX),{"[class.ng-submitted]":"isSubmitted"}),rs=(()=>{let e=class e extends D_{constructor(n){super(n)}};e.\u0275fac=function(r){return new(r||e)(x(fp,2))},e.\u0275dir=ot({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&at("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[ui]});let i=e;return i})(),Qa=(()=>{let e=class e extends D_{constructor(n){super(n)}};e.\u0275fac=function(r){return new(r||e)(x(Ad,10))},e.\u0275dir=ot({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&at("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[ui]});let i=e;return i})();var cp="VALID",S_="INVALID",Rd="PENDING",dp="DISABLED";function FH(i){return(O_(i)?i.validators:i)||null}function DX(i){return Array.isArray(i)?IT(i):i||null}function NH(i,e){return(O_(e)?e.asyncValidators:i)||null}function TX(i){return Array.isArray(i)?PT(i):i||null}function O_(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function RX(i,e,t){let n=i.controls;if(!(e?Object.keys(n):n).length)throw new ee(1e3,"");if(!n[t])throw new ee(1001,"")}function AX(i,e,t){i._forEachChild((n,r)=>{if(t[r]===void 0)throw new ee(1002,"")})}var T_=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===cp}get invalid(){return this.status===S_}get pending(){return this.status==Rd}get disabled(){return this.status===dp}get enabled(){return this.status!==dp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(CH(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(CH(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(wH(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(wH(e,this._rawAsyncValidators))}hasValidator(e){return b_(this._rawValidators,e)}hasAsyncValidator(e){return b_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Rd,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=dp,this.errors=null,this._forEachChild(n=>{n.disable(be(K({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(be(K({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=cp,this._forEachChild(n=>{n.enable(be(K({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(be(K({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cp||this.status===Rd)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?dp:cp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Rd,this._hasOwnPendingAsyncValidator=!0;let t=xH(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((n,r)=>n&&n._find(r),this)}getError(e,t){let n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new j,this.statusChanges=new j}_calculateStatus(){return this._allControlsDisabled()?dp:this.errors?S_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rd)?Rd:this._anyControlsHaveStatus(S_)?S_:cp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){O_(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=DX(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=TX(this._rawAsyncValidators)}},R_=class extends T_{constructor(e,t,n){super(FH(t),NH(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){AX(this,!0,e),Object.keys(e).forEach(n=>{RX(this,!0,n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(n=>{let r=this.controls[n];r&&r.patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,n)=>n._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,n]of Object.entries(this.controls))if(this.contains(t)&&e(n))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,n,r)=>((n.enabled||this.disabled)&&(t[r]=n.value),t))}_reduceChildren(e,t){let n=e;return this._forEachChild((r,o)=>{n=t(n,r,o)}),n}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var FT=new le("CallSetDisabledState",{providedIn:"root",factory:()=>NT}),NT="always";function OX(i,e){return[...e.path,i]}function LH(i,e,t=NT){kH(i,e),e.valueAccessor.writeValue(i.value),(i.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(i.disabled),MX(i,e),PX(i,e),IX(i,e),xX(i,e)}function SH(i,e){i.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function xX(i,e){if(e.valueAccessor.setDisabledState){let t=n=>{e.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(t),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(t)})}}function kH(i,e){let t=SX(i);e.validator!==null?i.setValidators(_H(t,e.validator)):typeof t=="function"&&i.setValidators([t]);let n=bX(i);e.asyncValidator!==null?i.setAsyncValidators(_H(n,e.asyncValidator)):typeof n=="function"&&i.setAsyncValidators([n]);let r=()=>i.updateValueAndValidity();SH(e._rawValidators,r),SH(e._rawAsyncValidators,r)}function MX(i,e){e.valueAccessor.registerOnChange(t=>{i._pendingValue=t,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&VH(i,e)})}function IX(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&VH(i,e),i.updateOn!=="submit"&&i.markAsTouched()})}function VH(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function PX(i,e){let t=(n,r)=>{e.valueAccessor.writeValue(n),r&&e.viewToModelUpdate(n)};i.registerOnChange(t),e._registerOnDestroy(()=>{i._unregisterOnChange(t)})}function FX(i,e){i==null,kH(i,e)}function NX(i,e){if(!i.hasOwnProperty("model"))return!1;let t=i.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function LX(i){return Object.getPrototypeOf(i.constructor)===A_}function kX(i,e){i._syncPendingControls(),e.forEach(t=>{let n=t.control;n.updateOn==="submit"&&n._pendingChange&&(t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function VX(i,e){if(!e)return null;Array.isArray(e);let t,n,r;return e.forEach(o=>{o.constructor===is?t=o:LX(o)?n=o:r=o}),r||n||t||null}var HX={provide:Ad,useExisting:bi(()=>Zs)},hp=Promise.resolve(),Zs=(()=>{let e=class e extends Ad{constructor(n,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new j,this.form=new R_({},IT(n),PT(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){hp.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),LH(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){hp.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){hp.then(()=>{let r=this._findContainer(n.path),o=new R_({});FX(o,n),r.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){hp.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){hp.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,kX(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}};e.\u0275fac=function(r){return new(r||e)(x(pp,10),x(AH,10),x(FT,8))},e.\u0275dir=ot({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&z("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[pt.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[vt([HX]),ui]});let i=e;return i})();function bH(i,e){let t=i.indexOf(e);t>-1&&i.splice(t,1)}function EH(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var GX=class extends T_{constructor(e=null,t,n){super(FH(t),NH(n,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),O_(t)&&(t.nonNullable||t.initialValueIsDefault)&&(EH(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){bH(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){bH(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){EH(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var BX={provide:fp,useExisting:bi(()=>yo)},DH=Promise.resolve(),yo=(()=>{let e=class e extends fp{constructor(n,r,o,s,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new GX,this._registered=!1,this.name="",this.update=new j,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=VX(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),NX(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){LH(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){DH.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,o=r!==0&&Ti(r);DH.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?OX(n,this._parent):[n]}};e.\u0275fac=function(r){return new(r||e)(x(Ad,9),x(pp,10),x(AH,10),x(Qs,10),x(kn,8),x(FT,8))},e.\u0275dir=ot({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[pt.None,"disabled","isDisabled"],model:[pt.None,"ngModel","model"],options:[pt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[vt([BX]),ui,Wt]});let i=e;return i})(),Za=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ot({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let i=e;return i})(),jX={provide:Qs,useExisting:bi(()=>LT),multi:!0},LT=(()=>{let e=class e extends A_{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=hn(e)))(o||e)}})(),e.\u0275dir=ot({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){r&1&&z("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[vt([jX]),ui]});let i=e;return i})();var UX={provide:Qs,useExisting:bi(()=>Od),multi:!0};function HH(i,e){return i==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${i}: ${e}`.slice(0,50))}function WX(i){return i.split(":")[0]}var Od=(()=>{let e=class e extends A_{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),o=HH(r,n);this.setProperty("value",o)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=WX(n);return this._optionMap.has(r)?this._optionMap.get(r):n}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=hn(e)))(o||e)}})(),e.\u0275dir=ot({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&z("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[vt([UX]),ui]});let i=e;return i})(),xd=(()=>{let e=class e{constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(HH(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(x($e),x(ur),x(Od,9))},e.\u0275dir=ot({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let i=e;return i})(),zX={provide:Qs,useExisting:bi(()=>GH),multi:!0};function TH(i,e){return i==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${i}: ${e}`.slice(0,50))}function $X(i){return i.split(":")[0]}var GH=(()=>{let e=class e extends A_{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let o=n.map(s=>this._getOptionId(s));r=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else r=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let o=[],s=r.selectedOptions;if(s!==void 0){let a=s;for(let l=0;l<a.length;l++){let u=a[l],c=this._getOptionValue(u.value);o.push(c)}}else{let a=r.options;for(let l=0;l<a.length;l++){let u=a[l];if(u.selected){let c=this._getOptionValue(u.value);o.push(c)}}}this.value=o,n(o)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=$X(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=hn(e)))(o||e)}})(),e.\u0275dir=ot({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&z("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[vt([zX]),ui]});let i=e;return i})(),Md=(()=>{let e=class e{constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(TH(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(TH(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(x($e),x(ur),x(GH,9))},e.\u0275dir=ot({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let i=e;return i})();var qX=(()=>{let e=class e{constructor(){this._validator=yH}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):yH,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ot({type:e,features:[Wt]});let i=e;return i})();var YX={provide:pp,useExisting:bi(()=>_o),multi:!0};var _o=(()=>{let e=class e extends qX{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ti,this.createValidator=n=>yX}enabled(n){return n}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=hn(e)))(o||e)}})(),e.\u0275dir=ot({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&Qn("required",o._enabled?"":null)},inputs:{required:"required"},features:[vt([YX]),ui]});let i=e;return i})();var KX=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Ie({});let i=e;return i})();var kT=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:FT,useValue:n.callSetDisabledState??NT}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Ie({imports:[KX]});let i=e;return i})();var QX=[gu,kT,xT],ye=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Ie({imports:[QX,gu,kT,xT]});let i=e;return i})();var x_=(()=>{let e=class e{constructor(){this.api={login:"/login",logout:"/logout"}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Ge=function(i){return i[i.State=0]="State",i[i.Transition=1]="Transition",i[i.Sequence=2]="Sequence",i[i.Group=3]="Group",i[i.Animate=4]="Animate",i[i.Keyframes=5]="Keyframes",i[i.Style=6]="Style",i[i.Trigger=7]="Trigger",i[i.Reference=8]="Reference",i[i.AnimateChild=9]="AnimateChild",i[i.AnimateRef=10]="AnimateRef",i[i.Query=11]="Query",i[i.Stagger=12]="Stagger",i}(Ge||{}),os="*";function jH(i,e){return{type:Ge.Trigger,name:i,definitions:e,options:{}}}function VT(i,e=null){return{type:Ge.Animate,styles:e,timings:i}}function UH(i,e=null){return{type:Ge.Sequence,steps:i,options:e}}function Cu(i){return{type:Ge.Style,styles:i,offset:null}}function M_(i,e,t){return{type:Ge.State,name:i,styles:e,options:t}}function HT(i,e,t=null){return{type:Ge.Transition,expr:i,animation:e,options:t}}var Xa=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}},gp=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++n==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(n=>{let r=n.totalTime?Math.min(1,t/n.totalTime):1;n.setPosition(r)})}getPosition(){let e=this.players.reduce((t,n)=>t===null||n.totalTime>t.totalTime?n:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}},I_="!";var WH=["toast-component",""];function ZX(i,e){if(i&1){let t=Ft();b(0,"button",5),z("click",function(){Ze(t);let r=te();return Xe(r.remove())}),b(1,"span",6),P(2,"\xD7"),D()()}}function XX(i,e){if(i&1&&(Ko(0),P(1),Qo()),i&2){let t=te(2);I(),di("[",t.duplicatesCount+1,"]")}}function JX(i,e){if(i&1&&(b(0,"div"),P(1),ue(2,XX,2,1,"ng-container",4),D()),i&2){let t=te();Pt(t.options.titleClass),Qn("aria-label",t.title),I(),di(" ",t.title," "),I(),N("ngIf",t.duplicatesCount)}}function eJ(i,e){if(i&1&&Q(0,"div",7),i&2){let t=te();Pt(t.options.messageClass),N("innerHTML",t.message,Of)}}function tJ(i,e){if(i&1&&(b(0,"div",8),P(1),D()),i&2){let t=te();Pt(t.options.messageClass),Qn("aria-label",t.message),I(),di(" ",t.message," ")}}function nJ(i,e){if(i&1&&(b(0,"div"),Q(1,"div",9),D()),i&2){let t=te();I(),ci("width",t.width+"%")}}function iJ(i,e){if(i&1){let t=Ft();b(0,"button",5),z("click",function(){Ze(t);let r=te();return Xe(r.remove())}),b(1,"span",6),P(2,"\xD7"),D()()}}function rJ(i,e){if(i&1&&(Ko(0),P(1),Qo()),i&2){let t=te(2);I(),di("[",t.duplicatesCount+1,"]")}}function oJ(i,e){if(i&1&&(b(0,"div"),P(1),ue(2,rJ,2,1,"ng-container",4),D()),i&2){let t=te();Pt(t.options.titleClass),Qn("aria-label",t.title),I(),di(" ",t.title," "),I(),N("ngIf",t.duplicatesCount)}}function sJ(i,e){if(i&1&&Q(0,"div",7),i&2){let t=te();Pt(t.options.messageClass),N("innerHTML",t.message,Of)}}function aJ(i,e){if(i&1&&(b(0,"div",8),P(1),D()),i&2){let t=te();Pt(t.options.messageClass),Qn("aria-label",t.message),I(),di(" ",t.message," ")}}function lJ(i,e){if(i&1&&(b(0,"div"),Q(1,"div",9),D()),i&2){let t=te();I(),ci("width",t.width+"%")}}var GT=class{_attachedHost;component;viewContainerRef;injector;constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){let e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},BT=class{_attachedPortal;_disposeFn;attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}},jT=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Se;_activate=new Se;_manualClose=new Se;_resetTimeout=new Se;_countDuplicate=new Se;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}},Pd=class{toastId;config;message;title;toastType;toastRef;_onTap=new Se;_onAction=new Se;constructor(e,t,n,r,o,s){this.toastId=e,this.config=t,this.message=n,this.title=r,this.toastType=o,this.toastRef=s,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}},zH={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},$H=new le("ToastConfig"),UT=class extends BT{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,t,n){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=n}attachComponentPortal(e,t){let n=this._componentFactoryResolver.resolveComponentFactory(e.component),r;return r=n.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},uJ=(()=>{class i{_document=k(Te);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),WT=class{_portalHost;constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}},cJ=(()=>{class i{_overlayContainer=k(uJ);_componentFactoryResolver=k(kr);_appRef=k(Pi);_document=k(Te);_paneElements=new Map;create(t,n){return this._createOverlayRef(this.getPaneElement(t,n))}getPaneElement(t="",n){return this._paneElements.get(n)||this._paneElements.set(n,{}),this._paneElements.get(n)[t]||(this._paneElements.get(n)[t]=this._createPaneElement(t,n)),this._paneElements.get(n)[t]}_createPaneElement(t,n){let r=this._document.createElement("div");return r.id="toast-container",r.classList.add(t),r.classList.add("toast-container"),n?n.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(t){return new UT(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new WT(this._createPortalHost(t))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),zt=(()=>{class i{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(t,n,r,o,s){this.overlay=n,this._injector=r,this.sanitizer=o,this.ngZone=s,this.toastrConfig=K(K({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=K(K({},t.default.iconClasses),t.config.iconClasses))}show(t,n,r={},o=""){return this._preBuildNotification(o,t,n,this.applyConfig(r))}success(t,n,r={}){let o=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(o,t,n,this.applyConfig(r))}error(t,n,r={}){let o=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(o,t,n,this.applyConfig(r))}info(t,n,r={}){let o=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(o,t,n,this.applyConfig(r))}warning(t,n,r={}){let o=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(o,t,n,this.applyConfig(r))}clear(t){for(let n of this.toasts)if(t!==void 0){if(n.toastId===t){n.toastRef.manualClose();return}}else n.toastRef.manualClose()}remove(t){let n=this._findToast(t);if(!n||(n.activeToast.toastRef.close(),this.toasts.splice(n.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(t="",n="",r,o){let{includeTitleDuplicates:s}=this.toastrConfig;for(let a of this.toasts){let l=s&&a.title===t;if((!s||l)&&a.message===n)return a.toastRef.onDuplicate(r,o),a}return null}applyConfig(t={}){return K(K({},this.toastrConfig),t)}_findToast(t){for(let n=0;n<this.toasts.length;n++)if(this.toasts[n].toastId===t)return{index:n,activeToast:this.toasts[n]};return null}_preBuildNotification(t,n,r,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,n,r,o)):this._buildNotification(t,n,r,o)}_buildNotification(t,n,r,o){if(!o.toastComponent)throw new Error("toastComponent required");let s=this.findDuplicate(r,n,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||n)&&this.toastrConfig.preventDuplicates&&s!==null)return s;this.previousToastMessage=n;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let l=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let u=n;n&&o.enableHtml&&(u=this.sanitizer.sanitize(lr.HTML,n));let c=new jT(l),d=new Pd(this.index,o,u,r,t,c),h=[{provide:Pd,useValue:d}],f=It.create({providers:h,parent:this._injector}),p=new GT(o.toastComponent,f),g=l.attach(p,o.newestOnTop);c.componentInstance=g.instance;let m={toastId:this.index,title:r||"",message:n||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:d.onTap(),onAction:d.onAction(),portal:g};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{m.toastRef.activate()})),this.toasts.push(m),m}static \u0275fac=function(n){return new(n||i)(U($H),U(cJ),U(It),U(WD),U(we))};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),dJ=(()=>{class i{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if(this.state.value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(t,n,r){this.toastrService=t,this.toastPackage=n,this.ngZone=r,this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses=`${n.toastType} ${n.config.toastClass}`,this.sub=n.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=be(K({},this.state),{value:"active"}),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let t=new Date().getTime(),n=this.hideTime-t;this.width=n/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=be(K({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state.value!=="removed"&&(clearTimeout(this.timeout),this.state=be(K({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state.value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state.value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state.value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,n){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),n)):this.timeout=setTimeout(()=>t(),n)}outsideInterval(t,n){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),n)):this.intervalId=setInterval(()=>t(),n)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}static \u0275fac=function(n){return new(n||i)(x(zt),x(Pd),x(we))};static \u0275cmp=re({type:i,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(n,r){n&1&&z("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),n&2&&(fD("@flyInOut",r.state),Pt(r.toastClasses),ci("display",r.displayStyle))},standalone:!0,features:[oe],attrs:WH,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(n,r){n&1&&ue(0,ZX,3,0,"button",0)(1,JX,3,5,"div",1)(2,eJ,1,3,"div",2)(3,tJ,2,4,"div",3)(4,nJ,2,2,"div",4),n&2&&(N("ngIf",r.options.closeButton),I(),N("ngIf",r.title),I(),N("ngIf",r.message&&r.options.enableHtml),I(),N("ngIf",r.message&&!r.options.enableHtml),I(),N("ngIf",r.options.progressBar))},dependencies:[Ri],encapsulation:2,data:{animation:[jH("flyInOut",[M_("inactive",Cu({opacity:0})),M_("active",Cu({opacity:1})),M_("removed",Cu({opacity:0})),HT("inactive => active",VT("{{ easeTime }}ms {{ easing }}")),HT("active => removed",VT("{{ easeTime }}ms {{ easing }}"))])]}})}return i})(),hJ=be(K({},zH),{toastComponent:dJ}),fJ=(i={})=>Na([{provide:$H,useValue:{default:hJ,config:i}}]),qH=(()=>{class i{static forRoot(t={}){return{ngModule:i,providers:[fJ(t)]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Ie({})}return i})();var pJ=(()=>{class i{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";get displayStyle(){return this.state==="inactive"?"none":null}state="inactive";timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(t,n,r){this.toastrService=t,this.toastPackage=n,this.appRef=r,this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses=`${n.toastType} ${n.config.toastClass}`,this.sub=n.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let t=new Date().getTime(),n=this.hideTime-t;this.width=n/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state!=="removed"&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(n){return new(n||i)(x(zt),x(Pd),x(Pi))};static \u0275cmp=re({type:i,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(n,r){n&1&&z("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),n&2&&(Pt(r.toastClasses),ci("display",r.displayStyle))},standalone:!0,features:[oe],attrs:WH,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(n,r){n&1&&ue(0,iJ,3,0,"button",0)(1,oJ,3,5,"div",1)(2,sJ,1,3,"div",2)(3,aJ,2,4,"div",3)(4,lJ,2,2,"div",4),n&2&&(N("ngIf",r.options.closeButton),I(),N("ngIf",r.title),I(),N("ngIf",r.message&&r.options.enableHtml),I(),N("ngIf",r.message&&!r.options.enableHtml),I(),N("ngIf",r.options.progressBar))},dependencies:[Ri],encapsulation:2})}return i})(),rFe=be(K({},zH),{toastComponent:pJ});var P_=(()=>{let e=class e{constructor(n,r,o,s){this.httpClient=n,this.router=r,this.loginService=o,this.toastr=s,this.loginRequest=new C_}navigateToDefaultRoute(n){n.id&&(Vn.Doctor==n.roleType?this.router.navigateByUrl("doctor-dashboard"):Vn.Cardiolog==n.roleType?this.router.navigateByUrl("cardiologist-dashboard"):this.router.navigateByUrl("dashboards"))}ngOnInit(){this.loginToken=xe.getLoginToken(),this.navigateToDefaultRoute(this.loginToken)}login(){this.httpClient.post(pe.serverAddress+this.loginService.api.login,this.loginRequest).subscribe(n=>{n?(this.loginToken=n,xe.setLoginToken(n),xe.isLoggedIn(),this.navigateToDefaultRoute(this.loginToken)):this.toastr.error("Invalid credentials. Please check your login information.")})}};e.\u0275fac=function(r){return new(r||e)(x(je),x(Dt),x(x_),x(zt))},e.\u0275cmp=re({type:e,selectors:[["app-login"]],standalone:!0,features:[oe],decls:27,vars:2,consts:[[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-5"],[1,"card"],[1,"card-header"],[1,"center-div"],["src","./assets/images/logo.png","alt","logo"],[2,"color","#0e55ae"],[2,"color","#c9090f"],[1,"text-center"],[1,"card-body"],[1,"form-group"],["src","./assets/images/user.png","alt","user",1,"center-image"],["for","username"],["type","text","id","username","name","username","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","id","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-center","mt-3"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),Q(6,"img",6),b(7,"span",7),P(8,"From"),D(),b(9,"span",8),P(10,"Hearty"),D()(),b(11,"h4",9),P(12,"Sign in with your FromHearty Account"),D()(),b(13,"div",10)(14,"form")(15,"div",11),Q(16,"img",12),b(17,"label",13),P(18,"Username:"),D(),b(19,"input",14),z("ngModelChange",function(a){return o.loginRequest.username=a}),D()(),b(20,"div",11)(21,"label",15),P(22,"Password:"),D(),b(23,"input",16),z("ngModelChange",function(a){return o.loginRequest.password=a}),D()(),b(24,"div",17)(25,"button",18),z("click",function(){return o.login()}),P(26,"Sign in"),D()()()()()()()()),r&2&&(I(19),N("ngModel",o.loginRequest.username),I(4),N("ngModel",o.loginRequest.password))},dependencies:[ye,Za,is,rs,Qa,_o,yo,Zs],styles:[".center-image[_ngcontent-%COMP%]{height:70px;display:block;margin:auto}.center-div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-weight:700;font-size:20px;margin-bottom:20px}.center-div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-top:10px;margin-right:10px;margin-bottom:10px}.card-header[_ngcontent-%COMP%]{background:#fff}"]});let i=e;return i})();var YH=(()=>{let e=class e{constructor(n){this.rendererFactory=n,this.contrast="normal",this.textColor="#000000",this.fontSize="medium",this.isColorReplaced=!1,this.stylesApplied=!1,this.renderer=n.createRenderer(null,null)}applySettings(){let n=document.body;this.stylesApplied?this.removeStyles(n):this.applyStyles(n),this.stylesApplied=!this.stylesApplied}applyStyles(n){this.renderer.setStyle(n,"background-color",this.getContrastColor()),this.renderer.setStyle(n,"color",this.textColor),this.renderer.setStyle(n,"font-size",this.getFontSize());let r=document.querySelectorAll("div");r&&r.forEach(g=>{this.renderer.setStyle(g,"color","black"),this.renderer.setStyle(g,"font-weight","bold")});let o=document.querySelectorAll("label");o&&o.forEach(g=>{this.renderer.setStyle(g,"color","black"),this.renderer.setStyle(g,"font-weight","bold")});let s=document.querySelectorAll("#toast-container");s&&s.forEach(g=>{let m=g;this.renderer.setStyle(m,"color","#fff")});let a=document.querySelectorAll("h4");a&&a.forEach(g=>{this.renderer.setStyle(g,"color","black"),this.renderer.setStyle(g,"font-weight","bold")});let l=document.querySelectorAll(".fc-event-main");l&&l.forEach(g=>{let m=g;this.renderer.setStyle(m,"color","#fff")});let u=document.querySelector(".customtab2");u&&(u.querySelectorAll('[aria-selected="false"]').forEach(v=>{let y=v;this.renderer.setStyle(y,"color","#f5582a")}),u.querySelectorAll(".nav-link.active").forEach(v=>{let y=v;this.renderer.setStyle(y,"color","#4f5467")}));let c=document.querySelectorAll(".fc-col-header-cell a");c&&c.forEach(g=>{let m=g;this.renderer.setStyle(m,"color","#f5582a")});let d=document.querySelectorAll(".breadcrumb-item.active");d&&d.forEach(g=>{let m=g;this.renderer.setStyle(m,"color","#01767a")});let h=document.querySelectorAll(".fc-event");h&&h.forEach(g=>{let m=g;this.renderer.setStyle(m,"background","#01767a")});let f=document.querySelectorAll("header");f&&f.forEach(g=>{this.renderer.setStyle(g,"background","#01767a")});let p=document.getElementById("sidebarnav");if(p){let g=p.querySelectorAll("a"),m=p.querySelectorAll("span"),v=p.querySelectorAll("li"),y=p.querySelectorAll("i");g&&g.forEach(C=>{this.renderer.setStyle(C,"color","black"),this.renderer.setStyle(C,"font-weight","bold")}),v&&v.forEach(C=>{this.renderer.setStyle(C,"color","black"),this.renderer.setStyle(C,"font-weight","bold")}),y&&y.forEach(C=>{this.renderer.setStyle(C,"color","black")}),m&&m.forEach(C=>{this.renderer.setStyle(C,"color","black"),this.renderer.setStyle(C,"font-weight","bold")})}}removeStyles(n){this.renderer.removeStyle(n,"background-color"),this.renderer.removeStyle(n,"color"),this.renderer.removeStyle(n,"font-size");let r=document.querySelectorAll(".fc-event");r&&r.forEach(g=>{let m=g;this.renderer.removeStyle(m,"background")});let o=document.querySelectorAll(".fc-event-main");o&&o.forEach(g=>{let m=g;this.renderer.removeStyle(m,"color")});let s=document.querySelectorAll("#toast-container");s&&s.forEach(g=>{let m=g;this.renderer.removeStyle(m,"color")});let a=document.querySelectorAll(".breadcrumb-item.active");a&&a.forEach(g=>{let m=g;this.renderer.removeStyle(m,"color")});let l=document.querySelectorAll(".fc-col-header-cell a");l&&l.forEach(g=>{let m=g;this.renderer.removeStyle(m,"color")});let u=document.querySelector(".customtab2");u&&(u.querySelectorAll('[aria-selected="false"]').forEach(v=>{let y=v;this.renderer.removeStyle(y,"color")}),u.querySelectorAll(".nav-link.active").forEach(v=>{let y=v;this.renderer.removeStyle(y,"color")}));let c=document.querySelectorAll("header");c&&c.forEach(g=>{this.renderer.removeStyle(g,"background")});let d=document.querySelectorAll("div");d&&d.forEach(g=>{this.renderer.removeStyle(g,"color"),this.renderer.removeStyle(g,"font-weight")});let h=document.querySelectorAll("label");h&&h.forEach(g=>{this.renderer.removeStyle(g,"color"),this.renderer.removeStyle(g,"font-weight")});let f=document.querySelectorAll("h4");f&&f.forEach(g=>{this.renderer.removeStyle(g,"color"),this.renderer.removeStyle(g,"font-weight")});let p=document.getElementById("sidebarnav");if(p){let g=p.querySelectorAll("a"),m=p.querySelectorAll("i"),v=p.querySelectorAll("span"),y=p.querySelectorAll("li");g&&g.forEach(C=>{this.renderer.removeStyle(C,"color"),this.renderer.removeStyle(C,"font-weight")}),y&&y.forEach(C=>{this.renderer.removeStyle(C,"color"),this.renderer.removeStyle(C,"font-weight")}),m&&m.forEach(C=>{this.renderer.removeStyle(C,"color")}),v&&v.forEach(C=>{this.renderer.removeStyle(C,"color"),this.renderer.removeStyle(C,"font-weight")})}}getContrastColor(){return this.contrast==="normal"?"#ffffff":"#000000"}getFontSize(){return this.fontSize==="small"?"12px":this.fontSize==="medium"?"16px":"20px"}};e.\u0275fac=function(r){return new(r||e)(U(po))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var KH=(()=>{let e=class e{constructor(n){this.rendererFactory=n,this.contrast="normal",this.textColor="#000000",this.fontSize="medium",this.isColorReplaced=!1,this.renderer=n.createRenderer(null,null)}applySettings(){let n=document.body;this.applyStyles(n)}applyStyles(n){this.renderer.setStyle(n,"background-color",this.getContrastColor()),this.renderer.setStyle(n,"color",this.textColor),this.renderer.setStyle(n,"font-size",this.getFontSize());let r=document.querySelectorAll("div");r&&r.forEach(g=>{this.renderer.setStyle(g,"color","black"),this.renderer.setStyle(g,"font-weight","bold")});let o=document.querySelectorAll("label");o&&o.forEach(g=>{this.renderer.setStyle(g,"color","black"),this.renderer.setStyle(g,"font-weight","bold")});let s=document.querySelector(".customtab2");s&&(s.querySelectorAll('[aria-selected="false"]').forEach(v=>{let y=v;this.renderer.setStyle(y,"color","#f5582a")}),s.querySelectorAll(".nav-link.active").forEach(v=>{let y=v;this.renderer.setStyle(y,"color","#4f5467")}));let a=document.querySelectorAll(".fc-col-header-cell a");a&&a.forEach(g=>{let m=g;this.renderer.setStyle(m,"color","#f5582a")});let l=document.querySelectorAll(".breadcrumb-item.active");l&&l.forEach(g=>{let m=g;this.renderer.setStyle(m,"color","#01767a")});let u=document.querySelectorAll(".fc-event");u&&u.forEach(g=>{let m=g;this.renderer.setStyle(m,"background","#01767a")});let c=document.querySelectorAll(".fc-event-main");c&&c.forEach(g=>{let m=g;this.renderer.setStyle(m,"color","#fff")});let d=document.querySelectorAll("#toast-container");d&&d.forEach(g=>{let m=g;this.renderer.setStyle(m,"color","#fff")});let h=document.querySelectorAll("h4");h&&h.forEach(g=>{this.renderer.setStyle(g,"color","black"),this.renderer.setStyle(g,"font-weight","bold")});let f=document.querySelectorAll("header");f&&f.forEach(g=>{this.renderer.setStyle(g,"background","#01767a")});let p=document.getElementById("sidebarnav");if(p){let g=p.querySelectorAll("a"),m=p.querySelectorAll("span"),v=p.querySelectorAll("li"),y=p.querySelectorAll("i");g&&g.forEach(C=>{this.renderer.setStyle(C,"color","black"),this.renderer.setStyle(C,"font-weight","bold")}),v&&v.forEach(C=>{this.renderer.setStyle(C,"color","black"),this.renderer.setStyle(C,"font-weight","bold")}),y&&y.forEach(C=>{this.renderer.setStyle(C,"color","black")}),m&&m.forEach(C=>{this.renderer.setStyle(C,"color","black"),this.renderer.setStyle(C,"font-weight","bold")})}}getContrastColor(){return this.contrast==="normal"?"#ffffff":"#000000"}getFontSize(){return this.fontSize==="small"?"12px":this.fontSize==="medium"?"16px":"20px"}};e.\u0275fac=function(r){return new(r||e)(U(po))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Fd=(()=>{let e=class e{constructor(n){this.http=n,this.rootUrl=pe.serverAddress}downloadDocument(n){return this.http.get(this.rootUrl+"/download-document/"+n,{reportProgress:!0,responseType:"blob",observe:"events"})}downloadUserManualDocument(){let n="assets/user-manual/User Manual.pdf",r=document.createElement("a");r.setAttribute("style","display:none;"),document.body.appendChild(r),r.download="User Manual.pdf",r.href=n,r.target="_blank",r.click(),document.body.removeChild(r)}getUserDocuments(n){return this.http.get(this.rootUrl+"/user-documents/"+n)}};e.\u0275fac=function(r){return new(r||e)(U(je))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function vJ(i,e){i&1&&Q(0,"i",45)}function yJ(i,e){i&1&&Q(0,"i",46)}function _J(i,e){i&1&&(b(0,"li")(1,"a",47),Q(2,"i",48),b(3,"span",38),P(4,"Dashboard"),D()()())}function CJ(i,e){i&1&&(b(0,"li")(1,"a",49),Q(2,"i",48),b(3,"span",38),P(4,"Dashboard"),D()()())}function wJ(i,e){i&1&&(b(0,"li")(1,"a",50),Q(2,"i",51),b(3,"span",38),P(4,"Calendar"),D()()())}function SJ(i,e){i&1&&(b(0,"li")(1,"a",52),Q(2,"i",53),b(3,"span",38),P(4,"Videos"),D()()())}function bJ(i,e){i&1&&(b(0,"li")(1,"a",54),Q(2,"i",55),b(3,"span",38),P(4,"File System"),D()()())}function EJ(i,e){if(i&1){let t=Ft();b(0,"div",4)(1,"header",5)(2,"nav",6)(3,"button",7),z("click",function(){Ze(t);let r=te();return Xe(r.toggleSidebar())}),Q(4,"span",8),D(),b(5,"div",9)(6,"a",10)(7,"b"),Q(8,"img",11),D(),b(9,"span",12),P(10," FromHearty"),D()(),b(11,"div",13)(12,"div",14),z("click",function(){Ze(t);let r=te();return Xe(r.toggleAccessibilitySettings())}),ue(13,vJ,1,0,"i",15)(14,yJ,1,0,"i",16),D(),b(15,"button",17),z("click",function(){Ze(t);let r=te();return Xe(r.downloadUserManual())}),Q(16,"i",18),P(17," User Manual"),D()()(),b(18,"div",19),Q(19,"ul",20),b(20,"ul",21),Q(21,"li",22)(22,"li",22),b(23,"li",23)(24,"div",24)(25,"a",25),Q(26,"i",26),P(27," My Profile"),D(),Q(28,"div",27),b(29,"a",25),Q(30,"i",28),P(31," Account Settings"),D(),Q(32,"div",27),b(33,"a",29),z("click",function(){Ze(t);let r=te();return Xe(r.logout())}),Q(34,"i",30),P(35," Logout"),D()()()()()()(),b(36,"aside",31)(37,"div",32)(38,"nav",33)(39,"ul",34)(40,"li",35),P(41,"--- PAGES"),D(),ue(42,_J,5,0,"li",3)(43,CJ,5,0,"li",3)(44,wJ,5,0,"li",3),b(45,"li")(46,"a",36),Q(47,"i",37),b(48,"span",38),P(49,"Patients"),D()()(),b(50,"li",35),P(51,"--- DOCUMENTS"),D(),ue(52,SJ,5,0,"li",3)(53,bJ,5,0,"li",3),b(54,"li",35),P(55,"--- CONTACTS"),D(),b(56,"li")(57,"a",39),Q(58,"i",40),b(59,"span",38),P(60,"House Doctors"),D()()(),b(61,"li")(62,"a",41),Q(63,"i",42),b(64,"span",38),P(65,"Cardiologists"),D()()(),b(66,"li",35),P(67,"--- SUPPORT"),D(),b(68,"li")(69,"a",43),z("click",function(){Ze(t);let r=te();return Xe(r.logout())}),Q(70,"i",30),b(71,"span",38),P(72,"Log Out"),D()()()()()()(),b(73,"div",44),Q(74,"router-outlet"),D()()}if(i&2){let t=te();I(13),N("ngIf",t.isAccessibilityOn),I(),N("ngIf",!t.isAccessibilityOn),I(22),at("open",t.isSidebarOpen),I(6),N("ngIf",t.isHouseDoctor()),I(),N("ngIf",t.isCardiolog()),I(),N("ngIf",t.isCardiolog()),I(8),N("ngIf",t.isHouseDoctor()||t.isCardiolog()),I(),N("ngIf",t.isHouseDoctor()||t.isCardiolog())}}function DJ(i,e){i&1&&Q(0,"app-login")}var QH=(()=>{let e=class e{constructor(n,r,o,s,a,l){this.router=n,this.httpClient=r,this.loginService=o,this.accessibilityService=s,this.accessibilityServiceInit=a,this.documentService=l,this.title="FromHearty",this.isLoggedIn=!1,this.isAccessibilityOn=!1,this.isSidebarOpen=!1,this.roleType=xe.getLoginToken().roleType}ngDoCheck(){this.isAccessibilityOn==!0&&this.accessibilityServiceInit.applySettings(),this.checkLoginStatus()}checkLoginStatus(){this.isLoggedIn=xe.isLoggedIn()}logout(){this.httpClient.get(pe.serverAddress+this.loginService.api.logout).subscribe(n=>{console.log("Logout API was successful? ",n),xe.clearLocalStorage(),this.checkLoginStatus(),this.router.navigate([""])})}toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen}toggleAccessibilitySettings(){this.isAccessibilityOn=!this.isAccessibilityOn,this.accessibilityService.applySettings()}isCardiolog(){return xe.getLoginToken().roleType==Vn.Cardiolog}isHouseDoctor(){return xe.getLoginToken().roleType==Vn.Doctor}downloadUserManual(){this.documentService.downloadUserManualDocument()}};e.\u0275fac=function(r){return new(r||e)(x(Dt),x(je),x(x_),x(YH),x(KH),x(Fd))},e.\u0275cmp=re({type:e,selectors:[["app-root"]],standalone:!0,features:[oe],decls:4,vars:2,consts:[["href","https://fonts.googleapis.com/icon?family=Material+Icons","rel","stylesheet"],[1,"skin-megna","fixed-layout"],["id","main-wrapper",4,"ngIf"],[4,"ngIf"],["id","main-wrapper"],[1,"topbar"],[1,"navbar","top-navbar","navbar-expand-md","navbar-dark"],["type","button",1,"navbar-toggler","custom-hamburger-display",3,"click"],[1,"navbar-toggler-icon"],[1,"navbar-header","d-flex","display-flex","justify-content-between","align-items-center"],[1,"navbar-brand"],["src","./assets/images/logo.png","alt","logo",1,"light-logo"],[1,"hidden-xs"],[1,"d-flex","align-items-center"],[2,"display","flex","align-items","center","cursor","pointer","margin-right","20px",3,"click"],["class","fas fa-eye-slash","style","font-size: 18px; color: white",4,"ngIf"],["class","fas fa-eye","style","font-size: 18px; color: white",4,"ngIf"],[1,"btn","btn-outline-light",2,"margin-right","20px",3,"click"],[1,"fas","fa-download"],[1,"navbar-collapse"],[1,"navbar-nav","me-auto"],[1,"navbar-nav","my-lg-0"],[1,"nav-item","dropdown"],[1,"nav-item","dropdown","u-pro"],[1,"dropdown-menu","dropdown-menu-end","animated","flipInY"],[1,"dropdown-item"],[1,"ti-user"],[1,"dropdown-divider"],[1,"ti-settings"],[1,"dropdown-item",3,"click"],[1,"fa","fa-power-off"],[1,"left-sidebar"],[1,"scroll-sidebar"],[1,"sidebar-nav"],["id","sidebarnav"],[1,"nav-small-cap"],["href","#","routerLink","patients",1,"waves-effect","waves-dark"],[1,"fas","fa-heartbeat"],[1,"hide-menu"],["href","#","routerLink","house-doctors",1,"waves-effect","waves-dark"],[1,"fas","fa-stethoscope"],["routerLink","cardiologists",1,"waves-effect","waves-dark"],[1,"fas","fa-hand-holding-heart"],["aria-expanded","false",1,"waves-effect","waves-dark",3,"click"],[1,"page-wrapper"],[1,"fas","fa-eye-slash",2,"font-size","18px","color","white"],[1,"fas","fa-eye",2,"font-size","18px","color","white"],["href","#","routerLink","doctor-dashboard",1,"waves-effect","waves-dark"],[1,"far","fa-chart-bar"],["routerLink","cardiologist-dashboard",1,"waves-effect","waves-dark"],["href","#","routerLink","calendar",1,"waves-effect","waves-dark"],[1,"fas","fa-calendar"],["href","#","routerLink","videos",1,"waves-effect","waves-dark"],[1,"fab","fa-youtube"],["routerLink","documents",1,"waves-effect","waves-dark"],[1,"far","fa-file-archive"]],template:function(r,o){r&1&&(Q(0,"link",0),b(1,"body",1),ue(2,EJ,75,9,"div",2)(3,DJ,1,0,"app-login",3),D()),r&2&&(I(2),N("ngIf",o.isLoggedIn),I(),N("ngIf",!o.isLoggedIn))},dependencies:[ye,Ri,bT,cH,P_],styles:[".left-sidebar[_ngcontent-%COMP%]{width:220px;height:100%;top:67px;overflow-y:auto;transition:all .3s;left:0;z-index:1000;padding-top:20px!important}.navbar-header[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{margin-right:20px}.display-flex[_ngcontent-%COMP%]{display:flex!important}.close-button[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;cursor:pointer}.close-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;color:#fff;padding:8px;background-color:#343a40;border-radius:50%}.custom-hamburger-display[_ngcontent-%COMP%]{display:none}.navbar-header[_ngcontent-%COMP%]{width:100%}.navbar-toggler[_ngcontent-%COMP%]:focus{box-shadow:none!important}@media (max-width: 1024px){.left-sidebar[_ngcontent-%COMP%]{position:fixed;left:-250px;z-index:1000}.left-sidebar.open[_ngcontent-%COMP%]{left:0}.page-wrapper[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]{margin-left:0}.custom-hamburger-display[_ngcontent-%COMP%]{display:block}}"]});let i=e;return i})();var ZH=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=re({type:e,selectors:[["ng-component"]],standalone:!0,features:[oe],decls:2,vars:0,template:function(r,o){r&1&&(b(0,"div"),P(1,"patient example view works"),D())},dependencies:[ye]});let i=e;return i})();var V_,ve,nG,qT,Nd,wu,XH,iG,rG,N_={},oG=[],TJ=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Ja(i,e){for(var t in e)i[t]=e[t];return i}function sG(i){var e=i.parentNode;e&&e.removeChild(i)}function A(i,e,t){var n,r,o,s={};for(o in e)o=="key"?n=e[o]:o=="ref"?r=e[o]:s[o]=e[o];if(arguments.length>2&&(s.children=arguments.length>3?V_.call(arguments,2):t),typeof i=="function"&&i.defaultProps!=null)for(o in i.defaultProps)s[o]===void 0&&(s[o]=i.defaultProps[o]);return F_(i,s,n,r,null)}function F_(i,e,t,n,r){var o={type:i,props:e,key:t,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:r??++nG};return r==null&&ve.vnode!=null&&ve.vnode(o),o}function mn(){return{current:null}}function ct(i){return i.children}function RJ(i,e,t,n,r){var o;for(o in t)o==="children"||o==="key"||o in e||L_(i,o,null,t[o],n);for(o in e)r&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||t[o]===e[o]||L_(i,o,e[o],t[o],n)}function JH(i,e,t){e[0]==="-"?i.setProperty(e,t??""):i[e]=t==null?"":typeof t!="number"||TJ.test(e)?t:t+"px"}function L_(i,e,t,n,r){var o;e:if(e==="style")if(typeof t=="string")i.style.cssText=t;else{if(typeof n=="string"&&(i.style.cssText=n=""),n)for(e in n)t&&e in t||JH(i.style,e,"");if(t)for(e in t)n&&t[e]===n[e]||JH(i.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in i?e.toLowerCase().slice(2):e.slice(2),i.l||(i.l={}),i.l[e+o]=t,t?n||i.addEventListener(e,o?tG:eG,o):i.removeEventListener(e,o?tG:eG,o);else if(e!=="dangerouslySetInnerHTML"){if(r)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in i)try{i[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?i.removeAttribute(e):i.setAttribute(e,t))}}function eG(i){Nd=!0;try{return this.l[i.type+!1](ve.event?ve.event(i):i)}finally{Nd=!1}}function tG(i){Nd=!0;try{return this.l[i.type+!0](ve.event?ve.event(i):i)}finally{Nd=!1}}function Xn(i,e){this.props=i,this.context=e}function mp(i,e){if(e==null)return i.__?mp(i.__,i.__.__k.indexOf(i)+1):null;for(var t;e<i.__k.length;e++)if((t=i.__k[e])!=null&&t.__e!=null)return t.__e;return typeof i.type=="function"?mp(i):null}function aG(i){var e,t;if((i=i.__)!=null&&i.__c!=null){for(i.__e=i.__c.base=null,e=0;e<i.__k.length;e++)if((t=i.__k[e])!=null&&t.__e!=null){i.__e=i.__c.base=t.__e;break}return aG(i)}}function AJ(i){Nd?setTimeout(i):iG(i)}function $T(i){(!i.__d&&(i.__d=!0)&&wu.push(i)&&!k_.__r++||XH!==ve.debounceRendering)&&((XH=ve.debounceRendering)||AJ)(k_)}function k_(){var i,e,t,n,r,o,s,a;for(wu.sort(function(l,u){return l.__v.__b-u.__v.__b});i=wu.shift();)i.__d&&(e=wu.length,n=void 0,r=void 0,s=(o=(t=i).__v).__e,(a=t.__P)&&(n=[],(r=Ja({},o)).__v=o.__v+1,KT(a,o,r,t.__n,a.ownerSVGElement!==void 0,o.__h!=null?[s]:null,n,s??mp(o),o.__h),hG(n,o),o.__e!=s&&aG(o)),wu.length>e&&wu.sort(function(l,u){return l.__v.__b-u.__v.__b}));k_.__r=0}function lG(i,e,t,n,r,o,s,a,l,u){var c,d,h,f,p,g,m,v=n&&n.__k||oG,y=v.length;for(t.__k=[],c=0;c<e.length;c++)if((f=t.__k[c]=(f=e[c])==null||typeof f=="boolean"?null:typeof f=="string"||typeof f=="number"||typeof f=="bigint"?F_(null,f,null,null,f):Array.isArray(f)?F_(ct,{children:f},null,null,null):f.__b>0?F_(f.type,f.props,f.key,f.ref?f.ref:null,f.__v):f)!=null){if(f.__=t,f.__b=t.__b+1,(h=v[c])===null||h&&f.key==h.key&&f.type===h.type)v[c]=void 0;else for(d=0;d<y;d++){if((h=v[d])&&f.key==h.key&&f.type===h.type){v[d]=void 0;break}h=null}KT(i,f,h=h||N_,r,o,s,a,l,u),p=f.__e,(d=f.ref)&&h.ref!=d&&(m||(m=[]),h.ref&&m.push(h.ref,null,f),m.push(d,f.__c||p,f)),p!=null?(g==null&&(g=p),typeof f.type=="function"&&f.__k===h.__k?f.__d=l=uG(f,l,i):l=cG(i,f,h,v,p,l),typeof t.type=="function"&&(t.__d=l)):l&&h.__e==l&&l.parentNode!=i&&(l=mp(h))}for(t.__e=g,c=y;c--;)v[c]!=null&&(typeof t.type=="function"&&v[c].__e!=null&&v[c].__e==t.__d&&(t.__d=dG(n).nextSibling),pG(v[c],v[c]));if(m)for(c=0;c<m.length;c++)fG(m[c],m[++c],m[++c])}function uG(i,e,t){for(var n,r=i.__k,o=0;r&&o<r.length;o++)(n=r[o])&&(n.__=i,e=typeof n.type=="function"?uG(n,e,t):cG(t,n,n,r,n.__e,e));return e}function vp(i,e){return e=e||[],i==null||typeof i=="boolean"||(Array.isArray(i)?i.some(function(t){vp(t,e)}):e.push(i)),e}function cG(i,e,t,n,r,o){var s,a,l;if(e.__d!==void 0)s=e.__d,e.__d=void 0;else if(t==null||r!=o||r.parentNode==null)e:if(o==null||o.parentNode!==i)i.appendChild(r),s=null;else{for(a=o,l=0;(a=a.nextSibling)&&l<n.length;l+=1)if(a==r)break e;i.insertBefore(r,o),s=o}return s!==void 0?s:r.nextSibling}function dG(i){var e,t,n;if(i.type==null||typeof i.type=="string")return i.__e;if(i.__k){for(e=i.__k.length-1;e>=0;e--)if((t=i.__k[e])&&(n=dG(t)))return n}return null}function KT(i,e,t,n,r,o,s,a,l){var u,c,d,h,f,p,g,m,v,y,C,S,E,T,O,R=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(l=t.__h,a=e.__e=t.__e,e.__h=null,o=[a]),(u=ve.__b)&&u(e);try{e:if(typeof R=="function"){if(m=e.props,v=(u=R.contextType)&&n[u.__c],y=u?v?v.props.value:u.__:n,t.__c?g=(c=e.__c=t.__c).__=c.__E:("prototype"in R&&R.prototype.render?e.__c=c=new R(m,y):(e.__c=c=new Xn(m,y),c.constructor=R,c.render=xJ),v&&v.sub(c),c.props=m,c.state||(c.state={}),c.context=y,c.__n=n,d=c.__d=!0,c.__h=[],c._sb=[]),c.__s==null&&(c.__s=c.state),R.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=Ja({},c.__s)),Ja(c.__s,R.getDerivedStateFromProps(m,c.__s))),h=c.props,f=c.state,c.__v=e,d)R.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(R.getDerivedStateFromProps==null&&m!==h&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(m,y),!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(m,c.__s,y)===!1||e.__v===t.__v){for(e.__v!==t.__v&&(c.props=m,c.state=c.__s,c.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(M){M&&(M.__=e)}),C=0;C<c._sb.length;C++)c.__h.push(c._sb[C]);c._sb=[],c.__h.length&&s.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(m,c.__s,y),c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(h,f,p)})}if(c.context=y,c.props=m,c.__P=i,S=ve.__r,E=0,"prototype"in R&&R.prototype.render){for(c.state=c.__s,c.__d=!1,S&&S(e),u=c.render(c.props,c.state,c.context),T=0;T<c._sb.length;T++)c.__h.push(c._sb[T]);c._sb=[]}else do c.__d=!1,S&&S(e),u=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++E<25);c.state=c.__s,c.getChildContext!=null&&(n=Ja(Ja({},n),c.getChildContext())),d||c.getSnapshotBeforeUpdate==null||(p=c.getSnapshotBeforeUpdate(h,f)),O=u!=null&&u.type===ct&&u.key==null?u.props.children:u,lG(i,Array.isArray(O)?O:[O],e,t,n,r,o,s,a,l),c.base=e.__e,e.__h=null,c.__h.length&&s.push(c),g&&(c.__E=c.__=null),c.__e=!1}else o==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=OJ(t.__e,e,t,n,r,o,s,l);(u=ve.diffed)&&u(e)}catch(M){e.__v=null,(l||o!=null)&&(e.__e=a,e.__h=!!l,o[o.indexOf(a)]=null),ve.__e(M,e,t)}}function hG(i,e){ve.__c&&ve.__c(e,i),i.some(function(t){try{i=t.__h,t.__h=[],i.some(function(n){n.call(t)})}catch(n){ve.__e(n,t.__v)}})}function OJ(i,e,t,n,r,o,s,a){var l,u,c,d=t.props,h=e.props,f=e.type,p=0;if(f==="svg"&&(r=!0),o!=null){for(;p<o.length;p++)if((l=o[p])&&"setAttribute"in l==!!f&&(f?l.localName===f:l.nodeType===3)){i=l,o[p]=null;break}}if(i==null){if(f===null)return document.createTextNode(h);i=r?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,h.is&&h),o=null,a=!1}if(f===null)d===h||a&&i.data===h||(i.data=h);else{if(o=o&&V_.call(i.childNodes),u=(d=t.props||N_).dangerouslySetInnerHTML,c=h.dangerouslySetInnerHTML,!a){if(o!=null)for(d={},p=0;p<i.attributes.length;p++)d[i.attributes[p].name]=i.attributes[p].value;(c||u)&&(c&&(u&&c.__html==u.__html||c.__html===i.innerHTML)||(i.innerHTML=c&&c.__html||""))}if(RJ(i,h,d,r,a),c)e.__k=[];else if(p=e.props.children,lG(i,Array.isArray(p)?p:[p],e,t,n,r&&f!=="foreignObject",o,s,o?o[0]:t.__k&&mp(t,0),a),o!=null)for(p=o.length;p--;)o[p]!=null&&sG(o[p]);a||("value"in h&&(p=h.value)!==void 0&&(p!==i.value||f==="progress"&&!p||f==="option"&&p!==d.value)&&L_(i,"value",p,d.value,!1),"checked"in h&&(p=h.checked)!==void 0&&p!==i.checked&&L_(i,"checked",p,d.checked,!1))}return i}function fG(i,e,t){try{typeof i=="function"?i(e):i.current=e}catch(n){ve.__e(n,t)}}function pG(i,e,t){var n,r;if(ve.unmount&&ve.unmount(i),(n=i.ref)&&(n.current&&n.current!==i.__e||fG(n,null,e)),(n=i.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(o){ve.__e(o,e)}n.base=n.__P=null,i.__c=void 0}if(n=i.__k)for(r=0;r<n.length;r++)n[r]&&pG(n[r],e,t||typeof i.type!="function");t||i.__e==null||sG(i.__e),i.__=i.__e=i.__d=void 0}function xJ(i,e,t){return this.constructor(i,t)}function el(i,e,t){var n,r,o;ve.__&&ve.__(i,e),r=(n=typeof t=="function")?null:t&&t.__k||e.__k,o=[],KT(e,i=(!n&&t||e).__k=A(ct,null,[i]),r||N_,N_,e.ownerSVGElement!==void 0,!n&&t?[t]:r?null:e.firstChild?V_.call(e.childNodes):null,o,!n&&t?t:r?r.__e:e.firstChild,n),hG(o,i)}function H_(i,e){var t={__c:e="__cC"+rG++,__:i,Consumer:function(n,r){return n.children(r)},Provider:function(n){var r,o;return this.getChildContext||(r=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&r.some(function(a){a.__e=!0,$T(a)})},this.sub=function(s){r.push(s);var a=s.componentWillUnmount;s.componentWillUnmount=function(){r.splice(r.indexOf(s),1),a&&a.call(s)}}),n.children}};return t.Provider.__=t.Consumer.contextType=t}V_=oG.slice,ve={__e:function(i,e,t,n){for(var r,o,s;e=e.__;)if((r=e.__c)&&!r.__)try{if((o=r.constructor)&&o.getDerivedStateFromError!=null&&(r.setState(o.getDerivedStateFromError(i)),s=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(i,n||{}),s=r.__d),s)return r.__E=r}catch(a){i=a}throw i}},nG=0,qT=function(i){return i!=null&&i.constructor===void 0},Nd=!1,Xn.prototype.setState=function(i,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ja({},this.state),typeof i=="function"&&(i=i(Ja({},t),this.props)),i&&Ja(t,i),i!=null&&this.__v&&(e&&this._sb.push(e),$T(this))},Xn.prototype.forceUpdate=function(i){this.__v&&(this.__e=!0,i&&this.__h.push(i),$T(this))},Xn.prototype.render=ct,wu=[],iG=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,k_.__r=0,rG=0;var IJ,ss,QT,gG;var SG=[],ZT=[],mG=ve.__b,vG=ve.__r,yG=ve.diffed,_G=ve.__c,CG=ve.unmount;function PJ(){for(var i;i=SG.shift();)if(i.__P&&i.__H)try{i.__H.__h.forEach(G_),i.__H.__h.forEach(XT),i.__H.__h=[]}catch(e){i.__H.__h=[],ve.__e(e,i.__v)}}ve.__b=function(i){ss=null,mG&&mG(i)},ve.__r=function(i){vG&&vG(i),IJ=0;var e=(ss=i.__c).__H;e&&(QT===ss?(e.__h=[],ss.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=ZT,t.__N=t.i=void 0})):(e.__h.forEach(G_),e.__h.forEach(XT),e.__h=[])),QT=ss},ve.diffed=function(i){yG&&yG(i);var e=i.__c;e&&e.__H&&(e.__H.__h.length&&(SG.push(e)!==1&&gG===ve.requestAnimationFrame||((gG=ve.requestAnimationFrame)||FJ)(PJ)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==ZT&&(t.__=t.__V),t.i=void 0,t.__V=ZT})),QT=ss=null},ve.__c=function(i,e){e.some(function(t){try{t.__h.forEach(G_),t.__h=t.__h.filter(function(n){return!n.__||XT(n)})}catch(n){e.some(function(r){r.__h&&(r.__h=[])}),e=[],ve.__e(n,t.__v)}}),_G&&_G(i,e)},ve.unmount=function(i){CG&&CG(i);var e,t=i.__c;t&&t.__H&&(t.__H.__.forEach(function(n){try{G_(n)}catch(r){e=r}}),t.__H=void 0,e&&ve.__e(e,t.__v))};var wG=typeof requestAnimationFrame=="function";function FJ(i){var e,t=function(){clearTimeout(n),wG&&cancelAnimationFrame(e),setTimeout(i)},n=setTimeout(t,100);wG&&(e=requestAnimationFrame(t))}function G_(i){var e=ss,t=i.__c;typeof t=="function"&&(i.__c=void 0,t()),ss=e}function XT(i){var e=ss;i.__c=i.__(),ss=e}function NJ(i,e){for(var t in e)i[t]=e[t];return i}function bG(i,e){for(var t in i)if(t!=="__source"&&!(t in e))return!0;for(var n in e)if(n!=="__source"&&i[n]!==e[n])return!0;return!1}function EG(i){this.props=i}(EG.prototype=new Xn).isPureReactComponent=!0,EG.prototype.shouldComponentUpdate=function(i,e){return bG(this.props,i)||bG(this.state,e)};var DG=ve.__b;ve.__b=function(i){i.type&&i.type.__f&&i.ref&&(i.props.ref=i.ref,i.ref=null),DG&&DG(i)};var VFe=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;var LJ=ve.__e;ve.__e=function(i,e,t,n){if(i.then){for(var r,o=e;o=o.__;)if((r=o.__c)&&r.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),r.__c(i,e)}LJ(i,e,t,n)};var TG=ve.unmount;function IG(i,e,t){return i&&(i.__c&&i.__c.__H&&(i.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),i.__c.__H=null),(i=NJ({},i)).__c!=null&&(i.__c.__P===t&&(i.__c.__P=e),i.__c=null),i.__k=i.__k&&i.__k.map(function(n){return IG(n,e,t)})),i}function PG(i,e,t){return i&&(i.__v=null,i.__k=i.__k&&i.__k.map(function(n){return PG(n,e,t)}),i.__c&&i.__c.__P===e&&(i.__e&&t.insertBefore(i.__e,i.__d),i.__c.__e=!0,i.__c.__P=t)),i}function JT(){this.__u=0,this.t=null,this.__b=null}function FG(i){var e=i.__.__c;return e&&e.__a&&e.__a(i)}function B_(){this.u=null,this.o=null}ve.unmount=function(i){var e=i.__c;e&&e.__R&&e.__R(),e&&i.__h===!0&&(i.type=null),TG&&TG(i)},(JT.prototype=new Xn).__c=function(i,e){var t=e.__c,n=this;n.t==null&&(n.t=[]),n.t.push(t);var r=FG(n.__v),o=!1,s=function(){o||(o=!0,t.__R=null,r?r(a):a())};t.__R=s;var a=function(){if(!--n.__u){if(n.state.__a){var u=n.state.__a;n.__v.__k[0]=PG(u,u.__c.__P,u.__c.__O)}var c;for(n.setState({__a:n.__b=null});c=n.t.pop();)c.forceUpdate()}},l=e.__h===!0;n.__u++||l||n.setState({__a:n.__b=n.__v.__k[0]}),i.then(s,s)},JT.prototype.componentWillUnmount=function(){this.t=[]},JT.prototype.render=function(i,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=IG(this.__b,t,n.__O=n.__P)}this.__b=null}var r=e.__a&&A(ct,null,i.fallback);return r&&(r.__h=null),[A(ct,null,e.__a?null:i.children),r]};var RG=function(i,e,t){if(++t[1]===t[0]&&i.o.delete(e),i.props.revealOrder&&(i.props.revealOrder[0]!=="t"||!i.o.size))for(t=i.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;i.u=t=t[2]}};function kJ(i){return this.getChildContext=function(){return i.context},i.children}function VJ(i){var e=this,t=i.i;e.componentWillUnmount=function(){el(null,e.l),e.l=null,e.i=null},e.i&&e.i!==t&&e.componentWillUnmount(),i.__v?(e.l||(e.i=t,e.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,r){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),el(A(kJ,{context:e.context},i.__v),e.l)):e.l&&e.componentWillUnmount()}function NG(i,e){var t=A(VJ,{__v:i,i:e});return t.containerInfo=e,t}(B_.prototype=new Xn).__a=function(i){var e=this,t=FG(e.__v),n=e.o.get(i);return n[0]++,function(r){var o=function(){e.props.revealOrder?(n.push(r),RG(e,i,n)):r()};t?t(o):o()}},B_.prototype.render=function(i){this.u=null,this.o=new Map;var e=vp(i.children);i.revealOrder&&i.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return i.children},B_.prototype.componentDidUpdate=B_.prototype.componentDidMount=function(){var i=this;this.o.forEach(function(e,t){RG(i,t,e)})};var HJ=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,GJ=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,BJ=typeof document<"u",jJ=function(i){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(i)};Xn.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(i){Object.defineProperty(Xn.prototype,i,{configurable:!0,get:function(){return this["UNSAFE_"+i]},set:function(e){Object.defineProperty(this,i,{configurable:!0,writable:!0,value:e})}})});var AG=ve.event;function UJ(){}function WJ(){return this.cancelBubble}function zJ(){return this.defaultPrevented}ve.event=function(i){return AG&&(i=AG(i)),i.persist=UJ,i.isPropagationStopped=WJ,i.isDefaultPrevented=zJ,i.nativeEvent=i};var $J,OG={configurable:!0,get:function(){return this.class}},xG=ve.vnode;ve.vnode=function(i){var e=i.type,t=i.props,n=t;if(typeof e=="string"){var r=e.indexOf("-")===-1;for(var o in n={},t){var s=t[o];BJ&&o==="children"&&e==="noscript"||o==="value"&&"defaultValue"in t&&s==null||(o==="defaultValue"&&"value"in t&&t.value==null?o="value":o==="download"&&s===!0?s="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+e)&&!jJ(t.type)?o="oninput":/^onfocus$/i.test(o)?o="onfocusin":/^onblur$/i.test(o)?o="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(o)?o=o.toLowerCase():r&&GJ.test(o)?o=o.replace(/[A-Z0-9]/g,"-$&").toLowerCase():s===null&&(s=void 0),/^oninput$/i.test(o)&&(o=o.toLowerCase(),n[o]&&(o="oninputCapture")),n[o]=s)}e=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=vp(t.children).forEach(function(a){a.props.selected=n.value.indexOf(a.props.value)!=-1})),e=="select"&&n.defaultValue!=null&&(n.value=vp(t.children).forEach(function(a){a.props.selected=n.multiple?n.defaultValue.indexOf(a.props.value)!=-1:n.defaultValue==a.props.value})),i.props=n,t.class!=t.className&&(OG.enumerable="className"in t,t.className!=null&&(n.class=t.className),Object.defineProperty(n,"className",OG))}i.$$typeof=HJ,xG&&xG(i)};var MG=ve.__r;ve.__r=function(i){MG&&MG(i),$J=i.__c};var ZG=[],uR=new Map;function al(i){ZG.push(i),uR.forEach(e=>{eB(e,i)})}function XG(i){i.isConnected&&JG(i.getRootNode())}function JG(i){let e=uR.get(i);if(!e||!e.isConnected){if(e=i.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");let t=YJ();t&&(e.nonce=t);let n=i===document?document.head:i,r=i===document?n.querySelector("script,link[rel=stylesheet],link[as=style],style"):n.firstChild;n.insertBefore(e,r)}uR.set(i,e),qJ(e)}}function qJ(i){for(let e of ZG)eB(i,e)}function eB(i,e){let{sheet:t}=i,n=t.cssRules.length;e.split("}").forEach((r,o)=>{r=r.trim(),r&&t.insertRule(r+"}",n+o)})}var eR;function YJ(){return eR===void 0&&(eR=KJ()),eR}function KJ(){let i=document.querySelector('meta[name="csp-nonce"]');if(i&&i.hasAttribute("content"))return i.getAttribute("content");let e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&JG(document);var QJ=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';al(QJ);var Eu=class{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:n}=this;e in n&&(t?delete n[e]:(n[e]-=1,n[e]<=0&&delete n[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}};function Fp(i){i.parentNode&&i.parentNode.removeChild(i)}function En(i,e){if(i.closest)return i.closest(e);if(!document.documentElement.contains(i))return null;do{if(wR(i,e))return i;i=i.parentElement||i.parentNode}while(i!==null&&i.nodeType===1);return null}function wR(i,e){return(i.matches||i.matchesSelector||i.msMatchesSelector).call(i,e)}function tB(i,e){let t=i instanceof HTMLElement?[i]:i,n=[];for(let r=0;r<t.length;r+=1){let o=t[r].querySelectorAll(e);for(let s=0;s<o.length;s+=1)n.push(o[s])}return n}var ZJ=/(top|left|right|bottom|width|height)$/i;function Lu(i,e){for(let t in e)SR(i,t,e[t])}function SR(i,e,t){t==null?i.style[e]="":typeof t=="number"&&ZJ.test(e)?i.style[e]=`${t}px`:i.style[e]=t}function oC(i){var e,t;return(t=(e=i.composedPath)===null||e===void 0?void 0:e.call(i)[0])!==null&&t!==void 0?t:i.target}var LG=0;function Ur(){return LG+=1,"fc-dom-"+LG}function Np(i){i.preventDefault()}function XJ(i,e){return t=>{let n=En(t.target,i);n&&e.call(n,t,n)}}function bR(i,e,t,n){let r=XJ(t,n);return i.addEventListener(e,r),()=>{i.removeEventListener(e,r)}}function nB(i,e,t,n){let r;return bR(i,"mouseover",e,(o,s)=>{if(s!==r){r=s,t(o,s);let a=l=>{r=null,n(l,s),s.removeEventListener("mouseleave",a)};s.addEventListener("mouseleave",a)}})}var kG=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function ER(i,e){let t=n=>{e(n),kG.forEach(r=>{i.removeEventListener(r,t)})};kG.forEach(n=>{i.addEventListener(n,t)})}function iB(i){return Object.assign({onClick:i},rB(i))}function rB(i){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(i(e),e.preventDefault())}}}var VG=0;function na(){return VG+=1,String(VG)}function Lp(){document.body.classList.add("fc-not-allowed")}function kp(){document.body.classList.remove("fc-not-allowed")}function DR(i){i.style.userSelect="none",i.style.webkitUserSelect="none",i.addEventListener("selectstart",Np)}function TR(i){i.style.userSelect="",i.style.webkitUserSelect="",i.removeEventListener("selectstart",Np)}function RR(i){i.addEventListener("contextmenu",Np)}function AR(i){i.removeEventListener("contextmenu",Np)}function oB(i){let e=[],t=[],n,r;for(typeof i=="string"?t=i.split(/\s*,\s*/):typeof i=="function"?t=[i]:Array.isArray(i)&&(t=i),n=0;n<t.length;n+=1)r=t[n],typeof r=="string"?e.push(r.charAt(0)==="-"?{field:r.substring(1),order:-1}:{field:r,order:1}):typeof r=="function"&&e.push({func:r});return e}function sB(i,e,t){let n,r;for(n=0;n<t.length;n+=1)if(r=JJ(i,e,t[n]),r)return r;return 0}function JJ(i,e,t){return t.func?t.func(i,e):aB(i[t.field],e[t.field])*(t.order||1)}function aB(i,e){return!i&&!e?0:e==null?-1:i==null?1:typeof i=="string"||typeof e=="string"?String(i).localeCompare(String(e)):i-e}function bu(i,e){let t=String(i);return"000".substr(0,e-t.length)+t}function Gd(i,e,t){return typeof i=="function"?i(...e):typeof i=="string"?e.reduce((n,r,o)=>n.replace("$"+o,r||""),i):t}function OR(i,e){return i-e}function yp(i){return i%1===0}function eee(i){let e=i.querySelector(".fc-scrollgrid-shrink-frame"),t=i.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return i.getBoundingClientRect().width-e.getBoundingClientRect().width+t.getBoundingClientRect().width}var HG=["years","months","days","milliseconds"],tee=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function qe(i,e){return typeof i=="string"?nee(i):typeof i=="object"&&i?GG(i):typeof i=="number"?GG({[e||"milliseconds"]:i}):null}function nee(i){let e=tee.exec(i);if(e){let t=e[1]?-1:1;return{years:0,months:0,days:t*(e[2]?parseInt(e[2],10):0),milliseconds:t*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function GG(i){let e={years:i.years||i.year||0,months:i.months||i.month||0,days:i.days||i.day||0,milliseconds:(i.hours||i.hour||0)*60*60*1e3+(i.minutes||i.minute||0)*60*1e3+(i.seconds||i.second||0)*1e3+(i.milliseconds||i.millisecond||i.ms||0)},t=i.weeks||i.week;return t&&(e.days+=t*7,e.specifiedWeeks=!0),e}function iee(i,e){return i.years===e.years&&i.months===e.months&&i.days===e.days&&i.milliseconds===e.milliseconds}function Vp(i,e){return{years:i.years+e.years,months:i.months+e.months,days:i.days+e.days,milliseconds:i.milliseconds+e.milliseconds}}function lB(i,e){return{years:i.years-e.years,months:i.months-e.months,days:i.days-e.days,milliseconds:i.milliseconds-e.milliseconds}}function xR(i,e){return{years:i.years*e,months:i.months*e,days:i.days*e,milliseconds:i.milliseconds*e}}function ree(i){return Ld(i)/365}function oee(i){return Ld(i)/30}function Ld(i){return fr(i)/864e5}function fr(i){return i.years*(365*864e5)+i.months*(30*864e5)+i.days*864e5+i.milliseconds}function Hp(i,e){let t=null;for(let n=0;n<HG.length;n+=1){let r=HG[n];if(e[r]){let o=i[r]/e[r];if(!yp(o)||t!==null&&t!==o)return null;t=o}else if(i[r])return null}return t}function _p(i){let e=i.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return i.days?i.specifiedWeeks&&i.days%7===0?{unit:"week",value:i.days/7}:{unit:"day",value:i.days}:i.months?{unit:"month",value:i.months}:i.years?{unit:"year",value:i.years}:{unit:"millisecond",value:0}}function us(i,e,t){if(i===e)return!0;let n=i.length,r;if(n!==e.length)return!1;for(r=0;r<n;r+=1)if(!(t?t(i[r],e[r]):i[r]===e[r]))return!1;return!0}var see=["sun","mon","tue","wed","thu","fri","sat"];function sC(i,e){let t=nl(i);return t[2]+=e*7,Li(t)}function on(i,e){let t=nl(i);return t[2]+=e,Li(t)}function as(i,e){let t=nl(i);return t[6]+=e,Li(t)}function MR(i,e){return cs(i,e)/7}function cs(i,e){return(e.valueOf()-i.valueOf())/(1e3*60*60*24)}function aee(i,e){return(e.valueOf()-i.valueOf())/(1e3*60*60)}function lee(i,e){return(e.valueOf()-i.valueOf())/(1e3*60)}function uee(i,e){return(e.valueOf()-i.valueOf())/1e3}function uB(i,e){let t=gt(i),n=gt(e);return{years:0,months:0,days:Math.round(cs(t,n)),milliseconds:e.valueOf()-n.valueOf()-(i.valueOf()-t.valueOf())}}function cB(i,e){let t=kd(i,e);return t!==null&&t%7===0?t/7:null}function kd(i,e){return il(i)===il(e)?Math.round(cs(i,e)):null}function gt(i){return Li([i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()])}function cee(i){return Li([i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours()])}function dee(i){return Li([i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes()])}function hee(i){return Li([i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds()])}function fee(i,e,t){let n=i.getUTCFullYear(),r=tR(i,n,e,t);if(r<1)return tR(i,n-1,e,t);let o=tR(i,n+1,e,t);return o>=1?Math.min(r,o):r}function tR(i,e,t,n){let r=Li([e,0,1+pee(e,t,n)]),o=gt(i),s=Math.round(cs(r,o));return Math.floor(s/7)+1}function pee(i,e,t){let n=7+e-t;return-((7+Li([i,0,n]).getUTCDay()-e)%7)+n-1}function BG(i){return[i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()]}function jG(i){return new Date(i[0],i[1]||0,i[2]==null?1:i[2],i[3]||0,i[4]||0,i[5]||0)}function nl(i){return[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()]}function Li(i){return i.length===1&&(i=i.concat([0])),new Date(Date.UTC(...i))}function IR(i){return!isNaN(i.valueOf())}function il(i){return i.getUTCHours()*1e3*60*60+i.getUTCMinutes()*1e3*60+i.getUTCSeconds()*1e3+i.getUTCMilliseconds()}function aC(i,e,t=!1){let n=i.toISOString();return n=n.replace(".000",""),t&&(n=n.replace("T00:00:00Z","")),n.length>10&&(e==null?n=n.replace("Z",""):e!==0&&(n=n.replace("Z",NR(e,!0)))),n}function ll(i){return i.toISOString().replace(/T.*$/,"")}function PR(i){return i.toISOString().match(/^\d{4}-\d{2}/)[0]}function FR(i){return bu(i.getUTCHours(),2)+":"+bu(i.getUTCMinutes(),2)+":"+bu(i.getUTCSeconds(),2)}function NR(i,e=!1){let t=i<0?"-":"+",n=Math.abs(i),r=Math.floor(n/60),o=Math.round(n%60);return e?`${t+bu(r,2)}:${bu(o,2)}`:`GMT${t}${r}${o?`:${bu(o,2)}`:""}`}function ge(i,e,t){let n,r;return function(...o){if(!n)r=i.apply(this,o);else if(!us(n,o)){t&&t(r);let s=i.apply(this,o);(!e||!e(s,r))&&(r=s)}return n=o,r}}function Bd(i,e,t){let n,r;return o=>{if(!n)r=i.call(this,o);else if(!pr(n,o)){t&&t(r);let s=i.call(this,o);(!e||!e(s,r))&&(r=s)}return n=o,r}}var UG={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},K_={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},j_=/\s*([ap])\.?m\.?/i,gee=/,/g,mee=/\s+/g,vee=/\u200e/g,yee=/UTC|GMT/,cR=class{constructor(e){let t={},n={},r=0;for(let o in e)o in UG?(n[o]=e[o],r=Math.max(UG[o],r)):(t[o]=e[o],o in K_&&(r=Math.max(K_[o],r)));this.standardDateProps=t,this.extendedSettings=n,this.severity=r,this.buildFormattingFunc=ge(WG)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,n,r){let{standardDateProps:o,extendedSettings:s}=this,a=Eee(e.marker,t.marker,n.calendarSystem);if(!a)return this.format(e,n);let l=a;l>1&&(o.year==="numeric"||o.year==="2-digit")&&(o.month==="numeric"||o.month==="2-digit")&&(o.day==="numeric"||o.day==="2-digit")&&(l=1);let u=this.format(e,n),c=this.format(t,n);if(u===c)return u;let d=Dee(o,l),h=WG(d,s,n),f=h(e),p=h(t),g=Tee(u,f,c,p),m=s.separator||r||n.defaultSeparator||"";return g?g.before+f+m+p+g.after:u+m+c}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}};function WG(i,e,t){let n=Object.keys(i).length;return n===1&&i.timeZoneName==="short"?r=>NR(r.timeZoneOffset):n===0&&e.week?r=>bee(t.computeWeekNumber(r.marker),t.weekText,t.weekTextLong,t.locale,e.week):_ee(i,e,t)}function _ee(i,e,t){i=Object.assign({},i),e=Object.assign({},e),Cee(i,e),i.timeZone="UTC";let n=new Intl.DateTimeFormat(t.locale.codes,i),r;if(e.omitZeroMinute){let o=Object.assign({},i);delete o.minute,r=new Intl.DateTimeFormat(t.locale.codes,o)}return o=>{let{marker:s}=o,a;r&&!s.getUTCMinutes()?a=r:a=n;let l=a.format(s);return wee(l,o,i,e,t)}}function Cee(i,e){i.timeZoneName&&(i.hour||(i.hour="2-digit"),i.minute||(i.minute="2-digit")),i.timeZoneName==="long"&&(i.timeZoneName="short"),e.omitZeroMinute&&(i.second||i.millisecond)&&delete e.omitZeroMinute}function wee(i,e,t,n,r){return i=i.replace(vee,""),t.timeZoneName==="short"&&(i=See(i,r.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":NR(e.timeZoneOffset))),n.omitCommas&&(i=i.replace(gee,"").trim()),n.omitZeroMinute&&(i=i.replace(":00","")),n.meridiem===!1?i=i.replace(j_,"").trim():n.meridiem==="narrow"?i=i.replace(j_,(o,s)=>s.toLocaleLowerCase()):n.meridiem==="short"?i=i.replace(j_,(o,s)=>`${s.toLocaleLowerCase()}m`):n.meridiem==="lowercase"&&(i=i.replace(j_,o=>o.toLocaleLowerCase())),i=i.replace(mee," "),i=i.trim(),i}function See(i,e){let t=!1;return i=i.replace(yee,()=>(t=!0,e)),t||(i+=` ${e}`),i}function bee(i,e,t,n,r){let o=[];return r==="long"?o.push(t):(r==="short"||r==="narrow")&&o.push(e),(r==="long"||r==="short")&&o.push(" "),o.push(n.simpleNumberFormat.format(i)),n.options.direction==="rtl"&&o.reverse(),o.join("")}function Eee(i,e,t){return t.getMarkerYear(i)!==t.getMarkerYear(e)?5:t.getMarkerMonth(i)!==t.getMarkerMonth(e)?4:t.getMarkerDay(i)!==t.getMarkerDay(e)?2:il(i)!==il(e)?1:0}function Dee(i,e){let t={};for(let n in i)(!(n in K_)||K_[n]<=e)&&(t[n]=i[n]);return t}function Tee(i,e,t,n){let r=0;for(;r<i.length;){let o=i.indexOf(e,r);if(o===-1)break;let s=i.substr(0,o);r=o+e.length;let a=i.substr(r),l=0;for(;l<t.length;){let u=t.indexOf(n,l);if(u===-1)break;let c=t.substr(0,u);l=u+n.length;let d=t.substr(l);if(s===c&&a===d)return{before:s,after:a}}}return null}function zG(i,e){let t=e.markerToArray(i.marker);return{marker:i.marker,timeZoneOffset:i.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function Q_(i,e,t,n){let r=zG(i,t.calendarSystem),o=e?zG(e,t.calendarSystem):null;return{date:r,start:r,end:o,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:n||t.defaultSeparator}}var dR=class{constructor(e){this.cmdStr=e}format(e,t,n){return t.cmdFormatter(this.cmdStr,Q_(e,null,t,n))}formatRange(e,t,n,r){return n.cmdFormatter(this.cmdStr,Q_(e,t,n,r))}},hR=class{constructor(e){this.func=e}format(e,t,n){return this.func(Q_(e,null,t,n))}formatRange(e,t,n,r){return this.func(Q_(e,t,n,r))}};function Ct(i){return typeof i=="object"&&i?new cR(i):typeof i=="string"?new dR(i):typeof i=="function"?new hR(i):null}var LR={navLinkDayClick:L,navLinkWeekClick:L,duration:qe,bootstrapFontAwesome:L,buttonIcons:L,customButtons:L,defaultAllDayEventDuration:qe,defaultTimedEventDuration:qe,nextDayThreshold:qe,scrollTime:qe,scrollTimeReset:Boolean,slotMinTime:qe,slotMaxTime:qe,dayPopoverFormat:Ct,slotDuration:qe,snapDuration:qe,headerToolbar:L,footerToolbar:L,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Ct,dayHeaderClassNames:L,dayHeaderContent:L,dayHeaderDidMount:L,dayHeaderWillUnmount:L,dayCellClassNames:L,dayCellContent:L,dayCellDidMount:L,dayCellWillUnmount:L,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:L,weekNumbers:Boolean,weekNumberClassNames:L,weekNumberContent:L,weekNumberDidMount:L,weekNumberWillUnmount:L,editable:Boolean,viewClassNames:L,viewDidMount:L,viewWillUnmount:L,nowIndicator:Boolean,nowIndicatorClassNames:L,nowIndicatorContent:L,nowIndicatorDidMount:L,nowIndicatorWillUnmount:L,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:L,locale:L,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:L,eventOrder:oB,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:L,contentHeight:L,direction:String,weekNumberFormat:Ct,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:L,initialDate:L,now:L,eventDataTransform:L,stickyHeaderDates:L,stickyFooterScrollbar:L,viewHeight:L,defaultAllDay:Boolean,eventSourceFailure:L,eventSourceSuccess:L,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:L,eventConstraint:L,eventAllow:L,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:L,eventContent:L,eventDidMount:L,eventWillUnmount:L,selectConstraint:L,selectOverlap:L,selectAllow:L,droppable:Boolean,unselectCancel:String,slotLabelFormat:L,slotLaneClassNames:L,slotLaneContent:L,slotLaneDidMount:L,slotLaneWillUnmount:L,slotLabelClassNames:L,slotLabelContent:L,slotLabelDidMount:L,slotLabelWillUnmount:L,dayMaxEvents:L,dayMaxEventRows:L,dayMinWidth:Number,slotLabelInterval:qe,allDayText:String,allDayClassNames:L,allDayContent:L,allDayDidMount:L,allDayWillUnmount:L,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Ct,rerenderDelay:Number,moreLinkText:L,moreLinkHint:L,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:L,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:qe,hiddenDays:L,fixedWeekCount:Boolean,validRange:L,visibleRange:L,titleFormat:L,eventInteractive:Boolean,noEventsText:String,viewHint:L,navLinkHint:L,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:L,moreLinkClassNames:L,moreLinkContent:L,moreLinkDidMount:L,moreLinkWillUnmount:L,monthStartFormat:Ct,handleCustomRendering:L,customRenderingMetaMap:L,customRenderingReplaces:Boolean},ul={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},kR={datesSet:L,eventsSet:L,eventAdd:L,eventChange:L,eventRemove:L,windowResize:L,eventClick:L,eventMouseEnter:L,eventMouseLeave:L,select:L,unselect:L,loading:L,_unmount:L,_beforeprint:L,_afterprint:L,_noEventDrop:L,_noEventResize:L,_resize:L,_scrollRequest:L},VR={buttonText:L,buttonHints:L,views:L,plugins:L,initialEvents:L,events:L,eventSources:L},cl={headerToolbar:Su,footerToolbar:Su,buttonText:Su,buttonHints:Su,buttonIcons:Su,dateIncrement:Su,plugins:U_,events:U_,eventSources:U_,resources:U_};function Su(i,e){return typeof i=="object"&&typeof e=="object"&&i&&e?pr(i,e):i===e}function U_(i,e){return Array.isArray(i)&&Array.isArray(e)?us(i,e):i===e}var dB={type:String,component:L,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:L,usesMinMaxTime:Boolean,classNames:L,content:L,didMount:L,willUnmount:L};function lC(i){return cC(i,cl)}function uC(i,e){let t={},n={};for(let r in e)r in i&&(t[r]=e[r](i[r]));for(let r in i)r in e||(n[r]=i[r]);return{refined:t,extra:n}}function L(i){return i}var{hasOwnProperty:Z_}=Object.prototype;function cC(i,e){let t={};if(e){for(let n in e)if(e[n]===Su){let r=[];for(let o=i.length-1;o>=0;o-=1){let s=i[o][n];if(typeof s=="object"&&s)r.unshift(s);else if(s!==void 0){t[n]=s;break}}r.length&&(t[n]=cC(r))}}for(let n=i.length-1;n>=0;n-=1){let r=i[n];for(let o in r)o in t||(t[o]=r[o])}return t}function Xs(i,e){let t={};for(let n in i)e(i[n],n)&&(t[n]=i[n]);return t}function jr(i,e){let t={};for(let n in i)t[n]=e(i[n],n);return t}function HR(i){let e={};for(let t of i)e[t]=!0;return e}function dC(i){let e=[];for(let t in i)e.push(i[t]);return e}function pr(i,e){if(i===e)return!0;for(let t in i)if(Z_.call(i,t)&&!(t in e))return!1;for(let t in e)if(Z_.call(e,t)&&i[t]!==e[t])return!1;return!0}var Ree=/^on[A-Z]/;function Aee(i,e){let t=fR(i,e);for(let n of t)if(!Ree.test(n))return!1;return!0}function fR(i,e){let t=[];for(let n in i)Z_.call(i,n)&&(n in e||t.push(n));for(let n in e)Z_.call(e,n)&&i[n]!==e[n]&&t.push(n);return t}function q_(i,e,t={}){if(i===e)return!0;for(let n in e)if(!(n in i&&Oee(i[n],e[n],t[n])))return!1;for(let n in i)if(!(n in e))return!1;return!0}function Oee(i,e,t){return i===e||t===!0?!0:t?t(i,e):!1}function hB(i,e=0,t,n=1){let r=[];t==null&&(t=Object.keys(i).length);for(let o=e;o<t;o+=n){let s=i[o];s!==void 0&&r.push(s)}return r}var fB={};function xee(i,e){fB[i]=e}function Mee(i){return new fB[i]}var pR=class{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Li(e)}markerToArray(e){return nl(e)}};xee("gregory",pR);var Iee=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function pB(i){let e=Iee.exec(i);if(e){let t=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(IR(t)){let n=null;return e[13]&&(n=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:t,isTimeUnspecified:!e[6],timeZoneOffset:n}}}return null}var Cp=class{constructor(e){let t=this.timeZone=e.timeZone,n=t!=="local"&&t!=="UTC";e.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=!!(!n||this.namedTimeZoneImpl),this.calendarSystem=Mee(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return t===null?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Li(BG(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let t=null;return typeof e=="number"?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=Li(e)),t===null||!IR(t)?null:{marker:t,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let t=pB(e);if(t===null)return null;let{marker:n}=t,r=null;return t.timeZoneOffset!==null&&(this.canComputeOffset?n=this.timestampToMarker(n.valueOf()-t.timeZoneOffset*60*1e3):r=t.timeZoneOffset),{marker:n,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:r}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]+=t.years,n[1]+=t.months,n[2]+=t.days,n[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(n)}subtract(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]-=t.years,n[1]-=t.months,n[2]-=t.days,n[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(n)}addYears(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]+=t,this.calendarSystem.arrayToMarker(n)}addMonths(e,t){let n=this.calendarSystem.markerToArray(e);return n[1]+=t,this.calendarSystem.arrayToMarker(n)}diffWholeYears(e,t){let{calendarSystem:n}=this;return il(e)===il(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)&&n.getMarkerMonth(e)===n.getMarkerMonth(t)?n.getMarkerYear(t)-n.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:n}=this;return il(e)===il(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)?n.getMarkerMonth(t)-n.getMarkerMonth(e)+(n.getMarkerYear(t)-n.getMarkerYear(e))*12:null}greatestWholeUnit(e,t){let n=this.diffWholeYears(e,t);return n!==null?{unit:"year",value:n}:(n=this.diffWholeMonths(e,t),n!==null?{unit:"month",value:n}:(n=cB(e,t),n!==null?{unit:"week",value:n}:(n=kd(e,t),n!==null?{unit:"day",value:n}:(n=aee(e,t),yp(n)?{unit:"hour",value:n}:(n=lee(e,t),yp(n)?{unit:"minute",value:n}:(n=uee(e,t),yp(n)?{unit:"second",value:n}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,n){let r;return n.years&&(r=this.diffWholeYears(e,t),r!==null)?r/ree(n):n.months&&(r=this.diffWholeMonths(e,t),r!==null)?r/oee(n):n.days&&(r=kd(e,t),r!==null)?r/Ld(n):(t.valueOf()-e.valueOf())/fr(n)}startOf(e,t){return t==="year"?this.startOfYear(e):t==="month"?this.startOfMonth(e):t==="week"?this.startOfWeek(e):t==="day"?gt(e):t==="hour"?cee(e):t==="minute"?dee(e):t==="second"?hee(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):fee(e,this.weekDow,this.weekDoy)}format(e,t,n={}){return t.format({marker:e,timeZoneOffset:n.forcedTzo!=null?n.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,n,r={}){return r.isEndExclusive&&(t=as(t,-1)),n.formatRange({marker:e,timeZoneOffset:r.forcedStartTzo!=null?r.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:r.forcedEndTzo!=null?r.forcedEndTzo:this.offsetForMarker(t)},this,r.defaultSeparator)}formatIso(e,t={}){let n=null;return t.omitTimeZoneOffset||(t.forcedTzo!=null?n=t.forcedTzo:n=this.offsetForMarker(e)),aC(e,n,t.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Li(BG(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Li(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-jG(nl(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(nl(e)):null}toDate(e,t){return this.timeZone==="local"?jG(nl(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(nl(e))*1e3*60):new Date(e.valueOf()-(t||0))}},Js=class{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,n;if(typeof e=="object"&&e){t=Object.assign({},this.iconClasses);for(n in e)t[n]=this.applyIconOverridePrefix(e[n]);this.iconClasses=t}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&e.indexOf(t)!==0&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let n;return t&&this.rtlIconClasses?n=this.rtlIconClasses[e]||this.iconClasses[e]:n=this.iconClasses[e],n?`${this.baseIconClass} ${n}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}};Js.prototype.classes={};Js.prototype.iconClasses={};Js.prototype.baseIconClass="";Js.prototype.iconOverridePrefix="";function GR(i){i();let e=ve.debounceRendering,t=[];function n(r){t.push(r)}for(ve.debounceRendering=n,el(A(gR,{}),document.createElement("div"));t.length;)t.shift()();ve.debounceRendering=e}var gR=class extends Xn{render(){return A("div",{})}componentDidMount(){this.setState({})}};function gB(i){let e=H_(i),t=e.Provider;return e.Provider=function(){let n=!this.getChildContext,r=t.apply(this,arguments);if(n){let o=[];this.shouldComponentUpdate=s=>{this.props.value!==s.value&&o.forEach(a=>{a.context=s.value,a.forceUpdate()})},this.sub=s=>{o.push(s);let a=s.componentWillUnmount;s.componentWillUnmount=()=>{o.splice(o.indexOf(s),1),a&&a.call(s)}}}return r},e}var X_=class{constructor(e,t,n,r){this.execFunc=e,this.emitter=t,this.scrollTime=n,this.scrollTimeReset=r,this.handleScrollRequest=o=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},o),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}},Wr=gB({});function mB(i,e,t,n,r,o,s,a,l,u,c,d,h){return{dateEnv:r,options:t,pluginHooks:s,emitter:u,dispatch:a,getCurrentData:l,calendarApi:c,viewSpec:i,viewApi:e,dateProfileGenerator:n,theme:o,isRtl:t.direction==="rtl",addResizeHandler(f){u.on("_resize",f)},removeResizeHandler(f){u.off("_resize",f)},createScrollResponder(f){return new X_(f,u,qe(t.scrollTime),t.scrollTimeReset)},registerInteractiveComponent:d,unregisterInteractiveComponent:h}}var Gp=(()=>{class i extends Xn{shouldComponentUpdate(t,n){return this.debug&&console.log(fR(t,this.props),fR(n,this.state)),!q_(this.props,t,this.propEquality)||!q_(this.state,n,this.stateEquality)}safeSetState(t){q_(this.state,Object.assign(Object.assign({},this.state),t),this.stateEquality)||this.setState(t)}}return i.addPropsEquality=Pee,i.addStateEquality=Fee,i.contextType=Wr,i})();Gp.prototype.propEquality={};Gp.prototype.stateEquality={};var it=(()=>{class i extends Gp{}return i.contextType=Wr,i})();function Pee(i){let e=Object.create(this.prototype.propEquality);Object.assign(e,i),this.prototype.propEquality=e}function Fee(i){let e=Object.create(this.prototype.stateEquality);Object.assign(e,i),this.prototype.stateEquality=e}function zr(i,e){typeof i=="function"?i(e):i&&(i.current=e)}var wp=class extends it{constructor(){super(...arguments),this.id=na(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{let{options:t}=this.context,{generatorName:n}=this.props;(!t.customRenderingReplaces||!mR(n,t))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&zr(this.props.elRef,e)}}render(){let{props:e,context:t}=this,{options:n}=t,{customGenerator:r,defaultGenerator:o,renderProps:s}=e,a=BR(e,[],this.handleEl),l=!1,u,c=[],d;if(r!=null){let h=typeof r=="function"?r(s,A):r;if(h===!0)l=!0;else{let f=h&&typeof h=="object";f&&"html"in h?a.dangerouslySetInnerHTML={__html:h.html}:f&&"domNodes"in h?c=Array.prototype.slice.call(h.domNodes):(f?qT(h):typeof h!="function")?u=h:d=h}}else l=!mR(e.generatorName,n);return l&&o&&(u=o(s)),this.queuedDomNodes=c,this.currentGeneratorMeta=d,A(e.elTag,a,u)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;let{props:n,context:r}=this,{handleCustomRendering:o,customRenderingMetaMap:s}=r.options;if(o){let a=(t=this.currentGeneratorMeta)!==null&&t!==void 0?t:s?.[n.generatorName];a&&o(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:a},n),{elClasses:(n.elClasses||[]).filter(Nee)}))}}applyQueueudDomNodes(){let{queuedDomNodes:e,currentDomNodes:t}=this,n=this.base;if(!us(e,t)){t.forEach(Fp);for(let r of e)n.appendChild(r);this.currentDomNodes=e}}};wp.addPropsEquality({elClasses:us,elStyle:pr,elAttrs:Aee,renderProps:pr});function mR(i,e){var t;return!!(e.handleCustomRendering&&i&&(!((t=e.customRenderingMetaMap)===null||t===void 0)&&t[i]))}function BR(i,e,t){let n=Object.assign(Object.assign({},i.elAttrs),{ref:t});return(i.elClasses||e)&&(n.className=(i.elClasses||[]).concat(e||[]).concat(n.className||[]).filter(Boolean).join(" ")),i.elStyle&&(n.style=i.elStyle),n}function Nee(i){return!!i}var jR=gB(0),Dn=(()=>{class i extends Xn{constructor(){super(...arguments),this.InnerContent=Lee.bind(void 0,this),this.handleEl=t=>{this.el=t,this.props.elRef&&(zr(this.props.elRef,t),t&&this.didMountMisfire&&this.componentDidMount())}}render(){let{props:t}=this,n=kee(t.classNameGenerator,t.renderProps);if(t.children){let r=BR(t,n,this.handleEl),o=t.children(this.InnerContent,t.renderProps,r);return t.elTag?A(t.elTag,r,o):o}else return A(wp,Object.assign(Object.assign({},t),{elRef:this.handleEl,elTag:t.elTag||"div",elClasses:(t.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var t,n;this.el?(n=(t=this.props).didMount)===null||n===void 0||n.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var t,n;(n=(t=this.props).willUnmount)===null||n===void 0||n.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}return i.contextType=jR,i})();function Lee(i,e){let t=i.props;return A(wp,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:i.context},e))}function kee(i,e){let t=typeof i=="function"?i(e):i||[];return typeof t=="string"?[t]:t}var wo=class extends it{render(){let{props:e,context:t}=this,{options:n}=t,r={view:t.viewApi};return A(Dn,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...UR(e.viewSpec),...e.elClasses||[]],renderProps:r,classNameGenerator:n.viewClassNames,generatorName:void 0,didMount:n.viewDidMount,willUnmount:n.viewWillUnmount}),()=>e.children)}};function UR(i){return[`fc-${i.type}-view`,"fc-view"]}function Vee(i,e){let t=null,n=null;return i.start&&(t=e.createMarker(i.start)),i.end&&(n=e.createMarker(i.end)),!t&&!n||t&&n&&n<t?null:{start:t,end:n}}function $G(i,e){let t=[],{start:n}=e,r,o;for(i.sort(Hee),r=0;r<i.length;r+=1)o=i[r],o.start>n&&t.push({start:n,end:o.start}),o.end>n&&(n=o.end);return n<e.end&&t.push({start:n,end:e.end}),t}function Hee(i,e){return i.start.valueOf()-e.start.valueOf()}function gr(i,e){let{start:t,end:n}=i,r=null;return e.start!==null&&(t===null?t=e.start:t=new Date(Math.max(t.valueOf(),e.start.valueOf()))),e.end!=null&&(n===null?n=e.end:n=new Date(Math.min(n.valueOf(),e.end.valueOf()))),(t===null||n===null||t<n)&&(r={start:t,end:n}),r}function vB(i,e){return(i.start===null?null:i.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(i.end===null?null:i.end.valueOf())===(e.end===null?null:e.end.valueOf())}function hC(i,e){return(i.end===null||e.start===null||i.end>e.start)&&(i.start===null||e.end===null||i.start<e.end)}function jd(i,e){return(i.start===null||e.start!==null&&e.start>=i.start)&&(i.end===null||e.end!==null&&e.end<=i.end)}function Br(i,e){return(i.start===null||e>=i.start)&&(i.end===null||e<i.end)}function Gee(i,e){return e.start!=null&&i<e.start?e.start:e.end!=null&&i>=e.end?new Date(e.end.valueOf()-1):i}function yB(i){let e=Math.floor(cs(i.start,i.end))||1,t=gt(i.start),n=on(t,e);return{start:t,end:n}}function fC(i,e=qe(0)){let t=null,n=null;if(i.end){n=gt(i.end);let r=i.end.valueOf()-n.valueOf();r&&r>=fr(e)&&(n=on(n,1))}return i.start&&(t=gt(i.start),n&&n<=t&&(n=on(t,1))),{start:t,end:n}}function WR(i){let e=fC(i);return cs(e.start,e.end)>1}function rl(i,e,t,n){return n==="year"?qe(t.diffWholeYears(i,e),"year"):n==="month"?qe(t.diffWholeMonths(i,e),"month"):uB(i,e)}function _B(i,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return i}}function CB(i,e){let t=i.initialDate;return t!=null?e.createMarker(t):Ud(i.now,e)}function Ud(i,e){return typeof i=="function"&&(i=i()),i==null?e.createNowMarker():e.createMarker(i)}var Du=class{constructor(e){this.props=e,this.nowDate=Ud(e.nowInput,e.dateEnv),this.initHiddenDays()}buildPrev(e,t,n){let{dateEnv:r}=this.props,o=r.subtract(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(o,-1,n)}buildNext(e,t,n){let{dateEnv:r}=this.props,o=r.add(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(o,1,n)}build(e,t,n=!0){let{props:r}=this,o,s,a,l,u,c;return o=this.buildValidRange(),o=this.trimHiddenDays(o),n&&(e=Gee(e,o)),s=this.buildCurrentRangeInfo(e,t),a=/^(year|month|week|day)$/.test(s.unit),l=this.buildRenderRange(this.trimHiddenDays(s.range),s.unit,a),l=this.trimHiddenDays(l),u=l,r.showNonCurrentDates||(u=gr(u,s.range)),u=this.adjustActiveRange(u),u=gr(u,o),c=hC(s.range,o),Br(l,e)||(e=l.start),{currentDate:e,validRange:o,currentRange:s.range,currentRangeUnit:s.unit,isRangeAllDay:a,activeRange:u,renderRange:l,slotMinTime:r.slotMinTime,slotMaxTime:r.slotMaxTime,isValid:c,dateIncrement:this.buildDateIncrement(s.duration)}}buildValidRange(){let e=this.props.validRangeInput,t=typeof e=="function"?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let{props:n}=this,r=null,o=null,s=null,a;return n.duration?(r=n.duration,o=n.durationUnit,s=this.buildRangeFromDuration(e,t,r,o)):(a=this.props.dayCount)?(o="day",s=this.buildRangeFromDayCount(e,t,a)):(s=this.buildCustomVisibleRange(e))?o=n.dateEnv.greatestWholeUnit(s.start,s.end).unit:(r=this.getFallbackDuration(),o=_p(r).unit,s=this.buildRangeFromDuration(e,t,r,o)),{duration:r,unit:o,range:s}}getFallbackDuration(){return qe({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:n,slotMinTime:r,slotMaxTime:o}=this.props,{start:s,end:a}=e;return n&&(Ld(r)<0&&(s=gt(s),s=t.add(s,r)),Ld(o)>1&&(a=gt(a),a=on(a,-1),a=t.add(a,o))),{start:s,end:a}}buildRangeFromDuration(e,t,n,r){let{dateEnv:o,dateAlignment:s}=this.props,a,l,u;if(!s){let{dateIncrement:d}=this.props;d&&fr(d)<fr(n)?s=_p(d).unit:s=r}Ld(n)<=1&&this.isHiddenDay(a)&&(a=this.skipHiddenDays(a,t),a=gt(a));function c(){a=o.startOf(e,s),l=o.add(a,n),u={start:a,end:l}}return c(),this.trimHiddenDays(u)||(e=this.skipHiddenDays(e,t),c()),u}buildRangeFromDayCount(e,t,n){let{dateEnv:r,dateAlignment:o}=this.props,s=0,a=e,l;o&&(a=r.startOf(a,o)),a=gt(a),a=this.skipHiddenDays(a,t),l=a;do l=on(l,1),this.isHiddenDay(l)||(s+=1);while(s<n);return{start:a,end:l}}buildCustomVisibleRange(e){let{props:t}=this,n=t.visibleRangeInput,r=typeof n=="function"?n.call(t.calendarApi,t.dateEnv.toDate(e)):n,o=this.refineRange(r);return o&&(o.start==null||o.end==null)?null:o}buildRenderRange(e,t,n){return e}buildDateIncrement(e){let{dateIncrement:t}=this.props,n;return t||((n=this.props.dateAlignment)?qe(1,n):e||qe({days:1}))}refineRange(e){if(e){let t=Vee(e,this.props.dateEnv);return t&&(t=fC(t)),t}return null}initHiddenDays(){let e=this.props.hiddenDays||[],t=[],n=0,r;for(this.props.weekends===!1&&e.push(0,6),r=0;r<7;r+=1)(t[r]=e.indexOf(r)!==-1)||(n+=1);if(!n)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(e){let{start:t,end:n}=e;return t&&(t=this.skipHiddenDays(t)),n&&(n=this.skipHiddenDays(n,-1,!0)),t==null||n==null||t<n?{start:t,end:n}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,n=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(n?t:0)+7)%7];)e=on(e,t);return e}};function Bp(i,e,t,n){return{instanceId:na(),defId:i,range:e,forcedStartTzo:t??null,forcedEndTzo:n??null}}function Bee(i,e,t,n){for(let r=0;r<n.length;r+=1){let o=n[r].parse(i,t);if(o){let{allDay:s}=i;return s==null&&(s=e,s==null&&(s=o.allDayGuess,s==null&&(s=!1))),{allDay:s,duration:o.duration,typeData:o.typeData,typeId:r}}}return null}function Tu(i,e,t){let{dateEnv:n,pluginHooks:r,options:o}=t,{defs:s,instances:a}=i;a=Xs(a,l=>!s[l.defId].recurringDef);for(let l in s){let u=s[l];if(u.recurringDef){let{duration:c}=u.recurringDef;c||(c=u.allDay?o.defaultAllDayEventDuration:o.defaultTimedEventDuration);let d=jee(u,c,e,n,r.recurringTypes);for(let h of d){let f=Bp(l,{start:h,end:n.add(h,c)});a[f.instanceId]=f}}}return{defs:s,instances:a}}function jee(i,e,t,n,r){let s=r[i.recurringDef.typeId].expand(i.recurringDef.typeData,{start:n.subtract(t.start,e),end:t.end},n);return i.allDay&&(s=s.map(gt)),s}var Y_={id:String,groupId:String,title:String,url:String,interactive:Boolean},wB={start:L,end:L,date:L,allDay:Boolean},Uee=Object.assign(Object.assign(Object.assign({},Y_),wB),{extendedProps:L});function SB(i,e,t,n,r=zR(t),o,s){let{refined:a,extra:l}=pC(i,t,r),u=zee(e,t),c=Bee(a,u,t.dateEnv,t.pluginHooks.recurringTypes);if(c){let h=Sp(a,l,e?e.sourceId:"",c.allDay,!!c.duration,t,o);return h.recurringDef={typeId:c.typeId,typeData:c.typeData,duration:c.duration},{def:h,instance:null}}let d=Wee(a,u,t,n);if(d){let h=Sp(a,l,e?e.sourceId:"",d.allDay,d.hasEnd,t,o),f=Bp(h.defId,d.range,d.forcedStartTzo,d.forcedEndTzo);return s&&h.publicId&&s[h.publicId]&&(f.instanceId=s[h.publicId]),{def:h,instance:f}}return null}function pC(i,e,t=zR(e)){return uC(i,t)}function zR(i){return Object.assign(Object.assign(Object.assign({},J_),Uee),i.pluginHooks.eventRefiners)}function Sp(i,e,t,n,r,o,s){let a={title:i.title||"",groupId:i.groupId||"",publicId:i.id||"",url:i.url||"",recurringDef:null,defId:(s&&i.id?s[i.id]:"")||na(),sourceId:t,allDay:n,hasEnd:r,interactive:i.interactive,ui:Wd(i,o),extendedProps:Object.assign(Object.assign({},i.extendedProps||{}),e)};for(let l of o.pluginHooks.eventDefMemberAdders)Object.assign(a,l(i));return Object.freeze(a.ui.classNames),Object.freeze(a.extendedProps),a}function Wee(i,e,t,n){let{allDay:r}=i,o,s=null,a=!1,l,u=null,c=i.start!=null?i.start:i.date;if(o=t.dateEnv.createMarkerMeta(c),o)s=o.marker;else if(!n)return null;return i.end!=null&&(l=t.dateEnv.createMarkerMeta(i.end)),r==null&&(e!=null?r=e:r=(!o||o.isTimeUnspecified)&&(!l||l.isTimeUnspecified)),r&&s&&(s=gt(s)),l&&(u=l.marker,r&&(u=gt(u)),s&&u<=s&&(u=null)),u?a=!0:n||(a=t.options.forceEventDuration||!1,u=t.dateEnv.add(s,r?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:r,hasEnd:a,range:{start:s,end:u},forcedStartTzo:o?o.forcedTzo:null,forcedEndTzo:l?l.forcedTzo:null}}function zee(i,e){let t=null;return i&&(t=i.defaultAllDay),t==null&&(t=e.options.defaultAllDay),t}function bp(i,e,t,n,r,o){let s=hi(),a=zR(t);for(let l of i){let u=SB(l,e,t,n,a,r,o);u&&Ep(u,s)}return s}function Ep(i,e=hi()){return e.defs[i.def.defId]=i.def,i.instance&&(e.instances[i.instance.instanceId]=i.instance),e}function jp(i,e){let t=i.instances[e];if(t){let n=i.defs[t.defId],r=mC(i,o=>$ee(n,o));return r.defs[n.defId]=n,r.instances[t.instanceId]=t,r}return hi()}function $ee(i,e){return!!(i.groupId&&i.groupId===e.groupId)}function hi(){return{defs:{},instances:{}}}function gC(i,e){return{defs:Object.assign(Object.assign({},i.defs),e.defs),instances:Object.assign(Object.assign({},i.instances),e.instances)}}function mC(i,e){let t=Xs(i.defs,e),n=Xs(i.instances,r=>t[r.defId]);return{defs:t,instances:n}}function qee(i,e){let{defs:t,instances:n}=i,r={},o={};for(let s in t)e.defs[s]||(r[s]=t[s]);for(let s in n)!e.instances[s]&&r[n[s].defId]&&(o[s]=n[s]);return{defs:r,instances:o}}function Yee(i,e){return Array.isArray(i)?bp(i,null,e,!0):typeof i=="object"&&i?bp([i],null,e,!0):i!=null?String(i):null}function vR(i){return Array.isArray(i)?i:typeof i=="string"?i.split(/\s+/):[]}var J_={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:L,overlap:L,allow:L,className:vR,classNames:vR,color:String,backgroundColor:String,borderColor:String,textColor:String},Kee={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Wd(i,e){let t=Yee(i.constraint,e);return{display:i.display||null,startEditable:i.startEditable!=null?i.startEditable:i.editable,durationEditable:i.durationEditable!=null?i.durationEditable:i.editable,constraints:t!=null?[t]:[],overlap:i.overlap!=null?i.overlap:null,allows:i.allow!=null?[i.allow]:[],backgroundColor:i.backgroundColor||i.color||"",borderColor:i.borderColor||i.color||"",textColor:i.textColor||"",classNames:(i.className||[]).concat(i.classNames||[])}}function $R(i){return i.reduce(Qee,Kee)}function Qee(i,e){return{display:e.display!=null?e.display:i.display,startEditable:e.startEditable!=null?e.startEditable:i.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:i.durationEditable,constraints:i.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:i.overlap,allows:i.allows.concat(e.allows),backgroundColor:e.backgroundColor||i.backgroundColor,borderColor:e.borderColor||i.borderColor,textColor:e.textColor||i.textColor,classNames:i.classNames.concat(e.classNames)}}var Zee={id:String,defaultAllDay:Boolean,url:String,format:String,events:L,eventDataTransform:L,success:L,failure:L};function qR(i,e,t=YR(e)){let n;if(typeof i=="string"?n={url:i}:typeof i=="function"||Array.isArray(i)?n={events:i}:typeof i=="object"&&i&&(n=i),n){let{refined:r,extra:o}=uC(n,t),s=Xee(r,e);if(s)return{_raw:i,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:r.defaultAllDay,eventDataTransform:r.eventDataTransform,success:r.success,failure:r.failure,publicId:r.id||"",sourceId:na(),sourceDefId:s.sourceDefId,meta:s.meta,ui:Wd(r,e),extendedProps:o}}return null}function YR(i){return Object.assign(Object.assign(Object.assign({},J_),Zee),i.pluginHooks.eventSourceRefiners)}function Xee(i,e){let t=e.pluginHooks.eventSourceDefs;for(let n=t.length-1;n>=0;n-=1){let o=t[n].parseMeta(i);if(o)return{sourceDefId:n,meta:o}}return null}function bB(i,e,t,n,r){switch(e.type){case"RECEIVE_EVENTS":return Jee(i,t[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,r);case"RESET_RAW_EVENTS":return ete(i,t[e.sourceId],e.rawEvents,n.activeRange,r);case"ADD_EVENTS":return tte(i,e.eventStore,n?n.activeRange:null,r);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return gC(i,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?Tu(i,n.activeRange,r):i;case"REMOVE_EVENTS":return qee(i,e.eventStore);case"REMOVE_EVENT_SOURCE":return DB(i,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return mC(i,o=>!o.sourceId);case"REMOVE_ALL_EVENTS":return hi();default:return i}}function Jee(i,e,t,n,r,o){if(e&&t===e.latestFetchId){let s=bp(EB(r,e,o),e,o);return n&&(s=Tu(s,n,o)),gC(DB(i,e.sourceId),s)}return i}function ete(i,e,t,n,r){let{defIdMap:o,instanceIdMap:s}=ite(i),a=bp(EB(t,e,r),e,r,!1,o,s);return Tu(a,n,r)}function EB(i,e,t){let n=t.options.eventDataTransform,r=e?e.eventDataTransform:null;return r&&(i=qG(i,r)),n&&(i=qG(i,n)),i}function qG(i,e){let t;if(!e)t=i;else{t=[];for(let n of i){let r=e(n);r?t.push(r):r==null&&t.push(n)}}return t}function tte(i,e,t,n){return t&&(e=Tu(e,t,n)),gC(i,e)}function KR(i,e,t){let{defs:n}=i,r=jr(i.instances,o=>n[o.defId].allDay?o:Object.assign(Object.assign({},o),{range:{start:t.createMarker(e.toDate(o.range.start,o.forcedStartTzo)),end:t.createMarker(e.toDate(o.range.end,o.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:o.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:o.forcedEndTzo}));return{defs:n,instances:r}}function DB(i,e){return mC(i,t=>t.sourceId!==e)}function nte(i,e){return{defs:i.defs,instances:Xs(i.instances,t=>!e[t.instanceId])}}function ite(i){let{defs:e,instances:t}=i,n={},r={};for(let o in e){let s=e[o],{publicId:a}=s;a&&(n[a]=o)}for(let o in t){let s=t[o],a=e[s.defId],{publicId:l}=a;l&&(r[l]=o)}return{defIdMap:n,instanceIdMap:r}}var ea=class{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){rte(this.handlers,e,t)}off(e,t){ote(this.handlers,e,t)}trigger(e,...t){let n=this.handlers[e]||[],r=this.options&&this.options[e],o=[].concat(r||[],n);for(let s of o)s.apply(this.thisContext,t)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}};function rte(i,e,t){(i[e]||(i[e]=[])).push(t)}function ote(i,e,t){t?i[e]&&(i[e]=i[e].filter(n=>n!==t)):delete i[e]}var ste={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function QR(i,e){return bp(ate(i),null,e)}function ate(i){let e;return i===!0?e=[{}]:Array.isArray(i)?e=i.filter(t=>t.daysOfWeek):typeof i=="object"&&i?e=[i]:e=[],e=e.map(t=>Object.assign(Object.assign({},ste),t)),e}function vC(i,e,t){t.emitter.trigger("select",Object.assign(Object.assign({},ZR(i,t)),{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function lte(i,e){e.emitter.trigger("unselect",{jsEvent:i?i.origEvent:null,view:e.viewApi||e.calendarApi.view})}function ZR(i,e){let t={};for(let n of e.pluginHooks.dateSpanTransforms)Object.assign(t,n(i,e));return Object.assign(t,Cte(i,e.dateEnv)),t}function eC(i,e,t){let{dateEnv:n,options:r}=t,o=e;return i?(o=gt(o),o=n.add(o,r.defaultAllDayEventDuration)):o=n.add(o,r.defaultTimedEventDuration),o}function Up(i,e,t,n){let r=tC(i.defs,e),o=hi();for(let s in i.defs){let a=i.defs[s];o.defs[s]=ute(a,r[s],t,n)}for(let s in i.instances){let a=i.instances[s],l=o.defs[a.defId];o.instances[s]=cte(a,l,r[a.defId],t,n)}return o}function ute(i,e,t,n){let r=t.standardProps||{};r.hasEnd==null&&e.durationEditable&&(t.startDelta||t.endDelta)&&(r.hasEnd=!0);let o=Object.assign(Object.assign(Object.assign({},i),r),{ui:Object.assign(Object.assign({},i.ui),r.ui)});t.extendedProps&&(o.extendedProps=Object.assign(Object.assign({},o.extendedProps),t.extendedProps));for(let s of n.pluginHooks.eventDefMutationAppliers)s(o,t,n);return!o.hasEnd&&n.options.forceEventDuration&&(o.hasEnd=!0),o}function cte(i,e,t,n,r){let{dateEnv:o}=r,s=n.standardProps&&n.standardProps.allDay===!0,a=n.standardProps&&n.standardProps.hasEnd===!1,l=Object.assign({},i);return s&&(l.range=yB(l.range)),n.datesDelta&&t.startEditable&&(l.range={start:o.add(l.range.start,n.datesDelta),end:o.add(l.range.end,n.datesDelta)}),n.startDelta&&t.durationEditable&&(l.range={start:o.add(l.range.start,n.startDelta),end:l.range.end}),n.endDelta&&t.durationEditable&&(l.range={start:l.range.start,end:o.add(l.range.end,n.endDelta)}),a&&(l.range={start:l.range.start,end:eC(e.allDay,l.range.start,r)}),e.allDay&&(l.range={start:gt(l.range.start),end:gt(l.range.end)}),l.range.end<l.range.start&&(l.range.end=eC(e.allDay,l.range.start,r)),l}var tl=class{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}},Nt=class i{constructor(e,t,n){this._context=e,this._def=t,this._instance=n||null}setProp(e,t){if(e in wB)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")t=Y_[e](t),this.mutate({standardProps:{publicId:t}});else if(e in Y_)t=Y_[e](t),this.mutate({standardProps:{[e]:t}});else if(e in J_){let n=J_[e](t);e==="color"?n={backgroundColor:t,borderColor:t}:e==="editable"?n={startEditable:t,durationEditable:t}:n={[e]:t},this.mutate({standardProps:{ui:n}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:n}=this._context,r=n.createMarker(e);if(r&&this._instance){let o=this._instance.range,s=rl(o.start,r,n,t.granularity);t.maintainDuration?this.mutate({datesDelta:s}):this.mutate({startDelta:s})}}setEnd(e,t={}){let{dateEnv:n}=this._context,r;if(!(e!=null&&(r=n.createMarker(e),!r))&&this._instance)if(r){let o=rl(this._instance.range.end,r,n,t.granularity);this.mutate({endDelta:o})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,n={}){let{dateEnv:r}=this._context,o={allDay:n.allDay},s=r.createMarker(e),a;if(s&&!(t!=null&&(a=r.createMarker(t),!a))&&this._instance){let l=this._instance.range;n.allDay===!0&&(l=yB(l));let u=rl(l.start,s,r,n.granularity);if(a){let c=rl(l.end,a,r,n.granularity);iee(u,c)?this.mutate({datesDelta:u,standardProps:o}):this.mutate({startDelta:u,endDelta:c,standardProps:o})}else o.hasEnd=!1,this.mutate({datesDelta:u,standardProps:o})}}moveStart(e){let t=qe(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=qe(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=qe(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let n={allDay:e},{maintainDuration:r}=t;r==null&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(n.hasEnd=r),this.mutate({standardProps:n})}formatRange(e){let{dateEnv:t}=this._context,n=this._instance,r=Ct(e);return this._def.hasEnd?t.formatRange(n.range.start,n.range.end,r,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):t.format(n.range.start,r,{forcedTzo:n.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let n=this._def,r=this._context,{eventStore:o}=r.getCurrentData(),s=jp(o,t.instanceId);s=Up(s,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,r);let l=new i(r,n,t);this._def=s.defs[n.defId],this._instance=s.instances[t.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:s}),r.emitter.trigger("eventChange",{oldEvent:l,event:this,relatedEvents:ds(s,r,t),revert(){r.dispatch({type:"RESET_EVENTS",eventStore:o})}})}}remove(){let e=this._context,t=TB(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new tl(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:n}=t,{startStr:r,endStr:o}=this,s={allDay:t.allDay};return t.title&&(s.title=t.title),r&&(s.start=r),o&&(s.end=o),t.publicId&&(s.id=t.publicId),t.groupId&&(s.groupId=t.groupId),t.url&&(s.url=t.url),n.display&&n.display!=="auto"&&(s.display=n.display),e.collapseColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?s.color=n.backgroundColor:(n.backgroundColor&&(s.backgroundColor=n.backgroundColor),n.borderColor&&(s.borderColor=n.borderColor)),n.textColor&&(s.textColor=n.textColor),n.classNames.length&&(s.classNames=n.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(s,t.extendedProps):s.extendedProps=t.extendedProps),s}toJSON(){return this.toPlainObject()}};function TB(i){let e=i._def,t=i._instance;return{defs:{[e.defId]:e},instances:t?{[t.instanceId]:t}:{}}}function ds(i,e,t){let{defs:n,instances:r}=i,o=[],s=t?t.instanceId:"";for(let a in r){let l=r[a],u=n[l.defId];l.instanceId!==s&&o.push(new Nt(e,u,l))}return o}function Vd(i,e,t,n){let r={},o={},s={},a=[],l=[],u=tC(i.defs,e);for(let c in i.defs){let d=i.defs[c];u[d.defId].display==="inverse-background"&&(d.groupId?(r[d.groupId]=[],s[d.groupId]||(s[d.groupId]=d)):o[c]=[])}for(let c in i.instances){let d=i.instances[c],h=i.defs[d.defId],f=u[h.defId],p=d.range,g=!h.allDay&&n?fC(p,n):p,m=gr(g,t);m&&(f.display==="inverse-background"?h.groupId?r[h.groupId].push(m):o[d.defId].push(m):f.display!=="none"&&(f.display==="background"?a:l).push({def:h,ui:f,instance:d,range:m,isStart:g.start&&g.start.valueOf()===m.start.valueOf(),isEnd:g.end&&g.end.valueOf()===m.end.valueOf()}))}for(let c in r){let d=r[c],h=$G(d,t);for(let f of h){let p=s[c],g=u[p.defId];a.push({def:p,ui:g,instance:null,range:f,isStart:!1,isEnd:!1})}}for(let c in o){let d=o[c],h=$G(d,t);for(let f of h)a.push({def:i.defs[c],ui:u[c],instance:null,range:f,isStart:!1,isEnd:!1})}return{bg:a,fg:l}}function XR(i){return i.ui.display==="background"||i.ui.display==="inverse-background"}function YG(i,e){i.fcSeg=e}function ia(i){return i.fcSeg||i.parentNode.fcSeg||null}function tC(i,e){return jr(i,t=>RB(t,e))}function RB(i,e){let t=[];return e[""]&&t.push(e[""]),e[i.defId]&&t.push(e[i.defId]),t.push(i.ui),$R(t)}function ku(i,e){let t=i.map(dte);return t.sort((n,r)=>sB(n,r,e)),t.map(n=>n._seg)}function dte(i){let{eventRange:e}=i,t=e.def,n=e.instance?e.instance.range:e.range,r=n.start?n.start.valueOf():0,o=n.end?n.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:r,end:o,duration:o-r,allDay:Number(t.allDay),_seg:i})}function hte(i,e){let{pluginHooks:t}=e,n=t.isDraggableTransformers,{def:r,ui:o}=i.eventRange,s=o.startEditable;for(let a of n)s=a(s,r,o,e);return s}function fte(i,e){return i.isStart&&i.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function pte(i,e){return i.isEnd&&i.eventRange.ui.durationEditable}function dl(i,e,t,n,r,o,s){let{dateEnv:a,options:l}=t,{displayEventTime:u,displayEventEnd:c}=l,d=i.eventRange.def,h=i.eventRange.instance;u==null&&(u=n!==!1),c==null&&(c=r!==!1);let f=h.range.start,p=h.range.end,g=o||i.start||i.eventRange.range.start,m=s||i.end||i.eventRange.range.end,v=gt(f).valueOf()===gt(g).valueOf(),y=gt(as(p,-1)).valueOf()===gt(as(m,-1)).valueOf();return u&&!d.allDay&&(v||y)?(g=v?f:g,m=y?p:m,c&&d.hasEnd?a.formatRange(g,m,e,{forcedStartTzo:o?null:h.forcedStartTzo,forcedEndTzo:s?null:h.forcedEndTzo}):a.format(g,e,{forcedTzo:o?null:h.forcedStartTzo})):""}function mr(i,e,t){let n=i.eventRange.range;return{isPast:n.end<(t||e.start),isFuture:n.start>=(t||e.end),isToday:e&&Br(e,n.start)}}function gte(i){let e=["fc-event"];return i.isMirror&&e.push("fc-event-mirror"),i.isDraggable&&e.push("fc-event-draggable"),(i.isStartResizable||i.isEndResizable)&&e.push("fc-event-resizable"),i.isDragging&&e.push("fc-event-dragging"),i.isResizing&&e.push("fc-event-resizing"),i.isSelected&&e.push("fc-event-selected"),i.isStart&&e.push("fc-event-start"),i.isEnd&&e.push("fc-event-end"),i.isPast&&e.push("fc-event-past"),i.isToday&&e.push("fc-event-today"),i.isFuture&&e.push("fc-event-future"),e}function Wp(i){return i.instance?i.instance.instanceId:`${i.def.defId}:${i.range.start.toISOString()}`}function zd(i,e){let{def:t,instance:n}=i.eventRange,{url:r}=t;if(r)return{href:r};let{emitter:o,options:s}=e,{eventInteractive:a}=s;return a==null&&(a=t.interactive,a==null&&(a=!!o.hasHandlers("eventClick"))),a?rB(l=>{o.trigger("eventClick",{el:l.target,event:new Nt(e,t,n),jsEvent:l,view:e.viewApi})}):{}}var mte={start:L,end:L,allDay:Boolean};function vte(i,e,t){let n=yte(i,e),{range:r}=n;if(!r.start)return null;if(!r.end){if(t==null)return null;r.end=e.add(r.start,t)}return n}function yte(i,e){let{refined:t,extra:n}=uC(i,mte),r=t.start?e.createMarkerMeta(t.start):null,o=t.end?e.createMarkerMeta(t.end):null,{allDay:s}=t;return s==null&&(s=r&&r.isTimeUnspecified&&(!o||o.isTimeUnspecified)),Object.assign({range:{start:r?r.marker:null,end:o?o.marker:null},allDay:s},n)}function JR(i,e){return vB(i.range,e.range)&&i.allDay===e.allDay&&_te(i,e)}function _te(i,e){for(let t in e)if(t!=="range"&&t!=="allDay"&&i[t]!==e[t])return!1;for(let t in i)if(!(t in e))return!1;return!0}function Cte(i,e){return Object.assign(Object.assign({},AB(i.range,e,i.allDay)),{allDay:i.allDay})}function eA(i,e,t){return Object.assign(Object.assign({},AB(i,e,t)),{timeZone:e.timeZone})}function AB(i,e,t){return{start:e.toDate(i.start),end:e.toDate(i.end),startStr:e.formatIso(i.start,{omitTime:t}),endStr:e.formatIso(i.end,{omitTime:t})}}function wte(i,e,t){let n=pC({editable:!1},t),r=Sp(n.refined,n.extra,"",i.allDay,!0,t);return{def:r,ui:RB(r,e),instance:Bp(r.defId,i.range),range:i.range,isStart:!0,isEnd:!0}}function tA(i,e,t){let n=!1,r=function(a){n||(n=!0,e(a))},o=function(a){n||(n=!0,t(a))},s=i(r,o);s&&typeof s.then=="function"&&s.then(r,o)}var nC=class extends Error{constructor(e,t){super(e),this.response=t}};function nA(i,e,t){i=i.toUpperCase();let n={method:i};return i==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(t):(n.body=new URLSearchParams(t),n.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,n).then(r=>{if(r.ok)return r.json().then(o=>[o,r],()=>{throw new nC("Failure parsing JSON",r)});throw new nC("Request failed",r)})}var nR;function iA(){return nR==null&&(nR=Ste()),nR}function Ste(){if(typeof document>"u")return!0;let i=document.createElement("div");i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.innerHTML="<table><tr><td><div></div></td></tr></table>",i.querySelector("table").style.height="100px",i.querySelector("div").style.height="100%",document.body.appendChild(i);let t=i.querySelector("div").offsetHeight>0;return document.body.removeChild(i),t}var Dp=class extends it{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{this.setState({forPrint:!0})},this.handleAfterPrint=()=>{this.setState({forPrint:!1})}}render(){let{props:e}=this,{options:t}=e,{forPrint:n}=this.state,r=n||t.height==="auto"||t.contentHeight==="auto",o=!r&&t.height!=null?t.height:"",s=["fc",n?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return iA()||s.push("fc-liquid-hack"),e.children(s,o,r,n)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}},So=class{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}};function OB(i,e){return{component:i,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function zp(i){return{[i.component.uid]:i}}var $d={},Tp=class{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:n}=this;n.currentCalendarOptionsRefiners[e]?n.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:n}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:n.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,t){let n=this.getCurrentData(),r;t=t||"day",r=n.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),r?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:r.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:t,toolbarConfig:n}=this.getCurrentData(),r=[].concat(n.header?n.header.viewsWithButtons:[],n.footer?n.footer.viewsWithButtons:[]),o,s;for(let a in t)r.push(a);for(o=0;o<r.length;o+=1)if(s=t[r[o]],s&&s.singleUnit===e)return s;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:Ud(e.calendarOptions.now,e.dateEnv)})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),n=qe(e);n&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,n)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:n}=this.getCurrentData();return n.format(n.createMarker(e),Ct(t))}formatRange(e,t,n){let{dateEnv:r}=this.getCurrentData();return r.formatRange(r.createMarker(e),r.createMarker(t),Ct(n),n)}formatIso(e,t){let{dateEnv:n}=this.getCurrentData();return n.formatIso(n.createMarker(e),{omitTime:t})}select(e,t){let n;t==null?e.start!=null?n=e:n={start:e,end:null}:n={start:e,end:t};let r=this.getCurrentData(),o=vte(n,r.dateEnv,qe({days:1}));o&&(this.dispatch({type:"SELECT_DATES",selection:o}),vC(o,null,r))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),lte(e,t))}addEvent(e,t){if(e instanceof Nt){let s=e._def,a=e._instance;return this.getCurrentData().eventStore.defs[s.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Ep({def:s,instance:a})}),this.triggerEventAdd(e)),e}let n=this.getCurrentData(),r;if(t instanceof tl)r=t.internalEventSource;else if(typeof t=="boolean")t&&([r]=dC(n.eventSources));else if(t!=null){let s=this.getEventSourceById(t);if(!s)return console.warn(`Could not find an event source with ID "${t}"`),null;r=s.internalEventSource}let o=SB(e,r,n,!1);if(o){let s=new Nt(n,o.def,o.def.recurringDef?null:o.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Ep(o)}),this.triggerEventAdd(s),s}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:TB(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:n,instances:r}=t.eventStore;e=String(e);for(let o in n){let s=n[o];if(s.publicId===e){if(s.recurringDef)return new Nt(t,s,null);for(let a in r){let l=r[a];if(l.defId===s.defId)return new Nt(t,s,l)}}}return null}getEvents(){let e=this.getCurrentData();return ds(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,n=[];for(let r in t)n.push(new tl(e,t[r]));return n}getEventSourceById(e){let t=this.getCurrentData(),n=t.eventSources;e=String(e);for(let r in n)if(n[r].publicId===e)return new tl(t,n[r]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof tl)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let n=qR(e,t);return n?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[n]}),new tl(t,n)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=qe(e);t&&this.trigger("_scrollRequest",{time:t})}};function rA(i,e){return i.left>=e.left&&i.left<e.right&&i.top>=e.top&&i.top<e.bottom}function yC(i,e){let t={left:Math.max(i.left,e.left),right:Math.min(i.right,e.right),top:Math.max(i.top,e.top),bottom:Math.min(i.bottom,e.bottom)};return t.left<t.right&&t.top<t.bottom?t:!1}function oA(i,e){return{left:Math.min(Math.max(i.left,e.left),e.right),top:Math.min(Math.max(i.top,e.top),e.bottom)}}function sA(i){return{left:(i.left+i.right)/2,top:(i.top+i.bottom)/2}}function aA(i,e){return{left:i.left-e.left,top:i.top-e.top}}var iR=hi(),Rp=class{constructor(){this.getKeysForEventDefs=ge(this._getKeysForEventDefs),this.splitDateSelection=ge(this._splitDateSpan),this.splitEventStore=ge(this._splitEventStore),this.splitIndividualUi=ge(this._splitIndividualUi),this.splitEventDrag=ge(this._splitInteraction),this.splitEventResize=ge(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let t=this.getKeyInfo(e),n=this.getKeysForEventDefs(e.eventStore),r=this.splitDateSelection(e.dateSelection),o=this.splitIndividualUi(e.eventUiBases,n),s=this.splitEventStore(e.eventStore,n),a=this.splitEventDrag(e.eventDrag),l=this.splitEventResize(e.eventResize),u={};this.eventUiBuilders=jr(t,(c,d)=>this.eventUiBuilders[d]||ge(bte));for(let c in t){let d=t[c],h=s[c]||iR,f=this.eventUiBuilders[c];u[c]={businessHours:d.businessHours||e.businessHours,dateSelection:r[c]||null,eventStore:h,eventUiBases:f(e.eventUiBases[""],d.ui,o[c]),eventSelection:h.instances[e.eventSelection]?e.eventSelection:"",eventDrag:a[c]||null,eventResize:l[c]||null}}return u}_splitDateSpan(e){let t={};if(e){let n=this.getKeysForDateSpan(e);for(let r of n)t[r]=e}return t}_getKeysForEventDefs(e){return jr(e.defs,t=>this.getKeysForEventDef(t))}_splitEventStore(e,t){let{defs:n,instances:r}=e,o={};for(let s in n)for(let a of t[s])o[a]||(o[a]=hi()),o[a].defs[s]=n[s];for(let s in r){let a=r[s];for(let l of t[a.defId])o[l]&&(o[l].instances[s]=a)}return o}_splitIndividualUi(e,t){let n={};for(let r in e)if(r)for(let o of t[r])n[o]||(n[o]={}),n[o][r]=e[r];return n}_splitInteraction(e){let t={};if(e){let n=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),r=this._getKeysForEventDefs(e.mutatedEvents),o=this._splitEventStore(e.mutatedEvents,r),s=a=>{t[a]||(t[a]={affectedEvents:n[a]||iR,mutatedEvents:o[a]||iR,isEvent:e.isEvent})};for(let a in n)s(a);for(let a in o)s(a)}return t}};function bte(i,e,t){let n=[];i&&n.push(i),e&&n.push(e);let r={"":$R(n)};return t&&Object.assign(r,t),r}function $p(i,e,t,n){return{dow:i.getUTCDay(),isDisabled:!!(n&&!Br(n.activeRange,i)),isOther:!!(n&&!Br(n.currentRange,i)),isToday:!!(e&&Br(e,i)),isPast:!!(t?i<t:e&&i<e.start),isFuture:!!(t?i>t:e&&i>=e.end)}}function qd(i,e){let t=["fc-day",`fc-day-${see[i.dow]}`];return i.isDisabled?t.push("fc-day-disabled"):(i.isToday&&(t.push("fc-day-today"),t.push(e.getClass("today"))),i.isPast&&t.push("fc-day-past"),i.isFuture&&t.push("fc-day-future"),i.isOther&&t.push("fc-day-other")),t}var Ete=Ct({year:"numeric",month:"long",day:"numeric"}),Dte=Ct({week:"long"});function hs(i,e,t="day",n=!0){let{dateEnv:r,options:o,calendarApi:s}=i,a=r.format(e,t==="week"?Dte:Ete);if(o.navLinks){let l=r.toDate(e),u=c=>{let d=t==="day"?o.navLinkDayClick:t==="week"?o.navLinkWeekClick:null;typeof d=="function"?d.call(s,r.toDate(e),c):(typeof d=="string"&&(t=d),s.zoomTo(e,t))};return Object.assign({title:Gd(o.navLinkHint,[a,l],a),"data-navlink":""},n?iB(u):{onClick:u})}return{"aria-label":a}}var rR=null;function xB(){return rR===null&&(rR=Tte()),rR}function Tte(){let i=document.createElement("div");Lu(i,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),i.innerHTML="<div></div>",document.body.appendChild(i);let t=i.firstChild.getBoundingClientRect().left>i.getBoundingClientRect().left;return Fp(i),t}var oR;function MB(){return oR||(oR=Rte()),oR}function Rte(){let i=document.createElement("div");i.style.overflow="scroll",i.style.position="absolute",i.style.top="-9999px",i.style.left="-9999px",document.body.appendChild(i);let e=IB(i);return document.body.removeChild(i),e}function IB(i){return{x:i.offsetHeight-i.clientHeight,y:i.offsetWidth-i.clientWidth}}function PB(i,e=!1){let t=window.getComputedStyle(i),n=parseInt(t.borderLeftWidth,10)||0,r=parseInt(t.borderRightWidth,10)||0,o=parseInt(t.borderTopWidth,10)||0,s=parseInt(t.borderBottomWidth,10)||0,a=IB(i),l=a.y-n-r,u=a.x-o-s,c={borderLeft:n,borderRight:r,borderTop:o,borderBottom:s,scrollbarBottom:u,scrollbarLeft:0,scrollbarRight:0};return xB()&&t.direction==="rtl"?c.scrollbarLeft=l:c.scrollbarRight=l,e&&(c.paddingLeft=parseInt(t.paddingLeft,10)||0,c.paddingRight=parseInt(t.paddingRight,10)||0,c.paddingTop=parseInt(t.paddingTop,10)||0,c.paddingBottom=parseInt(t.paddingBottom,10)||0),c}function lA(i,e=!1,t){let n=t?i.getBoundingClientRect():qp(i),r=PB(i,e),o={left:n.left+r.borderLeft+r.scrollbarLeft,right:n.right-r.borderRight-r.scrollbarRight,top:n.top+r.borderTop,bottom:n.bottom-r.borderBottom-r.scrollbarBottom};return e&&(o.left+=r.paddingLeft,o.right-=r.paddingRight,o.top+=r.paddingTop,o.bottom-=r.paddingBottom),o}function qp(i){let e=i.getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,right:e.right+window.pageXOffset,bottom:e.bottom+window.pageYOffset}}function Ate(i){let e=_C(i),t=i.getBoundingClientRect();for(let n of e){let r=yC(t,n.getBoundingClientRect());if(r)t=r;else return null}return t}function _C(i){let e=[];for(;i instanceof HTMLElement;){let t=window.getComputedStyle(i);if(t.position==="fixed")break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&e.push(i),i=i.parentNode}return e}var bo=class{constructor(e,t,n,r){this.els=t;let o=this.originClientRect=e.getBoundingClientRect();n&&this.buildElHorizontals(o.left),r&&this.buildElVerticals(o.top)}buildElHorizontals(e){let t=[],n=[];for(let r of this.els){let o=r.getBoundingClientRect();t.push(o.left-e),n.push(o.right-e)}this.lefts=t,this.rights=n}buildElVerticals(e){let t=[],n=[];for(let r of this.els){let o=r.getBoundingClientRect();t.push(o.top-e),n.push(o.bottom-e)}this.tops=t,this.bottoms=n}leftToIndex(e){let{lefts:t,rights:n}=this,r=t.length,o;for(o=0;o<r;o+=1)if(e>=t[o]&&e<n[o])return o}topToIndex(e){let{tops:t,bottoms:n}=this,r=t.length,o;for(o=0;o<r;o+=1)if(e>=t[o]&&e<n[o])return o}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return W_(this.tops||[],e.tops||[])&&W_(this.bottoms||[],e.bottoms||[])&&W_(this.lefts||[],e.lefts||[])&&W_(this.rights||[],e.rights||[])}};function W_(i,e){let t=i.length;if(t!==e.length)return!1;for(let n=0;n<t;n++)if(Math.round(i[n])!==Math.round(e[n]))return!1;return!0}var Ru=class{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}},Ap=class extends Ru{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}},Op=class extends Ru{getScrollTop(){return window.pageYOffset}getScrollLeft(){return window.pageXOffset}setScrollTop(e){window.scroll(window.pageXOffset,e)}setScrollLeft(e){window.scroll(e,window.pageYOffset)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}},Jn=class extends it{constructor(){super(...arguments),this.uid=na()}prepareHits(){}queryHit(e,t,n,r){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!En(e,".fc-event-mirror")}isValidDateDownEl(e){return!En(e,".fc-event:not(.fc-bg-event)")&&!En(e,".fc-more-link")&&!En(e,"a[data-navlink]")&&!En(e,".fc-popover")}};var Au=class{constructor(e=t=>t.thickness){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let n of e)this.insertEntry(n,t);return t}insertEntry(e,t){let n=this.findInsertion(e);return this.isInsertionValid(n,e)?(this.insertEntryAt(e,n),1):this.handleInvalidInsertion(n,e,t)}isInsertionValid(e,t){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,n){return this.allowReslicing&&e.touchingEntry?this.splitEntry(t,e.touchingEntry,n):(n.push(t),0)}splitEntry(e,t,n){let r=0,o=[],s=e.span,a=t.span;return s.start<a.start&&(r+=this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.start,end:a.start}},o)),s.end>a.end&&(r+=this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.end,end:s.end}},o)),r?(n.push({index:e.index,thickness:e.thickness,span:Yp(a,s)},...o),r):(n.push(e),0)}insertEntryAt(e,t){let{entriesByLevel:n,levelCoords:r}=this;t.lateral===-1?(sR(r,t.level,t.levelCoord),sR(n,t.level,[e])):sR(n[t.level],t.lateral,e),this.stackCnts[ls(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:n,strictOrder:r,stackCnts:o}=this,s=t.length,a=0,l=-1,u=-1,c=null,d=0;for(let p=0;p<s;p+=1){let g=t[p];if(!r&&g>=a+this.getEntryThickness(e))break;let m=n[p],v,y=Mp(m,e.span.start,xp),C=y[0]+y[1];for(;(v=m[C])&&v.span.start<e.span.end;){let S=g+this.getEntryThickness(v);S>a&&(a=S,c=v,l=p,u=C),S===a&&(d=Math.max(d,o[ls(v)]+1)),C+=1}}let h=0;if(c)for(h=l+1;h<s&&t[h]<a;)h+=1;let f=-1;return h<s&&t[h]===a&&(f=Mp(n[h],e.span.end,xp)[0]),{touchingLevel:l,touchingLateral:u,touchingEntry:c,stackCnt:d,levelCoord:a,level:h,lateral:f}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,n=e.length,r=[];for(let o=0;o<n;o+=1){let s=e[o],a=t[o];for(let l of s)r.push(Object.assign(Object.assign({},l),{thickness:this.getEntryThickness(l),levelCoord:a}))}return r}};function xp(i){return i.span.end}function ls(i){return i.index+":"+i.span.start}function uA(i){let e=[];for(let t of i){let n=[],r={span:t.span,entries:[t]};for(let o of e)Yp(o.span,r.span)?r={entries:o.entries.concat(r.entries),span:Ote(o.span,r.span)}:n.push(o);n.push(r),e=n}return e}function Ote(i,e){return{start:Math.min(i.start,e.start),end:Math.max(i.end,e.end)}}function Yp(i,e){let t=Math.max(i.start,e.start),n=Math.min(i.end,e.end);return t<n?{start:t,end:n}:null}function sR(i,e,t){i.splice(e,0,t)}function Mp(i,e,t){let n=0,r=i.length;if(!r||e<t(i[n]))return[0,0];if(e>t(i[r-1]))return[r,0];for(;n<r;){let o=Math.floor(n+(r-n)/2),s=t(i[o]);if(e<s)r=o;else if(e>s)n=o+1;else return[o,1]}return[n,0]}var Ip=class{constructor(e,t){this.emitter=new ea}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}},Kp={};function FB(i,e){return!i||e>10?Ct({weekday:"short"}):e>1?Ct({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):Ct({weekday:"long"})}var NB="fc-col-header-cell";function LB(i){return i.text}var iC=class extends it{render(){let{dateEnv:e,options:t,theme:n,viewApi:r}=this.context,{props:o}=this,{date:s,dateProfile:a}=o,l=$p(s,o.todayRange,null,a),u=[NB].concat(qd(l,n)),c=e.format(s,o.dayHeaderFormat),d=!l.isDisabled&&o.colCnt>1?hs(this.context,s):{},h=Object.assign(Object.assign(Object.assign({date:e.toDate(s),view:r},o.extraRenderProps),{text:c}),l);return A(Dn,{elTag:"th",elClasses:u,elAttrs:Object.assign({role:"columnheader",colSpan:o.colSpan,"data-date":l.isDisabled?void 0:ll(s)},o.extraDataAttrs),renderProps:h,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:LB,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},f=>A("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&A(f,{elTag:"a",elAttrs:d,elClasses:["fc-col-header-cell-cushion",o.isSticky&&"fc-sticky"]})))}},xte=Ct({weekday:"long"}),rC=class extends it{render(){let{props:e}=this,{dateEnv:t,theme:n,viewApi:r,options:o}=this.context,s=on(new Date(2592e5),e.dow),a={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=t.format(s,e.dayHeaderFormat),u=Object.assign(Object.assign(Object.assign(Object.assign({date:s},a),{view:r}),e.extraRenderProps),{text:l});return A(Dn,{elTag:"th",elClasses:[NB,...qd(a,n),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:u,generatorName:"dayHeaderContent",customGenerator:o.dayHeaderContent,defaultGenerator:LB,classNameGenerator:o.dayHeaderClassNames,didMount:o.dayHeaderDidMount,willUnmount:o.dayHeaderWillUnmount},c=>A("div",{className:"fc-scrollgrid-sync-inner"},A(c,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(s,xte)}})))}},ra=(()=>{class i extends Xn{constructor(t,n){super(t,n),this.initialNowDate=Ud(n.options.now,n.dateEnv),this.initialNowQueriedMs=new Date().valueOf(),this.state=this.computeTiming().currentState}render(){let{props:t,state:n}=this;return t.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(t){t.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:t,context:n}=this,r=as(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs),o=n.dateEnv.startOf(r,t.unit),s=n.dateEnv.add(o,qe(1,t.unit)),a=s.valueOf()-r.valueOf();return a=Math.min(1e3*60*60*24,a),{currentState:{nowDate:o,todayRange:KG(o)},nextState:{nowDate:s,todayRange:KG(s)},waitMs:a}}setTimeout(){let{nextState:t,waitMs:n}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(t,()=>{this.setTimeout()})},n)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}return i.contextType=Wr,i})();function KG(i){let e=gt(i),t=on(e,1);return{start:e,end:t}}var Ou=class extends it{constructor(){super(...arguments),this.createDayHeaderFormatter=ge(Mte)}render(){let{context:e}=this,{dates:t,dateProfile:n,datesRepDistinctDays:r,renderIntro:o}=this.props,s=this.createDayHeaderFormatter(e.options.dayHeaderFormat,r,t.length);return A(ra,{unit:"day"},(a,l)=>A("tr",{role:"row"},o&&o("day"),t.map(u=>r?A(iC,{key:u.toISOString(),date:u,dateProfile:n,todayRange:l,colCnt:t.length,dayHeaderFormat:s}):A(rC,{key:u.getUTCDay(),dow:u.getUTCDay(),dayHeaderFormat:s}))))}};function Mte(i,e,t){return i||FB(e,t)}var xu=class{constructor(e,t){let n=e.start,{end:r}=e,o=[],s=[],a=-1;for(;n<r;)t.isHiddenDay(n)?o.push(a+.5):(a+=1,o.push(a),s.push(n)),n=on(n,1);this.dates=s,this.indices=o,this.cnt=s.length}sliceRange(e){let t=this.getDateDayIndex(e.start),n=this.getDateDayIndex(on(e.end,-1)),r=Math.max(0,t),o=Math.min(this.cnt-1,n);return r=Math.ceil(r),o=Math.floor(o),r<=o?{firstIndex:r,lastIndex:o,isStart:t===r,isEnd:n===o}:null}getDateDayIndex(e){let{indices:t}=this,n=Math.floor(cs(this.dates[0],e));return n<0?t[0]-1:n>=t.length?t[t.length-1]+1:t[n]}},Mu=class{constructor(e,t){let{dates:n}=e,r,o,s;if(t){for(o=n[0].getUTCDay(),r=1;r<n.length&&n[r].getUTCDay()!==o;r+=1);s=Math.ceil(n.length/r)}else s=1,r=n.length;this.rowCnt=s,this.colCnt=r,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let n=[];for(let r=0;r<this.colCnt;r+=1)n.push(this.buildCell(t,r));e.push(n)}return e}buildCell(e,t){let n=this.daySeries.dates[e*this.colCnt+t];return{key:n.toISOString(),date:n}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,n=this.daySeries.sliceRange(e),r=[];if(n){let{firstIndex:o,lastIndex:s}=n,a=o;for(;a<=s;){let l=Math.floor(a/t),u=Math.min((l+1)*t,s+1);r.push({row:l,firstCol:a%t,lastCol:(u-1)%t,isStart:n.isStart&&a===o,isEnd:n.isEnd&&u-1===s}),a=u}}return r}},Iu=class{constructor(){this.sliceBusinessHours=ge(this._sliceBusinessHours),this.sliceDateSelection=ge(this._sliceDateSpan),this.sliceEventStore=ge(this._sliceEventStore),this.sliceEventDrag=ge(this._sliceInteraction),this.sliceEventResize=ge(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,n,r,...o){let{eventUiBases:s}=e,a=this.sliceEventStore(e.eventStore,s,t,n,...o);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,n,s,r,...o),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,n,r,...o),fgEventSegs:a.fg,bgEventSegs:a.bg,eventDrag:this.sliceEventDrag(e.eventDrag,s,t,n,...o),eventResize:this.sliceEventResize(e.eventResize,s,t,n,...o),eventSelection:e.eventSelection}}sliceNowDate(e,t,n,r,...o){return this._sliceDateSpan({range:{start:e,end:as(e,1)},allDay:!1},t,n,{},r,...o)}_sliceBusinessHours(e,t,n,r,...o){return e?this._sliceEventStore(Tu(e,z_(t,!!n),r),{},t,n,...o).bg:[]}_sliceEventStore(e,t,n,r,...o){if(e){let s=Vd(e,t,z_(n,!!r),r);return{bg:this.sliceEventRanges(s.bg,o),fg:this.sliceEventRanges(s.fg,o)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,n,r,...o){if(!e)return null;let s=Vd(e.mutatedEvents,t,z_(n,!!r),r);return{segs:this.sliceEventRanges(s.fg,o),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,n,r,o,...s){if(!e)return[];let a=z_(t,!!n),l=gr(e.range,a);if(l){e=Object.assign(Object.assign({},e),{range:l});let u=wte(e,r,o),c=this.sliceRange(e.range,...s);for(let d of c)d.eventRange=u;return c}return[]}sliceEventRanges(e,t){let n=[];for(let r of e)n.push(...this.sliceEventRange(r,t));return n}sliceEventRange(e,t){let n=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(n={start:n.start,end:on(n.start,1)});let r=this.sliceRange(n,...t);for(let o of r)o.eventRange=e,o.isStart=e.isStart&&o.isStart,o.isEnd=e.isEnd&&o.isEnd;return r}};function z_(i,e){let t=i.activeRange;return e?t:{start:as(t.start,i.slotMinTime.milliseconds),end:as(t.end,i.slotMaxTime.milliseconds-864e5)}}function CC(i,e,t){let{instances:n}=i.mutatedEvents;for(let r in n)if(!jd(e.validRange,n[r].range))return!1;return kB({eventDrag:i},t)}function cA(i,e,t){return jd(e.validRange,i.range)?kB({dateSelection:i},t):!1}function kB(i,e){let t=e.getCurrentData(),n=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},i);return(e.pluginHooks.isPropsValid||VB)(n,e)}function VB(i,e,t={},n){return!(i.eventDrag&&!Ite(i,e,t,n)||i.dateSelection&&!Pte(i,e,t,n))}function Ite(i,e,t,n){let r=e.getCurrentData(),o=i.eventDrag,s=o.mutatedEvents,a=s.defs,l=s.instances,u=tC(a,o.isEvent?i.eventUiBases:{"":r.selectionConfig});n&&(u=jr(u,n));let c=nte(i.eventStore,o.affectedEvents.instances),d=c.defs,h=c.instances,f=tC(d,i.eventUiBases);for(let p in l){let g=l[p],m=g.range,v=u[g.defId],y=a[g.defId];if(!HB(v.constraints,m,c,i.businessHours,e))return!1;let{eventOverlap:C}=e.options,S=typeof C=="function"?C:null;for(let T in h){let O=h[T];if(hC(m,O.range)&&(f[O.defId].overlap===!1&&o.isEvent||v.overlap===!1||S&&!S(new Nt(e,d[O.defId],O),new Nt(e,y,g))))return!1}let E=r.eventStore;for(let T of v.allows){let O=Object.assign(Object.assign({},t),{range:g.range,allDay:y.allDay}),R=E.defs[y.defId],M=E.instances[p],H;if(R?H=new Nt(e,R,M):H=new Nt(e,y),!T(ZR(O,e),H))return!1}}return!0}function Pte(i,e,t,n){let r=i.eventStore,o=r.defs,s=r.instances,a=i.dateSelection,l=a.range,{selectionConfig:u}=e.getCurrentData();if(n&&(u=n(u)),!HB(u.constraints,l,r,i.businessHours,e))return!1;let{selectOverlap:c}=e.options,d=typeof c=="function"?c:null;for(let h in s){let f=s[h];if(hC(l,f.range)&&(u.overlap===!1||d&&!d(new Nt(e,o[f.defId],f),null)))return!1}for(let h of u.allows){let f=Object.assign(Object.assign({},t),a);if(!h(ZR(f,e),null))return!1}return!0}function HB(i,e,t,n,r){for(let o of i)if(!Nte(Fte(o,e,t,n,r),e))return!1;return!0}function Fte(i,e,t,n,r){return i==="businessHours"?aR(Tu(n,e,r)):typeof i=="string"?aR(mC(t,o=>o.groupId===i)):typeof i=="object"&&i?aR(Tu(i,e,r)):[]}function aR(i){let{instances:e}=i,t=[];for(let n in e)t.push(e[n].range);return t}function Nte(i,e){for(let t of i)if(jd(t,e))return!0;return!1}var $_=/^(visible|hidden)$/,Hd=class extends it{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,zr(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:n}=e,r=t&&n,o=["fc-scroller"];return t&&(n?o.push("fc-scroller-liquid-absolute"):o.push("fc-scroller-liquid")),A("div",{ref:this.handleEl,className:o.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:r&&-(e.overcomeLeft||0)||"",right:r&&-(e.overcomeRight||0)||"",bottom:r&&-(e.overcomeBottom||0)||"",marginLeft:!r&&-(e.overcomeLeft||0)||"",marginRight:!r&&-(e.overcomeRight||0)||"",marginBottom:!r&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if($_.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:n}=e;for(let r=0;r<n.length;r+=1)if(n[r].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if($_.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:n}=e;for(let r=0;r<n.length;r+=1)if(n[r].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return $_.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return $_.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}},ki=class{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(t,n)=>{let{depths:r,currentMap:o}=this,s=!1,a=!1;t!==null?(s=n in o,o[n]=t,r[n]=(r[n]||0)+1,a=!0):(r[n]-=1,r[n]||(delete o[n],delete this.callbackMap[n],s=!0)),this.masterCallback&&(s&&this.masterCallback(null,String(n)),a&&this.masterCallback(t,String(n)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=n=>{this.handleValue(n,String(e))}),t}collect(e,t,n){return hB(this.currentMap,e,t,n)}getAll(){return dC(this.currentMap)}};function GB(i){let e=tB(i,".fc-scrollgrid-shrink"),t=0;for(let n of e)t=Math.max(t,eee(n));return Math.ceil(t)}function dA(i,e){return i.liquid&&e.liquid}function BB(i,e){return e.maxHeight!=null||dA(i,e)}function jB(i,e,t,n){let{expandRows:r}=t;return typeof e.content=="function"?e.content(t):A("table",{role:"presentation",className:[e.tableClassName,i.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:r?t.clientHeight:""}},t.tableColGroupNode,A(n?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(t):e.rowContent))}function UB(i,e){return us(i,e,pr)}function WB(i,e){let t=[];for(let n of i){let r=n.span||1;for(let o=0;o<r;o+=1)t.push(A("col",{style:{width:n.width==="shrink"?zB(e):n.width||"",minWidth:n.minWidth||""}}))}return A("colgroup",{},...t)}function zB(i){return i??4}function $B(i){for(let e of i)if(e.width==="shrink")return!0;return!1}function qB(i,e){let t=["fc-scrollgrid",e.theme.getClass("table")];return i&&t.push("fc-scrollgrid-liquid"),t}function YB(i,e){let t=["fc-scrollgrid-section",`fc-scrollgrid-section-${i.type}`,i.className];return e&&i.liquid&&i.maxHeight==null&&t.push("fc-scrollgrid-section-liquid"),i.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function Yd(i){return A("div",{className:"fc-scrollgrid-sticky-shim",style:{width:i.clientWidth,minWidth:i.tableMinWidth}})}function Vu(i){let{stickyHeaderDates:e}=i;return(e==null||e==="auto")&&(e=i.height==="auto"||i.viewHeight==="auto"),e}function Qp(i){let{stickyFooterScrollbar:e}=i;return(e==null||e==="auto")&&(e=i.height==="auto"||i.viewHeight==="auto"),e}var ol=class extends it{constructor(){super(...arguments),this.processCols=ge(e=>e,UB),this.renderMicroColGroup=ge(WB),this.scrollerRefs=new ki,this.scrollerElRefs=new ki(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:t,context:n}=this,r=e.sections||[],o=this.processCols(e.cols),s=this.renderMicroColGroup(o,t.shrinkWidth),a=qB(e.liquid,n);e.collapsibleWidth&&a.push("fc-scrollgrid-collapsible");let l=r.length,u=0,c,d=[],h=[],f=[];for(;u<l&&(c=r[u]).type==="header";)d.push(this.renderSection(c,s,!0)),u+=1;for(;u<l&&(c=r[u]).type==="body";)h.push(this.renderSection(c,s,!1)),u+=1;for(;u<l&&(c=r[u]).type==="footer";)f.push(this.renderSection(c,s,!0)),u+=1;let p=!iA(),g={role:"rowgroup"};return A("table",{role:"grid",className:a.join(" "),style:{height:e.height}},!!(!p&&d.length)&&A("thead",g,...d),!!(!p&&h.length)&&A("tbody",g,...h),!!(!p&&f.length)&&A("tfoot",g,...f),p&&A("tbody",g,...d,...h,...f))}renderSection(e,t,n){return"outerContent"in e?A(ct,{key:e.key},e.outerContent):A("tr",{key:e.key,role:"presentation",className:YB(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,n))}renderChunkTd(e,t,n,r){if("outerContent"in n)return n.outerContent;let{props:o}=this,{forceYScrollbars:s,scrollerClientWidths:a,scrollerClientHeights:l}=this.state,u=BB(o,e),c=dA(o,e),d=o.liquid?s?"scroll":u?"auto":"hidden":"visible",h=e.key,f=jB(e,n,{tableColGroupNode:t,tableMinWidth:"",clientWidth:!o.collapsibleWidth&&a[h]!==void 0?a[h]:null,clientHeight:l[h]!==void 0?l[h]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return A(r?"th":"td",{ref:n.elRef,role:"presentation"},A("div",{className:`fc-scroller-harness${c?" fc-scroller-harness-liquid":""}`},A(Hd,{ref:this.scrollerRefs.createRef(h),elRef:this.scrollerElRefs.createRef(h),overflowY:d,overflowX:o.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:c,liquidIsAbsolute:!0},f)))}_handleScrollerEl(e,t){let n=Lte(this.props.sections,t);n&&zr(n.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return $B(this.props.cols)?GB(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=MB(),{scrollerRefs:t,scrollerElRefs:n}=this,r=!1,o={},s={};for(let a in t.currentMap){let l=t.currentMap[a];if(l&&l.needsYScrolling()){r=!0;break}}for(let a of this.props.sections){let l=a.key,u=n.currentMap[l];if(u){let c=u.parentNode;o[l]=Math.floor(c.getBoundingClientRect().width-(r?e.y:0)),s[l]=Math.floor(c.getBoundingClientRect().height)}}return{forceYScrollbars:r,scrollerClientWidths:o,scrollerClientHeights:s}}};ol.addStateEquality({scrollerClientWidths:pr,scrollerClientHeights:pr});function Lte(i,e){for(let t of i)if(t.key===e)return t;return null}var ta=class extends it{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&YG(e,this.props.seg)}}render(){let{props:e,context:t}=this,{options:n}=t,{seg:r}=e,{eventRange:o}=r,{ui:s}=o,a={event:new Nt(t,o.def,o.instance),view:t.viewApi,timeText:e.timeText,textColor:s.textColor,backgroundColor:s.backgroundColor,borderColor:s.borderColor,isDraggable:!e.disableDragging&&hte(r,t),isStartResizable:!e.disableResizing&&fte(r,t),isEndResizable:!e.disableResizing&&pte(r),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!r.isStart,isEnd:!!r.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return A(Dn,Object.assign({},e,{elRef:this.handleEl,elClasses:[...gte(a),...r.eventRange.ui.classNames,...e.elClasses||[]],renderProps:a,generatorName:"eventContent",customGenerator:n.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:n.eventClassNames,didMount:n.eventDidMount,willUnmount:n.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&YG(this.el,this.props.seg)}},Pu=class extends it{render(){let{props:e,context:t}=this,{options:n}=t,{seg:r}=e,{ui:o}=r.eventRange,s=n.eventTimeFormat||e.defaultTimeFormat,a=dl(r,s,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return A(ta,Object.assign({},e,{elTag:"a",elStyle:{borderColor:o.borderColor,backgroundColor:o.backgroundColor},elAttrs:zd(r,t),defaultGenerator:kte,timeText:a}),(l,u)=>A(ct,null,A(l,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:u.textColor}}),!!u.isStartResizable&&A("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!u.isEndResizable&&A("div",{className:"fc-event-resizer fc-event-resizer-end"})))}};function kte(i){return A("div",{className:"fc-event-main-frame"},i.timeText&&A("div",{className:"fc-event-time"},i.timeText),A("div",{className:"fc-event-title-container"},A("div",{className:"fc-event-title fc-sticky"},i.event.title||A(ct,null,"\xA0"))))}var Zp=i=>A(Wr.Consumer,null,e=>{let{options:t}=e,n={isAxis:i.isAxis,date:e.dateEnv.toDate(i.date),view:e.viewApi};return A(Dn,Object.assign({},i,{elTag:i.elTag||"div",renderProps:n,generatorName:"nowIndicatorContent",customGenerator:t.nowIndicatorContent,classNameGenerator:t.nowIndicatorClassNames,didMount:t.nowIndicatorDidMount,willUnmount:t.nowIndicatorWillUnmount}))}),Vte=Ct({day:"numeric"}),sl=class extends it{constructor(){super(...arguments),this.refineRenderProps=Bd(Hte)}render(){let{props:e,context:t}=this,{options:n}=t,r=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:n.monthStartFormat});return A(Dn,Object.assign({},e,{elClasses:[...qd(r,t.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),r.isDisabled?{}:{"data-date":ll(e.date)}),renderProps:r,generatorName:"dayCellContent",customGenerator:n.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.isDisabled?void 0:n.dayCellClassNames,didMount:n.dayCellDidMount,willUnmount:n.dayCellWillUnmount}))}};function Kd(i){return!!(i.dayCellContent||mR("dayCellContent",i))}function Hte(i){let{date:e,dateEnv:t,dateProfile:n,isMonthStart:r}=i,o=$p(e,i.todayRange,null,n),s=i.showDayNumber?t.format(e,r?i.monthStartFormat:Vte):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(e),view:i.viewApi},o),{isMonthStart:r,dayNumberText:s}),i.extraRenderProps)}var Fu=class extends it{render(){let{props:e}=this,{seg:t}=e;return A(ta,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:Gte,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}};function Gte(i){let{title:e}=i.event;return e&&A("div",{className:"fc-event-title"},i.event.title)}function Xp(i){return A("div",{className:`fc-${i}`})}var Jp=i=>A(Wr.Consumer,null,e=>{let{dateEnv:t,options:n}=e,{date:r}=i,o=n.weekNumberFormat||i.defaultFormat,s=t.computeWeekNumber(r),a=t.format(r,o);return A(Dn,Object.assign({},i,{renderProps:{num:s,text:a,date:r},generatorName:"weekNumberContent",customGenerator:n.weekNumberContent,defaultGenerator:Bte,classNameGenerator:n.weekNumberClassNames,didMount:n.weekNumberDidMount,willUnmount:n.weekNumberWillUnmount}))});function Bte(i){return i.text}var lR=10,yR=class extends it{constructor(){super(...arguments),this.state={titleId:Ur()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&zr(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{let t=oC(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:n,state:r}=this,o=["fc-popover",e.getClass("popover")].concat(n.extraClassNames||[]);return NG(A("div",Object.assign({},n.extraAttrs,{id:n.id,className:o.join(" "),"aria-labelledby":r.titleId,ref:this.handleRootEl}),A("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},A("span",{className:"fc-popover-title",id:r.titleId},n.title),A("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),A("div",{className:"fc-popover-body "+e.getClass("popoverContent")},n.children)),n.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:n}=this.props,{rootEl:r}=this,o=Ate(t);if(o){let s=r.getBoundingClientRect(),a=n?En(t,".fc-scrollgrid").getBoundingClientRect().top:o.top,l=e?o.right-s.width:o.left;a=Math.max(a,lR),l=Math.min(l,document.documentElement.clientWidth-lR-s.width),l=Math.max(l,lR);let u=r.offsetParent.getBoundingClientRect();Lu(r,{top:a-u.top,left:l-u.left})}}},_R=class extends Jn{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:n}=this,{startDate:r,todayRange:o,dateProfile:s}=n,a=t.format(r,e.dayPopoverFormat);return A(sl,{elRef:this.handleRootEl,date:r,dateProfile:s,todayRange:o},(l,u,c)=>A(yR,{elRef:c.ref,id:n.id,title:a,extraClassNames:["fc-more-popover"].concat(c.className||[]),extraAttrs:c,parentEl:n.parentEl,alignmentEl:n.alignmentEl,alignGridTop:n.alignGridTop,onClose:n.onClose},Kd(e)&&A(l,{elTag:"div",elClasses:["fc-more-popover-misc"]}),n.children))}queryHit(e,t,n,r){let{rootEl:o,props:s}=this;return e>=0&&e<n&&t>=0&&t<r?{dateProfile:s.dateProfile,dateSpan:Object.assign({allDay:!s.forceTimed,range:{start:s.startDate,end:s.endDate}},s.extraDateSpan),dayEl:o,rect:{left:0,top:0,right:n,bottom:r},layer:1}:null}},Nu=class extends it{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Ur()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&zr(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:n}=this,{moreLinkClick:r}=n.options,o=QG(t).start;function s(a){let{def:l,instance:u,range:c}=a.eventRange;return{event:new Nt(n,l,u),start:n.dateEnv.toDate(c.start),end:n.dateEnv.toDate(c.end),isStart:a.isStart,isEnd:a.isEnd}}typeof r=="function"&&(r=r({date:o,allDay:!!t.allDayDate,allSegs:t.allSegs.map(s),hiddenSegs:t.hiddenSegs.map(s),jsEvent:e,view:n.viewApi})),!r||r==="popover"?this.setState({isPopoverOpen:!0}):typeof r=="string"&&n.calendarApi.zoomTo(o,r)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return A(Wr.Consumer,null,n=>{let{viewApi:r,options:o,calendarApi:s}=n,{moreLinkText:a}=o,{moreCnt:l}=e,u=QG(e),c=typeof a=="function"?a.call(s,l):`+${l} ${a}`,d=Gd(o.moreLinkHint,[l],c),h={num:l,shortText:`+${l}`,text:c,view:r};return A(ct,null,!!e.moreCnt&&A(Dn,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),iB(this.handleClick)),{title:d,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:h,generatorName:"moreLinkContent",customGenerator:o.moreLinkContent,defaultGenerator:e.defaultGenerator||jte,classNameGenerator:o.moreLinkClassNames,didMount:o.moreLinkDidMount,willUnmount:o.moreLinkWillUnmount},e.children),t.isPopoverOpen&&A(_R,{id:t.popoverId,startDate:u.start,endDate:u.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=En(this.linkEl,".fc-view-harness"))}};function jte(i){return i.text}function QG(i){if(i.allDayDate)return{start:i.allDayDate,end:on(i.allDayDate,1)};let{hiddenSegs:e}=i;return{start:wC(e),end:Wte(e)}}function wC(i){return i.reduce(Ute).eventRange.range.start}function Ute(i,e){return i.eventRange.range.start<e.eventRange.range.start?i:e}function Wte(i){return i.reduce(zte).eventRange.range.end}function zte(i,e){return i.eventRange.range.end>e.eventRange.range.end?i:e}var CR=class{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}},Pp=class extends CR{constructor(){super(...arguments),this.map=new Map}handle(e){let{map:t}=this,n=!1;e.isActive?(t.set(e.id,e),n=!0):t.has(e.id)&&(t.delete(e.id),n=!0),n&&this.set(t)}};var $te=[],tj={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},nj=Object.assign(Object.assign({},tj),{buttonHints:{prev:"Previous $0",next:"Next $0",today(i,e){return e==="day"?"Today":`This ${i}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(i){return`Show ${i} more event${i===1?"":"s"}`}});function qte(i){let e=i.length>0?i[0].code:"en",t=$te.concat(i),n={en:nj};for(let r of t)n[r.code]=r;return{map:n,defaultCode:e}}function ij(i,e){return typeof i=="object"&&!Array.isArray(i)?rj(i.code,[i.code],i):Yte(i,e)}function Yte(i,e){let t=[].concat(i||[]),n=Kte(t,e)||nj;return rj(i,t,n)}function Kte(i,e){for(let t=0;t<i.length;t+=1){let n=i[t].toLocaleLowerCase().split("-");for(let r=n.length;r>0;r-=1){let o=n.slice(0,r).join("-");if(e[o])return e[o]}}return null}function rj(i,e,t){let n=cC([tj,t],["buttonText"]);delete n.code;let{week:r}=n;return delete n.week,{codeArg:i,codes:e,week:r,simpleNumberFormat:new Intl.NumberFormat(i),options:n}}function Vi(i){return{id:na(),name:i.name,premiumReleaseDate:i.premiumReleaseDate?new Date(i.premiumReleaseDate):void 0,deps:i.deps||[],reducers:i.reducers||[],isLoadingFuncs:i.isLoadingFuncs||[],contextInit:[].concat(i.contextInit||[]),eventRefiners:i.eventRefiners||{},eventDefMemberAdders:i.eventDefMemberAdders||[],eventSourceRefiners:i.eventSourceRefiners||{},isDraggableTransformers:i.isDraggableTransformers||[],eventDragMutationMassagers:i.eventDragMutationMassagers||[],eventDefMutationAppliers:i.eventDefMutationAppliers||[],dateSelectionTransformers:i.dateSelectionTransformers||[],datePointTransforms:i.datePointTransforms||[],dateSpanTransforms:i.dateSpanTransforms||[],views:i.views||{},viewPropsTransformers:i.viewPropsTransformers||[],isPropsValid:i.isPropsValid||null,externalDefTransforms:i.externalDefTransforms||[],viewContainerAppends:i.viewContainerAppends||[],eventDropTransformers:i.eventDropTransformers||[],componentInteractions:i.componentInteractions||[],calendarInteractions:i.calendarInteractions||[],themeClasses:i.themeClasses||{},eventSourceDefs:i.eventSourceDefs||[],cmdFormatter:i.cmdFormatter,recurringTypes:i.recurringTypes||[],namedTimeZonedImpl:i.namedTimeZonedImpl,initialView:i.initialView||"",elementDraggingImpl:i.elementDraggingImpl,optionChangeHandlers:i.optionChangeHandlers||{},scrollGridImpl:i.scrollGridImpl||null,listenerRefiners:i.listenerRefiners||{},optionRefiners:i.optionRefiners||{},propSetHandlers:i.propSetHandlers||{}}}function Qte(i,e){let t={},n={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function r(o){for(let s of o){let a=s.name,l=t[a];l===void 0?(t[a]=s.id,r(s.deps),n=Xte(n,s)):l!==s.id&&console.warn(`Duplicate plugin '${a}'`)}}return i&&r(i),r(e),n}function Zte(){let i=[],e=[],t;return(n,r)=>((!t||!us(n,i)||!us(r,e))&&(t=Qte(n,r)),i=n,e=r,t)}function Xte(i,e){return{premiumReleaseDate:Jte(i.premiumReleaseDate,e.premiumReleaseDate),reducers:i.reducers.concat(e.reducers),isLoadingFuncs:i.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:i.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},i.eventRefiners),e.eventRefiners),eventDefMemberAdders:i.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},i.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:i.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:i.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:i.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:i.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:i.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:i.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},i.views),e.views),viewPropsTransformers:i.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||i.isPropsValid,externalDefTransforms:i.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:i.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:i.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:i.calendarInteractions.concat(e.calendarInteractions),componentInteractions:i.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},i.themeClasses),e.themeClasses),eventSourceDefs:i.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||i.cmdFormatter,recurringTypes:i.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||i.namedTimeZonedImpl,initialView:i.initialView||e.initialView,elementDraggingImpl:i.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},i.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||i.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},i.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},i.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},i.propSetHandlers),e.propSetHandlers)}}function Jte(i,e){return i===void 0?e:e===void 0?i:new Date(Math.max(i.valueOf(),e.valueOf()))}var fs=class extends Js{};fs.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};fs.prototype.baseIconClass="fc-icon";fs.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};fs.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};fs.prototype.iconOverrideOption="buttonIcons";fs.prototype.iconOverrideCustomButtonOption="icon";fs.prototype.iconOverridePrefix="fc-icon-";function ene(i,e){let t={},n;for(n in i)fA(n,t,i,e);for(n in e)fA(n,t,i,e);return t}function fA(i,e,t,n){if(e[i])return e[i];let r=tne(i,e,t,n);return r&&(e[i]=r),r}function tne(i,e,t,n){let r=t[i],o=n[i],s=c=>r&&r[c]!==null?r[c]:o&&o[c]!==null?o[c]:null,a=s("component"),l=s("superType"),u=null;if(l){if(l===i)throw new Error("Can't have a custom view type that references itself");u=fA(l,e,t,n)}return!a&&u&&(a=u.component),a?{type:i,component:a,defaults:Object.assign(Object.assign({},u?u.defaults:{}),r?r.rawOptions:{}),overrides:Object.assign(Object.assign({},u?u.overrides:{}),o?o.rawOptions:{})}:null}function KB(i){return jr(i,nne)}function nne(i){let e=typeof i=="function"?{component:i}:i,{component:t}=e;return e.content?t=QB(e):t&&!(t.prototype instanceof it)&&(t=QB(Object.assign(Object.assign({},e),{content:t}))),{superType:e.type,component:t,rawOptions:e}}function QB(i){return e=>A(Wr.Consumer,null,t=>A(Dn,{elTag:"div",elClasses:UR(t.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:i.content,classNameGenerator:i.classNames,didMount:i.didMount,willUnmount:i.willUnmount}))}function ine(i,e,t,n){let r=KB(i),o=KB(e.views),s=ene(r,o);return jr(s,a=>rne(a,o,e,t,n))}function rne(i,e,t,n,r){let o=i.overrides.duration||i.defaults.duration||n.duration||t.duration,s=null,a="",l="",u={};if(o&&(s=one(o),s)){let h=_p(s);a=h.unit,h.value===1&&(l=a,u=e[a]?e[a].rawOptions:{})}let c=h=>{let f=h.buttonText||{},p=i.defaults.buttonTextKey;return p!=null&&f[p]!=null?f[p]:f[i.type]!=null?f[i.type]:f[l]!=null?f[l]:null},d=h=>{let f=h.buttonHints||{},p=i.defaults.buttonTextKey;return p!=null&&f[p]!=null?f[p]:f[i.type]!=null?f[i.type]:f[l]!=null?f[l]:null};return{type:i.type,component:i.component,duration:s,durationUnit:a,singleUnit:l,optionDefaults:i.defaults,optionOverrides:Object.assign(Object.assign({},u),i.overrides),buttonTextOverride:c(n)||c(t)||i.overrides.buttonText,buttonTextDefault:c(r)||i.defaults.buttonText||c(ul)||i.type,buttonTitleOverride:d(n)||d(t)||i.overrides.buttonHint,buttonTitleDefault:d(r)||i.defaults.buttonHint||d(ul)}}var ZB={};function one(i){let e=JSON.stringify(i),t=ZB[e];return t===void 0&&(t=qe(i),ZB[e]=t),t}function sne(i,e){switch(e.type){case"CHANGE_VIEW_TYPE":i=e.viewType}return i}function ane(i,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},i),{[e.optionName]:e.rawOptionValue});default:return i}}function lne(i,e,t,n){let r;switch(e.type){case"CHANGE_VIEW_TYPE":return n.build(e.dateMarker||t);case"CHANGE_DATE":return n.build(e.dateMarker);case"PREV":if(r=n.buildPrev(i,t),r.isValid)return r;break;case"NEXT":if(r=n.buildNext(i,t),r.isValid)return r;break}return i}function une(i,e,t){let n=e?e.activeRange:null;return sj({},mne(i,t),n,t)}function cne(i,e,t,n){let r=t?t.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return sj(i,e.sources,r,n);case"REMOVE_EVENT_SOURCE":return hne(i,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?aj(i,r,n):i;case"FETCH_EVENT_SOURCES":return SA(i,e.sourceIds?HR(e.sourceIds):lj(i,n),r,e.isRefetch||!1,n);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return gne(i,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return i}}function dne(i,e,t){let n=e?e.activeRange:null;return SA(i,lj(i,t),n,!0,t)}function oj(i){for(let e in i)if(i[e].isFetching)return!0;return!1}function sj(i,e,t,n){let r={};for(let o of e)r[o.sourceId]=o;return t&&(r=aj(r,t,n)),Object.assign(Object.assign({},i),r)}function hne(i,e){return Xs(i,t=>t.sourceId!==e)}function aj(i,e,t){return SA(i,Xs(i,n=>fne(n,e,t)),e,!1,t)}function fne(i,e,t){return uj(i,t)?!t.options.lazyFetching||!i.fetchRange||i.isFetching||e.start<i.fetchRange.start||e.end>i.fetchRange.end:!i.latestFetchId}function SA(i,e,t,n,r){let o={};for(let s in i){let a=i[s];e[s]?o[s]=pne(a,t,n,r):o[s]=a}return o}function pne(i,e,t,n){let{options:r,calendarApi:o}=n,s=n.pluginHooks.eventSourceDefs[i.sourceDefId],a=na();return s.fetch({eventSource:i,range:e,isRefetch:t,context:n},l=>{let{rawEvents:u}=l;r.eventSourceSuccess&&(u=r.eventSourceSuccess.call(o,u,l.response)||u),i.success&&(u=i.success.call(o,u,l.response)||u),n.dispatch({type:"RECEIVE_EVENTS",sourceId:i.sourceId,fetchId:a,fetchRange:e,rawEvents:u})},l=>{let u=!1;r.eventSourceFailure&&(r.eventSourceFailure.call(o,l),u=!0),i.failure&&(i.failure(l),u=!0),u||console.warn(l.message,l),n.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:i.sourceId,fetchId:a,fetchRange:e,error:l})}),Object.assign(Object.assign({},i),{isFetching:!0,latestFetchId:a})}function gne(i,e,t,n){let r=i[e];return r&&t===r.latestFetchId?Object.assign(Object.assign({},i),{[e]:Object.assign(Object.assign({},r),{isFetching:!1,fetchRange:n})}):i}function lj(i,e){return Xs(i,t=>uj(t,e))}function mne(i,e){let t=YR(e),n=[].concat(i.eventSources||[]),r=[];i.initialEvents&&n.unshift(i.initialEvents),i.events&&n.unshift(i.events);for(let o of n){let s=qR(o,e,t);s&&r.push(s)}return r}function uj(i,e){return!e.pluginHooks.eventSourceDefs[i.sourceDefId].ignoreRange}function vne(i,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return i}}function yne(i,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return i}}function _ne(i,e){let t;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return i}}function Cne(i,e){let t;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return i}}function wne(i,e,t,n,r){let o=i.headerToolbar?XB(i.headerToolbar,i,e,t,n,r):null,s=i.footerToolbar?XB(i.footerToolbar,i,e,t,n,r):null;return{header:o,footer:s}}function XB(i,e,t,n,r,o){let s={},a=[],l=!1;for(let u in i){let c=i[u],d=Sne(c,e,t,n,r,o);s[u]=d.widgets,a.push(...d.viewsWithButtons),l=l||d.hasTitle}return{sectionWidgets:s,viewsWithButtons:a,hasTitle:l}}function Sne(i,e,t,n,r,o){let s=e.direction==="rtl",a=e.customButtons||{},l=t.buttonText||{},u=e.buttonText||{},c=t.buttonHints||{},d=e.buttonHints||{},h=i?i.split(" "):[],f=[],p=!1;return{widgets:h.map(m=>m.split(",").map(v=>{if(v==="title")return p=!0,{buttonName:v};let y,C,S,E,T,O;if(y=a[v])S=R=>{y.click&&y.click.call(R.target,R,R.target)},(E=n.getCustomButtonIconClass(y))||(E=n.getIconClass(v,s))||(T=y.text),O=y.hint||y.text;else if(C=r[v]){f.push(v),S=()=>{o.changeView(v)},(T=C.buttonTextOverride)||(E=n.getIconClass(v,s))||(T=C.buttonTextDefault);let R=C.buttonTextOverride||C.buttonTextDefault;O=Gd(C.buttonTitleOverride||C.buttonTitleDefault||e.viewHint,[R,v],R)}else if(o[v])if(S=()=>{o[v]()},(T=l[v])||(E=n.getIconClass(v,s))||(T=u[v]),v==="prevYear"||v==="nextYear"){let R=v==="prevYear"?"prev":"next";O=Gd(c[R]||d[R],[u.year||"year","year"],u[v])}else O=R=>Gd(c[v]||d[v],[u[R]||R,R],u[v]);return{buttonName:v,buttonClick:S,buttonIcon:E,buttonText:T,buttonHint:O}})),viewsWithButtons:f,hasTitle:p}}var pA=class{constructor(e,t,n){this.type=e,this.getCurrentData=t,this.dateEnv=n}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}},bne={ignoreRange:!0,parseMeta(i){return Array.isArray(i.events)?i.events:null},fetch(i,e){e({rawEvents:i.eventSource.meta})}},Ene=Vi({name:"array-event-source",eventSourceDefs:[bne]}),Dne={parseMeta(i){return typeof i.events=="function"?i.events:null},fetch(i,e,t){let{dateEnv:n}=i.context,r=i.eventSource.meta;tA(r.bind(null,eA(i.range,n)),o=>e({rawEvents:o}),t)}},Tne=Vi({name:"func-event-source",eventSourceDefs:[Dne]}),Rne={method:String,extraParams:L,startParam:String,endParam:String,timeZoneParam:String},Ane={parseMeta(i){return i.url&&(i.format==="json"||!i.format)?{url:i.url,format:"json",method:(i.method||"GET").toUpperCase(),extraParams:i.extraParams,startParam:i.startParam,endParam:i.endParam,timeZoneParam:i.timeZoneParam}:null},fetch(i,e,t){let{meta:n}=i.eventSource,r=xne(n,i.range,i.context);nA(n.method,n.url,r).then(([o,s])=>{e({rawEvents:o,response:s})},t)}},One=Vi({name:"json-event-source",eventSourceRefiners:Rne,eventSourceDefs:[Ane]});function xne(i,e,t){let{dateEnv:n,options:r}=t,o,s,a,l,u={};return o=i.startParam,o==null&&(o=r.startParam),s=i.endParam,s==null&&(s=r.endParam),a=i.timeZoneParam,a==null&&(a=r.timeZoneParam),typeof i.extraParams=="function"?l=i.extraParams():l=i.extraParams||{},Object.assign(u,l),u[o]=n.formatIso(e.start),u[s]=n.formatIso(e.end),n.timeZone!=="local"&&(u[a]=n.timeZone),u}var Mne={daysOfWeek:L,startTime:qe,endTime:qe,duration:qe,startRecur:L,endRecur:L},Ine={parse(i,e){if(i.daysOfWeek||i.startTime||i.endTime||i.startRecur||i.endRecur){let t={daysOfWeek:i.daysOfWeek||null,startTime:i.startTime||null,endTime:i.endTime||null,startRecur:i.startRecur?e.createMarker(i.startRecur):null,endRecur:i.endRecur?e.createMarker(i.endRecur):null},n;return i.duration&&(n=i.duration),!n&&i.startTime&&i.endTime&&(n=lB(i.endTime,i.startTime)),{allDayGuess:!i.startTime&&!i.endTime,duration:n,typeData:t}}return null},expand(i,e,t){let n=gr(e,{start:i.startRecur,end:i.endRecur});return n?Fne(i.daysOfWeek,i.startTime,n,t):[]}},Pne=Vi({name:"simple-recurring-event",recurringTypes:[Ine],eventRefiners:Mne});function Fne(i,e,t,n){let r=i?HR(i):null,o=gt(t.start),s=t.end,a=[];for(;o<s;){let l;(!r||r[o.getUTCDay()])&&(e?l=n.add(o,e):l=o,a.push(l)),o=on(o,1)}return a}var Nne=Vi({name:"change-handler",optionChangeHandlers:{events(i,e){JB([i],e)},eventSources:JB}});function JB(i,e){let t=dC(e.getCurrentData().eventSources);if(t.length===1&&i.length===1&&Array.isArray(t[0]._raw)&&Array.isArray(i[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:i[0]});return}let n=[];for(let r of i){let o=!1;for(let s=0;s<t.length;s+=1)if(t[s]._raw===r){t.splice(s,1),o=!0;break}o||n.push(r)}for(let r of t)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:r.sourceId});for(let r of n)e.calendarApi.addEventSource(r)}function Lne(i,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},eA(i.activeRange,e.dateEnv)),{view:e.viewApi}))}function kne(i,e){let{emitter:t}=e;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",ds(i,e))}var Vne=[Ene,Tne,One,Pne,Nne,Vi({name:"misc",isLoadingFuncs:[i=>oj(i.eventSources)],propSetHandlers:{dateProfile:Lne,eventStore:kne}})],gA=class{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new Eu(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t=[],n;for(;n=e.shift();)this.runTask(n),t.push(n);this.drained(t)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}};function Hne(i,e,t){let n;return/^(year|month)$/.test(i.currentRangeUnit)?n=i.currentRange:n=i.activeRange,t.formatRange(n.start,n.end,Ct(e.titleFormat||Gne(i)),{isEndExclusive:i.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function Gne(i){let{currentRangeUnit:e}=i;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let t=kd(i.currentRange.start,i.currentRange.end);return t!==null&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}var mA=class{constructor(e){this.computeCurrentViewData=ge(this._computeCurrentViewData),this.organizeRawLocales=ge(qte),this.buildLocale=ge(ij),this.buildPluginHooks=Zte(),this.buildDateEnv=ge(Bne),this.buildTheme=ge(jne),this.parseToolbars=ge(wne),this.buildViewSpecs=ge(ine),this.buildDateProfileGenerator=Bd(Une),this.buildViewApi=ge(Wne),this.buildViewUiProps=Bd(qne),this.buildEventUiBySource=ge(zne,pr),this.buildEventUiBases=ge($ne),this.parseContextBusinessHours=Bd(Yne),this.buildTitle=ge(Hne),this.emitter=new ea,this.actionRunner=new gA(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=h=>{this.actionRunner.request(h)},this.props=e,this.actionRunner.pause();let t={},n=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),r=n.calendarOptions.initialView||n.pluginHooks.initialView,o=this.computeCurrentViewData(r,n,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(o.options);let s=CB(n.calendarOptions,n.dateEnv),a=o.dateProfileGenerator.build(s);Br(a.activeRange,s)||(s=a.currentRange.start);let l={dateEnv:n.dateEnv,options:n.calendarOptions,pluginHooks:n.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let h of n.pluginHooks.contextInit)h(l);let u=une(n.calendarOptions,a,l),c={dynamicOptionOverrides:t,currentViewType:r,currentDate:s,dateProfile:a,businessHours:this.parseContextBusinessHours(l),eventSources:u,eventUiBases:{},eventStore:hi(),renderableEventStore:hi(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(l).selectionConfig},d=Object.assign(Object.assign({},l),c);for(let h of n.pluginHooks.reducers)Object.assign(c,h(null,null,d));hA(c,l)&&this.emitter.trigger("loading",!0),this.state=c,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:n}=this;t===void 0?n.optionOverrides=e:(n.optionOverrides=Object.assign(Object.assign({},n.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(t===void 0||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:n,emitter:r}=this,o=ane(n.dynamicOptionOverrides,e),s=this.computeOptionsData(t.optionOverrides,o,t.calendarApi),a=sne(n.currentViewType,e),l=this.computeCurrentViewData(a,s,t.optionOverrides,o);t.calendarApi.currentDataManager=this,r.setThisContext(t.calendarApi),r.setOptions(l.options);let u={dateEnv:s.dateEnv,options:s.calendarOptions,pluginHooks:s.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:r,getCurrentData:this.getCurrentData},{currentDate:c,dateProfile:d}=n;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(d=l.dateProfileGenerator.build(c)),c=_B(c,e),d=lne(d,e,c,l.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!Br(d.currentRange,c))&&(c=d.currentRange.start);let h=cne(n.eventSources,e,d,u),f=bB(n.eventStore,e,h,d,u),g=oj(h)&&!l.options.progressiveEventRendering&&n.renderableEventStore||f,{eventUiSingleBase:m,selectionConfig:v}=this.buildViewUiProps(u),y=this.buildEventUiBySource(h),C=this.buildEventUiBases(g.defs,m,y),S={dynamicOptionOverrides:o,currentViewType:a,currentDate:c,dateProfile:d,eventSources:h,eventStore:f,renderableEventStore:g,selectionConfig:v,eventUiBases:C,businessHours:this.parseContextBusinessHours(u),dateSelection:vne(n.dateSelection,e),eventSelection:yne(n.eventSelection,e),eventDrag:_ne(n.eventDrag,e),eventResize:Cne(n.eventResize,e)},E=Object.assign(Object.assign({},u),S);for(let R of s.pluginHooks.reducers)Object.assign(S,R(n,e,E));let T=hA(n,u),O=hA(S,u);!T&&O?r.trigger("loading",!0):T&&!O&&r.trigger("loading",!1),this.state=S,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,n=this.data,r=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),o=this.computeCurrentViewData(t.currentViewType,r,e.optionOverrides,t.dynamicOptionOverrides),s=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(t.dateProfile,o.options,r.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),o),t),a=r.pluginHooks.optionChangeHandlers,l=n&&n.calendarOptions,u=r.calendarOptions;if(l&&l!==u){l.timeZone!==u.timeZone&&(t.eventSources=s.eventSources=dne(s.eventSources,t.dateProfile,s),t.eventStore=s.eventStore=KR(s.eventStore,n.dateEnv,s.dateEnv),t.renderableEventStore=s.renderableEventStore=KR(s.renderableEventStore,n.dateEnv,s.dateEnv));for(let c in a)(this.optionsForHandling.indexOf(c)!==-1||l[c]!==u[c])&&a[c](u[c],s)}this.optionsForHandling=[],e.onData&&e.onData(s)}computeOptionsData(e,t,n){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:r,pluginHooks:o,localeDefaults:s,availableLocaleData:a,extra:l}=this.processRawCalendarOptions(e,t);ej(l);let u=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,o,a,r.defaultRangeSeparator),c=this.buildViewSpecs(o.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,s),d=this.buildTheme(r,o),h=this.parseToolbars(r,this.stableOptionOverrides,d,c,n);return this.stableCalendarOptionsData={calendarOptions:r,pluginHooks:o,dateEnv:u,viewSpecs:c,theme:d,toolbarConfig:h,localeDefaults:s,availableRawLocales:a.map}}processRawCalendarOptions(e,t){let{locales:n,locale:r}=lC([ul,e,t]),o=this.organizeRawLocales(n),s=o.map,a=this.buildLocale(r||o.defaultCode,s).options,l=this.buildPluginHooks(e.plugins||[],Vne),u=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},LR),kR),VR),l.listenerRefiners),l.optionRefiners),c={},d=lC([ul,a,e,t]),h={},f=this.currentCalendarOptionsInput,p=this.currentCalendarOptionsRefined,g=!1;for(let m in d)this.optionsForRefining.indexOf(m)===-1&&(d[m]===f[m]||cl[m]&&m in f&&cl[m](f[m],d[m]))?h[m]=p[m]:u[m]?(h[m]=u[m](d[m]),g=!0):c[m]=f[m];return g&&(this.currentCalendarOptionsInput=d,this.currentCalendarOptionsRefined=h,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:o,localeDefaults:a,extra:c}}_computeCurrentViewData(e,t,n,r){let o=t.viewSpecs[e];if(!o)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:s,extra:a}=this.processRawViewOptions(o,t.pluginHooks,t.localeDefaults,n,r);ej(a);let l=this.buildDateProfileGenerator({dateProfileGeneratorClass:o.optionDefaults.dateProfileGeneratorClass,duration:o.duration,durationUnit:o.durationUnit,usesMinMaxTime:o.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,showNonCurrentDates:s.showNonCurrentDates,dayCount:s.dayCount,dateAlignment:s.dateAlignment,dateIncrement:s.dateIncrement,hiddenDays:s.hiddenDays,weekends:s.weekends,nowInput:s.now,validRangeInput:s.validRange,visibleRangeInput:s.visibleRange,fixedWeekCount:s.fixedWeekCount}),u=this.buildViewApi(e,this.getCurrentData,t.dateEnv);return{viewSpec:o,options:s,dateProfileGenerator:l,viewApi:u}}processRawViewOptions(e,t,n,r,o){let s=lC([ul,e.optionDefaults,n,r,e.optionOverrides,o]),a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},LR),kR),VR),dB),t.listenerRefiners),t.optionRefiners),l={},u=this.currentViewOptionsInput,c=this.currentViewOptionsRefined,d=!1,h={};for(let f in s)s[f]===u[f]||cl[f]&&cl[f](s[f],u[f])?l[f]=c[f]:(s[f]===this.currentCalendarOptionsInput[f]||cl[f]&&cl[f](s[f],this.currentCalendarOptionsInput[f])?f in this.currentCalendarOptionsRefined&&(l[f]=this.currentCalendarOptionsRefined[f]):a[f]?l[f]=a[f](s[f]):h[f]=s[f],d=!0);return d&&(this.currentViewOptionsInput=s,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:h}}};function Bne(i,e,t,n,r,o,s,a){let l=ij(e||s.defaultCode,s.map);return new Cp({calendarSystem:"gregory",timeZone:i,namedTimeZoneImpl:o.namedTimeZonedImpl,locale:l,weekNumberCalculation:t,firstDay:n,weekText:r,cmdFormatter:o.cmdFormatter,defaultSeparator:a})}function jne(i,e){let t=e.themeClasses[i.themeSystem]||fs;return new t(i)}function Une(i){let e=i.dateProfileGeneratorClass||Du;return new e(i)}function Wne(i,e,t){return new pA(i,e,t)}function zne(i){return jr(i,e=>e.ui)}function $ne(i,e,t){let n={"":e};for(let r in i){let o=i[r];o.sourceId&&t[o.sourceId]&&(n[r]=t[o.sourceId])}return n}function qne(i){let{options:e}=i;return{eventUiSingleBase:Wd({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},i),selectionConfig:Wd({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},i)}}function hA(i,e){for(let t of e.pluginHooks.isLoadingFuncs)if(t(i))return!0;return!1}function Yne(i){return QR(i.options.businessHours,i)}function ej(i,e){for(let t in i)console.warn(`Unknown option '${t}'`+(e?` for view '${e}'`:""))}var vA=class extends it{render(){let e=this.props.widgetGroups.map(t=>this.renderWidgetGroup(t));return A("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:t}=this,{theme:n}=this.context,r=[],o=!0;for(let s of e){let{buttonName:a,buttonClick:l,buttonText:u,buttonIcon:c,buttonHint:d}=s;if(a==="title")o=!1,r.push(A("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let h=a===t.activeButton,f=!t.isTodayEnabled&&a==="today"||!t.isPrevEnabled&&a==="prev"||!t.isNextEnabled&&a==="next",p=[`fc-${a}-button`,n.getClass("button")];h&&p.push(n.getClass("buttonActive")),r.push(A("button",{type:"button",title:typeof d=="function"?d(t.navUnit):d,disabled:f,"aria-pressed":h,className:p.join(" "),onClick:l},u||(c?A("span",{className:c,role:"img"}):"")))}}if(r.length>1){let s=o&&n.getClass("buttonGroup")||"";return A("div",{className:s},...r)}return r[0]}},SC=class extends it{render(){let{model:e,extraClassName:t}=this.props,n=!1,r,o,s=e.sectionWidgets,a=s.center;return s.left?(n=!0,r=s.left):r=s.start,s.right?(n=!0,o=s.right):o=s.end,A("div",{className:[t||"","fc-toolbar",n?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",r||[]),this.renderSection("center",a||[]),this.renderSection("end",o||[]))}renderSection(e,t){let{props:n}=this;return A(vA,{key:e,widgetGroups:t,title:n.title,navUnit:n.navUnit,activeButton:n.activeButton,isTodayEnabled:n.isTodayEnabled,isPrevEnabled:n.isPrevEnabled,isNextEnabled:n.isNextEnabled,titleId:n.titleId})}},yA=class extends it{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,zr(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:n}=e,r=["fc-view-harness",n||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],o="",s="";return n?t.availableWidth!==null?o=t.availableWidth/n:s=`${1/n*100}%`:o=e.height||"",A("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:r.join(" "),style:{height:o,paddingBottom:s}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}},_A=class extends So{constructor(e){super(e),this.handleSegClick=(t,n)=>{let{component:r}=this,{context:o}=r,s=ia(n);if(s&&r.isValidSegDownEl(t.target)){let a=En(t.target,".fc-event-forced-url"),l=a?a.querySelector("a[href]").href:"";o.emitter.trigger("eventClick",{el:n,event:new Nt(r.context,s.eventRange.def,s.eventRange.instance),jsEvent:t,view:o.viewApi}),l&&!t.defaultPrevented&&(window.location.href=l)}},this.destroy=bR(e.el,"click",".fc-event",this.handleSegClick)}},CA=class extends So{constructor(e){super(e),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,n)=>{ia(n)&&(this.currentSegEl=n,this.triggerEvent("eventMouseEnter",t,n))},this.handleSegLeave=(t,n)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,n))},this.removeHoverListeners=nB(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,n){let{component:r}=this,{context:o}=r,s=ia(n);(!t||r.isValidSegDownEl(t.target))&&o.emitter.trigger(e,{el:n,event:new Nt(o,s.eventRange.def,s.eventRange.instance),jsEvent:t,view:o.viewApi})}},wA=class extends Gp{constructor(){super(...arguments),this.buildViewContext=ge(mB),this.buildViewPropTransformers=ge(Qne),this.buildToolbarProps=ge(Kne),this.headerRef=mn(),this.footerRef=mn(),this.interactionsStore={},this.state={viewLabelId:Ur()},this.registerInteractiveComponent=(e,t)=>{let n=OB(e,t),s=[_A,CA].concat(this.props.pluginHooks.componentInteractions).map(a=>new a(n));this.interactionsStore[e.uid]=s,$d[e.uid]=n},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let n of t)n.destroy();delete this.interactionsStore[e.uid]}delete $d[e.uid]},this.resizeRunner=new Eu(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:t,options:n}=e,r=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,Ud(e.options.now,e.dateEnv),e.viewTitle),o=!1,s="",a;e.isHeightAuto||e.forPrint?s="":n.height!=null?o=!0:n.contentHeight!=null?s=n.contentHeight:a=Math.max(n.aspectRatio,.5);let l=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),u=t.header&&t.header.hasTitle?this.state.viewLabelId:"";return A(Wr.Provider,{value:l},t.header&&A(SC,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:t.header,titleId:u},r)),A(yA,{liquid:o,height:s,aspectRatio:a,labeledById:u},this.renderView(e),this.buildAppendContent()),t.footer&&A(SC,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:t.footer,titleId:""},r)))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(n=>new n(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let n in t)t[n](e[n],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:n}=t.pluginHooks;for(let r in n)t[r]!==e[r]&&n[r](t[r],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,t=e.pluginHooks.viewContainerAppends.map(n=>n(e));return A(ct,{},...t)}renderView(e){let{pluginHooks:t}=e,{viewSpec:n}=e,r={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},o=this.buildViewPropTransformers(t.viewPropsTransformers);for(let a of o)Object.assign(r,a.transform(r,e));let s=n.component;return A(s,Object.assign({},r))}};function Kne(i,e,t,n,r,o){let s=t.build(r,void 0,!1),a=t.buildPrev(e,n,!1),l=t.buildNext(e,n,!1);return{title:o,activeButton:i.type,navUnit:i.singleUnit,isTodayEnabled:s.isValid&&!Br(e.currentRange,r),isPrevEnabled:a.isValid,isNextEnabled:l.isValid}}function Qne(i){return i.map(e=>new e)}var bC=class extends Tp{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=n=>{switch(n.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=n=>{this.currentData=n,this.renderRunner.request(n.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:n}=this;GR(()=>{el(A(Dp,{options:n.calendarOptions,theme:n.theme,emitter:n.emitter},(r,o,s,a)=>(this.setClassNames(r),this.setHeight(o),A(jR.Provider,{value:this.customContentRenderId},A(wA,Object.assign({isHeightAuto:s,forPrint:a},n))))),this.el)})}else this.isRendered&&(this.isRendered=!1,el(null,this.el),this.setClassNames([]),this.setHeight(""))},XG(e),this.el=e,this.renderRunner=new Eu(this.handleRenderRequest),new mA({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){GR(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!us(e,this.currentClassNames)){let{classList:t}=this.el;for(let n of this.currentClassNames)t.remove(n);for(let n of e)t.add(n);this.currentClassNames=e}}setHeight(e){SR(this.el,"height",e)}};var Xne=["*"],Jne=["rootEl"],Zd=i=>({$implicit:i});function eie(i,e){if(i&1&&(b(0,"div",1,2),Ga(2,3),D()),i&2){let t=te();N("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),I(2),N("ngTemplateOutlet",t.template)("ngTemplateOutletContext",go(4,Zd,t.renderProps))}}function tie(i,e){if(i&1&&(b(0,"span",1,2),Ga(2,3),D()),i&2){let t=te();N("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),I(2),N("ngTemplateOutlet",t.template)("ngTemplateOutletContext",go(4,Zd,t.renderProps))}}function nie(i,e){if(i&1&&(b(0,"a",1,2),Ga(2,3),D()),i&2){let t=te();N("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),I(2),N("ngTemplateOutlet",t.template)("ngTemplateOutletContext",go(4,Zd,t.renderProps))}}function iie(i,e){if(i&1&&(b(0,"tr",1,2),Ga(2,3),D()),i&2){let t=te();N("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),I(2),N("ngTemplateOutlet",t.template)("ngTemplateOutletContext",go(4,Zd,t.renderProps))}}function rie(i,e){if(i&1&&(b(0,"th",1,2),Ga(2,3),D()),i&2){let t=te();N("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),I(2),N("ngTemplateOutlet",t.template)("ngTemplateOutletContext",go(4,Zd,t.renderProps))}}function oie(i,e){if(i&1&&(b(0,"td",1,2),Ga(2,3),D()),i&2){let t=te();N("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),I(2),N("ngTemplateOutlet",t.template)("ngTemplateOutletContext",go(4,Zd,t.renderProps))}}var sie=["dayHeaderContent"],aie=["dayCellContent"],lie=["weekNumberContent"],uie=["nowIndicatorContent"],cie=["eventContent"],die=["slotLaneContent"],hie=["slotLabelContent"],fie=["allDayContent"],pie=["moreLinkContent"],gie=["noEventsContent"],mie=["resourceAreaHeaderContent"],vie=["resourceGroupLabelContent"],yie=["resourceLabelContent"],_ie=["resourceLaneContent"],Cie=["resourceGroupLaneContent"];function wie(i,e){if(i&1&&Q(0,"transport-container",1),i&2){let t=e.$implicit,n=te();N("inPlaceOf",t.containerEl)("reportEl",t.reportNewContainerEl)("elTag",t.elTag)("elClasses",t.elClasses)("elStyle",t.elStyle)("elAttrs",t.elAttrs)("template",n.templateMap[t.generatorName])("renderProps",t.renderProps)}}var cj={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0},Sie=["events","eventSources","resources"],bie=Object.prototype.hasOwnProperty;function DC(i){return Array.isArray(i)?i.map(DC):i instanceof Date?new Date(i.valueOf()):typeof i=="object"&&i?hj(i,DC):i}function hj(i,e){let t={};for(let n in i)bie.call(i,n)&&(t[n]=e(i[n],n));return t}function EA(i,e){if(i===e)return!0;if(i&&e&&typeof i=="object"&&typeof e=="object"){if(i.constructor!==e.constructor)return!1;var t,n,r;if(Array.isArray(i)){if(t=i.length,t!=e.length)return!1;for(n=t;n--!==0;)if(!EA(i[n],e[n]))return!1;return!0}if(i.constructor===RegExp)return i.source===e.source&&i.flags===e.flags;if(i.valueOf!==Object.prototype.valueOf)return i.valueOf()===e.valueOf();if(i.toString!==Object.prototype.toString)return i.toString()===e.toString();if(r=Object.keys(i),t=r.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,r[n]))return!1;for(n=t;n--!==0;){var o=r[n];if(!EA(i[o],e[o]))return!1}return!0}return i!==i&&e!==e}var EC=typeof document<"u"?document.createDocumentFragment():null,Eie=(()=>{class i{constructor(t){this.element=t}ngAfterViewInit(){EC&&EC.appendChild(this.element.nativeElement)}ngOnDestroy(){EC&&EC.removeChild(this.element.nativeElement)}}return i.\u0275fac=function(t){return new(t||i)(x($e))},i.\u0275cmp=re({type:i,selectors:[["offscreen-fragment"]],ngContentSelectors:Xne,decls:1,vars:0,template:function(t,n){t&1&&(Mf(),If(0))},encapsulation:2}),i})(),Qd=typeof document<"u"?document.createDocumentFragment():null,Die=(()=>{class i{ngAfterViewInit(){let t=this.rootElRef?.nativeElement;dj(t,this.inPlaceOf),bA(t,void 0,this.elAttrs),this.inPlaceOf.style.display="none",this.reportEl(t)}ngOnChanges(t){let n=this.rootElRef?.nativeElement;if(n)if(this.inPlaceOf.parentNode!==Qd)dj(n,this.inPlaceOf),bA(n,void 0,this.elAttrs),this.reportEl(n);else{let r=t.elAttrs;r&&bA(n,r.previousValue,r.currentValue)}}ngOnDestroy(){this.inPlaceOf.parentNode===Qd&&Qd&&Qd.removeChild(this.inPlaceOf),this.reportEl(null)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=re({type:i,selectors:[["transport-container"]],viewQuery:function(t,n){if(t&1&&Zn(Jne,5),t&2){let r;lt(r=ut())&&(n.rootElRef=r.first)}},inputs:{inPlaceOf:"inPlaceOf",reportEl:"reportEl",elTag:"elTag",elClasses:"elClasses",elStyle:"elStyle",elAttrs:"elAttrs",template:"template",renderProps:"renderProps"},features:[Wt],decls:6,vars:6,consts:[[3,"ngIf"],[3,"ngClass","ngStyle"],["rootEl",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,n){t&1&&ue(0,eie,3,6,"ng-template",0)(1,tie,3,6,"ng-template",0)(2,nie,3,6,"ng-template",0)(3,iie,3,6,"ng-template",0)(4,rie,3,6,"ng-template",0)(5,oie,3,6,"ng-template",0),t&2&&(N("ngIf",n.elTag=="div"),I(),N("ngIf",n.elTag=="span"),I(),N("ngIf",n.elTag=="a"),I(),N("ngIf",n.elTag=="tr"),I(),N("ngIf",n.elTag=="th"),I(),N("ngIf",n.elTag=="td"))},dependencies:[Ri,Ua,nV,Lf],encapsulation:2}),i})();function dj(i,e){e.parentNode?.insertBefore(i,e.nextSibling),Qd&&Qd.appendChild(e)}function bA(i,e={},t={}){for(let n in e)n in t||(i[n]=null);for(let n in t)i[n]=t[n]}var fj=(()=>{class i{constructor(t,n){this.element=t,this.calendar=null,this.optionSnapshot={},this.customRenderingMap=new Map,this.templateMap={};let r=new Pp;r.subscribe(o=>{this.customRenderingMap=o,this.customRenderingArray=void 0,n.detectChanges()}),this.handleCustomRendering=r.handle.bind(r),this.templateMap=this}ngAfterViewInit(){let{deepChangeDetection:t}=this,n=K(K({},this.options),this.buildInputOptions());this.optionSnapshot=hj(n,(a,l)=>t&&cj[l]?DC(a):a);let r=this.element.nativeElement,o=this.calendar=new bC(r,K(K({},n),this.buildExtraOptions())),s=r.closest("ion-content");s&&s.componentOnReady?s.componentOnReady().then(()=>{window.requestAnimationFrame(()=>{o.render()})}):o.render()}ngDoCheck(){if(this.calendar){let{deepChangeDetection:t,optionSnapshot:n}=this,r=K(K({},this.options),this.buildInputOptions()),o={},s=[];for(let l in r)if(r.hasOwnProperty(l)){let u=r[l];t&&cj[l]?EA(n[l],u)||(n[l]=DC(u),s.push(l)):n[l]!==u&&(n[l]=u,s.push(l)),o[l]=u}let a=Object.keys(n);for(let l of a)l in r||(delete n[l],s.push(l));s.length&&(this.calendar.pauseRendering(),this.calendar.resetOptions(K(K({},o),this.buildExtraOptions()),s))}}ngAfterContentChecked(){this.calendar&&this.calendar.resumeRendering()}ngOnDestroy(){this.calendar&&(this.calendar.destroy(),this.calendar=null)}get customRenderings(){return this.customRenderingArray||(this.customRenderingArray=[...this.customRenderingMap.values()])}getApi(){return this.calendar}buildInputOptions(){let t={};for(let n of Sie){let r=this[n];r!=null&&(t[n]=r)}return t}buildExtraOptions(){return{handleCustomRendering:this.handleCustomRendering,customRenderingMetaMap:this.templateMap,customRenderingReplaces:!0}}trackCustomRendering(t,n){return n.id}}return i.\u0275fac=function(t){return new(t||i)(x($e),x(kn))},i.\u0275cmp=re({type:i,selectors:[["full-calendar"]],contentQueries:function(t,n,r){if(t&1&&(bn(r,sie,7),bn(r,aie,7),bn(r,lie,7),bn(r,uie,7),bn(r,cie,7),bn(r,die,7),bn(r,hie,7),bn(r,fie,7),bn(r,pie,7),bn(r,gie,7),bn(r,mie,7),bn(r,vie,7),bn(r,yie,7),bn(r,_ie,7),bn(r,Cie,7)),t&2){let o;lt(o=ut())&&(n.dayHeaderContent=o.first),lt(o=ut())&&(n.dayCellContent=o.first),lt(o=ut())&&(n.weekNumberContent=o.first),lt(o=ut())&&(n.nowIndicatorContent=o.first),lt(o=ut())&&(n.eventContent=o.first),lt(o=ut())&&(n.slotLaneContent=o.first),lt(o=ut())&&(n.slotLabelContent=o.first),lt(o=ut())&&(n.allDayContent=o.first),lt(o=ut())&&(n.moreLinkContent=o.first),lt(o=ut())&&(n.noEventsContent=o.first),lt(o=ut())&&(n.resourceAreaHeaderContent=o.first),lt(o=ut())&&(n.resourceGroupLabelContent=o.first),lt(o=ut())&&(n.resourceLabelContent=o.first),lt(o=ut())&&(n.resourceLaneContent=o.first),lt(o=ut())&&(n.resourceGroupLaneContent=o.first)}},inputs:{options:"options",deepChangeDetection:"deepChangeDetection",events:"events",eventSources:"eventSources",resources:"resources"},decls:2,vars:2,consts:[[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps",4,"ngFor","ngForOf","ngForTrackBy"],[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps"]],template:function(t,n){t&1&&(b(0,"offscreen-fragment"),ue(1,wie,1,8,"transport-container",0),D()),t&2&&(I(),N("ngForOf",n.customRenderings)("ngForTrackBy",n.trackCustomRendering))},dependencies:[Eie,Die,Xo],encapsulation:2}),i})(),pj=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Pe({type:i}),i.\u0275inj=Ie({imports:[[gu]]}),i})();Kp.touchMouseIgnoreWait=500;var DA=0,TC=0,TA=!1,RC=class{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&Rie(t)&&this.tryStart(t)){let n=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let n=this.createEventFromMouse(t);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let n=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n);let r=t.target;this.shouldIgnoreMove||r.addEventListener("touchmove",this.handleTouchMove),r.addEventListener("touchend",this.handleTouchEnd),r.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let n=this.createEventFromTouch(t);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleTouchEnd=t=>{if(this.isDragging){let n=t.target;n.removeEventListener("touchmove",this.handleTouchMove),n.removeEventListener("touchend",this.handleTouchEnd),n.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,Aie()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let n=window.pageXOffset-this.prevScrollX+this.prevPageX,r=window.pageYOffset-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:n,pageY:r,deltaX:n-this.origPageX,deltaY:r-this.origPageY})}},this.containerEl=e,this.emitter=new ea,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),Oie()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),xie()}tryStart(e){let t=this.querySubjectEl(e),n=e.target;return t&&(!this.handleSelector||En(n,this.handleSelector))?(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){TA=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?En(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return DA||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(TA=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let n=0,r=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(n=e.pageX-this.origPageX,r=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:n,deltaY:r}}createEventFromTouch(e,t){let n=e.touches,r,o,s=0,a=0;return n&&n.length?(r=n[0].pageX,o=n[0].pageY):(r=e.pageX,o=e.pageY),t?(this.origPageX=r,this.origPageY=o):(s=r-this.origPageX,a=o-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:r,pageY:o,deltaX:s,deltaY:a}}};function Rie(i){return i.button===0&&!i.ctrlKey}function Aie(){DA+=1,setTimeout(()=>{DA-=1},Kp.touchMouseIgnoreWait)}function Oie(){TC+=1,TC===1&&window.addEventListener("touchmove",mj,{passive:!1})}function xie(){TC-=1,TC||window.removeEventListener("touchmove",mj,{passive:!1})}function mj(i){TA&&i.preventDefault()}var RA=class{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,n){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.pageXOffset,this.origScreenY=n-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.pageXOffset-this.origScreenX,this.deltaY=t-window.pageYOffset-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let n=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(n,this.revertDuration):setTimeout(n,0)}doRevertAnimation(e,t){let n=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();n.style.transition="top "+t+"ms,left "+t+"ms",Lu(n,{left:r.left,top:r.top}),ER(n,()=>{n.style.transition="",e()})}cleanup(){this.mirrorEl&&(Fp(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Lu(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.classList.add("fc-event-dragging"),Lu(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}},AC=class extends Ru{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}},OC=class extends AC{constructor(e,t){super(new Ap(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return lA(this.scrollController.el)}},AA=class extends AC{constructor(e){super(new Op,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}},gj=typeof performance=="function"?performance.now:Date.now,OA=class{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.pageXOffset,this.pointerScreenY+window.pageYOffset);if(e){let t=gj();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let n=e-window.pageXOffset,r=t-window.pageYOffset,o=this.pointerScreenY===null?0:r-this.pointerScreenY,s=this.pointerScreenX===null?0:n-this.pointerScreenX;o<0?this.everMovedUp=!0:o>0&&(this.everMovedDown=!0),s<0?this.everMovedLeft=!0:s>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(gj()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:n}=e,{edgeThreshold:r}=this,o=r-e.distance,s=o*o/(r*r)*this.maxVelocity*t,a=1;switch(e.name){case"left":a=-1;case"right":n.setScrollLeft(n.getScrollLeft()+s*a);break;case"top":a=-1;case"bottom":n.setScrollTop(n.getScrollTop()+s*a);break}}computeBestEdge(e,t){let{edgeThreshold:n}=this,r=null,o=this.scrollCaches||[];for(let s of o){let a=s.clientRect,l=e-a.left,u=a.right-e,c=t-a.top,d=a.bottom-t;l>=0&&u>=0&&c>=0&&d>=0&&(c<=n&&this.everMovedUp&&s.canScrollUp()&&(!r||r.distance>c)&&(r={scrollCache:s,name:"top",distance:c}),d<=n&&this.everMovedDown&&s.canScrollDown()&&(!r||r.distance>d)&&(r={scrollCache:s,name:"bottom",distance:d}),l<=n&&this.everMovedLeft&&s.canScrollLeft()&&(!r||r.distance>l)&&(r={scrollCache:s,name:"left",distance:l}),u<=n&&this.everMovedRight&&s.canScrollRight()&&(!r||r.distance>u)&&(r={scrollCache:s,name:"right",distance:u}))}return r}buildCaches(e){return this.queryScrollEls(e).map(t=>t===window?new AA(!1):new OC(t,!1))}queryScrollEls(e){let t=[];for(let n of this.scrollQuery)typeof n=="object"?t.push(n):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(n)));return t}},Hu=class extends Ip{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=r=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,DR(document.body),RR(document.body),r.isTouch||r.origEvent.preventDefault(),this.emitter.trigger("pointerdown",r),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(r.subjectEl,r.pageX,r.pageY),this.startDelay(r),this.minDistance||this.handleDistanceSurpassed(r)))},this.onPointerMove=r=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",r),!this.isDistanceSurpassed){let o=this.minDistance,s,{deltaX:a,deltaY:l}=r;s=a*a+l*l,s>=o*o&&this.handleDistanceSurpassed(r)}this.isDragging&&(r.origEvent.type!=="scroll"&&(this.mirror.handleMove(r.pageX,r.pageY),this.autoScroller.handleMove(r.pageX,r.pageY)),this.emitter.trigger("dragmove",r))}},this.onPointerUp=r=>{this.isInteracting&&(this.isInteracting=!1,TR(document.body),AR(document.body),this.emitter.trigger("pointerup",r),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(r)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let n=this.pointer=new RC(e);n.emitter.on("pointerdown",this.onPointerDown),n.emitter.on("pointermove",this.onPointerMove),n.emitter.on("pointerup",this.onPointerUp),t&&(n.selector=t),this.mirror=new RA,this.autoScroller=new OA}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}},xA=class{constructor(e){this.origRect=qp(e),this.scrollCaches=_C(e).map(t=>new OC(t,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let n={left:e,top:t};for(let r of this.scrollCaches)if(!Mie(r.getEventTarget())&&!rA(n,r.clientRect))return!1;return!0}};function Mie(i){let e=i.tagName;return e==="HTML"||e==="BODY"}var Xd=class{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=n=>{let{dragging:r}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(n),this.initialHit||!this.requireInitial?(r.setIgnoreMove(!1),this.emitter.trigger("pointerdown",n)):r.setIgnoreMove(!0)},this.handleDragStart=n=>{this.emitter.trigger("dragstart",n),this.handleMove(n,!0)},this.handleDragMove=n=>{this.emitter.trigger("dragmove",n),this.handleMove(n)},this.handlePointerUp=n=>{this.releaseHits(),this.emitter.trigger("pointerup",n)},this.handleDragEnd=n=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,n),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",n)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new ea}processFirstCoord(e){let t={left:e.pageX,top:e.pageY},n=t,r=e.subjectEl,o;r instanceof HTMLElement&&(o=qp(r),n=oA(n,o));let s=this.initialHit=this.queryHitForOffset(n.left,n.top);if(s){if(this.useSubjectCenter&&o){let a=yC(o,s.rect);a&&(n=sA(a))}this.coordAdjust=aA(n,t)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let n=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!xC(this.movingHit,n))&&(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,e))}prepareHits(){this.offsetTrackers=jr(this.droppableStore,e=>(e.component.prepareHits(),new xA(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:n,offsetTrackers:r}=this,o=null;for(let s in n){let a=n[s].component,l=r[s];if(l&&l.isWithinClipping(e,t)){let u=l.computeLeft(),c=l.computeTop(),d=e-u,h=t-c,{origRect:f}=l,p=f.right-f.left,g=f.bottom-f.top;if(d>=0&&d<p&&h>=0&&h<g){let m=a.queryHit(d,h,p,g);m&&jd(m.dateProfile.activeRange,m.dateSpan.range)&&(!o||m.layer>o.layer)&&(m.componentId=s,m.context=a.context,m.rect.left+=u,m.rect.right+=u,m.rect.top+=c,m.rect.bottom+=c,o=m)}}}return o}};function xC(i,e){return!i&&!e?!0:!!i!=!!e?!1:JR(i.dateSpan,e.dateSpan)}function vj(i,e){let t={};for(let n of e.pluginHooks.datePointTransforms)Object.assign(t,n(i,e));return Object.assign(t,Iie(i,e.dateEnv)),t}function Iie(i,e){return{date:e.toDate(i.range.start),dateStr:e.formatIso(i.range.start,{omitTime:i.allDay}),allDay:i.allDay}}var MA=class extends So{constructor(e){super(e),this.handlePointerDown=n=>{let{dragging:r}=this,o=n.origEvent.target;r.setIgnoreMove(!this.component.isValidDateDownEl(o))},this.handleDragEnd=n=>{let{component:r}=this,{pointer:o}=this.dragging;if(!o.wasTouchScroll){let{initialHit:s,finalHit:a}=this.hitDragging;if(s&&a&&xC(s,a)){let{context:l}=r,u=Object.assign(Object.assign({},vj(s.dateSpan,l)),{dayEl:s.dayEl,jsEvent:n.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",u)}}},this.dragging=new Hu(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new Xd(this.dragging,zp(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}},IA=class extends So{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=s=>{let{component:a,dragging:l}=this,{options:u}=a.context,c=u.selectable&&a.isValidDateDownEl(s.origEvent.target);l.setIgnoreMove(!c),l.delay=s.isTouch?Pie(a):null},this.handleDragStart=s=>{this.component.context.calendarApi.unselect(s)},this.handleHitUpdate=(s,a)=>{let{context:l}=this.component,u=null,c=!1;if(s){let d=this.hitDragging.initialHit;s.componentId===d.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(d,s)||(u=Fie(d,s,l.pluginHooks.dateSelectionTransformers)),(!u||!cA(u,s.dateProfile,l))&&(c=!0,u=null)}u?l.dispatch({type:"SELECT_DATES",selection:u}):a||l.dispatch({type:"UNSELECT_DATES"}),c?Lp():kp(),a||(this.dragSelection=u)},this.handlePointerUp=s=>{this.dragSelection&&(vC(this.dragSelection,s,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:n}=t.context,r=this.dragging=new Hu(e.el);r.touchScrollAllowed=!1,r.minDistance=n.selectMinDistance||0,r.autoScroller.isEnabled=n.dragScroll;let o=this.hitDragging=new Xd(this.dragging,zp(e));o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("hitupdate",this.handleHitUpdate),o.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}};function Pie(i){let{options:e}=i.context,t=e.selectLongPressDelay;return t==null&&(t=e.longPressDelay),t}function Fie(i,e,t){let n=i.dateSpan,r=e.dateSpan,o=[n.range.start,n.range.end,r.range.start,r.range.end];o.sort(OR);let s={};for(let a of t){let l=a(i,e);if(l===!1)return null;l&&Object.assign(s,l)}return s.range={start:o[0],end:o[3]},s.allDay=n.allDay,s}var yj=(()=>{class i extends So{constructor(t){super(t),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let l=a.origEvent.target,{component:u,dragging:c}=this,{mirror:d}=c,{options:h}=u.context,f=u.context;this.subjectEl=a.subjectEl;let p=this.subjectSeg=ia(a.subjectEl),m=(this.eventRange=p.eventRange).instance.instanceId;this.relevantEvents=jp(f.getCurrentData().eventStore,m),c.minDistance=a.isTouch?0:h.eventDragMinDistance,c.delay=a.isTouch&&m!==u.props.eventSelection?Lie(u):null,h.fixedMirrorParent?d.parentNode=h.fixedMirrorParent:d.parentNode=En(l,".fc"),d.revertDuration=h.dragRevertDuration;let v=u.isValidSegDownEl(l)&&!En(l,".fc-event-resizer");c.setIgnoreMove(!v),this.isDragging=v&&a.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=a=>{let l=this.component.context,u=this.eventRange,c=u.instance.instanceId;a.isTouch?c!==this.component.props.eventSelection&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:c}):l.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(l.calendarApi.unselect(a),l.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Nt(l,u.def,u.instance),jsEvent:a.origEvent,view:l.viewApi}))},this.handleHitUpdate=(a,l)=>{if(!this.isDragging)return;let u=this.relevantEvents,c=this.hitDragging.initialHit,d=this.component.context,h=null,f=null,p=null,g=!1,m={affectedEvents:u,mutatedEvents:hi(),isEvent:!0};if(a){h=a.context;let v=h.options;d===h||v.editable&&v.droppable?(f=Nie(c,a,h.getCurrentData().pluginHooks.eventDragMutationMassagers),f&&(p=Up(u,h.getCurrentData().eventUiBases,f,h),m.mutatedEvents=p,CC(m,a.dateProfile,h)||(g=!0,f=null,p=null,m.mutatedEvents=hi()))):h=null}this.displayDrag(h,m),g?Lp():kp(),l||(d===h&&xC(c,a)&&(f=null),this.dragging.setMirrorNeedsRevert(!f),this.dragging.setMirrorIsVisible(!a||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=h,this.validMutation=f,this.mutatedRelevantEvents=p)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=a=>{if(this.isDragging){let l=this.component.context,u=l.viewApi,{receivingContext:c,validMutation:d}=this,h=this.eventRange.def,f=this.eventRange.instance,p=new Nt(l,h,f),g=this.relevantEvents,m=this.mutatedRelevantEvents,{finalHit:v}=this.hitDragging;if(this.clearDrag(),l.emitter.trigger("eventDragStop",{el:this.subjectEl,event:p,jsEvent:a.origEvent,view:u}),d){if(c===l){let y=new Nt(l,m.defs[h.defId],f?m.instances[f.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:m});let C={oldEvent:p,event:y,relatedEvents:ds(m,l,f),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:g})}},S={};for(let E of l.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(S,E(d,l));l.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},C),S),{el:a.subjectEl,delta:d.datesDelta,jsEvent:a.origEvent,view:u})),l.emitter.trigger("eventChange",C)}else if(c){let y={event:p,relatedEvents:ds(g,l,f),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:g})}};l.emitter.trigger("eventLeave",Object.assign(Object.assign({},y),{draggedEl:a.subjectEl,view:u})),l.dispatch({type:"REMOVE_EVENTS",eventStore:g}),l.emitter.trigger("eventRemove",y);let C=m.defs[h.defId],S=m.instances[f.instanceId],E=new Nt(c,C,S);c.dispatch({type:"MERGE_EVENTS",eventStore:m});let T={event:E,relatedEvents:ds(m,c,S),revert(){c.dispatch({type:"REMOVE_EVENTS",eventStore:m})}};c.emitter.trigger("eventAdd",T),a.isTouch&&c.dispatch({type:"SELECT_EVENT",eventInstanceId:f.instanceId}),c.emitter.trigger("drop",Object.assign(Object.assign({},vj(v.dateSpan,c)),{draggedEl:a.subjectEl,jsEvent:a.origEvent,view:v.context.viewApi})),c.emitter.trigger("eventReceive",Object.assign(Object.assign({},T),{draggedEl:a.subjectEl,view:v.context.viewApi}))}}else l.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:r}=n.context,o=this.dragging=new Hu(t.el);o.pointer.selector=i.SELECTOR,o.touchScrollAllowed=!1,o.autoScroller.isEnabled=r.dragScroll;let s=this.hitDragging=new Xd(this.dragging,$d);s.useSubjectCenter=t.useEventCenter,s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(t,n){let r=this.component.context,o=this.receivingContext;o&&o!==t&&(o===r?o.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:hi(),isEvent:!0}}):o.dispatch({type:"UNSET_EVENT_DRAG"})),t&&t.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let t=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),t!==n&&t.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}return i.SELECTOR=".fc-event-draggable, .fc-event-resizable",i})();function Nie(i,e,t){let n=i.dateSpan,r=e.dateSpan,o=n.range.start,s=r.range.start,a={};n.allDay!==r.allDay&&(a.allDay=r.allDay,a.hasEnd=e.context.options.allDayMaintainDuration,r.allDay&&(o=gt(o)));let l=rl(o,s,i.context.dateEnv,i.componentId===e.componentId?i.largeUnit:null);l.milliseconds&&(a.allDay=!1);let u={datesDelta:l,standardProps:a};for(let c of t)c(u,i,e);return u}function Lie(i){let{options:e}=i.context,t=e.eventLongPressDelay;return t==null&&(t=e.longPressDelay),t}var PA=class extends So{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let{component:s}=this,a=this.querySegEl(o),l=ia(a),u=this.eventRange=l.eventRange;this.dragging.minDistance=s.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(o.origEvent.target)||o.isTouch&&this.component.props.eventSelection!==u.instance.instanceId)},this.handleDragStart=o=>{let{context:s}=this.component,a=this.eventRange;this.relevantEvents=jp(s.getCurrentData().eventStore,this.eventRange.instance.instanceId);let l=this.querySegEl(o);this.draggingSegEl=l,this.draggingSeg=ia(l),s.calendarApi.unselect(),s.emitter.trigger("eventResizeStart",{el:l,event:new Nt(s,a.def,a.instance),jsEvent:o.origEvent,view:s.viewApi})},this.handleHitUpdate=(o,s,a)=>{let{context:l}=this.component,u=this.relevantEvents,c=this.hitDragging.initialHit,d=this.eventRange.instance,h=null,f=null,p=!1,g={affectedEvents:u,mutatedEvents:hi(),isEvent:!0};o&&(o.componentId===c.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(c,o)||(h=kie(c,o,a.subjectEl.classList.contains("fc-event-resizer-start"),d.range))),h&&(f=Up(u,l.getCurrentData().eventUiBases,h,l),g.mutatedEvents=f,CC(g,o.dateProfile,l)||(p=!0,h=null,f=null,g.mutatedEvents=null)),f?l.dispatch({type:"SET_EVENT_RESIZE",state:g}):l.dispatch({type:"UNSET_EVENT_RESIZE"}),p?Lp():kp(),s||(h&&xC(c,o)&&(h=null),this.validMutation=h,this.mutatedRelevantEvents=f)},this.handleDragEnd=o=>{let{context:s}=this.component,a=this.eventRange.def,l=this.eventRange.instance,u=new Nt(s,a,l),c=this.relevantEvents,d=this.mutatedRelevantEvents;if(s.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:u,jsEvent:o.origEvent,view:s.viewApi}),this.validMutation){let h=new Nt(s,d.defs[a.defId],l?d.instances[l.instanceId]:null);s.dispatch({type:"MERGE_EVENTS",eventStore:d});let f={oldEvent:u,event:h,relatedEvents:ds(d,s,l),revert(){s.dispatch({type:"MERGE_EVENTS",eventStore:c})}};s.emitter.trigger("eventResize",Object.assign(Object.assign({},f),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||qe(0),endDelta:this.validMutation.endDelta||qe(0),jsEvent:o.origEvent,view:s.viewApi})),s.emitter.trigger("eventChange",f)}else s.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,n=this.dragging=new Hu(e.el);n.pointer.selector=".fc-event-resizer",n.touchScrollAllowed=!1,n.autoScroller.isEnabled=t.context.options.dragScroll;let r=this.hitDragging=new Xd(this.dragging,zp(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return En(e.subjectEl,".fc-event")}};function kie(i,e,t,n){let r=i.context.dateEnv,o=i.dateSpan.range.start,s=e.dateSpan.range.start,a=rl(o,s,r,i.largeUnit);if(t){if(r.add(n.start,a)<n.end)return{startDelta:a}}else if(r.add(n.end,a)>n.start)return{endDelta:a};return null}var FA=class{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=n=>{n.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=n=>{let r=this.context.options.unselectCancel,o=oC(n.origEvent);this.matchesCancel=!!En(o,r),this.matchesEvent=!!En(o,yj.SELECTOR)},this.onDocumentPointerUp=n=>{let{context:r}=this,{documentPointer:o}=this,s=r.getCurrentData();if(!o.wasTouchScroll){if(s.dateSelection&&!this.isRecentPointerDateSelect){let a=r.options.unselectAuto;a&&(!a||!this.matchesCancel)&&r.calendarApi.unselect(n)}s.eventSelection&&!this.matchesEvent&&r.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new RC(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}},Vie={fixedMirrorParent:L},Hie={dateClick:L,eventDragStart:L,eventDragStop:L,eventDrop:L,eventResizeStart:L,eventResizeStop:L,eventResize:L,drop:L,eventReceive:L,eventLeave:L};Kp.dataAttrPrefix="";var _j=Vi({name:"@fullcalendar/interaction",componentInteractions:[MA,IA,yj,PA],calendarInteractions:[FA],elementDraggingImpl:Hu,optionRefiners:Vie,listenerRefiners:Hie});var NA=class extends Jn{constructor(){super(...arguments),this.headerElRef=mn()}renderSimpleLayout(e,t){let{props:n,context:r}=this,o=[],s=Vu(r.options);return e&&o.push({type:"header",key:"header",isSticky:s,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),o.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),A(wo,{elClasses:["fc-daygrid"],viewSpec:r.viewSpec},A(ol,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:o}))}renderHScrollLayout(e,t,n,r){let o=this.context.pluginHooks.scrollGridImpl;if(!o)throw new Error("No ScrollGrid implementation");let{props:s,context:a}=this,l=!s.forPrint&&Vu(a.options),u=!s.forPrint&&Qp(a.options),c=[];return e&&c.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),c.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),u&&c.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Yd}]}),A(wo,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},A(o,{liquid:!s.isHeightAuto&&!s.forPrint,forPrint:s.forPrint,collapsibleWidth:s.forPrint,colGroups:[{cols:[{span:n,minWidth:r}]}],sections:c}))}};function MC(i,e){let t=[];for(let n=0;n<e;n+=1)t[n]=[];for(let n of i)t[n.row].push(n);return t}function IC(i,e){let t=[];for(let n=0;n<e;n+=1)t[n]=[];for(let n of i)t[n.firstCol].push(n);return t}function Cj(i,e){let t=[];if(i){for(let n=0;n<e;n+=1)t[n]={affectedInstances:i.affectedInstances,isEvent:i.isEvent,segs:[]};for(let n of i.segs)t[n.row].segs.push(n)}else for(let n=0;n<e;n+=1)t[n]=null;return t}var wj=Ct({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function Sj(i){let{display:e}=i.eventRange.ui;return e==="list-item"||e==="auto"&&!i.eventRange.def.allDay&&i.firstCol===i.lastCol&&i.isStart&&i.isEnd}var PC=class extends it{render(){let{props:e}=this;return A(Pu,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:wj,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}},FC=class extends it{render(){let{props:e,context:t}=this,{options:n}=t,{seg:r}=e,o=n.eventTimeFormat||wj,s=dl(r,o,t,!0,e.defaultDisplayEventEnd);return A(ta,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:zd(e.seg,t),defaultGenerator:Gie,timeText:s,isResizing:!1,isDateSelecting:!1}))}};function Gie(i){return A(ct,null,A("div",{className:"fc-daygrid-event-dot",style:{borderColor:i.borderColor||i.backgroundColor}}),i.timeText&&A("div",{className:"fc-event-time"},i.timeText),A("div",{className:"fc-event-title"},i.event.title||A(ct,null,"\xA0")))}var LA=class extends it{constructor(){super(...arguments),this.compileSegs=ge(Bie)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:n}=this.compileSegs(e.singlePlacements);return A(Nu,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:n,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let r=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return A(ct,null,t.map(o=>{let s=o.eventRange.instance.instanceId;return A("div",{className:"fc-daygrid-event-harness",key:s,style:{visibility:r[s]?"hidden":""}},Sj(o)?A(FC,Object.assign({seg:o,isDragging:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},mr(o,e.todayRange))):A(PC,Object.assign({seg:o,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},mr(o,e.todayRange))))}))}})}};function Bie(i){let e=[],t=[];for(let n of i)e.push(n.seg),n.isVisible||t.push(n.seg);return{allSegs:e,invisibleSegs:t}}var jie=Ct({week:"narrow"}),kA=class extends Jn{constructor(){super(...arguments),this.rootElRef=mn(),this.state={dayNumberId:Ur()},this.handleRootEl=e=>{zr(this.rootElRef,e),zr(this.props.elRef,e)}}render(){let{context:e,props:t,state:n,rootElRef:r}=this,{options:o,dateEnv:s}=e,{date:a,dateProfile:l}=t,u=t.showDayNumber&&Wie(a,l.currentRange,s);return A(sl,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":n.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:Uie,date:a,dateProfile:l,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:u,extraRenderProps:t.extraRenderProps},(c,d)=>A("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&A(Jp,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:hs(e,a,"week"),date:a,defaultFormat:jie}),!d.isDisabled&&(t.showDayNumber||Kd(o)||t.forceDayTop)?A("div",{className:"fc-daygrid-day-top"},A(c,{elTag:"a",elClasses:["fc-daygrid-day-number",u&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},hs(e,a)),{id:n.dayNumberId})})):t.showDayNumber?A("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},A("a",{className:"fc-daygrid-day-number"},"\xA0")):void 0,A("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,A("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},A(LA,{allDayDate:a,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:r,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),A("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}};function Uie(i){return i.dayNumberText||A(ct,null,"\xA0")}function Wie(i,e,t){let{start:n,end:r}=e,o=as(r,-1),s=t.getYear(n),a=t.getMonth(n),l=t.getYear(o),u=t.getMonth(o);return!(s===l&&a===u)&&(i.valueOf()===n.valueOf()||t.getDay(i)===1&&i.valueOf()<r.valueOf())}function bj(i){return i.eventRange.instance.instanceId+":"+i.firstCol}function Ej(i){return bj(i)+":"+i.lastCol}function zie(i,e,t,n,r,o,s){let a=new VA(v=>{let y=i[v.index].eventRange.instance.instanceId+":"+v.span.start+":"+(v.span.end-1);return r[y]});a.allowReslicing=!0,a.strictOrder=n,e===!0||t===!0?(a.maxCoord=o,a.hiddenConsumes=!0):typeof e=="number"?a.maxStackCnt=e:typeof t=="number"&&(a.maxStackCnt=t,a.hiddenConsumes=!0);let l=[],u=[];for(let v=0;v<i.length;v+=1){let y=i[v],C=Ej(y);r[C]!=null?l.push({index:v,span:{start:y.firstCol,end:y.lastCol+1}}):u.push(y)}let c=a.addSegs(l),d=a.toRects(),{singleColPlacements:h,multiColPlacements:f,leftoverMargins:p}=$ie(d,i,s),g=[],m=[];for(let v of u){f[v.firstCol].push({seg:v,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let y=v.firstCol;y<=v.lastCol;y+=1)h[y].push({seg:Jd(v,y,y+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let v=0;v<s.length;v+=1)g.push(0);for(let v of c){let y=i[v.index],C=v.span;f[C.start].push({seg:Jd(y,C.start,C.end,s),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let S=C.start;S<C.end;S+=1)g[S]+=1,h[S].push({seg:Jd(y,S,S+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let v=0;v<s.length;v+=1)m.push(p[v]);return{singleColPlacements:h,multiColPlacements:f,moreCnts:g,moreMarginTops:m}}function $ie(i,e,t){let n=qie(i,t.length),r=[],o=[],s=[];for(let a=0;a<t.length;a+=1){let l=n[a],u=[],c=0,d=0;for(let f of l){let p=e[f.index];u.push({seg:Jd(p,a,a+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:f.levelCoord,marginTop:f.levelCoord-c}),c=f.levelCoord+f.thickness}let h=[];c=0,d=0;for(let f of l){let p=e[f.index],g=f.span.end-f.span.start>1,m=f.span.start===a;d+=f.levelCoord-c,c=f.levelCoord+f.thickness,g?(d+=f.thickness,m&&h.push({seg:Jd(p,f.span.start,f.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:f.levelCoord,marginTop:0})):m&&(h.push({seg:Jd(p,f.span.start,f.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:f.levelCoord,marginTop:d}),d=0)}r.push(u),o.push(h),s.push(d)}return{singleColPlacements:r,multiColPlacements:o,leftoverMargins:s}}function qie(i,e){let t=[];for(let n=0;n<e;n+=1)t.push([]);for(let n of i)for(let r=n.span.start;r<n.span.end;r+=1)t[r].push(n);return t}function Jd(i,e,t,n){if(i.firstCol===e&&i.lastCol===t-1)return i;let r=i.eventRange,o=r.range,s=gr(o,{start:n[e].date,end:on(n[t-1].date,1)});return Object.assign(Object.assign({},i),{firstCol:e,lastCol:t-1,eventRange:{def:r.def,ui:Object.assign(Object.assign({},r.ui),{durationEditable:!1}),instance:r.instance,range:s},isStart:i.isStart&&s.start.valueOf()===o.start.valueOf(),isEnd:i.isEnd&&s.end.valueOf()===o.end.valueOf()})}var VA=class extends Au{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){let t=super.addSegs(e),{entriesByLevel:n}=this,r=o=>!this.forceHidden[ls(o)];for(let o=0;o<n.length;o+=1)n[o]=n[o].filter(r);return t}handleInvalidInsertion(e,t,n){let{entriesByLevel:r,forceHidden:o}=this,{touchingEntry:s,touchingLevel:a,touchingLateral:l}=e;if(this.hiddenConsumes&&s){let u=ls(s);if(!o[u])if(this.allowReslicing){let c=Object.assign(Object.assign({},s),{span:Yp(s.span,t.span)}),d=ls(c);o[d]=!0,r[a][l]=c,this.splitEntry(s,t,n)}else o[u]=!0,n.push(s)}return super.handleInvalidInsertion(e,t,n)}},NC=class extends Jn{constructor(){super(...arguments),this.cellElRefs=new ki,this.frameElRefs=new ki,this.fgElRefs=new ki,this.segHarnessRefs=new ki,this.rootElRef=mn(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:n}=this,{options:r}=n,o=e.cells.length,s=IC(e.businessHourSegs,o),a=IC(e.bgEventSegs,o),l=IC(this.getHighlightSegs(),o),u=IC(this.getMirrorSegs(),o),{singleColPlacements:c,multiColPlacements:d,moreCnts:h,moreMarginTops:f}=zie(ku(e.fgEventSegs,r.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,r.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),p=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return A("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((g,m)=>{let v=this.renderFgSegs(m,e.forPrint?c[m]:d[m],e.todayRange,p),y=this.renderFgSegs(m,Yie(u[m],d),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return A(kA,{key:g.key,elRef:this.cellElRefs.createRef(g.key),innerElRef:this.frameElRefs.createRef(g.key),dateProfile:e.dateProfile,date:g.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&m===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:g.extraRenderProps,extraDataAttrs:g.extraDataAttrs,extraClassNames:g.extraClassNames,extraDateSpan:g.extraDateSpan,moreCnt:h[m],moreMarginTop:f[m],singlePlacements:c[m],fgContentElRef:this.fgElRefs.createRef(g.key),fgContent:A(ct,null,A(ct,null,v),A(ct,null,y)),bgContent:A(ct,null,this.renderFillSegs(l[m],"highlight"),this.renderFillSegs(s[m],"non-business"),this.renderFillSegs(a[m],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let n=this.props;this.updateSizing(!pr(e,n))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,n,r,o,s,a){let{context:l}=this,{eventSelection:u}=this.props,{framePositions:c}=this.state,d=this.props.cells.length===1,h=o||s||a,f=[];if(c)for(let p of t){let{seg:g}=p,{instanceId:m}=g.eventRange.instance,v=p.isVisible&&!r[m],y=p.isAbsolute,C="",S="";y&&(l.isRtl?(S=0,C=c.lefts[g.lastCol]-c.lefts[g.firstCol]):(C=0,S=c.rights[g.firstCol]-c.rights[g.lastCol])),f.push(A("div",{className:"fc-daygrid-event-harness"+(y?" fc-daygrid-event-harness-abs":""),key:bj(g),ref:h?null:this.segHarnessRefs.createRef(Ej(g)),style:{visibility:v?"":"hidden",marginTop:y?"":p.marginTop,top:y?p.absoluteTop:"",left:C,right:S}},Sj(g)?A(FC,Object.assign({seg:g,isDragging:o,isSelected:m===u,defaultDisplayEventEnd:d},mr(g,n))):A(PC,Object.assign({seg:g,isDragging:o,isResizing:s,isDateSelecting:a,isSelected:m===u,defaultDisplayEventEnd:d},mr(g,n)))))}return f}renderFillSegs(e,t){let{isRtl:n}=this.context,{todayRange:r}=this.props,{framePositions:o}=this.state,s=[];if(o)for(let a of e){let l=n?{right:0,left:o.lefts[a.lastCol]-o.lefts[a.firstCol]}:{left:0,right:o.rights[a.firstCol]-o.rights[a.lastCol]};s.push(A("div",{key:Wp(a.eventRange),className:"fc-daygrid-bg-harness",style:l},t==="bg-event"?A(Fu,Object.assign({seg:a},mr(a,r))):Xp(t)))}return A(ct,{},...s)}updateSizing(e){let{props:t,state:n,frameElRefs:r}=this;if(!t.forPrint&&t.clientWidth!==null){if(e){let l=t.cells.map(u=>r.currentMap[u.key]);if(l.length){let u=this.rootElRef.current,c=new bo(u,l,!0,!1);(!n.framePositions||!n.framePositions.similarTo(c))&&this.setState({framePositions:new bo(u,l,!0,!1)})}}let o=this.state.segHeights,s=this.querySegHeights(),a=t.dayMaxEvents===!0||t.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},o),s),maxContentHeight:a?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let n in e){let r=Math.round(e[n].getBoundingClientRect().height);t[n]=Math.max(t[n]||0,r)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-n.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}};NC.addStateEquality({segHeights:pr});function Yie(i,e){if(!i.length)return[];let t=Kie(e);return i.map(n=>({seg:n,isVisible:!0,isAbsolute:!0,absoluteTop:t[n.eventRange.instance.instanceId],marginTop:0}))}function Kie(i){let e={};for(let t of i)for(let n of t)e[n.seg.eventRange.instance.instanceId]=n.absoluteTop;return e}var HA=class extends Jn{constructor(){super(...arguments),this.splitBusinessHourSegs=ge(MC),this.splitBgEventSegs=ge(MC),this.splitFgEventSegs=ge(MC),this.splitDateSelectionSegs=ge(MC),this.splitEventDrag=ge(Cj),this.splitEventResize=ge(Cj),this.rowRefs=new ki}render(){let{props:e,context:t}=this,n=e.cells.length,r=this.splitBusinessHourSegs(e.businessHourSegs,n),o=this.splitBgEventSegs(e.bgEventSegs,n),s=this.splitFgEventSegs(e.fgEventSegs,n),a=this.splitDateSelectionSegs(e.dateSelectionSegs,n),l=this.splitEventDrag(e.eventDrag,n),u=this.splitEventResize(e.eventResize,n),c=n>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return A(ra,{unit:"day"},(d,h)=>A(ct,null,e.cells.map((f,p)=>A(NC,{ref:this.rowRefs.createRef(p),key:f.length?f[0].date.toISOString():p,showDayNumbers:n>1,showWeekNumbers:e.showWeekNumbers,todayRange:h,dateProfile:e.dateProfile,cells:f,renderIntro:e.renderRowIntro,businessHourSegs:r[p],eventSelection:e.eventSelection,bgEventSegs:o[p].filter(Qie),fgEventSegs:s[p],dateSelectionSegs:a[p],eventDrag:l[p],eventResize:u[p],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:c,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){let e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new bo(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new bo(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:n,rowPositions:r}=this,o=n.leftToIndex(e),s=r.topToIndex(t);if(s!=null&&o!=null){let a=this.props.cells[s][o];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(s,o),allDay:!0},a.extraDateSpan),dayEl:this.getCellEl(s,o),rect:{left:n.lefts[o],right:n.rights[o],top:r.tops[s],bottom:r.bottoms[s]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let n=this.props.cells[e][t].date,r=on(n,1);return{start:n,end:r}}};function Qie(i){return i.eventRange.def.allDay}var GA=class extends Jn{constructor(){super(...arguments),this.elRef=mn(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:n,expandRows:r}=e,o=n===!0||t===!0;o&&!r&&(o=!1,t=null,n=null);let s=["fc-daygrid-body",o?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",r?"":"fc-daygrid-body-natural"];return A("div",{ref:this.elRef,className:s.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},A("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:r?e.clientHeight:""}},e.colGroupNode,A("tbody",{role:"presentation"},A(HA,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:n,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){let e=Zie(this.elRef.current,this.props.dateProfile);if(e){let t=e.closest(".fc-daygrid-body"),n=t.closest(".fc-scroller"),r=e.getBoundingClientRect().top-t.getBoundingClientRect().top;n.scrollTop=r?r+1:0}this.needsScrollReset=!1}}};function Zie(i,e){let t;return e.currentRangeUnit.match(/year|month/)&&(t=i.querySelector(`[data-date="${PR(e.currentDate)}-01"]`)),t||(t=i.querySelector(`[data-date="${ll(e.currentDate)}"]`)),t}var BA=class extends Iu{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}},eg=class extends Jn{constructor(){super(...arguments),this.slicer=new BA,this.tableRef=mn()}render(){let{props:e,context:t}=this;return A(GA,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}},LC=class extends NA{constructor(){super(...arguments),this.buildDayTableModel=ge(Xie),this.headerRef=mn(),this.tableRef=mn()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:n}=this,r=this.buildDayTableModel(n.dateProfile,t),o=e.dayHeaders&&A(Ou,{ref:this.headerRef,dateProfile:n.dateProfile,dates:r.headerDates,datesRepDistinctDays:r.rowCnt===1}),s=a=>A(eg,{ref:this.tableRef,dateProfile:n.dateProfile,dayTableModel:r,businessHours:n.businessHours,dateSelection:n.dateSelection,eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:a.tableColGroupNode,tableMinWidth:a.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!n.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:a.clientWidth,clientHeight:a.clientHeight,forPrint:n.forPrint});return e.dayMinWidth?this.renderHScrollLayout(o,s,r.colCnt,e.dayMinWidth):this.renderSimpleLayout(o,s)}};function Xie(i,e){let t=new xu(i.renderRange,e);return new Mu(t,/year|month|week/.test(i.currentRangeUnit))}var kC=class extends Du{buildRenderRange(e,t,n){let r=super.buildRenderRange(e,t,n),{props:o}=this;return Jie({currentRange:r,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:o.fixedWeekCount,dateEnv:o.dateEnv})}};function Jie(i){let{dateEnv:e,currentRange:t}=i,{start:n,end:r}=t,o;if(i.snapToWeek&&(n=e.startOfWeek(n),o=e.startOfWeek(r),o.valueOf()!==r.valueOf()&&(r=sC(o,1))),i.fixedWeekCount){let s=e.startOfWeek(e.startOfMonth(on(t.end,-1))),a=Math.ceil(MR(s,r));r=sC(r,6-a)}return{start:n,end:r}}var ere=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';al(ere);var Dj=Vi({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:LC,dateProfileGeneratorClass:kC},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});var tre='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';al(tre);var UA=class extends Rp{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?XR(e)?["timed","allDay"]:["allDay"]:["timed"]}},nre=Ct({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function xj(i){let e=["fc-timegrid-slot","fc-timegrid-slot-label",i.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return A(Wr.Consumer,null,t=>{if(!i.isLabeled)return A("td",{className:e.join(" "),"data-time":i.isoTimeStr});let{dateEnv:n,options:r,viewApi:o}=t,s=r.slotLabelFormat==null?nre:Array.isArray(r.slotLabelFormat)?Ct(r.slotLabelFormat[0]):Ct(r.slotLabelFormat),a={level:0,time:i.time,date:n.toDate(i.date),view:o,text:n.format(i.date,s)};return A(Dn,{elTag:"td",elClasses:e,elAttrs:{"data-time":i.isoTimeStr},renderProps:a,generatorName:"slotLabelContent",customGenerator:r.slotLabelContent,defaultGenerator:ire,classNameGenerator:r.slotLabelClassNames,didMount:r.slotLabelDidMount,willUnmount:r.slotLabelWillUnmount},l=>A("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},A(l,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function ire(i){return i.text}var WA=class extends it{render(){return this.props.slatMetas.map(e=>A("tr",{key:e.key},A(xj,Object.assign({},e))))}},rre=Ct({week:"short"}),ore=5,zA=class extends Jn{constructor(){super(...arguments),this.allDaySplitter=new UA,this.headerElRef=mn(),this.rootElRef=mn(),this.scrollerElRef=mn(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let t=this.scrollerElRef.current;t&&(t.scrollTop=e)},this.renderHeadAxis=(e,t="")=>{let{options:n}=this.context,{dateProfile:r}=this.props,o=r.renderRange,a=cs(o.start,o.end)===1?hs(this.context,o.start,"week"):{};return n.weekNumbers&&e==="day"?A(Jp,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:o.start,defaultFormat:rre},l=>A("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:t}},A(l,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:a}))):A("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},A("div",{className:"fc-timegrid-axis-frame",style:{height:t}}))},this.renderTableRowAxis=e=>{let{options:t,viewApi:n}=this.context,r={text:t.allDayText,view:n};return A(Dn,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:r,generatorName:"allDayContent",customGenerator:t.allDayContent,defaultGenerator:sre,classNameGenerator:t.allDayClassNames,didMount:t.allDayDidMount,willUnmount:t.allDayWillUnmount},o=>A("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},A(o,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,t,n){let{context:r,props:o}=this,s=[],a=Vu(r.options);return e&&s.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(s.push({type:"body",key:"all-day",chunk:{content:t}}),s.push({type:"body",key:"all-day-divider",outerContent:A("tr",{role:"presentation",className:"fc-scrollgrid-section"},A("td",{className:"fc-timegrid-divider "+r.theme.getClass("tableCellShaded")}))})),s.push({type:"body",key:"body",liquid:!0,expandRows:!!r.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:n}}),A(wo,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:r.viewSpec},A(ol,{liquid:!o.isHeightAuto&&!o.forPrint,collapsibleWidth:o.forPrint,cols:[{width:"shrink"}],sections:s}))}renderHScrollLayout(e,t,n,r,o,s,a){let l=this.context.pluginHooks.scrollGridImpl;if(!l)throw new Error("No ScrollGrid implementation");let{context:u,props:c}=this,d=!c.forPrint&&Vu(u.options),h=!c.forPrint&&Qp(u.options),f=[];e&&f.push({type:"header",key:"header",isSticky:d,syncRowHeights:!0,chunks:[{key:"axis",rowContent:g=>A("tr",{role:"presentation"},this.renderHeadAxis("day",g.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(f.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:g=>A("tr",{role:"presentation"},this.renderTableRowAxis(g.rowSyncHeights[0]))},{key:"cols",content:t}]}),f.push({key:"all-day-divider",type:"body",outerContent:A("tr",{role:"presentation",className:"fc-scrollgrid-section"},A("td",{colSpan:2,className:"fc-timegrid-divider "+u.theme.getClass("tableCellShaded")}))}));let p=u.options.nowIndicator;return f.push({type:"body",key:"body",liquid:!0,expandRows:!!u.options.expandRows,chunks:[{key:"axis",content:g=>A("div",{className:"fc-timegrid-axis-chunk"},A("table",{"aria-hidden":!0,style:{height:g.expandRows?g.clientHeight:""}},g.tableColGroupNode,A("tbody",null,A(WA,{slatMetas:s}))),A("div",{className:"fc-timegrid-now-indicator-container"},A(ra,{unit:p?"minute":"day"},m=>{let v=p&&a&&a.safeComputeTop(m);return typeof v=="number"?A(Zp,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:v},isAxis:!0,date:m}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:n}]}),h&&f.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:Yd},{key:"cols",content:Yd}]}),A(wo,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:u.viewSpec},A(l,{liquid:!c.isHeightAuto&&!c.forPrint,forPrint:c.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:r,minWidth:o}]}],sections:f}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:t}=this.context.options;return(e===!0||t===!0)&&(e=void 0,t=ore),{dayMaxEvents:e,dayMaxEventRows:t}}};function sre(i){return i.text}var $A=class{constructor(e,t,n){this.positions=e,this.dateProfile=t,this.slotDuration=n}safeComputeTop(e){let{dateProfile:t}=this;if(Br(t.currentRange,e)){let n=gt(e),r=e.valueOf()-n.valueOf();if(r>=fr(t.slotMinTime)&&r<fr(t.slotMaxTime))return this.computeTimeTop(qe(r))}return null}computeDateTop(e,t){return t||(t=gt(e)),this.computeTimeTop(qe(e.valueOf()-t.valueOf()))}computeTimeTop(e){let{positions:t,dateProfile:n}=this,r=t.els.length,o=(e.milliseconds-fr(n.slotMinTime))/fr(this.slotDuration),s,a;return o=Math.max(0,o),o=Math.min(r,o),s=Math.floor(o),s=Math.min(s,r-1),a=o-s,t.tops[s]+t.getHeight(s)*a}},qA=class extends it{render(){let{props:e,context:t}=this,{options:n}=t,{slatElRefs:r}=e;return A("tbody",null,e.slatMetas.map((o,s)=>{let a={time:o.time,date:t.dateEnv.toDate(o.date),view:t.viewApi};return A("tr",{key:o.key,ref:r.createRef(o.key)},e.axis&&A(xj,Object.assign({},o)),A(Dn,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!o.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":o.isoTimeStr},renderProps:a,generatorName:"slotLaneContent",customGenerator:n.slotLaneContent,classNameGenerator:n.slotLaneClassNames,didMount:n.slotLaneDidMount,willUnmount:n.slotLaneWillUnmount}))}))}},YA=class extends it{constructor(){super(...arguments),this.rootElRef=mn(),this.slatElRefs=new ki}render(){let{props:e,context:t}=this;return A("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},A("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,A(qA,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:t}=this;t.onCoords&&t.clientWidth!==null&&this.rootElRef.current.offsetHeight&&t.onCoords(new $A(new bo(this.rootElRef.current,are(this.slatElRefs.currentMap,t.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}};function are(i,e){return e.map(t=>i[t.key])}function tg(i,e){let t=[],n;for(n=0;n<e;n+=1)t.push([]);if(i)for(n=0;n<i.length;n+=1)t[i[n].col].push(i[n]);return t}function Tj(i,e){let t=[];if(i){for(let n=0;n<e;n+=1)t[n]={affectedInstances:i.affectedInstances,isEvent:i.isEvent,segs:[]};for(let n of i.segs)t[n.col].segs.push(n)}else for(let n=0;n<e;n+=1)t[n]=null;return t}var KA=class extends it{render(){let{props:e}=this;return A(Nu,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>Mj(e.hiddenSegs,e),defaultGenerator:lre,forceTimed:!0},t=>A(t,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}};function lre(i){return i.shortText}function ure(i,e,t){let n=new Au;e!=null&&(n.strictOrder=e),t!=null&&(n.maxStackCnt=t);let r=n.addSegs(i),o=uA(r),s=cre(n);return s=pre(s,1),{segRects:gre(s),hiddenGroups:o}}function cre(i){let{entriesByLevel:e}=i,t=tO((n,r)=>n+":"+r,(n,r)=>{let o=fre(i,n,r),s=Rj(o,t),a=e[n][r];return[Object.assign(Object.assign({},a),{nextLevelNodes:s[0]}),a.thickness+s[1]]});return Rj(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,t)[0]}function Rj(i,e){if(!i)return[[],0];let{level:t,lateralStart:n,lateralEnd:r}=i,o=n,s=[];for(;o<r;)s.push(e(t,o)),o+=1;return s.sort(dre),[s.map(hre),s[0][1]]}function dre(i,e){return e[1]-i[1]}function hre(i){return i[0]}function fre(i,e,t){let{levelCoords:n,entriesByLevel:r}=i,o=r[e][t],s=n[e]+o.thickness,a=n.length,l=e;for(;l<a&&n[l]<s;l+=1);for(;l<a;l+=1){let u=r[l],c,d=Mp(u,o.span.start,xp),h=d[0]+d[1],f=h;for(;(c=u[f])&&c.span.start<o.span.end;)f+=1;if(h<f)return{level:l,lateralStart:h,lateralEnd:f}}return null}function pre(i,e){let t=tO((n,r,o)=>ls(n),(n,r,o)=>{let{nextLevelNodes:s,thickness:a}=n,l=a+o,u=a/l,c,d=[];if(!s.length)c=e;else for(let f of s)if(c===void 0){let p=t(f,r,l);c=p[0],d.push(p[1])}else{let p=t(f,c,0);d.push(p[1])}let h=(c-r)*u;return[c-h,Object.assign(Object.assign({},n),{thickness:h,nextLevelNodes:d})]});return i.map(n=>t(n,0,0)[1])}function gre(i){let e=[],t=tO((r,o,s)=>ls(r),(r,o,s)=>{let a=Object.assign(Object.assign({},r),{levelCoord:o,stackDepth:s,stackForward:0});return e.push(a),a.stackForward=n(r.nextLevelNodes,o+r.thickness,s+1)+1});function n(r,o,s){let a=0;for(let l of r)a=Math.max(t(l,o,s),a);return a}return n(i,0,0),e}function tO(i,e){let t={};return(...n)=>{let r=i(...n);return r in t?t[r]:t[r]=e(...n)}}function Aj(i,e,t=null,n=0){let r=[];if(t)for(let o=0;o<i.length;o+=1){let s=i[o],a=t.computeDateTop(s.start,e),l=Math.max(a+(n||0),t.computeDateTop(s.end,e));r.push({start:Math.round(a),end:Math.round(l)})}return r}function mre(i,e,t,n){let r=[],o=[];for(let u=0;u<i.length;u+=1){let c=e[u];c?r.push({index:u,thickness:1,span:c}):o.push(i[u])}let{segRects:s,hiddenGroups:a}=ure(r,t,n),l=[];for(let u of s)l.push({seg:i[u.index],rect:u});for(let u of o)l.push({seg:u,rect:null});return{segPlacements:l,hiddenGroups:a}}var vre=Ct({hour:"numeric",minute:"2-digit",meridiem:!1}),VC=class extends it{render(){return A(Pu,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:vre}))}},QA=class extends it{constructor(){super(...arguments),this.sortEventSegs=ge(ku)}render(){let{props:e,context:t}=this,{options:n}=t,r=n.selectMirror,o=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||r&&e.dateSelectionSegs||[],s=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},a=this.sortEventSegs(e.fgEventSegs,n.eventOrder);return A(sl,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},l=>A("div",{className:"fc-timegrid-col-frame"},A("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),A("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(a,s,!1,!1,!1)),A("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(o,{},!!e.eventDrag,!!e.eventResize,!!r,"mirror")),A("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),Kd(n)&&A(l,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,t,n,r,o,s){let{props:a}=this;return a.forPrint?Mj(e,a):this.renderPositionedFgSegs(e,t,n,r,o,s)}renderPositionedFgSegs(e,t,n,r,o,s){let{eventMaxStack:a,eventShortHeight:l,eventOrderStrict:u,eventMinHeight:c}=this.context.options,{date:d,slatCoords:h,eventSelection:f,todayRange:p,nowDate:g}=this.props,m=n||r||o,v=Aj(e,d,h,c),{segPlacements:y,hiddenGroups:C}=mre(e,v,u,a);return A(ct,null,this.renderHiddenGroups(C,e),y.map(S=>{let{seg:E,rect:T}=S,O=E.eventRange.instance.instanceId,R=m||!!(!t[O]&&T),M=jA(T&&T.span),H=!m&&T?this.computeSegHStyle(T):{left:0,right:0},V=!!T&&T.stackForward>0,X=!!T&&T.span.end-T.span.start<l;return A("div",{className:"fc-timegrid-event-harness"+(V?" fc-timegrid-event-harness-inset":""),key:s||O,style:Object.assign(Object.assign({visibility:R?"":"hidden"},M),H)},A(VC,Object.assign({seg:E,isDragging:n,isResizing:r,isDateSelecting:o,isSelected:O===f,isShort:X},mr(E,p,g))))}))}renderHiddenGroups(e,t){let{extraDateSpan:n,dateProfile:r,todayRange:o,nowDate:s,eventSelection:a,eventDrag:l,eventResize:u}=this.props;return A(ct,null,e.map(c=>{let d=jA(c.span),h=yre(c.entries,t);return A(KA,{key:aC(wC(h)),hiddenSegs:h,top:d.top,bottom:d.bottom,extraDateSpan:n,dateProfile:r,todayRange:o,nowDate:s,eventSelection:a,eventDrag:l,eventResize:u})}))}renderFillSegs(e,t){let{props:n,context:r}=this,s=Aj(e,n.date,n.slatCoords,r.options.eventMinHeight).map((a,l)=>{let u=e[l];return A("div",{key:Wp(u.eventRange),className:"fc-timegrid-bg-harness",style:jA(a)},t==="bg-event"?A(Fu,Object.assign({seg:u},mr(u,n.todayRange,n.nowDate))):Xp(t))});return A(ct,null,s)}renderNowIndicator(e){let{slatCoords:t,date:n}=this.props;return t?e.map((r,o)=>A(Zp,{key:o,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:t.computeDateTop(r.start,n)},isAxis:!1,date:n})):null}computeSegHStyle(e){let{isRtl:t,options:n}=this.context,r=n.slotEventOverlap,o=e.levelCoord,s=e.levelCoord+e.thickness,a,l;r&&(s=Math.min(1,o+(s-o)*2)),t?(a=1-s,l=o):(a=o,l=1-s);let u={zIndex:e.stackDepth+1,left:a*100+"%",right:l*100+"%"};return r&&!e.stackForward&&(u[t?"marginLeft":"marginRight"]=10*2),u}};function Mj(i,{todayRange:e,nowDate:t,eventSelection:n,eventDrag:r,eventResize:o}){let s=(r?r.affectedInstances:null)||(o?o.affectedInstances:null)||{};return A(ct,null,i.map(a=>{let l=a.eventRange.instance.instanceId;return A("div",{key:l,style:{visibility:s[l]?"hidden":""}},A(VC,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:l===n,isShort:!1},mr(a,e,t))))}))}function jA(i){return i?{top:i.start,bottom:-i.end}:{top:"",bottom:""}}function yre(i,e){return i.map(t=>e[t.index])}var ZA=class extends it{constructor(){super(...arguments),this.splitFgEventSegs=ge(tg),this.splitBgEventSegs=ge(tg),this.splitBusinessHourSegs=ge(tg),this.splitNowIndicatorSegs=ge(tg),this.splitDateSelectionSegs=ge(tg),this.splitEventDrag=ge(Tj),this.splitEventResize=ge(Tj),this.rootElRef=mn(),this.cellElRefs=new ki}render(){let{props:e,context:t}=this,n=t.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),r=e.cells.length,o=this.splitFgEventSegs(e.fgEventSegs,r),s=this.splitBgEventSegs(e.bgEventSegs,r),a=this.splitBusinessHourSegs(e.businessHourSegs,r),l=this.splitNowIndicatorSegs(e.nowIndicatorSegs,r),u=this.splitDateSelectionSegs(e.dateSelectionSegs,r),c=this.splitEventDrag(e.eventDrag,r),d=this.splitEventResize(e.eventResize,r);return A("div",{className:"fc-timegrid-cols",ref:this.rootElRef},A("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,A("tbody",{role:"presentation"},A("tr",{role:"row"},e.axis&&A("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},A("div",{className:"fc-timegrid-col-frame"},A("div",{className:"fc-timegrid-now-indicator-container"},typeof n=="number"&&A(Zp,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:n},isAxis:!0,date:e.nowDate})))),e.cells.map((h,f)=>A(QA,{key:h.key,elRef:this.cellElRefs.createRef(h.key),dateProfile:e.dateProfile,date:h.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:h.extraRenderProps,extraDataAttrs:h.extraDataAttrs,extraClassNames:h.extraClassNames,extraDateSpan:h.extraDateSpan,fgEventSegs:o[f],bgEventSegs:s[f],businessHourSegs:a[f],nowIndicatorSegs:l[f],dateSelectionSegs:u[f],eventDrag:c[f],eventResize:d[f],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new bo(this.rootElRef.current,_re(this.cellElRefs.currentMap,e.cells),!0,!1))}};function _re(i,e){return e.map(t=>i[t.key])}var XA=class extends Jn{constructor(){super(...arguments),this.processSlotOptions=ge(Cre),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:t}=this.props,{slatCoords:n}=this.state;if(t&&n){if(e.time){let r=n.computeTimeTop(e.time);r=Math.ceil(r),r&&(r+=1),t(r)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:t}=this;return A("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},A(YA,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),A(ZA,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,t){let{dateEnv:n,options:r}=this.context,{colCoords:o}=this,{dateProfile:s}=this.props,{slatCoords:a}=this.state,{snapDuration:l,snapsPerSlot:u}=this.processSlotOptions(this.props.slotDuration,r.snapDuration),c=o.leftToIndex(e),d=a.positions.topToIndex(t);if(c!=null&&d!=null){let h=this.props.cells[c],f=a.positions.tops[d],p=a.positions.getHeight(d),g=(t-f)/p,m=Math.floor(g*u),v=d*u+m,y=this.props.cells[c].date,C=Vp(s.slotMinTime,xR(l,v)),S=n.add(y,C),E=n.add(S,l);return{dateProfile:s,dateSpan:Object.assign({range:{start:S,end:E},allDay:!1},h.extraDateSpan),dayEl:o.els[c],rect:{left:o.lefts[c],right:o.rights[c],top:f,bottom:f+p},layer:0}}return null}};function Cre(i,e){let t=e||i,n=Hp(i,t);return n===null&&(t=i,n=1),{snapDuration:t,snapsPerSlot:n}}var JA=class extends Iu{sliceRange(e,t){let n=[];for(let r=0;r<t.length;r+=1){let o=gr(e,t[r]);o&&n.push({start:o.start,end:o.end,isStart:o.start.valueOf()===e.start.valueOf(),isEnd:o.end.valueOf()===e.end.valueOf(),col:r})}return n}},eO=class extends Jn{constructor(){super(...arguments),this.buildDayRanges=ge(wre),this.slicer=new JA,this.timeColsRef=mn()}render(){let{props:e,context:t}=this,{dateProfile:n,dayTableModel:r}=e,{nowIndicator:o,nextDayThreshold:s}=t.options,a=this.buildDayRanges(r,n,t.dateEnv);return A(ra,{unit:o?"minute":"day"},(l,u)=>A(XA,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,n,null,t,a),{forPrint:e.forPrint,axis:e.axis,dateProfile:n,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:r.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:l,nowIndicatorSegs:o&&this.slicer.sliceNowDate(l,n,s,t,a),todayRange:u,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}};function wre(i,e,t){let n=[];for(let r of i.headerDates)n.push({start:t.add(r,e.slotMinTime),end:t.add(r,e.slotMaxTime)});return n}var Oj=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function Sre(i,e,t,n,r){let o=new Date(0),s=i,a=qe(0),l=t||bre(n),u=[];for(;fr(s)<fr(e);){let c=r.add(o,s),d=Hp(a,l)!==null;u.push({date:c,time:s,key:c.toISOString(),isoTimeStr:FR(c),isLabeled:d}),s=Vp(s,n),a=Vp(a,n)}return u}function bre(i){let e,t,n;for(e=Oj.length-1;e>=0;e-=1)if(t=qe(Oj[e]),n=Hp(t,i),n!==null&&n>1)return t;return i}var HC=class extends zA{constructor(){super(...arguments),this.buildTimeColsModel=ge(Ere),this.buildSlatMetas=ge(Sre)}render(){let{options:e,dateEnv:t,dateProfileGenerator:n}=this.context,{props:r}=this,{dateProfile:o}=r,s=this.buildTimeColsModel(o,n),a=this.allDaySplitter.splitProps(r),l=this.buildSlatMetas(o.slotMinTime,o.slotMaxTime,e.slotLabelInterval,e.slotDuration,t),{dayMinWidth:u}=e,c=!u,d=u,h=e.dayHeaders&&A(Ou,{dates:s.headerDates,dateProfile:o,datesRepDistinctDays:!0,renderIntro:c?this.renderHeadAxis:null}),f=e.allDaySlot!==!1&&(g=>A(eg,Object.assign({},a.allDay,{dateProfile:o,dayTableModel:s,nextDayThreshold:e.nextDayThreshold,tableMinWidth:g.tableMinWidth,colGroupNode:g.tableColGroupNode,renderRowIntro:c?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:g.clientWidth,clientHeight:g.clientHeight,forPrint:r.forPrint},this.getAllDayMaxEventProps()))),p=g=>A(eO,Object.assign({},a.timed,{dayTableModel:s,dateProfile:o,axis:c,slotDuration:e.slotDuration,slatMetas:l,forPrint:r.forPrint,tableColGroupNode:g.tableColGroupNode,tableMinWidth:g.tableMinWidth,clientWidth:g.clientWidth,clientHeight:g.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:g.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return d?this.renderHScrollLayout(h,f,p,s.colCnt,u,l,this.state.slatCoords):this.renderSimpleLayout(h,f,p)}};function Ere(i,e){let t=new xu(i.renderRange,e);return new Mu(t,!1)}var Dre={allDaySlot:Boolean},Ij=Vi({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:Dre,views:{timeGrid:{component:HC,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});var nO=class extends it{constructor(){super(...arguments),this.state={textId:Ur()}}render(){let{theme:e,dateEnv:t,options:n,viewApi:r}=this.context,{cellId:o,dayDate:s,todayRange:a}=this.props,{textId:l}=this.state,u=$p(s,a),c=n.listDayFormat?t.format(s,n.listDayFormat):"",d=n.listDaySideFormat?t.format(s,n.listDaySideFormat):"",h=Object.assign({date:t.toDate(s),view:r,textId:l,text:c,sideText:d,navLinkAttrs:hs(this.context,s),sideNavLinkAttrs:hs(this.context,s,"day",!1)},u);return A(Dn,{elTag:"tr",elClasses:["fc-list-day",...qd(u,e)],elAttrs:{"data-date":ll(s)},renderProps:h,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:Tre,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},f=>A("th",{scope:"colgroup",colSpan:3,id:o,"aria-labelledby":l},A(f,{elTag:"div",elClasses:["fc-list-day-cushion",e.getClass("tableCellShaded")]})))}};function Tre(i){return A(ct,null,i.text&&A("a",Object.assign({id:i.textId,className:"fc-list-day-text"},i.navLinkAttrs),i.text),i.sideText&&A("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},i.sideNavLinkAttrs),i.sideText))}var Rre=Ct({hour:"numeric",minute:"2-digit",meridiem:"short"}),iO=class extends it{render(){let{props:e,context:t}=this,{options:n}=t,{seg:r,timeHeaderId:o,eventHeaderId:s,dateHeaderId:a}=e,l=n.eventTimeFormat||Rre;return A(ta,Object.assign({},e,{elTag:"tr",elClasses:["fc-list-event",r.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>Are(r,t),seg:r,timeText:"",disableDragging:!0,disableResizing:!0}),(u,c)=>A(ct,null,Ore(r,l,t,o,a),A("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},A("span",{className:"fc-list-event-dot",style:{borderColor:c.borderColor||c.backgroundColor}})),A(u,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${s} ${a}`}})))}};function Are(i,e){let t=zd(i,e);return A("a",Object.assign({},t),i.eventRange.def.title)}function Ore(i,e,t,n,r){let{options:o}=t;if(o.displayEventTime!==!1){let s=i.eventRange.def,a=i.eventRange.instance,l=!1,u;if(s.allDay?l=!0:WR(i.eventRange.range)?i.isStart?u=dl(i,e,t,null,null,a.range.start,i.end):i.isEnd?u=dl(i,e,t,null,null,i.start,a.range.end):l=!0:u=dl(i,e,t),l){let c={text:t.options.allDayText,view:t.viewApi};return A(Dn,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${n} ${r}`},renderProps:c,generatorName:"allDayContent",customGenerator:o.allDayContent,defaultGenerator:xre,classNameGenerator:o.allDayClassNames,didMount:o.allDayDidMount,willUnmount:o.allDayWillUnmount})}return A("td",{className:"fc-list-event-time"},u)}return null}function xre(i){return i.text}var GC=class extends Jn{constructor(){super(...arguments),this.computeDateVars=ge(Ire),this.eventStoreToSegs=ge(this._eventStoreToSegs),this.state={timeHeaderId:Ur(),eventHeaderId:Ur(),dateHeaderIdRoot:Ur()},this.setRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:e,context:t}=this,{dayDates:n,dayRanges:r}=this.computeDateVars(e.dateProfile),o=this.eventStoreToSegs(e.eventStore,e.eventUiBases,r);return A(wo,{elRef:this.setRootEl,elClasses:["fc-list",t.theme.getClass("table"),t.options.stickyHeaderDates!==!1?"fc-list-sticky":""],viewSpec:t.viewSpec},A(Hd,{liquid:!e.isHeightAuto,overflowX:e.isHeightAuto?"visible":"hidden",overflowY:e.isHeightAuto?"visible":"auto"},o.length>0?this.renderSegList(o,n):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:e,viewApi:t}=this.context,n={text:e.noEventsText,view:t};return A(Dn,{elTag:"div",elClasses:["fc-list-empty"],renderProps:n,generatorName:"noEventsContent",customGenerator:e.noEventsContent,defaultGenerator:Mre,classNameGenerator:e.noEventsClassNames,didMount:e.noEventsDidMount,willUnmount:e.noEventsWillUnmount},r=>A(r,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(e,t){let{theme:n,options:r}=this.context,{timeHeaderId:o,eventHeaderId:s,dateHeaderIdRoot:a}=this.state,l=Pre(e);return A(ra,{unit:"day"},(u,c)=>{let d=[];for(let h=0;h<l.length;h+=1){let f=l[h];if(f){let p=ll(t[h]),g=a+"-"+p;d.push(A(nO,{key:p,cellId:g,dayDate:t[h],todayRange:c})),f=ku(f,r.eventOrder);for(let m of f)d.push(A(iO,Object.assign({key:p+":"+m.eventRange.instance.instanceId,seg:m,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:o,eventHeaderId:s,dateHeaderId:g},mr(m,c,u))))}}return A("table",{className:"fc-list-table "+n.getClass("table")},A("thead",null,A("tr",null,A("th",{scope:"col",id:o},r.timeHint),A("th",{scope:"col","aria-hidden":!0}),A("th",{scope:"col",id:s},r.eventHint))),A("tbody",null,d))})}_eventStoreToSegs(e,t,n){return this.eventRangesToSegs(Vd(e,t,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,n)}eventRangesToSegs(e,t){let n=[];for(let r of e)n.push(...this.eventRangeToSegs(r,t));return n}eventRangeToSegs(e,t){let{dateEnv:n}=this.context,{nextDayThreshold:r}=this.context.options,o=e.range,s=e.def.allDay,a,l,u,c=[];for(a=0;a<t.length;a+=1)if(l=gr(o,t[a]),l&&(u={component:this,eventRange:e,start:l.start,end:l.end,isStart:e.isStart&&l.start.valueOf()===o.start.valueOf(),isEnd:e.isEnd&&l.end.valueOf()===o.end.valueOf(),dayIndex:a},c.push(u),!u.isEnd&&!s&&a+1<t.length&&o.end<n.add(t[a+1].start,r))){u.end=o.end,u.isEnd=!0;break}return c}};function Mre(i){return i.text}function Ire(i){let e=gt(i.renderRange.start),t=i.renderRange.end,n=[],r=[];for(;e<t;)n.push(e),r.push({start:e,end:on(e,1)}),e=on(e,1);return{dayDates:n,dayRanges:r}}function Pre(i){let e=[],t,n;for(t=0;t<i.length;t+=1)n=i[t],(e[n.dayIndex]||(e[n.dayIndex]=[])).push(n);return e}var Fre=':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}';al(Fre);var Nre={listDayFormat:Pj,listDaySideFormat:Pj,noEventsClassNames:L,noEventsContent:L,noEventsDidMount:L,noEventsWillUnmount:L};function Pj(i){return i===!1?null:Ct(i)}var Fj=Vi({name:"@fullcalendar/list",optionRefiners:Nre,views:{list:{component:GC,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});var ng=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},eh=class extends ng{constructor(e,t,n,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=n,this.componentFactoryResolver=r,this.projectableNodes=o}},th=class extends ng{constructor(e,t,n,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},rO=class extends ng{constructor(e){super(),this.element=e instanceof $e?e.nativeElement:e}},BC=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof eh)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof th)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof rO)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var jC=class extends BC{constructor(e,t,n,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(e){let n=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(n,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=n.create(e.injector||this._defaultInjector||It.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,n=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(n);r!==-1&&t.remove(r)}),this._attachedPortal=e,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var UC=(()=>{let e=class e extends BC{constructor(n,r,o){super(),this._componentFactoryResolver=n,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new j,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let l=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(l,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(n){n.setAttachedHost(this);let r=n.viewContainerRef!=null?n.viewContainerRef:this._viewContainerRef,s=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component),a=r.createComponent(s,r.length,n.injector||r.injector,n.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=n,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(n){n.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){let n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}};e.\u0275fac=function(r){return new(r||e)(x(kr),x(Kn),x(Te))},e.\u0275dir=ot({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[pt.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[ui]});let i=e;return i})();var oO;try{oO=typeof Intl<"u"&&Intl.v8BreakIterator}catch{oO=!1}var oa=(()=>{let e=class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?md(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||oO)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(r){return new(r||e)(U(Di))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Gu;function Nj(){if(Gu==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Gu=!1,Gu;if("scrollBehavior"in document.documentElement.style)Gu=!0;else{let i=Element.prototype.scrollTo;i?Gu=!/\{\s*\[native code\]\s*\}/.test(i.toString()):Gu=!1}}return Gu}function sO(i){return i.composedPath?i.composedPath()[0]:i.target}function aO(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function uO(i){return Array.isArray(i)?i:[i]}function un(i){return i==null?"":typeof i=="string"?i:`${i}px`}function Lj(i){return i instanceof $e?i.nativeElement:i}var Vre=(()=>{let e=class e{constructor(n){this._platform=n}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return Gre(n)&&getComputedStyle(n).visibility==="visible"}isTabbable(n){if(!this._platform.isBrowser)return!1;let r=Hre(Yre(n));if(r&&(kj(r)===-1||!this.isVisible(r)))return!1;let o=n.nodeName.toLowerCase(),s=kj(n);return n.hasAttribute("contenteditable")?s!==-1:o==="iframe"||o==="object"||this._platform.WEBKIT&&this._platform.IOS&&!$re(n)?!1:o==="audio"?n.hasAttribute("controls")?s!==-1:!1:o==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||n.hasAttribute("controls"):n.tabIndex>=0}isFocusable(n,r){return qre(n)&&!this.isDisabled(n)&&(r?.ignoreVisibility||this.isVisible(n))}};e.\u0275fac=function(r){return new(r||e)(U(oa))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Hre(i){try{return i.frameElement}catch{return null}}function Gre(i){return!!(i.offsetWidth||i.offsetHeight||typeof i.getClientRects=="function"&&i.getClientRects().length)}function Bre(i){let e=i.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function jre(i){return Wre(i)&&i.type=="hidden"}function Ure(i){return zre(i)&&i.hasAttribute("href")}function Wre(i){return i.nodeName.toLowerCase()=="input"}function zre(i){return i.nodeName.toLowerCase()=="a"}function Hj(i){if(!i.hasAttribute("tabindex")||i.tabIndex===void 0)return!1;let e=i.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function kj(i){if(!Hj(i))return null;let e=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function $re(i){let e=i.nodeName.toLowerCase(),t=e==="input"&&i.type;return t==="text"||t==="password"||e==="select"||e==="textarea"}function qre(i){return jre(i)?!1:Bre(i)||Ure(i)||i.hasAttribute("contenteditable")||Hj(i)}function Yre(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}var cO=class{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,n,r,o=!1){this._element=e,this._checker=t,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){let e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){let n=this._getFirstTabbableElement(t);return n?.focus(e),!!n}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){let t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let n=0;n<t.length;n++){let r=t[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let n=t.length-1;n>=0;n--){let r=t[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(r)return r}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Ut(1)).subscribe(e)}};var dO=class extends cO{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._enabled?this._focusTrapManager.register(this):this._focusTrapManager.deregister(this)}constructor(e,t,n,r,o,s,a){super(e,t,n,r,a.defer),this._focusTrapManager=o,this._inertStrategy=s,this._focusTrapManager.register(this)}destroy(){this._focusTrapManager.deregister(this),super.destroy()}_enable(){this._inertStrategy.preventFocus(this),this.toggleAnchors(!0)}_disable(){this._inertStrategy.allowFocus(this),this.toggleAnchors(!1)}},Kre=new le("FOCUS_TRAP_INERT_STRATEGY"),hO=class{constructor(){this._listener=null}preventFocus(e){this._listener&&e._document.removeEventListener("focus",this._listener,!0),this._listener=t=>this._trapFocus(e,t),e._ngZone.runOutsideAngular(()=>{e._document.addEventListener("focus",this._listener,!0)})}allowFocus(e){this._listener&&(e._document.removeEventListener("focus",this._listener,!0),this._listener=null)}_trapFocus(e,t){let n=t.target,r=e._element;n&&!r.contains(n)&&!n.closest?.("div.cdk-overlay-pane")&&setTimeout(()=>{e.enabled&&!r.contains(e._document.activeElement)&&e.focusFirstTabbableElement()})}},Qre=(()=>{let e=class e{constructor(){this._focusTrapStack=[]}register(n){this._focusTrapStack=this._focusTrapStack.filter(o=>o!==n);let r=this._focusTrapStack;r.length&&r[r.length-1]._disable(),r.push(n),n._enable()}deregister(n){n._disable();let r=this._focusTrapStack,o=r.indexOf(n);o!==-1&&(r.splice(o,1),r.length&&r[r.length-1]._enable())}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Gj=(()=>{let e=class e{constructor(n,r,o,s,a){this._checker=n,this._ngZone=r,this._focusTrapManager=o,this._document=s,this._inertStrategy=a||new hO}create(n,r={defer:!1}){let o;return typeof r=="boolean"?o={defer:r}:o=r,new dO(n,this._checker,this._ngZone,this._document,this._focusTrapManager,this._inertStrategy,o)}};e.\u0275fac=function(r){return new(r||e)(U(Vre),U(we),U(Qre),U(Te),U(Kre,8))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Xre=new le("cdk-dir-doc",{providedIn:"root",factory:Jre});function Jre(){return k(Te)}var eoe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function toe(i){let e=i?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?eoe.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Bj=(()=>{let e=class e{constructor(n){if(this.value="ltr",this.change=new j,n){let r=n.body?n.body.dir:null,o=n.documentElement?n.documentElement.dir:null;this.value=toe(r||o||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(r){return new(r||e)(U(Xre,8))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var ioe=20,jj=(()=>{let e=class e{constructor(n,r,o){this._ngZone=n,this._platform=r,this._scrolled=new Se,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){let r=this.scrollContainers.get(n);r&&(r.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=ioe){return this._platform.isBrowser?new Ce(r=>{this._globalSubscription||this._addGlobalListener();let o=n>0?this._scrolled.pipe(mv(n)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):he()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(n,r){let o=this.getAncestorScrollContainers(n);return this.scrolled(r).pipe(ft(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(n){let r=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,n)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,r){let o=Lj(r),s=n.getElementRef().nativeElement;do if(o==s)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let n=this._getWindow();return tn(n.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(r){return new(r||e)(U(we),U(oa),U(Te,8))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var roe=20,fO=(()=>{let e=class e{constructor(n,r,o){this._platform=n,this._change=new Se,this._changeListener=s=>{this._change.next(s)},this._document=o,r.runOutsideAngular(()=>{if(n.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){let n=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+o,right:n.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let n=this._document,r=this._getWindow(),o=n.documentElement,s=o.getBoundingClientRect(),a=-s.top||n.body.scrollTop||r.scrollY||o.scrollTop||0,l=-s.left||n.body.scrollLeft||r.scrollX||o.scrollLeft||0;return{top:a,left:l}}change(n=roe){return n>0?this._change.pipe(mv(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(r){return new(r||e)(U(oa),U(we),U(Te,8))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Uj=Nj(),pO=class{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=un(-this._previousScrollPosition.left),e.style.top=un(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,n=e.style,r=t.style,o=n.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Uj&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Uj&&(n.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.body,n=this._viewportRuler.getViewportSize();return t.scrollHeight>n.height||t.scrollWidth>n.width}};var gO=class{constructor(e,t,n,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(ft(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},WC=class{enable(){}disable(){}attach(){}};function mO(i,e){return e.some(t=>{let n=i.bottom<t.top,r=i.top>t.bottom,o=i.right<t.left,s=i.left>t.right;return n||r||o||s})}function Wj(i,e){return e.some(t=>{let n=i.top<t.top,r=i.bottom>t.bottom,o=i.left<t.left,s=i.right>t.right;return n||r||o||s})}var vO=class{constructor(e,t,n,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();mO(t,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},aoe=(()=>{let e=class e{constructor(n,r,o,s){this._scrollDispatcher=n,this._viewportRuler=r,this._ngZone=o,this.noop=()=>new WC,this.close=a=>new gO(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new pO(this._viewportRuler,this._document),this.reposition=a=>new vO(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}};e.\u0275fac=function(r){return new(r||e)(U(jj),U(fO),U(we),U(Te))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),ig=class{constructor(e){if(this.scrollStrategy=new WC,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let t=Object.keys(e);for(let n of t)e[n]!==void 0&&(this[n]=e[n])}}};var yO=class{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var Kj=(()=>{let e=class e{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){let r=this._attachedOverlays.indexOf(n);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}};e.\u0275fac=function(r){return new(r||e)(U(Te))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),loe=(()=>{let e=class e extends Kj{constructor(n,r){super(n),this._ngZone=r,this._keydownListener=o=>{let s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){let l=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(o)):l.next(o);break}}}add(n){super.add(n),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};e.\u0275fac=function(r){return new(r||e)(U(Te),U(we,8))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),uoe=(()=>{let e=class e extends Kj{constructor(n,r,o){super(n),this._platform=r,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=sO(s)},this._clickListener=s=>{let a=sO(s),l=s.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let u=this._attachedOverlays.slice();for(let c=u.length-1;c>-1;c--){let d=u[c];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(a)||d.overlayElement.contains(l))break;let h=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(s)):h.next(s)}}}add(n){if(super.add(n),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let n=this._document.body;n.removeEventListener("pointerdown",this._pointerDownListener,!0),n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(n){n.addEventListener("pointerdown",this._pointerDownListener,!0),n.addEventListener("click",this._clickListener,!0),n.addEventListener("auxclick",this._clickListener,!0),n.addEventListener("contextmenu",this._clickListener,!0)}};e.\u0275fac=function(r){return new(r||e)(U(Te),U(oa),U(we,8))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Qj=(()=>{let e=class e{constructor(n,r){this._platform=r,this._document=n}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n="cdk-overlay-container";if(this._platform.isBrowser||aO()){let o=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let s=0;s<o.length;s++)o[s].remove()}let r=this._document.createElement("div");r.classList.add(n),aO()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}};e.\u0275fac=function(r){return new(r||e)(U(Te),U(oa))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),_O=class{constructor(e,t,n,r,o,s,a,l,u,c=!1){this._portalOutlet=e,this._host=t,this._pane=n,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=u,this._animationsDisabled=c,this._backdropElement=null,this._backdropClick=new Se,this._attachments=new Se,this._detachments=new Se,this._locationChanges=Bt.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new Se,this._outsidePointerEvents=new Se,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ut(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=K(K({},this._config),e),this._updateElementSize()}setDirection(e){this._config=be(K({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=un(this._config.width),e.height=un(this._config.height),e.minWidth=un(this._config.minWidth),e.minHeight=un(this._config.minHeight),e.maxWidth=un(this._config.maxWidth),e.maxHeight=un(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,n){let r=uO(t||[]).filter(o=>!!o);r.length&&(n?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let e=this._ngZone.onStable.pipe(Et(Qh(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},zj="cdk-overlay-connected-position-bounding-box",coe=/([A-Za-z%]+)$/,CO=class{get positions(){return this._preferredPositions}constructor(e,t,n,r,o){this._viewportRuler=t,this._document=n,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Se,this._resizeSubscription=Bt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(zj),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,n=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,r,a),u=this._getOverlayPoint(l,t,a),c=this._getOverlayFit(u,t,n,a);if(c.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(c,u,n)){o.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!s||s.overlayFit.visibleArea<c.visibleArea)&&(s={overlayFit:c,overlayPoint:u,originPoint:l,position:a,overlayRect:t})}if(o.length){let a=null,l=-1;for(let u of o){let c=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);c>l&&(l=c,a=u)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Bu(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(zj),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,n){let r;if(n.originX=="center")r=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r=n.originX=="start"?s:a}t.left<0&&(r-=t.left);let o;return n.originY=="center"?o=e.top+e.height/2:o=n.originY=="top"?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,n){let r;n.overlayX=="center"?r=-t.width/2:n.overlayX==="start"?r=this._isRtl()?-t.width:0:r=this._isRtl()?0:-t.width;let o;return n.overlayY=="center"?o=-t.height/2:o=n.overlayY=="top"?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,n,r){let o=qj(t),{x:s,y:a}=e,l=this._getOffset(r,"x"),u=this._getOffset(r,"y");l&&(s+=l),u&&(a+=u);let c=0-s,d=s+o.width-n.width,h=0-a,f=a+o.height-n.height,p=this._subtractOverflows(o.width,c,d),g=this._subtractOverflows(o.height,h,f),m=p*g;return{visibleArea:m,isCompletelyWithinViewport:o.width*o.height===m,fitsInViewportVertically:g===o.height,fitsInViewportHorizontally:p==o.width}}_canFitWithFlexibleDimensions(e,t,n){if(this._hasFlexibleDimensions){let r=n.bottom-t.y,o=n.right-t.x,s=$j(this._overlayRef.getConfig().minHeight),a=$j(this._overlayRef.getConfig().minWidth),l=e.fitsInViewportVertically||s!=null&&s<=r,u=e.fitsInViewportHorizontally||a!=null&&a<=o;return l&&u}return!1}_pushOverlayOnScreen(e,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let r=qj(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),l=Math.max(o.top-n.top-e.y,0),u=Math.max(o.left-n.left-e.x,0),c=0,d=0;return r.width<=o.width?c=u||-s:c=e.x<this._viewportMargin?o.left-n.left-e.x:0,r.height<=o.height?d=l||-a:d=e.y<this._viewportMargin?o.top-n.top-e.y:0,this._previousPushAmount={x:c,y:d},{x:e.x+c,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){let n=this._getScrollVisibility(),r=new yO(e,n);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,r=e.overlayY;e.overlayX==="center"?n="center":this._isRtl()?n=e.overlayX==="start"?"right":"left":n=e.overlayX==="start"?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(e,t){let n=this._viewportRect,r=this._isRtl(),o,s,a;if(t.overlayY==="top")s=e.y,o=n.height-s+this._viewportMargin;else if(t.overlayY==="bottom")a=n.height-e.y+this._viewportMargin*2,o=n.height-a+this._viewportMargin;else{let f=Math.min(n.bottom-e.y+n.top,e.y),p=this._lastBoundingBoxSize.height;o=f*2,s=e.y-f,o>p&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-p/2)}let l=t.overlayX==="start"&&!r||t.overlayX==="end"&&r,u=t.overlayX==="end"&&!r||t.overlayX==="start"&&r,c,d,h;if(u)h=n.width-e.x+this._viewportMargin,c=e.x-this._viewportMargin;else if(l)d=e.x,c=n.right-e.x;else{let f=Math.min(n.right-e.x+n.left,e.x),p=this._lastBoundingBoxSize.width;c=f*2,d=e.x-f,c>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:s,left:d,bottom:a,right:h,width:c,height:o}}_setBoundingBoxStyles(e,t){let n=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=un(n.height),r.top=un(n.top),r.bottom=un(n.bottom),r.width=un(n.width),r.left=un(n.left),r.right=un(n.right),t.overlayX==="center"?r.alignItems="center":r.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?r.justifyContent="center":r.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=un(o)),s&&(r.maxWidth=un(s))}this._lastBoundingBoxSize=n,Bu(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Bu(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Bu(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let n={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let c=this._viewportRuler.getViewportScrollPosition();Bu(n,this._getExactOverlayY(t,e,c)),Bu(n,this._getExactOverlayX(t,e,c))}else n.position="static";let a="",l=this._getOffset(t,"x"),u=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),u&&(a+=`translateY(${u}px)`),n.transform=a.trim(),s.maxHeight&&(r?n.maxHeight=un(s.maxHeight):o&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=un(s.maxWidth):o&&(n.maxWidth="")),Bu(this._pane.style,n)}_getExactOverlayY(e,t,n){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=un(o.y);return r}_getExactOverlayX(e,t,n){let r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=un(o.x);return r}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Wj(e,n),isOriginOutsideView:mO(e,n),isOverlayClipped:Wj(t,n),isOverlayOutsideView:mO(t,n)}}_subtractOverflows(e,...t){return t.reduce((n,r)=>n-Math.max(r,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&uO(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof $e)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+t,height:n,width:t}}};function Bu(i,e){for(let t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function $j(i){if(typeof i!="number"&&i!=null){let[e,t]=i.split(coe);return!t||t==="px"?parseFloat(e):null}return i||null}function qj(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}var Yj="cdk-global-overlay-wrapper",wO=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Yj),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=n,l=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),u=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),c=this._xPosition,d=this._xOffset,h=this._overlayRef.getConfig().direction==="rtl",f="",p="",g="";l?g="flex-start":c==="center"?(g="center",h?p=d:f=d):h?c==="left"||c==="end"?(g="flex-end",f=d):(c==="right"||c==="start")&&(g="flex-start",p=d):c==="left"||c==="start"?(g="flex-start",f=d):(c==="right"||c==="end")&&(g="flex-end",p=d),e.position=this._cssPosition,e.marginLeft=l?"0":f,e.marginTop=u?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":p,t.justifyContent=g,t.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove(Yj),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},doe=(()=>{let e=class e{constructor(n,r,o,s){this._viewportRuler=n,this._document=r,this._platform=o,this._overlayContainer=s}global(){return new wO}flexibleConnectedTo(n){return new CO(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};e.\u0275fac=function(r){return new(r||e)(U(fO),U(Te),U(oa),U(Qj))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),hoe=0,Zj=(()=>{let e=class e{constructor(n,r,o,s,a,l,u,c,d,h,f,p){this.scrollStrategies=n,this._overlayContainer=r,this._componentFactoryResolver=o,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=l,this._ngZone=u,this._document=c,this._directionality=d,this._location=h,this._outsideClickDispatcher=f,this._animationsModuleType=p}create(n){let r=this._createHostElement(),o=this._createPaneElement(r),s=this._createPortalOutlet(o),a=new ig(n);return a.direction=a.direction||this._directionality.value,new _O(s,r,o,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(n){let r=this._document.createElement("div");return r.id=`cdk-overlay-${hoe++}`,r.classList.add("cdk-overlay-pane"),n.appendChild(r),r}_createHostElement(){let n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(Pi)),new jC(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};e.\u0275fac=function(r){return new(r||e)(U(aoe),U(Qj),U(kr),U(doe),U(loe),U(It),U(we),U(Te),U(Bj),U(ja),U(uoe),U(Df,8))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var poe=["dialog"],goe=["content"];function moe(i,e){}var voe=i=>({"rounded-0":i}),bO=class{animation=!0;backdrop=!0;ignoreBackdropClick=!1;keyboard=!0;modalClass="";containerClass="";viewContainerRef;data=null;nonInvasive=!1},Hi=class{_overlayRef;_container;constructor(e,t){this._overlayRef=e,this._container=t}component;onClose$=new Se;onClose=this.onClose$.asObservable();close(e){this._container._close(),setTimeout(()=>{this._container._config.nonInvasive&&this._container._onNonInvasiveModalHidden(),this._container._restoreScrollbar(),this.onClose$.next(e),this.onClose$.complete(),this._overlayRef.detach(),this._overlayRef.dispose()},this._container.MODAL_TRANSITION)}},yoe=992,SO="modal-open",Xj="modal-non-invasive-open",Jj="modal-non-invasive-show",e2=(()=>{class i{_document;_elementRef;_renderer;_focusTrapFactory;_ngZone;_portalOutlet;modalDialog;modalContent;_destroy$=new Se;backdropClick$=new Se;_config;BACKDROP_TRANSITION=150;MODAL_TRANSITION=200;NON_INVASIVE_TRANSITION=450;_previouslyFocusedElement;_focusTrap;modal=!0;get hasAnimation(){return this._config.animation}onWindowResize(){this._ngZone.runOutsideAngular(()=>{this._config.nonInvasive&&this._handleWindowResize()})}get host(){return this._elementRef.nativeElement}_isScrollable=!1;_isBottomRight=!1;_isBottomLeft=!1;_isTopRight=!1;_isTopLeft=!1;_isSideTopModal=!1;_isSideBottomModal=!1;_isSideModal=!1;_isModalBottom=!1;_modalContentRect;_modalContentComputedStyles;_modalDialogComputedStyles;_topOffset=0;_leftOffset=0;_rightOffset=0;_bottomOffset=0;constructor(t,n,r,o,s){this._document=t,this._elementRef=n,this._renderer=r,this._focusTrapFactory=o,this._ngZone=s}ngOnInit(){this._updateContainerClass(),this._renderer.setStyle(this.host,"display","block"),this._config.nonInvasive||(this._focusTrap=this._focusTrapFactory.create(this.host),this._previouslyFocusedElement=this._document.activeElement),this._config.animation?setTimeout(()=>{this._renderer.addClass(this.host,"show"),setTimeout(()=>{this._focusTrap?.focusInitialElementWhenReady()},this.MODAL_TRANSITION)},this.BACKDROP_TRANSITION):this._focusTrap?.focusInitialElementWhenReady()}ngAfterViewInit(){let t=this._document.body.offsetWidth;this._renderer.addClass(this._document.body,SO),this._config.nonInvasive&&(this._renderer.addClass(this._document.body,Xj),setTimeout(()=>{this._onNonInvasiveModalShown()},this.NON_INVASIVE_TRANSITION)),this._config.nonInvasive||this._renderer.setStyle(this._document.body,"overflow","hidden");let n=this._document.body.offsetWidth;this._config.nonInvasive||this._renderer.setStyle(this._document.body,"padding-right",`${n-t}px`),!this._config.ignoreBackdropClick&&!this._config.nonInvasive&&tn(this.host,"mousedown").pipe(ft(r=>{let o=r.target,s=this.modalDialog.nativeElement,a=o!==s,l=!s.contains(o);return a&&l}),Et(this._destroy$)).subscribe(r=>{this.backdropClick$.next(r)})}ngOnDestroy(){this._previouslyFocusedElement?.focus(),this._focusTrap?.destroy(),this._destroy$.next(),this._destroy$.complete()}_updateContainerClass(){if(this._config.containerClass===""||this._config.containerClass.length&&this._config.containerClass.length===0)return;this._config.containerClass.split(" ").forEach(n=>{this._renderer.addClass(this.host,n)})}_onNonInvasiveModalShown(){this._isScrollable=this._config.modalClass.includes("modal-dialog-scrollable"),this._isBottomRight=this._config.modalClass.includes("modal-bottom-right"),this._isBottomLeft=this._config.modalClass.includes("modal-bottom-left"),this._isTopRight=this._config.modalClass.includes("modal-top-right"),this._isTopLeft=this._config.modalClass.includes("modal-top-left"),this._isModalBottom=this._config.modalClass.includes("modal-bottom"),this._isSideTopModal=this._isTopLeft||this._isTopRight,this._isSideBottomModal=this._isBottomLeft||this._isBottomRight,this._isSideModal=this._isSideTopModal||this._isSideBottomModal,this._modalContentRect=this.modalContent.nativeElement.getBoundingClientRect(),this._modalContentComputedStyles=window.getComputedStyle(this.modalContent.nativeElement),this._modalDialogComputedStyles=window.getComputedStyle(this.modalDialog.nativeElement),this._topOffset=parseInt(this._modalDialogComputedStyles.top,0),this._leftOffset=parseInt(this._modalDialogComputedStyles.left,0),this._rightOffset=parseInt(this._modalDialogComputedStyles.right,0),this._bottomOffset=parseInt(this._modalDialogComputedStyles.bottom,0),this._renderer.addClass(this.host,Jj),this._setNonInvasiveStyles()}_setNonInvasiveStyles(t=0,n=0){let r=window.innerWidth>=yoe;this._renderer.setStyle(this.host,"left",`${this._modalContentRect.left+t}px`),this._renderer.setStyle(this.host,"width",this._modalContentComputedStyles.width),this._isScrollable||(this._renderer.setStyle(this.host,"height",this._modalContentComputedStyles.height),this._renderer.setStyle(this.host,"display","")),r&&((this._isSideBottomModal||this._isModalBottom)&&this._renderer.setStyle(this.host,"top",`${this._modalContentRect.top+n}px`),this._isSideModal&&this._renderer.setStyle(this.host,"overflowX","auto")),r||(this.host.style.height="")}_onNonInvasiveModalHidden(){this._renderer.removeClass(this.host,Jj),this._resetNonInvasiveStyles(),this._removeNonInvasiveClass()}_resetNonInvasiveStyles(){this._renderer.setStyle(this.host,"left",""),this._renderer.setStyle(this.host,"top",""),this._renderer.setStyle(this.host,"height",""),this._renderer.setStyle(this.host,"width",""),this._isScrollable||this._renderer.setStyle(this.host,"display",""),this._isSideModal&&this._renderer.setStyle(this.host,"overflowX","")}_removeNonInvasiveClass(){this._document.body.querySelector(".modal.show.modal-non-invasive-show")?this._renderer.addClass(this._document.body,SO):this._renderer.removeClass(this._document.body,Xj)}_handleWindowResize(){let t=this.host.querySelector(".modal-content");if(this._resetNonInvasiveStyles(),this._modalContentRect=t.getBoundingClientRect(),this._modalContentComputedStyles=window.getComputedStyle(t),this._isSideTopModal||this._isSideBottomModal){let n=0,r=0;(this._isBottomRight||this._isBottomLeft)&&(r=-this._bottomOffset),(this._isBottomRight||this._isTopRight)&&(n=-this._rightOffset),(this._isBottomLeft||this._isTopLeft)&&(n=this._leftOffset),this._setNonInvasiveStyles(n,r)}else this._setNonInvasiveStyles()}_close(){this._config.animation&&this._renderer.removeClass(this.host,"show");let t=Array.from(this.host.querySelectorAll("iframe")),n=Array.from(this.host.querySelectorAll("video"));t.forEach(r=>{let o=r.getAttribute("src");this._renderer.setAttribute(r,"src",o)}),n.forEach(r=>{r.pause()})}_restoreScrollbar(){this._renderer.removeClass(this._document.body,SO),this._renderer.removeStyle(this._document.body,"overflow"),this._renderer.removeStyle(this._document.body,"padding-right")}attachComponentPortal(t){return this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.attachTemplatePortal(t)}static \u0275fac=function(n){return new(n||i)(x(Te),x($e),x(ur),x(Gj),x(we))};static \u0275cmp=re({type:i,selectors:[["mdb-modal-container"]],viewQuery:function(n,r){if(n&1&&(Zn(UC,7),Zn(poe,7),Zn(goe,7)),n&2){let o;lt(o=ut())&&(r._portalOutlet=o.first),lt(o=ut())&&(r.modalDialog=o.first),lt(o=ut())&&(r.modalContent=o.first)}},hostVars:4,hostBindings:function(n,r){n&1&&z("resize",function(s){return r.onWindowResize(s)},!1,tL),n&2&&at("modal",r.modal)("fade",r.hasAnimation)},decls:5,vars:5,consts:[["dialog",""],[1,"modal-content",3,"ngClass"],["content",""],["cdkPortalOutlet",""]],template:function(n,r){n&1&&(b(0,"div",null,0)(2,"div",1,2),ue(4,moe,0,0,"ng-template",3),D()()),n&2&&(Pt("modal-dialog"+(r._config.modalClass?" "+r._config.modalClass:"")),I(2),N("ngClass",go(3,voe,r._config.modalClass.includes("modal-frame"))))},dependencies:[Ua,UC],encapsulation:2})}return i})(),Ot=(()=>{class i{_document;_overlay;_injector;_cfr;constructor(t,n,r,o){this._document=t,this._overlay=n,this._injector=r,this._cfr=o}open(t,n){let r=new bO;n=n?Object.assign(r,n):r;let o=this._createOverlay(n),s=this._createContainer(o,n),a=this._createContent(t,s,o,n);return this._registerListeners(a,n,s),a}_createOverlay(t){let n=this._getOverlayConfig(t);return this._overlay.create(n)}_getOverlayConfig(t){return new ig({positionStrategy:this._overlay.position().global(),scrollStrategy:this._overlay.scrollStrategies.noop(),hasBackdrop:t.nonInvasive?!1:t.backdrop,backdropClass:"mdb-backdrop"})}_createContainer(t,n){let r=new eh(e2,null,this._injector,this._cfr),o=t.attach(r);return o.instance._config=n,o.instance}_createContent(t,n,r,o){let s=new Hi(r,n);if(t instanceof Si)n.attachTemplatePortal(new th(t,null,{$implicit:o.data,modalRef:s}));else{let a=this._createInjector(o,s,n),l=n.attachComponentPortal(new eh(t,o.viewContainerRef,a));o.data&&Object.assign(l.instance,K({},o.data)),s.component=l.instance}return s}_createInjector(t,n,r){let o=t&&t.viewContainerRef&&t.viewContainerRef.injector,s=[{provide:e2,useValue:r},{provide:Hi,useValue:n}];return It.create({parent:o||this._injector,providers:s})}_registerListeners(t,n,r){r.backdropClick$.pipe(Ut(1)).subscribe(()=>{t.close()}),n.keyboard&&tn(r._elementRef.nativeElement,"keydown").pipe(ft(o=>o.key==="Escape"),Ut(1)).subscribe(()=>{t.close()})}static \u0275fac=function(n){return new(n||i)(U(Te),U(Zj),U(It),U(kr))};static \u0275prov=G({token:i,factory:i.\u0275fac})}return i})();function rg(i){i||(GE(rg),i=k(hd));let e=new Ce(t=>i.onDestroy(t.next.bind(t)));return t=>t.pipe(Et(e))}var vn="top",ei="bottom",Gn="right",Tn="left",zC="auto",hl=[vn,ei,Gn,Tn],sa="start",ju="end",t2="clippingParents",$C="viewport",nh="popper",n2="reference",EO=hl.reduce(function(i,e){return i.concat([e+"-"+sa,e+"-"+ju])},[]),qC=[].concat(hl,[zC]).reduce(function(i,e){return i.concat([e,e+"-"+sa,e+"-"+ju])},[]),_oe="beforeRead",Coe="read",woe="afterRead",Soe="beforeMain",boe="main",Eoe="afterMain",Doe="beforeWrite",Toe="write",Roe="afterWrite",i2=[_oe,Coe,woe,Soe,boe,Eoe,Doe,Toe,Roe];function Bn(i){return i?(i.nodeName||"").toLowerCase():null}function $t(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var e=i.ownerDocument;return e&&e.defaultView||window}return i}function $r(i){var e=$t(i).Element;return i instanceof e||i instanceof Element}function Rn(i){var e=$t(i).HTMLElement;return i instanceof e||i instanceof HTMLElement}function ih(i){if(typeof ShadowRoot>"u")return!1;var e=$t(i).ShadowRoot;return i instanceof e||i instanceof ShadowRoot}function Aoe(i){var e=i.state;Object.keys(e.elements).forEach(function(t){var n=e.styles[t]||{},r=e.attributes[t]||{},o=e.elements[t];!Rn(o)||!Bn(o)||(Object.assign(o.style,n),Object.keys(r).forEach(function(s){var a=r[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function Ooe(i){var e=i.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(n){var r=e.elements[n],o=e.attributes[n]||{},s=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:t[n]),a=s.reduce(function(l,u){return l[u]="",l},{});!Rn(r)||!Bn(r)||(Object.assign(r.style,a),Object.keys(o).forEach(function(l){r.removeAttribute(l)}))})}}var r2={name:"applyStyles",enabled:!0,phase:"write",fn:Aoe,effect:Ooe,requires:["computeStyles"]};function jn(i){return i.split("-")[0]}var Do=Math.max,Uu=Math.min,aa=Math.round;function rh(){var i=navigator.userAgentData;return i!=null&&i.brands&&Array.isArray(i.brands)?i.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function og(){return!/^((?!chrome|android).)*safari/i.test(rh())}function qr(i,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var n=i.getBoundingClientRect(),r=1,o=1;e&&Rn(i)&&(r=i.offsetWidth>0&&aa(n.width)/i.offsetWidth||1,o=i.offsetHeight>0&&aa(n.height)/i.offsetHeight||1);var s=$r(i)?$t(i):window,a=s.visualViewport,l=!og()&&t,u=(n.left+(l&&a?a.offsetLeft:0))/r,c=(n.top+(l&&a?a.offsetTop:0))/o,d=n.width/r,h=n.height/o;return{width:d,height:h,top:c,right:u+d,bottom:c+h,left:u,x:u,y:c}}function Wu(i){var e=qr(i),t=i.offsetWidth,n=i.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:i.offsetLeft,y:i.offsetTop,width:t,height:n}}function sg(i,e){var t=e.getRootNode&&e.getRootNode();if(i.contains(e))return!0;if(t&&ih(t)){var n=e;do{if(n&&i.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Ai(i){return $t(i).getComputedStyle(i)}function DO(i){return["table","td","th"].indexOf(Bn(i))>=0}function ti(i){return(($r(i)?i.ownerDocument:i.document)||window.document).documentElement}function la(i){return Bn(i)==="html"?i:i.assignedSlot||i.parentNode||(ih(i)?i.host:null)||ti(i)}function o2(i){return!Rn(i)||Ai(i).position==="fixed"?null:i.offsetParent}function xoe(i){var e=/firefox/i.test(rh()),t=/Trident/i.test(rh());if(t&&Rn(i)){var n=Ai(i);if(n.position==="fixed")return null}var r=la(i);for(ih(r)&&(r=r.host);Rn(r)&&["html","body"].indexOf(Bn(r))<0;){var o=Ai(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function To(i){for(var e=$t(i),t=o2(i);t&&DO(t)&&Ai(t).position==="static";)t=o2(t);return t&&(Bn(t)==="html"||Bn(t)==="body"&&Ai(t).position==="static")?e:t||xoe(i)||e}function zu(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function $u(i,e,t){return Do(i,Uu(e,t))}function s2(i,e,t){var n=$u(i,e,t);return n>t?t:n}function ag(){return{top:0,right:0,bottom:0,left:0}}function lg(i){return Object.assign({},ag(),i)}function ug(i,e){return e.reduce(function(t,n){return t[n]=i,t},{})}var Moe=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,lg(typeof e!="number"?e:ug(e,hl))};function Ioe(i){var e,t=i.state,n=i.name,r=i.options,o=t.elements.arrow,s=t.modifiersData.popperOffsets,a=jn(t.placement),l=zu(a),u=[Tn,Gn].indexOf(a)>=0,c=u?"height":"width";if(!(!o||!s)){var d=Moe(r.padding,t),h=Wu(o),f=l==="y"?vn:Tn,p=l==="y"?ei:Gn,g=t.rects.reference[c]+t.rects.reference[l]-s[l]-t.rects.popper[c],m=s[l]-t.rects.reference[l],v=To(o),y=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,C=g/2-m/2,S=d[f],E=y-h[c]-d[p],T=y/2-h[c]/2+C,O=$u(S,T,E),R=l;t.modifiersData[n]=(e={},e[R]=O,e.centerOffset=O-T,e)}}function Poe(i){var e=i.state,t=i.options,n=t.element,r=n===void 0?"[data-popper-arrow]":n;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||sg(e.elements.popper,r)&&(e.elements.arrow=r))}var TO={name:"arrow",enabled:!0,phase:"main",fn:Ioe,effect:Poe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Yr(i){return i.split("-")[1]}var Foe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Noe(i,e){var t=i.x,n=i.y,r=e.devicePixelRatio||1;return{x:aa(t*r)/r||0,y:aa(n*r)/r||0}}function a2(i){var e,t=i.popper,n=i.popperRect,r=i.placement,o=i.variation,s=i.offsets,a=i.position,l=i.gpuAcceleration,u=i.adaptive,c=i.roundOffsets,d=i.isFixed,h=s.x,f=h===void 0?0:h,p=s.y,g=p===void 0?0:p,m=typeof c=="function"?c({x:f,y:g}):{x:f,y:g};f=m.x,g=m.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),C=Tn,S=vn,E=window;if(u){var T=To(t),O="clientHeight",R="clientWidth";if(T===$t(t)&&(T=ti(t),Ai(T).position!=="static"&&a==="absolute"&&(O="scrollHeight",R="scrollWidth")),T=T,r===vn||(r===Tn||r===Gn)&&o===ju){S=ei;var M=d&&T===E&&E.visualViewport?E.visualViewport.height:T[O];g-=M-n.height,g*=l?1:-1}if(r===Tn||(r===vn||r===ei)&&o===ju){C=Gn;var H=d&&T===E&&E.visualViewport?E.visualViewport.width:T[R];f-=H-n.width,f*=l?1:-1}}var V=Object.assign({position:a},u&&Foe),X=c===!0?Noe({x:f,y:g},$t(t)):{x:f,y:g};if(f=X.x,g=X.y,l){var ce;return Object.assign({},V,(ce={},ce[S]=y?"0":"",ce[C]=v?"0":"",ce.transform=(E.devicePixelRatio||1)<=1?"translate("+f+"px, "+g+"px)":"translate3d("+f+"px, "+g+"px, 0)",ce))}return Object.assign({},V,(e={},e[S]=y?g+"px":"",e[C]=v?f+"px":"",e.transform="",e))}function Loe(i){var e=i.state,t=i.options,n=t.gpuAcceleration,r=n===void 0?!0:n,o=t.adaptive,s=o===void 0?!0:o,a=t.roundOffsets,l=a===void 0?!0:a,u={placement:jn(e.placement),variation:Yr(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,a2(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,a2(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var l2={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Loe,data:{}};var YC={passive:!0};function koe(i){var e=i.state,t=i.instance,n=i.options,r=n.scroll,o=r===void 0?!0:r,s=n.resize,a=s===void 0?!0:s,l=$t(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",t.update,YC)}),a&&l.addEventListener("resize",t.update,YC),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",t.update,YC)}),a&&l.removeEventListener("resize",t.update,YC)}}var u2={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:koe,data:{}};var Voe={left:"right",right:"left",bottom:"top",top:"bottom"};function oh(i){return i.replace(/left|right|bottom|top/g,function(e){return Voe[e]})}var Hoe={start:"end",end:"start"};function KC(i){return i.replace(/start|end/g,function(e){return Hoe[e]})}function qu(i){var e=$t(i),t=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:t,scrollTop:n}}function Yu(i){return qr(ti(i)).left+qu(i).scrollLeft}function RO(i,e){var t=$t(i),n=ti(i),r=t.visualViewport,o=n.clientWidth,s=n.clientHeight,a=0,l=0;if(r){o=r.width,s=r.height;var u=og();(u||!u&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:o,height:s,x:a+Yu(i),y:l}}function AO(i){var e,t=ti(i),n=qu(i),r=(e=i.ownerDocument)==null?void 0:e.body,o=Do(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=Do(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-n.scrollLeft+Yu(i),l=-n.scrollTop;return Ai(r||t).direction==="rtl"&&(a+=Do(t.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function Ku(i){var e=Ai(i),t=e.overflow,n=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+r+n)}function QC(i){return["html","body","#document"].indexOf(Bn(i))>=0?i.ownerDocument.body:Rn(i)&&Ku(i)?i:QC(la(i))}function fl(i,e){var t;e===void 0&&(e=[]);var n=QC(i),r=n===((t=i.ownerDocument)==null?void 0:t.body),o=$t(n),s=r?[o].concat(o.visualViewport||[],Ku(n)?n:[]):n,a=e.concat(s);return r?a:a.concat(fl(la(s)))}function sh(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function Goe(i,e){var t=qr(i,!1,e==="fixed");return t.top=t.top+i.clientTop,t.left=t.left+i.clientLeft,t.bottom=t.top+i.clientHeight,t.right=t.left+i.clientWidth,t.width=i.clientWidth,t.height=i.clientHeight,t.x=t.left,t.y=t.top,t}function c2(i,e,t){return e===$C?sh(RO(i,t)):$r(e)?Goe(e,t):sh(AO(ti(i)))}function Boe(i){var e=fl(la(i)),t=["absolute","fixed"].indexOf(Ai(i).position)>=0,n=t&&Rn(i)?To(i):i;return $r(n)?e.filter(function(r){return $r(r)&&sg(r,n)&&Bn(r)!=="body"}):[]}function OO(i,e,t,n){var r=e==="clippingParents"?Boe(i):[].concat(e),o=[].concat(r,[t]),s=o[0],a=o.reduce(function(l,u){var c=c2(i,u,n);return l.top=Do(c.top,l.top),l.right=Uu(c.right,l.right),l.bottom=Uu(c.bottom,l.bottom),l.left=Do(c.left,l.left),l},c2(i,s,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function cg(i){var e=i.reference,t=i.element,n=i.placement,r=n?jn(n):null,o=n?Yr(n):null,s=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(r){case vn:l={x:s,y:e.y-t.height};break;case ei:l={x:s,y:e.y+e.height};break;case Gn:l={x:e.x+e.width,y:a};break;case Tn:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var u=r?zu(r):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case sa:l[u]=l[u]-(e[c]/2-t[c]/2);break;case ju:l[u]=l[u]+(e[c]/2-t[c]/2);break;default:}}return l}function pl(i,e){e===void 0&&(e={});var t=e,n=t.placement,r=n===void 0?i.placement:n,o=t.strategy,s=o===void 0?i.strategy:o,a=t.boundary,l=a===void 0?t2:a,u=t.rootBoundary,c=u===void 0?$C:u,d=t.elementContext,h=d===void 0?nh:d,f=t.altBoundary,p=f===void 0?!1:f,g=t.padding,m=g===void 0?0:g,v=lg(typeof m!="number"?m:ug(m,hl)),y=h===nh?n2:nh,C=i.rects.popper,S=i.elements[p?y:h],E=OO($r(S)?S:S.contextElement||ti(i.elements.popper),l,c,s),T=qr(i.elements.reference),O=cg({reference:T,element:C,strategy:"absolute",placement:r}),R=sh(Object.assign({},C,O)),M=h===nh?R:T,H={top:E.top-M.top+v.top,bottom:M.bottom-E.bottom+v.bottom,left:E.left-M.left+v.left,right:M.right-E.right+v.right},V=i.modifiersData.offset;if(h===nh&&V){var X=V[r];Object.keys(H).forEach(function(ce){var Me=[Gn,ei].indexOf(ce)>=0?1:-1,ae=[vn,ei].indexOf(ce)>=0?"y":"x";H[ce]+=X[ae]*Me})}return H}function xO(i,e){e===void 0&&(e={});var t=e,n=t.placement,r=t.boundary,o=t.rootBoundary,s=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,u=l===void 0?qC:l,c=Yr(n),d=c?a?EO:EO.filter(function(p){return Yr(p)===c}):hl,h=d.filter(function(p){return u.indexOf(p)>=0});h.length===0&&(h=d);var f=h.reduce(function(p,g){return p[g]=pl(i,{placement:g,boundary:r,rootBoundary:o,padding:s})[jn(g)],p},{});return Object.keys(f).sort(function(p,g){return f[p]-f[g]})}function joe(i){if(jn(i)===zC)return[];var e=oh(i);return[KC(i),e,KC(e)]}function Uoe(i){var e=i.state,t=i.options,n=i.name;if(!e.modifiersData[n]._skip){for(var r=t.mainAxis,o=r===void 0?!0:r,s=t.altAxis,a=s===void 0?!0:s,l=t.fallbackPlacements,u=t.padding,c=t.boundary,d=t.rootBoundary,h=t.altBoundary,f=t.flipVariations,p=f===void 0?!0:f,g=t.allowedAutoPlacements,m=e.options.placement,v=jn(m),y=v===m,C=l||(y||!p?[oh(m)]:joe(m)),S=[m].concat(C).reduce(function(Ke,zn){return Ke.concat(jn(zn)===zC?xO(e,{placement:zn,boundary:c,rootBoundary:d,padding:u,flipVariations:p,allowedAutoPlacements:g}):zn)},[]),E=e.rects.reference,T=e.rects.popper,O=new Map,R=!0,M=S[0],H=0;H<S.length;H++){var V=S[H],X=jn(V),ce=Yr(V)===sa,Me=[vn,ei].indexOf(X)>=0,ae=Me?"width":"height",q=pl(e,{placement:V,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),$=Me?ce?Gn:Tn:ce?ei:vn;E[ae]>T[ae]&&($=oh($));var ie=oh($),se=[];if(o&&se.push(q[X]<=0),a&&se.push(q[$]<=0,q[ie]<=0),se.every(function(Ke){return Ke})){M=V,R=!1;break}O.set(V,se)}if(R)for(var We=p?3:1,Yt=function(zn){var mi=S.find(function(ln){var vi=O.get(ln);if(vi)return vi.slice(0,zn).every(function(si){return si})});if(mi)return M=mi,"break"},wt=We;wt>0;wt--){var en=Yt(wt);if(en==="break")break}e.placement!==M&&(e.modifiersData[n]._skip=!0,e.placement=M,e.reset=!0)}}var MO={name:"flip",enabled:!0,phase:"main",fn:Uoe,requiresIfExists:["offset"],data:{_skip:!1}};function Woe(i,e,t){var n=jn(i),r=[Tn,vn].indexOf(n)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:i})):t,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[Tn,Gn].indexOf(n)>=0?{x:a,y:s}:{x:s,y:a}}function zoe(i){var e=i.state,t=i.options,n=i.name,r=t.offset,o=r===void 0?[0,0]:r,s=qC.reduce(function(c,d){return c[d]=Woe(d,e.rects,o),c},{}),a=s[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[n]=s}var IO={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:zoe};function $oe(i){var e=i.state,t=i.name;e.modifiersData[t]=cg({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var d2={name:"popperOffsets",enabled:!0,phase:"read",fn:$oe,data:{}};function PO(i){return i==="x"?"y":"x"}function qoe(i){var e=i.state,t=i.options,n=i.name,r=t.mainAxis,o=r===void 0?!0:r,s=t.altAxis,a=s===void 0?!1:s,l=t.boundary,u=t.rootBoundary,c=t.altBoundary,d=t.padding,h=t.tether,f=h===void 0?!0:h,p=t.tetherOffset,g=p===void 0?0:p,m=pl(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),v=jn(e.placement),y=Yr(e.placement),C=!y,S=zu(v),E=PO(S),T=e.modifiersData.popperOffsets,O=e.rects.reference,R=e.rects.popper,M=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,H=typeof M=="number"?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),V=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,X={x:0,y:0};if(T){if(o){var ce,Me=S==="y"?vn:Tn,ae=S==="y"?ei:Gn,q=S==="y"?"height":"width",$=T[S],ie=$+m[Me],se=$-m[ae],We=f?-R[q]/2:0,Yt=y===sa?O[q]:R[q],wt=y===sa?-R[q]:-O[q],en=e.elements.arrow,Ke=f&&en?Wu(en):{width:0,height:0},zn=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:ag(),mi=zn[Me],ln=zn[ae],vi=$u(0,O[q],Ke[q]),si=C?O[q]/2-We-vi-mi-H.mainAxis:Yt-vi-mi-H.mainAxis,Pc=C?-O[q]/2+We+vi+ln+H.mainAxis:wt+vi+ln+H.mainAxis,ql=e.elements.arrow&&To(e.elements.arrow),g4=ql?S==="y"?ql.clientTop||0:ql.clientLeft||0:0,tF=(ce=V?.[S])!=null?ce:0,m4=$+si-tF-g4,v4=$+Pc-tF,nF=$u(f?Uu(ie,m4):ie,$,f?Do(se,v4):se);T[S]=nF,X[S]=nF-$}if(a){var iF,y4=S==="x"?vn:Tn,_4=S==="x"?ei:Gn,Yl=T[E],Vm=E==="y"?"height":"width",rF=Yl+m[y4],oF=Yl-m[_4],Eb=[vn,Tn].indexOf(v)!==-1,sF=(iF=V?.[E])!=null?iF:0,aF=Eb?rF:Yl-O[Vm]-R[Vm]-sF+H.altAxis,lF=Eb?Yl+O[Vm]+R[Vm]-sF-H.altAxis:oF,uF=f&&Eb?s2(aF,Yl,lF):$u(f?aF:rF,Yl,f?lF:oF);T[E]=uF,X[E]=uF-Yl}e.modifiersData[n]=X}}var FO={name:"preventOverflow",enabled:!0,phase:"main",fn:qoe,requiresIfExists:["offset"]};function NO(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function LO(i){return i===$t(i)||!Rn(i)?qu(i):NO(i)}function Yoe(i){var e=i.getBoundingClientRect(),t=aa(e.width)/i.offsetWidth||1,n=aa(e.height)/i.offsetHeight||1;return t!==1||n!==1}function kO(i,e,t){t===void 0&&(t=!1);var n=Rn(e),r=Rn(e)&&Yoe(e),o=ti(e),s=qr(i,r,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!t)&&((Bn(e)!=="body"||Ku(o))&&(a=LO(e)),Rn(e)?(l=qr(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=Yu(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Koe(i){var e=new Map,t=new Set,n=[];i.forEach(function(o){e.set(o.name,o)});function r(o){t.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&r(l)}}),n.push(o)}return i.forEach(function(o){t.has(o.name)||r(o)}),n}function VO(i){var e=Koe(i);return i2.reduce(function(t,n){return t.concat(e.filter(function(r){return r.phase===n}))},[])}function HO(i){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(i())})})),e}}function GO(i){var e=i.reduce(function(t,n){var r=t[n.name];return t[n.name]=r?Object.assign({},r,n,{options:Object.assign({},r.options,n.options),data:Object.assign({},r.data,n.data)}):n,t},{});return Object.keys(e).map(function(t){return e[t]})}var h2={placement:"bottom",modifiers:[],strategy:"absolute"};function f2(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function p2(i){i===void 0&&(i={});var e=i,t=e.defaultModifiers,n=t===void 0?[]:t,r=e.defaultOptions,o=r===void 0?h2:r;return function(a,l,u){u===void 0&&(u=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},h2,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,f={state:c,setOptions:function(v){var y=typeof v=="function"?v(c.options):v;g(),c.options=Object.assign({},o,c.options,y),c.scrollParents={reference:$r(a)?fl(a):a.contextElement?fl(a.contextElement):[],popper:fl(l)};var C=VO(GO([].concat(n,c.options.modifiers)));return c.orderedModifiers=C.filter(function(S){return S.enabled}),p(),f.update()},forceUpdate:function(){if(!h){var v=c.elements,y=v.reference,C=v.popper;if(f2(y,C)){c.rects={reference:kO(y,To(C),c.options.strategy==="fixed"),popper:Wu(C)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(H){return c.modifiersData[H.name]=Object.assign({},H.data)});for(var S=0;S<c.orderedModifiers.length;S++){if(c.reset===!0){c.reset=!1,S=-1;continue}var E=c.orderedModifiers[S],T=E.fn,O=E.options,R=O===void 0?{}:O,M=E.name;typeof T=="function"&&(c=T({state:c,options:R,name:M,instance:f})||c)}}}},update:HO(function(){return new Promise(function(m){f.forceUpdate(),m(c)})}),destroy:function(){g(),h=!0}};if(!f2(a,l))return f;f.setOptions(u).then(function(m){!h&&u.onFirstUpdate&&u.onFirstUpdate(m)});function p(){c.orderedModifiers.forEach(function(m){var v=m.name,y=m.options,C=y===void 0?{}:y,S=m.effect;if(typeof S=="function"){var E=S({state:c,name:v,instance:f,options:C}),T=function(){};d.push(E||T)}})}function g(){d.forEach(function(m){return m()}),d=[]}return f}}var Qoe=[u2,d2,l2,r2],BO=p2({defaultModifiers:Qoe});var Zoe=["*"];var Xoe=["ngbDatepickerDayView",""],Joe=["month"],ese=["year"];function tse(i,e){if(i&1&&(b(0,"option",4),P(1),D()),i&2){let t=e.$implicit,n=te();N("value",t),Qn("aria-label",n.i18n.getMonthFullName(t,n.date.year)),I(),At(n.i18n.getMonthShortName(t,n.date.year))}}function nse(i,e){if(i&1&&(b(0,"option",4),P(1),D()),i&2){let t=e.$implicit,n=te();N("value",t),I(),At(n.i18n.getYearNumerals(t))}}function ise(i,e){if(i&1){let t=Ft();b(0,"ngb-datepicker-navigation-select",6),z("select",function(r){Ze(t);let o=te();return Xe(o.select.emit(r))}),D()}if(i&2){let t=te();N("date",t.date)("disabled",t.disabled)("months",t.selectBoxes.months)("years",t.selectBoxes.years)}}function rse(i,e){i&1&&Q(0,"div",9)}function ose(i,e){i&1&&Q(0,"div",9)}function sse(i,e){if(i&1&&(ue(0,rse,1,0,"div",7),b(1,"div",8),P(2),D(),ue(3,ose,1,0,"div",7)),i&2){let t=e.$implicit,n=e.$index,r=te(2);Qt(0,n>0?0:-1),I(2),di(" ",r.i18n.getMonthLabel(t.firstDate)," "),I(),Qt(3,n!==r.months.length-1?3:-1)}}function ase(i,e){if(i&1&&Va(0,sse,4,3,null,null,ka),i&2){let t=te();Ha(t.months)}}function lse(i,e){if(i&1&&(b(0,"div",3),P(1),D()),i&2){let t=te(2);I(),At(t.i18n.getWeekLabel())}}function use(i,e){if(i&1&&(b(0,"div",4),P(1),D()),i&2){let t=e.$implicit;I(),At(t)}}function cse(i,e){if(i&1&&(b(0,"div",1),ue(1,lse,2,1,"div",2),Va(2,use,2,1,"div",5,ka),D()),i&2){let t=te();I(),Qt(1,t.datepicker.showWeekNumbers?1:-1),I(),Ha(t.viewModel.weekdays)}}function dse(i,e){if(i&1&&(b(0,"div",9),P(1),D()),i&2){let t=te(2).$implicit,n=te();I(),At(n.i18n.getWeekNumerals(t.number))}}function hse(i,e){}function fse(i,e){if(i&1&&ue(0,hse,0,0,"ng-template",11),i&2){let t=te().$implicit,n=te(3);N("ngTemplateOutlet",n.datepicker.dayTemplate)("ngTemplateOutletContext",t.context)}}function pse(i,e){if(i&1){let t=Ft();b(0,"div",10),z("click",function(r){let s=Ze(t).$implicit;return te(3).doSelect(s),Xe(r.preventDefault())}),ue(1,fse,1,2,null,11),D()}if(i&2){let t=e.$implicit;at("disabled",t.context.disabled)("hidden",t.hidden)("ngb-dp-today",t.context.today),N("tabindex",t.tabindex),Qn("aria-label",t.ariaLabel),I(),Qt(1,t.hidden?-1:1)}}function gse(i,e){if(i&1&&(b(0,"div",7),ue(1,dse,2,1,"div",8),Va(2,pse,2,9,"div",12,ka),D()),i&2){let t=te().$implicit,n=te();I(),Qt(1,n.datepicker.showWeekNumbers?1:-1),I(),Ha(t.days)}}function mse(i,e){if(i&1&&ue(0,gse,4,1,"div",6),i&2){let t=e.$implicit;Qt(0,t.collapsed?-1:0)}}var vse=["defaultDayTemplate"],yse=["content"];function _se(i,e){if(i&1&&Q(0,"div",8),i&2){let t=e.date,n=e.currentMonth,r=e.selected,o=e.disabled,s=e.focused;N("date",t)("currentMonth",n)("selected",r)("disabled",o)("focused",s)}}function Cse(i,e){if(i&1&&(b(0,"div",12),P(1),D()),i&2){let t=te().$implicit,n=te(2);I(),di(" ",n.i18n.getMonthLabel(t.firstDate)," ")}}function wse(i,e){if(i&1&&(b(0,"div",9),ue(1,Cse,2,1,"div",10),Q(2,"ngb-datepicker-month",11),D()),i&2){let t=e.$implicit,n=te(2);I(),Qt(1,n.navigation==="none"||n.displayMonths>1&&n.navigation==="select"?1:-1),I(),N("month",t.firstDate)}}function Sse(i,e){if(i&1&&Va(0,wse,3,2,"div",13,ka),i&2){let t=te();Ha(t.model.months)}}function bse(i,e){if(i&1){let t=Ft();b(0,"ngb-datepicker-navigation",14),z("navigate",function(r){Ze(t);let o=te();return Xe(o.onNavigateEvent(r))})("select",function(r){Ze(t);let o=te();return Xe(o.onNavigateDateSelect(r))}),D()}if(i&2){let t=te();N("date",t.model.firstDate)("months",t.model.months)("disabled",t.model.disabled)("showSelect",t.model.navigation==="select")("prevDisabled",t.model.prevDisabled)("nextDisabled",t.model.nextDisabled)("selectBoxes",t.model.selectBoxes)}}function Ese(i,e){}function Dse(i,e){}var Tse=i=>({$implicit:i}),Rse=["dialog"];function Ase(i,e){if(i&1){let t=Ft();b(0,"button",8),z("click",function(){Ze(t);let r=te();return Xe(r.changeHour(r.hourStep))}),Q(1,"span",9),b(2,"span",10),Ba(3,11),D()()}if(i&2){let t=te();at("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),N("disabled",t.disabled)}}function Ose(i,e){if(i&1){let t=Ft();b(0,"button",8),z("click",function(){Ze(t);let r=te();return Xe(r.changeHour(-r.hourStep))}),Q(1,"span",12),b(2,"span",10),Ba(3,13),D()()}if(i&2){let t=te();at("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),N("disabled",t.disabled)}}function xse(i,e){if(i&1){let t=Ft();b(0,"button",8),z("click",function(){Ze(t);let r=te();return Xe(r.changeMinute(r.minuteStep))}),Q(1,"span",9),b(2,"span",10),Ba(3,14),D()()}if(i&2){let t=te();at("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),N("disabled",t.disabled)}}function Mse(i,e){if(i&1){let t=Ft();b(0,"button",8),z("click",function(){Ze(t);let r=te();return Xe(r.changeMinute(-r.minuteStep))}),Q(1,"span",12),b(2,"span",10),Ba(3,15),D()()}if(i&2){let t=te();at("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),N("disabled",t.disabled)}}function Ise(i,e){if(i&1){let t=Ft();b(0,"button",8),z("click",function(){Ze(t);let r=te(2);return Xe(r.changeSecond(r.secondStep))}),Q(1,"span",9),b(2,"span",10),Ba(3,18),D()()}if(i&2){let t=te(2);at("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),N("disabled",t.disabled)}}function Pse(i,e){if(i&1){let t=Ft();b(0,"button",8),z("click",function(){Ze(t);let r=te(2);return Xe(r.changeSecond(-r.secondStep))}),Q(1,"span",12),b(2,"span",10),Ba(3,19),D()()}if(i&2){let t=te(2);at("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),N("disabled",t.disabled)}}function Fse(i,e){if(i&1){let t=Ft();b(0,"div",5),P(1,":"),D(),b(2,"div",16),ue(3,Ise,4,7,"button",3),b(4,"input",17),z("change",function(r){Ze(t);let o=te();return Xe(o.updateSecond(r.target.value))})("blur",function(){Ze(t);let r=te();return Xe(r.handleBlur())})("input",function(r){Ze(t);let o=te();return Xe(o.formatInput(r.target))})("keydown.ArrowUp",function(r){Ze(t);let o=te();return o.changeSecond(o.secondStep),Xe(r.preventDefault())})("keydown.ArrowDown",function(r){Ze(t);let o=te();return o.changeSecond(-o.secondStep),Xe(r.preventDefault())}),D(),ue(5,Pse,4,7,"button",3),D()}if(i&2){let t=te();I(3),Qt(3,t.spinners?3:-1),I(),at("form-control-sm",t.isSmallSize)("form-control-lg",t.isLargeSize),N("value",t.formatMinSec(t.model==null?null:t.model.second))("readOnly",t.readonlyInputs)("disabled",t.disabled),I(),Qt(5,t.spinners?5:-1)}}function Nse(i,e){if(i&1&&(Ko(0),Ba(1,22),Qo()),i&2){let t=te(2);I(),pD(t.i18n.getAfternoonPeriod()),Ok(1)}}function Lse(i,e){if(i&1&&(Ko(0),P(1),Qo()),i&2){let t=te(2);I(),At(t.i18n.getMorningPeriod())}}function kse(i,e){if(i&1){let t=Ft();Q(0,"div",5),b(1,"div",20)(2,"button",21),z("click",function(){Ze(t);let r=te();return Xe(r.toggleMeridian())}),ue(3,Nse,2,1,"ng-container")(4,Lse,2,1),D()()}if(i&2){let t=te();I(2),at("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),N("disabled",t.disabled),I(),Qt(3,t.model&&t.model.hour>=12?3:4)}}var C2={animation:!0,transitionTimerDelayMs:5},Vse=(()=>{let e=class e{constructor(){this.animation=C2.animation}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Hse(i){let{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(i),n=parseFloat(e),r=parseFloat(t);return(n+r)*1e3}function ni(i){return parseInt(`${i}`,10)}function tw(i){return typeof i=="string"}function An(i){return!isNaN(ni(i))}function Zt(i){return typeof i=="number"&&isFinite(i)&&Math.floor(i)===i}function UO(i){return i!=null}function Gse(i){return i&&i.then}function ah(i){return An(i)?`0${i}`.slice(-2):""}function Bse(i,e){return!e||typeof i.closest>"u"?null:i.closest(e)}function w2(i){return(i||document.body).getBoundingClientRect()}function jse(i){return e=>new Ce(t=>{let n=s=>i.run(()=>t.next(s)),r=s=>i.run(()=>t.error(s)),o=()=>i.run(()=>t.complete());return e.subscribe({next:n,error:r,complete:o})})}var Use=()=>{},{transitionTimerDelayMs:Wse}=C2,ZC=new Map,Qu=(i,e,t,n)=>{let r=n.context||{},o=ZC.get(e);if(o)switch(n.runningTransition){case"continue":return Nn;case"stop":i.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),ZC.delete(e)}let s=t(e,n.animation,r)||Use;if(!n.animation||window.getComputedStyle(e).transitionProperty==="none")return i.run(()=>s()),he(void 0).pipe(jse(i));let a=new Se,l=new Se,u=a.pipe(Ub(!0));ZC.set(e,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});let c=Hse(e);return i.runOutsideAngular(()=>{let d=tn(e,"transitionend").pipe(Et(u),ft(({target:f})=>f===e)),h=Jl(c+Wse).pipe(Et(u));gv(h,d,l).pipe(Et(u)).subscribe(()=>{ZC.delete(e),i.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};var S2=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Ie({});let i=e;return i})();var b2=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Ie({});let i=e;return i})();var E2=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Ie({});let i=e;return i})(),D2=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Ie({});let i=e;return i})(),Bi=class i{static from(e){return e instanceof i?e:e?new i(e.year,e.month,e.day):null}constructor(e,t,n){this.year=Zt(e)?e:null,this.month=Zt(t)?t:null,this.day=Zt(n)?n:null}equals(e){return e!=null&&this.year===e.year&&this.month===e.month&&this.day===e.day}before(e){return e?this.year===e.year?this.month===e.month?this.day===e.day?!1:this.day<e.day:this.month<e.month:this.year<e.year:!1}after(e){return e?this.year===e.year?this.month===e.month?this.day===e.day?!1:this.day>e.day:this.month>e.month:this.year>e.year:!1}};function g2(i){return new Bi(i.getFullYear(),i.getMonth()+1,i.getDate())}function XC(i){let e=new Date(i.year,i.month-1,i.day,12);return isNaN(e.getTime())||e.setFullYear(i.year),e}function zse(){return new $se}var ow=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:()=>zse(),providedIn:"root"});let i=e;return i})(),$se=(()=>{let e=class e extends ow{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(n,r="d",o=1){let s=XC(n),a=!0,l=s.getMonth();switch(r){case"y":s.setFullYear(s.getFullYear()+o);break;case"m":l+=o,s.setMonth(l),l=l%12,l<0&&(l=l+12);break;case"d":s.setDate(s.getDate()+o),a=!1;break;default:return n}return a&&s.getMonth()!==l&&s.setDate(0),g2(s)}getPrev(n,r="d",o=1){return this.getNext(n,r,-o)}getWeekday(n){let o=XC(n).getDay();return o===0?7:o}getWeekNumber(n,r){r===7&&(r=0);let o=(11-r)%7,s=n[o],a=XC(s);a.setDate(a.getDate()+4-(a.getDay()||7));let l=a.getTime();return a.setMonth(0),a.setDate(1),Math.floor(Math.round((l-a.getTime())/864e5)/7)+1}getToday(){return g2(new Date)}isValid(n){if(!n||!Zt(n.year)||!Zt(n.month)||!Zt(n.day)||n.year===0)return!1;let r=XC(n);return!isNaN(r.getTime())&&r.getFullYear()===n.year&&r.getMonth()+1===n.month&&r.getDate()===n.day}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=hn(e)))(o||e)}})(),e.\u0275prov=G({token:e,factory:e.\u0275fac});let i=e;return i})();function lh(i,e){return!qse(i,e)}function T2(i,e){return!i&&!e?!1:!i||!e?!0:i.year!==e.year||i.month!==e.month}function qse(i,e){return!i&&!e||!!i&&!!e&&i.equals(e)}function Yse(i,e){if(e&&i&&e.before(i))throw new Error(`'maxDate' ${e} should be greater than 'minDate' ${i}`)}function JC(i,e,t){return i&&e&&i.before(e)?e:i&&t&&i.after(t)?t:i||null}function jO(i,e){let{minDate:t,maxDate:n,disabled:r,markDisabled:o}=e;return!(i==null||r||o&&o(i,{year:i.year,month:i.month})||t&&i.before(t)||n&&i.after(n))}function Kse(i,e,t,n){if(!e)return[];let r=i.getMonths(e.year);if(t&&e.year===t.year){let o=r.findIndex(s=>s===t.month);r=r.slice(o)}if(n&&e.year===n.year){let o=r.findIndex(s=>s===n.month);r=r.slice(0,o+1)}return r}function Qse(i,e,t){if(!i)return[];let n=e?Math.max(e.year,i.year-500):i.year-10,o=(t?Math.min(t.year,i.year+500):i.year+10)-n+1,s=Array(o);for(let a=0;a<o;a++)s[a]=n+a;return s}function Zse(i,e,t){let n=Object.assign(i.getNext(e,"m"),{day:1});return t!=null&&n.after(t)}function Xse(i,e,t){let n=Object.assign(i.getPrev(e,"m"),{day:1});return t!=null&&(n.year===t.year&&n.month<t.month||n.year<t.year&&t.month===1)}function Jse(i,e,t,n,r){let{displayMonths:o,months:s}=t,a=s.splice(0,s.length);return Array.from({length:o},(u,c)=>{let d=Object.assign(i.getNext(e,"m",c),{day:1});if(s[c]=null,!r){let h=a.findIndex(f=>f.firstDate.equals(d));h!==-1&&(s[c]=a.splice(h,1)[0])}return d}).forEach((u,c)=>{s[c]===null&&(s[c]=eae(i,u,t,n,a.shift()||{}))}),s}function eae(i,e,t,n,r={}){let{dayTemplateData:o,minDate:s,maxDate:a,firstDayOfWeek:l,markDisabled:u,outsideDays:c,weekdayWidth:d,weekdaysVisible:h}=t,f=i.getToday();r.firstDate=null,r.lastDate=null,r.number=e.month,r.year=e.year,r.weeks=r.weeks||[],r.weekdays=r.weekdays||[],e=tae(i,e,l),h||(r.weekdays.length=0);for(let p=0;p<i.getWeeksPerMonth();p++){let g=r.weeks[p];g||(g=r.weeks[p]={number:0,days:[],collapsed:!0});let m=g.days;for(let v=0;v<i.getDaysPerWeek();v++){p===0&&h&&(r.weekdays[v]=n.getWeekdayLabel(i.getWeekday(e),d));let y=new Bi(e.year,e.month,e.day),C=i.getNext(y),S=n.getDayAriaLabel(y),E=!!(s&&y.before(s)||a&&y.after(a));!E&&u&&(E=u(y,{month:r.number,year:r.year}));let T=y.equals(f),O=o?o(y,{month:r.number,year:r.year}):void 0;r.firstDate===null&&y.month===r.number&&(r.firstDate=y),y.month===r.number&&C.month!==r.number&&(r.lastDate=y);let R=m[v];R||(R=m[v]={}),R.date=y,R.context=Object.assign(R.context||{},{$implicit:y,date:y,data:O,currentMonth:r.number,currentYear:r.year,disabled:E,focused:!1,selected:!1,today:T}),R.tabindex=-1,R.ariaLabel=S,R.hidden=!1,e=C}g.number=i.getWeekNumber(m.map(v=>v.date),l),g.collapsed=c==="collapsed"&&m[0].date.month!==r.number&&m[m.length-1].date.month!==r.number}return r}function tae(i,e,t){let n=i.getDaysPerWeek(),r=new Bi(e.year,e.month,1),o=i.getWeekday(r)%n;return i.getPrev(r,"d",(n+o-t)%n)}var Zu=(()=>{let e=class e{getMonthLabel(n){return`${this.getMonthFullName(n.month,n.year)} ${this.getYearNumerals(n.year)}`}getDayNumerals(n){return`${n.day}`}getWeekNumerals(n){return`${n}`}getYearNumerals(n){return`${n}`}getWeekLabel(){return""}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:()=>new nae,providedIn:"root"});let i=e;return i})(),nae=(()=>{let e=class e extends Zu{constructor(){super(...arguments),this._locale=k(pd),this._monthsShort=Wy(this._locale,pn.Standalone,st.Abbreviated),this._monthsFull=Wy(this._locale,pn.Standalone,st.Wide)}getWeekdayLabel(n,r){let o=AD(this._locale,pn.Standalone,r===void 0?st.Short:r);return o.map((a,l)=>o[(l+1)%7])[n-1]||""}getMonthShortName(n){return this._monthsShort[n-1]||""}getMonthFullName(n){return this._monthsFull[n-1]||""}getDayAriaLabel(n){let r=new Date(n.year,n.month-1,n.day);return Jk(r,"fullDate",this._locale)}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=hn(e)))(o||e)}})(),e.\u0275prov=G({token:e,factory:e.\u0275fac});let i=e;return i})(),WO=(()=>{let e=class e{constructor(){this._VALIDATORS={dayTemplateData:n=>{if(this._state.dayTemplateData!==n)return{dayTemplateData:n}},displayMonths:n=>{if(n=ni(n),Zt(n)&&n>0&&this._state.displayMonths!==n)return{displayMonths:n}},disabled:n=>{if(this._state.disabled!==n)return{disabled:n}},firstDayOfWeek:n=>{if(n=ni(n),Zt(n)&&n>=0&&this._state.firstDayOfWeek!==n)return{firstDayOfWeek:n}},focusVisible:n=>{if(this._state.focusVisible!==n&&!this._state.disabled)return{focusVisible:n}},markDisabled:n=>{if(this._state.markDisabled!==n)return{markDisabled:n}},maxDate:n=>{let r=this.toValidDate(n,null);if(lh(this._state.maxDate,r))return{maxDate:r}},minDate:n=>{let r=this.toValidDate(n,null);if(lh(this._state.minDate,r))return{minDate:r}},navigation:n=>{if(this._state.navigation!==n)return{navigation:n}},outsideDays:n=>{if(this._state.outsideDays!==n)return{outsideDays:n}},weekdays:n=>{let r=n===!0||n===!1?st.Short:n,o=n===!0||n===!1?n:!0;if(this._state.weekdayWidth!==r||this._state.weekdaysVisible!==o)return{weekdayWidth:r,weekdaysVisible:o}}},this._calendar=k(ow),this._i18n=k(Zu),this._model$=new Se,this._dateSelect$=new Se,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:st.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe(ft(n=>n.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(ft(n=>n!==null))}set(n){let r=Object.keys(n).map(o=>this._VALIDATORS[o](n[o])).reduce((o,s)=>K(K({},o),s),{});Object.keys(r).length>0&&this._nextState(r)}focus(n){let r=this.toValidDate(n,null);r!=null&&!this._state.disabled&&lh(this._state.focusDate,r)&&this._nextState({focusDate:n})}focusSelect(){jO(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(n){let r=this.toValidDate(n,this._calendar.getToday());r!=null&&!this._state.disabled&&(!this._state.firstDate||T2(this._state.firstDate,r))&&this._nextState({firstDate:r})}select(n,r={}){let o=this.toValidDate(n,null);o!=null&&!this._state.disabled&&(lh(this._state.selectedDate,o)&&this._nextState({selectedDate:o}),r.emitEvent&&jO(o,this._state)&&this._dateSelect$.next(o))}toValidDate(n,r){let o=Bi.from(n);return r===void 0&&(r=this._calendar.getToday()),this._calendar.isValid(o)?o:r}getMonth(n){for(let r of this._state.months)if(n.month===r.number&&n.year===r.year)return r;throw new Error(`month ${n.month} of year ${n.year} not found`)}_nextState(n){let r=this._updateState(n);this._patchContexts(r),this._state=r,this._model$.next(this._state)}_patchContexts(n){let{months:r,displayMonths:o,selectedDate:s,focusDate:a,focusVisible:l,disabled:u,outsideDays:c}=n;n.months.forEach(d=>{d.weeks.forEach(h=>{h.days.forEach(f=>{a&&(f.context.focused=a.equals(f.date)&&l),f.tabindex=!u&&a&&f.date.equals(a)&&a.month===d.number?0:-1,u===!0&&(f.context.disabled=!0),s!==void 0&&(f.context.selected=s!==null&&s.equals(f.date)),d.number!==f.date.month&&(f.hidden=c==="hidden"||c==="collapsed"||o>1&&f.date.after(r[0].firstDate)&&f.date.before(r[o-1].lastDate))})})})}_updateState(n){let r=Object.assign({},this._state,n),o=r.firstDate;if(("minDate"in n||"maxDate"in n)&&(Yse(r.minDate,r.maxDate),r.focusDate=JC(r.focusDate,r.minDate,r.maxDate),r.firstDate=JC(r.firstDate,r.minDate,r.maxDate),o=r.focusDate),"disabled"in n&&(r.focusVisible=!1),"selectedDate"in n&&this._state.months.length===0&&(o=r.selectedDate),"focusVisible"in n||"focusDate"in n&&(r.focusDate=JC(r.focusDate,r.minDate,r.maxDate),o=r.focusDate,r.months.length!==0&&r.focusDate&&!r.focusDate.before(r.firstDate)&&!r.focusDate.after(r.lastDate)))return r;if("firstDate"in n&&(r.firstDate=JC(r.firstDate,r.minDate,r.maxDate),o=r.firstDate),o){let s="dayTemplateData"in n||"firstDayOfWeek"in n||"markDisabled"in n||"minDate"in n||"maxDate"in n||"disabled"in n||"outsideDays"in n||"weekdaysVisible"in n,a=Jse(this._calendar,o,r,this._i18n,s);r.months=a,r.firstDate=a[0].firstDate,r.lastDate=a[a.length-1].lastDate,"selectedDate"in n&&!jO(r.selectedDate,r)&&(r.selectedDate=null),"firstDate"in n&&(!r.focusDate||r.focusDate.before(r.firstDate)||r.focusDate.after(r.lastDate))&&(r.focusDate=o);let l=!this._state.firstDate||this._state.firstDate.year!==r.firstDate.year,u=!this._state.firstDate||this._state.firstDate.month!==r.firstDate.month;r.navigation==="select"?(("minDate"in n||"maxDate"in n||r.selectBoxes.years.length===0||l)&&(r.selectBoxes.years=Qse(r.firstDate,r.minDate,r.maxDate)),("minDate"in n||"maxDate"in n||r.selectBoxes.months.length===0||l)&&(r.selectBoxes.months=Kse(this._calendar,r.firstDate,r.minDate,r.maxDate))):r.selectBoxes={years:[],months:[]},(r.navigation==="arrows"||r.navigation==="select")&&(u||l||"minDate"in n||"maxDate"in n||"disabled"in n)&&(r.prevDisabled=r.disabled||Xse(this._calendar,r.firstDate,r.minDate),r.nextDisabled=r.disabled||Zse(this._calendar,r.lastDate,r.maxDate))}return r}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac});let i=e;return i})(),nw=function(i){return i[i.PREV=0]="PREV",i[i.NEXT=1]="NEXT",i}(nw||{}),qO=(()=>{let e=class e{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=st.Short}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function iae(){return new rae}var YO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:()=>iae(),providedIn:"root"});let i=e;return i})(),rae=(()=>{let e=class e extends YO{fromModel(n){return n&&Zt(n.year)&&Zt(n.month)&&Zt(n.day)?{year:n.year,month:n.month,day:n.day}:null}toModel(n){return n&&Zt(n.year)&&Zt(n.month)&&Zt(n.day)?{year:n.year,month:n.month,day:n.day}:null}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=hn(e)))(o||e)}})(),e.\u0275prov=G({token:e,factory:e.\u0275fac});let i=e;return i})(),Gi=function(i){return i[i.Tab=9]="Tab",i[i.Enter=13]="Enter",i[i.Escape=27]="Escape",i[i.Space=32]="Space",i[i.PageUp=33]="PageUp",i[i.PageDown=34]="PageDown",i[i.End=35]="End",i[i.Home=36]="Home",i[i.ArrowLeft=37]="ArrowLeft",i[i.ArrowUp=38]="ArrowUp",i[i.ArrowRight=39]="ArrowRight",i[i.ArrowDown=40]="ArrowDown",i}(Gi||{}),oae=(()=>{let e=class e{processKey(n,r){let{state:o,calendar:s}=r;switch(n.which){case Gi.PageUp:r.focusDate(s.getPrev(o.focusedDate,n.shiftKey?"y":"m",1));break;case Gi.PageDown:r.focusDate(s.getNext(o.focusedDate,n.shiftKey?"y":"m",1));break;case Gi.End:r.focusDate(n.shiftKey?o.maxDate:o.lastDate);break;case Gi.Home:r.focusDate(n.shiftKey?o.minDate:o.firstDate);break;case Gi.ArrowLeft:r.focusDate(s.getPrev(o.focusedDate,"d",1));break;case Gi.ArrowUp:r.focusDate(s.getPrev(o.focusedDate,"d",s.getDaysPerWeek()));break;case Gi.ArrowRight:r.focusDate(s.getNext(o.focusedDate,"d",1));break;case Gi.ArrowDown:r.focusDate(s.getNext(o.focusedDate,"d",s.getDaysPerWeek()));break;case Gi.Enter:case Gi.Space:r.focusSelect();break;default:return}n.preventDefault(),n.stopPropagation()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),sae=(()=>{let e=class e{constructor(){this.i18n=k(Zu)}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=re({type:e,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(r,o){r&2&&at("bg-primary",o.selected)("text-white",o.selected)("text-muted",o.isMuted())("outside",o.isMuted())("active",o.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[oe],attrs:Xoe,decls:1,vars:1,template:function(r,o){r&1&&P(0),r&2&&At(o.i18n.getDayNumerals(o.date))},styles:[`[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-tertiary-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}
`],encapsulation:2,changeDetection:0});let i=e;return i})(),aae=(()=>{let e=class e{constructor(){this._month=-1,this._year=-1,this.i18n=k(Zu),this.select=new j}changeMonth(n){this.select.emit(new Bi(this.date.year,ni(n),1))}changeYear(n){this.select.emit(new Bi(ni(n),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this.monthSelect.nativeElement.value=`${this._month}`),this.date.year!==this._year&&(this._year=this.date.year,this.yearSelect.nativeElement.value=`${this._year}`))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=re({type:e,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(r,o){if(r&1&&(Zn(Joe,7,$e),Zn(ese,7,$e)),r&2){let s;lt(s=ut())&&(o.monthSelect=s.first),lt(s=ut())&&(o.yearSelect=s.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[oe],decls:8,vars:2,consts:()=>{let n;n=$localize`:@@ngb.datepicker.select-month:Select month`;let r;r=$localize`:@@ngb.datepicker.select-month:Select month`;let o;o=$localize`:@@ngb.datepicker.select-year:Select year`;let s;return s=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",n,"title",r,1,"form-select",3,"disabled","change"],["month",""],["aria-label",o,"title",s,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(r,o){r&1&&(b(0,"select",0,1),z("change",function(a){return o.changeMonth(a.target.value)}),Va(2,tse,2,3,"option",4,ka),D(),b(4,"select",2,3),z("change",function(a){return o.changeYear(a.target.value)}),Va(6,nse,2,2,"option",4,ka),D()),r&2&&(N("disabled",o.disabled),I(2),Ha(o.months),I(2),N("disabled",o.disabled),I(2),Ha(o.years))},styles:[`ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}
`],encapsulation:2,changeDetection:0});let i=e;return i})(),lae=(()=>{let e=class e{constructor(){this.navigation=nw,this.i18n=k(Zu),this.months=[],this.navigate=new j,this.select=new j}onClickPrev(n){n.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(n){n.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=re({type:e,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[oe],decls:8,vars:4,consts:()=>{let n;n=$localize`:@@ngb.datepicker.previous-month:Previous month`;let r;r=$localize`:@@ngb.datepicker.previous-month:Previous month`;let o;o=$localize`:@@ngb.datepicker.next-month:Next month`;let s;return s=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow","ngb-dp-arrow-prev"],["type","button","aria-label",n,"title",r,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years"],[1,"ngb-dp-arrow","ngb-dp-arrow-next"],["type","button","aria-label",o,"title",s,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["class","ngb-dp-arrow"],[1,"ngb-dp-month-name"],[1,"ngb-dp-arrow"]]},template:function(r,o){r&1&&(b(0,"div",0)(1,"button",1),z("click",function(a){return o.onClickPrev(a)}),Q(2,"span",2),D()(),ue(3,ise,1,4,"ngb-datepicker-navigation-select",3)(4,ase,2,0),b(5,"div",4)(6,"button",5),z("click",function(a){return o.onClickNext(a)}),Q(7,"span",2),D()()),r&2&&(I(),N("disabled",o.prevDisabled),I(2),Qt(3,o.showSelect?3:-1),I(),Qt(4,o.showSelect?-1:4),I(2),N("disabled",o.nextDisabled))},dependencies:[aae],styles:[`ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow-next{justify-content:flex-end}.ngb-dp-arrow-next .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}
`],encapsulation:2,changeDetection:0});let i=e;return i})(),uae=(()=>{let e=class e{constructor(){this.templateRef=k(Si)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ot({type:e,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0});let i=e;return i})(),cae=(()=>{let e=class e{constructor(){this._keyboardService=k(oae),this._service=k(WO),this.i18n=k(Zu),this.datepicker=k(R2)}set month(n){this.viewModel=this._service.getMonth(n)}onKeyDown(n){this._keyboardService.processKey(n,this.datepicker)}doSelect(n){!n.context.disabled&&!n.hidden&&this.datepicker.onDateSelect(n.date)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=re({type:e,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(r,o){r&1&&z("keydown",function(a){return o.onKeyDown(a)})},inputs:{month:"month"},standalone:!0,features:[oe],decls:3,vars:1,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-weekday small","role","columnheader"],["class","ngb-dp-week","role","row"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today"]],template:function(r,o){r&1&&(ue(0,cse,4,1,"div",0),Va(1,mse,1,1,null,null,ka)),r&2&&(Qt(0,o.viewModel.weekdays.length>0?0:-1),I(),Ha(o.viewModel.weeks))},dependencies:[Lf],styles:[`ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-tertiary-bg)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}
`],encapsulation:2});let i=e;return i})(),R2=(()=>{let e=class e{constructor(){this.injector=k(It),this._service=k(WO),this._calendar=k(ow),this._i18n=k(Zu),this._config=k(qO),this._nativeElement=k($e).nativeElement,this._ngbDateAdapter=k(YO),this._ngZone=k(we),this._destroyRef=k(hd),this._controlValue=null,this._publicState={},this.dayTemplate=this._config.dayTemplate,this.dayTemplateData=this._config.dayTemplateData,this.displayMonths=this._config.displayMonths,this.firstDayOfWeek=this._config.firstDayOfWeek,this.footerTemplate=this._config.footerTemplate,this.markDisabled=this._config.markDisabled,this.maxDate=this._config.maxDate,this.minDate=this._config.minDate,this.navigation=this._config.navigation,this.outsideDays=this._config.outsideDays,this.showWeekNumbers=this._config.showWeekNumbers,this.startDate=this._config.startDate,this.weekdays=this._config.weekdays,this.navigate=new j,this.dateSelect=new j,this.onChange=r=>{},this.onTouched=()=>{};let n=k(kn);this._service.dateSelect$.pipe(rg()).subscribe(r=>{this.dateSelect.emit(r)}),this._service.model$.pipe(rg()).subscribe(r=>{let o=r.firstDate,s=this.model?this.model.firstDate:null;this._publicState={maxDate:r.maxDate,minDate:r.minDate,firstDate:r.firstDate,lastDate:r.lastDate,focusedDate:r.focusDate,months:r.months.map(d=>d.firstDate)};let a=!1;if(!o.equals(s)&&(this.navigate.emit({current:s?{year:s.year,month:s.month}:null,next:{year:o.year,month:o.month},preventDefault:()=>a=!0}),a&&s!==null)){this._service.open(s);return}let l=r.selectedDate,u=r.focusDate,c=this.model?this.model.focusDate:null;this.model=r,lh(l,this._controlValue)&&(this._controlValue=l,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(l))),lh(u,c)&&c&&r.focusVisible&&this.focus(),n.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}get i18n(){return this._i18n}focusDate(n){this._service.focus(Bi.from(n))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(Ut(1)).subscribe(()=>this._nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]')?.focus())}navigateTo(n){this._service.open(Bi.from(n?n.day?n:be(K({},n),{day:1}):null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{let n=tn(this._contentEl.nativeElement,"focusin"),r=tn(this._contentEl.nativeElement,"focusout");Qh(n,r).pipe(ft(o=>{let s=o.target,a=o.relatedTarget;return!(s?.classList.contains("ngb-dp-day")&&a?.classList.contains("ngb-dp-day")&&this._nativeElement.contains(s)&&this._nativeElement.contains(a))}),rg(this._destroyRef)).subscribe(({type:o})=>this._ngZone.run(()=>this._service.set({focusVisible:o==="focusin"})))})}ngOnInit(){if(this.model===void 0){let n={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(r=>n[r]=this[r]),this._service.set(n),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(n){let r={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(o=>o in n).forEach(o=>r[o]=this[o]),this._service.set(r),"startDate"in n){let{currentValue:o,previousValue:s}=n.startDate;T2(s,o)&&this.navigateTo(this.startDate)}}onDateSelect(n){this._service.focus(n),this._service.select(n,{emitEvent:!0})}onNavigateDateSelect(n){this._service.open(n)}onNavigateEvent(n){switch(n){case nw.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case nw.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1));break}}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this._service.set({disabled:n})}writeValue(n){this._controlValue=Bi.from(this._ngbDateAdapter.fromModel(n)),this._service.select(this._controlValue)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=re({type:e,selectors:[["ngb-datepicker"]],contentQueries:function(r,o,s){if(r&1&&bn(s,uae,7),r&2){let a;lt(a=ut())&&(o.contentTemplateFromContent=a.first)}},viewQuery:function(r,o){if(r&1&&(Zn(vse,7),Zn(yse,7)),r&2){let s;lt(s=ut())&&(o._defaultDayTemplate=s.first),lt(s=ut())&&(o._contentEl=s.first)}},hostVars:2,hostBindings:function(r,o){r&2&&at("disabled",o.model.disabled)},inputs:{contentTemplate:"contentTemplate",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[vt([{provide:Qs,useExisting:bi(()=>e),multi:!0},WO]),Wt,oe],decls:10,vars:9,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet","ngTemplateOutletContext","ngTemplateOutletInjector"],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],[1,"ngb-dp-month"],["class","ngb-dp-month-name"],[3,"month"],[1,"ngb-dp-month-name"],["class","ngb-dp-month"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(r,o){if(r&1&&(ue(0,_se,1,5,"ng-template",null,0,Pf)(2,Sse,2,0,"ng-template",null,1,Pf),b(4,"div",2),ue(5,bse,1,7,"ngb-datepicker-navigation",3),D(),b(6,"div",4,5),ue(8,Ese,0,0,"ng-template",6),D(),ue(9,Dse,0,0,"ng-template",7)),r&2){let s=Zo(3);I(5),Qt(5,o.navigation!=="none"?5:-1),I(),at("ngb-dp-months",!o.contentTemplate),I(2),N("ngTemplateOutlet",o.contentTemplate||(o.contentTemplateFromContent==null?null:o.contentTemplateFromContent.templateRef)||s)("ngTemplateOutletContext",go(7,Tse,o))("ngTemplateOutletInjector",o.injector),I(),N("ngTemplateOutlet",o.footerTemplate)}},dependencies:[Lf,sae,cae,lae],styles:[`ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-tertiary-bg)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-tertiary-bg)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}
`],encapsulation:2,changeDetection:0});let i=e;return i})(),ew=(i,e)=>e?e.some(t=>t.contains(i)):!1,m2=(i,e)=>!e||Bse(i,e)!=null,dae=(()=>{let i=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(i()||e()):!1})(),hae=i=>dae?()=>setTimeout(()=>i(),100):i;function fae(i,e,t,n,r,o,s,a){t&&i.runOutsideAngular(hae(()=>{let l=h=>{let f=h.target;return h.button===2||ew(f,s)?!1:t==="inside"?ew(f,o)&&m2(f,a):t==="outside"?!ew(f,o):m2(f,a)||!ew(f,o)},u=tn(e,"keydown").pipe(Et(r),ft(h=>h.which===Gi.Escape),Kt(h=>h.preventDefault())),c=tn(e,"mousedown").pipe(De(l),Et(r)),d=tn(e,"mouseup").pipe(ef(c),ft(([h,f])=>f),jb(0),Et(r));gv([u.pipe(De(h=>0)),d.pipe(De(h=>1))]).subscribe(h=>i.run(()=>n(h)))}))}var pae=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function A2(i){let e=Array.from(i.querySelectorAll(pae)).filter(t=>t.tabIndex!==-1);return[e[0],e[e.length-1]]}var O2=(i,e,t,n=!1)=>{i.runOutsideAngular(()=>{let r=tn(e,"focusin").pipe(Et(t),De(o=>o.target));tn(e,"keydown").pipe(Et(t),ft(o=>o.which===Gi.Tab),ef(r)).subscribe(([o,s])=>{let[a,l]=A2(e);(s===a||s===e)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),n&&tn(e,"click").pipe(Et(t),ef(r),De(o=>o[1])).subscribe(o=>o.focus())})},gae=(()=>{let e=class e{constructor(){this._element=k(Te).documentElement}isRTL(){return(this._element.getAttribute("dir")||"").toLowerCase()==="rtl"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),mae=/\s+/,vae=/  +/gi,yae={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]};function _ae(i,e){let[t,n]=yae[i];return e&&n||t}var Cae=/^left/,wae=/^right/,Sae=/^start/,bae=/^end/;function Eae(i,e){let[t,n]=e.split("-"),r=t.replace(Cae,"start").replace(wae,"end"),o=[r];if(n){let s=n;(t==="left"||t==="right")&&(s=s.replace(Sae,"top").replace(bae,"bottom")),o.push(`${r}-${s}`)}return i&&(o=o.map(s=>`${i}-${s}`)),o.join(" ")}function v2({placement:i,baseClass:e},t){let n=Array.isArray(i)?i:i.split(mae),r=["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"],o=n.findIndex(u=>u==="auto");o>=0&&r.forEach(function(u){n.find(c=>c.search("^"+u)!==-1)==null&&n.splice(o++,1,u)});let s=n.map(u=>_ae(u,t.isRTL()));return{placement:s.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!e,phase:"write",fn({state:u}){let c=new RegExp(e+"(-[a-z]+)*","gi"),d=u.elements.popper,h=u.placement,f=d.className;f=f.replace(c,""),f+=` ${Eae(e,h)}`,f=f.trim().replace(vae," "),d.className=f}},MO,FO,TO,{enabled:!0,name:"flip",options:{fallbackPlacements:s}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function y2(i){return i}function Dae(){let i=k(gae),e=null;return{createPopper(t){if(!e){let r=(t.updatePopperOptions||y2)(v2(t,i));e=BO(t.hostElement,t.targetElement,r)}},update(){e&&e.update()},setOptions(t){if(e){let r=(t.updatePopperOptions||y2)(v2(t,i));e.setOptions(r)}},destroy(){e&&(e.destroy(),e=null)}}}function Tae(){return new Rae}var x2=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:()=>Tae(),providedIn:"root"});let i=e;return i})(),Rae=(()=>{let e=class e extends x2{parse(n){if(n!=null){let r=n.trim().split("-");if(r.length===1&&An(r[0]))return{year:ni(r[0]),month:null,day:null};if(r.length===2&&An(r[0])&&An(r[1]))return{year:ni(r[0]),month:ni(r[1]),day:null};if(r.length===3&&An(r[0])&&An(r[1])&&An(r[2]))return{year:ni(r[0]),month:ni(r[1]),day:ni(r[2])}}return null}format(n){return n?`${n.year}-${An(n.month)?ah(n.month):""}-${An(n.day)?ah(n.day):""}`:""}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=hn(e)))(o||e)}})(),e.\u0275prov=G({token:e,factory:e.\u0275fac});let i=e;return i})(),_2=(()=>{let e=class e extends qO{constructor(){super(...arguments),this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=n=>n,this.restoreFocus=!0}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=hn(e)))(o||e)}})(),e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Aae(i){return e=>(e.modifiers.push(IO,{name:"offset",options:{offset:()=>i}}),e)}var M2=(()=>{let e=class e{constructor(){this._parserFormatter=k(x2),this._elRef=k($e),this._vcRef=k(Kn),this._ngZone=k(we),this._calendar=k(ow),this._dateAdapter=k(YO),this._document=k(Te),this._changeDetector=k(kn),this._config=k(_2),this._cRef=null,this._disabled=!1,this._elWithFocus=null,this._model=null,this._positioning=Dae(),this._destroyCloseHandlers$=new Se,this.autoClose=this._config.autoClose,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.container=this._config.container,this.positionTarget=this._config.positionTarget,this.dateSelect=new j,this.navigate=new j,this.closed=new j,this._onChange=n=>{},this._onTouched=()=>{},this._validatorChange=()=>{}}get disabled(){return this._disabled}set disabled(n){this._disabled=n===""||n&&n!=="false",this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}registerOnChange(n){this._onChange=n}registerOnTouched(n){this._onTouched=n}registerOnValidatorChange(n){this._validatorChange=n}setDisabledState(n){this.disabled=n}validate(n){let{value:r}=n;if(r!=null){let o=this._fromDateStruct(this._dateAdapter.fromModel(r));if(!o)return{ngbDate:{invalid:r}};if(this.minDate&&o.before(Bi.from(this.minDate)))return{ngbDate:{minDate:{minDate:this.minDate,actual:r}}};if(this.maxDate&&o.after(Bi.from(this.maxDate)))return{ngbDate:{maxDate:{maxDate:this.maxDate,actual:r}}}}return null}writeValue(n){this._model=this._fromDateStruct(this._dateAdapter.fromModel(n)),this._writeModelValue(this._model)}manualDateChange(n,r=!1){let o=n!==this._inputValue;o&&(this._inputValue=n,this._model=this._fromDateStruct(this._parserFormatter.parse(n))),(o||!r)&&this._onChange(this._model?this._dateAdapter.toModel(this._model):n===""?null:n),r&&this._model&&this._writeModelValue(this._model)}isOpen(){return!!this._cRef}open(){if(!this.isOpen()){this._cRef=this._vcRef.createComponent(R2),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(r=>{this.writeValue(r),this._onChange(r),this._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),this.container==="body"&&this._document.querySelector(this.container)?.appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,O2(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),setTimeout(()=>this._cRef?.instance.focus());let n;if(tw(this.positionTarget)?n=this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?n=this.positionTarget:n=this._elRef.nativeElement,this.positionTarget&&!n)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");this._ngZone.runOutsideAngular(()=>{this._cRef&&n&&(this._positioning.createPopper({hostElement:n,targetElement:this._cRef.location.nativeElement,placement:this.placement,appendToBody:this.container==="body",updatePopperOptions:r=>this.popperOptions(Aae([0,2])(r))}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update()))}),this._setCloseHandlers()}}close(){if(this.isOpen()){this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.closed.emit(),this._changeDetector.markForCheck();let n=this._elWithFocus;tw(this.restoreFocus)?n=this._document.querySelector(this.restoreFocus):this.restoreFocus!==void 0&&(n=this.restoreFocus),n&&n.focus?n.focus():this._document.body.focus()}}toggle(){this.isOpen()?this.close():this.open()}navigateTo(n){this.isOpen()&&this._cRef.instance.navigateTo(n)}onBlur(){this._onTouched()}onFocus(){this._elWithFocus=this._elRef.nativeElement}ngOnChanges(n){if((n.minDate||n.maxDate)&&(this._validatorChange(),this.isOpen()&&(n.minDate&&this._cRef.setInput("minDate",this.minDate),n.maxDate&&this._cRef.setInput("maxDate",this.maxDate))),n.datepickerClass){let{currentValue:r,previousValue:o}=n.datepickerClass;this._applyPopupClass(r,o)}n.autoClose&&this.isOpen()&&this._setCloseHandlers()}ngOnDestroy(){this.close()}_applyDatepickerInputs(n){["contentTemplate","dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekNumbers","weekdays"].forEach(r=>{this[r]!==void 0&&n.setInput(r,this[r])}),n.setInput("startDate",this.startDate||this._model)}_applyPopupClass(n,r){let o=this._cRef?.location.nativeElement;o&&(n&&o.classList.add(n),r&&o.classList.remove(r))}_applyPopupStyling(n){n.classList.add("dropdown-menu","show"),this.container==="body"&&n.classList.add("ngb-dp-body"),this._applyPopupClass(this.datepickerClass)}_subscribeForDatepickerOutputs(n){n.navigate.subscribe(r=>this.navigate.emit(r)),n.dateSelect.subscribe(r=>{this.dateSelect.emit(r),(this.autoClose===!0||this.autoClose==="inside")&&this.close()})}_writeModelValue(n){let r=this._parserFormatter.format(n);this._inputValue=r,this._elRef.nativeElement.value=r,this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(n)),this._onTouched())}_fromDateStruct(n){let r=n?new Bi(n.year,n.month,n.day):null;return this._calendar.isValid(r)?r:null}_setCloseHandlers(){this._destroyCloseHandlers$.next(),fae(this._ngZone,this._document,this.autoClose,()=>this.close(),this._destroyCloseHandlers$,[],[this._elRef.nativeElement,this._cRef.location.nativeElement])}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ot({type:e,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(r,o){r&1&&z("input",function(a){return o.manualDateChange(a.target.value)})("change",function(a){return o.manualDateChange(a.target.value,!0)})("focus",function(){return o.onFocus()})("blur",function(){return o.onBlur()}),r&2&&hD("disabled",o.disabled)},inputs:{autoClose:"autoClose",contentTemplate:"contentTemplate",datepickerClass:"datepickerClass",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",popperOptions:"popperOptions",restoreFocus:"restoreFocus",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget",weekdays:"weekdays",disabled:"disabled"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],standalone:!0,features:[vt([{provide:Qs,useExisting:bi(()=>e),multi:!0},{provide:pp,useExisting:bi(()=>e),multi:!0},{provide:qO,useExisting:_2}]),Wt]});let i=e;return i})();var AGe=new Date(1882,10,12),OGe=new Date(2174,10,25);var xGe=1e3*60*60*24;var KO=1080,Oae=24*KO,xae=12*KO+793,MGe=29*Oae+xae,IGe=11*KO+204;var sw=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Ie({});let i=e;return i})();var I2=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Ie({});let i=e;return i})(),Mae=(()=>{let e=class e{constructor(){this._ngbConfig=k(Vse),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(n){this._animation=n}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),uh=class{constructor(e,t,n){this.nodes=e,this.viewRef=t,this.componentRef=n}};var Iae=(()=>{let e=class e{constructor(){this._document=k(Te)}hide(){let n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,o=r.style,{overflow:s,paddingRight:a}=o;if(n>0){let l=parseFloat(window.getComputedStyle(r).paddingRight);o.paddingRight=`${l+n}px`}return o.overflow="hidden",()=>{n>0&&(o.paddingRight=a),o.overflow=s}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Pae=(()=>{let e=class e{constructor(){this._nativeElement=k($e).nativeElement,this._zone=k(we)}ngOnInit(){this._zone.onStable.asObservable().pipe(Ut(1)).subscribe(()=>{Qu(this._zone,this._nativeElement,(n,r)=>{r&&w2(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Qu(this._zone,this._nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=re({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,o){r&2&&(Pt("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),at("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[oe],decls:0,vars:0,template:function(r,o){},encapsulation:2});let i=e;return i})(),iw=class{update(e){}close(e){}dismiss(e){}},Fae=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Nae=["animation","backdropClass"],zO=class{_applyWindowOptions(e,t){Fae.forEach(n=>{UO(t[n])&&(e[n]=t[n])})}_applyBackdropOptions(e,t){Nae.forEach(n=>{UO(t[n])&&(e[n]=t[n])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Et(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Et(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,t,n,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new Se,this._dismissed=new Se,this._hidden=new Se,e.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(e);else{let t=this._beforeDismiss();Gse(t)?t.then(n=>{n!==!1&&this._dismiss(e)},()=>{}):t!==!1&&this._dismiss(e)}}_removeModalElements(){let e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():he(void 0);e.subscribe(()=>{let{nativeElement:n}=this._windowCmptRef.location;n.parentNode.removeChild(n),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:n}=this._backdropCmptRef.location;n.parentNode.removeChild(n),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Zh(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},$O=function(i){return i[i.BACKDROP_CLICK=0]="BACKDROP_CLICK",i[i.ESC=1]="ESC",i}($O||{}),Lae=(()=>{let e=class e{constructor(){this._document=k(Te),this._elRef=k($e),this._zone=k(we),this._closed$=new Se,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new j,this.shown=new Se,this.hidden=new Se}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":tw(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Ut(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:n}=this._elRef,r={animation:this.animation,runningTransition:"stop"},o=Qu(this._zone,n,()=>n.classList.remove("show"),r),s=Qu(this._zone,this._dialogEl.nativeElement,()=>{},r),a=Zh(o,s);return a.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),a}_show(){let n={animation:this.animation,runningTransition:"continue"},r=Qu(this._zone,this._elRef.nativeElement,(s,a)=>{a&&w2(s),s.classList.add("show")},n),o=Qu(this._zone,this._dialogEl.nativeElement,()=>{},n);Zh(r,o).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{tn(n,"keydown").pipe(Et(this._closed$),ft(o=>o.which===Gi.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss($O.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let r=!1;tn(this._dialogEl.nativeElement,"mousedown").pipe(Et(this._closed$),Kt(()=>r=!1),Sn(()=>tn(n,"mouseup").pipe(Et(this._closed$),Ut(1))),ft(({target:o})=>n===o)).subscribe(()=>{r=!0}),tn(n,"click").pipe(Et(this._closed$)).subscribe(({target:o})=>{n===o&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!r&&this._zone.run(()=>this.dismiss($O.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){let r=n.querySelector("[ngbAutofocus]"),o=A2(n)[0];(r||o||n).focus()}}_restoreFocus(){let n=this._document.body,r=this._elWithFocus,o;r&&r.focus&&n.contains(r)?o=r:o=n,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&Qu(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=re({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(r,o){if(r&1&&Zn(Rse,7),r&2){let s;lt(s=ut())&&(o._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,o){r&2&&(Qn("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy),Pt("modal d-block"+(o.windowClass?" "+o.windowClass:"")),at("fade",o.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[oe],ngContentSelectors:Zoe,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(r,o){r&1&&(Mf(),b(0,"div",0,1)(2,"div",2),If(3),D()()),r&2&&Pt("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+o.fullscreenClass+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2});let i=e;return i})(),kae=(()=>{let e=class e{constructor(){this._applicationRef=k(Pi),this._injector=k(It),this._environmentInjector=k(Ln),this._document=k(Te),this._scrollBar=k(Iae),this._activeWindowCmptHasChanged=new Se,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new j;let n=k(we);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let r=this._windowCmpts[this._windowCmpts.length-1];O2(n,r.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(r.location.nativeElement)}})}_restoreScrollBar(){let n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,r,o){let s=o.container instanceof HTMLElement?o.container:UO(o.container)?this._document.querySelector(o.container):this._document.body;if(!s)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let a=new iw;n=o.injector||n;let l=n.get(Ln,null)||this._environmentInjector,u=this._getContentRef(n,l,r,a,o),c=o.backdrop!==!1?this._attachBackdrop(s):void 0,d=this._attachWindowComponent(s,u.nodes),h=new zO(d,u,c,o.beforeDismiss);return this._registerModalRef(h),this._registerWindowCmpt(d),h.hidden.pipe(Ut(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=f=>{h.close(f)},a.dismiss=f=>{h.dismiss(f)},a.update=f=>{h.update(f)},h.update(o),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),c&&c.instance&&c.changeDetectorRef.detectChanges(),d.changeDetectorRef.detectChanges(),h}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(r=>r.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let r=Iy(Pae,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),n.appendChild(r.location.nativeElement),r}_attachWindowComponent(n,r){let o=Iy(Lae,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(o.hostView),n.appendChild(o.location.nativeElement),o}_getContentRef(n,r,o,s,a){return o?o instanceof Si?this._createFromTemplateRef(o,s):tw(o)?this._createFromString(o):this._createFromComponent(n,r,o,s,a):new uh([])}_createFromTemplateRef(n,r){let o={$implicit:r,close(a){r.close(a)},dismiss(a){r.dismiss(a)}},s=n.createEmbeddedView(o);return this._applicationRef.attachView(s),new uh([s.rootNodes],s)}_createFromString(n){let r=this._document.createTextNode(`${n}`);return new uh([[r]])}_createFromComponent(n,r,o,s,a){let l=It.create({providers:[{provide:iw,useValue:s}],parent:n}),u=Iy(o,{environmentInjector:r,elementInjector:l}),c=u.location.nativeElement;return a.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new uh([[c]],u.hostView,u)}_setAriaHidden(n){let r=n.parentElement;r&&n!==this._document.body&&(Array.from(r.children).forEach(o=>{o!==n&&o.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,r)=>{n?r.setAttribute("aria-hidden",n):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){let r=()=>{let o=this._modalRefs.indexOf(n);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(r,r)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{let r=this._windowCmpts.indexOf(n);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Vae=(()=>{let e=class e{constructor(){this._injector=k(It),this._modalStack=k(kae),this._config=k(Mae)}open(n,r={}){let o=K(be(K({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._injector,n,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),P2=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Ie({providers:[Vae]});let i=e;return i})();var F2=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Ie({});let i=e;return i})();var N2=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Ie({});let i=e;return i})();var L2=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Ie({});let i=e;return i})();var k2=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Ie({});let i=e;return i})();var V2=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Ie({});let i=e;return i})();var H2=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Ie({});let i=e;return i})(),rw=class{constructor(e,t,n){this.hour=ni(e),this.minute=ni(t),this.second=ni(n)}changeHour(e=1){this.updateHour((isNaN(this.hour)?0:this.hour)+e)}updateHour(e){An(e)?this.hour=(e<0?24+e:e)%24:this.hour=NaN}changeMinute(e=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+e)}updateMinute(e){An(e)?(this.minute=e%60<0?60+e%60:e%60,this.changeHour(Math.floor(e/60))):this.minute=NaN}changeSecond(e=1){this.updateSecond((isNaN(this.second)?0:this.second)+e)}updateSecond(e){An(e)?(this.second=e<0?60+e%60:e%60,this.changeMinute(Math.floor(e/60))):this.second=NaN}isValid(e=!0){return An(this.hour)&&An(this.minute)&&(e?An(this.second):!0)}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}},Hae=(()=>{let e=class e{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Gae(){return new Bae}var G2=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:()=>Gae(),providedIn:"root"});let i=e;return i})(),Bae=(()=>{let e=class e extends G2{fromModel(n){return n&&Zt(n.hour)&&Zt(n.minute)?{hour:n.hour,minute:n.minute,second:Zt(n.second)?n.second:null}:null}toModel(n){return n&&Zt(n.hour)&&Zt(n.minute)?{hour:n.hour,minute:n.minute,second:Zt(n.second)?n.second:null}:null}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=hn(e)))(o||e)}})(),e.\u0275prov=G({token:e,factory:e.\u0275fac});let i=e;return i})(),B2=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:()=>new jae,providedIn:"root"});let i=e;return i})(),jae=(()=>{let e=class e extends B2{constructor(){super(...arguments),this._periods=RD(k(pd),pn.Standalone,st.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=hn(e)))(o||e)}})(),e.\u0275prov=G({token:e,factory:e.\u0275fac});let i=e;return i})(),Uae=/[^0-9]/g,j2=(()=>{let e=class e{set hourStep(n){this._hourStep=Zt(n)?n:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(n){this._minuteStep=Zt(n)?n:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(n){this._secondStep=Zt(n)?n:this._config.secondStep}get secondStep(){return this._secondStep}constructor(n,r,o,s){this._config=n,this._ngbTimeAdapter=r,this._cd=o,this.i18n=s,this.onChange=a=>{},this.onTouched=()=>{},this.meridian=n.meridian,this.spinners=n.spinners,this.seconds=n.seconds,this.hourStep=n.hourStep,this.minuteStep=n.minuteStep,this.secondStep=n.secondStep,this.disabled=n.disabled,this.readonlyInputs=n.readonlyInputs,this.size=n.size}writeValue(n){let r=this._ngbTimeAdapter.fromModel(n);this.model=r?new rw(r.hour,r.minute,r.second):new rw,!this.seconds&&(!r||!An(r.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.disabled=n}changeHour(n){this.model?.changeHour(n),this.propagateModelChange()}changeMinute(n){this.model?.changeMinute(n),this.propagateModelChange()}changeSecond(n){this.model?.changeSecond(n),this.propagateModelChange()}updateHour(n){let r=this.model?this.model.hour>=12:!1,o=ni(n);this.meridian&&(r&&o<12||!r&&o===12)?this.model?.updateHour(o+12):this.model?.updateHour(o),this.propagateModelChange()}updateMinute(n){this.model?.updateMinute(ni(n)),this.propagateModelChange()}updateSecond(n){this.model?.updateSecond(ni(n)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(n){n.value=n.value.replace(Uae,"")}formatHour(n){return An(n)?this.meridian?ah(n%12===0?12:n%12):ah(n%24):ah(NaN)}formatMinSec(n){return ah(An(n)?n:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return this.size==="small"}get isLargeSize(){return this.size==="large"}ngOnChanges(n){n.seconds&&!this.seconds&&this.model&&!An(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(n=!0){n&&this.onTouched(),this.model?.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}};e.\u0275fac=function(r){return new(r||e)(x(Hae),x(G2),x(kn),x(B2))},e.\u0275cmp=re({type:e,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},exportAs:["ngbTimepicker"],standalone:!0,features:[vt([{provide:Qs,useExisting:bi(()=>e),multi:!0}]),Wt,oe],decls:14,vars:23,consts:()=>{let n;n=$localize`:@@ngb.timepicker.HH:HH`;let r;r=$localize`:@@ngb.timepicker.hours:Hours`;let o;o=$localize`:@@ngb.timepicker.MM:MM`;let s;s=$localize`:@@ngb.timepicker.minutes:Minutes`;let a;a=$localize`:@@ngb.timepicker.increment-hours:Increment hours`;let l;l=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`;let u;u=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`;let c;c=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`;let d;d=$localize`:@@ngb.timepicker.SS:SS`;let h;h=$localize`:@@ngb.timepicker.seconds:Seconds`;let f;f=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`;let p;p=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`;let g;return g=$localize`:@@ngb.timepicker.PM:${"\uFFFD0\uFFFD"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled"],["type","text","maxlength","2","inputmode","numeric","placeholder",n,"aria-label",r,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",o,"aria-label",s,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],a,[1,"chevron","ngb-tp-chevron","bottom"],l,u,c,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",d,"aria-label",h,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],f,p,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],g]},template:function(r,o){r&1&&(b(0,"fieldset",0)(1,"div",1)(2,"div",2),ue(3,Ase,4,7,"button",3),b(4,"input",4),z("change",function(a){return o.updateHour(a.target.value)})("blur",function(){return o.handleBlur()})("input",function(a){return o.formatInput(a.target)})("keydown.ArrowUp",function(a){return o.changeHour(o.hourStep),a.preventDefault()})("keydown.ArrowDown",function(a){return o.changeHour(-o.hourStep),a.preventDefault()}),D(),ue(5,Ose,4,7,"button",3),D(),b(6,"div",5),P(7,":"),D(),b(8,"div",6),ue(9,xse,4,7,"button",3),b(10,"input",7),z("change",function(a){return o.updateMinute(a.target.value)})("blur",function(){return o.handleBlur()})("input",function(a){return o.formatInput(a.target)})("keydown.ArrowUp",function(a){return o.changeMinute(o.minuteStep),a.preventDefault()})("keydown.ArrowDown",function(a){return o.changeMinute(-o.minuteStep),a.preventDefault()}),D(),ue(11,Mse,4,7,"button",3),D(),ue(12,Fse,6,9)(13,kse,5,8),D()()),r&2&&(at("disabled",o.disabled),N("disabled",o.disabled),I(3),Qt(3,o.spinners?3:-1),I(),at("form-control-sm",o.isSmallSize)("form-control-lg",o.isLargeSize),N("value",o.formatHour(o.model==null?null:o.model.hour))("readOnly",o.readonlyInputs)("disabled",o.disabled),I(),Qt(5,o.spinners?5:-1),I(4),Qt(9,o.spinners?9:-1),I(),at("form-control-sm",o.isSmallSize)("form-control-lg",o.isLargeSize),N("value",o.formatMinSec(o.model==null?null:o.model.minute))("readOnly",o.readonlyInputs)("disabled",o.disabled),I(),Qt(11,o.spinners?11:-1),I(),Qt(12,o.seconds?12:-1),I(),Qt(13,o.meridian?13:-1))},styles:[`ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}
`],encapsulation:2});let i=e;return i})(),aw=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Ie({});let i=e;return i})();var U2=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Ie({});let i=e;return i})();var W2=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Ie({});let i=e;return i})();var PGe=new le("live announcer delay",{providedIn:"root",factory:()=>100});var z2=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Ie({});let i=e;return i})();var $2=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Ie({});let i=e;return i})(),Wae=[S2,b2,E2,D2,sw,I2,P2,F2,$2,N2,L2,k2,V2,H2,aw,U2,W2,z2],q2=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Ie({imports:[Wae,S2,b2,E2,D2,sw,I2,P2,F2,$2,N2,L2,k2,V2,H2,aw,U2,W2,z2]});let i=e;return i})();var Y2=(i,e)=>({"btn-success":i,"btn-danger":e}),lw=(()=>{let e=class e{constructor(n){this.modalRefConfirmationModal=n}onYesButtonClick(){this.confirmationInfo.realise=!0,this.modalRefConfirmationModal.close(this.confirmationInfo)}onNoButtonClick(){this.confirmationInfo.realise=!1,this.modalRefConfirmationModal.close(this.confirmationInfo)}};e.\u0275fac=function(r){return new(r||e)(x(Hi))},e.\u0275cmp=re({type:e,selectors:[["app-confirmation-modal"]],standalone:!0,features:[oe],decls:11,vars:10,consts:[[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn",3,"ngClass","click"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"h5",1),P(2),D(),b(3,"button",2),z("click",function(){return o.modalRefConfirmationModal.close()}),D()(),b(4,"div",3),P(5),D(),b(6,"div",4)(7,"button",5),z("click",function(){return o.onNoButtonClick()}),P(8,"No"),D(),b(9,"button",5),z("click",function(){return o.onYesButtonClick()}),P(10,"Yes"),D()()),r&2&&(I(2),At(o.confirmationInfo.title),I(3),At(o.confirmationInfo.question),I(2),N("ngClass",Ay(4,Y2,o.confirmationInfo.action==="Cancel",o.confirmationInfo.action==="Approve")),I(2),N("ngClass",Ay(7,Y2,o.confirmationInfo.action==="Approve",o.confirmationInfo.action==="Cancel")))},dependencies:[ye,Ua]});let i=e;return i})();function $ae(i,e){i&1&&(b(0,"h5",30),P(1,"Book an Appointment"),D())}function qae(i,e){i&1&&(b(0,"h5",30),P(1,"Edit Appointment"),D())}function Yae(i,e){if(i&1){let t=Ft();b(0,"button",31),z("click",function(){Ze(t);let r=te();return Xe(r.openCancel())}),P(1," Cancel the Appointment "),D()}}function Kae(i,e){if(i&1){let t=Ft();b(0,"button",32),z("click",function(){Ze(t);let r=te();return Xe(r.openApprove())}),P(1," Approve the Appointment "),D()}}var K2=(()=>{let e=class e{constructor(n,r,o){this.modalRef=n,this.toastr=r,this.modalService=o,this.isEdit=!1,this.appointments=[],this.startDateModel={year:0,month:0,day:0},this.endDateModel={year:0,month:0,day:0},this.startTime={},this.endTime={},this.modalRefConfirmation=null,this.approveMessage="Are you sure you want to approve the appointment?"}ngOnInit(){this.formatDateStruct(new Date(this.appointmentInfo.start),this.startDateModel),this.formatDateStruct(new Date(this.appointmentInfo.end),this.endDateModel),this.formatTime(new Date(this.appointmentInfo.start),this.startTime),this.formatTime(new Date(this.appointmentInfo.end),this.endTime)}formatDateStruct(n,r){r.day=n.getDate(),r.month=n.getMonth()+1,r.year=n.getFullYear()}formatTime(n,r){r.hour=n.getHours(),r.minute=n.getMinutes()}formatDate(n,r){let o=new Date;return o.setDate(n.day),o.setMonth(n.month-1),o.setFullYear(n.year),o.setHours(r.hour),o.setMinutes(r.minute),o.setSeconds(0),o.setMilliseconds(0),o}validateDateModels(n,r){return n==null||n.day==null||n.year==null||r==null||r.hour==null||r.minute==null?(this.toastr.warning("Dates are mandatory fields!"),!1):r.hour<8||r.hour>=17&&r.minute>0?(this.toastr.error("It is possible to book an appointment only during working hours (from 8 am to 5 pm)!"),!1):!0}formatDateWithoutTime(n){let r=new Date;return r.setDate(n.day),r.setMonth(n.month-1),r.setFullYear(n.year),r}saveClicked(){xe.getLoginToken().roleType==Vn.Doctor?this.save():xe.getLoginToken().roleType==Vn.Cardiolog&&!this.appointmentInfo.id?this.openApprove("Would you like to approve the newly created appointment?"):xe.getLoginToken().roleType==Vn.Cardiolog&&this.appointmentInfo.id&&this.save()}save(){this.validateFields()&&(this.appointmentInfo.start=this.formatDate(this.startDateModel,this.startTime),this.appointmentInfo.end=this.formatDate(this.endDateModel,this.endTime),this.validateDates()&&this.validateAppointments()&&(this.appointmentInfo.start.setHours(this.appointmentInfo.start.getHours()+1),this.appointmentInfo.end.setHours(this.appointmentInfo.end.getHours()+1),this.modalRef.close(this.appointmentInfo)))}validateDates(){return this.formatDate(this.startDateModel,this.startTime).getTime()>this.formatDate(this.endDateModel,this.endTime).getTime()?(this.toastr.error("The start time of the appointment must be greater than the end time!"),!1):this.formatDate(this.startDateModel,this.startTime).getTime()==this.formatDate(this.endDateModel,this.endTime).getTime()?(this.toastr.error("The start and end times of the appointment cannot be the same!"),!1):this.formatDateWithoutTime(this.startDateModel).getTime()!=this.formatDateWithoutTime(this.endDateModel).getTime()?(this.toastr.error("Appointment should be completed in one day and should not extend to the following days!"),!1):!0}validateAppointments(){return this.appointments.find(r=>(this.appointmentInfo.start.getTime()>=new Date(r.start).getTime()&&this.appointmentInfo.start.getTime()<new Date(r.end).getTime()||this.appointmentInfo.end.getTime()>new Date(r.start).getTime()&&this.appointmentInfo.end.getTime()<=new Date(r.end).getTime()||new Date(r.start).getTime()>=this.appointmentInfo.start.getTime()&&new Date(r.start).getTime()<this.appointmentInfo.end.getTime()||new Date(r.end).getTime()>this.appointmentInfo.start.getTime()&&new Date(r.end).getTime()<=this.appointmentInfo.end.getTime())&&r.cardiologistId===this.appointmentInfo.cardiologistId&&r.id!=this.appointmentInfo.id)?(this.toastr.error("The selected appointment slot is already taken or overlaps with an existing one!"),!1):!0}isVisibleApprove(){return this.isVisible()&&!this.appointmentInfo.approved&&this.appointmentInfo.id}isVisibleCancel(){return this.isVisible()&&this.appointmentInfo.id}isVisible(){return xe.getLoginToken().roleType==Vn.Cardiolog}openApprove(n=this.approveMessage){let r={title:"Approve the Appointment",question:n,action:"Approve",realise:!1};this.openConfirmationModal(r)}openCancel(){let n={title:"Cancel the Appointment",question:"Are you sure you want to cancel the appointment?",action:"Cancel",realise:!1};this.openConfirmationModal(n)}approve(){this.appointmentInfo.approved=!0,this.save()}cancel(){this.appointmentInfo.delete=!0,this.modalRef.close(this.appointmentInfo)}openConfirmationModal(n){this.modalRefConfirmation=this.modalService.open(lw,{modalClass:"modal-sm",data:{confirmationInfo:n}}),this.modalRefConfirmation.onClose.subscribe(r=>{r&&r.realise&&r.action==="Approve"?this.approve():r&&!r.realise&&r.action==="Approve"?this.save():r&&r.realise&&r.action==="Cancel"&&this.cancel()})}validateFields(){return this.appointmentInfo.title==null||this.appointmentInfo.title==null||this.appointmentInfo.title.trim().length===0?(this.toastr.warning("Title is a mandatory field!"),!1):!(!this.validateDateModels(this.startDateModel,this.startTime)||!this.validateDateModels(this.endDateModel,this.endTime))}};e.\u0275fac=function(r){return new(r||e)(x(Hi),x(zt),x(Ot))},e.\u0275cmp=re({type:e,selectors:[["app-new-appointment"]],standalone:!0,features:[vt([Ot]),oe],decls:45,vars:13,consts:[[1,"modal-header"],["class","modal-title","id","exampleModalLabel",4,"ngIf"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"form-material","form-horizontal"],[1,"row"],[1,"col-md-6"],[1,"form-group","d-flex"],[1,"far","fa-edit","m-r-10","align-self-center"],["type","text","id","title","name","title","placeholder","Add title","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"align-self-center","m-r-10"],["type","text","id","patientName","name","patientName","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","d-flex",2,"margin-bottom","10px"],[1,"far","fa-clock","m-r-10","align-self-center"],["name","startDateModel","placeholder","Start date","ngbDatepicker","",1,"form-control","align-self-center",3,"ngModel","ngModelChange"],["dpstart","ngbDatepicker"],["type","button",1,"btn","btn-outline-secondary","align-self-center",3,"click"],[1,"far","fa-calendar"],["name","startTime",3,"ngModel","meridian","ngModelChange"],["name","endDateModel","placeholder","End date","ngbDatepicker","",1,"form-control","align-self-center",2,"margin-left","10px",3,"ngModel","ngModelChange"],["dpend","ngbDatepicker"],["name","endTime",3,"ngModel","meridian","ngModelChange"],[1,"form-group",2,"margin-bottom","10px"],[1,"col-md-12"],["name","description","rows","3",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],["id","exampleModalLabel",1,"modal-title"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-success",3,"click"]],template:function(r,o){if(r&1){let s=Ft();b(0,"div",0),ue(1,$ae,2,0,"h5",1)(2,qae,2,0,"h5",1),b(3,"button",2),z("click",function(){return o.modalRef.close()}),D()(),b(4,"div",3)(5,"form",4)(6,"div",5)(7,"div",6)(8,"div",7),Q(9,"i",8),b(10,"input",9),z("ngModelChange",function(l){return o.appointmentInfo.title=l}),D()()(),b(11,"div",6)(12,"div",7)(13,"label",10),P(14,"Patient:"),D(),b(15,"input",11),z("ngModelChange",function(l){return o.appointmentInfo.patientName=l}),D()()()(),b(16,"div",5)(17,"div",12),Q(18,"i",13),b(19,"input",14,15),z("ngModelChange",function(l){return o.startDateModel=l}),D(),b(21,"button",16),z("click",function(){Ze(s);let l=Zo(20);return Xe(l.toggle())}),Q(22,"i",17),D(),b(23,"ngb-timepicker",18),z("ngModelChange",function(l){return o.startTime=l}),D()()(),b(24,"div",5)(25,"div",12),Q(26,"i",13),b(27,"input",19,20),z("ngModelChange",function(l){return o.endDateModel=l}),D(),b(29,"button",16),z("click",function(){Ze(s);let l=Zo(28);return Xe(l.toggle())}),Q(30,"i",17),D(),b(31,"ngb-timepicker",21),z("ngModelChange",function(l){return o.endTime=l}),D()()(),b(32,"div",5)(33,"div",22)(34,"label",23),P(35,"Description"),D(),b(36,"div",23)(37,"textarea",24),z("ngModelChange",function(l){return o.appointmentInfo.description=l}),D()()()()()(),b(38,"div",25)(39,"button",26),z("click",function(){return o.modalRef.close()}),P(40," Close "),D(),ue(41,Yae,2,0,"button",27)(42,Kae,2,0,"button",28),b(43,"button",29),z("click",function(){return o.saveClicked()}),P(44,"Save"),D()()}r&2&&(I(),N("ngIf",!o.isEdit),I(),N("ngIf",o.isEdit),I(8),N("ngModel",o.appointmentInfo.title),I(5),N("ngModel",o.appointmentInfo.patientName),I(4),N("ngModel",o.startDateModel),I(4),N("ngModel",o.startTime)("meridian",!0),I(4),N("ngModel",o.endDateModel),I(4),N("ngModel",o.endTime)("meridian",!0),I(6),N("ngModel",o.appointmentInfo.description),I(4),N("ngIf",o.isVisibleCancel()),I(),N("ngIf",o.isVisibleApprove()))},dependencies:[ye,Ri,Za,is,rs,Qa,_o,yo,Zs,q2,M2,j2,sw,aw]});let i=e;return i})();var Q2=(()=>{let e=class e{constructor(){this.api={appointments:"/appointments",appointment:"/appointment"}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Kr=(()=>{let e=class e{constructor(){this.api={patients:"/patients"}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var gl=class{constructor(){this.trestBps=0,this.chol=1,this.fbs=3,this.thalach=75,this.exang=0,this.oldPeak=1,this.slope=1,this.ca=0,this.thal=0}};var ji=(()=>{let e=class e{constructor(){this.predictionRequest=new gl,this.cpOptions=[{value:1,label:"typical angina"},{value:2,label:"atypical angina"},{value:3,label:"non-anginal pain"},{value:4,label:"asymptomatic"}],this.restEcgOptions=[{value:0,label:"normal"},{value:1,label:"having ST-T wave abnormality"},{value:2,label:"showing probable or definite left ventricular hypertrophy by Estes' criteria"}],this.thal=[{value:0,label:"No"},{value:1,label:"Yes"}],this.fbs=[{value:0,label:"No"},{value:1,label:"Yes"}],this.thalachOptions=[{value:3,label:"normal (60 - 100 beats per minute)"},{value:6,label:"Increased (Tachycardia) (> 100 beats per minute) "},{value:7,label:"Decreased (Bradycardia) (< 60 beats per minute)"}],this.api={predict:"/predict",openAiPredict:"/open-ai-predict",predictionResult:"/prediction-result",predictionsPerMonth:"/predictions/house-doctor",predictionResultPercentages:"/prediction-result/percentage",urgentPatients:"/prediction-result/patients"}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Zae(i,e){if(i&1&&(b(0,"i"),P(1),D()),i&2){let t=te().$implicit;I(),At(t.event.title)}}function Xae(i,e){if(i&1&&(b(0,"b"),P(1),D(),ue(2,Zae,2,1,"i",3)),i&2){let t=e.$implicit;I(),At(t.timeText),I(),N("ngIf",t.event&&t.event.title!==void 0)}}function Jae(i,e){if(i&1&&(b(0,"full-calendar",1),ue(1,Xae,3,2,"ng-template",null,2,Pf),D()),i&2){let t=te();N("options",t.calendarOptions())}}var dg=(()=>{let e=class e{constructor(n,r,o,s,a,l,u){this.changeDetector=n,this.calendarService=r,this.httpClient=o,this.toastr=s,this.patientService=a,this.aiPredictionService=l,this.modalService=u,this.appointments=[],this.calendarVisible=!1,this.calendarOptions=this.initCalendar(),this.currentEvents=yy([]),this.roleType=xe.getLoginToken().roleType,this.modalRef=null,this.currentEventsArray=[]}ngOnChanges(n){this.getAppointments(),this.calendarVisible=!0}getAppointments(){this.cardiologistId&&this.httpClient.get(pe.serverAddress+this.calendarService.api.appointments+`\\${this.cardiologistId}`).subscribe(n=>{this.appointments=n,this.calendarOptions=this.initCalendar()})}getAppointmentById(n){this.cardiologistId&&this.httpClient.get(pe.serverAddress+this.calendarService.api.appointment+`\\${n}`).subscribe(r=>{r.approved&&this.roleType==Vn.Doctor?this.toastr.warning("You cannot edit an appointment that has been approved by the cardiologist!"):(this.appointment=r,this.getPatient(this.appointment.patientId,n))})}getPatient(n,r){this.httpClient.get(pe.serverAddress+this.patientService.api.patients+"/"+n).subscribe(o=>{this.editPatient=o;let s={id:r,title:`${this.editPatient?.firstName} ${this.editPatient?.lastName}`,patientName:`${this.editPatient?.firstName} ${this.editPatient?.lastName}`,patientId:this.editPatient?.id,start:this.appointment.start,end:this.appointment.end,allDay:this.appointment.allDay,cardiologistId:this.cardiologistId,description:this.appointment.description,approve:!1,delete:!1,approved:this.appointment.approved};this.openModal(s,!0)})}handleDateSelect(n){let r={title:`${this.patient?.firstName} ${this.patient?.lastName}`,patientName:`${this.patient?.firstName} ${this.patient?.lastName}`,patientId:this.patient?.id,start:n.startStr,end:n.endStr,allDay:n.allDay,cardiologistId:this.cardiologistId,approve:!1,delete:!1,approved:!1};this.openModal(r)}openModal(n,r=!1){this.modalRef=this.modalService.open(K2,{data:{appointmentInfo:n,appointments:this.appointments,isEdit:r}}),this.modalRef.onClose.subscribe(o=>{o&&(o.delete&&r?this.deleteAppointment(o.id):(r||this.createOrUpdateAppointment(o),r&&this.createOrUpdateAppointment(o,!0)))})}createOrUpdateAppointment(n,r=!1){if(!n)return;let o={id:n.id,title:n.title,start:new Date(n.start),end:new Date(n.end),allDay:n.allDay,cardiologistId:n.cardiologistId,patientId:n.patientId,description:n.description,approved:n.approved},s=r?this.calendarService.api.appointment:this.calendarService.api.appointments;this.httpClient.put(pe.serverAddress+s,o).subscribe(a=>{r?this.toastr.success("Successfully updated the appointment!"):this.toastr.success("Successfully booked an appointment!"),this.getAppointments()})}deleteAppointment(n){this.cardiologistId&&this.httpClient.delete(pe.serverAddress+this.calendarService.api.appointments+"/"+n).subscribe(r=>{this.toastr.success("Successfully deleted an appointment!"),this.getAppointments()})}handleEventClick(n){this.getAppointmentById(n.event.id)}handleEvents(n){this.currentEvents.set(n),this.changeDetector.detectChanges()}initCalendar(){return yy({plugins:[_j,Dj,Ij,Fj],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},initialView:"timeGridWeek",events:this.appointments,editable:!1,selectable:!0,selectMirror:!0,dayMaxEvents:!0,slotMinTime:"08:00:00",slotMaxTime:"17:00:00",select:this.handleDateSelect.bind(this),eventClick:this.handleEventClick.bind(this),eventsSet:this.handleEvents.bind(this),height:"auto"})}findAppointmentById(n){return this.appointments.find(r=>r.id===n)}};e.\u0275fac=function(r){return new(r||e)(x(kn),x(Q2),x(je),x(zt),x(Kr),x(ji),x(Ot))},e.\u0275cmp=re({type:e,selectors:[["app-calendar"]],inputs:{cardiologistId:"cardiologistId",patient:"patient"},standalone:!0,features:[vt([Ot]),Wt,oe],decls:1,vars:1,consts:[[3,"options",4,"ngIf"],[3,"options"],["eventContent",""],[4,"ngIf"]],template:function(r,o){r&1&&ue(0,Jae,3,1,"full-calendar",0),r&2&&N("ngIf",o.calendarVisible)},dependencies:[ye,Ri,pj,fj],styles:[".fc-event-main[_ngcontent-%COMP%]{overflow:hidden!important;text-overflow:ellipsis!important;white-space:nowrap!important;height:21px!important}"]});let i=e;return i})();var dh=(()=>{let e=class e{constructor(){this.api={cardiologists:"/cardiologists",approvedAppointments:"/appointments/house-doctor/APPROVED",pendingAppointments:"/appointments/house-doctor/PENDING",approvedAppointmentsByCardiologistId:"/approved-appointments/cardiologist"}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function ele(i,e){if(i&1&&(b(0,"option",19),P(1),D()),i&2){let t=e.$implicit;N("value",t.id),I(),di("",t.firstName+" "+t.lastName," ")}}var Z2=(()=>{let e=class e{constructor(n,r,o,s,a){this.httpClient=n,this.appointmentService=r,this.patientService=o,this.router=s,this.route=a,this.cardiologists=[]}ngOnInit(){this.handleQueryParams(),this.getCardiologists()}handleQueryParams(){this.route.queryParams.subscribe(n=>{n.patientId&&this.getPatient(n.patientId)})}getPatient(n){this.httpClient.get(pe.serverAddress+this.patientService.api.patients+"/"+n).subscribe(r=>{this.patient=r})}getCardiologists(){this.httpClient.get(pe.serverAddress+this.appointmentService.api.cardiologists).subscribe(n=>{this.cardiologists=n,this.cardiologists.length>0&&(this.selected=this.cardiologists[0].id)})}goBack(){this.router.navigate(["./patients"])}};e.\u0275fac=function(r){return new(r||e)(x(je),x(dh),x(Kr),x(Dt),x(Ni))},e.\u0275cmp=re({type:e,selectors:[["app-appointment"]],viewQuery:function(r,o){if(r&1&&Zn(dg,7),r&2){let s;lt(s=ut())&&(o.calendarComponent=s.first)}},standalone:!0,features:[oe],decls:26,vars:5,consts:[[1,"container-fluid"],[1,"row","page-titles"],[1,"col-12","col-sm-3","col-md-5","align-self-center"],[1,"d-flex","display-flex","align-items-center"],["type","button",1,"btn","btn-info","d-lg-block","m-r-15","text-white",3,"click"],[1,"fas","fa-angle-left"],[1,"text-themecolor"],[1,"col-12","col-sm-9","col-md-7","align-self-center","text-end"],[1,"d-flex","display-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],[1,"breadcrumb-item","active"],[1,"form-group","form-element"],[1,"explanation-text"],["for","cp"],["id","cardiologist","name","cardiologist","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"calendar-element"],[3,"cardiologistId","patient"],[3,"value"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),z("click",function(){return o.goBack()}),Q(5,"i",5),D(),b(6,"h4",6),P(7,"Book an Appointment"),D()()(),b(8,"div",7)(9,"div",8)(10,"ol",9)(11,"li",10),P(12,"Pages"),D(),b(13,"li",11),P(14,"Book an Appointment"),D(),b(15,"li",10),P(16),D()()()()()(),b(17,"div",12)(18,"div",13),P(19,"After selecting the cardiolosit please click on the target date you want the appointment to add after which you will be able to use a form to adjust details and provide a description."),D(),b(20,"label",14),P(21,"Select a cardiologist:"),D(),b(22,"select",15),z("ngModelChange",function(a){return o.selected=a}),ue(23,ele,2,2,"option",16),D()(),b(24,"div",17),Q(25,"app-calendar",18),D()),r&2&&(I(16),At((o.patient==null?null:o.patient.firstName)+" "+(o.patient==null?null:o.patient.lastName)),I(6),N("ngModel",o.selected),I(),N("ngForOf",o.cardiologists),I(2),N("cardiologistId",o.selected)("patient",o.patient))},dependencies:[ye,Xo,xd,Md,Od,rs,_o,yo,dg],styles:[".form-element[_ngcontent-%COMP%], .calendar-element[_ngcontent-%COMP%]{margin:10px}"]});let i=e;return i})();function tle(i,e){if(i&1&&(b(0,"option",16),P(1),D()),i&2){let t=e.$implicit;N("value",t.id),I(),di("",t.firstName+" "+t.lastName," ")}}var X2=(()=>{let e=class e{constructor(n,r,o){this.httpClient=n,this.toastr=r,this.patientService=o,this.patients=[],this.userId=xe.getLoginToken().userId,this.getPatients()}getPatients(){this.httpClient.get(pe.serverAddress+this.patientService.api.patients).subscribe(n=>{this.patients=n,this.selected=this.patients[0]})}getPatient(n){this.httpClient.get(pe.serverAddress+this.patientService.api.patients+"/"+n).subscribe(r=>{this.selected=r})}onPatientSelectionChange(n){this.getPatient(n.target.value)}};e.\u0275fac=function(r){return new(r||e)(x(je),x(zt),x(Kr))},e.\u0275cmp=re({type:e,selectors:[["app-cardiologist-calendar"]],standalone:!0,features:[oe],decls:21,vars:3,consts:[[1,"container-fluid"],[1,"row","page-titles"],[1,"col-12","col-sm-3","col-md-5","align-self-center"],[1,"text-themecolor"],[1,"col-12","col-sm-9","col-md-7","align-self-center","text-end"],[1,"d-flex","display-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],[1,"breadcrumb-item","active"],[1,"form-group","form-element"],[1,"explanation-text"],["for","patient"],["id","patient","name","patient","required","",1,"form-control",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"calendar-element"],[1,"calendar-element",3,"cardiologistId","patient"],[3,"value"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),P(4,"Calendar"),D()(),b(5,"div",4)(6,"div",5)(7,"ol",6)(8,"li",7),P(9,"Pages"),D(),b(10,"li",8),P(11,"Calendar"),D()()()()()(),b(12,"div",9)(13,"div",10),P(14,"Please use this view to approve or cancel appointments for patients. You can also use the functionality to move an appointment to a different date etc. When an apointment is yellow is still has not been approved. After it has been approved it turns out green."),D(),b(15,"label",11),P(16,"Select a patient:"),D(),b(17,"select",12),z("change",function(a){return o.onPatientSelectionChange(a)}),ue(18,tle,2,2,"option",13),D()(),b(19,"div",14),Q(20,"app-calendar",15),D()),r&2&&(I(18),N("ngForOf",o.patients),I(2),N("cardiologistId",o.userId)("patient",o.selected))},dependencies:[ye,Xo,xd,Md,dg],styles:[".form-element[_ngcontent-%COMP%], .calendar-element[_ngcontent-%COMP%]{margin:10px}"]});let i=e;return i})();function Ss(i){return i==null||i===""?null:i}function W(i,e){return e===void 0&&(e=!1),i!=null&&(i!==""||e)}function me(i){return!W(i)}function Er(i){return i==null||i.length===0}function Qg(i){return i!=null&&typeof i.toString=="function"?i.toString():null}function xl(i){if(i!==void 0){if(i===null||i==="")return null;if(typeof i=="number")return isNaN(i)?void 0:i;var e=parseInt(i,10);return isNaN(e)?void 0:e}}function kw(i){if(i!==void 0)return i===null||i===""?!1:typeof i=="boolean"?i:/true/i.test(i)}function nle(i){if(!(i==null||i===""))return i}function Xx(i,e){var t=i?JSON.stringify(i):null,n=e?JSON.stringify(e):null;return t===n}function ile(i,e,t){t===void 0&&(t=!1);var n=i==null,r=e==null;if(i&&i.toNumber&&(i=i.toNumber()),e&&e.toNumber&&(e=e.toNumber()),n&&r)return 0;if(n)return-1;if(r)return 1;function o(s,a){return s>a?1:s<a?-1:0}if(typeof i!="string"||!t)return o(i,e);try{return i.localeCompare(e)}catch{return o(i,e)}}function lc(i){if(i instanceof Set||i instanceof Map){var e=[];return i.forEach(function(t){return e.push(t)}),e}return Object.values(i)}var rle=Object.freeze({__proto__:null,makeNull:Ss,exists:W,missing:me,missingOrEmpty:Er,toStringOrNull:Qg,attrToNumber:xl,attrToBoolean:kw,attrToString:nle,jsonEquals:Xx,defaultComparator:ile,values:lc}),ole=function(){function i(){this.existingKeys={}}return i.prototype.addExistingKeys=function(e){for(var t=0;t<e.length;t++)this.existingKeys[e[t]]=!0},i.prototype.getUniqueKey=function(e,t){e=Qg(e);for(var n=0;;){var r=void 0;if(e?(r=e,n!==0&&(r+="_"+n)):t?(r=t,n!==0&&(r+="_"+n)):r=n,!this.existingKeys[r])return this.existingKeys[r]=!0,String(r);n++}},i}(),sle=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ale=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o};function fi(i,e){var t,n;if(i!=null){if(Array.isArray(i)){for(var r=0;r<i.length;r++)e(r.toString(),i[r]);return}try{for(var o=sle(Object.entries(i)),s=o.next();!s.done;s=o.next()){var a=ale(s.value,2),l=a[0],u=a[1];e(l,u)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}}function yM(i){for(var e={},t=Object.keys(i),n=0;n<t.length;n++){var r=t[n],o=i[r];e[r]=o}return e}function lle(i){return JSON.parse(JSON.stringify(i))}function Vw(i,e){if(i){var t=i,n={};return Object.keys(t).forEach(function(r){if(!(e&&e.indexOf(r)>=0)){var o=t[r],s=Hw(o)&&o.constructor===Object;s?n[r]=Vw(o):n[r]=o}}),n}}function dW(i,e){return i[e]}function hW(i,e,t){i[e]=t}function ule(i,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];t.forEach(function(r){return fW(i,e,r)})}function fW(i,e,t,n){var r=dW(i,t);r!==void 0&&hW(e,t,n?n(r):r)}function pW(i){var e={};return i.filter(function(t){return t!=null}).forEach(function(t){Object.keys(t).forEach(function(n){return e[n]=null})}),Object.keys(e)}function Il(i){if(!i)return[];var e=Object;if(typeof e.values=="function")return e.values(i);var t=[];for(var n in i)i.hasOwnProperty(n)&&i.propertyIsEnumerable(n)&&t.push(i[n]);return t}function Dr(i,e,t,n){t===void 0&&(t=!0),n===void 0&&(n=!1),W(e)&&fi(e,function(r,o){var s=i[r];if(s!==o){if(n){var a=s==null&&o!=null;if(a){var l=typeof o=="object"&&o.constructor===Object,u=l;u&&(s={},i[r]=s)}}Hw(o)&&Hw(s)&&!Array.isArray(s)?Dr(s,o,t,n):(t||o!==void 0)&&(i[r]=o)}})}function cle(i){return me(i)||Object.keys(i).length===0}function dle(i,e,t){if(i==null)return t;for(var n=e.split("."),r=i;n.length>1;)if(r=r[n.shift()],r==null)return t;var o=r[n[0]];return o??t}function hle(i,e,t){if(i!=null){var n=e.split("."),r=i;n.forEach(function(o,s){r[o]||(r[o]={}),s<n.length-1&&(r=r[o])}),r[n[n.length-1]]=t}}function Ch(i,e,t){if(!(!e||!i)){if(!t)return i[e];for(var n=e.split("."),r=i,o=0;o<n.length;o++){if(r==null)return;r=r[n[o]]}return r}}function gW(i,e,t){e===void 0&&(e=[]),Object.keys(i).forEach(function(s){var a=i[s];typeof a=="object"&&!e.includes(s)&&(i[s]=void 0)});var n=Object.getPrototypeOf(i),r={},o=function(s){return"AG Grid: Grid API function ".concat(s,`() cannot be called as the grid has been destroyed.
    It is recommended to remove local references to the grid api. Alternatively, check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
    To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: `).concat(t)};Object.getOwnPropertyNames(n).forEach(function(s){var a=n[s];if(typeof a=="function"&&!e.includes(s)){var l=function(){console.warn(o(s))};r[s]={value:l,writable:!0}}}),Object.defineProperties(i,r)}function Hw(i){return typeof i=="object"&&i!==null}var fle=Object.freeze({__proto__:null,iterateObject:fi,cloneObject:yM,deepCloneObject:lle,deepCloneDefinition:Vw,getProperty:dW,setProperty:hW,copyPropertiesIfPresent:ule,copyPropertyIfPresent:fW,getAllKeysInObjects:pW,getAllValuesInObject:Il,mergeDeep:Dr,missingOrEmptyObject:cle,get:dle,set:hle,getValueUsingField:Ch,removeAllReferences:gW,isNonNullObject:Hw}),J2={};function bh(i,e){J2[e]||(i(),J2[e]=!0)}function Ae(i){bh(function(){return console.warn("AG Grid: "+i)},i)}function Ao(i){bh(function(){return console.error("AG Grid: "+i)},i)}function oS(i){if(i.name)return i.name;var e=/function\s+([^\(]+)/.exec(i.toString());return e&&e.length===2?e[1].trim():null}function sS(i){return!!(i&&i.constructor&&i.call&&i.apply)}function mW(i){vW(i,400)}var ZO=[],XO=!1;function Jx(i){ZO.push(i),!XO&&(XO=!0,window.setTimeout(function(){var e=ZO.slice();ZO.length=0,XO=!1,e.forEach(function(t){return t()})},0))}function vW(i,e){e===void 0&&(e=0),i.length>0&&window.setTimeout(function(){return i.forEach(function(t){return t()})},e)}function eo(i,e){var t;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=this;window.clearTimeout(t),t=window.setTimeout(function(){i.apply(o,n)},e)}}function eM(i,e){var t=0;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=this,s=new Date().getTime();s-t<e||(t=s,i.apply(o,n))}}function _M(i,e,t,n){t===void 0&&(t=100);var r=new Date().getTime(),o=null,s=!1,a=function(){var l=new Date().getTime()-r>t;(i()||l)&&(e(),s=!0,o!=null&&(window.clearInterval(o),o=null),l&&n&&console.warn(n))};a(),s||(o=window.setInterval(a,10))}function ple(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];return function(t){return i.reduce(function(n,r){return r(n)},t)}}function yW(i){i&&i()}var gle=function(){},mle=Object.freeze({__proto__:null,doOnce:bh,warnOnce:Ae,errorOnce:Ao,getFunctionName:oS,isFunction:sS,executeInAWhile:mW,executeNextVMTurn:Jx,executeAfter:vW,debounce:eo,throttle:eM,waitUntil:_M,compose:ple,callIfPresent:yW,noop:gle}),de=function(i){return i.CommunityCoreModule="@ag-grid-community/core",i.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",i.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",i.CsvExportModule="@ag-grid-community/csv-export",i.EnterpriseCoreModule="@ag-grid-enterprise/core",i.RowGroupingModule="@ag-grid-enterprise/row-grouping",i.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",i.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",i.MenuModule="@ag-grid-enterprise/menu",i.SetFilterModule="@ag-grid-enterprise/set-filter",i.MultiFilterModule="@ag-grid-enterprise/multi-filter",i.StatusBarModule="@ag-grid-enterprise/status-bar",i.SideBarModule="@ag-grid-enterprise/side-bar",i.RangeSelectionModule="@ag-grid-enterprise/range-selection",i.MasterDetailModule="@ag-grid-enterprise/master-detail",i.RichSelectModule="@ag-grid-enterprise/rich-select",i.GridChartsModule="@ag-grid-enterprise/charts",i.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",i.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",i.ExcelExportModule="@ag-grid-enterprise/excel-export",i.ClipboardModule="@ag-grid-enterprise/clipboard",i.SparklinesModule="@ag-grid-enterprise/sparklines",i.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",i.AngularModule="@ag-grid-community/angular",i.ReactModule="@ag-grid-community/react",i.VueModule="@ag-grid-community/vue",i}(de||{}),hg=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},eU=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},mt=function(){function i(){}return i.register=function(e){i.__register(e,!0,void 0)},i.registerModules=function(e){i.__registerModules(e,!0,void 0)},i.__register=function(e,t,n){i.runVersionChecks(e),n!==void 0?(i.areGridScopedModules=!0,i.gridModulesMap[n]===void 0&&(i.gridModulesMap[n]={}),i.gridModulesMap[n][e.moduleName]=e):i.globalModulesMap[e.moduleName]=e,i.setModuleBased(t)},i.__unRegisterGridModules=function(e){delete i.gridModulesMap[e]},i.__registerModules=function(e,t,n){i.setModuleBased(t),e&&e.forEach(function(r){return i.__register(r,t,n)})},i.isValidModuleVersion=function(e){var t=hg(e.version.split(".")||[],2),n=t[0],r=t[1],o=hg(i.currentModuleVersion.split(".")||[],2),s=o[0],a=o[1];return n===s&&r===a},i.runVersionChecks=function(e){if(i.currentModuleVersion||(i.currentModuleVersion=e.version),e.version?i.isValidModuleVersion(e)||console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '".concat(e.moduleName,"' is version ").concat(e.version," but the other modules are version ").concat(this.currentModuleVersion,". Please update all modules to the same version.")):console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '".concat(e.moduleName,"' is incompatible. Please update all modules to the same version.")),e.validate){var t=e.validate();if(!t.isValid){var n=t;console.error("AG Grid: ".concat(n.message))}}},i.setModuleBased=function(e){i.moduleBased===void 0?i.moduleBased=e:i.moduleBased!==e&&bh(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},i.__setIsBundled=function(){i.isBundled=!0},i.__assertRegistered=function(e,t,n){var r;if(this.__isRegistered(e,n))return!0;var o=t+e,s;if(i.isBundled)s="AG Grid: unable to use ".concat(t,` as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`);else if(i.moduleBased||i.moduleBased===void 0){var a=(r=Object.entries(de).find(function(l){var u=hg(l,2);u[0];var c=u[1];return c===e}))===null||r===void 0?void 0:r[0];s="AG Grid: unable to use ".concat(t," as the ").concat(a," is not registered").concat(i.areGridScopedModules?" for gridId: ".concat(n):"",`. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { `).concat(a," } from '").concat(e,`';
    
    ModuleRegistry.registerModules([ `).concat(a,` ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`)}else s="AG Grid: unable to use ".concat(t,` as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';
            
For more info see: https://www.ag-grid.com/javascript-grid/packages/`);return bh(function(){console.warn(s)},o),!1},i.__isRegistered=function(e,t){var n;return!!i.globalModulesMap[e]||!!(!((n=i.gridModulesMap[t])===null||n===void 0)&&n[e])},i.__getRegisteredModules=function(e){return eU(eU([],hg(lc(i.globalModulesMap)),!1),hg(lc(i.gridModulesMap[e]||{})),!1)},i.__getGridRegisteredModules=function(e){var t;return lc((t=i.gridModulesMap[e])!==null&&t!==void 0?t:{})||[]},i.__isPackageBased=function(){return!i.moduleBased},i.globalModulesMap={},i.gridModulesMap={},i.areGridScopedModules=!1,i}(),vle=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},yle=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},_le=function(){function i(e,t){if(this.beanWrappers={},this.destroyed=!1,!(!e||!e.beanClasses)){this.contextParams=e,this.logger=t,this.logger.log(">> creating ag-Application Context"),this.createBeans();var n=this.getBeanInstances();this.wireBeans(n),this.logger.log(">> ag-Application Context ready - component is alive")}}return i.prototype.getBeanInstances=function(){return lc(this.beanWrappers).map(function(e){return e.beanInstance})},i.prototype.createBean=function(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.wireBeans([e],t),e},i.prototype.wireBeans=function(e,t){this.autoWireBeans(e),this.methodWireBeans(e),this.callLifeCycleMethods(e,"preConstructMethods"),W(t)&&e.forEach(t),this.callLifeCycleMethods(e,"postConstructMethods")},i.prototype.createBeans=function(){var e=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),fi(this.beanWrappers,function(n,r){var o;r.bean.__agBeanMetaData&&r.bean.__agBeanMetaData.autowireMethods&&r.bean.__agBeanMetaData.autowireMethods.agConstructor&&(o=r.bean.__agBeanMetaData.autowireMethods.agConstructor);var s=e.getBeansForParameters(o,r.bean.name),a=new(r.bean.bind.apply(r.bean,yle([null],vle(s),!1)));r.beanInstance=a});var t=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: ".concat(t))},i.prototype.createBeanWrapper=function(e){var t=e.__agBeanMetaData;if(!t){var n=void 0;e.prototype.constructor?n=oS(e.prototype.constructor):n=""+e,console.error("Context item ".concat(n," is not a bean"));return}var r={bean:e,beanInstance:null,beanName:t.beanName};this.beanWrappers[t.beanName]=r},i.prototype.autoWireBeans=function(e){var t=this;e.forEach(function(n){t.forEachMetaDataInHierarchy(n,function(r,o){var s=r.agClassAttributes;s&&s.forEach(function(a){var l=t.lookupBeanInstance(o,a.beanName,a.optional);n[a.attributeName]=l})})})},i.prototype.methodWireBeans=function(e){var t=this;e.forEach(function(n){t.forEachMetaDataInHierarchy(n,function(r,o){fi(r.autowireMethods,function(s,a){if(s!=="agConstructor"){var l=t.getBeansForParameters(a,o);n[s].apply(n,l)}})})})},i.prototype.forEachMetaDataInHierarchy=function(e,t){for(var n=Object.getPrototypeOf(e);n!=null;){var r=n.constructor;if(r.hasOwnProperty("__agBeanMetaData")){var o=r.__agBeanMetaData,s=this.getBeanName(r);t(o,s)}n=Object.getPrototypeOf(n)}},i.prototype.getBeanName=function(e){if(e.__agBeanMetaData&&e.__agBeanMetaData.beanName)return e.__agBeanMetaData.beanName;var t=e.toString(),n=t.substring(9,t.indexOf("("));return n},i.prototype.getBeansForParameters=function(e,t){var n=this,r=[];return e&&fi(e,function(o,s){var a=n.lookupBeanInstance(t,s);r[Number(o)]=a}),r},i.prototype.lookupBeanInstance=function(e,t,n){if(n===void 0&&(n=!1),this.destroyed)return this.logger.log("AG Grid: bean reference ".concat(t," is used after the grid is destroyed!")),null;if(t==="context")return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(t))return this.contextParams.providedBeanInstances[t];var r=this.beanWrappers[t];return r?r.beanInstance:(n||console.error("AG Grid: unable to find bean reference ".concat(t," while initialising ").concat(e)),null)},i.prototype.callLifeCycleMethods=function(e,t){var n=this;e.forEach(function(r){return n.callLifeCycleMethodsOnBean(r,t)})},i.prototype.callLifeCycleMethodsOnBean=function(e,t,n){var r={};this.forEachMetaDataInHierarchy(e,function(s){var a=s[t];a&&a.forEach(function(l){l!=n&&(r[l]=!0)})});var o=Object.keys(r);o.forEach(function(s){return e[s]()})},i.prototype.getBean=function(e){return this.lookupBeanInstance("getBean",e,!0)},i.prototype.destroy=function(){if(!this.destroyed){this.destroyed=!0,this.logger.log(">> Shutting down ag-Application Context");var e=this.getBeanInstances();this.destroyBeans(e),this.contextParams.providedBeanInstances=null,mt.__unRegisterGridModules(this.contextParams.gridId),this.logger.log(">> ag-Application Context shut down - component is dead")}},i.prototype.destroyBean=function(e){e&&this.destroyBeans([e])},i.prototype.destroyBeans=function(e){var t=this;return e?(e.forEach(function(n){t.callLifeCycleMethodsOnBean(n,"preDestroyMethods","destroy");var r=n;typeof r.destroy=="function"&&r.destroy()}),[]):[]},i.prototype.isDestroyed=function(){return this.destroyed},i.prototype.getGridId=function(){return this.contextParams.gridId},i}();function tU(i,e,t){var n=pc(i.constructor);n.preConstructMethods||(n.preConstructMethods=[]),n.preConstructMethods.push(e)}function Z(i,e,t){var n=pc(i.constructor);n.postConstructMethods||(n.postConstructMethods=[]),n.postConstructMethods.push(e)}function xi(i,e,t){var n=pc(i.constructor);n.preDestroyMethods||(n.preDestroyMethods=[]),n.preDestroyMethods.push(e)}function ne(i){return function(e){var t=pc(e);t.beanName=i}}function _(i){return function(e,t,n){_W(e,i,!1,e,t,null)}}function et(i){return function(e,t,n){_W(e,i,!0,e,t,null)}}function _W(i,e,t,n,r,o){if(e===null){console.error("AG Grid: Autowired name should not be null");return}if(typeof o=="number"){console.error("AG Grid: Autowired should be on an attribute");return}var s=pc(i.constructor);s.agClassAttributes||(s.agClassAttributes=[]),s.agClassAttributes.push({attributeName:r,beanName:e,optional:t})}function to(i){return function(e,t,n){var r=typeof e=="function"?e:e.constructor,o;if(typeof n=="number"){var s=void 0;t?(o=pc(r),s=t):(o=pc(r),s="agConstructor"),o.autowireMethods||(o.autowireMethods={}),o.autowireMethods[s]||(o.autowireMethods[s]={}),o.autowireMethods[s][n]=i}}}function pc(i){return i.hasOwnProperty("__agBeanMetaData")||(i.__agBeanMetaData={}),i.__agBeanMetaData}var nU=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},uw=function(i,e){return function(t,n){e(t,n,i)}},Pl=function(){function i(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return i.prototype.setBeans=function(e,t,n,r){if(n===void 0&&(n=null),r===void 0&&(r=null),this.frameworkOverrides=t,this.gridOptionsService=e,n){var o=e.useAsyncEvents();this.addGlobalListener(n,o)}r&&this.addGlobalListener(r,!1)},i.prototype.setFrameworkOverrides=function(e){this.frameworkOverrides=e},i.prototype.getListeners=function(e,t,n){var r=t?this.allAsyncListeners:this.allSyncListeners,o=r.get(e);return!o&&n&&(o=new Set,r.set(e,o)),o},i.prototype.noRegisteredListenersExist=function(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0},i.prototype.addEventListener=function(e,t,n){n===void 0&&(n=!1),this.getListeners(e,n,!0).add(t)},i.prototype.removeEventListener=function(e,t,n){n===void 0&&(n=!1);var r=this.getListeners(e,n,!1);if(r&&(r.delete(t),r.size===0)){var o=n?this.allAsyncListeners:this.allSyncListeners;o.delete(e)}},i.prototype.addGlobalListener=function(e,t){t===void 0&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)},i.prototype.removeGlobalListener=function(e,t){t===void 0&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)},i.prototype.dispatchEvent=function(e){var t=e;this.gridOptionsService&&this.gridOptionsService.addGridCommonParams(t),this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0},i.prototype.dispatchEventOnce=function(e){this.firedEvents[e.type]||this.dispatchEvent(e)},i.prototype.dispatchToListeners=function(e,t){var n=this,r,o=e.type;if(t&&"event"in e){var s=e.event;s instanceof Event&&(e.eventPath=s.composedPath())}var a=function(d,h){return d.forEach(function(f){if(h.has(f)){var p=n.frameworkOverrides?function(){return n.frameworkOverrides.wrapIncoming(function(){return f(e)})}:function(){return f(e)};t?n.dispatchAsync(p):p()}})},l=(r=this.getListeners(o,t,!1))!==null&&r!==void 0?r:new Set,u=new Set(l);u.size>0&&a(u,l);var c=new Set(t?this.globalAsyncListeners:this.globalSyncListeners);c.forEach(function(d){var h=n.frameworkOverrides?function(){return n.frameworkOverrides.wrapIncoming(function(){return d(o,e)})}:function(){return d(o,e)};t?n.dispatchAsync(h):h()})},i.prototype.dispatchAsync=function(e){var t=this;this.asyncFunctionsQueue.push(e),this.scheduled||(this.frameworkOverrides.wrapIncoming(function(){window.setTimeout(t.flushAsyncQueue.bind(t),0)}),this.scheduled=!0)},i.prototype.flushAsyncQueue=function(){this.scheduled=!1;var e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(function(t){return t()})},nU([uw(0,to("gridOptionsService")),uw(1,to("frameworkOverrides")),uw(2,to("globalEventListener")),uw(3,to("globalSyncEventListener"))],i.prototype,"setBeans",null),i=nU([ne("eventService")],i),i}(),CM=function(){function i(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}return i.prototype.wrap=function(e){var t=this,n=e;return this.frameworkOverrides.shouldWrapOutgoing&&(n=function(r){t.frameworkOverrides.wrapOutgoing(function(){return e(r)})},this.wrappedListeners.set(e,n)),n},i.prototype.wrapGlobal=function(e){var t=this,n=e;return this.frameworkOverrides.shouldWrapOutgoing&&(n=function(r,o){t.frameworkOverrides.wrapOutgoing(function(){return e(r,o)})},this.wrappedGlobalListeners.set(e,n)),n},i.prototype.unwrap=function(e){var t;return(t=this.wrappedListeners.get(e))!==null&&t!==void 0?t:e},i.prototype.unwrapGlobal=function(e){var t;return(t=this.wrappedGlobalListeners.get(e))!==null&&t!==void 0?t:e},i}(),fg=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Cle={resizable:!0,sortable:!0},wle=0;function CW(){return wle++}var Tt=function(){function i(e,t,n,r){this.instanceId=CW(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.eventService=new Pl,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=r,this.setState(e)}return i.prototype.getInstanceId=function(){return this.instanceId},i.prototype.setState=function(e){e.sort!==void 0?(e.sort==="asc"||e.sort==="desc")&&(this.sort=e.sort):(e.initialSort==="asc"||e.initialSort==="desc")&&(this.sort=e.initialSort);var t=e.sortIndex,n=e.initialSortIndex;t!==void 0?t!==null&&(this.sortIndex=t):n!==null&&(this.sortIndex=n);var r=e.hide,o=e.initialHide;r!==void 0?this.visible=!r:this.visible=!o,e.pinned!==void 0?this.setPinned(e.pinned):this.setPinned(e.initialPinned);var s=e.flex,a=e.initialFlex;s!==void 0?this.flex=s:a!==void 0&&(this.flex=a)},i.prototype.setColDef=function(e,t,n){n===void 0&&(n="api"),this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged",n))},i.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},i.prototype.setParent=function(e){this.parent=e},i.prototype.getParent=function(){return this.parent},i.prototype.setOriginalParent=function(e){this.originalParent=e},i.prototype.getOriginalParent=function(){return this.originalParent},i.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()},i.prototype.initDotNotation=function(){var e=this.gridOptionsService.get("suppressFieldDotNotation");this.fieldContainsDots=W(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=W(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e},i.prototype.initMinAndMaxWidths=function(){var e=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(e),this.maxWidth=this.columnUtils.calculateColMaxWidth(e)},i.prototype.initTooltip=function(){this.tooltipEnabled=W(this.colDef.tooltipField)||W(this.colDef.tooltipValueGetter)||W(this.colDef.tooltipComponent)},i.prototype.resetActualWidth=function(e){e===void 0&&(e="api");var t=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)},i.prototype.isEmptyGroup=function(){return!1},i.prototype.isRowGroupDisplayed=function(e){if(me(this.colDef)||me(this.colDef.showRowGroup))return!1;var t=this.colDef.showRowGroup===!0,n=this.colDef.showRowGroup===e;return t||n},i.prototype.isPrimary=function(){return this.primary},i.prototype.isFilterAllowed=function(){var e=!!this.colDef.filter;return e},i.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},i.prototype.isTooltipEnabled=function(){return this.tooltipEnabled},i.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},i.prototype.addEventListener=function(e,t){var n,r;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new CM(this.frameworkOverrides));var o=(r=(n=this.frameworkEventListenerService)===null||n===void 0?void 0:n.wrap(t))!==null&&r!==void 0?r:t;this.eventService.addEventListener(e,o)},i.prototype.removeEventListener=function(e,t){var n,r,o=(r=(n=this.frameworkEventListenerService)===null||n===void 0?void 0:n.unwrap(t))!==null&&r!==void 0?r:t;this.eventService.removeEventListener(e,o)},i.prototype.createColumnFunctionCallbackParams=function(e){return this.gridOptionsService.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})},i.prototype.isSuppressNavigable=function(e){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){var t=this.createColumnFunctionCallbackParams(e),n=this.colDef.suppressNavigable;return n(t)}return!1},i.prototype.isCellEditable=function(e){return e.group&&!this.gridOptionsService.get("enableGroupEdit")?!1:this.isColumnFunc(e,this.colDef.editable)},i.prototype.isSuppressFillHandle=function(){return!!this.colDef.suppressFillHandle},i.prototype.isAutoHeight=function(){return!!this.colDef.autoHeight},i.prototype.isAutoHeaderHeight=function(){return!!this.colDef.autoHeaderHeight},i.prototype.isRowDrag=function(e){return this.isColumnFunc(e,this.colDef.rowDrag)},i.prototype.isDndSource=function(e){return this.isColumnFunc(e,this.colDef.dndSource)},i.prototype.isCellCheckboxSelection=function(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)},i.prototype.isSuppressPaste=function(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)},i.prototype.isResizable=function(){return!!this.getColDefValue("resizable")},i.prototype.getColDefValue=function(e){var t;return(t=this.colDef[e])!==null&&t!==void 0?t:Cle[e]},i.prototype.isColumnFunc=function(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){var n=this.createColumnFunctionCallbackParams(e),r=t;return r(n)}return!1},i.prototype.setMoving=function(e,t){t===void 0&&(t="api"),this.moving=e,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",t))},i.prototype.createColumnEvent=function(e,t){return this.gridOptionsService.addGridCommonParams({type:e,column:this,columns:[this],source:t})},i.prototype.isMoving=function(){return this.moving},i.prototype.getSort=function(){return this.sort},i.prototype.setSort=function(e,t){t===void 0&&(t="api"),this.sort!==e&&(this.sort=e,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",t))),this.dispatchStateUpdatedEvent("sort")},i.prototype.setMenuVisible=function(e,t){t===void 0&&(t="api"),this.menuVisible!==e&&(this.menuVisible=e,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))},i.prototype.isMenuVisible=function(){return this.menuVisible},i.prototype.isSortable=function(){return!!this.getColDefValue("sortable")},i.prototype.isSortAscending=function(){return this.sort==="asc"},i.prototype.isSortDescending=function(){return this.sort==="desc"},i.prototype.isSortNone=function(){return me(this.sort)},i.prototype.isSorting=function(){return W(this.sort)},i.prototype.getSortIndex=function(){return this.sortIndex},i.prototype.setSortIndex=function(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")},i.prototype.setAggFunc=function(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")},i.prototype.getAggFunc=function(){return this.aggFunc},i.prototype.getLeft=function(){return this.left},i.prototype.getOldLeft=function(){return this.oldLeft},i.prototype.getRight=function(){return this.left+this.actualWidth},i.prototype.setLeft=function(e,t){t===void 0&&(t="api"),this.oldLeft=this.left,this.left!==e&&(this.left=e,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))},i.prototype.isFilterActive=function(){return this.filterActive},i.prototype.setFilterActive=function(e,t,n){t===void 0&&(t="api"),this.filterActive!==e&&(this.filterActive=e,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));var r=this.createColumnEvent("filterChanged",t);n&&Dr(r,n),this.eventService.dispatchEvent(r)},i.prototype.isHovered=function(){return this.columnHoverService.isHovered(this)},i.prototype.setPinned=function(e){e===!0||e==="left"?this.pinned="left":e==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")},i.prototype.setFirstRightPinned=function(e,t){t===void 0&&(t="api"),this.firstRightPinned!==e&&(this.firstRightPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))},i.prototype.setLastLeftPinned=function(e,t){t===void 0&&(t="api"),this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))},i.prototype.isFirstRightPinned=function(){return this.firstRightPinned},i.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},i.prototype.isPinned=function(){return this.pinned==="left"||this.pinned==="right"},i.prototype.isPinnedLeft=function(){return this.pinned==="left"},i.prototype.isPinnedRight=function(){return this.pinned==="right"},i.prototype.getPinned=function(){return this.pinned},i.prototype.setVisible=function(e,t){t===void 0&&(t="api");var n=e===!0;this.visible!==n&&(this.visible=n,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",t))),this.dispatchStateUpdatedEvent("hide")},i.prototype.isVisible=function(){return this.visible},i.prototype.isSpanHeaderHeight=function(){var e=this.getColDef();return!e.suppressSpanHeaderHeight&&!e.autoHeaderHeight},i.prototype.getColDef=function(){return this.colDef},i.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},i.prototype.getColId=function(){return this.colId},i.prototype.getId=function(){return this.colId},i.prototype.getUniqueId=function(){return this.colId},i.prototype.getDefinition=function(){return this.colDef},i.prototype.getActualWidth=function(){return this.actualWidth},i.prototype.getAutoHeaderHeight=function(){return this.autoHeaderHeight},i.prototype.setAutoHeaderHeight=function(e){var t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t},i.prototype.createBaseColDefParams=function(e){var t=this.gridOptionsService.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this});return t},i.prototype.getColSpan=function(e){if(me(this.colDef.colSpan))return 1;var t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)},i.prototype.getRowSpan=function(e){if(me(this.colDef.rowSpan))return 1;var t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)},i.prototype.setActualWidth=function(e,t,n){t===void 0&&(t="api"),n===void 0&&(n=!1),this.minWidth!=null&&(e=Math.max(e,this.minWidth)),this.maxWidth!=null&&(e=Math.min(e,this.maxWidth)),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")},i.prototype.fireColumnWidthChangedEvent=function(e){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",e))},i.prototype.isGreaterThanMax=function(e){return this.maxWidth!=null?e>this.maxWidth:!1},i.prototype.getMinWidth=function(){return this.minWidth},i.prototype.getMaxWidth=function(){return this.maxWidth},i.prototype.getFlex=function(){return this.flex||0},i.prototype.setFlex=function(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")},i.prototype.setMinimum=function(e){e===void 0&&(e="api"),W(this.minWidth)&&this.setActualWidth(this.minWidth,e)},i.prototype.setRowGroupActive=function(e,t){t===void 0&&(t="api"),this.rowGroupActive!==e&&(this.rowGroupActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t))),this.dispatchStateUpdatedEvent("rowGroup")},i.prototype.isRowGroupActive=function(){return this.rowGroupActive},i.prototype.setPivotActive=function(e,t){t===void 0&&(t="api"),this.pivotActive!==e&&(this.pivotActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t))),this.dispatchStateUpdatedEvent("pivot")},i.prototype.isPivotActive=function(){return this.pivotActive},i.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},i.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},i.prototype.setValueActive=function(e,t){t===void 0&&(t="api"),this.aggregationActive!==e&&(this.aggregationActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))},i.prototype.isValueActive=function(){return this.aggregationActive},i.prototype.isAllowPivot=function(){return this.colDef.enablePivot===!0},i.prototype.isAllowValue=function(){return this.colDef.enableValue===!0},i.prototype.isAllowRowGroup=function(){return this.colDef.enableRowGroup===!0},i.prototype.getMenuTabs=function(e){var t=this.getColDef().menuTabs;return t==null&&(t=e),t},i.prototype.dispatchStateUpdatedEvent=function(e){this.eventService.dispatchEvent({type:i.EVENT_STATE_UPDATED,key:e})},i.EVENT_MOVING_CHANGED="movingChanged",i.EVENT_LEFT_CHANGED="leftChanged",i.EVENT_WIDTH_CHANGED="widthChanged",i.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",i.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",i.EVENT_VISIBLE_CHANGED="visibleChanged",i.EVENT_FILTER_CHANGED="filterChanged",i.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",i.EVENT_SORT_CHANGED="sortChanged",i.EVENT_COL_DEF_CHANGED="colDefChanged",i.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",i.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",i.EVENT_PIVOT_CHANGED="columnPivotChanged",i.EVENT_VALUE_CHANGED="columnValueChanged",i.EVENT_STATE_UPDATED="columnStateUpdated",fg([_("gridOptionsService")],i.prototype,"gridOptionsService",void 0),fg([_("columnUtils")],i.prototype,"columnUtils",void 0),fg([_("columnHoverService")],i.prototype,"columnHoverService",void 0),fg([_("frameworkOverrides")],i.prototype,"frameworkOverrides",void 0),fg([Z],i.prototype,"initialise",null),i}(),Sle=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},sn=function(){function i(e,t,n,r){this.localEventService=new Pl,this.expandable=!1,this.instanceId=CW(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=n,this.level=r}return i.prototype.destroy=function(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)},i.prototype.reset=function(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0},i.prototype.getInstanceId=function(){return this.instanceId},i.prototype.setOriginalParent=function(e){this.originalParent=e},i.prototype.getOriginalParent=function(){return this.originalParent},i.prototype.getLevel=function(){return this.level},i.prototype.isVisible=function(){return this.children?this.children.some(function(e){return e.isVisible()}):!1},i.prototype.isPadding=function(){return this.padding},i.prototype.setExpanded=function(e){this.expanded=e===void 0?!1:e;var t={type:i.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(t)},i.prototype.isExpandable=function(){return this.expandable},i.prototype.isExpanded=function(){return this.expanded},i.prototype.getGroupId=function(){return this.groupId},i.prototype.getId=function(){return this.getGroupId()},i.prototype.setChildren=function(e){this.children=e},i.prototype.getChildren=function(){return this.children},i.prototype.getColGroupDef=function(){return this.colGroupDef},i.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},i.prototype.addLeafColumns=function(e){this.children&&this.children.forEach(function(t){t instanceof Tt?e.push(t):t instanceof i&&t.addLeafColumns(e)})},i.prototype.getColumnGroupShow=function(){var e=this.colGroupDef;if(e)return e.columnGroupShow},i.prototype.setupExpandable=function(){var e=this;this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();var t=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(function(n){return n.addEventListener("visibleChanged",t)}),this.expandableListenerRemoveCallback=function(){e.getLeafColumns().forEach(function(n){return n.removeEventListener("visibleChanged",t)}),e.expandableListenerRemoveCallback=null}},i.prototype.setExpandable=function(){if(!this.isPadding()){for(var e=!1,t=!1,n=!1,r=this.findChildrenRemovingPadding(),o=0,s=r.length;o<s;o++){var a=r[o];if(a.isVisible()){var l=a.getColumnGroupShow();l==="open"?(e=!0,n=!0):l==="closed"?(t=!0,n=!0):(e=!0,t=!0)}}var u=e&&t&&n;if(this.expandable!==u){this.expandable=u;var c={type:i.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(c)}}},i.prototype.findChildrenRemovingPadding=function(){var e=[],t=function(n){n.forEach(function(r){var o=r instanceof i&&r.isPadding();o?t(r.children):e.push(r)})};return t(this.children),e},i.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},i.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},i.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},i.EVENT_EXPANDED_CHANGED="expandedChanged",i.EVENT_EXPANDABLE_CHANGED="expandableChanged",Sle([xi],i.prototype,"destroy",null),i}(),ble={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function wW(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];for(var t=0;t<i.length;t++){var n=i[t];if(W(n))return n}return null}function Ele(i){return i!=null&&i.length>0}function dt(i){if(!(!i||!i.length))return i[i.length-1]}function fa(i,e,t){return i==null&&e==null?!0:i!=null&&e!=null&&i.length===e.length&&i.every(function(n,r){return t?t(n,e[r]):e[r]===n})}function Dle(i,e){return fa(i,e)}function SW(i){return i.sort(function(e,t){return e-t})}function Tle(i,e){if(i)for(var t=i.length-2;t>=0;t--){var n=i[t]===e,r=i[t+1]===e;n&&r&&i.splice(t+1,1)}}function wM(i,e){var t=i.indexOf(e);t>=0&&(i[t]=i[i.length-1],i.pop())}function br(i,e){var t=i.indexOf(e);t>=0&&i.splice(t,1)}function bW(i,e){for(var t=0;t<e.length;t++)wM(i,e[t])}function EW(i,e){for(var t=0;t<e.length;t++)br(i,e[t])}function Zg(i,e,t){i.splice(t,0,e)}function Rle(i,e,t){if(!(i==null||e==null))for(var n=e.length-1;n>=0;n--){var r=e[n];Zg(i,r,t)}}function tM(i,e,t){EW(i,e),e.slice().reverse().forEach(function(n){return Zg(i,n,t)})}function xo(i,e){return i.indexOf(e)>-1}function DW(i){return[].concat.apply([],i)}function nM(i,e){e==null||i==null||e.forEach(function(t){return i.push(t)})}function Ale(i){return i.map(Qg)}function Ole(i,e){if(i!=null)for(var t=i.length-1;t>=0;t--)e(i[t],t)}var xle=Object.freeze({__proto__:null,firstExistingValue:wW,existsAndNotEmpty:Ele,last:dt,areEqual:fa,shallowCompare:Dle,sortNumerically:SW,removeRepeatsFromArray:Tle,removeFromUnorderedArray:wM,removeFromArray:br,removeAllFromUnorderedArray:bW,removeAllFromArray:EW,insertIntoArray:Zg,insertArrayIntoArray:Rle,moveInArray:tM,includes:xo,flatten:DW,pushAll:nM,toStrings:Ale,forEachReverse:Ole}),TW="__ag_Grid_Stop_Propagation",Mle=["touchstart","touchend","touchmove","touchcancel","scroll"],JO={};function Es(i){i[TW]=!0}function Mo(i){return i[TW]===!0}var SM=function(){var i={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},e=function(t){if(typeof JO[t]=="boolean")return JO[t];var n=document.createElement(i[t]||"div");return t="on"+t,JO[t]=t in n};return e}();function Gw(i,e,t){for(var n=e;n;){var r=i.getDomData(n,t);if(r)return r;n=n.parentElement}return null}function Bw(i,e){return!e||!i?!1:AW(e).indexOf(i)>=0}function RW(i){for(var e=[],t=i.target;t;)e.push(t),t=t.parentElement;return e}function AW(i){var e=i;return e.path?e.path:e.composedPath?e.composedPath():RW(e)}function OW(i,e,t,n){var r=xo(Mle,t),o=r?{passive:!0}:void 0;i&&i.addEventListener&&i.addEventListener(e,t,n,o)}var Ile=Object.freeze({__proto__:null,stopPropagationForAgGrid:Es,isStopPropagationForAgGrid:Mo,isEventSupported:SM,getCtrlForEventTarget:Gw,isElementInEventPath:Bw,createEventPath:RW,getEventPath:AW,addSafePassiveEventListener:OW}),Ju=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Y=function(){function i(){var e=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.lastChangeSetIdLookup={},this.propertyListenerId=0,this.isAlive=function(){return!e.destroyed}}return i.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},i.prototype.getContext=function(){return this.context},i.prototype.destroy=function(){this.destroyFunctions.forEach(function(e){return e()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:i.EVENT_DESTROYED})},i.prototype.addEventListener=function(e,t){this.localEventService||(this.localEventService=new Pl),this.localEventService.addEventListener(e,t)},i.prototype.removeEventListener=function(e,t){this.localEventService&&this.localEventService.removeEventListener(e,t)},i.prototype.dispatchEvent=function(e){this.localEventService&&this.localEventService.dispatchEvent(e)},i.prototype.addManagedListener=function(e,t,n){var r=this;if(!this.destroyed){e instanceof HTMLElement?OW(this.getFrameworkOverrides(),e,t,n):e.addEventListener(t,n);var o=function(){return e.removeEventListener(t,n),r.destroyFunctions=r.destroyFunctions.filter(function(s){return s!==o}),null};return this.destroyFunctions.push(o),o}},i.prototype.setupGridOptionListener=function(e,t){var n=this;this.gridOptionsService.addEventListener(e,t);var r=function(){return n.gridOptionsService.removeEventListener(e,t),n.destroyFunctions=n.destroyFunctions.filter(function(o){return o!==r}),null};return this.destroyFunctions.push(r),r},i.prototype.addManagedPropertyListener=function(e,t){return this.destroyed?function(){return null}:this.setupGridOptionListener(e,t)},i.prototype.addManagedPropertyListeners=function(e,t){var n=this;if(!this.destroyed){var r=e.join("-")+this.propertyListenerId++,o=function(s){if(s.changeSet){if(s.changeSet&&s.changeSet.id===n.lastChangeSetIdLookup[r])return;n.lastChangeSetIdLookup[r]=s.changeSet.id}var a={type:"gridPropertyChanged",changeSet:s.changeSet};t(a)};e.forEach(function(s){return n.setupGridOptionListener(s,o)})}},i.prototype.addDestroyFunc=function(e){this.isAlive()?this.destroyFunctions.push(e):e()},i.prototype.createManagedBean=function(e,t){var n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n},i.prototype.createBean=function(e,t,n){return(t||this.getContext()).createBean(e,n)},i.prototype.destroyBean=function(e,t){return(t||this.getContext()).destroyBean(e)},i.prototype.destroyBeans=function(e,t){var n=this;return e&&e.forEach(function(r){return n.destroyBean(r,t)}),[]},i.EVENT_DESTROYED="destroyed",Ju([_("frameworkOverrides")],i.prototype,"frameworkOverrides",void 0),Ju([_("context")],i.prototype,"context",void 0),Ju([_("eventService")],i.prototype,"eventService",void 0),Ju([_("gridOptionsService")],i.prototype,"gridOptionsService",void 0),Ju([_("localeService")],i.prototype,"localeService",void 0),Ju([_("environment")],i.prototype,"environment",void 0),Ju([xi],i.prototype,"destroy",null),i}(),Ple=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),cw=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Fle=function(i,e){return function(t,n){e(t,n,i)}},Nle=function(i){Ple(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.setBeans=function(t){this.logger=t.create("ColumnFactory")},e.prototype.createColumnTree=function(t,n,r){var o=new ole,s=this.extractExistingTreeData(r),a=s.existingCols,l=s.existingGroups,u=s.existingColKeys;o.addExistingKeys(u);var c=this.recursivelyCreateColumns(t,0,n,a,o,l),d=this.findMaxDept(c,0);this.logger.log("Number of levels for grouped columns is "+d);var h=this.balanceColumnTree(c,0,d,o),f=function(p,g){p instanceof sn&&p.setupExpandable(),p.setOriginalParent(g)};return this.columnUtils.depthFirstOriginalTreeSearch(null,h,f),{columnTree:h,treeDept:d}},e.prototype.extractExistingTreeData=function(t){var n=[],r=[],o=[];return t&&this.columnUtils.depthFirstOriginalTreeSearch(null,t,function(s){if(s instanceof sn){var a=s;r.push(a)}else{var l=s;o.push(l.getId()),n.push(l)}}),{existingCols:n,existingGroups:r,existingColKeys:o}},e.prototype.createForAutoGroups=function(t,n){var r=this;return t.map(function(o){return r.createAutoGroupTreeItem(n,o)})},e.prototype.createAutoGroupTreeItem=function(t,n){for(var r=this.findDepth(t),o=n,s=r-1;s>=0;s--){var a=new sn(null,"FAKE_PATH_".concat(n.getId(),"}_").concat(s),!0,s);this.createBean(a),a.setChildren([o]),o.setOriginalParent(a),o=a}return r===0&&n.setOriginalParent(null),o},e.prototype.findDepth=function(t){for(var n=0,r=t;r&&r[0]&&r[0]instanceof sn;)n++,r=r[0].getChildren();return n},e.prototype.balanceColumnTree=function(t,n,r,o){for(var s=[],a=0;a<t.length;a++){var l=t[a];if(l instanceof sn){var u=l,c=this.balanceColumnTree(u.getChildren(),n+1,r,o);u.setChildren(c),s.push(u)}else{for(var d=void 0,h=void 0,f=r-1;f>=n;f--){var p=o.getUniqueKey(null,null),g=this.createMergedColGroupDef(null),m=new sn(g,p,!0,n);this.createBean(m),h&&h.setChildren([m]),h=m,d||(d=h)}if(d&&h){s.push(d);var v=t.some(function(y){return y instanceof sn});if(v){h.setChildren([l]);continue}else{h.setChildren(t);break}}s.push(l)}}return s},e.prototype.findMaxDept=function(t,n){for(var r=n,o=0;o<t.length;o++){var s=t[o];if(s instanceof sn){var a=s,l=this.findMaxDept(a.getChildren(),n+1);r<l&&(r=l)}}return r},e.prototype.recursivelyCreateColumns=function(t,n,r,o,s,a){if(!t)return[];for(var l=new Array(t.length),u=0;u<l.length;u++){var c=t[u];this.isColumnGroup(c)?l[u]=this.createColumnGroup(r,c,n,o,s,a):l[u]=this.createColumn(r,c,o,s)}return l},e.prototype.createColumnGroup=function(t,n,r,o,s,a){var l=this.createMergedColGroupDef(n),u=s.getUniqueKey(l.groupId||null,null),c=new sn(l,u,!1,r);this.createBean(c);var d=this.findExistingGroup(n,a);d&&a.splice(d.idx,1);var h=d?.group;h&&c.setExpanded(h.isExpanded());var f=this.recursivelyCreateColumns(l.children,r+1,t,o,s,a);return c.setChildren(f),c},e.prototype.createMergedColGroupDef=function(t){var n={};return Object.assign(n,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(n,t),n},e.prototype.createColumn=function(t,n,r,o){var s=this.findExistingColumn(n,r);s&&r?.splice(s.idx,1);var a=s?.column;if(a){var u=this.addColumnDefaultAndTypes(n,a.getColId());a.setColDef(u,n),this.applyColumnState(a,u)}else{var l=o.getUniqueKey(n.colId,n.field),u=this.addColumnDefaultAndTypes(n,l);a=new Tt(u,n,l,t),this.context.createBean(a)}return this.dataTypeService.addColumnListeners(a),a},e.prototype.applyColumnState=function(t,n){var r=xl(n.flex);r!==void 0&&t.setFlex(r);var o=t.getFlex()<=0;if(o){var s=xl(n.width);if(s!=null)t.setActualWidth(s);else{var a=t.getActualWidth();t.setActualWidth(a)}}n.sort!==void 0&&(n.sort=="asc"||n.sort=="desc"?t.setSort(n.sort):t.setSort(void 0));var l=xl(n.sortIndex);l!==void 0&&t.setSortIndex(l);var u=kw(n.hide);u!==void 0&&t.setVisible(!u),n.pinned!==void 0&&t.setPinned(n.pinned)},e.prototype.findExistingColumn=function(t,n){if(n)for(var r=0;r<n.length;r++){var o=n[r].getUserProvidedColDef();if(o){var s=t.colId!=null;if(s){if(n[r].getId()===t.colId)return{idx:r,column:n[r]};continue}var a=t.field!=null;if(a){if(o.field===t.field)return{idx:r,column:n[r]};continue}if(o===t)return{idx:r,column:n[r]}}}},e.prototype.findExistingGroup=function(t,n){var r=t.groupId!=null;if(r)for(var o=0;o<n.length;o++){var s=n[o],a=s.getColGroupDef();if(a&&s.getId()===t.groupId)return{idx:o,group:s}}},e.prototype.addColumnDefaultAndTypes=function(t,n){var r={},o=this.gridOptionsService.get("defaultColDef");Dr(r,o,!1,!0);var s=this.dataTypeService.updateColDefAndGetColumnType(r,t,n);s&&this.assignColumnTypes(s,r),Dr(r,t,!1,!0);var a=this.gridOptionsService.get("autoGroupColumnDef"),l=this.gridOptionsService.isColumnsSortingCoupledToGroup();return t.rowGroup&&a&&l&&Dr(r,{sort:a.sort,initialSort:a.initialSort},!1,!0),this.dataTypeService.validateColDef(r),r},e.prototype.assignColumnTypes=function(t,n){if(t.length){var r=Object.assign({},ble),o=this.gridOptionsService.get("columnTypes")||{};fi(o,function(s,a){if(s in r)console.warn("AG Grid: the column type '".concat(s,"' is a default column type and cannot be overridden."));else{var l=a;l.type&&Ae("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),r[s]=a}}),t.forEach(function(s){var a=r[s.trim()];a?Dr(n,a,!1,!0):console.warn("AG Grid: colDef.type '"+s+"' does not correspond to defined gridOptions.columnTypes")})}},e.prototype.isColumnGroup=function(t){return t.children!==void 0},cw([_("columnUtils")],e.prototype,"columnUtils",void 0),cw([_("dataTypeService")],e.prototype,"dataTypeService",void 0),cw([Fle(0,to("loggerFactory"))],e.prototype,"setBeans",null),e=cw([ne("columnFactory")],e),e}(Y),Lle=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},On=function(){function i(e,t,n,r){this.displayedChildren=[],this.localEventService=new Pl,this.groupId=t,this.partId=n,this.providedColumnGroup=e,this.pinned=r}return i.createUniqueId=function(e,t){return e+"_"+t},i.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},i.prototype.getParent=function(){return this.parent},i.prototype.setParent=function(e){this.parent=e},i.prototype.getUniqueId=function(){return i.createUniqueId(this.groupId,this.partId)},i.prototype.isEmptyGroup=function(){return this.displayedChildren.length===0},i.prototype.isMoving=function(){var e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(function(t){return t.isMoving()})},i.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(r){r instanceof i&&r.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsService.get("enableRtl")){var e=dt(this.displayedChildren),t=e.getLeft();this.setLeft(t)}else{var n=this.displayedChildren[0].getLeft();this.setLeft(n)}else this.setLeft(null)},i.prototype.getLeft=function(){return this.left},i.prototype.getOldLeft=function(){return this.oldLeft},i.prototype.setLeft=function(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.localEventService.dispatchEvent(this.createAgEvent(i.EVENT_LEFT_CHANGED)))},i.prototype.getPinned=function(){return this.pinned},i.prototype.createAgEvent=function(e){return{type:e}},i.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},i.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},i.prototype.getGroupId=function(){return this.groupId},i.prototype.getPartId=function(){return this.partId},i.prototype.isChildInThisGroupDeepSearch=function(e){var t=!1;return this.children.forEach(function(n){e===n&&(t=!0),n instanceof i&&n.isChildInThisGroupDeepSearch(e)&&(t=!0)}),t},i.prototype.getActualWidth=function(){var e=0;return this.displayedChildren&&this.displayedChildren.forEach(function(t){e+=t.getActualWidth()}),e},i.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var e=!1;return this.displayedChildren.forEach(function(t){t.isResizable()&&(e=!0)}),e},i.prototype.getMinWidth=function(){var e=0;return this.displayedChildren.forEach(function(t){e+=t.getMinWidth()||0}),e},i.prototype.addChild=function(e){this.children||(this.children=[]),this.children.push(e)},i.prototype.getDisplayedChildren=function(){return this.displayedChildren},i.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},i.prototype.getDisplayedLeafColumns=function(){var e=[];return this.addDisplayedLeafColumns(e),e},i.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},i.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},i.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},i.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},i.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},i.prototype.setExpanded=function(e){this.providedColumnGroup.setExpanded(e)},i.prototype.addDisplayedLeafColumns=function(e){this.displayedChildren.forEach(function(t){t instanceof Tt?e.push(t):t instanceof i&&t.addDisplayedLeafColumns(e)})},i.prototype.addLeafColumns=function(e){this.children.forEach(function(t){t instanceof Tt?e.push(t):t instanceof i&&t.addLeafColumns(e)})},i.prototype.getChildren=function(){return this.children},i.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},i.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},i.prototype.getPaddingLevel=function(){var e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()},i.prototype.calculateDisplayedColumns=function(){var e=this;this.displayedChildren=[];for(var t=this;t!=null&&t.isPadding();)t=t.getParent();var n=t?t.providedColumnGroup.isExpandable():!1;if(!n){this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(i.EVENT_DISPLAYED_CHILDREN_CHANGED));return}this.children.forEach(function(r){var o=r instanceof i&&(!r.displayedChildren||!r.displayedChildren.length);if(!o){var s=r.getColumnGroupShow();switch(s){case"open":t.providedColumnGroup.isExpanded()&&e.displayedChildren.push(r);break;case"closed":t.providedColumnGroup.isExpanded()||e.displayedChildren.push(r);break;default:e.displayedChildren.push(r);break}}}),this.localEventService.dispatchEvent(this.createAgEvent(i.EVENT_DISPLAYED_CHILDREN_CHANGED))},i.EVENT_LEFT_CHANGED="leftChanged",i.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",Lle([_("gridOptionsService")],i.prototype,"gridOptionsService",void 0),i}(),w=function(){function i(){}return i.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",i.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",i.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",i.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",i.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",i.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",i.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",i.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",i.EVENT_COLUMN_MOVED="columnMoved",i.EVENT_COLUMN_VISIBLE="columnVisible",i.EVENT_COLUMN_PINNED="columnPinned",i.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",i.EVENT_COLUMN_RESIZED="columnResized",i.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",i.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED="suppressMovableColumns",i.EVENT_SUPPRESS_MENU_HIDE_CHANGED="suppressMenuHide",i.EVENT_SUPPRESS_FIELD_DOT_NOTATION="suppressFieldDotNotation",i.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",i.EVENT_COLUMN_HEADER_MOUSE_OVER="columnHeaderMouseOver",i.EVENT_COLUMN_HEADER_MOUSE_LEAVE="columnHeaderMouseLeave",i.EVENT_COLUMN_HEADER_CLICKED="columnHeaderClicked",i.EVENT_COLUMN_HEADER_CONTEXT_MENU="columnHeaderContextMenu",i.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",i.EVENT_ROW_GROUP_OPENED="rowGroupOpened",i.EVENT_ROW_DATA_UPDATED="rowDataUpdated",i.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",i.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",i.EVENT_CHART_CREATED="chartCreated",i.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",i.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",i.EVENT_CHART_DESTROYED="chartDestroyed",i.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",i.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",i.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",i.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",i.EVENT_MODEL_UPDATED="modelUpdated",i.EVENT_CUT_START="cutStart",i.EVENT_CUT_END="cutEnd",i.EVENT_PASTE_START="pasteStart",i.EVENT_PASTE_END="pasteEnd",i.EVENT_FILL_START="fillStart",i.EVENT_FILL_END="fillEnd",i.EVENT_RANGE_DELETE_START="rangeDeleteStart",i.EVENT_RANGE_DELETE_END="rangeDeleteEnd",i.EVENT_UNDO_STARTED="undoStarted",i.EVENT_UNDO_ENDED="undoEnded",i.EVENT_REDO_STARTED="redoStarted",i.EVENT_REDO_ENDED="redoEnded",i.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",i.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",i.EVENT_CELL_CLICKED="cellClicked",i.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",i.EVENT_CELL_MOUSE_DOWN="cellMouseDown",i.EVENT_CELL_CONTEXT_MENU="cellContextMenu",i.EVENT_CELL_VALUE_CHANGED="cellValueChanged",i.EVENT_CELL_EDIT_REQUEST="cellEditRequest",i.EVENT_ROW_VALUE_CHANGED="rowValueChanged",i.EVENT_CELL_FOCUSED="cellFocused",i.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",i.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",i.EVENT_ROW_SELECTED="rowSelected",i.EVENT_SELECTION_CHANGED="selectionChanged",i.EVENT_TOOLTIP_SHOW="tooltipShow",i.EVENT_TOOLTIP_HIDE="tooltipHide",i.EVENT_CELL_KEY_DOWN="cellKeyDown",i.EVENT_CELL_MOUSE_OVER="cellMouseOver",i.EVENT_CELL_MOUSE_OUT="cellMouseOut",i.EVENT_FILTER_CHANGED="filterChanged",i.EVENT_FILTER_MODIFIED="filterModified",i.EVENT_FILTER_OPENED="filterOpened",i.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED="advancedFilterBuilderVisibleChanged",i.EVENT_SORT_CHANGED="sortChanged",i.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",i.EVENT_ROW_CLICKED="rowClicked",i.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",i.EVENT_GRID_READY="gridReady",i.EVENT_GRID_PRE_DESTROYED="gridPreDestroyed",i.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",i.EVENT_VIEWPORT_CHANGED="viewportChanged",i.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",i.EVENT_FIRST_DATA_RENDERED="firstDataRendered",i.EVENT_DRAG_STARTED="dragStarted",i.EVENT_DRAG_STOPPED="dragStopped",i.EVENT_CHECKBOX_CHANGED="checkboxChanged",i.EVENT_ROW_EDITING_STARTED="rowEditingStarted",i.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",i.EVENT_CELL_EDITING_STARTED="cellEditingStarted",i.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",i.EVENT_BODY_SCROLL="bodyScroll",i.EVENT_BODY_SCROLL_END="bodyScrollEnd",i.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",i.EVENT_PAGINATION_CHANGED="paginationChanged",i.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",i.EVENT_STORE_REFRESHED="storeRefreshed",i.EVENT_STATE_UPDATED="stateUpdated",i.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",i.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",i.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",i.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",i.EVENT_FLASH_CELLS="flashCells",i.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",i.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",i.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",i.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",i.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",i.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",i.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",i.EVENT_ROW_DRAG_ENTER="rowDragEnter",i.EVENT_ROW_DRAG_MOVE="rowDragMove",i.EVENT_ROW_DRAG_LEAVE="rowDragLeave",i.EVENT_ROW_DRAG_END="rowDragEnd",i.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",i.EVENT_POPUP_TO_FRONT="popupToFront",i.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",i.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",i.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",i.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",i.EVENT_STORE_UPDATED="storeUpdated",i.EVENT_FILTER_DESTROYED="filterDestroyed",i.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted",i.EVENT_ROW_COUNT_READY="rowCountReady",i.EVENT_ADVANCED_FILTER_ENABLED_CHANGED="advancedFilterEnabledChanged",i.EVENT_DATA_TYPES_INFERRED="dataTypesInferred",i.EVENT_FIELD_VALUE_CHANGED="fieldValueChanged",i.EVENT_FIELD_PICKER_VALUE_SELECTED="fieldPickerValueSelected",i.EVENT_SIDE_BAR_UPDATED="sideBarUpdated",i}(),xW=function(){function i(){this.existingIds={}}return i.prototype.getInstanceIdForKey=function(e){var t=this.existingIds[e],n;return typeof t!="number"?n=0:n=t+1,this.existingIds[e]=n,n},i}(),kle=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ex=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Eh="ag-Grid-AutoColumn",Vle=function(i){kle(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createAutoGroupColumns=function(t){var n=this,r=[],o=this.gridOptionsService.get("treeData"),s=this.gridOptionsService.isGroupMultiAutoColumn();return o&&s&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),s=!1),s?t.forEach(function(a,l){r.push(n.createOneAutoGroupColumn(a,l))}):r.push(this.createOneAutoGroupColumn()),r},e.prototype.updateAutoGroupColumns=function(t){var n=this;t.forEach(function(r,o){return n.updateOneAutoGroupColumn(r,o)})},e.prototype.createOneAutoGroupColumn=function(t,n){var r;t?r="".concat(Eh,"-").concat(t.getId()):r=Eh;var o=this.createAutoGroupColDef(r,t,n);o.colId=r;var s=new Tt(o,null,r,!0);return this.context.createBean(s),s},e.prototype.updateOneAutoGroupColumn=function(t,n){var r=t.getColDef(),o=typeof r.showRowGroup=="string"?r.showRowGroup:void 0,s=o!=null?this.columnModel.getPrimaryColumn(o):void 0,a=this.createAutoGroupColDef(t.getId(),s??void 0,n);t.setColDef(a,null),this.columnFactory.applyColumnState(t,a)},e.prototype.createAutoGroupColDef=function(t,n,r){var o=this.createBaseColDef(n),s=this.gridOptionsService.get("autoGroupColumnDef");if(Dr(o,s),o=this.columnFactory.addColumnDefaultAndTypes(o,t),!this.gridOptionsService.get("treeData")){var a=me(o.field)&&me(o.valueGetter)&&me(o.filterValueGetter)&&o.filter!=="agGroupColumnFilter";a&&(o.filter=!1)}r&&r>0&&(o.headerCheckboxSelection=!1);var l=this.gridOptionsService.isColumnsSortingCoupledToGroup(),u=o.valueGetter||o.field!=null;return l&&!u&&(o.sortIndex=void 0,o.initialSort=void 0),o},e.prototype.createBaseColDef=function(t){var n=this.gridOptionsService.get("autoGroupColumnDef"),r=this.localeService.getLocaleTextFunc(),o={headerName:r("group","Group")},s=n&&(n.cellRenderer||n.cellRendererSelector);if(s||(o.cellRenderer="agGroupCellRenderer"),t){var a=t.getColDef();Object.assign(o,{headerName:this.columnModel.getDisplayNameForColumn(t,"header"),headerValueGetter:a.headerValueGetter}),a.cellRenderer&&Object.assign(o,{cellRendererParams:{innerRenderer:a.cellRenderer,innerRendererParams:a.cellRendererParams}}),o.showRowGroup=t.getColId()}else o.showRowGroup=!0;return o},ex([_("columnModel")],e.prototype,"columnModel",void 0),ex([_("columnFactory")],e.prototype,"columnFactory",void 0),e=ex([ne("autoGroupColService")],e),e}(Y),Hle=/[&<>"']/g,Gle={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ble(i){var e=String.fromCharCode;function t(d){var h=[];if(!d)return[];for(var f=d.length,p=0,g,m;p<f;)g=d.charCodeAt(p++),g>=55296&&g<=56319&&p<f?(m=d.charCodeAt(p++),(m&64512)==56320?h.push(((g&1023)<<10)+(m&1023)+65536):(h.push(g),p--)):h.push(g);return h}function n(d){if(d>=55296&&d<=57343)throw Error("Lone surrogate U+"+d.toString(16).toUpperCase()+" is not a scalar value")}function r(d,h){return e(d>>h&63|128)}function o(d){if(d>=0&&d<=31&&d!==10){var h=d.toString(16).toUpperCase(),f=h.padStart(4,"0");return"_x".concat(f,"_")}if(!(d&4294967168))return e(d);var p="";return d&4294965248?d&4294901760?d&4292870144||(p=e(d>>18&7|240),p+=r(d,12),p+=r(d,6)):(n(d),p=e(d>>12&15|224),p+=r(d,6)):p=e(d>>6&31|192),p+=e(d&63|128),p}for(var s=t(i),a=s.length,l=-1,u,c="";++l<a;)u=s[l],c+=o(u);return c}function jle(i){return i[0].toUpperCase()+i.substring(1).toLowerCase()}function Cn(i,e){if(i==null)return null;var t=i.toString().toString();return e?t:t.replace(Hle,function(n){return Gle[n]})}function MW(i){if(!i||i==null)return null;var e=/([a-z])([A-Z])/g,t=/([A-Z]+)([A-Z])([a-z])/g,n=i.replace(e,"$1 $2").replace(t,"$1 $2$3").replace(/\./g," ").split(" ");return n.map(function(r){return r.substring(0,1).toUpperCase()+(r.length>1?r.substring(1,r.length):"")}).join(" ")}function IW(i){return i.replace(/[A-Z]/g,function(e){return"-".concat(e.toLocaleLowerCase())})}var Ule=Object.freeze({__proto__:null,utf8_encode:Ble,capitalise:jle,escapeString:Cn,camelCaseToHumanText:MW,camelCaseToHyphenated:IW});function Al(i){var e=new Map;return i.forEach(function(t){return e.set(t[0],t[1])}),e}function Wle(i,e){var t=new Map;return i.forEach(function(n){return t.set(e(n),n)}),t}function zle(i){var e=[];return i.forEach(function(t,n){return e.push(n)}),e}var $le=Object.freeze({__proto__:null,convertToMap:Al,mapById:Wle,keys:zle}),qle=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ii=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Yle=function(i,e){return function(t,n){e(t,n,i)}},Kle=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t},vr=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},yr=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},tx=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qle=function(i){qle(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.primaryHeaderRowCount=0,t.secondaryHeaderRowCount=0,t.gridHeaderRowCount=0,t.displayedColumnsLeft=[],t.displayedColumnsRight=[],t.displayedColumnsCenter=[],t.displayedColumns=[],t.displayedColumnsAndGroupsMap={},t.viewportColumns=[],t.viewportColumnsHash="",t.headerViewportColumns=[],t.viewportColumnsCenter=[],t.headerViewportColumnsCenter=[],t.viewportRowLeft={},t.viewportRowRight={},t.viewportRowCenter={},t.autoHeightActiveAtLeastOnce=!1,t.rowGroupColumns=[],t.valueColumns=[],t.pivotColumns=[],t.ready=!1,t.autoGroupsNeedBuilding=!1,t.forceRecreateAutoGroups=!1,t.pivotMode=!1,t.bodyWidth=0,t.leftWidth=0,t.rightWidth=0,t.bodyWidthDirty=!0,t.shouldQueueResizeOperations=!1,t.resizeOperationQueue=[],t}return e.prototype.init=function(){var t=this;this.suppressColumnVirtualisation=this.gridOptionsService.get("suppressColumnVirtualisation");var n=this.gridOptionsService.get("pivotMode");this.isPivotSettingAllowed(n)&&(this.pivotMode=n),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],function(){return t.buildAutoGroupColumns()}),this.addManagedPropertyListener("autoGroupColumnDef",function(){return t.onAutoGroupColumnDefChanged()}),this.addManagedPropertyListeners(["defaultColDef","columnTypes","suppressFieldDotNotation"],function(r){return t.onSharedColDefChanged(r.source)}),this.addManagedPropertyListener("pivotMode",function(r){return t.setPivotMode(t.gridOptionsService.get("pivotMode"),r.source)}),this.addManagedListener(this.eventService,w.EVENT_FIRST_DATA_RENDERED,function(){return t.onFirstDataRendered()})},e.prototype.buildAutoGroupColumns=function(){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged"))},e.prototype.onAutoGroupColumnDefChanged=function(){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns)},e.prototype.onSharedColDefChanged=function(t){t===void 0&&(t="api"),this.gridColumns&&(this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns),this.createColumnsFromColumnDefs(!0,t))},e.prototype.setColumnDefs=function(t,n){n===void 0&&(n="api");var r=!!this.columnDefs;this.columnDefs=t,this.createColumnsFromColumnDefs(r,n)},e.prototype.recreateColumnDefs=function(t){t===void 0&&(t="api"),this.onSharedColDefChanged(t)},e.prototype.destroyOldColumns=function(t,n){var r={};if(t){this.columnUtils.depthFirstOriginalTreeSearch(null,t,function(s){r[s.getInstanceId()]=s}),n&&this.columnUtils.depthFirstOriginalTreeSearch(null,n,function(s){r[s.getInstanceId()]=null});var o=Object.values(r).filter(function(s){return s!=null});this.destroyBeans(o)}},e.prototype.destroyColumns=function(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)},e.prototype.createColumnsFromColumnDefs=function(t,n){var r=this;n===void 0&&(n="api");var o=t?this.compareColumnStatesAndDispatchEvents(n):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var s=this.primaryColumns,a=this.primaryColumnTree,l=this.columnFactory.createColumnTree(this.columnDefs,!0,a);this.destroyOldColumns(this.primaryColumnTree,l.columnTree),this.primaryColumnTree=l.columnTree,this.primaryHeaderRowCount=l.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(d){return r.primaryColumnsMap[d.getId()]=d}),this.extractRowGroupColumns(n,s),this.extractPivotColumns(n,s),this.extractValueColumns(n,s),this.ready=!0;var u=this.gridColsArePrimary===void 0,c=this.gridColsArePrimary||u||this.autoGroupsNeedBuilding;c&&(this.updateGridColumns(),t&&this.gridColsArePrimary&&!this.gridOptionsService.get("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(n),this.checkViewportColumns()),this.dispatchEverythingChanged(n),o&&o(),this.dispatchNewColumnsLoaded(n)},e.prototype.dispatchNewColumnsLoaded=function(t){var n={type:w.EVENT_NEW_COLUMNS_LOADED,source:t};this.eventService.dispatchEvent(n),t==="gridInitializing"&&this.onColumnsReady()},e.prototype.dispatchEverythingChanged=function(t){t===void 0&&(t="api");var n={type:w.EVENT_COLUMN_EVERYTHING_CHANGED,source:t};this.eventService.dispatchEvent(n)},e.prototype.orderGridColumnsLikePrimary=function(){var t=this,n=this.primaryColumns;if(n){var r=n.filter(function(s){return t.gridColumns.indexOf(s)>=0}),o=this.gridColumns.filter(function(s){return r.indexOf(s)<0});this.gridColumns=yr(yr([],vr(o),!1),vr(r),!1),this.gridColumns=this.placeLockedColumns(this.gridColumns)}},e.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},e.prototype.setViewport=function(){this.gridOptionsService.get("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},e.prototype.getDisplayedColumnsStartingAt=function(t){for(var n=t,r=[];n!=null;)r.push(n),n=this.getDisplayedColAfter(n);return r},e.prototype.checkViewportColumns=function(t){if(t===void 0&&(t=!1),this.displayedColumnsCenter!=null){var n=this.extractViewport();if(n){var r={type:w.EVENT_VIRTUAL_COLUMNS_CHANGED,afterScroll:t};this.eventService.dispatchEvent(r)}}},e.prototype.setViewportPosition=function(t,n,r){r===void 0&&(r=!1),(t!==this.scrollWidth||n!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=t,this.scrollPosition=n,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns(r))},e.prototype.isPivotMode=function(){return this.pivotMode},e.prototype.isPivotSettingAllowed=function(t){return t&&this.gridOptionsService.get("treeData")?(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1):!0},e.prototype.setPivotMode=function(t,n){if(n===void 0&&(n="api"),!(t===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode))&&(this.pivotMode=t,!!this.gridColumns)){this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(n);var r={type:w.EVENT_COLUMN_PIVOT_MODE_CHANGED};this.eventService.dispatchEvent(r)}},e.prototype.getSecondaryPivotColumn=function(t,n){if(me(this.secondaryColumns))return null;var r=this.getPrimaryColumn(n),o=null;return this.secondaryColumns.forEach(function(s){var a=s.getColDef().pivotKeys,l=s.getColDef().pivotValueColumn,u=fa(a,t),c=l===r;u&&c&&(o=s)}),o},e.prototype.setBeans=function(t){this.logger=t.create("columnModel")},e.prototype.setFirstRightAndLastLeftPinned=function(t){var n,r;this.gridOptionsService.get("enableRtl")?(n=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,r=this.displayedColumnsRight?dt(this.displayedColumnsRight):null):(n=this.displayedColumnsLeft?dt(this.displayedColumnsLeft):null,r=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(o){o.setLastLeftPinned(o===n,t),o.setFirstRightPinned(o===r,t)})},e.prototype.autoSizeColumns=function(t){var n=this;if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return n.autoSizeColumns(t)});return}var r=t.columns,o=t.skipHeader,s=t.skipHeaderGroups,a=t.stopAtGroup,l=t.source,u=l===void 0?"api":l;this.animationFrameService.flushAllFrames();for(var c=[],d=-1,h=o??this.gridOptionsService.get("skipHeaderOnAutoSize"),f=s??h;d!==0;)d=0,this.actionOnGridColumns(r,function(p){if(c.indexOf(p)>=0)return!1;var g=n.autoWidthCalculator.getPreferredWidthForColumn(p,h);if(g>0){var m=n.normaliseColumnWidth(p,g);p.setActualWidth(m,u),c.push(p),d++}return!0},u);f||this.autoSizeColumnGroupsByColumns(r,u,a),this.dispatchColumnResizedEvent(c,!0,"autosizeColumns")},e.prototype.dispatchColumnResizedEvent=function(t,n,r,o){if(o===void 0&&(o=null),t&&t.length){var s={type:w.EVENT_COLUMN_RESIZED,columns:t,column:t.length===1?t[0]:null,flexColumns:o,finished:n,source:r};this.eventService.dispatchEvent(s)}},e.prototype.dispatchColumnChangedEvent=function(t,n,r){var o={type:t,columns:n,column:n&&n.length==1?n[0]:null,source:r};this.eventService.dispatchEvent(o)},e.prototype.dispatchColumnMovedEvent=function(t){var n=t.movedColumns,r=t.source,o=t.toIndex,s=t.finished,a={type:w.EVENT_COLUMN_MOVED,columns:n,column:n&&n.length===1?n[0]:null,toIndex:o,finished:s,source:r};this.eventService.dispatchEvent(a)},e.prototype.dispatchColumnPinnedEvent=function(t,n){if(t.length){var r=t.length===1?t[0]:null,o=this.getCommonValue(t,function(a){return a.getPinned()}),s={type:w.EVENT_COLUMN_PINNED,pinned:o??null,columns:t,column:r,source:n};this.eventService.dispatchEvent(s)}},e.prototype.dispatchColumnVisibleEvent=function(t,n){if(t.length){var r=t.length===1?t[0]:null,o=this.getCommonValue(t,function(a){return a.isVisible()}),s={type:w.EVENT_COLUMN_VISIBLE,visible:o,columns:t,column:r,source:n};this.eventService.dispatchEvent(s)}},e.prototype.autoSizeColumn=function(t,n,r){r===void 0&&(r="api"),t&&this.autoSizeColumns({columns:[t],skipHeader:n,skipHeaderGroups:!0,source:r})},e.prototype.autoSizeColumnGroupsByColumns=function(t,n,r){var o,s,a,l,u=new Set,c=this.getGridColumns(t);c.forEach(function(C){for(var S=C.getParent();S&&S!=r;)S.isPadding()||u.add(S),S=S.getParent()});var d,h=[];try{for(var f=tx(u),p=f.next();!p.done;p=f.next()){var g=p.value;try{for(var m=(a=void 0,tx(this.ctrlsService.getHeaderRowContainerCtrls())),v=m.next();!v.done;v=m.next()){var y=v.value;if(d=y.getHeaderCtrlForColumn(g),d)break}}catch(C){a={error:C}}finally{try{v&&!v.done&&(l=m.return)&&l.call(m)}finally{if(a)throw a.error}}d&&d.resizeLeafColumnsToFit(n)}}catch(C){o={error:C}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(o)throw o.error}}return h},e.prototype.autoSizeAllColumns=function(t,n){var r=this;if(n===void 0&&(n="api"),this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return r.autoSizeAllColumns(t,n)});return}var o=this.getAllDisplayedColumns();this.autoSizeColumns({columns:o,skipHeader:t,source:n})},e.prototype.getColumnsFromTree=function(t){var n=[],r=function(o){for(var s=0;s<o.length;s++){var a=o[s];a instanceof Tt?n.push(a):a instanceof sn&&r(a.getChildren())}};return r(t),n},e.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},e.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},e.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},e.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},e.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},e.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},e.prototype.isColumnDisplayed=function(t){return this.getAllDisplayedColumns().indexOf(t)>=0},e.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},e.prototype.getViewportColumns=function(){return this.viewportColumns},e.prototype.getDisplayedLeftColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsLeft):this.displayedColumnsLeft},e.prototype.getDisplayedRightColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsRight):this.displayedColumnsRight},e.prototype.isColSpanActive=function(){return this.colSpanActive},e.prototype.getDisplayedColumnsForRow=function(t,n,r,o){for(var s=[],a=null,l=function(d){var h=n[d],f=n.length-d,p=Math.min(h.getColSpan(t),f),g=[h];if(p>1){for(var m=p-1,v=1;v<=m;v++)g.push(n[d+v]);d+=m}var y;if(r?(y=!1,g.forEach(function(S){r(S)&&(y=!0)})):y=!0,y){if(s.length===0&&a){var C=o?o(h):!1;C&&s.push(a)}s.push(h)}a=h,u=d},u,c=0;c<n.length;c++)l(c),c=u;return s},e.prototype.getViewportCenterColumnsForRow=function(t){var n=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var r=function(s){var a=s.getLeft();return W(a)&&a>n.viewportLeft},o=this.suppressColumnVirtualisation?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(t,this.displayedColumnsCenter,o,r)},e.prototype.isColumnAtEdge=function(t,n){var r=this.getAllDisplayedColumns();if(!r.length)return!1;var o=n==="first",s;if(t instanceof On){var a=t.getDisplayedLeafColumns();if(!a.length)return!1;s=o?a[0]:dt(a)}else s=t;return(o?r[0]:dt(r))===s},e.prototype.getAriaColumnIndex=function(t){var n;return t instanceof On?n=t.getLeafColumns()[0]:n=t,this.ariaOrderColumns.indexOf(n)+1},e.prototype.isColumnInHeaderViewport=function(t){return t.isAutoHeaderHeight()?!0:this.isColumnInRowViewport(t)},e.prototype.isColumnInRowViewport=function(t){if(t.isAutoHeight()||this.viewportRight===0)return!0;var n=t.getLeft()||0,r=n+t.getActualWidth(),o=this.viewportLeft-200,s=this.viewportRight+200,a=n<o&&r<o,l=n>s&&r>s;return!a&&!l},e.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},e.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},e.prototype.updatePrimaryColumnList=function(t,n,r,o,s,a){var l=this;if(a===void 0&&(a="api"),!(!t||Er(t))){var u=!1;if(t.forEach(function(d){var h=l.getPrimaryColumn(d);if(h){if(r){if(n.indexOf(h)>=0)return;n.push(h)}else{if(n.indexOf(h)<0)return;br(n,h)}o(h),u=!0}}),!!u){this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(a);var c={type:s,columns:n,column:n.length===1?n[0]:null,source:a};this.eventService.dispatchEvent(c)}}},e.prototype.setRowGroupColumns=function(t,n){n===void 0&&(n="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(t,this.rowGroupColumns,w.EVENT_COLUMN_ROW_GROUP_CHANGED,!0,this.setRowGroupActive.bind(this),n)},e.prototype.setRowGroupActive=function(t,n,r){t!==n.isRowGroupActive()&&(n.setRowGroupActive(t,r),t&&!this.gridOptionsService.get("suppressRowGroupHidesColumns")&&this.setColumnVisible(n,!1,r),!t&&!this.gridOptionsService.get("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnVisible(n,!0,r))},e.prototype.addRowGroupColumn=function(t,n){n===void 0&&(n="api"),t&&this.addRowGroupColumns([t],n)},e.prototype.addRowGroupColumns=function(t,n){n===void 0&&(n="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),w.EVENT_COLUMN_ROW_GROUP_CHANGED,n)},e.prototype.removeRowGroupColumns=function(t,n){n===void 0&&(n="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),w.EVENT_COLUMN_ROW_GROUP_CHANGED,n)},e.prototype.removeRowGroupColumn=function(t,n){n===void 0&&(n="api"),t&&this.removeRowGroupColumns([t],n)},e.prototype.addPivotColumns=function(t,n){n===void 0&&(n="api"),this.updatePrimaryColumnList(t,this.pivotColumns,!0,function(r){return r.setPivotActive(!0,n)},w.EVENT_COLUMN_PIVOT_CHANGED,n)},e.prototype.setPivotColumns=function(t,n){n===void 0&&(n="api"),this.setPrimaryColumnList(t,this.pivotColumns,w.EVENT_COLUMN_PIVOT_CHANGED,!0,function(r,o){o.setPivotActive(r,n)},n)},e.prototype.addPivotColumn=function(t,n){n===void 0&&(n="api"),this.addPivotColumns([t],n)},e.prototype.removePivotColumns=function(t,n){n===void 0&&(n="api"),this.updatePrimaryColumnList(t,this.pivotColumns,!1,function(r){return r.setPivotActive(!1,n)},w.EVENT_COLUMN_PIVOT_CHANGED,n)},e.prototype.removePivotColumn=function(t,n){n===void 0&&(n="api"),this.removePivotColumns([t],n)},e.prototype.setPrimaryColumnList=function(t,n,r,o,s,a){var l=this;if(this.gridColumns){var u=new Map;n.forEach(function(c,d){return u.set(c,d)}),n.length=0,W(t)&&t.forEach(function(c){var d=l.getPrimaryColumn(c);d&&n.push(d)}),n.forEach(function(c,d){var h=u.get(c);if(h===void 0){u.set(c,0);return}o&&h!==d||u.delete(c)}),(this.primaryColumns||[]).forEach(function(c){var d=n.indexOf(c)>=0;s(d,c)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(a),this.dispatchColumnChangedEvent(r,yr([],vr(u.keys()),!1),a)}},e.prototype.setValueColumns=function(t,n){n===void 0&&(n="api"),this.setPrimaryColumnList(t,this.valueColumns,w.EVENT_COLUMN_VALUE_CHANGED,!1,this.setValueActive.bind(this),n)},e.prototype.setValueActive=function(t,n,r){if(t!==n.isValueActive()&&(n.setValueActive(t,r),t&&!n.getAggFunc())){var o=this.aggFuncService.getDefaultAggFunc(n);n.setAggFunc(o)}},e.prototype.addValueColumns=function(t,n){n===void 0&&(n="api"),this.updatePrimaryColumnList(t,this.valueColumns,!0,this.setValueActive.bind(this,!0),w.EVENT_COLUMN_VALUE_CHANGED,n)},e.prototype.addValueColumn=function(t,n){n===void 0&&(n="api"),t&&this.addValueColumns([t],n)},e.prototype.removeValueColumn=function(t,n){n===void 0&&(n="api"),this.removeValueColumns([t],n)},e.prototype.removeValueColumns=function(t,n){n===void 0&&(n="api"),this.updatePrimaryColumnList(t,this.valueColumns,!1,this.setValueActive.bind(this,!1),w.EVENT_COLUMN_VALUE_CHANGED,n)},e.prototype.normaliseColumnWidth=function(t,n){var r=t.getMinWidth();W(r)&&n<r&&(n=r);var o=t.getMaxWidth();return W(o)&&t.isGreaterThanMax(n)&&(n=o),n},e.prototype.getPrimaryOrGridColumn=function(t){var n=this.getPrimaryColumn(t);return n||this.getGridColumn(t)},e.prototype.setColumnWidths=function(t,n,r,o){var s=this;o===void 0&&(o="api");var a=[];t.forEach(function(l){var u=s.getPrimaryOrGridColumn(l.key);if(u){a.push({width:l.newWidth,ratios:[1],columns:[u]});var c=s.gridOptionsService.get("colResizeDefault")==="shift";if(c&&(n=!n),n){var d=s.getDisplayedColAfter(u);if(!d)return;var h=u.getActualWidth()-l.newWidth,f=d.getActualWidth()+h;a.push({width:f,ratios:[1],columns:[d]})}}}),a.length!==0&&this.resizeColumnSets({resizeSets:a,finished:r,source:o})},e.prototype.checkMinAndMaxWidthsForSet=function(t){var n=t.columns,r=t.width,o=0,s=0,a=!0;n.forEach(function(c){var d=c.getMinWidth();o+=d||0;var h=c.getMaxWidth();W(h)&&h>0?s+=h:a=!1});var l=r>=o,u=!a||r<=s;return l&&u},e.prototype.resizeColumnSets=function(t){var n=this,r=t.resizeSets,o=t.finished,s=t.source,a=!r||r.every(function(p){return n.checkMinAndMaxWidthsForSet(p)});if(!a){if(o){var l=r&&r.length>0?r[0].columns:null;this.dispatchColumnResizedEvent(l,o,s)}return}var u=[],c=[];r.forEach(function(p){var g=p.width,m=p.columns,v=p.ratios,y={},C={};m.forEach(function(R){return c.push(R)});for(var S=!0,E=0,T=function(){if(E++,E>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";S=!1;var R=[],M=0,H=g;m.forEach(function(X,ce){var Me=C[X.getId()];if(Me)H-=y[X.getId()];else{R.push(X);var ae=v[ce];M+=ae}});var V=1/M;R.forEach(function(X,ce){var Me=ce===R.length-1,ae;Me?ae=H:(ae=Math.round(v[ce]*g*V),H-=ae);var q=X.getMinWidth(),$=X.getMaxWidth();W(q)&&ae<q?(ae=q,C[X.getId()]=!0,S=!0):W($)&&$>0&&ae>$&&(ae=$,C[X.getId()]=!0,S=!0),y[X.getId()]=ae})};S;){var O=T();if(O==="break")break}m.forEach(function(R){var M=y[R.getId()],H=R.getActualWidth();H!==M&&(R.setActualWidth(M,s),u.push(R))})});var d=u.length>0,h=[];d&&(h=this.refreshFlexedColumns({resizingCols:c,skipSetLeft:!0}),this.setLeftValues(s),this.updateBodyWidths(),this.checkViewportColumns());var f=c.concat(h);(d||o)&&this.dispatchColumnResizedEvent(f,o,s,h)},e.prototype.setColumnAggFunc=function(t,n,r){if(r===void 0&&(r="api"),!!t){var o=this.getPrimaryColumn(t);o&&(o.setAggFunc(n),this.dispatchColumnChangedEvent(w.EVENT_COLUMN_VALUE_CHANGED,[o],r))}},e.prototype.moveRowGroupColumn=function(t,n,r){if(r===void 0&&(r="api"),!this.isRowGroupEmpty()){var o=this.rowGroupColumns[t],s=this.rowGroupColumns.slice(t,n);this.rowGroupColumns.splice(t,1),this.rowGroupColumns.splice(n,0,o);var a={type:w.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:s,column:s.length===1?s[0]:null,source:r};this.eventService.dispatchEvent(a)}},e.prototype.moveColumns=function(t,n,r,o){if(r===void 0&&(r="api"),o===void 0&&(o=!0),!!this.gridColumns){if(this.columnAnimationService.start(),n>this.gridColumns.length-t.length){console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+n),console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");return}var s=this.getGridColumns(t),a=!this.doesMovePassRules(s,n);a||(tM(this.gridColumns,s,n),this.updateDisplayedColumns(r),this.dispatchColumnMovedEvent({movedColumns:s,source:r,toIndex:n,finished:o}),this.columnAnimationService.finish())}},e.prototype.doesMovePassRules=function(t,n){var r=this.getProposedColumnOrder(t,n);return this.doesOrderPassRules(r)},e.prototype.doesOrderPassRules=function(t){return!(!this.doesMovePassMarryChildren(t)||!this.doesMovePassLockedPositions(t))},e.prototype.getProposedColumnOrder=function(t,n){var r=this.gridColumns.slice();return tM(r,t,n),r},e.prototype.sortColumnsLikeGridColumns=function(t){var n=this;if(!(!t||t.length<=1)){var r=t.filter(function(o){return n.gridColumns.indexOf(o)<0}).length>0;r||t.sort(function(o,s){var a=n.gridColumns.indexOf(o),l=n.gridColumns.indexOf(s);return a-l})}},e.prototype.doesMovePassLockedPositions=function(t){var n=0,r=!0,o=function(s){return s?s===!0||s==="left"?0:2:1};return t.forEach(function(s){var a=o(s.getColDef().lockPosition);a<n&&(r=!1),n=a}),r},e.prototype.doesMovePassMarryChildren=function(t){var n=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(r){if(r instanceof sn){var o=r,s=o.getColGroupDef(),a=s&&s.marryChildren;if(a){var l=[];o.getLeafColumns().forEach(function(f){var p=t.indexOf(f);l.push(p)});var u=Math.max.apply(Math,l),c=Math.min.apply(Math,l),d=u-c,h=o.getLeafColumns().length-1;d>h&&(n=!1)}}}),n},e.prototype.moveColumn=function(t,n,r){r===void 0&&(r="api"),this.moveColumns([t],n,r)},e.prototype.moveColumnByIndex=function(t,n,r){if(r===void 0&&(r="api"),!!this.gridColumns){var o=this.gridColumns[t];this.moveColumn(o,n,r)}},e.prototype.getColumnDefs=function(){var t=this;if(this.primaryColumns){var n=this.primaryColumns.slice();return this.gridColsArePrimary?n.sort(function(r,o){return t.gridColumns.indexOf(r)-t.gridColumns.indexOf(o)}):this.lastPrimaryOrder&&n.sort(function(r,o){return t.lastPrimaryOrder.indexOf(r)-t.lastPrimaryOrder.indexOf(o)}),this.columnDefFactory.buildColumnDefs(n,this.rowGroupColumns,this.pivotColumns)}},e.prototype.getBodyContainerWidth=function(){return this.bodyWidth},e.prototype.getContainerWidth=function(t){switch(t){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}},e.prototype.updateBodyWidths=function(){var t=this.getWidthOfColsInList(this.displayedColumnsCenter),n=this.getWidthOfColsInList(this.displayedColumnsLeft),r=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==t;var o=this.bodyWidth!==t||this.leftWidth!==n||this.rightWidth!==r;if(o){this.bodyWidth=t,this.leftWidth=n,this.rightWidth=r;var s={type:w.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED};this.eventService.dispatchEvent(s)}},e.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},e.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},e.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},e.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},e.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},e.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},e.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},e.prototype.getDisplayedColumns=function(t){switch(t){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},e.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},e.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},e.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},e.prototype.getAllGridColumns=function(){var t;return(t=this.gridColumns)!==null&&t!==void 0?t:[]},e.prototype.isEmpty=function(){return Er(this.gridColumns)},e.prototype.isRowGroupEmpty=function(){return Er(this.rowGroupColumns)},e.prototype.setColumnVisible=function(t,n,r){r===void 0&&(r="api"),this.setColumnsVisible([t],n,r)},e.prototype.setColumnsVisible=function(t,n,r){n===void 0&&(n=!1),r===void 0&&(r="api"),this.applyColumnState({state:t.map(function(o){return{colId:typeof o=="string"?o:o.getColId(),hide:!n}})},r)},e.prototype.setColumnPinned=function(t,n,r){r===void 0&&(r="api"),t&&this.setColumnsPinned([t],n,r)},e.prototype.setColumnsPinned=function(t,n,r){if(r===void 0&&(r="api"),!!this.gridColumns){if(this.gridOptionsService.isDomLayout("print")){console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();var o;n===!0||n==="left"?o="left":n==="right"?o="right":o=null,this.actionOnGridColumns(t,function(s){return s.getPinned()!==o?(s.setPinned(o),!0):!1},r,function(){var s={type:w.EVENT_COLUMN_PINNED,pinned:o,column:null,columns:null,source:r};return s}),this.columnAnimationService.finish()}},e.prototype.actionOnGridColumns=function(t,n,r,o){var s=this;if(!Er(t)){var a=[];if(t.forEach(function(u){var c=s.getGridColumn(u);if(c){var d=n(c);d!==!1&&a.push(c)}}),!!a.length&&(this.updateDisplayedColumns(r),W(o)&&o)){var l=o();l.columns=a,l.column=a.length===1?a[0]:null,this.eventService.dispatchEvent(l)}}},e.prototype.getDisplayedColBefore=function(t){var n=this.getAllDisplayedColumns(),r=n.indexOf(t);return r>0?n[r-1]:null},e.prototype.getDisplayedColAfter=function(t){var n=this.getAllDisplayedColumns(),r=n.indexOf(t);return r<n.length-1?n[r+1]:null},e.prototype.getDisplayedGroupAfter=function(t){return this.getDisplayedGroupAtDirection(t,"After")},e.prototype.getDisplayedGroupBefore=function(t){return this.getDisplayedGroupAtDirection(t,"Before")},e.prototype.getDisplayedGroupAtDirection=function(t,n){for(var r=t.getProvidedColumnGroup().getLevel()+t.getPaddingLevel(),o=t.getDisplayedLeafColumns(),s=n==="After"?dt(o):o[0],a="getDisplayedCol".concat(n);;){var l=this[a](s);if(!l)return null;var u=this.getColumnGroupAtLevel(l,r);if(u!==t)return u}},e.prototype.getColumnGroupAtLevel=function(t,n){for(var r=t.getParent(),o,s;;){var a=r.getProvidedColumnGroup();if(o=a.getLevel(),s=r.getPaddingLevel(),o+s<=n)break;r=r.getParent()}return r},e.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},e.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},e.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var t;return(t=[]).concat.apply(t,[this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]])},e.prototype.createStateItemFromColumn=function(t){var n=t.isRowGroupActive()?this.rowGroupColumns.indexOf(t):null,r=t.isPivotActive()?this.pivotColumns.indexOf(t):null,o=t.isValueActive()?t.getAggFunc():null,s=t.getSort()!=null?t.getSort():null,a=t.getSortIndex()!=null?t.getSortIndex():null,l=t.getFlex()!=null&&t.getFlex()>0?t.getFlex():null,u={colId:t.getColId(),width:t.getActualWidth(),hide:!t.isVisible(),pinned:t.getPinned(),sort:s,sortIndex:a,aggFunc:o,rowGroup:t.isRowGroupActive(),rowGroupIndex:n,pivot:t.isPivotActive(),pivotIndex:r,flex:l};return u},e.prototype.getColumnState=function(){if(me(this.primaryColumns)||!this.isAlive())return[];var t=this.getPrimaryAndSecondaryAndAutoColumns(),n=t.map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(n),n},e.prototype.orderColumnStateList=function(t){var n=Al(this.gridColumns.map(function(r,o){return[r.getColId(),o]}));t.sort(function(r,o){var s=n.has(r.colId)?n.get(r.colId):-1,a=n.has(o.colId)?n.get(o.colId):-1;return s-a})},e.prototype.resetColumnState=function(t){var n=this;if(t===void 0&&(t="api"),!Er(this.primaryColumns)){var r=this.getColumnsFromTree(this.primaryColumnTree),o=[],s=1e3,a=1e3,l=[];this.groupAutoColumns&&(l=l.concat(this.groupAutoColumns)),r&&(l=l.concat(r)),l.forEach(function(u){var c=n.getColumnStateFromColDef(u);me(c.rowGroupIndex)&&c.rowGroup&&(c.rowGroupIndex=s++),me(c.pivotIndex)&&c.pivot&&(c.pivotIndex=a++),o.push(c)}),this.applyColumnState({state:o,applyOrder:!0},t)}},e.prototype.getColumnStateFromColDef=function(t){var n=function(m,v){return m??v??null},r=t.getColDef(),o=n(r.sort,r.initialSort),s=n(r.sortIndex,r.initialSortIndex),a=n(r.hide,r.initialHide),l=n(r.pinned,r.initialPinned),u=n(r.width,r.initialWidth),c=n(r.flex,r.initialFlex),d=n(r.rowGroupIndex,r.initialRowGroupIndex),h=n(r.rowGroup,r.initialRowGroup);d==null&&(h==null||h==!1)&&(d=null,h=null);var f=n(r.pivotIndex,r.initialPivotIndex),p=n(r.pivot,r.initialPivot);f==null&&(p==null||p==!1)&&(f=null,p=null);var g=n(r.aggFunc,r.initialAggFunc);return{colId:t.getColId(),sort:o,sortIndex:s,hide:a,pinned:l,width:u,flex:c,rowGroup:h,rowGroupIndex:d,pivot:p,pivotIndex:f,aggFunc:g}},e.prototype.applyColumnState=function(t,n){var r=this;if(Er(this.primaryColumns))return!1;if(t&&t.state&&!t.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var o=function(u,c,d){var h=r.compareColumnStatesAndDispatchEvents(n);r.autoGroupsNeedBuilding=!0;var f=c.slice(),p={},g={},m=[],v=[],y=0,C=r.rowGroupColumns.slice(),S=r.pivotColumns.slice();u.forEach(function(R){var M=R.colId||"",H=M.startsWith(Eh);if(H){m.push(R),v.push(R);return}var V=d(M);V?(r.syncColumnWithStateItem(V,R,t.defaultState,p,g,!1,n),br(f,V)):(v.push(R),y+=1)});var E=function(R){return r.syncColumnWithStateItem(R,null,t.defaultState,p,g,!1,n)};f.forEach(E);var T=function(R,M,H,V){var X=R[H.getId()],ce=R[V.getId()],Me=X!=null,ae=ce!=null;if(Me&&ae)return X-ce;if(Me)return-1;if(ae)return 1;var q=M.indexOf(H),$=M.indexOf(V),ie=q>=0,se=$>=0;return ie&&se?q-$:ie?-1:1};r.rowGroupColumns.sort(T.bind(r,p,C)),r.pivotColumns.sort(T.bind(r,g,S)),r.updateGridColumns();var O=r.groupAutoColumns?r.groupAutoColumns.slice():[];return m.forEach(function(R){var M=r.getAutoColumn(R.colId);br(O,M),r.syncColumnWithStateItem(M,R,t.defaultState,null,null,!0,n)}),O.forEach(E),r.applyOrderAfterApplyState(t),r.updateDisplayedColumns(n),r.dispatchEverythingChanged(n),h(),{unmatchedAndAutoStates:v,unmatchedCount:y}};this.columnAnimationService.start();var s=o(t.state||[],this.primaryColumns||[],function(u){return r.getPrimaryColumn(u)}),a=s.unmatchedAndAutoStates,l=s.unmatchedCount;return(a.length>0||W(t.defaultState))&&(l=o(a,this.secondaryColumns||[],function(u){return r.getSecondaryColumn(u)}).unmatchedCount),this.columnAnimationService.finish(),l===0},e.prototype.applyOrderAfterApplyState=function(t){var n=this;if(!(!t.applyOrder||!t.state)){var r=[],o={};t.state.forEach(function(a){if(!(!a.colId||o[a.colId])){var l=n.gridColumnsMap[a.colId];l&&(r.push(l),o[a.colId]=!0)}});var s=0;if(this.gridColumns.forEach(function(a){var l=a.getColId(),u=o[l]!=null;if(!u){var c=l.startsWith(Eh);c?Zg(r,a,s++):r.push(a)}}),r=this.placeLockedColumns(r),!this.doesMovePassMarryChildren(r)){console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.gridColumns=r}},e.prototype.compareColumnStatesAndDispatchEvents=function(t){var n=this,r={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},o=this.getColumnState(),s={};return o.forEach(function(a){s[a.colId]=a}),function(){var a=n.getPrimaryAndSecondaryAndAutoColumns(),l=function(y,C,S,E){var T=C.map(E),O=S.map(E),R=fa(T,O);if(!R){var M=new Set(C);S.forEach(function(X){M.delete(X)||M.add(X)});var H=yr([],vr(M),!1),V={type:y,columns:H,column:H.length===1?H[0]:null,source:t};n.eventService.dispatchEvent(V)}},u=function(y){var C=[];return a.forEach(function(S){var E=s[S.getColId()];E&&y(E,S)&&C.push(S)}),C},c=function(y){return y.getColId()};l(w.EVENT_COLUMN_ROW_GROUP_CHANGED,r.rowGroupColumns,n.rowGroupColumns,c),l(w.EVENT_COLUMN_PIVOT_CHANGED,r.pivotColumns,n.pivotColumns,c);var d=function(y,C){var S=y.aggFunc!=null,E=S!=C.isValueActive(),T=S&&y.aggFunc!=C.getAggFunc();return E||T},h=u(d);h.length>0&&n.dispatchColumnChangedEvent(w.EVENT_COLUMN_VALUE_CHANGED,h,t);var f=function(y,C){return y.width!=C.getActualWidth()};n.dispatchColumnResizedEvent(u(f),!0,t);var p=function(y,C){return y.pinned!=C.getPinned()};n.dispatchColumnPinnedEvent(u(p),t);var g=function(y,C){return y.hide==C.isVisible()};n.dispatchColumnVisibleEvent(u(g),t);var m=function(y,C){return y.sort!=C.getSort()||y.sortIndex!=C.getSortIndex()},v=u(m);v.length>0&&n.sortController.dispatchSortChangedEvents(t,v),n.normaliseColumnMovedEventForColumnState(o,t)}},e.prototype.getCommonValue=function(t,n){if(!(!t||t.length==0)){for(var r=n(t[0]),o=1;o<t.length;o++)if(r!==n(t[o]))return;return r}},e.prototype.normaliseColumnMovedEventForColumnState=function(t,n){var r=this,o=this.getColumnState(),s={};o.forEach(function(d){return s[d.colId]=d});var a={};t.forEach(function(d){s[d.colId]&&(a[d.colId]=!0)});var l=t.filter(function(d){return a[d.colId]}),u=o.filter(function(d){return a[d.colId]}),c=[];u.forEach(function(d,h){var f=l&&l[h];if(f&&f.colId!==d.colId){var p=r.getGridColumn(f.colId);p&&c.push(p)}}),c.length&&this.dispatchColumnMovedEvent({movedColumns:c,source:n,finished:!0})},e.prototype.syncColumnWithStateItem=function(t,n,r,o,s,a,l){if(t){var u=function(R,M){var H={value1:void 0,value2:void 0},V=!1;return n&&(n[R]!==void 0&&(H.value1=n[R],V=!0),W(M)&&n[M]!==void 0&&(H.value2=n[M],V=!0)),!V&&r&&(r[R]!==void 0&&(H.value1=r[R]),W(M)&&r[M]!==void 0&&(H.value2=r[M])),H},c=u("hide").value1;c!==void 0&&t.setVisible(!c,l);var d=u("pinned").value1;d!==void 0&&t.setPinned(d);var h=this.columnUtils.calculateColMinWidth(t.getColDef()),f=u("flex").value1;if(f!==void 0)t.setFlex(f);else{var p=u("width").value1;p!=null&&h!=null&&p>=h&&t.setActualWidth(p,l)}var g=u("sort").value1;g!==void 0&&(g==="desc"||g==="asc"?t.setSort(g,l):t.setSort(void 0,l));var m=u("sortIndex").value1;if(m!==void 0&&t.setSortIndex(m),!(a||!t.isPrimary())){var v=u("aggFunc").value1;v!==void 0&&(typeof v=="string"?(t.setAggFunc(v),t.isValueActive()||(t.setValueActive(!0,l),this.valueColumns.push(t))):(W(v)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),t.isValueActive()&&(t.setValueActive(!1,l),br(this.valueColumns,t))));var y=u("rowGroup","rowGroupIndex"),C=y.value1,S=y.value2;(C!==void 0||S!==void 0)&&(typeof S=="number"||C?(t.isRowGroupActive()||(t.setRowGroupActive(!0,l),this.rowGroupColumns.push(t)),o&&typeof S=="number"&&(o[t.getId()]=S)):t.isRowGroupActive()&&(t.setRowGroupActive(!1,l),br(this.rowGroupColumns,t)));var E=u("pivot","pivotIndex"),T=E.value1,O=E.value2;(T!==void 0||O!==void 0)&&(typeof O=="number"||T?(t.isPivotActive()||(t.setPivotActive(!0,l),this.pivotColumns.push(t)),s&&typeof O=="number"&&(s[t.getId()]=O)):t.isPivotActive()&&(t.setPivotActive(!1,l),br(this.pivotColumns,t)))}}},e.prototype.getGridColumns=function(t){return this.getColumns(t,this.getGridColumn.bind(this))},e.prototype.getColumns=function(t,n){var r=[];return t&&t.forEach(function(o){var s=n(o);s&&r.push(s)}),r},e.prototype.getColumnWithValidation=function(t){if(t==null)return null;var n=this.getGridColumn(t);return n||console.warn("AG Grid: could not find column "+t),n},e.prototype.getPrimaryColumn=function(t){return this.primaryColumns?this.getColumn(t,this.primaryColumns,this.primaryColumnsMap):null},e.prototype.getGridColumn=function(t){return this.getColumn(t,this.gridColumns,this.gridColumnsMap)},e.prototype.lookupGridColumn=function(t){return this.gridColumnsMap[t]},e.prototype.getSecondaryColumn=function(t){return this.secondaryColumns?this.getColumn(t,this.secondaryColumns,this.secondaryColumnsMap):null},e.prototype.getColumn=function(t,n,r){if(!t||!r)return null;if(typeof t=="string"&&r[t])return r[t];for(var o=0;o<n.length;o++)if(this.columnsMatch(n[o],t))return n[o];return this.getAutoColumn(t)},e.prototype.getSourceColumnsForGroupColumn=function(t){var n=t.getColDef().showRowGroup;if(!n)return null;if(n===!0)return this.rowGroupColumns.slice(0);var r=this.getPrimaryColumn(n);return r?[r]:null},e.prototype.getAutoColumn=function(t){var n=this;return!this.groupAutoColumns||!W(this.groupAutoColumns)||me(this.groupAutoColumns)?null:this.groupAutoColumns.find(function(r){return n.columnsMatch(r,t)})||null},e.prototype.columnsMatch=function(t,n){var r=t===n,o=t.getColDef()===n,s=t.getColId()==n;return r||o||s},e.prototype.getDisplayNameForColumn=function(t,n,r){if(r===void 0&&(r=!1),!t)return null;var o=this.getHeaderName(t.getColDef(),t,null,null,n);return r?this.wrapHeaderNameWithAggFunc(t,o):o},e.prototype.getDisplayNameForProvidedColumnGroup=function(t,n,r){var o=n?n.getColGroupDef():null;return o?this.getHeaderName(o,null,t,n,r):null},e.prototype.getDisplayNameForColumnGroup=function(t,n){return this.getDisplayNameForProvidedColumnGroup(t,t.getProvidedColumnGroup(),n)},e.prototype.getHeaderName=function(t,n,r,o,s){var a=t.headerValueGetter;if(a){var l=this.gridOptionsService.addGridCommonParams({colDef:t,column:n,columnGroup:r,providedColumnGroup:o,location:s});return typeof a=="function"?a(l):typeof a=="string"?this.expressionService.evaluate(a,l):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}else{if(t.headerName!=null)return t.headerName;if(t.field)return MW(t.field)}return""},e.prototype.wrapHeaderNameWithAggFunc=function(t,n){if(this.gridOptionsService.get("suppressAggFuncInHeader"))return n;var r=t.getColDef().pivotValueColumn,o=W(r),s=null,a;if(o){var l=this.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn")&&this.valueColumns.length===1,u=t.getColDef().pivotTotalColumnIds!==void 0;if(l&&!u)return n;s=r?r.getAggFunc():null,a=!0}else{var c=t.isValueActive(),d=this.pivotMode||!this.isRowGroupEmpty();c&&d?(s=t.getAggFunc(),a=!0):a=!1}if(a){var h=typeof s=="string"?s:"func",f=this.localeService.getLocaleTextFunc(),p=f(h,h);return"".concat(p,"(").concat(n,")")}return n},e.prototype.getColumnGroup=function(t,n){if(!t)return null;if(t instanceof On)return t;var r=this.getAllDisplayedTrees(),o=typeof n=="number",s=null;return this.columnUtils.depthFirstAllColumnTreeSearch(r,function(a){if(a instanceof On){var l=a,u=void 0;o?u=t===l.getGroupId()&&n===l.getPartId():u=t===l.getGroupId(),u&&(s=l)}}),s},e.prototype.isReady=function(){return this.ready},e.prototype.extractValueColumns=function(t,n){this.valueColumns=this.extractColumns(n,this.valueColumns,function(r,o){return r.setValueActive(o,t)},function(){},function(){},function(r){var o=r.aggFunc;if(o===null||o==="")return null;if(o!==void 0)return!!o},function(r){return r.initialAggFunc!=null&&r.initialAggFunc!=""}),this.valueColumns.forEach(function(r){var o=r.getColDef();o.aggFunc!=null&&o.aggFunc!=""?r.setAggFunc(o.aggFunc):r.getAggFunc()||r.setAggFunc(o.initialAggFunc)})},e.prototype.extractRowGroupColumns=function(t,n){this.rowGroupColumns=this.extractColumns(n,this.rowGroupColumns,function(r,o){return r.setRowGroupActive(o,t)},function(r){return r.rowGroupIndex},function(r){return r.initialRowGroupIndex},function(r){return r.rowGroup},function(r){return r.initialRowGroup})},e.prototype.extractColumns=function(t,n,r,o,s,a,l){t===void 0&&(t=[]),n===void 0&&(n=[]);var u=[],c=[];(this.primaryColumns||[]).forEach(function(f){var p=t.indexOf(f)<0,g=f.getColDef(),m=kw(a(g)),v=kw(l(g)),y=xl(o(g)),C=xl(s(g)),S,E=m!==void 0,T=y!==void 0,O=v!==void 0,R=C!==void 0;if(E?S=m:T?y===null?S=!1:S=y>=0:p?O?S=v:R?S=C!=null&&C>=0:S=!1:S=n.indexOf(f)>=0,S){var M=p?y!=null||C!=null:y!=null;M?u.push(f):c.push(f)}});var d=function(f){var p=o(f.getColDef()),g=s(f.getColDef());return p??g};u.sort(function(f,p){var g=d(f),m=d(p);return g===m?0:g<m?-1:1});var h=[].concat(u);return n.forEach(function(f){c.indexOf(f)>=0&&h.push(f)}),c.forEach(function(f){h.indexOf(f)<0&&h.push(f)}),n.forEach(function(f){h.indexOf(f)<0&&r(f,!1)}),h.forEach(function(f){n.indexOf(f)<0&&r(f,!0)}),h},e.prototype.extractPivotColumns=function(t,n){this.pivotColumns=this.extractColumns(n,this.pivotColumns,function(r,o){return r.setPivotActive(o,t)},function(r){return r.pivotIndex},function(r){return r.initialPivotIndex},function(r){return r.pivot},function(r){return r.initialPivot})},e.prototype.resetColumnGroupState=function(t){if(t===void 0&&(t="api"),!!this.primaryColumnTree){var n=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(r){if(r instanceof sn){var o=r.getColGroupDef(),s={groupId:r.getGroupId(),open:o?o.openByDefault:void 0};n.push(s)}}),this.setColumnGroupState(n,t)}},e.prototype.getColumnGroupState=function(){var t=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(n){n instanceof sn&&t.push({groupId:n.getGroupId(),open:n.isExpanded()})}),t},e.prototype.setColumnGroupState=function(t,n){var r=this;if(n===void 0&&(n="api"),!!this.gridBalancedTree){this.columnAnimationService.start();var o=[];if(t.forEach(function(a){var l=a.groupId,u=a.open,c=r.getProvidedColumnGroup(l);c&&c.isExpanded()!==u&&(r.logger.log("columnGroupOpened("+c.getGroupId()+","+u+")"),c.setExpanded(u),o.push(c))}),this.updateGroupsAndDisplayedColumns(n),this.setFirstRightAndLastLeftPinned(n),o.length){var s={type:w.EVENT_COLUMN_GROUP_OPENED,columnGroup:sn.length===1?o[0]:void 0,columnGroups:o};this.eventService.dispatchEvent(s)}this.columnAnimationService.finish()}},e.prototype.setColumnGroupOpened=function(t,n,r){r===void 0&&(r="api");var o;t instanceof sn?o=t.getId():o=t||"",this.setColumnGroupState([{groupId:o,open:n}],r)},e.prototype.getProvidedColumnGroup=function(t){typeof t!="string"&&console.error("AG Grid: group key must be a string");var n=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(r){r instanceof sn&&r.getId()===t&&(n=r)}),n},e.prototype.calculateColumnsForDisplay=function(){var t=this,n;return this.pivotMode&&me(this.secondaryColumns)?n=this.gridColumns.filter(function(r){var o=t.groupAutoColumns&&xo(t.groupAutoColumns,r),s=t.valueColumns&&xo(t.valueColumns,r);return o||s}):n=this.gridColumns.filter(function(r){var o=t.groupAutoColumns&&xo(t.groupAutoColumns,r);return o||r.isVisible()}),n},e.prototype.checkColSpanActiveInCols=function(t){var n=!1;return t.forEach(function(r){W(r.getColDef().colSpan)&&(n=!0)}),n},e.prototype.calculateColumnsForGroupDisplay=function(){var t=this;this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};var n=function(r){var o=r.getColDef(),s=o.showRowGroup;o&&W(s)&&(t.groupDisplayColumns.push(r),typeof s=="string"?t.groupDisplayColumnsMap[s]=r:s===!0&&t.getRowGroupColumns().forEach(function(a){t.groupDisplayColumnsMap[a.getId()]=r}))};this.gridColumns.forEach(n)},e.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},e.prototype.getGroupDisplayColumnForGroup=function(t){return this.groupDisplayColumnsMap[t]},e.prototype.updateDisplayedColumns=function(t){var n=this.calculateColumnsForDisplay();this.buildDisplayedTrees(n),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t)},e.prototype.isSecondaryColumnsPresent=function(){return W(this.secondaryColumns)},e.prototype.setSecondaryColumns=function(t,n){var r=this;if(n===void 0&&(n="api"),!!this.gridColumns){var o=t&&t.length>0;if(!(!o&&me(this.secondaryColumns))){if(o){this.processSecondaryColumnDefinitions(t);var s=this.columnFactory.createColumnTree(t,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.destroyOldColumns(this.secondaryBalancedTree,s.columnTree),this.secondaryBalancedTree=s.columnTree,this.secondaryHeaderRowCount=s.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(function(a){return r.secondaryColumnsMap[a.getId()]=a}),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(n)}}},e.prototype.processSecondaryColumnDefinitions=function(t){var n=this.gridOptionsService.get("processPivotResultColDef"),r=this.gridOptionsService.get("processPivotResultColGroupDef");if(!(!n&&!r)){var o=function(s){s.forEach(function(a){var l=W(a.children);if(l){var u=a;r&&r(u),o(u.children)}else{var c=a;n&&n(c)}})};t&&o(t)}},e.prototype.updateGridColumns=function(){var t=this,n=this.gridBalancedTree;this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns;var r=this.createGroupAutoColumnsIfNeeded();if(r){var o=Al(this.groupAutoColumns.map(function(u){return[u,!0]}));this.lastPrimaryOrder&&(this.lastPrimaryOrder=this.lastPrimaryOrder.filter(function(u){return!o.has(u)}),this.lastPrimaryOrder=yr(yr([],vr(this.groupAutoColumns),!1),vr(this.lastPrimaryOrder),!1)),this.lastSecondaryOrder&&(this.lastSecondaryOrder=this.lastSecondaryOrder.filter(function(u){return!o.has(u)}),this.lastSecondaryOrder=yr(yr([],vr(this.groupAutoColumns),!1),vr(this.lastSecondaryOrder),!1))}var s;if(this.secondaryColumns&&this.secondaryBalancedTree){var a=this.secondaryColumns.some(function(u){return t.gridColumnsMap[u.getColId()]!==void 0});this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,a&&(s=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,s=this.lastPrimaryOrder);if(this.addAutoGroupToGridColumns(),this.orderGridColsLike(s),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(u){return t.gridColumnsMap[u.getId()]=u}),this.setAutoHeightActive(),!fa(n,this.gridBalancedTree)){var l={type:w.EVENT_GRID_COLUMNS_CHANGED};this.eventService.dispatchEvent(l)}},e.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter(function(n){return n.isAutoHeight()}).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var t=this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.isRowModelType("serverSide");t||Ae("autoHeight columns only work with Client Side Row Model and Server Side Row Model.")}},e.prototype.orderGridColsLike=function(t){if(!me(t)){var n=Al(t.map(function(c,d){return[c,d]})),r=!0;if(this.gridColumns.forEach(function(c){n.has(c)&&(r=!1)}),!r){var o=Al(this.gridColumns.map(function(c){return[c,!0]})),s=t.filter(function(c){return o.has(c)}),a=Al(s.map(function(c){return[c,!0]})),l=this.gridColumns.filter(function(c){return!a.has(c)}),u=s.slice();l.forEach(function(c){var d=c.getOriginalParent();if(!d){u.push(c);return}for(var h=[];!h.length&&d;){var f=d.getLeafColumns();f.forEach(function(m){var v=u.indexOf(m)>=0,y=h.indexOf(m)<0;v&&y&&h.push(m)}),d=d.getOriginalParent()}if(!h.length){u.push(c);return}var p=h.map(function(m){return u.indexOf(m)}),g=Math.max.apply(Math,yr([],vr(p),!1));Zg(u,c,g+1)}),this.gridColumns=u}}},e.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},e.prototype.refreshQuickFilterColumns=function(){var t,n=(t=this.isPivotMode()?this.secondaryColumns:this.primaryColumns)!==null&&t!==void 0?t:[];this.groupAutoColumns&&(n=n.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gridOptionsService.get("includeHiddenColumnsInQuickFilter")?n:n.filter(function(r){return r.isVisible()||r.isRowGroupActive()})},e.prototype.placeLockedColumns=function(t){var n=[],r=[],o=[];return t.forEach(function(s){var a=s.getColDef().lockPosition;a==="right"?o.push(s):a==="left"||a===!0?n.push(s):r.push(s)}),yr(yr(yr([],vr(n),!1),vr(r),!1),vr(o),!1)},e.prototype.addAutoGroupToGridColumns=function(){if(me(this.groupAutoColumns)){this.destroyOldColumns(this.groupAutoColsBalancedTree),this.groupAutoColsBalancedTree=null;return}this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var t=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,t),this.groupAutoColsBalancedTree=t,this.gridBalancedTree=t.concat(this.gridBalancedTree)},e.prototype.clearDisplayedAndViewportColumns=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.ariaOrderColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""},e.prototype.updateGroupsAndDisplayedColumns=function(t){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(t),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();var n={type:w.EVENT_DISPLAYED_COLUMNS_CHANGED};this.eventService.dispatchEvent(n)},e.prototype.deriveDisplayedColumns=function(t){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinColumnsAriaOrder(),this.joinDisplayedColumns(),this.setLeftValues(t),this.displayedAutoHeightCols=this.displayedColumns.filter(function(n){return n.isAutoHeight()})},e.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},e.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},e.prototype.joinColumnsAriaOrder=function(){var t,n,r=this.getAllGridColumns(),o=[],s=[],a=[];try{for(var l=tx(r),u=l.next();!u.done;u=l.next()){var c=u.value,d=c.getPinned();d?d===!0||d==="left"?o.push(c):a.push(c):s.push(c)}}catch(h){t={error:h}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}this.ariaOrderColumns=o.concat(s).concat(a)},e.prototype.joinDisplayedColumns=function(){this.gridOptionsService.get("enableRtl")?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},e.prototype.setLeftValues=function(t){this.setLeftValuesOfColumns(t),this.setLeftValuesOfGroups()},e.prototype.setLeftValuesOfColumns=function(t){var n=this;if(this.primaryColumns){var r=this.getPrimaryAndSecondaryAndAutoColumns().slice(0),o=this.gridOptionsService.get("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(s){if(o){var a=n.getWidthOfColsInList(s);s.forEach(function(u){a-=u.getActualWidth(),u.setLeft(a,t)})}else{var l=0;s.forEach(function(u){u.setLeft(l,t),l+=u.getActualWidth()})}bW(r,s)}),r.forEach(function(s){s.setLeft(null,t)})}},e.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(t){t.forEach(function(n){if(n instanceof On){var r=n;r.checkLeft()}})})},e.prototype.derivedDisplayedColumnsFromDisplayedTree=function(t,n){n.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(t,function(r){r instanceof Tt&&n.push(r)})},e.prototype.extractViewportColumns=function(){this.suppressColumnVirtualisation?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},e.prototype.getVirtualHeaderGroupRow=function(t,n){var r;switch(t){case"left":r=this.viewportRowLeft[n];break;case"right":r=this.viewportRowRight[n];break;default:r=this.viewportRowCenter[n];break}return me(r)&&(r=[]),r},e.prototype.calculateHeaderRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var t={};this.headerViewportColumns.forEach(function(r){return t[r.getId()]=!0});var n=function(r,o,s){for(var a=!1,l=0;l<r.length;l++){var u=r[l],c=!1;if(u instanceof Tt)c=t[u.getId()]===!0;else{var d=u,h=d.getDisplayedChildren();h&&(c=n(h,o,s+1))}c&&(a=!0,o[s]||(o[s]=[]),o[s].push(u))}return a};n(this.displayedTreeLeft,this.viewportRowLeft,0),n(this.displayedTreeRight,this.viewportRowRight,0),n(this.displayedTreeCentre,this.viewportRowCenter,0)},e.prototype.extractViewport=function(){var t=function(o){return"".concat(o.getId(),"-").concat(o.getPinned()||"normal")};this.extractViewportColumns();var n=this.viewportColumns.map(t).join("#"),r=this.viewportColumnsHash!==n;return r&&(this.viewportColumnsHash=n,this.calculateHeaderRows()),r},e.prototype.refreshFlexedColumns=function(t){var n;t===void 0&&(t={});var r=t.source?t.source:"flex";if(t.viewportWidth!=null&&(this.flexViewportWidth=t.viewportWidth),!this.flexViewportWidth)return[];var o=-1;if(t.resizingCols){for(var s=new Set(t.resizingCols),a=this.displayedColumnsCenter,l=a.length-1;l>=0;l--)if(s.has(a[l])){o=l;break}}for(var u=0,c=[],d=0,h=0,l=0;l<this.displayedColumnsCenter.length;l++){var f=this.displayedColumnsCenter[l].getFlex()&&l>o;f?(c.push(this.displayedColumnsCenter[l]),h+=this.displayedColumnsCenter[l].getFlex(),d+=(n=this.displayedColumnsCenter[l].getMinWidth())!==null&&n!==void 0?n:0):u+=this.displayedColumnsCenter[l].getActualWidth()}if(!c.length)return[];var p=[];u+d>this.flexViewportWidth&&(c.forEach(function(R){var M;return R.setActualWidth((M=R.getMinWidth())!==null&&M!==void 0?M:0,r)}),p=c,c=[]);var g=[],m;e:for(;;){m=this.flexViewportWidth-u;for(var v=m/h,l=0;l<c.length;l++){var y=c[l],C=v*y.getFlex(),S=0,E=y.getMinWidth(),T=y.getMaxWidth();if(W(E)&&C<E?S=E:W(T)&&C>T&&(S=T),S){y.setActualWidth(S,r),wM(c,y),h-=y.getFlex(),p.push(y),u+=y.getActualWidth();continue e}g[l]=Math.round(C)}break}var O=m;return c.forEach(function(R,M){R.setActualWidth(Math.min(g[M],O),r),p.push(R),O-=g[M]}),t.skipSetLeft||this.setLeftValues(r),t.updateBodyWidths&&this.updateBodyWidths(),t.fireResizedEvent&&this.dispatchColumnResizedEvent(p,!0,r,c),c},e.prototype.sizeColumnsToFit=function(t,n,r,o){var s=this,a,l,u,c,d;if(n===void 0&&(n="sizeColumnsToFit"),this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return s.sizeColumnsToFit(t,n,r,o)});return}var h={};o&&((a=o?.columnLimits)===null||a===void 0||a.forEach(function($){var ie=$.key,se=Kle($,["key"]);h[typeof ie=="string"?ie:ie.getColId()]=se}));var f=this.getAllDisplayedColumns(),p=t===this.getWidthOfColsInList(f);if(!(t<=0||!f.length||p)){var g=[],m=[];f.forEach(function($){$.getColDef().suppressSizeToFit===!0?m.push($):g.push($)});var v=g.slice(0),y=!1,C=function($){br(g,$),m.push($)};for(g.forEach(function($){var ie,se;$.resetActualWidth(n);var We=h?.[$.getId()],Yt=(ie=We?.minWidth)!==null&&ie!==void 0?ie:o?.defaultMinWidth,wt=(se=We?.maxWidth)!==null&&se!==void 0?se:o?.defaultMaxWidth,en=$.getActualWidth();typeof Yt=="number"&&en<Yt?$.setActualWidth(Yt,n,!0):typeof wt=="number"&&en>wt&&$.setActualWidth(wt,n,!0)});!y;){y=!0;var S=t-this.getWidthOfColsInList(m);if(S<=0)g.forEach(function($){var ie,se,We=(se=(ie=h?.[$.getId()])===null||ie===void 0?void 0:ie.minWidth)!==null&&se!==void 0?se:o?.defaultMinWidth;if(typeof We=="number"){$.setActualWidth(We,n,!0);return}$.setMinimum(n)});else for(var E=S/this.getWidthOfColsInList(g),T=S,O=g.length-1;O>=0;O--){var R=g[O],M=h?.[R.getId()],H=(l=M?.minWidth)!==null&&l!==void 0?l:o?.defaultMinWidth,V=(u=M?.maxWidth)!==null&&u!==void 0?u:o?.defaultMaxWidth,X=(c=R.getMinWidth())!==null&&c!==void 0?c:0,ce=(d=R.getMaxWidth())!==null&&d!==void 0?d:Number.MAX_VALUE,Me=typeof H=="number"&&H>X?H:R.getMinWidth(),ae=typeof V=="number"&&V<ce?V:R.getMaxWidth(),q=Math.round(R.getActualWidth()*E);W(Me)&&q<Me?(q=Me,C(R),y=!1):W(ae)&&q>ae?(q=ae,C(R),y=!1):O===0&&(q=T),R.setActualWidth(q,n,!0),T-=q}}v.forEach(function($){$.fireColumnWidthChangedEvent(n)}),this.setLeftValues(n),this.updateBodyWidths(),!r&&this.dispatchColumnResizedEvent(v,!0,n)}},e.prototype.buildDisplayedTrees=function(t){var n=[],r=[],o=[];t.forEach(function(a){switch(a.getPinned()){case"left":n.push(a);break;case"right":r.push(a);break;default:o.push(a);break}});var s=new xW;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(n,s,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(r,s,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(o,s,null,this.displayedTreeCentre),this.updateDisplayedMap()},e.prototype.updateDisplayedMap=function(){var t=this;this.displayedColumnsAndGroupsMap={};var n=function(r){t.displayedColumnsAndGroupsMap[r.getUniqueId()]=r};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,n),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,n),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,n)},e.prototype.isDisplayed=function(t){var n=this.displayedColumnsAndGroupsMap[t.getUniqueId()];return n===t},e.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var t=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(t,function(n){n instanceof On&&n.calculateDisplayedColumns()})},e.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},e.prototype.createGroupAutoColumnsIfNeeded=function(){var t=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;var n=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),r=this.pivotMode?this.gridOptionsService.get("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn(),o=this.rowGroupColumns.length>0||this.gridOptionsService.get("treeData"),s=o&&!r&&!n;if(s){var a=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns),l=!this.autoColsEqual(a,this.groupAutoColumns);if(l||t)return this.groupAutoColumns=a,!0}else this.groupAutoColumns=null;return!1},e.prototype.isGroupSuppressAutoColumn=function(){var t=this.gridOptionsService.get("groupDisplayType"),n=t==="custom";if(n)return!0;var r=this.gridOptionsService.get("treeDataDisplayType");return r==="custom"},e.prototype.autoColsEqual=function(t,n){return fa(t,n,function(r,o){return r.getColId()===o.getColId()})},e.prototype.getWidthOfColsInList=function(t){return t.reduce(function(n,r){return n+r.getActualWidth()},0)},e.prototype.getFirstDisplayedColumn=function(){var t=this.gridOptionsService.get("enableRtl"),n=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];t&&n.reverse();for(var r=0;r<n.length;r++){var o=this[n[r]]();if(o.length)return t?dt(o):o[0]}return null},e.prototype.setColumnHeaderHeight=function(t,n){var r=t.setAutoHeaderHeight(n);if(r){var o={type:w.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:t,columns:[t],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(o)}},e.prototype.getColumnGroupHeaderRowHeight=function(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()},e.prototype.getColumnHeaderRowHeight=function(){var t=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),n=this.getAllDisplayedColumns().filter(function(r){return r.isAutoHeaderHeight()}).map(function(r){return r.getAutoHeaderHeight()||0});return Math.max.apply(Math,yr([t],vr(n),!1))},e.prototype.getHeaderHeight=function(){var t;return(t=this.gridOptionsService.get("headerHeight"))!==null&&t!==void 0?t:this.environment.getFromTheme(25,"headerHeight")},e.prototype.getFloatingFiltersHeight=function(){var t;return(t=this.gridOptionsService.get("floatingFiltersHeight"))!==null&&t!==void 0?t:this.getHeaderHeight()},e.prototype.getGroupHeaderHeight=function(){var t;return(t=this.gridOptionsService.get("groupHeaderHeight"))!==null&&t!==void 0?t:this.getHeaderHeight()},e.prototype.getPivotHeaderHeight=function(){var t;return(t=this.gridOptionsService.get("pivotHeaderHeight"))!==null&&t!==void 0?t:this.getHeaderHeight()},e.prototype.getPivotGroupHeaderHeight=function(){var t;return(t=this.gridOptionsService.get("pivotGroupHeaderHeight"))!==null&&t!==void 0?t:this.getGroupHeaderHeight()},e.prototype.queueResizeOperations=function(){this.shouldQueueResizeOperations=!0},e.prototype.processResizeOperations=function(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(function(t){return t()}),this.resizeOperationQueue=[]},e.prototype.resetColumnDefIntoColumn=function(t,n){var r=t.getUserProvidedColDef();if(!r)return!1;var o=this.columnFactory.addColumnDefaultAndTypes(r,t.getColId());return t.setColDef(o,r,n),!0},e.prototype.isColumnGroupingLocked=function(t){var n=this.gridOptionsService.get("groupLockGroupColumns");if(!t.isRowGroupActive()||n===0)return!1;if(n===-1)return!0;var r=this.rowGroupColumns.findIndex(function(o){return o.getColId()===t.getColId()});return n>r},e.prototype.generateColumnStateForRowGroupAndPivotIndexes=function(t,n){var r=this,o={},s=function(a,l,u,c,d,h){if(!l.length||!r.primaryColumns)return[];for(var f=Object.keys(a),p=new Set(f),g=new Set(f),m=new Set(l.map(function(H){var V=H.getColId();return g.delete(V),V}).concat(f)),v=[],y={},C=0,S=0;S<r.primaryColumns.length;S++){var E=r.primaryColumns[S].getColId();m.has(E)&&(v.push(E),y[E]=C++)}var T=1e3,O=!1,R=0,M=function(H){for(var V=y[H],X=R;X<V;X++){var ce=v[X];g.has(ce)&&(a[ce][d]=T++,g.delete(ce))}R=V};l.forEach(function(H){var V=H.getColId();if(p.has(V))M(V),a[V][d]=T++;else{var X=H.getColDef(),ce=X[d]===null||X[d]===void 0&&X[h]==null;if(ce){if(!O){var Me=X[u]||X[u]===void 0&&X[c];Me?M(V):(g.forEach(function(ae){a[ae][d]=T+y[ae]}),T+=v.length,O=!0)}o[V]||(o[V]={colId:V}),o[V][d]=T++}}})};return s(t,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),s(n,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(o)},e.prototype.onColumnsReady=function(){var t=this,n=this.gridOptionsService.get("autoSizeStrategy");if(n){var r=n.type;setTimeout(function(){if(r==="fitGridWidth"){var o=n.columnLimits,s=n.defaultMinWidth,a=n.defaultMaxWidth,l=o?.map(function(u){var c=u.colId,d=u.minWidth,h=u.maxWidth;return{key:c,minWidth:d,maxWidth:h}});t.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:s,defaultMaxWidth:a,columnLimits:l})}else r==="fitProvidedWidth"&&t.sizeColumnsToFit(n.width,"sizeColumnsToFit")})}},e.prototype.onFirstDataRendered=function(){var t=this,n=this.gridOptionsService.get("autoSizeStrategy");if(n?.type==="fitCellContents"){var r=n.colIds,o=n.skipHeader;setTimeout(function(){r?t.autoSizeColumns({columns:r,skipHeader:o,source:"autosizeColumns"}):t.autoSizeAllColumns(o,"autosizeColumns")})}},ii([_("expressionService")],e.prototype,"expressionService",void 0),ii([_("columnFactory")],e.prototype,"columnFactory",void 0),ii([_("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),ii([_("ctrlsService")],e.prototype,"ctrlsService",void 0),ii([_("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),ii([_("columnUtils")],e.prototype,"columnUtils",void 0),ii([_("columnAnimationService")],e.prototype,"columnAnimationService",void 0),ii([_("autoGroupColService")],e.prototype,"autoGroupColService",void 0),ii([et("aggFuncService")],e.prototype,"aggFuncService",void 0),ii([et("valueCache")],e.prototype,"valueCache",void 0),ii([et("animationFrameService")],e.prototype,"animationFrameService",void 0),ii([_("sortController")],e.prototype,"sortController",void 0),ii([_("columnDefFactory")],e.prototype,"columnDefFactory",void 0),ii([Z],e.prototype,"init",null),ii([xi],e.prototype,"destroyColumns",null),ii([Yle(0,to("loggerFactory"))],e.prototype,"setBeans",null),e=ii([ne("columnModel")],e),e}(Y),Zle=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Xle=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Jle=function(i){Zle(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.calculateColMinWidth=function(t){return t.minWidth!=null?t.minWidth:this.environment.getMinColWidth()},e.prototype.calculateColMaxWidth=function(t){return t.maxWidth!=null?t.maxWidth:Number.MAX_SAFE_INTEGER},e.prototype.calculateColInitialWidth=function(t){var n=this.calculateColMinWidth(t),r=this.calculateColMaxWidth(t),o,s=xl(t.width),a=xl(t.initialWidth);return s!=null?o=s:a!=null?o=a:o=200,Math.max(Math.min(o,r),n)},e.prototype.getOriginalPathForColumn=function(t,n){var r=[],o=!1,s=function(a,l){for(var u=0;u<a.length;u++){if(o)return;var c=a[u];if(c instanceof sn){var d=c;s(d.getChildren(),l+1),r[l]=c}else c===t&&(o=!0)}};return s(n,0),o?r:null},e.prototype.depthFirstOriginalTreeSearch=function(t,n,r){var o=this;n&&n.forEach(function(s){s instanceof sn&&o.depthFirstOriginalTreeSearch(s,s.getChildren(),r),r(s,t)})},e.prototype.depthFirstAllColumnTreeSearch=function(t,n){var r=this;t&&t.forEach(function(o){o instanceof On&&r.depthFirstAllColumnTreeSearch(o.getChildren(),n),n(o)})},e.prototype.depthFirstDisplayedColumnTreeSearch=function(t,n){var r=this;t&&t.forEach(function(o){o instanceof On&&r.depthFirstDisplayedColumnTreeSearch(o.getDisplayedChildren(),n),n(o)})},e=Xle([ne("columnUtils")],e),e}(Y),eue=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),tue=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},nue=function(i){eue(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createDisplayedGroups=function(t,n,r,o){for(var s=this,a=this.mapOldGroupsById(o),l=[],u=t,c=function(){var d=u;u=[];for(var h=0,f=function(E){var T=h;h=E;var O=d[T],R=O instanceof On?O.getProvidedColumnGroup():O,M=R.getOriginalParent();if(M==null){for(var H=T;H<E;H++)l.push(d[H]);return}for(var V=s.createColumnGroup(M,n,a,r),H=T;H<E;H++)V.addChild(d[H]);u.push(V)},p=1;p<d.length;p++){var g=d[p],m=g instanceof On?g.getProvidedColumnGroup():g,v=m.getOriginalParent(),y=d[h],C=y instanceof On?y.getProvidedColumnGroup():y,S=C.getOriginalParent();v!==S&&f(p)}h<d.length&&f(d.length)};u.length;)c();return this.setupParentsIntoColumns(l,null),l},e.prototype.createColumnGroup=function(t,n,r,o){var s=t.getGroupId(),a=n.getInstanceIdForKey(s),l=On.createUniqueId(s,a),u=r[l];return u&&u.getProvidedColumnGroup()!==t&&(u=null),W(u)?u.reset():(u=new On(t,s,a,o),this.context.createBean(u)),u},e.prototype.mapOldGroupsById=function(t){var n={},r=function(o){o.forEach(function(s){if(s instanceof On){var a=s;n[s.getUniqueId()]=a,r(a.getChildren())}})};return t&&r(t),n},e.prototype.setupParentsIntoColumns=function(t,n){var r=this;t.forEach(function(o){if(o.setParent(n),o instanceof On){var s=o;r.setupParentsIntoColumns(s.getChildren(),s)}})},e=tue([ne("displayedGroupCreator")],e),e}(Y),ml=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},vl=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},iue={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,excludeHiddenColumnsFromQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,enableChartToolPanelsButton:!0,suppressChartToolPanelsButton:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressParentsInRowNodes:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,suppressAggAtRootLevel:!0,removePivotHeaderRowWhenSingleValueColumn:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,functionsPassive:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0},ws=function(){function i(){}return i.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator"],i.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy"],i.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],i.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],i.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilterAllLevels","serverSideSortAllLevels","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents"],i.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher"],i.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering"],i.FUNCTION_PROPERTIES=vl(vl([],ml(i.FUNCTIONAL_PROPERTIES),!1),ml(i.CALLBACK_PROPERTIES),!1),i.ALL_PROPERTIES=vl(vl(vl(vl(vl(vl([],ml(i.ARRAY_PROPERTIES),!1),ml(i.OBJECT_PROPERTIES),!1),ml(i.STRING_PROPERTIES),!1),ml(i.NUMBER_PROPERTIES),!1),ml(i.FUNCTION_PROPERTIES),!1),ml(i.BOOLEAN_PROPERTIES),!1),i}(),iM=function(){return iM=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},iM.apply(this,arguments)},iU=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},rU=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},om=function(){function i(){}i.getCallbackForEvent=function(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substring(1)},i.getGridOptionKeys=function(){return this.ALL_PROPERTIES_AND_CALLBACKS},i.combineAttributesAndGridOptions=function(t,n){typeof t!="object"&&(t={});var r=iM({},t),o=i.getGridOptionKeys();return o.forEach(function(s){var a=n[s];typeof a<"u"&&a!==i.VUE_OMITTED_PROPERTY&&(r[s]=a)}),r},i.processOnChange=function(t,n){if(t){var r={},o=!1;if(Object.keys(t).filter(function(a){return i.ALL_PROPERTIES_AND_CALLBACKS_SET.has(a)}).forEach(function(a){r[a]=t[a],o=!0}),!!o){n.__internalUpdateGridOptions(r);var s={type:w.EVENT_COMPONENT_STATE_CHANGED};fi(r,function(a,l){s[a]=l}),n.dispatchEvent(s)}}};var e;return e=i,i.EVENTS=lc(w),i.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY",i.EXCLUDED_INTERNAL_EVENTS=[w.EVENT_SCROLLBAR_WIDTH_CHANGED,w.EVENT_CHECKBOX_CHANGED,w.EVENT_HEIGHT_SCALE_CHANGED,w.EVENT_BODY_HEIGHT_CHANGED,w.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,w.EVENT_SCROLL_VISIBILITY_CHANGED,w.EVENT_COLUMN_HOVER_CHANGED,w.EVENT_FLASH_CELLS,w.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,w.EVENT_DISPLAYED_ROWS_CHANGED,w.EVENT_LEFT_PINNED_WIDTH_CHANGED,w.EVENT_RIGHT_PINNED_WIDTH_CHANGED,w.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,w.EVENT_POPUP_TO_FRONT,w.EVENT_STORE_UPDATED,w.EVENT_COLUMN_PANEL_ITEM_DRAG_START,w.EVENT_COLUMN_PANEL_ITEM_DRAG_END,w.EVENT_FILL_START,w.EVENT_FILL_END,w.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,w.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,w.EVENT_FULL_WIDTH_ROW_FOCUSED,w.EVENT_HEADER_HEIGHT_CHANGED,w.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,w.EVENT_CELL_FOCUS_CLEARED,w.EVENT_GRID_STYLES_CHANGED,w.EVENT_FILTER_DESTROYED,w.EVENT_ROW_DATA_UPDATE_STARTED,w.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,w.EVENT_DATA_TYPES_INFERRED,w.EVENT_FIELD_VALUE_CHANGED,w.EVENT_FIELD_PICKER_VALUE_SELECTED,w.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,w.EVENT_SUPPRESS_MENU_HIDE_CHANGED,w.EVENT_SUPPRESS_FIELD_DOT_NOTATION,w.EVENT_ROW_COUNT_READY,w.EVENT_SIDE_BAR_UPDATED],i.PUBLIC_EVENTS=i.EVENTS.filter(function(t){return!xo(i.EXCLUDED_INTERNAL_EVENTS,t)}),i.EVENT_CALLBACKS=i.EVENTS.map(function(t){return i.getCallbackForEvent(t)}),i.STRING_PROPERTIES=ws.STRING_PROPERTIES,i.OBJECT_PROPERTIES=ws.OBJECT_PROPERTIES,i.ARRAY_PROPERTIES=ws.ARRAY_PROPERTIES,i.NUMBER_PROPERTIES=ws.NUMBER_PROPERTIES,i.BOOLEAN_PROPERTIES=ws.BOOLEAN_PROPERTIES,i.FUNCTION_PROPERTIES=ws.FUNCTION_PROPERTIES,i.ALL_PROPERTIES=ws.ALL_PROPERTIES,i.ALL_PROPERTIES_AND_CALLBACKS=rU(rU([],iU(e.ALL_PROPERTIES),!1),iU(e.EVENT_CALLBACKS),!1),i.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(i.ALL_PROPERTIES_AND_CALLBACKS),i}(),rue=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),oue=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},sue=function(i){rue(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.componentsMappedByName={},t}return e.prototype.setupComponents=function(t){var n=this;t&&t.forEach(function(r){return n.addComponent(r)})},e.prototype.addComponent=function(t){var n=t.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=n.toUpperCase();this.componentsMappedByName[r]=t.componentClass},e.prototype.getComponentClass=function(t){return this.componentsMappedByName[t]},e=oue([ne("agStackComponentsRegistry")],e),e}(Y);function Or(i,e,t){t==null||typeof t=="string"&&t==""?bM(i,e):ro(i,e,t)}function ro(i,e,t){i.setAttribute(PW(e),t.toString())}function bM(i,e){i.removeAttribute(PW(e))}function PW(i){return"aria-".concat(i)}function In(i,e){e?i.setAttribute("role",e):i.removeAttribute("role")}function FW(i){var e;return i==="asc"?e="ascending":i==="desc"?e="descending":i==="mixed"?e="other":e="none",e}function NW(i){return parseInt(i.getAttribute("aria-level"),10)}function LW(i){return parseInt(i.getAttribute("aria-posinset"),10)}function kW(i){return i.getAttribute("aria-label")}function ga(i,e){Or(i,"label",e)}function jw(i,e){Or(i,"labelledby",e)}function VW(i,e){Or(i,"description",e)}function aue(i,e){Or(i,"describedby",e)}function EM(i,e){Or(i,"live",e)}function lue(i,e){Or(i,"atomic",e)}function HW(i,e){Or(i,"relevant",e)}function GW(i,e){Or(i,"level",e)}function DM(i,e){Or(i,"disabled",e)}function aS(i,e){Or(i,"hidden",e)}function TM(i,e){Or(i,"activedescendant",e)}function Oo(i,e){ro(i,"expanded",e)}function BW(i){bM(i,"expanded")}function RM(i,e){ro(i,"setsize",e)}function AM(i,e){ro(i,"posinset",e)}function jW(i,e){ro(i,"multiselectable",e)}function UW(i,e){ro(i,"rowcount",e)}function OM(i,e){ro(i,"rowindex",e)}function WW(i,e){ro(i,"colcount",e)}function xM(i,e){ro(i,"colindex",e)}function zW(i,e){ro(i,"colspan",e)}function $W(i,e){ro(i,"sort",e)}function qW(i){bM(i,"sort")}function Dh(i,e){Or(i,"selected",e)}function uue(i,e){ro(i,"checked",e===void 0?"mixed":e)}function MM(i,e){Or(i,"controls",e.id),jw(e,i.id)}function lS(i,e){return e===void 0?i("ariaIndeterminate","indeterminate"):e===!0?i("ariaChecked","checked"):i("ariaUnchecked","unchecked")}var cue=Object.freeze({__proto__:null,setAriaRole:In,getAriaSortState:FW,getAriaLevel:NW,getAriaPosInSet:LW,getAriaLabel:kW,setAriaLabel:ga,setAriaLabelledBy:jw,setAriaDescription:VW,setAriaDescribedBy:aue,setAriaLive:EM,setAriaAtomic:lue,setAriaRelevant:HW,setAriaLevel:GW,setAriaDisabled:DM,setAriaHidden:aS,setAriaActiveDescendant:TM,setAriaExpanded:Oo,removeAriaExpanded:BW,setAriaSetSize:RM,setAriaPosInSet:AM,setAriaMultiSelectable:jW,setAriaRowCount:UW,setAriaRowIndex:OM,setAriaColCount:WW,setAriaColIndex:xM,setAriaColSpan:zW,setAriaSort:$W,removeAriaSort:qW,setAriaSelected:Dh,setAriaChecked:uue,setAriaControls:MM,getAriaCheckboxStateName:lS}),nx,dw,ix,rx,ox,sx,rM,oM;function Io(){return nx===void 0&&(nx=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),nx}function IM(){if(dw===void 0)if(Io()){var i=navigator.userAgent.match(/version\/(\d+)/i);i&&(dw=i[1]!=null?parseFloat(i[1]):0)}else dw=0;return dw}function uS(){if(ix===void 0){var i=window;ix=!!i.chrome&&(!!i.chrome.webstore||!!i.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return ix}function PM(){return rx===void 0&&(rx=/(firefox)/i.test(navigator.userAgent)),rx}function FM(){return ox===void 0&&(ox=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),ox}function Fl(){return sx===void 0&&(sx=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),sx}function NM(){return!Io()||IM()>=15}function Uw(i){if(!i)return null;var e=i.tabIndex,t=i.getAttribute("tabIndex");return e===-1&&(t===null||t===""&&!PM())?null:e.toString()}function YW(){if(!document.body)return-1;var i=1e6,e=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,t=document.createElement("div");for(document.body.appendChild(t);;){var n=i*2;if(t.style.height=n+"px",n>e||t.clientHeight!==n)break;i=n}return document.body.removeChild(t),i}function KW(){var i,e,t;return(e=(i=document.body)===null||i===void 0?void 0:i.clientWidth)!==null&&e!==void 0?e:window.innerHeight||((t=document.documentElement)===null||t===void 0?void 0:t.clientWidth)||-1}function QW(){var i,e,t;return(e=(i=document.body)===null||i===void 0?void 0:i.clientHeight)!==null&&e!==void 0?e:window.innerHeight||((t=document.documentElement)===null||t===void 0?void 0:t.clientHeight)||-1}function ZW(){return oM==null&&XW(),oM}function XW(){var i=document.body,e=document.createElement("div");e.style.width=e.style.height="100px",e.style.opacity="0",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",e.style.position="absolute",i.appendChild(e);var t=e.offsetWidth-e.clientWidth;t===0&&e.clientWidth===0&&(t=null),e.parentNode&&e.parentNode.removeChild(e),t!=null&&(oM=t,rM=t===0)}function LM(){return rM==null&&XW(),rM}var due=Object.freeze({__proto__:null,isBrowserSafari:Io,getSafariVersion:IM,isBrowserChrome:uS,isBrowserFirefox:PM,isMacOsUserAgent:FM,isIOSUserAgent:Fl,browserSupportsPreventScroll:NM,getTabIndex:Uw,getMaxDivHeight:YW,getBodyWidth:KW,getBodyHeight:QW,getScrollbarWidth:ZW,isInvisibleScrollbar:LM});function wh(i,e){return i.toString().padStart(e,"0")}function JW(i,e){for(var t=[],n=i;n<=e;n++)t.push(n);return t}function hue(i){return typeof i=="string"&&(i=parseInt(i,10)),typeof i=="number"?Math.floor(i):null}function fue(i,e){for(var t="",n=0;n<e;n++)t+=String.fromCharCode(i&255),i>>>=8;return t}function pue(i,e,t){return typeof i!="number"?"":kM(Math.round(i*100)/100,e,t)}function kM(i,e,t){return typeof i!="number"?"":i.toString().replace(".",t).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1".concat(e))}function gue(i){return i==null?null:i.reduce(function(e,t){return e+t},0)}var mue=Object.freeze({__proto__:null,padStartWidthZeros:wh,createArrayOfNumbers:JW,cleanNumber:hue,decToHex:fue,formatNumberTwoDecimalPlacesAndCommas:pue,formatNumberCommas:kM,sum:gue}),ax=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o};function no(i,e,t){if(e===void 0&&(e=!0),t===void 0&&(t="-"),!i)return null;var n=[i.getFullYear(),i.getMonth()+1,i.getDate()].map(function(r){return wh(r,2)}).join(t);return e&&(n+=" "+[i.getHours(),i.getMinutes(),i.getSeconds()].map(function(r){return wh(r,2)}).join(":")),n}var lx=function(i){if(i>3&&i<21)return"th";var e=i%10;switch(e){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Sh(i,e){e===void 0&&(e="YYYY-MM-DD");var t=wh(i.getFullYear(),4),n=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:function(){return t.slice(t.length-4,t.length)},YY:function(){return t.slice(t.length-2,t.length)},Y:function(){return"".concat(i.getFullYear())},MMMM:function(){return n[i.getMonth()]},MMM:function(){return n[i.getMonth()].slice(0,3)},MM:function(){return wh(i.getMonth()+1,2)},Mo:function(){return"".concat(i.getMonth()+1).concat(lx(i.getMonth()+1))},M:function(){return"".concat(i.getMonth()+1)},Do:function(){return"".concat(i.getDate()).concat(lx(i.getDate()))},DD:function(){return wh(i.getDate(),2)},D:function(){return"".concat(i.getDate())},dddd:function(){return r[i.getDay()]},ddd:function(){return r[i.getDay()].slice(0,3)},dd:function(){return r[i.getDay()].slice(0,2)},do:function(){return"".concat(i.getDay()).concat(lx(i.getDay()))},d:function(){return"".concat(i.getDay())}},s=new RegExp(Object.keys(o).join("|"),"g");return e.replace(s,function(a){return a in o?o[a]():a})}function Xi(i){if(!i)return null;var e=ax(i.split(" "),2),t=e[0],n=e[1];if(!t)return null;var r=t.split("-").map(function(p){return parseInt(p,10)});if(r.filter(function(p){return!isNaN(p)}).length!==3)return null;var o=ax(r,3),s=o[0],a=o[1],l=o[2],u=new Date(s,a-1,l);if(u.getFullYear()!==s||u.getMonth()!==a-1||u.getDate()!==l)return null;if(!n||n==="00:00:00")return u;var c=ax(n.split(":").map(function(p){return parseInt(p,10)}),3),d=c[0],h=c[1],f=c[2];return d>=0&&d<24&&u.setHours(d),h>=0&&h<60&&u.setMinutes(h),f>=0&&f<60&&u.setSeconds(f),u}var vue=Object.freeze({__proto__:null,serialiseDate:no,dateToFormattedString:Sh,parseDateTimeFromString:Xi}),yue=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_ue=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},hw;function sM(i,e,t){for(var n=i.parentElement,r=n&&n.firstChild;r;)e&&r.classList.toggle(e,r===i),t&&r.classList.toggle(t,r!==i),r=r.nextSibling}var ez="[tabindex], input, select, button, textarea, [href]",VM="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function HM(i){var e=Element.prototype.matches||Element.prototype.msMatchesSelector,t="input, select, button, textarea",n=e.call(i,t),r=e.call(i,VM),o=Ar(i),s=n&&!r&&o;return s}function tt(i,e,t){t===void 0&&(t={});var n=t.skipAriaHidden;i.classList.toggle("ag-hidden",!e),n||aS(i,!e)}function tz(i,e,t){t===void 0&&(t={});var n=t.skipAriaHidden;i.classList.toggle("ag-invisible",!e),n||aS(i,!e)}function Th(i,e){var t="disabled",n=e?function(r){return r.setAttribute(t,"")}:function(r){return r.removeAttribute(t)};n(i),$M(i.querySelectorAll("input"),function(r){return n(r)})}function uc(i,e,t){for(var n=0;i;){if(i.classList.contains(e))return!0;if(i=i.parentElement,typeof t=="number"){if(++n>t)break}else if(i===t)break}return!1}function Nl(i){var e=window.getComputedStyle(i),t=e.height,n=e.width,r=e.borderTopWidth,o=e.borderRightWidth,s=e.borderBottomWidth,a=e.borderLeftWidth,l=e.paddingTop,u=e.paddingRight,c=e.paddingBottom,d=e.paddingLeft,h=e.marginTop,f=e.marginRight,p=e.marginBottom,g=e.marginLeft,m=e.boxSizing;return{height:parseFloat(t||"0"),width:parseFloat(n||"0"),borderTopWidth:parseFloat(r||"0"),borderRightWidth:parseFloat(o||"0"),borderBottomWidth:parseFloat(s||"0"),borderLeftWidth:parseFloat(a||"0"),paddingTop:parseFloat(l||"0"),paddingRight:parseFloat(u||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(d||"0"),marginTop:parseFloat(h||"0"),marginRight:parseFloat(f||"0"),marginBottom:parseFloat(p||"0"),marginLeft:parseFloat(g||"0"),boxSizing:m}}function sm(i){var e=Nl(i);return e.boxSizing==="border-box"?e.height-e.paddingTop-e.paddingBottom:e.height}function gc(i){var e=Nl(i);return e.boxSizing==="border-box"?e.width-e.paddingLeft-e.paddingRight:e.width}function GM(i){var e=Nl(i),t=e.marginBottom+e.marginTop;return Math.ceil(i.offsetHeight+t)}function Xg(i){var e=Nl(i),t=e.marginLeft+e.marginRight;return Math.ceil(i.offsetWidth+t)}function BM(i){var e=i.getBoundingClientRect(),t=Nl(i),n=t.borderTopWidth,r=t.borderLeftWidth,o=t.borderRightWidth,s=t.borderBottomWidth;return{top:e.top+(n||0),left:e.left+(r||0),right:e.right+(o||0),bottom:e.bottom+(s||0)}}function Jg(){if(typeof hw=="boolean")return hw;var i=document.createElement("div");return i.style.direction="rtl",i.style.width="1px",i.style.height="1px",i.style.position="fixed",i.style.top="0px",i.style.overflow="hidden",i.dir="rtl",i.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(i),i.scrollLeft=1,hw=Math.floor(i.scrollLeft)===0,document.body.removeChild(i),hw}function em(i,e){var t=i.scrollLeft;return e&&(t=Math.abs(t),uS()&&!Jg()&&(t=i.scrollWidth-i.clientWidth-t)),t}function tm(i,e,t){t&&(Jg()?e*=-1:(Io()||uS())&&(e=i.scrollWidth-i.clientWidth-e)),i.scrollLeft=e}function Wn(i){for(;i&&i.firstChild;)i.removeChild(i.firstChild)}function pa(i){i&&i.parentNode&&i.parentNode.removeChild(i)}function jM(i){return!!i.offsetParent}function Ar(i){var e=i;if(e.checkVisibility)return e.checkVisibility({checkVisibilityCSS:!0});var t=!jM(i)||window.getComputedStyle(i).visibility!=="visible";return!t}function Zi(i){var e=document.createElement("div");return e.innerHTML=(i||"").trim(),e.firstChild}function UM(i,e,t){t&&t.nextSibling===e||(t?t.nextSibling?i.insertBefore(e,t.nextSibling):i.appendChild(e):i.firstChild&&i.firstChild!==e&&i.insertAdjacentElement("afterbegin",e))}function WM(i,e){for(var t=0;t<e.length;t++){var n=e[t],r=i.children[t];r!==n&&i.insertBefore(n,r)}}function nz(i,e,t){t?t.insertAdjacentElement("afterend",e):i.firstChild?i.insertAdjacentElement("afterbegin",e):i.appendChild(e)}function zM(i,e){var t,n;if(e)try{for(var r=yue(Object.entries(e)),o=r.next();!o.done;o=r.next()){var s=_ue(o.value,2),a=s[0],l=s[1];if(!(!a||!a.length||l==null)){var u=IW(a),c=l.toString(),d=c.replace(/\s*!important/g,""),h=d.length!=c.length?"important":void 0;i.style.setProperty(u,d,h)}}}catch(f){t={error:f}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}function iz(i){return i.clientWidth<i.scrollWidth}function rz(i){return i.clientHeight<i.scrollHeight}function nm(i,e){e==="flex"?(i.style.removeProperty("width"),i.style.removeProperty("minWidth"),i.style.removeProperty("maxWidth"),i.style.flex="1 1 auto"):io(i,e)}function io(i,e){e=cS(e),i.style.width=e.toString(),i.style.maxWidth=e.toString(),i.style.minWidth=e.toString()}function Cue(i,e){e==="flex"?(i.style.removeProperty("height"),i.style.removeProperty("minHeight"),i.style.removeProperty("maxHeight"),i.style.flex="1 1 auto"):cc(i,e)}function cc(i,e){e=cS(e),i.style.height=e.toString(),i.style.maxHeight=e.toString(),i.style.minHeight=e.toString()}function cS(i){return typeof i=="number"?"".concat(i,"px"):i}function am(i){return i instanceof Node||i instanceof HTMLElement}function oz(i){if(i==null)return[];var e=[];return $M(i,function(t){return e.push(t)}),e}function sz(i,e){if(i)for(var t=0;t<i.length;t++){var n=i[t];e(n.name,n.value)}}function bs(i,e,t){t==null?i.removeAttribute(e):i.setAttribute(e,t.toString())}function $M(i,e){if(i!=null)for(var t=0;t<i.length;t++)e(i[t])}function qM(i,e){i.then(function(t){var n=t.getGui();n!=null&&(typeof n=="object"?e.appendChild(n):e.innerHTML=n)})}var wue=Object.freeze({__proto__:null,radioCssClass:sM,FOCUSABLE_SELECTOR:ez,FOCUSABLE_EXCLUDE:VM,isFocusableFormField:HM,setDisplayed:tt,setVisible:tz,setDisabled:Th,isElementChildOfClass:uc,getElementSize:Nl,getInnerHeight:sm,getInnerWidth:gc,getAbsoluteHeight:GM,getAbsoluteWidth:Xg,getElementRectWithOffset:BM,isRtlNegativeScroll:Jg,getScrollLeft:em,setScrollLeft:tm,clearElement:Wn,removeFromParent:pa,isInDOM:jM,isVisible:Ar,loadTemplate:Zi,ensureDomOrder:UM,setDomChildOrder:WM,insertWithDomOrder:nz,addStylesToElement:zM,isHorizontalScrollShowing:iz,isVerticalScrollShowing:rz,setElementWidth:nm,setFixedWidth:io,setElementHeight:Cue,setFixedHeight:cc,formatSize:cS,isNodeOrElement:am,copyNodeList:oz,iterateNamedNodeMap:sz,addOrRemoveAttribute:bs,nodeListForEach:$M,bindCellRendererToHtmlElement:qM}),Sue=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function az(i,e,t){var n={},r=i.filter(function(o){return!e.some(function(s){return s===o})});return r.length>0&&r.forEach(function(o){return n[o]=lm(o,t).values}),n}function lm(i,e,t,n){var r,o,s=e.map(function(p,g){return{value:p,relevance:bue(i.toLowerCase(),p.toLocaleLowerCase()),idx:g}});if(s.sort(function(p,g){return g.relevance-p.relevance}),t&&(s=s.filter(function(p){return p.relevance!==0})),s.length>0&&n&&n>0){var a=s[0].relevance,l=a*n;s=s.filter(function(p){return l-p.relevance<0})}var u=[],c=[];try{for(var d=Sue(s),h=d.next();!h.done;h=d.next()){var f=h.value;u.push(f.value),c.push(f.idx)}}catch(p){r={error:p}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}return{values:u,indices:c}}function bue(i,e){for(var t=i.replace(/\s/g,""),n=e.replace(/\s/g,""),r=0,o=-1,s=0;s<t.length;s++){var a=n.indexOf(t[s],o+1);a!==-1&&(o=a,r+=100-o*100/1e4*100)}return r}var Eue=Object.freeze({__proto__:null,fuzzyCheckStrings:az,fuzzySuggestions:lm}),lz={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus"};function Xr(i,e,t){var n=cn(i,e,t);if(n){var r=n.className;if(typeof r=="string"&&r.indexOf("ag-icon")>-1||typeof r=="object"&&r["ag-icon"])return n}var o=document.createElement("span");return o.appendChild(n),o}function cn(i,e,t,n){var r=null,o=t&&t.getColDef().icons;if(o&&(r=o[i]),e&&!r){var s=e.get("icons");s&&(r=s[i])}if(r){var a=void 0;if(typeof r=="function")a=r();else if(typeof r=="string")a=r;else throw new Error("icon from grid options needs to be a string or a function");if(typeof a=="string")return Zi(a);if(am(a))return a;console.warn("AG Grid: iconRenderer should return back a string or a dom object")}else{var l=document.createElement("span"),u=lz[i];return u||(n?u=i:(console.warn("AG Grid: Did not find icon ".concat(i)),u="")),l.setAttribute("class","ag-icon ag-icon-".concat(u)),l.setAttribute("unselectable","on"),In(l,"presentation"),l}}var Due=Object.freeze({__proto__:null,iconNameClassMap:lz,createIcon:Xr,createIconNoSpan:cn}),F=function(){function i(){}return i.BACKSPACE="Backspace",i.TAB="Tab",i.ENTER="Enter",i.ESCAPE="Escape",i.SPACE=" ",i.LEFT="ArrowLeft",i.UP="ArrowUp",i.RIGHT="ArrowRight",i.DOWN="ArrowDown",i.DELETE="Delete",i.F2="F2",i.PAGE_UP="PageUp",i.PAGE_DOWN="PageDown",i.PAGE_HOME="Home",i.PAGE_END="End",i.A="KeyA",i.C="KeyC",i.D="KeyD",i.V="KeyV",i.X="KeyX",i.Y="KeyY",i.Z="KeyZ",i}(),Tue=65,Rue=67,Aue=86,Oue=68,xue=90,Mue=89;function dS(i){if(i.altKey||i.ctrlKey||i.metaKey)return!1;var e=i.key.length===1;return e}function Ww(i,e,t,n,r){var o=n?n.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;var s=i.addGridCommonParams({event:e,editing:r,column:n,node:t,data:t.data,colDef:n.getColDef()});if(o){var a=o(s);if(a)return!0}return!1}function uz(i,e,t,n){var r=n.getDefinition(),o=r&&r.suppressHeaderKeyboardEvent;if(!W(o))return!1;var s=i.addGridCommonParams({colDef:r,column:n,headerRowIndex:t,event:e});return!!o(s)}function cz(i){var e=i.keyCode,t;switch(e){case Tue:t=F.A;break;case Rue:t=F.C;break;case Aue:t=F.V;break;case Oue:t=F.D;break;case xue:t=F.Z;break;case Mue:t=F.Y;break;default:t=i.code}return t}function dz(i,e){return e===void 0&&(e=!1),i===F.DELETE?!0:!e&&i===F.BACKSPACE?FM():!1}var Iue=Object.freeze({__proto__:null,isEventFromPrintableCharacter:dS,isUserSuppressingKeyboardEvent:Ww,isUserSuppressingHeaderKeyboardEvent:uz,normaliseQwertyAzerty:cz,isDeleteKey:dz});function YM(i,e,t){if(t===0)return!1;var n=Math.abs(i.clientX-e.clientX),r=Math.abs(i.clientY-e.clientY);return Math.max(n,r)<=t}var Pue=Object.freeze({__proto__:null,areEventsNear:YM});function Fue(i,e){if(!i)return!1;for(var t=function(a,l){var u=e[a.id],c=e[l.id],d=u!==void 0,h=c!==void 0,f=d&&h,p=!d&&!h;return f?u-c:p?a.__objectId-l.__objectId:d?1:-1},n,r,o=!1,s=0;s<i.length-1;s++)if(n=i[s],r=i[s+1],t(n,r)>0){o=!0;break}return o?(i.sort(t),!0):!1}var Nue=Object.freeze({__proto__:null,sortRowNodesByOrder:Fue});function KM(i){var e=new Set;return i.forEach(function(t){return e.add(t)}),e}var Lue=Object.freeze({__proto__:null,convertToSet:KM}),yn=function(){return yn=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},yn.apply(this,arguments)},kue=yn(yn(yn(yn(yn(yn(yn(yn(yn(yn(yn(yn(yn(yn(yn(yn(yn(yn({},cue),xle),due),vue),wue),Ile),mle),Eue),rle),Due),Iue),$le),Pue),mue),fle),Nue),Lue),Ule),Ne=kue,Rh=function(){function i(e,t){e===void 0&&(e=0),t===void 0&&(t=1),this.nextValue=e,this.step=t}return i.prototype.next=function(){var e=this.nextValue;return this.nextValue+=this.step,e},i.prototype.peek=function(){return this.nextValue},i.prototype.skip=function(e){this.nextValue+=e},i}(),Wg=function(i){return i[i.IN_PROGRESS=0]="IN_PROGRESS",i[i.RESOLVED=1]="RESOLVED",i}(Wg||{}),Jr=function(){function i(e){var t=this;this.status=Wg.IN_PROGRESS,this.resolution=null,this.waiters=[],e(function(n){return t.onDone(n)},function(n){return t.onReject(n)})}return i.all=function(e){return new i(function(t){var n=e.length,r=new Array(n);e.forEach(function(o,s){o.then(function(a){r[s]=a,n--,n===0&&t(r)})})})},i.resolve=function(e){return e===void 0&&(e=null),new i(function(t){return t(e)})},i.prototype.then=function(e){var t=this;return new i(function(n){t.status===Wg.RESOLVED?n(e(t.resolution)):t.waiters.push(function(r){return n(e(r))})})},i.prototype.resolveNow=function(e,t){return this.status===Wg.RESOLVED?t(this.resolution):e},i.prototype.onDone=function(e){this.status=Wg.RESOLVED,this.resolution=e,this.waiters.forEach(function(t){return t(e)})},i.prototype.onReject=function(e){console.warn("TBI")},i}(),mBe=function(){function i(){this.timestamp=new Date().getTime()}return i.prototype.print=function(e){var t=new Date().getTime()-this.timestamp;console.info("".concat(e," = ").concat(t)),this.timestamp=new Date().getTime()},i}(),Vue=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),sc=function(){return sc=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},sc.apply(this,arguments)},ux=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},_s=function(i){return i[i.NOTHING=0]="NOTHING",i[i.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",i[i.SHOWING=2]="SHOWING",i}(_s||{}),ca=function(i){return i[i.HOVER=0]="HOVER",i[i.FOCUS=1]="FOCUS",i}(ca||{}),QM=function(i){Vue(e,i);function e(t,n,r){var o=i.call(this)||this;return o.parentComp=t,o.tooltipShowDelayOverride=n,o.tooltipHideDelayOverride=r,o.SHOW_QUICK_TOOLTIP_DIFF=1e3,o.FADE_OUT_TOOLTIP_TIMEOUT=1e3,o.INTERACTIVE_HIDE_DELAY=100,o.interactionEnabled=!1,o.isInteractingWithTooltip=!1,o.state=_s.NOTHING,o.tooltipInstanceCount=0,o.tooltipMouseTrack=!1,o}return e.prototype.postConstruct=function(){this.gridOptionsService.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gridOptionsService.get("tooltipMouseTrack");var t=this.parentComp.getGui();this.tooltipTrigger===ca.HOVER&&(this.addManagedListener(t,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(t,"mouseleave",this.onMouseLeave.bind(this))),this.tooltipTrigger===ca.FOCUS&&(this.addManagedListener(t,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(t,"focusout",this.onFocusOut.bind(this))),this.addManagedListener(t,"mousemove",this.onMouseMove.bind(this)),this.interactionEnabled||(this.addManagedListener(t,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(t,"keydown",this.onKeyDown.bind(this)))},e.prototype.getGridOptionsTooltipDelay=function(t){var n=this.gridOptionsService.get(t);return n<0&&Ae("".concat(t," should not be lower than 0")),Math.max(200,n)},e.prototype.getTooltipDelay=function(t){var n,r;return t==="show"?(n=this.tooltipShowDelayOverride)!==null&&n!==void 0?n:this.getGridOptionsTooltipDelay("tooltipShowDelay"):(r=this.tooltipHideDelayOverride)!==null&&r!==void 0?r:this.getGridOptionsTooltipDelay("tooltipHideDelay")},e.prototype.destroy=function(){this.setToDoNothing(),i.prototype.destroy.call(this)},e.prototype.getTooltipTrigger=function(){var t=this.gridOptionsService.get("tooltipTrigger");return!t||t==="hover"?ca.HOVER:ca.FOCUS},e.prototype.onMouseEnter=function(t){var n=this;this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Fl()&&(e.isLocked?this.showTooltipTimeoutId=window.setTimeout(function(){n.prepareToShowTooltip(t)},this.INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(t))},e.prototype.onMouseMove=function(t){this.lastMouseEvent&&(this.lastMouseEvent=t),this.tooltipMouseTrack&&this.state===_s.SHOWING&&this.tooltipComp&&this.positionTooltip()},e.prototype.onMouseDown=function(){this.setToDoNothing()},e.prototype.onMouseLeave=function(){this.interactionEnabled?this.lockService():this.setToDoNothing()},e.prototype.onFocusIn=function(){this.prepareToShowTooltip()},e.prototype.onFocusOut=function(t){var n,r=t.relatedTarget,o=this.parentComp.getGui(),s=(n=this.tooltipComp)===null||n===void 0?void 0:n.getGui();this.isInteractingWithTooltip||o.contains(r)||this.interactionEnabled&&s?.contains(r)||this.setToDoNothing()},e.prototype.onKeyDown=function(){this.setToDoNothing()},e.prototype.prepareToShowTooltip=function(t){if(this.state!=_s.NOTHING||e.isLocked)return!1;var n=0;return t&&(n=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=t||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),n),this.state=_s.WAITING_TO_SHOW,!0},e.prototype.isLastTooltipHiddenRecently=function(){var t=new Date().getTime(),n=e.lastTooltipHideTime;return t-n<this.SHOW_QUICK_TOOLTIP_DIFF},e.prototype.setToDoNothing=function(){this.state===_s.SHOWING&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=_s.NOTHING,this.lastMouseEvent=null},e.prototype.showTooltip=function(){var t=sc({},this.parentComp.getTooltipParams());if(!W(t.value)){this.setToDoNothing();return}this.state=_s.SHOWING,this.tooltipInstanceCount++;var n=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount),r=this.userComponentFactory.getTooltipCompDetails(t);r.newAgStackInstance().then(n)},e.prototype.hideTooltip=function(t){if(!(!t&&this.isInteractingWithTooltip)){this.tooltipComp&&(this.destroyTooltipComp(),e.lastTooltipHideTime=new Date().getTime());var n={type:w.EVENT_TOOLTIP_HIDE,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(n),this.state=_s.NOTHING}},e.prototype.newTooltipComponentCallback=function(t,n){var r=this.state!==_s.SHOWING||this.tooltipInstanceCount!==t;if(r){this.getContext().destroyBean(n);return}var o=n.getGui();this.tooltipComp=n,o.classList.contains("ag-tooltip")||o.classList.add("ag-tooltip-custom"),this.tooltipTrigger===ca.HOVER&&o.classList.add("ag-tooltip-animate"),this.interactionEnabled&&o.classList.add("ag-tooltip-interactive");var s=this.localeService.getLocaleTextFunc(),a=this.popupService.addPopup({eChild:o,ariaLabel:s("ariaLabelTooltip","Tooltip")});a&&(this.tooltipPopupDestroyFunc=a.hideFunc),this.positionTooltip(),this.tooltipTrigger===ca.FOCUS&&(this.onBodyScrollEventCallback=this.addManagedListener(this.eventService,w.EVENT_BODY_SCROLL,this.setToDoNothing.bind(this)),this.onColumnMovedEventCallback=this.addManagedListener(this.eventService,w.EVENT_COLUMN_MOVED,this.setToDoNothing.bind(this))),this.interactionEnabled&&(this.tooltipTrigger===ca.HOVER?(this.tooltipMouseEnterListener=this.addManagedListener(o,"mouseenter",this.onTooltipMouseEnter.bind(this))||null,this.tooltipMouseLeaveListener=this.addManagedListener(o,"mouseleave",this.onTooltipMouseLeave.bind(this))||null):(this.tooltipFocusInListener=this.addManagedListener(o,"focusin",this.onTooltipFocusIn.bind(this))||null,this.tooltipFocusOutListener=this.addManagedListener(o,"focusout",this.onTooltipFocusOut.bind(this))||null));var l={type:w.EVENT_TOOLTIP_SHOW,tooltipGui:o,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(l),this.startHideTimeout()},e.prototype.onTooltipMouseEnter=function(){this.isInteractingWithTooltip=!0,this.unlockService()},e.prototype.onTooltipMouseLeave=function(){this.isInteractingWithTooltip=!1,this.lockService()},e.prototype.onTooltipFocusIn=function(){this.isInteractingWithTooltip=!0},e.prototype.onTooltipFocusOut=function(t){var n,r=this.parentComp.getGui(),o=(n=this.tooltipComp)===null||n===void 0?void 0:n.getGui(),s=t.relatedTarget;o?.contains(s)||(this.isInteractingWithTooltip=!1,r.contains(s)?this.startHideTimeout():this.hideTooltip())},e.prototype.positionTooltip=function(){var t={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(sc(sc({},t),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(sc(sc({},t),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))},e.prototype.destroyTooltipComp=function(){var t=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var n=this.tooltipPopupDestroyFunc,r=this.tooltipComp,o=this.tooltipTrigger===ca.HOVER?this.FADE_OUT_TOOLTIP_TIMEOUT:0;window.setTimeout(function(){n(),t.getContext().destroyBean(r)},o),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},e.prototype.clearTooltipListeners=function(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(function(t){t&&t()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null},e.prototype.lockService=function(){var t=this;e.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(function(){t.unlockService(),t.setToDoNothing()},this.INTERACTIVE_HIDE_DELAY)},e.prototype.unlockService=function(){e.isLocked=!1,this.clearInteractiveTimeout()},e.prototype.startHideTimeout=function(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))},e.prototype.clearShowTimeout=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)},e.prototype.clearHideTimeout=function(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},e.prototype.clearInteractiveTimeout=function(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)},e.prototype.clearTimeouts=function(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()},e.isLocked=!1,ux([_("popupService")],e.prototype,"popupService",void 0),ux([_("userComponentFactory")],e.prototype,"userComponentFactory",void 0),ux([Z],e.prototype,"postConstruct",null),e}(Y),Hue=function(){function i(e){this.cssClassStates={},this.getGui=e}return i.prototype.addCssClass=function(e){var t=this,n=(e||"").split(" ");if(n.length>1){n.forEach(function(s){return t.addCssClass(s)});return}var r=this.cssClassStates[e]!==!0;if(r&&e.length){var o=this.getGui();o&&o.classList.add(e),this.cssClassStates[e]=!0}},i.prototype.removeCssClass=function(e){var t=this,n=(e||"").split(" ");if(n.length>1){n.forEach(function(s){return t.removeCssClass(s)});return}var r=this.cssClassStates[e]!==!1;if(r&&e.length){var o=this.getGui();o&&o.classList.remove(e),this.cssClassStates[e]=!1}},i.prototype.containsCssClass=function(e){var t=this.getGui();return t?t.classList.contains(e):!1},i.prototype.addOrRemoveCssClass=function(e,t){var n=this;if(e){if(e.indexOf(" ")>=0){var r=(e||"").split(" ");if(r.length>1){r.forEach(function(a){return n.addOrRemoveCssClass(a,t)});return}}var o=this.cssClassStates[e]!==t;if(o&&e.length){var s=this.getGui();s&&s.classList.toggle(e,t),this.cssClassStates[e]=t}}},i}(),Gue=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),cx=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Bue=new Rh,Fe=function(i){Gue(e,i);function e(t){var n=i.call(this)||this;return n.displayed=!0,n.visible=!0,n.compId=Bue.next(),n.cssClassManager=new Hue(function(){return n.eGui}),t&&n.setTemplate(t),n}return e.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsService.get("enableBrowserTooltips")},e.prototype.getCompId=function(){return this.compId},e.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},e.prototype.setTooltip=function(t,n,r){var o=this,s=function(){o.usingBrowserTooltips?o.getGui().removeAttribute("title"):o.tooltipFeature=o.destroyBean(o.tooltipFeature)},a=function(){o.usingBrowserTooltips?o.getGui().setAttribute("title",o.tooltipText):o.tooltipFeature=o.createBean(new QM(o,n,r))};this.tooltipText!=t&&(this.tooltipText&&s(),t!=null&&(this.tooltipText=t,this.tooltipText&&a()))},e.prototype.createChildComponentsFromTags=function(t,n){var r=this,o=oz(t.childNodes);o.forEach(function(s){if(s instanceof HTMLElement){var a=r.createComponentFromElement(s,function(u){var c=u.getGui();c&&r.copyAttributesFromNode(s,u.getGui())},n);if(a){if(a.addItems&&s.children.length){r.createChildComponentsFromTags(s,n);var l=Array.prototype.slice.call(s.children);a.addItems(l)}r.swapComponentForNode(a,t,s)}else s.childNodes&&r.createChildComponentsFromTags(s,n)}})},e.prototype.createComponentFromElement=function(t,n,r){var o=t.nodeName,s=r?r[t.getAttribute("ref")]:void 0,a=this.agStackComponentsRegistry.getComponentClass(o);if(a){e.elementGettingCreated=t;var l=new a(s);return l.setParentComponent(this),this.createBean(l,null,n),l}return null},e.prototype.copyAttributesFromNode=function(t,n){sz(t.attributes,function(r,o){return n.setAttribute(r,o)})},e.prototype.swapComponentForNode=function(t,n,r){var o=t.getGui();n.replaceChild(o,r),n.insertBefore(document.createComment(r.nodeName),o),this.addDestroyFunc(this.destroyBean.bind(this,t)),this.swapInComponentForQuerySelectors(t,r)},e.prototype.swapInComponentForQuerySelectors=function(t,n){var r=this;this.iterateOverQuerySelectors(function(o){r[o.attributeName]===n&&(r[o.attributeName]=t)})},e.prototype.iterateOverQuerySelectors=function(t){for(var n=Object.getPrototypeOf(this);n!=null;){var r=n.__agComponentMetaData,o=oS(n.constructor);r&&r[o]&&r[o].querySelectors&&r[o].querySelectors.forEach(function(s){return t(s)}),n=Object.getPrototypeOf(n)}},e.prototype.activateTabIndex=function(t){var n=this.gridOptionsService.get("tabIndex");t||(t=[]),t.length||t.push(this.getGui()),t.forEach(function(r){return r.setAttribute("tabindex",n.toString())})},e.prototype.setTemplate=function(t,n){var r=Zi(t);this.setTemplateFromElement(r,n)},e.prototype.setTemplateFromElement=function(t,n){this.eGui=t,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),n)},e.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},e.prototype.wireQuerySelectors=function(){var t=this;if(this.eGui){var n=this;this.iterateOverQuerySelectors(function(r){var o=function(l){return n[r.attributeName]=l},s=r.refSelector&&t.getAttribute("ref")===r.refSelector;if(s)o(t.eGui);else{var a=t.eGui.querySelector(r.querySelector);a&&o(a.__agComponent||a)}})}},e.prototype.getGui=function(){return this.eGui},e.prototype.getFocusableElement=function(){return this.eGui},e.prototype.getAriaElement=function(){return this.getFocusableElement()},e.prototype.setParentComponent=function(t){this.parentComponent=t},e.prototype.getParentComponent=function(){return this.parentComponent},e.prototype.setGui=function(t){this.eGui=t},e.prototype.queryForHtmlElement=function(t){return this.eGui.querySelector(t)},e.prototype.queryForHtmlInputElement=function(t){return this.eGui.querySelector(t)},e.prototype.appendChild=function(t,n){if(t!=null)if(n||(n=this.eGui),am(t))n.appendChild(t);else{var r=t;n.appendChild(r.getGui())}},e.prototype.isDisplayed=function(){return this.displayed},e.prototype.setVisible=function(t,n){if(n===void 0&&(n={}),t!==this.visible){this.visible=t;var r=n.skipAriaHidden;tz(this.eGui,t,{skipAriaHidden:r})}},e.prototype.setDisplayed=function(t,n){if(n===void 0&&(n={}),t!==this.displayed){this.displayed=t;var r=n.skipAriaHidden;tt(this.eGui,t,{skipAriaHidden:r});var o={type:e.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(o)}},e.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.parentComponent&&(this.parentComponent=void 0);var t=this.eGui;t&&t.__agComponent&&(t.__agComponent=void 0),i.prototype.destroy.call(this)},e.prototype.addGuiEventListener=function(t,n,r){var o=this;this.eGui.addEventListener(t,n,r),this.addDestroyFunc(function(){return o.eGui.removeEventListener(t,n)})},e.prototype.addCssClass=function(t){this.cssClassManager.addCssClass(t)},e.prototype.removeCssClass=function(t){this.cssClassManager.removeCssClass(t)},e.prototype.containsCssClass=function(t){return this.cssClassManager.containsCssClass(t)},e.prototype.addOrRemoveCssClass=function(t,n){this.cssClassManager.addOrRemoveCssClass(t,n)},e.prototype.getAttribute=function(t){var n=this.eGui;return n?n.getAttribute(t):null},e.prototype.getRefElement=function(t){return this.queryForHtmlElement('[ref="'.concat(t,'"]'))},e.EVENT_DISPLAYED_CHANGED="displayedChanged",cx([_("agStackComponentsRegistry")],e.prototype,"agStackComponentsRegistry",void 0),cx([tU],e.prototype,"preConstructOnComponent",null),cx([tU],e.prototype,"createChildComponentsPreConstruct",null),e}(Y);function J(i){return jue.bind(this,"[ref=".concat(i,"]"),i)}function jue(i,e,t,n,r){if(i===null){console.error("AG Grid: QuerySelector selector should not be null");return}if(typeof r=="number"){console.error("AG Grid: QuerySelector should be on an attribute");return}Uue(t,"querySelectors",{attributeName:n,querySelector:i,refSelector:e})}function Uue(i,e,t){var n=Wue(i,oS(i.constructor));n[e]||(n[e]=[]),n[e].push(t)}function Wue(i,e){return i.__agComponentMetaData||(i.__agComponentMetaData={}),i.__agComponentMetaData[e]||(i.__agComponentMetaData[e]={}),i.__agComponentMetaData[e]}var zue=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),oU=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},$ue=function(i){zue(e,i);function e(){return i.call(this,`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>
            </div>`)||this}return e.prototype.destroy=function(){i.prototype.destroy.call(this)},e.prototype.init=function(t){this.params=t;var n=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),r=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel("".concat(n," ").concat(r("ariaFilterInput","Filter Input")))},e.prototype.onParentModelChanged=function(t){var n=this;if(t==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(function(r){if(r.getModelAsString){var o=r.getModelAsString(t);n.eFloatingFilterText.setValue(o)}})},e.prototype.onParamsUpdated=function(t){this.refresh(t)},e.prototype.refresh=function(t){this.init(t)},oU([J("eFloatingFilterText")],e.prototype,"eFloatingFilterText",void 0),oU([_("columnModel")],e.prototype,"columnModel",void 0),e}(Fe),hz=function(){function i(e,t,n,r){var o=this;this.alive=!0,this.context=e,this.eParent=r;var s=t.getDateCompDetails(n),a=s.newAgStackInstance();a.then(function(l){if(!o.alive){e.destroyBean(l);return}o.dateComp=l,l&&(r.appendChild(l.getGui()),l.afterGuiAttached&&l.afterGuiAttached(),o.tempValue&&l.setDate(o.tempValue),o.disabled!=null&&o.setDateCompDisabled(o.disabled))})}return i.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},i.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},i.prototype.setDate=function(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e},i.prototype.setDisabled=function(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e},i.prototype.setDisplayed=function(e){tt(this.eParent,e)},i.prototype.setInputPlaceholder=function(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)},i.prototype.setInputAriaLabel=function(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)},i.prototype.afterGuiAttached=function(e){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(e)},i.prototype.updateParams=function(e){var t,n,r=!1;if(!((t=this.dateComp)===null||t===void 0)&&t.refresh&&typeof this.dateComp.refresh=="function"){var o=this.dateComp.refresh(e);o!==null&&(r=!0)}!r&&(!((n=this.dateComp)===null||n===void 0)&&n.onParamsUpdated)&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(e)},i.prototype.setDateCompDisabled=function(e){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(e)},i}(),fz=function(){function i(){this.customFilterOptions={}}return i.prototype.init=function(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)},i.prototype.getFilterOptions=function(){return this.filterOptions},i.prototype.mapCustomOptions=function(){var e=this;this.filterOptions&&this.filterOptions.forEach(function(t){if(typeof t!="string"){var n=[["displayKey"],["displayName"],["predicate","test"]],r=function(o){return o.some(function(s){return t[s]!=null})?!0:(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '".concat(o,"'")),!1)};if(!n.every(r)){e.filterOptions=e.filterOptions.filter(function(o){return o===t})||[];return}e.customFilterOptions[t.displayKey]=t}})},i.prototype.selectDefaultItem=function(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){var t=this.filterOptions[0];typeof t=="string"?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},i.prototype.getDefaultOption=function(){return this.defaultOption},i.prototype.getCustomOption=function(e){return this.customFilterOptions[e]},i}(),pz={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},que=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),aM=function(){return aM=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},aM.apply(this,arguments)},sU=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},mc=function(i){que(e,i);function e(t,n){n===void 0&&(n={});var r=i.call(this)||this;return r.eFocusableElement=t,r.callbacks=n,r.callbacks=aM({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(o){if(!o.defaultPrevented){var s=r.focusService.findNextFocusableElement(r.eFocusableElement,!1,o.shiftKey);s&&(s.focus(),o.preventDefault())}}},n),r}return e.prototype.postConstruct=function(){this.eFocusableElement.classList.add(e.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},e.prototype.addKeyDownListeners=function(t){var n=this;this.addManagedListener(t,"keydown",function(r){if(!(r.defaultPrevented||Mo(r))){if(n.callbacks.shouldStopEventPropagation(r)){Es(r);return}r.key===F.TAB?n.callbacks.onTabKeyDown(r):n.callbacks.handleKeyDown&&n.callbacks.handleKeyDown(r)}})},e.FOCUS_MANAGED_CLASS="ag-focus-managed",sU([_("focusService")],e.prototype,"focusService",void 0),sU([Z],e.prototype,"postConstruct",null),e}(Y),Yue=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),dx=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},gz="ag-resizer-wrapper",Kue='<div class="'.concat(gz,`">
        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>
        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>
        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>
        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>
        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>
        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>
        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>
        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>
    </div>`),mz=function(i){Yue(e,i);function e(t,n){var r=i.call(this)||this;return r.element=t,r.dragStartPosition={x:0,y:0},r.position={x:0,y:0},r.lastSize={width:-1,height:-1},r.positioned=!1,r.resizersAdded=!1,r.resizeListeners=[],r.boundaryEl=null,r.isResizing=!1,r.isMoving=!1,r.resizable={},r.movable=!1,r.currentResizer=null,r.config=Object.assign({},{popup:!1},n),r}return e.prototype.center=function(){var t=this.offsetParent,n=t.clientHeight,r=t.clientWidth,o=r/2-this.getWidth()/2,s=n/2-this.getHeight()/2;this.offsetElement(o,s)},e.prototype.initialisePosition=function(){if(!this.positioned){var t=this.config,n=t.centered,r=t.forcePopupParentAsOffsetParent,o=t.minWidth,s=t.width,a=t.minHeight,l=t.height,u=t.x,c=t.y;this.offsetParent||this.setOffsetParent();var d=0,h=0,f=Ar(this.element);if(f){var p=this.findBoundaryElement(),g=window.getComputedStyle(p);if(g.minWidth!=null){var m=p.offsetWidth-this.element.offsetWidth;h=parseInt(g.minWidth,10)-m}if(g.minHeight!=null){var v=p.offsetHeight-this.element.offsetHeight;d=parseInt(g.minHeight,10)-v}}if(this.minHeight=a||d,this.minWidth=o||h,s&&this.setWidth(s),l&&this.setHeight(l),(!s||!l)&&this.refreshSize(),n)this.center();else if(u||c)this.offsetElement(u,c);else if(f&&r){var p=this.boundaryEl,y=!0;if(p||(p=this.findBoundaryElement(),y=!1),p){var C=parseFloat(p.style.top),S=parseFloat(p.style.left);y?this.offsetElement(isNaN(S)?0:S,isNaN(C)?0:C):this.setPosition(S,C)}}this.positioned=!!this.offsetParent}},e.prototype.isPositioned=function(){return this.positioned},e.prototype.getPosition=function(){return this.position},e.prototype.setMovable=function(t,n){if(!(!this.config.popup||t===this.movable)){this.movable=t;var r=this.moveElementDragListener||{eElement:n,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};t?(this.dragService.addDragSource(r),this.moveElementDragListener=r):(this.dragService.removeDragSource(r),this.moveElementDragListener=void 0)}},e.prototype.setResizable=function(t){var n=this;if(this.clearResizeListeners(),t?this.addResizers():this.removeResizers(),typeof t=="boolean"){if(t===!1)return;t={topLeft:t,top:t,topRight:t,right:t,bottomRight:t,bottom:t,bottomLeft:t,left:t}}Object.keys(t).forEach(function(r){var o=t,s=!!o[r],a=n.getResizerElement(r),l={dragStartPixels:0,eElement:a,onDragStart:function(u){return n.onResizeStart(u,r)},onDragging:n.onResize.bind(n),onDragStop:function(u){return n.onResizeEnd(u,r)}};(s||!n.isAlive()&&!s)&&(s?(n.dragService.addDragSource(l),n.resizeListeners.push(l),a.style.pointerEvents="all"):a.style.pointerEvents="none",n.resizable[r]=s)})},e.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},e.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var t=this.lastSize,n=t.height,r=t.width;r!==-1&&(this.element.style.width="".concat(r,"px")),n!==-1&&(this.element.style.height="".concat(n,"px"))},e.prototype.getHeight=function(){return this.element.offsetHeight},e.prototype.setHeight=function(t){var n=this.config.popup,r=this.element,o=!1;if(typeof t=="string"&&t.indexOf("%")!==-1)cc(r,t),t=GM(r),o=!0;else if(t=Math.max(this.minHeight,t),this.positioned){var s=this.getAvailableHeight();s&&t>s&&(t=s)}this.getHeight()!==t&&(o?(r.style.maxHeight="unset",r.style.minHeight="unset"):n?cc(r,t):(r.style.height="".concat(t,"px"),r.style.flex="0 0 auto",this.lastSize.height=typeof t=="number"?t:parseFloat(t)))},e.prototype.getAvailableHeight=function(){var t=this.config,n=t.popup,r=t.forcePopupParentAsOffsetParent;this.positioned||this.initialisePosition();var o=this.offsetParent.clientHeight;if(!o)return null;var s=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),l=n?this.position.y:s.top,u=n?0:a.top,c=0;if(r){var d=this.element.parentElement;if(d){var h=d.getBoundingClientRect().bottom;c=h-s.bottom}}var f=o+u-l-c;return f},e.prototype.getWidth=function(){return this.element.offsetWidth},e.prototype.setWidth=function(t){var n=this.element,r=this.config.popup,o=!1;if(typeof t=="string"&&t.indexOf("%")!==-1)io(n,t),t=Xg(n),o=!0;else if(this.positioned){t=Math.max(this.minWidth,t);var s=this.offsetParent.clientWidth,a=r?this.position.x:this.element.getBoundingClientRect().left;s&&t+a>s&&(t=s-a)}this.getWidth()!==t&&(o?(n.style.maxWidth="unset",n.style.minWidth="unset"):this.config.popup?io(n,t):(n.style.width="".concat(t,"px"),n.style.flex=" unset",this.lastSize.width=typeof t=="number"?t:parseFloat(t)))},e.prototype.offsetElement=function(t,n){t===void 0&&(t=0),n===void 0&&(n=0);var r=this.config.forcePopupParentAsOffsetParent,o=r?this.boundaryEl:this.element;o&&(this.popupService.positionPopup({ePopup:o,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:function(){return{x:t,y:n}}}),this.setPosition(parseFloat(o.style.left),parseFloat(o.style.top)))},e.prototype.constrainSizeToAvailableHeight=function(t){var n=this;if(this.config.forcePopupParentAsOffsetParent){var r=function(){var o=n.getAvailableHeight();n.element.style.setProperty("max-height","".concat(o,"px"))};t?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),r):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}},e.prototype.setPosition=function(t,n){this.position.x=t,this.position.y=n},e.prototype.updateDragStartPosition=function(t,n){this.dragStartPosition={x:t,y:n}},e.prototype.calculateMouseMovement=function(t){var n=t.e,r=t.isLeft,o=t.isTop,s=t.anywhereWithin,a=t.topBuffer,l=n.clientX-this.dragStartPosition.x,u=n.clientY-this.dragStartPosition.y,c=this.shouldSkipX(n,!!r,!!s,l)?0:l,d=this.shouldSkipY(n,!!o,a,u)?0:u;return{movementX:c,movementY:d}},e.prototype.shouldSkipX=function(t,n,r,o){var s=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),u=this.config.popup?this.position.x:s.left,c=u<=0&&a.left>=t.clientX||a.right<=t.clientX&&a.right<=l.right;return c?!0:(n?c=o<0&&t.clientX>u+a.left||o>0&&t.clientX<u+a.left:r?c=o<0&&t.clientX>l.right||o>0&&t.clientX<u+a.left:c=o<0&&t.clientX>l.right||o>0&&t.clientX<l.right,c)},e.prototype.shouldSkipY=function(t,n,r,o){r===void 0&&(r=0);var s=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),u=this.config.popup?this.position.y:s.top,c=u<=0&&a.top>=t.clientY||a.bottom<=t.clientY&&a.bottom<=l.bottom;return c?!0:(n?c=o<0&&t.clientY>u+a.top+r||o>0&&t.clientY<u+a.top:c=o<0&&t.clientY>l.bottom||o>0&&t.clientY<l.bottom,c)},e.prototype.createResizeMap=function(){var t=this.element;this.resizerMap={topLeft:{element:t.querySelector("[ref=eTopLeftResizer]")},top:{element:t.querySelector("[ref=eTopResizer]")},topRight:{element:t.querySelector("[ref=eTopRightResizer]")},right:{element:t.querySelector("[ref=eRightResizer]")},bottomRight:{element:t.querySelector("[ref=eBottomRightResizer]")},bottom:{element:t.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:t.querySelector("[ref=eBottomLeftResizer]")},left:{element:t.querySelector("[ref=eLeftResizer]")}}},e.prototype.addResizers=function(){if(!this.resizersAdded){var t=this.element;if(t){var n=new DOMParser,r=n.parseFromString(Kue,"text/html").body;t.appendChild(r.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},e.prototype.removeResizers=function(){this.resizerMap=void 0;var t=this.element.querySelector(".".concat(gz));t&&this.element.removeChild(t),this.resizersAdded=!1},e.prototype.getResizerElement=function(t){return this.resizerMap[t].element},e.prototype.onResizeStart=function(t,n){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!n.match(/top/i),isRight:!!n.match(/right/i),isBottom:!!n.match(/bottom/i),isLeft:!!n.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[n].element.classList.add("ag-active");var r=this.config,o=r.popup,s=r.forcePopupParentAsOffsetParent;!o&&!s&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(t.clientX,t.clientY)},e.prototype.getSiblings=function(){var t=this.element,n=t.parentElement;return n?Array.prototype.slice.call(n.children).filter(function(r){return!r.classList.contains("ag-hidden")}):null},e.prototype.getMinSizeOfSiblings=function(){for(var t=this.getSiblings()||[],n=0,r=0,o=0;o<t.length;o++){var s=t[o],a=!!s.style.flex&&s.style.flex!=="0 0 auto";if(s!==this.element){var l=this.minHeight||0,u=this.minWidth||0;if(a){var c=window.getComputedStyle(s);c.minHeight&&(l=parseInt(c.minHeight,10)),c.minWidth&&(u=parseInt(c.minWidth,10))}else l=s.offsetHeight,u=s.offsetWidth;n+=l,r+=u}}return{height:n,width:r}},e.prototype.applySizeToSiblings=function(t){var n=null,r=this.getSiblings();if(r){for(var o=0;o<r.length;o++){var s=r[o];s!==n&&(t?s.style.height="".concat(s.offsetHeight,"px"):s.style.width="".concat(s.offsetWidth,"px"),s.style.flex="0 0 auto",s===this.element&&(n=r[o+1]))}n&&(n.style.removeProperty("height"),n.style.removeProperty("min-height"),n.style.removeProperty("max-height"),n.style.flex="1 1 auto")}},e.prototype.isResizable=function(){return Object.values(this.resizable).some(function(t){return t})},e.prototype.onResize=function(t){if(!(!this.isResizing||!this.currentResizer)){var n=this.config,r=n.popup,o=n.forcePopupParentAsOffsetParent,s=this.currentResizer,a=s.isTop,l=s.isRight,u=s.isBottom,c=s.isLeft,d=l||c,h=u||a,f=this.calculateMouseMovement({e:t,isLeft:c,isTop:a}),p=f.movementX,g=f.movementY,m=this.position.x,v=this.position.y,y=0,C=0;if(d&&p){var S=c?-1:1,E=this.getWidth(),T=E+p*S,O=!1;c&&(y=E-T,(m+y<=0||T<=this.minWidth)&&(O=!0,y=0)),O||this.setWidth(T)}if(h&&g){var S=a?-1:1,R=this.getHeight(),M=R+g*S,H=!1;a?(C=R-M,(v+C<=0||M<=this.minHeight)&&(H=!0,C=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&R<M&&this.getMinSizeOfSiblings().height+M>this.element.parentElement.offsetHeight&&(H=!0),H||this.setHeight(M)}this.updateDragStartPosition(t.clientX,t.clientY),((r||o)&&y||C)&&this.offsetElement(m+y,v+C)}},e.prototype.onResizeEnd=function(t,n){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var r={type:"resize"};this.element.classList.remove("ag-resizing"),this.resizerMap[n].element.classList.remove("ag-active"),this.dispatchEvent(r)},e.prototype.refreshSize=function(){var t=this.element;this.config.popup&&(this.config.width||this.setWidth(t.offsetWidth),this.config.height||this.setHeight(t.offsetHeight))},e.prototype.onMoveStart=function(t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(t.clientX,t.clientY)},e.prototype.onMove=function(t){if(this.isMoving){var n=this.position,r=n.x,o=n.y,s;this.config.calculateTopBuffer&&(s=this.config.calculateTopBuffer());var a=this.calculateMouseMovement({e:t,isTop:!0,anywhereWithin:!0,topBuffer:s}),l=a.movementX,u=a.movementY;this.offsetElement(r+l,o+u),this.updateDragStartPosition(t.clientX,t.clientY)}},e.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},e.prototype.setOffsetParent=function(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent},e.prototype.findBoundaryElement=function(){for(var t=this.element;t;){if(window.getComputedStyle(t).position!=="static")return t;t=t.parentElement}return this.element},e.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var t=this.resizeListeners.pop();this.dragService.removeDragSource(t)}},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()},dx([_("popupService")],e.prototype,"popupService",void 0),dx([_("resizeObserverService")],e.prototype,"resizeObserverService",void 0),dx([_("dragService")],e.prototype,"dragService",void 0),e}(Y),Que=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),hx=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},zw=function(i){Que(e,i);function e(t){var n=i.call(this)||this;return n.filterNameKey=t,n.applyActive=!1,n.hidePopup=null,n.debouncePending=!1,n.appliedModel=null,n.buttonListeners=[],n}return e.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new mc(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new mz(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},e.prototype.handleKeyDown=function(t){},e.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},e.prototype.isFilterActive=function(){return!!this.appliedModel},e.prototype.resetTemplate=function(t){var n=this.getGui();n&&n.removeEventListener("submit",this.onFormSubmit);var r=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-`.concat(this.getCssIdentifier(),`-body-wrapper" ref="eFilterBody">
                    `).concat(this.createBodyTemplate(),`
                </div>
            </form>`);this.setTemplate(r,t),n=this.getGui(),n&&n.addEventListener("submit",this.onFormSubmit)},e.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},e.prototype.init=function(t){var n=this;this.setParams(t),this.resetUiToDefaults(!0).then(function(){n.updateUiVisibility(),n.setupOnBtApplyDebounce()})},e.prototype.setParams=function(t){this.providedFilterParams=t,this.applyActive=e.isUseApplyButton(t),this.resetButtonsPanel()},e.prototype.updateParams=function(t){var n=this;this.providedFilterParams=t,this.applyActive=e.isUseApplyButton(t),this.resetUiToActiveModel(this.getModel(),function(){n.updateUiVisibility(),n.setupOnBtApplyDebounce()})},e.prototype.resetButtonsPanel=function(){var t=this,n=this.providedFilterParams.buttons,r=n&&n.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(Wn(this.eButtonsPanel),this.buttonListeners.forEach(function(a){return a?.()}),this.buttonListeners=[]):r&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!r){this.eButtonsPanel&&pa(this.eButtonsPanel);return}var o=document.createDocumentFragment(),s=function(a){var l,u;switch(a){case"apply":l=t.translate("applyFilter"),u=function(h){return t.onBtApply(!1,!1,h)};break;case"clear":l=t.translate("clearFilter"),u=function(){return t.onBtClear()};break;case"reset":l=t.translate("resetFilter"),u=function(){return t.onBtReset()};break;case"cancel":l=t.translate("cancelFilter"),u=function(h){t.onBtCancel(h)};break;default:console.warn("AG Grid: Unknown button type specified");return}var c=a==="apply"?"submit":"button",d=Zi(`<button
                    type="`.concat(c,`"
                    ref="`).concat(a,`FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >`).concat(l,`
                </button>`));t.buttonListeners.push(t.addManagedListener(d,"click",u)),o.append(d)};KM(n).forEach(function(a){return s(a)}),this.eButtonsPanel.append(o),this.getGui().appendChild(this.eButtonsPanel)},e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.setupOnBtApplyDebounce=function(){var t=this,n=e.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),r=eo(this.checkApplyDebounce.bind(this),n);this.onBtApplyDebounce=function(){t.debouncePending=!0,r()}},e.prototype.checkApplyDebounce=function(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())},e.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},e.prototype.setModel=function(t){var n=this,r=t!=null?this.setModelIntoUi(t):this.resetUiToDefaults();return r.then(function(){n.updateUiVisibility(),n.applyModel("api")})},e.prototype.onBtCancel=function(t){var n=this;this.resetUiToActiveModel(this.getModel(),function(){n.handleCancelEnd(t)})},e.prototype.handleCancelEnd=function(t){this.providedFilterParams.closeOnApply&&this.close(t)},e.prototype.resetUiToActiveModel=function(t,n){var r=this,o=function(){r.onUiChanged(!1,"prevent"),n?.()};t!=null?this.setModelIntoUi(t).then(o):this.resetUiToDefaults().then(o)},e.prototype.onBtClear=function(){var t=this;this.resetUiToDefaults().then(function(){return t.onUiChanged()})},e.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},e.prototype.applyModel=function(t){var n=this.getModelFromUi();if(!this.isModelValid(n))return!1;var r=this.appliedModel;return this.appliedModel=n,!this.areModelsEqual(r,n)},e.prototype.isModelValid=function(t){return!0},e.prototype.onFormSubmit=function(t){t.preventDefault()},e.prototype.onBtApply=function(t,n,r){if(t===void 0&&(t=!1),n===void 0&&(n=!1),r&&r.preventDefault(),this.applyModel(n?"rowDataUpdated":"ui")){var o="columnFilter";this.providedFilterParams.filterChangedCallback({afterFloatingFilter:t,afterDataChange:n,source:o})}var s=this.providedFilterParams.closeOnApply;s&&this.applyActive&&!t&&!n&&this.close(r)},e.prototype.onNewRowsLoaded=function(){},e.prototype.close=function(t){if(this.hidePopup){var n=t,r=n&&n.key,o;(r==="Enter"||r==="Space")&&(o={keyboardEvent:n}),this.hidePopup(o),this.hidePopup=null}},e.prototype.onUiChanged=function(t,n){if(t===void 0&&(t=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){var r=this.isModelValid(this.getModelFromUi()),o=this.getRefElement("applyFilterButton");o&&Th(o,!r)}t&&!n||n==="immediately"?this.onBtApply(t):(!this.applyActive&&!n||n==="debounce")&&this.onBtApplyDebounce()},e.prototype.afterGuiAttached=function(t){t&&(this.hidePopup=t.hidePopup),this.refreshFilterResizer(t?.container)},e.prototype.refreshFilterResizer=function(t){if(!(!this.positionableFeature||t==="toolPanel")){var n=t==="floatingFilter",r=this,o=r.positionableFeature,s=r.gridOptionsService;n?(o.restoreLastSize(),o.setResizable(s.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}},e.prototype.afterGuiDetached=function(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)},e.getDebounceMs=function(t,n){return e.isUseApplyButton(t)?(t.debounceMs!=null&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):t.debounceMs!=null?t.debounceMs:n},e.isUseApplyButton=function(t){return!!t.buttons&&t.buttons.indexOf("apply")>=0},e.prototype.refresh=function(t){return this.providedFilterParams=t,!0},e.prototype.destroy=function(){var t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,i.prototype.destroy.call(this)},e.prototype.translate=function(t){var n=this.localeService.getLocaleTextFunc();return n(t,pz[t])},e.prototype.getCellValue=function(t){return this.providedFilterParams.getValue(t)},e.prototype.getPositionableElement=function(){return this.eFilterBody},hx([_("rowModel")],e.prototype,"rowModel",void 0),hx([J("eFilterBody")],e.prototype,"eFilterBody",void 0),hx([Z],e.prototype,"postConstruct",null),e}(Fe),Zue=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Xue=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},vz=function(i){Zue(e,i);function e(t,n){var r=i.call(this,n)||this;return r.labelSeparator="",r.labelAlignment="left",r.disabled=!1,r.label="",r.config=t||{},r}return e.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var t=this.config,n=t.labelSeparator,r=t.label,o=t.labelWidth,s=t.labelAlignment;n!=null&&this.setLabelSeparator(n),r!=null&&this.setLabel(r),o!=null&&this.setLabelWidth(o),this.setLabelAlignment(s||this.labelAlignment),this.refreshLabel()},e.prototype.refreshLabel=function(){Wn(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(tt(this.eLabel,!1),In(this.eLabel,"presentation")):(tt(this.eLabel,!0),In(this.eLabel,null))},e.prototype.setLabelSeparator=function(t){return this.labelSeparator===t?this:(this.labelSeparator=t,this.label!=null&&this.refreshLabel(),this)},e.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-".concat(this.getCompId(),"-label"),this.eLabel.id},e.prototype.getLabel=function(){return this.label},e.prototype.setLabel=function(t){return this.label===t?this:(this.label=t,this.refreshLabel(),this)},e.prototype.setLabelAlignment=function(t){var n=this.getGui(),r=n.classList;return r.toggle("ag-label-align-left",t==="left"),r.toggle("ag-label-align-right",t==="right"),r.toggle("ag-label-align-top",t==="top"),this},e.prototype.setLabelEllipsis=function(t){return this.eLabel.classList.toggle("ag-label-ellipsis",t),this},e.prototype.setLabelWidth=function(t){return this.label==null?this:(nm(this.eLabel,t),this)},e.prototype.setDisabled=function(t){t=!!t;var n=this.getGui();return Th(n,t),n.classList.toggle("ag-disabled",t),this.disabled=t,this},e.prototype.isDisabled=function(){return!!this.disabled},Xue([Z],e.prototype,"postConstruct",null),e}(Fe),Jue=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),yz=function(i){Jue(e,i);function e(t,n,r){var o=i.call(this,t,n)||this;return o.className=r,o}return e.prototype.postConstruct=function(){i.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()},e.prototype.refreshAriaLabelledBy=function(){var t=this.getAriaElement(),n=this.getLabelId();kW(t)!==null?jw(t,""):jw(t,n??"")},e.prototype.setAriaLabel=function(t){return ga(this.getAriaElement(),t),this.refreshAriaLabelledBy(),this},e.prototype.onValueChange=function(t){var n=this;return this.addManagedListener(this,w.EVENT_FIELD_VALUE_CHANGED,function(){return t(n.getValue())}),this},e.prototype.getWidth=function(){return this.getGui().clientWidth},e.prototype.setWidth=function(t){return io(this.getGui(),t),this},e.prototype.getPreviousValue=function(){return this.previousValue},e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(t,n){return this.value===t?this:(this.previousValue=this.value,this.value=t,n||this.dispatchEvent({type:w.EVENT_FIELD_VALUE_CHANGED}),this)},e}(vz),ece=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),pg=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},tce=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,_z=function(i){ece(e,i);function e(t){var n=i.call(this,t,t?.template||tce,t?.className)||this;if(n.isPickerDisplayed=!1,n.skipClick=!1,n.pickerGap=4,n.hideCurrentPicker=null,n.ariaRole=t?.ariaRole,n.onPickerFocusIn=n.onPickerFocusIn.bind(n),n.onPickerFocusOut=n.onPickerFocusOut.bind(n),!t)return n;var r=t.pickerGap,o=t.maxPickerHeight,s=t.variableWidth,a=t.minPickerWidth,l=t.maxPickerWidth;return r!=null&&(n.pickerGap=r),n.variableWidth=!!s,o!=null&&n.setPickerMaxHeight(o),a!=null&&n.setPickerMinWidth(a),l!=null&&n.setPickerMaxWidth(l),n}return e.prototype.postConstruct=function(){i.prototype.postConstruct.call(this),this.setupAria();var t="ag-".concat(this.getCompId(),"-display");this.eDisplayField.setAttribute("id",t);var n=this.getAriaElement();this.addManagedListener(n,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(this.eLabel,"mousedown",this.onLabelOrWrapperMouseDown.bind(this)),this.addManagedListener(this.eWrapper,"mousedown",this.onLabelOrWrapperMouseDown.bind(this));var r=this.config.pickerIcon;if(r){var o=cn(r,this.gridOptionsService);o&&this.eIcon.appendChild(o)}},e.prototype.setupAria=function(){var t=this.getAriaElement();t.setAttribute("tabindex",this.gridOptionsService.get("tabIndex").toString()),Oo(t,!1),this.ariaRole&&In(t,this.ariaRole)},e.prototype.onLabelOrWrapperMouseDown=function(t){if(t){var n=this.getFocusableElement();if(n!==this.eWrapper&&t?.target===n)return;t.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())},e.prototype.onKeyDown=function(t){switch(t.key){case F.UP:case F.DOWN:case F.ENTER:case F.SPACE:t.preventDefault(),this.onLabelOrWrapperMouseDown();break;case F.ESCAPE:this.isPickerDisplayed&&(t.preventDefault(),t.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}},e.prototype.showPicker=function(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());var t=this.pickerComponent.getGui();t.addEventListener("focusin",this.onPickerFocusIn),t.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)},e.prototype.renderAndPositionPicker=function(){var t=this,n=this.gridOptionsService.getDocument(),r=this.pickerComponent.getGui();this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")||(this.destroyMouseWheelFunc=this.addManagedListener(this.eventService,w.EVENT_BODY_SCROLL,function(){t.hidePicker()}));var o=this.localeService.getLocaleTextFunc(),s=this.config,a=s.pickerAriaLabelKey,l=s.pickerAriaLabelValue,u=s.modalPicker,c=u===void 0?!0:u,d={modal:c,eChild:r,closeOnEsc:!0,closedCallback:function(){var C=n.activeElement===n.body;t.beforeHidePicker(),C&&t.isAlive()&&t.getFocusableElement().focus()},ariaLabel:o(a,l)},h=this.popupService.addPopup(d),f=this,p=f.maxPickerHeight,g=f.minPickerWidth,m=f.maxPickerWidth,v=f.variableWidth;v?(g&&(r.style.minWidth=g),r.style.width=cS(Xg(this.eWrapper)),m&&(r.style.maxWidth=m)):nm(r,m??Xg(this.eWrapper));var y=p??"".concat(sm(this.popupService.getPopupParent()),"px");return r.style.setProperty("max-height",y),r.style.position="absolute",this.alignPickerToComponent(),h.hideFunc},e.prototype.alignPickerToComponent=function(){if(this.pickerComponent){var t=this.config.pickerType,n=this.pickerGap,r=this.gridOptionsService.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:t,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:r,keepWithinBounds:!0,nudgeY:n})}},e.prototype.beforeHidePicker=function(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);var t=this.pickerComponent.getGui();t.removeEventListener("focusin",this.onPickerFocusIn),t.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null},e.prototype.toggleExpandedStyles=function(t){if(this.isAlive()){var n=this.getAriaElement();Oo(n,t),this.eWrapper.classList.toggle("ag-picker-expanded",t),this.eWrapper.classList.toggle("ag-picker-collapsed",!t)}},e.prototype.onPickerFocusIn=function(){this.togglePickerHasFocus(!0)},e.prototype.onPickerFocusOut=function(t){var n;!((n=this.pickerComponent)===null||n===void 0)&&n.getGui().contains(t.relatedTarget)||this.togglePickerHasFocus(!1)},e.prototype.togglePickerHasFocus=function(t){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",t)},e.prototype.hidePicker=function(){this.hideCurrentPicker&&this.hideCurrentPicker()},e.prototype.setInputWidth=function(t){return nm(this.eWrapper,t),this},e.prototype.getFocusableElement=function(){return this.eWrapper},e.prototype.setPickerGap=function(t){return this.pickerGap=t,this},e.prototype.setPickerMinWidth=function(t){return typeof t=="number"&&(t="".concat(t,"px")),this.minPickerWidth=t??void 0,this},e.prototype.setPickerMaxWidth=function(t){return typeof t=="number"&&(t="".concat(t,"px")),this.maxPickerWidth=t??void 0,this},e.prototype.setPickerMaxHeight=function(t){return typeof t=="number"&&(t="".concat(t,"px")),this.maxPickerHeight=t??void 0,this},e.prototype.destroy=function(){this.hidePicker(),i.prototype.destroy.call(this)},pg([_("popupService")],e.prototype,"popupService",void 0),pg([J("eLabel")],e.prototype,"eLabel",void 0),pg([J("eWrapper")],e.prototype,"eWrapper",void 0),pg([J("eDisplayField")],e.prototype,"eDisplayField",void 0),pg([J("eIcon")],e.prototype,"eIcon",void 0),e}(yz),nce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ice=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},aU=function(i){nce(e,i);function e(t){t===void 0&&(t="default");var n=i.call(this,'<div class="ag-list ag-'.concat(t,'-list" role="listbox"></div>'))||this;return n.cssIdentifier=t,n.options=[],n.itemEls=[],n}return e.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},e.prototype.handleKeyDown=function(t){var n=t.key;switch(n){case F.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{var r=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(r)}break;case F.DOWN:case F.UP:var o=n===F.DOWN,s=void 0;if(t.preventDefault(),!this.highlightedEl)s=this.itemEls[o?0:this.itemEls.length-1];else{var a=this.itemEls.indexOf(this.highlightedEl),l=a+(o?1:-1);l=Math.min(Math.max(l,0),this.itemEls.length-1),s=this.itemEls[l]}this.highlightItem(s);break}},e.prototype.addOptions=function(t){var n=this;return t.forEach(function(r){return n.addOption(r)}),this},e.prototype.addOption=function(t){var n=t.value,r=t.text,o=Cn(r||n);return this.options.push({value:n,text:o}),this.renderOption(n,o),this.updateIndices(),this},e.prototype.updateIndices=function(){var t=this.getGui().querySelectorAll(".ag-list-item");t.forEach(function(n,r){AM(n,r+1),RM(n,t.length)})},e.prototype.renderOption=function(t,n){var r=this,o=document.createElement("div");In(o,"option"),o.classList.add("ag-list-item","ag-".concat(this.cssIdentifier,"-list-item")),o.innerHTML="<span>".concat(n,"</span>"),o.tabIndex=-1,this.itemEls.push(o),this.addManagedListener(o,"mouseover",function(){return r.highlightItem(o)}),this.addManagedListener(o,"mouseleave",function(){return r.clearHighlighted()}),this.addManagedListener(o,"click",function(){return r.setValue(t)}),this.getGui().appendChild(o)},e.prototype.setValue=function(t,n){if(this.value===t)return this.fireItemSelected(),this;if(t==null)return this.reset(),this;var r=this.options.findIndex(function(s){return s.value===t});if(r!==-1){var o=this.options[r];this.value=o.value,this.displayValue=o.text!=null?o.text:o.value,this.highlightItem(this.itemEls[r]),n||this.fireChangeEvent()}return this},e.prototype.setValueByIndex=function(t){return this.setValue(this.options[t].value)},e.prototype.getValue=function(){return this.value},e.prototype.getDisplayValue=function(){return this.displayValue},e.prototype.refreshHighlighted=function(){var t=this;this.clearHighlighted();var n=this.options.findIndex(function(r){return r.value===t.value});n!==-1&&this.highlightItem(this.itemEls[n])},e.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},e.prototype.highlightItem=function(t){Ar(t)&&(this.clearHighlighted(),this.highlightedEl=t,this.highlightedEl.classList.add(e.ACTIVE_CLASS),Dh(this.highlightedEl,!0),this.highlightedEl.focus())},e.prototype.clearHighlighted=function(){!this.highlightedEl||!Ar(this.highlightedEl)||(this.highlightedEl.classList.remove(e.ACTIVE_CLASS),Dh(this.highlightedEl,!1),this.highlightedEl=null)},e.prototype.fireChangeEvent=function(){this.dispatchEvent({type:w.EVENT_FIELD_VALUE_CHANGED}),this.fireItemSelected()},e.prototype.fireItemSelected=function(){this.dispatchEvent({type:e.EVENT_ITEM_SELECTED})},e.EVENT_ITEM_SELECTED="selectedItem",e.ACTIVE_CLASS="ag-active-item",ice([Z],e.prototype,"init",null),e}(Fe),rce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),lM=function(){return lM=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},lM.apply(this,arguments)},hS=function(i){rce(e,i);function e(t){return i.call(this,lM({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox"},t))||this}return e.prototype.postConstruct=function(){i.prototype.postConstruct.call(this),this.createListComponent(),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex")},e.prototype.createListComponent=function(){var t=this;this.listComponent=this.createBean(new aU("select")),this.listComponent.setParentComponent(this);var n=this.listComponent.getAriaElement(),r="ag-select-list-".concat(this.listComponent.getCompId());n.setAttribute("id",r),MM(this.getAriaElement(),n),this.listComponent.addGuiEventListener("keydown",function(o){o.key===F.TAB&&(o.preventDefault(),o.stopImmediatePropagation(),t.getGui().dispatchEvent(new KeyboardEvent("keydown",{key:o.key,shiftKey:o.shiftKey,ctrlKey:o.ctrlKey,bubbles:!0})))}),this.listComponent.addManagedListener(this.listComponent,aU.EVENT_ITEM_SELECTED,function(){t.hidePicker(),t.dispatchEvent({type:e.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,w.EVENT_FIELD_VALUE_CHANGED,function(){t.listComponent&&(t.setValue(t.listComponent.getValue(),!1,!0),t.hidePicker())})},e.prototype.createPickerComponent=function(){return this.listComponent},e.prototype.showPicker=function(){this.listComponent&&(i.prototype.showPicker.call(this),this.listComponent.refreshHighlighted())},e.prototype.addOptions=function(t){var n=this;return t.forEach(function(r){return n.addOption(r)}),this},e.prototype.addOption=function(t){return this.listComponent.addOption(t),this},e.prototype.setValue=function(t,n,r){if(this.value===t||!this.listComponent)return this;r||this.listComponent.setValue(t,!0);var o=this.listComponent.getValue();return o===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),i.prototype.setValue.call(this,t,n))},e.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),i.prototype.destroy.call(this)},e.EVENT_ITEM_SELECTED="selectedItem",e}(_z),oce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fx=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Ol=function(i){oce(e,i);function e(t,n,r,o){r===void 0&&(r="text"),o===void 0&&(o="input");var s=i.call(this,t,`
            <div role="presentation">
                <div ref="eLabel" class="ag-input-field-label"></div>
                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <`.concat(o,' ref="eInput" class="ag-input-field-input"></').concat(o,`>
                </div>
            </div>`),n)||this;return s.inputType=r,s.displayFieldTag=o,s}return e.prototype.postConstruct=function(){i.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add("".concat(this.className,"-label")),this.eWrapper.classList.add("".concat(this.className,"-input-wrapper")),this.eInput.classList.add("".concat(this.className,"-input")),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-".concat(this.getCompId(),"-input");var t=this.config,n=t.width,r=t.value;n!=null&&this.setWidth(n),r!=null&&this.setValue(r),this.addInputListeners(),this.activateTabIndex([this.eInput])},e.prototype.addInputListeners=function(){var t=this;this.addManagedListener(this.eInput,"input",function(n){return t.setValue(n.target.value)})},e.prototype.setInputType=function(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)},e.prototype.getInputElement=function(){return this.eInput},e.prototype.setInputWidth=function(t){return nm(this.eWrapper,t),this},e.prototype.setInputName=function(t){return this.getInputElement().setAttribute("name",t),this},e.prototype.getFocusableElement=function(){return this.eInput},e.prototype.setMaxLength=function(t){var n=this.eInput;return n.maxLength=t,this},e.prototype.setInputPlaceholder=function(t){return bs(this.eInput,"placeholder",t),this},e.prototype.setInputAriaLabel=function(t){return ga(this.eInput,t),this.refreshAriaLabelledBy(),this},e.prototype.setDisabled=function(t){return Th(this.eInput,t),i.prototype.setDisabled.call(this,t)},e.prototype.setAutoComplete=function(t){if(t===!0)bs(this.eInput,"autocomplete",null);else{var n=typeof t=="string"?t:"off";bs(this.eInput,"autocomplete",n)}return this},fx([J("eLabel")],e.prototype,"eLabel",void 0),fx([J("eWrapper")],e.prototype,"eWrapper",void 0),fx([J("eInput")],e.prototype,"eInput",void 0),e}(yz),sce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fS=function(i){sce(e,i);function e(t,n,r){n===void 0&&(n="ag-checkbox"),r===void 0&&(r="checkbox");var o=i.call(this,t,n,r)||this;return o.labelAlignment="right",o.selected=!1,o.readOnly=!1,o.passive=!1,o}return e.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},e.prototype.getNextValue=function(){return this.selected===void 0?!0:!this.selected},e.prototype.setPassive=function(t){this.passive=t},e.prototype.isReadOnly=function(){return this.readOnly},e.prototype.setReadOnly=function(t){this.eWrapper.classList.toggle("ag-disabled",t),this.eInput.disabled=t,this.readOnly=t},e.prototype.setDisabled=function(t){return this.eWrapper.classList.toggle("ag-disabled",t),i.prototype.setDisabled.call(this,t)},e.prototype.toggle=function(){if(!this.eInput.disabled){var t=this.isSelected(),n=this.getNextValue();this.passive?this.dispatchChange(n,t):this.setValue(n)}},e.prototype.getValue=function(){return this.isSelected()},e.prototype.setValue=function(t,n){return this.refreshSelectedClass(t),this.setSelected(t,n),this},e.prototype.setName=function(t){var n=this.getInputElement();return n.name=t,this},e.prototype.isSelected=function(){return this.selected},e.prototype.setSelected=function(t,n){this.isSelected()!==t&&(this.previousValue=this.isSelected(),t=this.selected=typeof t=="boolean"?t:void 0,this.eInput.checked=t,this.eInput.indeterminate=t===void 0,n||this.dispatchChange(this.selected,this.previousValue))},e.prototype.dispatchChange=function(t,n,r){this.dispatchEvent({type:w.EVENT_FIELD_VALUE_CHANGED,selected:t,previousValue:n,event:r});var o=this.getInputElement(),s={type:w.EVENT_CHECKBOX_CHANGED,id:o.id,name:o.name,selected:t,previousValue:n};this.eventService.dispatchEvent(s)},e.prototype.onCheckboxClick=function(t){if(!(this.passive||this.eInput.disabled)){var n=this.isSelected(),r=this.selected=t.target.checked;this.refreshSelectedClass(r),this.dispatchChange(r,n,t)}},e.prototype.refreshSelectedClass=function(t){this.eWrapper.classList.toggle("ag-checked",t===!0),this.eWrapper.classList.toggle("ag-indeterminate",t==null)},e}(Ol),ace=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Cz=function(i){ace(e,i);function e(t){return i.call(this,t,"ag-radio-button","radio")||this}return e.prototype.isSelected=function(){return this.eInput.checked},e.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},e.prototype.addInputListeners=function(){i.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,w.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},e.prototype.onChange=function(t){t.selected&&t.name&&this.eInput.name&&this.eInput.name===t.name&&t.id&&this.eInput.id!==t.id&&this.setValue(!1,!0)},e}(fS),lce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),uce=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},cce=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},ZM=function(){function i(e,t,n){this.localeService=e,this.optionsFactory=t,this.valueFormatter=n}return i.prototype.getModelAsString=function(e){var t=this;if(!e)return null;var n=e.operator!=null,r=this.localeService.getLocaleTextFunc();if(n){var o=e,s=o.conditions;if(!s){var a=o.condition1,l=o.condition2;s=[a,l]}var u=s.map(function(v){return t.getModelAsString(v)}),c=o.operator==="AND"?"andCondition":"orCondition";return u.join(" ".concat(r(c,pz[c])," "))}else{if(e.type===qt.BLANK||e.type===qt.NOT_BLANK)return r(e.type,e.type);var d=e,h=this.optionsFactory.getCustomOption(d.type),f=h||{},p=f.displayKey,g=f.displayName,m=f.numberOfInputs;return p&&g&&m===0?(r(p,g),g):this.conditionToString(d,h)}},i.prototype.updateParams=function(e){this.optionsFactory=e.optionsFactory},i.prototype.formatValue=function(e){var t;return this.valueFormatter?(t=this.valueFormatter(e??null))!==null&&t!==void 0?t:"":String(e)},i}(),qt=function(i){lce(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.eTypes=[],t.eJoinOperatorPanels=[],t.eJoinOperatorsAnd=[],t.eJoinOperatorsOr=[],t.eConditionBodies=[],t.listener=function(){return t.onUiChanged()},t.lastUiCompletePosition=null,t.joinOperatorId=0,t}return e.prototype.getNumberOfInputs=function(t){var n=this.optionsFactory.getCustomOption(t);if(n){var r=n.numberOfInputs;return r??1}var o=[e.EMPTY,e.NOT_BLANK,e.BLANK];return t&&o.indexOf(t)>=0?0:t===e.IN_RANGE?2:1},e.prototype.onFloatingFilterChanged=function(t,n){this.setTypeFromFloatingFilter(t),this.setValueFromFloatingFilter(n),this.onUiChanged(!0)},e.prototype.setTypeFromFloatingFilter=function(t){var n=this;this.eTypes.forEach(function(r,o){o===0?r.setValue(t,!0):r.setValue(n.optionsFactory.getDefaultOption(),!0)})},e.prototype.getModelFromUi=function(){var t=this.getUiCompleteConditions();return t.length===0?null:this.maxNumConditions>1&&t.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:t[0],condition2:t[1],conditions:t}:t[0]},e.prototype.getConditionTypes=function(){return this.eTypes.map(function(t){return t.getValue()})},e.prototype.getConditionType=function(t){return this.eTypes[t].getValue()},e.prototype.getJoinOperator=function(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"},e.prototype.areModelsEqual=function(t,n){var r=this;if(!t&&!n)return!0;if(!t&&n||t&&!n)return!1;var o=!t.operator,s=!n.operator,a=!o&&s||o&&!s;if(a)return!1;var l;if(o){var u=t,c=n;l=this.areSimpleModelsEqual(u,c)}else{var d=t,h=n;l=d.operator===h.operator&&fa(d.conditions,h.conditions,function(f,p){return r.areSimpleModelsEqual(f,p)})}return l},e.prototype.shouldRefresh=function(t){var n,r,o,s=this.getModel(),a=s?(n=s.conditions)!==null&&n!==void 0?n:[s]:null,l=(o=(r=t.filterOptions)===null||r===void 0?void 0:r.map(function(c){return typeof c=="string"?c:c.displayKey}))!==null&&o!==void 0?o:this.getDefaultFilterOptions(),u=!a||a.every(function(c){return l.find(function(d){return d===c.type})!==void 0});return!(!u||typeof t.maxNumConditions=="number"&&a&&a.length>t.maxNumConditions)},e.prototype.refresh=function(t){if(!this.shouldRefresh(t))return!1;var n=i.prototype.refresh.call(this,t);return n?(this.setParams(t),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0):!1},e.prototype.setModelIntoUi=function(t){var n=this,r=t.operator;if(r){var o=t;o.conditions||(o.conditions=[o.condition1,o.condition2]);var s=this.validateAndUpdateConditions(o.conditions),a=this.getNumConditions();if(s<a)this.removeConditionsAndOperators(s);else if(s>a)for(var l=a;l<s;l++)this.createJoinOperatorPanel(),this.createOption();var u=o.operator==="OR";this.eJoinOperatorsAnd.forEach(function(d){return d.setValue(!u,!0)}),this.eJoinOperatorsOr.forEach(function(d){return d.setValue(u,!0)}),o.conditions.forEach(function(d,h){n.eTypes[h].setValue(d.type,!0),n.setConditionIntoUi(d,h)})}else{var c=t;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(c.type,!0),this.setConditionIntoUi(c,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),Jr.resolve()},e.prototype.validateAndUpdateConditions=function(t){var n=t.length;return n>this.maxNumConditions&&(t.splice(this.maxNumConditions),Ae('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),n=this.maxNumConditions),n},e.prototype.doesFilterPass=function(t){var n=this,r,o=this.getModel();if(o==null)return!0;var s=o.operator,a=[];if(s){var l=o;a.push.apply(a,cce([],uce((r=l.conditions)!==null&&r!==void 0?r:[]),!1))}else a.push(o);var u=s&&s==="OR"?"some":"every";return a[u](function(c){return n.individualConditionPasses(t,c)})},e.prototype.setParams=function(t){i.prototype.setParams.call(this,t),this.setNumConditions(t),this.defaultJoinOperator=this.getDefaultJoinOperator(t.defaultJoinOperator),this.filterPlaceholder=t.filterPlaceholder,this.optionsFactory=new fz,this.optionsFactory.init(t,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")},e.prototype.setNumConditions=function(t){var n,r;t.suppressAndOrCondition!=null&&Ae('Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.'),t.alwaysShowBothConditions!=null&&Ae('Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.'),this.maxNumConditions=(n=t.maxNumConditions)!==null&&n!==void 0?n:t.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(Ae('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=(r=t.numAlwaysVisibleConditions)!==null&&r!==void 0?r:t.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(Ae('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(Ae('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)},e.prototype.createOption=function(){var t=this,n=this.createManagedBean(new hS);this.eTypes.push(n),n.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(n.getGui());var r=this.createValueElement();this.eConditionBodies.push(r),this.eFilterBody.appendChild(r),this.putOptionsIntoDropdown(n),this.resetType(n);var o=this.getNumConditions()-1;this.forEachPositionInput(o,function(s){return t.resetInput(s)}),this.addChangedListeners(n,o)},e.prototype.createJoinOperatorPanel=function(){var t=document.createElement("div");this.eJoinOperatorPanels.push(t),t.classList.add("ag-filter-condition");var n=this.createJoinOperator(this.eJoinOperatorsAnd,t,"and"),r=this.createJoinOperator(this.eJoinOperatorsOr,t,"or");this.eFilterBody.appendChild(t);var o=this.eJoinOperatorPanels.length-1,s=this.joinOperatorId++;this.resetJoinOperatorAnd(n,o,s),this.resetJoinOperatorOr(r,o,s),this.isReadOnly()||(n.onValueChange(this.listener),r.onValueChange(this.listener))},e.prototype.createJoinOperator=function(t,n,r){var o=this.createManagedBean(new Cz);return t.push(o),o.addCssClass("ag-filter-condition-operator"),o.addCssClass("ag-filter-condition-operator-".concat(r)),n.appendChild(o.getGui()),o},e.prototype.getDefaultJoinOperator=function(t){return t==="AND"||t==="OR"?t:"AND"},e.prototype.createFilterListOptions=function(){var t=this,n=this.optionsFactory.getFilterOptions();this.filterListOptions=n.map(function(r){return typeof r=="string"?t.createBoilerplateListOption(r):t.createCustomListOption(r)})},e.prototype.putOptionsIntoDropdown=function(t){this.filterListOptions.forEach(function(n){t.addOption(n)}),t.setDisabled(this.filterListOptions.length<=1)},e.prototype.createBoilerplateListOption=function(t){return{value:t,text:this.translate(t)}},e.prototype.createCustomListOption=function(t){var n=t.displayKey,r=this.optionsFactory.getCustomOption(t.displayKey);return{value:n,text:r?this.localeService.getLocaleTextFunc()(r.displayKey,r.displayName):this.translate(n)}},e.prototype.isAllowTwoConditions=function(){return this.maxNumConditions>=2},e.prototype.createBodyTemplate=function(){return""},e.prototype.getCssIdentifier=function(){return"simple-filter"},e.prototype.updateUiVisibility=function(){var t=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,t)},e.prototype.updateNumConditions=function(){for(var t,n=-1,r=!0,o=0;o<this.getNumConditions();o++)this.isConditionUiComplete(o)?n=o:r=!1;if(this.shouldAddNewConditionAtEnd(r))this.createJoinOperatorPanel(),this.createOption();else{var s=(t=this.lastUiCompletePosition)!==null&&t!==void 0?t:this.getNumConditions()-2;if(n<s){this.removeConditionsAndOperators(s+1);var a=n+1,l=s-a;l>0&&this.removeConditionsAndOperators(a,l),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=n},e.prototype.updateConditionStatusesAndValues=function(t,n){var r=this;this.eTypes.forEach(function(s,a){var l=r.isConditionDisabled(a,t);s.setDisabled(l||r.filterListOptions.length<=1),a===1&&(Th(r.eJoinOperatorPanels[0],l),r.eJoinOperatorsAnd[0].setDisabled(l),r.eJoinOperatorsOr[0].setDisabled(l))}),this.eConditionBodies.forEach(function(s,a){tt(s,r.isConditionBodyVisible(a))});var o=(n??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(function(s,a){s.setValue(!o,!0)}),this.eJoinOperatorsOr.forEach(function(s,a){s.setValue(o,!0)}),this.forEachInput(function(s,a,l,u){r.setElementDisplayed(s,a<u),r.setElementDisabled(s,r.isConditionDisabled(l,t))}),this.resetPlaceholder()},e.prototype.shouldAddNewConditionAtEnd=function(t){return t&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()},e.prototype.removeConditionsAndOperators=function(t,n){if(!(t>=this.getNumConditions())){this.removeComponents(this.eTypes,t,n),this.removeElements(this.eConditionBodies,t,n),this.removeValueElements(t,n);var r=Math.max(t-1,0);this.removeElements(this.eJoinOperatorPanels,r,n),this.removeComponents(this.eJoinOperatorsAnd,r,n),this.removeComponents(this.eJoinOperatorsOr,r,n)}},e.prototype.removeElements=function(t,n,r){var o=this.removeItems(t,n,r);o.forEach(function(s){return pa(s)})},e.prototype.removeComponents=function(t,n,r){var o=this,s=this.removeItems(t,n,r);s.forEach(function(a){pa(a.getGui()),o.destroyBean(a)})},e.prototype.removeItems=function(t,n,r){return r==null?t.splice(n):t.splice(n,r)},e.prototype.afterGuiAttached=function(t){if(i.prototype.afterGuiAttached.call(this,t),this.resetPlaceholder(),!t?.suppressFocus)if(this.isReadOnly())this.eFilterBody.focus();else{var n=this.getInputs(0)[0];if(!n)return;n instanceof Ol&&n.getInputElement().focus()}},e.prototype.afterGuiDetached=function(){i.prototype.afterGuiDetached.call(this);var t=this.getModel();this.resetUiToActiveModel(t);for(var n=-1,r=-1,o=!1,s=this.getJoinOperator(),a=this.getNumConditions()-1;a>=0;a--)if(this.isConditionUiComplete(a))n===-1&&(n=a,r=a);else{var l=a>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(a-1),u=a<n;(l||u)&&(this.removeConditionsAndOperators(a,1),o=!0,u&&r--)}var c=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),c=!0),this.shouldAddNewConditionAtEnd(r===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),c=!0),c&&this.updateConditionStatusesAndValues(r,s),o&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=r},e.prototype.getPlaceholderText=function(t,n){var r=this.translate(t);if(sS(this.filterPlaceholder)){var o=this.filterPlaceholder,s=this.eTypes[n].getValue(),a=this.translate(s);r=o({filterOptionKey:s,filterOption:a,placeholder:r})}else typeof this.filterPlaceholder=="string"&&(r=this.filterPlaceholder);return r},e.prototype.resetPlaceholder=function(){var t=this,n=this.localeService.getLocaleTextFunc();this.forEachInput(function(r,o,s,a){if(r instanceof Ol){var l=o===0&&a>1?"inRangeStart":o===0?"filterOoo":"inRangeEnd",u=o===0&&a>1?n("ariaFilterFromValue","Filter from value"):o===0?n("ariaFilterValue","Filter Value"):n("ariaFilterToValue","Filter to Value");r.setInputPlaceholder(t.getPlaceholderText(l,s)),r.setInputAriaLabel(u)}})},e.prototype.setElementValue=function(t,n,r){t instanceof Ol&&t.setValue(n!=null?String(n):null,!0)},e.prototype.setElementDisplayed=function(t,n){t instanceof Fe&&tt(t.getGui(),n)},e.prototype.setElementDisabled=function(t,n){t instanceof Fe&&Th(t.getGui(),n)},e.prototype.attachElementOnChange=function(t,n){t instanceof Ol&&t.onValueChange(n)},e.prototype.forEachInput=function(t){var n=this;this.getConditionTypes().forEach(function(r,o){n.forEachPositionTypeInput(o,r,t)})},e.prototype.forEachPositionInput=function(t,n){var r=this.getConditionType(t);this.forEachPositionTypeInput(t,r,n)},e.prototype.forEachPositionTypeInput=function(t,n,r){for(var o=this.getNumberOfInputs(n),s=this.getInputs(t),a=0;a<s.length;a++){var l=s[a];l!=null&&r(l,a,t,o)}},e.prototype.isConditionDisabled=function(t,n){return this.isReadOnly()?!0:t===0?!1:t>n+1},e.prototype.isConditionBodyVisible=function(t){var n=this.getConditionType(t),r=this.getNumberOfInputs(n);return r>0},e.prototype.isConditionUiComplete=function(t){if(t>=this.getNumConditions())return!1;var n=this.getConditionType(t);return!(n===e.EMPTY||this.getValues(t).some(function(r){return r==null}))},e.prototype.getNumConditions=function(){return this.eTypes.length},e.prototype.getUiCompleteConditions=function(){for(var t=[],n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)&&t.push(this.createCondition(n));return t},e.prototype.createMissingConditionsAndOperators=function(){if(!this.isReadOnly())for(var t=this.getNumConditions();t<this.numAlwaysVisibleConditions;t++)this.createJoinOperatorPanel(),this.createOption()},e.prototype.resetUiToDefaults=function(t){var n=this;return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(function(r){return n.resetType(r)}),this.eJoinOperatorsAnd.forEach(function(r,o){return n.resetJoinOperatorAnd(r,o,n.joinOperatorId+o)}),this.eJoinOperatorsOr.forEach(function(r,o){return n.resetJoinOperatorOr(r,o,n.joinOperatorId+o)}),this.joinOperatorId++,this.forEachInput(function(r){return n.resetInput(r)}),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,t||this.onUiChanged(),Jr.resolve()},e.prototype.resetType=function(t){var n=this.localeService.getLocaleTextFunc(),r=n("ariaFilteringOperator","Filtering operator");t.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(r).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)},e.prototype.resetJoinOperatorAnd=function(t,n,r){this.resetJoinOperator(t,n,this.isDefaultOperator("AND"),this.translate("andCondition"),r)},e.prototype.resetJoinOperatorOr=function(t,n,r){this.resetJoinOperator(t,n,this.isDefaultOperator("OR"),this.translate("orCondition"),r)},e.prototype.resetJoinOperator=function(t,n,r,o,s){this.updateJoinOperatorDisabled(t.setValue(r,!0).setName("ag-simple-filter-and-or-".concat(this.getCompId(),"-").concat(s)).setLabel(o),n)},e.prototype.updateJoinOperatorsDisabled=function(){var t=this;this.eJoinOperatorsAnd.forEach(function(n,r){return t.updateJoinOperatorDisabled(n,r)}),this.eJoinOperatorsOr.forEach(function(n,r){return t.updateJoinOperatorDisabled(n,r)})},e.prototype.updateJoinOperatorDisabled=function(t,n){t.setDisabled(this.isReadOnly()||n>0)},e.prototype.resetInput=function(t){this.setElementValue(t,null),this.setElementDisabled(t,this.isReadOnly())},e.prototype.setConditionIntoUi=function(t,n){var r=this,o=this.mapValuesFromModel(t);this.forEachInput(function(s,a,l,u){l===n&&r.setElementValue(s,o[a]!=null?o[a]:null)})},e.prototype.setValueFromFloatingFilter=function(t){var n=this;this.forEachInput(function(r,o,s,a){n.setElementValue(r,o===0&&s===0?t:null,!0)})},e.prototype.isDefaultOperator=function(t){return t===this.defaultJoinOperator},e.prototype.addChangedListeners=function(t,n){var r=this;this.isReadOnly()||(t.onValueChange(this.listener),this.forEachPositionInput(n,function(o){r.attachElementOnChange(o,r.listener)}))},e.prototype.individualConditionPasses=function(t,n){var r=this.getCellValue(t.node),o=this.mapValuesFromModel(n),s=this.optionsFactory.getCustomOption(n.type),a=this.evaluateCustomFilter(s,o,r);return a??(r==null?this.evaluateNullValue(n.type):this.evaluateNonNullValue(o,r,n,t))},e.prototype.evaluateCustomFilter=function(t,n,r){if(t!=null){var o=t.predicate;if(o!=null&&!n.some(function(s){return s==null}))return o(n,r)}},e.prototype.isBlank=function(t){return t==null||typeof t=="string"&&t.trim().length===0},e.prototype.hasInvalidInputs=function(){return!1},e.EMPTY="empty",e.BLANK="blank",e.NOT_BLANK="notBlank",e.EQUALS="equals",e.NOT_EQUAL="notEqual",e.LESS_THAN="lessThan",e.LESS_THAN_OR_EQUAL="lessThanOrEqual",e.GREATER_THAN="greaterThan",e.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",e.IN_RANGE="inRange",e.CONTAINS="contains",e.NOT_CONTAINS="notContains",e.STARTS_WITH="startsWith",e.ENDS_WITH="endsWith",e}(zw),dce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_n=function(i){dce(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.setParams=function(t){i.prototype.setParams.call(this,t),this.scalarFilterParams=t},e.prototype.evaluateNullValue=function(t){switch(t){case e.EQUALS:case e.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case e.GREATER_THAN:case e.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case e.LESS_THAN:case e.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case e.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case e.BLANK:return!0;case e.NOT_BLANK:return!1}return!1},e.prototype.evaluateNonNullValue=function(t,n,r){var o=this.comparator(),s=t[0]!=null?o(t[0],n):0;switch(r.type){case e.EQUALS:return s===0;case e.NOT_EQUAL:return s!==0;case e.GREATER_THAN:return s>0;case e.GREATER_THAN_OR_EQUAL:return s>=0;case e.LESS_THAN:return s<0;case e.LESS_THAN_OR_EQUAL:return s<=0;case e.IN_RANGE:{var a=o(t[1],n);return this.scalarFilterParams.inRangeInclusive?s>=0&&a<=0:s>0&&a<0}case e.BLANK:return this.isBlank(n);case e.NOT_BLANK:return!this.isBlank(n);default:return console.warn('AG Grid: Unexpected type of filter "'+r.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},e}(qt),wz=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),uM=function(){return uM=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},uM.apply(this,arguments)},hce=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},lU=1e3,uU=1/0,Sz=function(i){wz(e,i);function e(t,n,r){var o=i.call(this,n,r)||this;return o.dateFilterParams=t,o}return e.prototype.conditionToString=function(t,n){var r=t.type,o=(n||{}).numberOfInputs,s=r==qt.IN_RANGE||o===2,a=Xi(t.dateFrom),l=Xi(t.dateTo),u=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(s){var c=a!==null?Sh(a,u):"null",d=l!==null?Sh(l,u):"null";return"".concat(c,"-").concat(d)}return a!=null?Sh(a,u):"".concat(r)},e.prototype.updateParams=function(t){i.prototype.updateParams.call(this,t),this.dateFilterParams=t.dateFilterParams},e}(ZM),bz=function(i){wz(e,i);function e(){var t=i.call(this,"dateFilter")||this;return t.eConditionPanelsFrom=[],t.eConditionPanelsTo=[],t.dateConditionFromComps=[],t.dateConditionToComps=[],t.minValidYear=lU,t.maxValidYear=uU,t.minValidDate=null,t.maxValidDate=null,t}return e.prototype.afterGuiAttached=function(t){i.prototype.afterGuiAttached.call(this,t),this.dateConditionFromComps[0].afterGuiAttached(t)},e.prototype.mapValuesFromModel=function(t){var n=t||{},r=n.dateFrom,o=n.dateTo,s=n.type;return[r&&Xi(r)||null,o&&Xi(o)||null].slice(0,this.getNumberOfInputs(s))},e.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},e.prototype.defaultComparator=function(t,n){var r=n;return n==null||r<t?-1:r>t?1:0},e.prototype.setParams=function(t){this.dateFilterParams=t,i.prototype.setParams.call(this,t);var n=function(r,o){if(t[r]!=null)if(isNaN(t[r]))console.warn("AG Grid: DateFilter ".concat(r," is not a number"));else return t[r]==null?o:Number(t[r]);return o};this.minValidYear=n("minValidYear",lU),this.maxValidYear=n("maxValidYear",uU),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),t.minValidDate?this.minValidDate=t.minValidDate instanceof Date?t.minValidDate:Xi(t.minValidDate):this.minValidDate=null,t.maxValidDate?this.maxValidDate=t.maxValidDate instanceof Date?t.maxValidDate:Xi(t.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&console.warn("AG Grid: DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new Sz(this.dateFilterParams,this.localeService,this.optionsFactory)},e.prototype.createDateCompWrapper=function(t){var n=this,r=new hz(this.getContext(),this.userComponentFactory,{onDateChanged:function(){return n.onUiChanged()},filterParams:this.dateFilterParams},t);return this.addDestroyFunc(function(){return r.destroy()}),r},e.prototype.setElementValue=function(t,n){t.setDate(n)},e.prototype.setElementDisplayed=function(t,n){t.setDisplayed(n)},e.prototype.setElementDisabled=function(t,n){t.setDisabled(n)},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueElement=function(){var t=document.createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t},e.prototype.createFromToElement=function(t,n,r,o){var s=document.createElement("div");s.classList.add("ag-filter-".concat(o)),s.classList.add("ag-filter-date-".concat(o)),n.push(s),t.appendChild(s),r.push(this.createDateCompWrapper(s))},e.prototype.removeValueElements=function(t,n){this.removeDateComps(this.dateConditionFromComps,t,n),this.removeDateComps(this.dateConditionToComps,t,n),this.removeItems(this.eConditionPanelsFrom,t,n),this.removeItems(this.eConditionPanelsTo,t,n)},e.prototype.removeDateComps=function(t,n,r){var o=this.removeItems(t,n,r);o.forEach(function(s){return s.destroy()})},e.prototype.isValidDateValue=function(t){if(t===null)return!1;if(this.minValidDate){if(t<this.minValidDate)return!1}else if(t.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(t>this.maxValidDate)return!1}else if(t.getUTCFullYear()>this.maxValidYear)return!1;return!0},e.prototype.isConditionUiComplete=function(t){var n=this;if(!i.prototype.isConditionUiComplete.call(this,t))return!1;var r=!0;return this.forEachInput(function(o,s,a,l){a!==t||!r||s>=l||(r=r&&n.isValidDateValue(o.getDate()))}),r},e.prototype.areSimpleModelsEqual=function(t,n){return t.dateFrom===n.dateFrom&&t.dateTo===n.dateTo&&t.type===n.type},e.prototype.getFilterType=function(){return"date"},e.prototype.createCondition=function(t){var n=this.getConditionType(t),r={},o=this.getValues(t);return o.length>0&&(r.dateFrom=no(o[0])),o.length>1&&(r.dateTo=no(o[1])),uM({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:n},r)},e.prototype.resetPlaceholder=function(){var t=this.localeService.getLocaleTextFunc(),n=this.translate("dateFormatOoo"),r=t("ariaFilterValue","Filter Value");this.forEachInput(function(o){o.setInputPlaceholder(n),o.setInputAriaLabel(r)})},e.prototype.getInputs=function(t){return t>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[t],this.dateConditionToComps[t]]},e.prototype.getValues=function(t){var n=[];return this.forEachPositionInput(t,function(r,o,s,a){o<a&&n.push(r.getDate())}),n},e.prototype.translate=function(t){return t===_n.LESS_THAN?i.prototype.translate.call(this,"before"):t===_n.GREATER_THAN?i.prototype.translate.call(this,"after"):i.prototype.translate.call(this,t)},e.prototype.getModelAsString=function(t){var n;return(n=this.filterModelFormatter.getModelAsString(t))!==null&&n!==void 0?n:""},e.DEFAULT_FILTER_OPTIONS=[_n.EQUALS,_n.NOT_EQUAL,_n.LESS_THAN,_n.GREATER_THAN,_n.IN_RANGE,_n.BLANK,_n.NOT_BLANK],hce([_("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(_n),fce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ez=function(i){fce(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.destroy=function(){i.prototype.destroy.call(this)},e.prototype.isEventFromFloatingFilter=function(t){return t&&t.afterFloatingFilter},e.prototype.isEventFromDataChange=function(t){return t?.afterDataChange},e.prototype.getLastType=function(){return this.lastType},e.prototype.isReadOnly=function(){return this.readOnly},e.prototype.setLastTypeFromModel=function(t){if(!t){this.lastType=this.optionsFactory.getDefaultOption();return}var n=t.operator,r;if(n){var o=t;r=o.conditions[0]}else r=t;this.lastType=r.type},e.prototype.canWeEditAfterModelFromParentFilter=function(t){if(!t)return this.isTypeEditable(this.lastType);var n=t.operator;if(n)return!1;var r=t;return this.isTypeEditable(r.type)},e.prototype.init=function(t){this.setSimpleParams(t,!1)},e.prototype.setSimpleParams=function(t,n){n===void 0&&(n=!0),this.optionsFactory=new fz,this.optionsFactory.init(t.filterParams,this.getDefaultFilterOptions()),n||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!t.filterParams.readOnly;var r=this.isTypeEditable(this.lastType);this.setEditable(r)},e.prototype.onParamsUpdated=function(t){this.refresh(t)},e.prototype.refresh=function(t){this.setSimpleParams(t)},e.prototype.doesFilterHaveSingleInput=function(t){var n=this.optionsFactory.getCustomOption(t),r=(n||{}).numberOfInputs;return r==null||r==1},e.prototype.isTypeEditable=function(t){var n=[qt.IN_RANGE,qt.EMPTY,qt.BLANK,qt.NOT_BLANK];return!!t&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(t)&&n.indexOf(t)<0},e}(Fe),pce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),px=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},gce=function(i){pce(e,i);function e(){return i.call(this,`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>
                <div ref="eDateWrapper" style="display: flex;"></div>
            </div>`)||this}return e.prototype.getDefaultFilterOptions=function(){return bz.DEFAULT_FILTER_OPTIONS},e.prototype.init=function(t){i.prototype.init.call(this,t),this.params=t,this.filterParams=t.filterParams,this.createDateComponent(),this.filterModelFormatter=new Sz(this.filterParams,this.localeService,this.optionsFactory);var n=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(n("ariaDateFilterInput","Date Filter Input"))},e.prototype.onParamsUpdated=function(t){this.refresh(t)},e.prototype.refresh=function(t){i.prototype.refresh.call(this,t),this.params=t,this.filterParams=t.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(t.currentParentModel())},e.prototype.updateCompOnModelChange=function(t){var n=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(t);if(this.setEditable(n),n){if(t){var r=t;this.dateComp.setDate(Xi(r.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(t)),this.dateComp.setDate(null)},e.prototype.setEditable=function(t){tt(this.eDateWrapper,t),tt(this.eReadOnlyText.getGui(),!t)},e.prototype.onParentModelChanged=function(t,n){this.isEventFromFloatingFilter(n)||this.isEventFromDataChange(n)||(i.prototype.setLastTypeFromModel.call(this,t),this.updateCompOnModelChange(t))},e.prototype.onDateChanged=function(){var t=this,n=this.dateComp.getDate(),r=no(n);this.params.parentFilterInstance(function(o){if(o){var s=Xi(r);o.onFloatingFilterChanged(t.getLastType()||null,s)}})},e.prototype.getDateComponentParams=function(){var t=zw.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:eo(this.onDateChanged.bind(this),t),filterParams:this.params.column.getColDef().filterParams}},e.prototype.createDateComponent=function(){var t=this;this.dateComp=new hz(this.getContext(),this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper),this.addDestroyFunc(function(){return t.dateComp.destroy()})},e.prototype.updateDateComponent=function(){var t=this.gridOptionsService.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(t)},e.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},px([_("userComponentFactory")],e.prototype,"userComponentFactory",void 0),px([J("eReadOnlyText")],e.prototype,"eReadOnlyText",void 0),px([J("eDateWrapper")],e.prototype,"eDateWrapper",void 0),e}(Ez),mce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),vce=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},yce=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},_ce=function(i){mce(e,i);function e(){return i.call(this,`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>
            </div>`)||this}return e.prototype.destroy=function(){i.prototype.destroy.call(this)},e.prototype.init=function(t){var n=this;this.params=t,this.setParams(t);var r=this.gridOptionsService.getDocument(),o=this.eDateInput.getInputElement();this.addManagedListener(o,"mousedown",function(){n.eDateInput.isDisabled()||n.usingSafariDatePicker||o.focus()}),this.addManagedListener(o,"input",function(s){s.target===r.activeElement&&(n.eDateInput.isDisabled()||n.params.onDateChanged())})},e.prototype.setParams=function(t){var n=this.eDateInput.getInputElement(),r=this.shouldUseBrowserDatePicker(t);this.usingSafariDatePicker=r&&Io(),n.type=r?"date":"text";var o=t.filterParams||{},s=o.minValidYear,a=o.maxValidYear,l=o.minValidDate,u=o.maxValidDate;if(l&&s&&Ae("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),u&&a&&Ae("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),l&&u){var c=yce([l,u].map(function(f){return f instanceof Date?f:Xi(f)}),2),d=c[0],h=c[1];d&&h&&d.getTime()>h.getTime()&&Ae("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}l?l instanceof Date?n.min=Sh(l):n.min=l:s&&(n.min="".concat(s,"-01-01")),u?u instanceof Date?n.max=Sh(u):n.max=u:a&&(n.max="".concat(a,"-12-31"))},e.prototype.onParamsUpdated=function(t){this.refresh(t)},e.prototype.refresh=function(t){this.params=t,this.setParams(t)},e.prototype.getDate=function(){return Xi(this.eDateInput.getValue())},e.prototype.setDate=function(t){this.eDateInput.setValue(no(t,!1))},e.prototype.setInputPlaceholder=function(t){this.eDateInput.setInputPlaceholder(t)},e.prototype.setDisabled=function(t){this.eDateInput.setDisabled(t)},e.prototype.afterGuiAttached=function(t){(!t||!t.suppressFocus)&&this.eDateInput.getInputElement().focus()},e.prototype.shouldUseBrowserDatePicker=function(t){return t.filterParams&&t.filterParams.browserDatePicker!=null?t.filterParams.browserDatePicker:uS()||PM()||Io()&&IM()>=14.1},vce([J("eDateInput")],e.prototype,"eDateInput",void 0),e}(Fe),Cce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),vc=function(i){Cce(e,i);function e(t,n,r){return n===void 0&&(n="ag-text-field"),r===void 0&&(r="text"),i.call(this,t,n,r)||this}return e.prototype.postConstruct=function(){i.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},e.prototype.setValue=function(t,n){return this.eInput.value!==t&&(this.eInput.value=W(t)?t:""),i.prototype.setValue.call(this,t,n)},e.prototype.setStartValue=function(t){this.setValue(t,!0)},e.prototype.preventDisallowedCharacters=function(){var t=new RegExp("[".concat(this.config.allowedCharPattern,"]")),n=function(r){dS(r)&&r.key&&!t.test(r.key)&&r.preventDefault()};this.addManagedListener(this.eInput,"keydown",n),this.addManagedListener(this.eInput,"paste",function(r){var o,s=(o=r.clipboardData)===null||o===void 0?void 0:o.getData("text");s&&s.split("").some(function(a){return!t.test(a)})&&r.preventDefault()})},e}(Ol),wce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),XM=function(i){wce(e,i);function e(t){return i.call(this,t,"ag-number-field","number")||this}return e.prototype.postConstruct=function(){var t=this;i.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var n=parseFloat(t.eInput.value),r=isNaN(n)?"":t.normalizeValue(n.toString());t.value!==r&&t.setValue(r)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"},e.prototype.onWheel=function(t){document.activeElement===this.eInput&&t.preventDefault()},e.prototype.normalizeValue=function(t){if(t==="")return"";this.precision!=null&&(t=this.adjustPrecision(t));var n=parseFloat(t);return this.min!=null&&n<this.min?t=this.min.toString():this.max!=null&&n>this.max&&(t=this.max.toString()),t},e.prototype.adjustPrecision=function(t,n){if(this.precision==null)return t;if(n){var r=parseFloat(t).toFixed(this.precision);return parseFloat(r).toString()}var o=String(t).split(".");if(o.length>1){if(o[1].length<=this.precision)return t;if(this.precision>0)return"".concat(o[0],".").concat(o[1].slice(0,this.precision))}return o[0]},e.prototype.setMin=function(t){return this.min===t?this:(this.min=t,bs(this.eInput,"min",t),this)},e.prototype.setMax=function(t){return this.max===t?this:(this.max=t,bs(this.eInput,"max",t),this)},e.prototype.setPrecision=function(t){return this.precision=t,this},e.prototype.setStep=function(t){return this.step===t?this:(this.step=t,bs(this.eInput,"step",t),this)},e.prototype.setValue=function(t,n){var r=this;return this.setValueOrInputValue(function(o){return i.prototype.setValue.call(r,o,n)},function(){return r},t)},e.prototype.setStartValue=function(t){var n=this;return this.setValueOrInputValue(function(r){return i.prototype.setValue.call(n,r,!0)},function(r){n.eInput.value=r},t)},e.prototype.setValueOrInputValue=function(t,n,r){if(W(r)){var o=this.isScientificNotation(r);if(o&&this.eInput.validity.valid)return t(r);if(!o){r=this.adjustPrecision(r);var s=this.normalizeValue(r);o=r!=s}if(o)return n(r)}return t(r)},e.prototype.getValue=function(){if(this.eInput.validity.valid){var t=this.eInput.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):i.prototype.getValue.call(this)}},e.prototype.isScientificNotation=function(t){return typeof t=="string"&&t.includes("e")},e}(vc),Dz=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Tz=function(i){Dz(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.conditionToString=function(t,n){var r=(n||{}).numberOfInputs,o=t.type==qt.IN_RANGE||r===2;return o?"".concat(this.formatValue(t.filter),"-").concat(this.formatValue(t.filterTo)):t.filter!=null?this.formatValue(t.filter):"".concat(t.type)},e}(ZM);function cM(i){var e=(i??{}).allowedCharPattern;return e??null}var Rz=function(i){Dz(e,i);function e(){var t=i.call(this,"numberFilter")||this;return t.eValuesFrom=[],t.eValuesTo=[],t}return e.prototype.refresh=function(t){return this.numberFilterParams.allowedCharPattern!==t.allowedCharPattern?!1:i.prototype.refresh.call(this,t)},e.prototype.mapValuesFromModel=function(t){var n=t||{},r=n.filter,o=n.filterTo,s=n.type;return[this.processValue(r),this.processValue(o)].slice(0,this.getNumberOfInputs(s))},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.comparator=function(){return function(t,n){return t===n?0:t<n?1:-1}},e.prototype.setParams=function(t){this.numberFilterParams=t,i.prototype.setParams.call(this,t),this.filterModelFormatter=new Tz(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.setElementValue=function(t,n,r){var o=!r&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(n??null):n;i.prototype.setElementValue.call(this,t,o)},e.prototype.createValueElement=function(){var t=cM(this.numberFilterParams),n=document.createElement("div");return n.classList.add("ag-filter-body"),In(n,"presentation"),this.createFromToElement(n,this.eValuesFrom,"from",t),this.createFromToElement(n,this.eValuesTo,"to",t),n},e.prototype.createFromToElement=function(t,n,r,o){var s=this.createManagedBean(o?new vc({allowedCharPattern:o}):new XM);s.addCssClass("ag-filter-".concat(r)),s.addCssClass("ag-filter-filter"),n.push(s),t.appendChild(s.getGui())},e.prototype.removeValueElements=function(t,n){this.removeComponents(this.eValuesFrom,t,n),this.removeComponents(this.eValuesTo,t,n)},e.prototype.getValues=function(t){var n=this,r=[];return this.forEachPositionInput(t,function(o,s,a,l){s<l&&r.push(n.processValue(n.stringToFloat(o.getValue())))}),r},e.prototype.areSimpleModelsEqual=function(t,n){return t.filter===n.filter&&t.filterTo===n.filterTo&&t.type===n.type},e.prototype.getFilterType=function(){return"number"},e.prototype.processValue=function(t){return t==null||isNaN(t)?null:t},e.prototype.stringToFloat=function(t){if(typeof t=="number")return t;var n=Ss(t);return n!=null&&n.trim()===""&&(n=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(n):n==null||n.trim()==="-"?null:parseFloat(n)},e.prototype.createCondition=function(t){var n=this.getConditionType(t),r={filterType:this.getFilterType(),type:n},o=this.getValues(t);return o.length>0&&(r.filter=o[0]),o.length>1&&(r.filterTo=o[1]),r},e.prototype.getInputs=function(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]},e.prototype.getModelAsString=function(t){var n;return(n=this.filterModelFormatter.getModelAsString(t))!==null&&n!==void 0?n:""},e.prototype.hasInvalidInputs=function(){var t=!1;return this.forEachInput(function(n){if(!n.getInputElement().validity.valid){t=!0;return}}),t},e.DEFAULT_FILTER_OPTIONS=[_n.EQUALS,_n.NOT_EQUAL,_n.GREATER_THAN,_n.GREATER_THAN_OR_EQUAL,_n.LESS_THAN,_n.LESS_THAN_OR_EQUAL,_n.IN_RANGE,_n.BLANK,_n.NOT_BLANK],e}(_n),Az=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$w=function(){return $w=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},$w.apply(this,arguments)},Oz=function(i){Az(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.conditionToString=function(t,n){var r=(n||{}).numberOfInputs,o=t.type==qt.IN_RANGE||r===2;return o?"".concat(t.filter,"-").concat(t.filterTo):t.filter!=null?"".concat(t.filter):"".concat(t.type)},e}(ZM),JM=function(i){Az(e,i);function e(){var t=i.call(this,"textFilter")||this;return t.eValuesFrom=[],t.eValuesTo=[],t}return e.trimInput=function(t){var n=t&&t.trim();return n===""?t:n},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.setParams=function(t){this.textFilterParams=t,i.prototype.setParams.call(this,t),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?e.DEFAULT_FORMATTER:e.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new Oz(this.localeService,this.optionsFactory)},e.prototype.getTextMatcher=function(){var t=this.textFilterParams.textCustomComparator;return t?(Ne.warnOnce("textCustomComparator is deprecated, use textMatcher instead."),function(n){var r=n.filterOption,o=n.value,s=n.filterText;return t(r,o,s)}):this.textFilterParams.textMatcher||e.DEFAULT_MATCHER},e.prototype.createCondition=function(t){var n=this.getConditionType(t),r={filterType:this.getFilterType(),type:n},o=this.getValuesWithSideEffects(t,!0);return o.length>0&&(r.filter=o[0]),o.length>1&&(r.filterTo=o[1]),r},e.prototype.getFilterType=function(){return"text"},e.prototype.areSimpleModelsEqual=function(t,n){return t.filter===n.filter&&t.filterTo===n.filterTo&&t.type===n.type},e.prototype.getInputs=function(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]},e.prototype.getValues=function(t){return this.getValuesWithSideEffects(t,!1)},e.prototype.getValuesWithSideEffects=function(t,n){var r=this,o=[];return this.forEachPositionInput(t,function(s,a,l,u){var c;if(a<u){var d=Ss(s.getValue());n&&r.textFilterParams.trimInput&&(d=(c=e.trimInput(d))!==null&&c!==void 0?c:null,s.setValue(d,!0)),o.push(d)}}),o},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueElement=function(){var t=document.createElement("div");return t.classList.add("ag-filter-body"),In(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from"),this.createFromToElement(t,this.eValuesTo,"to"),t},e.prototype.createFromToElement=function(t,n,r){var o=this.createManagedBean(new vc);o.addCssClass("ag-filter-".concat(r)),o.addCssClass("ag-filter-filter"),n.push(o),t.appendChild(o.getGui())},e.prototype.removeValueElements=function(t,n){this.removeComponents(this.eValuesFrom,t,n),this.removeComponents(this.eValuesTo,t,n)},e.prototype.mapValuesFromModel=function(t){var n=t||{},r=n.filter,o=n.filterTo,s=n.type;return[r||null,o||null].slice(0,this.getNumberOfInputs(s))},e.prototype.evaluateNullValue=function(t){var n=[qt.NOT_EQUAL,qt.NOT_CONTAINS,qt.BLANK];return t?n.indexOf(t)>=0:!1},e.prototype.evaluateNonNullValue=function(t,n,r,o){var s=this,a=t.map(function(v){return s.formatter(v)})||[],l=this.formatter(n),u=this.textFilterParams,c=u.api,d=u.colDef,h=u.column,f=u.columnApi,p=u.context,g=u.textFormatter;if(r.type===qt.BLANK)return this.isBlank(n);if(r.type===qt.NOT_BLANK)return!this.isBlank(n);var m={api:c,colDef:d,column:h,columnApi:f,context:p,node:o.node,data:o.data,filterOption:r.type,value:l,textFormatter:g};return a.some(function(v){return s.matcher($w($w({},m),{filterText:v}))})},e.prototype.getModelAsString=function(t){var n;return(n=this.filterModelFormatter.getModelAsString(t))!==null&&n!==void 0?n:""},e.DEFAULT_FILTER_OPTIONS=[qt.CONTAINS,qt.NOT_CONTAINS,qt.EQUALS,qt.NOT_EQUAL,qt.STARTS_WITH,qt.ENDS_WITH,qt.BLANK,qt.NOT_BLANK],e.DEFAULT_FORMATTER=function(t){return t},e.DEFAULT_LOWERCASE_FORMATTER=function(t){return t==null?null:t.toString().toLowerCase()},e.DEFAULT_MATCHER=function(t){var n=t.filterOption,r=t.value,o=t.filterText;if(o==null)return!1;switch(n){case e.CONTAINS:return r.indexOf(o)>=0;case e.NOT_CONTAINS:return r.indexOf(o)<0;case e.EQUALS:return r===o;case e.NOT_EQUAL:return r!=o;case e.STARTS_WITH:return r.indexOf(o)===0;case e.ENDS_WITH:var s=r.lastIndexOf(o);return s>=0&&s===r.length-o.length;default:return!1}},e}(qt),xz=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),gx=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Mz=function(i){xz(e,i);function e(t){var n=i.call(this)||this;return n.params=t,n.valueChangedListener=function(){},n}return e.prototype.setupGui=function(t){var n=this,r;this.eFloatingFilterTextInput=this.createManagedBean(new vc((r=this.params)===null||r===void 0?void 0:r.config));var o=this.eFloatingFilterTextInput.getGui();t.appendChild(o),this.addManagedListener(o,"input",function(s){return n.valueChangedListener(s)}),this.addManagedListener(o,"keydown",function(s){return n.valueChangedListener(s)})},e.prototype.setEditable=function(t){this.eFloatingFilterTextInput.setDisabled(!t)},e.prototype.setAutoComplete=function(t){this.eFloatingFilterTextInput.setAutoComplete(t)},e.prototype.getValue=function(){return this.eFloatingFilterTextInput.getValue()},e.prototype.setValue=function(t,n){this.eFloatingFilterTextInput.setValue(t,n)},e.prototype.setValueChangedListener=function(t){this.valueChangedListener=t},e.prototype.setParams=function(t){this.setAriaLabel(t.ariaLabel),t.autoComplete!==void 0&&this.setAutoComplete(t.autoComplete)},e.prototype.setAriaLabel=function(t){this.eFloatingFilterTextInput.setInputAriaLabel(t)},e}(Y),Iz=function(i){xz(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>
        `)},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.onParentModelChanged=function(t,n){this.isEventFromFloatingFilter(n)||this.isEventFromDataChange(n)||(this.setLastTypeFromModel(t),this.setEditable(this.canWeEditAfterModelFromParentFilter(t)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(t)))},e.prototype.init=function(t){this.setupFloatingFilterInputService(t),i.prototype.init.call(this,t),this.setTextInputParams(t)},e.prototype.setupFloatingFilterInputService=function(t){this.floatingFilterInputService=this.createFloatingFilterInputService(t),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)},e.prototype.setTextInputParams=function(t){var n;this.params=t;var r=(n=t.browserAutoComplete)!==null&&n!==void 0?n:!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(t),autoComplete:r}),this.applyActive=zw.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){var o=zw.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),s=eo(this.syncUpWithParentFilter.bind(this),o);this.floatingFilterInputService.setValueChangedListener(s)}},e.prototype.onParamsUpdated=function(t){this.refresh(t)},e.prototype.refresh=function(t){i.prototype.refresh.call(this,t),this.setTextInputParams(t)},e.prototype.recreateFloatingFilterInputService=function(t){var n=this.floatingFilterInputService.getValue();Wn(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(t),this.floatingFilterInputService.setValue(n,!0)},e.prototype.getAriaLabel=function(t){var n=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),r=this.localeService.getLocaleTextFunc();return"".concat(n," ").concat(r("ariaFilterInput","Filter Input"))},e.prototype.syncUpWithParentFilter=function(t){var n=this,r=t.key===F.ENTER;if(!(this.applyActive&&!r)){var o=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(o=JM.trimInput(o),this.floatingFilterInputService.setValue(o,!0)),this.params.parentFilterInstance(function(s){s&&s.onFloatingFilterChanged(n.getLastType()||null,o||null)})}},e.prototype.setEditable=function(t){this.floatingFilterInputService.setEditable(t)},gx([_("columnModel")],e.prototype,"columnModel",void 0),gx([J("eFloatingFilterInputContainer")],e.prototype,"eFloatingFilterInputContainer",void 0),gx([Z],e.prototype,"postConstruct",null),e}(Ez),Pz=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Sce=function(i){Pz(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.valueChangedListener=function(){},t.numberInputActive=!0,t}return e.prototype.setupGui=function(t){var n=this;this.eFloatingFilterNumberInput=this.createManagedBean(new XM),this.eFloatingFilterTextInput=this.createManagedBean(new vc),this.eFloatingFilterTextInput.setDisabled(!0);var r=this.eFloatingFilterNumberInput.getGui(),o=this.eFloatingFilterTextInput.getGui();t.appendChild(r),t.appendChild(o),this.setupListeners(r,function(s){return n.valueChangedListener(s)}),this.setupListeners(o,function(s){return n.valueChangedListener(s)})},e.prototype.setEditable=function(t){this.numberInputActive=t,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)},e.prototype.setAutoComplete=function(t){this.eFloatingFilterNumberInput.setAutoComplete(t),this.eFloatingFilterTextInput.setAutoComplete(t)},e.prototype.getValue=function(){return this.getActiveInputElement().getValue()},e.prototype.setValue=function(t,n){this.getActiveInputElement().setValue(t,n)},e.prototype.getActiveInputElement=function(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput},e.prototype.setValueChangedListener=function(t){this.valueChangedListener=t},e.prototype.setupListeners=function(t,n){this.addManagedListener(t,"input",n),this.addManagedListener(t,"keydown",n)},e.prototype.setParams=function(t){this.setAriaLabel(t.ariaLabel),t.autoComplete!==void 0&&this.setAutoComplete(t.autoComplete)},e.prototype.setAriaLabel=function(t){this.eFloatingFilterNumberInput.setInputAriaLabel(t),this.eFloatingFilterTextInput.setInputAriaLabel(t)},e}(Y),bce=function(i){Pz(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(t){var n;i.prototype.init.call(this,t),this.filterModelFormatter=new Tz(this.localeService,this.optionsFactory,(n=t.filterParams)===null||n===void 0?void 0:n.numberFormatter)},e.prototype.onParamsUpdated=function(t){this.refresh(t)},e.prototype.refresh=function(t){var n=cM(t.filterParams);n!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(t),i.prototype.refresh.call(this,t),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},e.prototype.getDefaultFilterOptions=function(){return Rz.DEFAULT_FILTER_OPTIONS},e.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},e.prototype.createFloatingFilterInputService=function(t){return this.allowedCharPattern=cM(t.filterParams),this.allowedCharPattern?this.createManagedBean(new Mz({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new Sce)},e}(Iz),Ece=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Dce=function(i){Ece(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(t){i.prototype.init.call(this,t),this.filterModelFormatter=new Oz(this.localeService,this.optionsFactory)},e.prototype.onParamsUpdated=function(t){this.refresh(t)},e.prototype.refresh=function(t){i.prototype.refresh.call(this,t),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},e.prototype.getDefaultFilterOptions=function(){return JM.DEFAULT_FILTER_OPTIONS},e.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},e.prototype.createFloatingFilterInputService=function(){return this.createManagedBean(new Mz)},e}(Iz),Tr=function(){function i(e,t){t===void 0&&(t=!1);var n=this;this.destroyFuncs=[],this.touching=!1,this.eventService=new Pl,this.eElement=e,this.preventMouseClick=t;var r=this.onTouchStart.bind(this),o=this.onTouchMove.bind(this),s=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",r,{passive:!0}),this.eElement.addEventListener("touchmove",o,{passive:!0}),this.eElement.addEventListener("touchend",s,{passive:!1}),this.destroyFuncs.push(function(){n.eElement.removeEventListener("touchstart",r,{passive:!0}),n.eElement.removeEventListener("touchmove",o,{passive:!0}),n.eElement.removeEventListener("touchend",s,{passive:!1})})}return i.prototype.getActiveTouch=function(e){for(var t=0;t<e.length;t++){var n=e[t].identifier===this.touchStart.identifier;if(n)return e[t]}return null},i.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},i.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},i.prototype.onTouchStart=function(e){var t=this;if(!this.touching){this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;var n=this.touchStart;window.setTimeout(function(){var r=t.touchStart===n;if(t.touching&&r&&!t.moved){t.moved=!0;var o={type:i.EVENT_LONG_TAP,touchStart:t.touchStart,touchEvent:e};t.eventService.dispatchEvent(o)}},500)}},i.prototype.onTouchMove=function(e){if(this.touching){var t=this.getActiveTouch(e.touches);if(t){var n=!YM(t,this.touchStart,4);n&&(this.moved=!0)}}},i.prototype.onTouchEnd=function(e){if(this.touching){if(!this.moved){var t={type:i.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}},i.prototype.checkForDoubleTap=function(){var e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0){var t=e-this.lastTapTime;if(t>i.DOUBLE_TAP_MILLIS){var n={type:i.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=e}else this.lastTapTime=e},i.prototype.destroy=function(){this.destroyFuncs.forEach(function(e){return e()})},i.EVENT_TAP="tap",i.EVENT_DOUBLE_TAP="doubleTap",i.EVENT_LONG_TAP="longTap",i.DOUBLE_TAP_MILLIS=500,i}(),Tce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ec=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},eI=function(i){Tce(e,i);function e(t){var n=i.call(this)||this;return t||n.setTemplate(e.TEMPLATE),n}return e.prototype.attachCustomElements=function(t,n,r,o,s){this.eSortOrder=t,this.eSortAsc=n,this.eSortDesc=r,this.eSortMixed=o,this.eSortNone=s},e.prototype.setupSort=function(t,n){var r=this;n===void 0&&(n=!1),this.column=t,this.suppressOrder=n,this.setupMultiSortIndicator(),this.column.isSortable()&&(this.addInIcon("sortAscending",this.eSortAsc,t),this.addInIcon("sortDescending",this.eSortDesc,t),this.addInIcon("sortUnSort",this.eSortNone,t),this.addManagedPropertyListener("unSortIcon",function(){return r.updateIcons()}),this.addManagedListener(this.eventService,w.EVENT_NEW_COLUMNS_LOADED,function(){return r.updateIcons()}),this.addManagedListener(this.eventService,w.EVENT_SORT_CHANGED,function(){return r.onSortChanged()}),this.addManagedListener(this.eventService,w.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return r.onSortChanged()}),this.onSortChanged())},e.prototype.addInIcon=function(t,n,r){if(n!=null){var o=cn(t,this.gridOptionsService,r);o&&n.appendChild(o)}},e.prototype.onSortChanged=function(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()},e.prototype.updateIcons=function(){var t=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){var n=t==="asc";tt(this.eSortAsc,n,{skipAriaHidden:!0})}if(this.eSortDesc){var r=t==="desc";tt(this.eSortDesc,r,{skipAriaHidden:!0})}if(this.eSortNone){var o=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.get("unSortIcon"),s=t==null;tt(this.eSortNone,!o&&s,{skipAriaHidden:!0})}},e.prototype.setupMultiSortIndicator=function(){var t=this;this.addInIcon("sortUnSort",this.eSortMixed,this.column);var n=this.column.getColDef().showRowGroup,r=this.gridOptionsService.isColumnsSortingCoupledToGroup();r&&n&&(this.addManagedListener(this.eventService,w.EVENT_SORT_CHANGED,function(){return t.updateMultiSortIndicator()}),this.addManagedListener(this.eventService,w.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return t.updateMultiSortIndicator()}),this.updateMultiSortIndicator())},e.prototype.updateMultiSortIndicator=function(){if(this.eSortMixed){var t=this.sortController.getDisplaySortForColumn(this.column)==="mixed";tt(this.eSortMixed,t,{skipAriaHidden:!0})}},e.prototype.updateSortOrder=function(){var t=this,n;if(this.eSortOrder){var r=this.sortController.getColumnsWithSortingOrdered(),o=(n=this.sortController.getDisplaySortIndexForColumn(this.column))!==null&&n!==void 0?n:-1,s=r.some(function(l){var u;return(u=t.sortController.getDisplaySortIndexForColumn(l))!==null&&u!==void 0?u:-1>=1}),a=o>=0&&s;tt(this.eSortOrder,a,{skipAriaHidden:!0}),o>=0?this.eSortOrder.textContent=(o+1).toString():Wn(this.eSortOrder)}},e.TEMPLATE=`<span class="ag-sort-indicator-container">
            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>
            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>
        </span>`,ec([J("eSortOrder")],e.prototype,"eSortOrder",void 0),ec([J("eSortAsc")],e.prototype,"eSortAsc",void 0),ec([J("eSortDesc")],e.prototype,"eSortDesc",void 0),ec([J("eSortMixed")],e.prototype,"eSortMixed",void 0),ec([J("eSortNone")],e.prototype,"eSortNone",void 0),ec([_("columnModel")],e.prototype,"columnModel",void 0),ec([_("sortController")],e.prototype,"sortController",void 0),e}(Fe),Rce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ui=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Ace=function(i){Rce(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.lastMovingChanged=0,t}return e.prototype.destroy=function(){i.prototype.destroy.call(this)},e.prototype.refresh=function(t){return this.params=t,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide?!1:(this.setDisplayName(t),!0)},e.prototype.workOutTemplate=function(){var t=wW(this.params.template,e.TEMPLATE);return t=t&&t.trim?t.trim():t,t},e.prototype.init=function(t){this.params=t,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(t.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(t)},e.prototype.setDisplayName=function(t){if(this.currentDisplayName!=t.displayName){this.currentDisplayName=t.displayName;var n=Cn(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=n)}},e.prototype.setupIcons=function(t){this.addInIcon("menu",this.eMenu,t),this.addInIcon("filter",this.eFilter,t)},e.prototype.addInIcon=function(t,n,r){if(n!=null){var o=cn(t,this.gridOptionsService,r);o&&n.appendChild(o)}},e.prototype.setupTap=function(){var t=this,n=this,r=n.gridOptionsService,o=n.api;if(!r.get("suppressTouch")){var s=new Tr(this.getGui(),!0),a=r.get("suppressMenuHide"),l=a&&W(this.eMenu),u=l?new Tr(this.eMenu,!0):s;if(this.params.enableMenu){var c=l?"EVENT_TAP":"EVENT_LONG_TAP",d=function(f){o.showColumnMenuAfterMouseClick(t.params.column,f.touchStart)};this.addManagedListener(u,Tr[c],d)}if(this.params.enableSorting){var h=function(f){var p=f.touchStart.target;a&&t.eMenu.contains(p)||t.sortController.progressSort(t.params.column,!1,"uiColumnSorted")};this.addManagedListener(s,Tr.EVENT_TAP,h)}this.addDestroyFunc(function(){return s.destroy()}),l&&this.addDestroyFunc(function(){return u.destroy()})}},e.prototype.workOutShowMenu=function(){var t=!this.gridOptionsService.get("suppressMenuHide"),n=Fl()&&t,r=this.params.enableMenu&&!n;return r},e.prototype.shouldSuppressMenuHide=function(){return this.gridOptionsService.get("suppressMenuHide")},e.prototype.setMenu=function(){var t=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){pa(this.eMenu);return}this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedListener(this.eMenu,"click",function(){return t.showMenu(t.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}},e.prototype.showMenu=function(t){t||(t=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,t,"columnMenu")},e.prototype.workOutSort=function(){return this.params.enableSorting},e.prototype.setupSort=function(){var t=this;if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new eI(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!!this.currentSort){this.addManagedListener(this.params.column,Tt.EVENT_MOVING_CHANGED,function(){t.lastMovingChanged=new Date().getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(r){var o=t.params.column.isMoving(),s=new Date().getTime(),a=s-t.lastMovingChanged<50,l=o||a;if(!l){var u=t.gridOptionsService.get("multiSortKey")==="ctrl",c=u?r.ctrlKey||r.metaKey:r.shiftKey;t.params.progressSort(c)}});var n=function(){if(t.addOrRemoveCssClass("ag-header-cell-sorted-asc",t.params.column.isSortAscending()),t.addOrRemoveCssClass("ag-header-cell-sorted-desc",t.params.column.isSortDescending()),t.addOrRemoveCssClass("ag-header-cell-sorted-none",t.params.column.isSortNone()),t.params.column.getColDef().showRowGroup){var r=t.columnModel.getSourceColumnsForGroupColumn(t.params.column),o=r?.every(function(a){return t.params.column.getSort()==a.getSort()}),s=!o;t.addOrRemoveCssClass("ag-header-cell-sorted-mixed",s)}};this.addManagedListener(this.eventService,w.EVENT_SORT_CHANGED,n),this.addManagedListener(this.eventService,w.EVENT_COLUMN_ROW_GROUP_CHANGED,n)}},e.prototype.setupFilterIcon=function(){this.eFilter&&(this.addManagedListener(this.params.column,Tt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},e.prototype.onFilterChanged=function(){var t=this.params.column.isFilterActive();tt(this.eFilter,t,{skipAriaHidden:!0})},e.TEMPLATE=`<div class="ag-cell-label-container" role="presentation">
            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
            <div ref="eLabel" class="ag-header-cell-label" role="presentation">
                <span ref="eText" class="ag-header-cell-text"></span>
                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>
            </div>
        </div>`,Ui([_("sortController")],e.prototype,"sortController",void 0),Ui([_("menuFactory")],e.prototype,"menuFactory",void 0),Ui([_("columnModel")],e.prototype,"columnModel",void 0),Ui([_("gridApi")],e.prototype,"api",void 0),Ui([J("eFilter")],e.prototype,"eFilter",void 0),Ui([J("eSortIndicator")],e.prototype,"eSortIndicator",void 0),Ui([J("eMenu")],e.prototype,"eMenu",void 0),Ui([J("eLabel")],e.prototype,"eLabel",void 0),Ui([J("eText")],e.prototype,"eText",void 0),Ui([J("eSortOrder")],e.prototype,"eSortOrder",void 0),Ui([J("eSortAsc")],e.prototype,"eSortAsc",void 0),Ui([J("eSortDesc")],e.prototype,"eSortDesc",void 0),Ui([J("eSortMixed")],e.prototype,"eSortMixed",void 0),Ui([J("eSortNone")],e.prototype,"eSortNone",void 0),e}(Fe),Oce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),mx=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},xce=function(i){Oce(e,i);function e(){return i.call(this,e.TEMPLATE)||this}return e.prototype.destroy=function(){i.prototype.destroy.call(this)},e.prototype.init=function(t){this.params=t,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},e.prototype.checkWarnings=function(){var t=this.params;t.template&&Ae("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")},e.prototype.setupExpandIcons=function(){var t=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var n=function(s){if(!Mo(s)){var a=!t.params.columnGroup.isExpanded();t.columnModel.setColumnGroupOpened(t.params.columnGroup.getProvidedColumnGroup(),a,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,n),this.addTouchAndClickListeners(this.eOpenIcon,n);var r=function(s){Es(s)};this.addManagedListener(this.eCloseIcon,"dblclick",r),this.addManagedListener(this.eOpenIcon,"dblclick",r),this.addManagedListener(this.getGui(),"dblclick",n),this.updateIconVisibility();var o=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(o,sn.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(o,sn.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},e.prototype.addTouchAndClickListeners=function(t,n){var r=new Tr(t,!0);this.addManagedListener(r,Tr.EVENT_TAP,n),this.addDestroyFunc(function(){return r.destroy()}),this.addManagedListener(t,"click",n)},e.prototype.updateIconVisibility=function(){var t=this.params.columnGroup;if(t.isExpandable()){var n=this.params.columnGroup.isExpanded();tt(this.eOpenIcon,n),tt(this.eCloseIcon,!n)}else tt(this.eOpenIcon,!1),tt(this.eCloseIcon,!1)},e.prototype.addInIcon=function(t,n){var r=cn(t,this.gridOptionsService,null);r&&this.getRefElement(n).appendChild(r)},e.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable()){tt(this.eOpenIcon,!1),tt(this.eCloseIcon,!1);return}},e.prototype.setupLabel=function(){var t,n=this.params,r=n.displayName,o=n.columnGroup;if(W(r)){var s=Cn(r,!0);this.getRefElement("agLabel").textContent=s}this.addOrRemoveCssClass("ag-sticky-label",!(!((t=o.getColGroupDef())===null||t===void 0)&&t.suppressStickyLabel))},e.TEMPLATE=`<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">
            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`,mx([_("columnModel")],e.prototype,"columnModel",void 0),mx([J("agOpened")],e.prototype,"eOpenIcon",void 0),mx([J("agClosed")],e.prototype,"eCloseIcon",void 0),e}(Fe),Mce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),yc=function(i){Mce(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.isPopup=function(){return!0},e.prototype.setParentComponent=function(t){t.addCssClass("ag-has-popup"),i.prototype.setParentComponent.call(this,t)},e.prototype.destroy=function(){var t=this.parentComponent,n=t&&t.isAlive();n&&t.getGui().classList.remove("ag-has-popup"),i.prototype.destroy.call(this)},e}(Fe),Ice=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Pce=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Fce=function(i){Ice(e,i);function e(){return i.call(this,e.TEMPLATE)||this}return e.prototype.init=function(t){this.params=t,this.focusAfterAttached=t.cellStartedEdit,this.eTextArea.setMaxLength(t.maxLength||200).setCols(t.cols||60).setRows(t.rows||10),W(t.value,!0)&&this.eTextArea.setValue(t.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()},e.prototype.onKeyDown=function(t){var n=t.key;(n===F.LEFT||n===F.UP||n===F.RIGHT||n===F.DOWN||t.shiftKey&&n===F.ENTER)&&t.stopPropagation()},e.prototype.afterGuiAttached=function(){var t=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(t("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},e.prototype.getValue=function(){var t=this.eTextArea.getValue();return!W(t)&&!W(this.params.value)?this.params.value:this.params.parseValue(t)},e.TEMPLATE=`<div class="ag-large-text">
            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,Pce([J("eTextArea")],e.prototype,"eTextArea",void 0),e}(yc),Nce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),cU=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Lce=function(i){Nce(e,i);function e(){var t=i.call(this,`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" ref="eSelect"></ag-select>
            </div>`)||this;return t.startedByEnter=!1,t}return e.prototype.init=function(t){this.focusAfterAttached=t.cellStartedEdit;var n=this,r=n.eSelect,o=n.valueFormatterService,s=n.gridOptionsService,a=t.values,l=t.value,u=t.eventKey;if(me(a)){console.warn("AG Grid: no values found for select cellEditor");return}this.startedByEnter=u!=null?u===F.ENTER:!1;var c=!1;a.forEach(function(p){var g={value:p},m=o.formatValue(t.column,null,p),v=m!=null;g.text=v?m:p,r.addOption(g),c=c||l===p}),c?r.setValue(t.value,!0):t.values.length&&r.setValue(t.values[0],!0);var d=t.valueListGap,h=t.valueListMaxWidth,f=t.valueListMaxHeight;d!=null&&r.setPickerGap(d),f!=null&&r.setPickerMaxHeight(f),h!=null&&r.setPickerMaxWidth(h),s.get("editType")!=="fullRow"&&this.addManagedListener(this.eSelect,hS.EVENT_ITEM_SELECTED,function(){return t.stopEditing()})},e.prototype.afterGuiAttached=function(){var t=this;this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(function(){t.isAlive()&&t.eSelect.showPicker()})},e.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},e.prototype.getValue=function(){return this.eSelect.getValue()},e.prototype.isPopup=function(){return!1},cU([_("valueFormatterService")],e.prototype,"valueFormatterService",void 0),cU([J("eSelect")],e.prototype,"eSelect",void 0),e}(yc),kce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Vce=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},pS=function(i){kce(e,i);function e(t){var n=i.call(this,`
            <div class="ag-cell-edit-wrapper">
                `.concat(t.getTemplate(),`
            </div>`))||this;return n.cellEditorInput=t,n}return e.prototype.init=function(t){this.params=t;var n=this.eInput;this.cellEditorInput.init(n,t);var r;if(t.cellStartedEdit){this.focusAfterAttached=!0;var o=t.eventKey;o===F.BACKSPACE||t.eventKey===F.DELETE?r="":o&&o.length===1?r=o:(r=this.cellEditorInput.getStartValue(),o!==F.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,r=this.cellEditorInput.getStartValue();r!=null&&n.setStartValue(r),this.addManagedListener(n.getGui(),"keydown",function(s){var a=s.key;(a===F.PAGE_UP||a===F.PAGE_DOWN)&&s.preventDefault()})},e.prototype.afterGuiAttached=function(){var t,n,r=this.localeService.getLocaleTextFunc(),o=this.eInput;if(o.setInputAriaLabel(r("ariaInputEditor","Input Editor")),!!this.focusAfterAttached){Io()||o.getFocusableElement().focus();var s=o.getInputElement();this.highlightAllOnFocus?s.select():(n=(t=this.cellEditorInput).setCaret)===null||n===void 0||n.call(t)}},e.prototype.focusIn=function(){var t=this.eInput,n=t.getFocusableElement(),r=t.getInputElement();n.focus(),r.select()},e.prototype.getValue=function(){return this.cellEditorInput.getValue()},e.prototype.isPopup=function(){return!1},Vce([J("eInput")],e.prototype,"eInput",void 0),e}(yc),Hce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Gce=function(){function i(){}return i.prototype.getTemplate=function(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'},i.prototype.init=function(e,t){this.eInput=e,this.params=t,t.maxLength!=null&&e.setMaxLength(t.maxLength)},i.prototype.getValue=function(){var e=this.eInput.getValue();return!W(e)&&!W(this.params.value)?this.params.value:this.params.parseValue(e)},i.prototype.getStartValue=function(){var e=this.params.useFormatter||this.params.column.getColDef().refData;return e?this.params.formatValue(this.params.value):this.params.value},i.prototype.setCaret=function(){var e=this.eInput.getValue(),t=W(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)},i}(),dU=function(i){Hce(e,i);function e(){return i.call(this,new Gce)||this}return e}(pS),Bce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),jce=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Uce="\u2191",Wce="\u2193",zce=function(i){Bce(e,i);function e(){var t=i.call(this)||this;t.refreshCount=0;var n=document.createElement("span"),r=document.createElement("span");r.setAttribute("class","ag-value-change-delta");var o=document.createElement("span");return o.setAttribute("class","ag-value-change-value"),n.appendChild(r),n.appendChild(o),t.setTemplateFromElement(n),t}return e.prototype.init=function(t){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(t,!0)},e.prototype.showDelta=function(t,n){var r=Math.abs(n),o=t.formatValue(r),s=W(o)?o:r,a=n>=0;a?this.eDelta.textContent=Uce+s:this.eDelta.textContent=Wce+s,this.eDelta.classList.toggle("ag-value-change-delta-up",a),this.eDelta.classList.toggle("ag-value-change-delta-down",!a)},e.prototype.setTimerToRemoveDelta=function(){var t=this;this.refreshCount++;var n=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(function(){window.setTimeout(function(){n===t.refreshCount&&t.hideDeltaValue()},2e3)})},e.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),Wn(this.eDelta)},e.prototype.refresh=function(t,n){n===void 0&&(n=!1);var r=t.value;if(r===this.lastValue||(W(t.valueFormatted)?this.eValue.textContent=t.valueFormatted:W(t.value)?this.eValue.textContent=r:Wn(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof r=="number"&&typeof this.lastValue=="number"){var o=r-this.lastValue;this.showDelta(t,o)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),n||this.setTimerToRemoveDelta(),this.lastValue=r,!0},jce([_("filterManager")],e.prototype,"filterManager",void 0),e}(Fe),$ce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qce=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Yce=function(i){$ce(e,i);function e(){var t=i.call(this)||this;t.refreshCount=0;var n=document.createElement("span"),r=document.createElement("span");return r.setAttribute("class","ag-value-slide-current"),n.appendChild(r),t.setTemplateFromElement(n),t.eCurrent=t.queryForHtmlElement(".ag-value-slide-current"),t}return e.prototype.init=function(t){this.refresh(t,!0)},e.prototype.addSlideAnimation=function(){var t=this;this.refreshCount++;var n=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);var r=document.createElement("span");r.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=r,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(function(){window.setTimeout(function(){n===t.refreshCount&&t.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){n===t.refreshCount&&(t.getGui().removeChild(t.ePrevious),t.ePrevious=null)},3e3)})},e.prototype.refresh=function(t,n){n===void 0&&(n=!1);var r=t.value;return me(r)&&(r=""),r===this.lastValue||this.filterManager.isSuppressFlashingCellsBecauseFiltering()?!1:(n||this.addSlideAnimation(),this.lastValue=r,W(t.valueFormatted)?this.eCurrent.textContent=t.valueFormatted:W(t.value)?this.eCurrent.textContent=r:Wn(this.eCurrent),!0)},qce([_("filterManager")],e.prototype,"filterManager",void 0),e}(Fe),yh=function(){return yh=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},yh.apply(this,arguments)},ke=function(){function i(e){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=i.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=e}return i.prototype.setData=function(e){this.setDataCommon(e,!1)},i.prototype.updateData=function(e){this.setDataCommon(e,!0)},i.prototype.setDataCommon=function(e,t){var n=this.data;this.data=e,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();var r=this.createDataChangedEvent(e,n,t);this.dispatchLocalEvent(r)},i.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},i.prototype.createDataChangedEvent=function(e,t,n){return{type:i.EVENT_DATA_CHANGED,node:this,oldData:t,newData:e,update:n}},i.prototype.createLocalRowEvent=function(e){return{type:e,node:this}},i.prototype.getRowIndexString=function(){return this.rowPinned==="top"?"t-"+this.rowIndex:this.rowPinned==="bottom"?"b-"+this.rowIndex:this.rowIndex.toString()},i.prototype.createDaemonNode=function(){var e=new i(this.beans);return e.id=this.id,e.data=this.data,e.__daemon=!0,e.selected=this.selected,e.level=this.level,e},i.prototype.setDataAndId=function(e,t){var n=W(this.id)?this.createDaemonNode():null,r=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,n);var o=this.createDataChangedEvent(e,r,!1);this.dispatchLocalEvent(o)},i.prototype.checkRowSelectable=function(){var e=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(e?e(this):!0)},i.prototype.setRowSelectable=function(e,t){if(this.selectable!==e){if(this.selectable=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_SELECTABLE_CHANGED)),t)return;var n=this.beans.gridOptionsService.get("groupSelectsChildren");if(n){var r=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:r??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}},i.prototype.setId=function(e){var t=this.beans.gridOptionsService.getCallback("getRowId");if(t)if(this.data){var n=this.getGroupKeys(!0);this.id=t({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level}),this.id!==null&&typeof this.id=="string"&&this.id.startsWith(i.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with ".concat(i.ID_PREFIX_ROW_GROUP,", this is a reserved prefix for AG Grid's row grouping feature.")),this.id!==null&&typeof this.id!="string"&&(this.id=""+this.id)}else this.id=void 0;else this.id=e},i.prototype.getGroupKeys=function(e){e===void 0&&(e=!1);var t=[],n=this;for(e&&(n=n.parent);n&&n.level>=0;)t.push(n.key),n=n.parent;return t.reverse(),t},i.prototype.isPixelInRange=function(e){return!W(this.rowTop)||!W(this.rowHeight)?!1:e>=this.rowTop&&e<this.rowTop+this.rowHeight},i.prototype.setFirstChild=function(e){this.firstChild!==e&&(this.firstChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_FIRST_CHILD_CHANGED)))},i.prototype.setLastChild=function(e){this.lastChild!==e&&(this.lastChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_LAST_CHILD_CHANGED)))},i.prototype.setChildIndex=function(e){this.childIndex!==e&&(this.childIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_CHILD_INDEX_CHANGED)))},i.prototype.setRowTop=function(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_TOP_CHANGED)),this.setDisplayed(e!==null))},i.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},i.prototype.setDisplayed=function(e){this.displayed!==e&&(this.displayed=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_DISPLAYED_CHANGED)))},i.prototype.setDragging=function(e){this.dragging!==e&&(this.dragging=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_DRAGGING_CHANGED)))},i.prototype.setHighlighted=function(e){e!==this.highlighted&&(this.highlighted=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_HIGHLIGHT_CHANGED)))},i.prototype.setHovered=function(e){this.hovered!==e&&(this.hovered=e)},i.prototype.isHovered=function(){return this.hovered},i.prototype.setAllChildrenCount=function(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},i.prototype.setMaster=function(e){this.master!==e&&(this.master&&!e&&(this.expanded=!1),this.master=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_MASTER_CHANGED)))},i.prototype.setGroup=function(e){this.group!==e&&(this.group&&!e&&(this.expanded=!1),this.group=e,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_GROUP_CHANGED)))},i.prototype.setRowHeight=function(e,t){t===void 0&&(t=!1),this.rowHeight=e,this.rowHeightEstimated=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_HEIGHT_CHANGED))},i.prototype.setRowAutoHeight=function(e,t){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[t.getId()]=e,e!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=eo(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},i.prototype.checkAutoHeights=function(){var e=this,t=!1,n=!0,r=0,o=this.__autoHeights;if(o!=null){var s=this.beans.columnModel.getAllDisplayedAutoHeightCols();if(s.forEach(function(l){var u=o[l.getId()];if(u==null)if(e.beans.columnModel.isColSpanActive()){var c=[];switch(l.getPinned()){case"left":c=e.beans.columnModel.getDisplayedLeftColumnsForRow(e);break;case"right":c=e.beans.columnModel.getDisplayedRightColumnsForRow(e);break;case null:c=e.beans.columnModel.getViewportCenterColumnsForRow(e);break}if(c.includes(l)){t=!0;return}u=-1}else{t=!0;return}else n=!1;u>r&&(r=u)}),!t&&((n||r<10)&&(r=this.beans.gridOptionsService.getRowHeightForNode(this).height),r!=this.rowHeight)){this.setRowHeight(r);var a=this.beans.rowModel;a.onRowHeightChangedDebounced&&a.onRowHeightChangedDebounced()}}},i.prototype.setRowIndex=function(e){this.rowIndex!==e&&(this.rowIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_ROW_INDEX_CHANGED)))},i.prototype.setUiLevel=function(e){this.uiLevel!==e&&(this.uiLevel=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_UI_LEVEL_CHANGED)))},i.prototype.setExpanded=function(e,t){if(this.expanded!==e){this.expanded=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_EXPANDED_CHANGED));var n=Object.assign({},this.createGlobalRowEvent(w.EVENT_ROW_GROUP_OPENED),{expanded:e,event:t||null});this.beans.rowNodeEventThrottle.dispatchExpanded(n),this.sibling&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},i.prototype.createGlobalRowEvent=function(e){return this.beans.gridOptionsService.addGridCommonParams({type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})},i.prototype.dispatchLocalEvent=function(e){this.eventService&&this.eventService.dispatchEvent(e)},i.prototype.setDataValue=function(e,t,n){var r=this,o=function(){var u;return typeof e!="string"?e:(u=r.beans.columnModel.getGridColumn(e))!==null&&u!==void 0?u:r.beans.columnModel.getPrimaryColumn(e)},s=o(),a=this.getValueFromValueService(s);if(this.beans.gridOptionsService.get("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(s,a,t,n),!1;var l=this.beans.valueService.setValue(this,s,t,n);return this.dispatchCellChangedEvent(s,t,a),this.checkRowSelectable(),l},i.prototype.getValueFromValueService=function(e){var t=this.leafGroup&&this.beans.columnModel.isPivotMode(),n=this.group&&this.expanded&&!this.footer&&!t,r=this.beans.gridOptionsService.getGroupIncludeFooter(),o=r({node:this}),s=this.beans.gridOptionsService.get("groupSuppressBlankHeader"),a=n&&o&&!s,l=this.beans.valueService.getValue(e,this,!1,a);return l},i.prototype.dispatchEventForSaveValueReadOnly=function(e,t,n,r){var o=this.beans.gridOptionsService.addGridCommonParams({type:w.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:e,colDef:e.getColDef(),data:this.data,node:this,oldValue:t,newValue:n,value:n,source:r});this.beans.eventService.dispatchEvent(o)},i.prototype.setGroupValue=function(e,t){var n=this.beans.columnModel.getGridColumn(e);me(this.groupData)&&(this.groupData={});var r=n.getColId(),o=this.groupData[r];o!==t&&(this.groupData[r]=t,this.dispatchCellChangedEvent(n,t,o))},i.prototype.setAggData=function(e){var t=this,n=pW([this.aggData,e]),r=this.aggData;this.aggData=e,this.eventService&&n.forEach(function(o){var s=t.aggData?t.aggData[o]:void 0,a=r?r[o]:void 0;if(s!==a){var l=t.beans.columnModel.lookupGridColumn(o);l&&t.dispatchCellChangedEvent(l,s,a)}})},i.prototype.updateHasChildren=function(){var e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0,t=this.beans.gridOptionsService.isRowModelType("serverSide");if(t){var n=this.beans.gridOptionsService.get("treeData"),r=this.beans.gridOptionsService.get("isServerSideGroup");e=!this.stub&&!this.footer&&(n?!!r&&r(this.data):!!this.group)}e!==this.__hasChildren&&(this.__hasChildren=!!e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_HAS_CHILDREN_CHANGED)))},i.prototype.hasChildren=function(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren},i.prototype.isEmptyRowGroupNode=function(){return this.group&&Er(this.childrenAfterGroup)},i.prototype.dispatchCellChangedEvent=function(e,t,n){var r={type:i.EVENT_CELL_CHANGED,node:this,column:e,newValue:t,oldValue:n};this.dispatchLocalEvent(r)},i.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},i.prototype.isExpandable=function(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master},i.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},i.prototype.depthFirstSearch=function(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(t){return t.depthFirstSearch(e)}),e(this)},i.prototype.calculateSelectedFromChildren=function(){var e,t=!1,n=!1,r=!1;if(!(!((e=this.childrenAfterGroup)===null||e===void 0)&&e.length))return this.selectable?this.selected:null;for(var o=0;o<this.childrenAfterGroup.length;o++){var s=this.childrenAfterGroup[o],a=s.isSelected();if(!s.selectable){var l=s.calculateSelectedFromChildren();if(l===null)continue;a=l}switch(a){case!0:t=!0;break;case!1:n=!0;break;default:r=!0;break}}if(!(r||t&&n))return t?!0:n?!1:this.selectable?this.selected:null},i.prototype.setSelectedInitialValue=function(e){this.selected=e},i.prototype.selectThisNode=function(e,t,n){n===void 0&&(n="api");var r=!this.selectable&&e,o=this.selected===e;if(r||o)return!1;if(this.selected=e,this.eventService){this.dispatchLocalEvent(this.createLocalRowEvent(i.EVENT_ROW_SELECTED));var s=this.sibling;s&&s.footer&&s.dispatchLocalEvent(s.createLocalRowEvent(i.EVENT_ROW_SELECTED))}var a=yh(yh({},this.createGlobalRowEvent(w.EVENT_ROW_SELECTED)),{event:t||null,source:n});return this.beans.eventService.dispatchEvent(a),!0},i.prototype.setSelected=function(e,t,n){if(t===void 0&&(t=!1),n===void 0&&(n="api"),typeof n=="boolean"){console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:e,clearSelection:t,rangeSelect:!1,source:n})},i.prototype.setSelectedParams=function(e){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):this.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(yh(yh({},e),{nodes:[this.footer?this.sibling:this]}))},i.prototype.isRowPinned=function(){return this.rowPinned==="top"||this.rowPinned==="bottom"},i.prototype.isParentOfNode=function(e){for(var t=this.parent;t;){if(t===e)return!0;t=t.parent}return!1},i.prototype.addEventListener=function(e,t){var n,r;this.eventService||(this.eventService=new Pl),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new CM(this.beans.frameworkOverrides));var o=(r=(n=this.frameworkEventListenerService)===null||n===void 0?void 0:n.wrap(t))!==null&&r!==void 0?r:t;this.eventService.addEventListener(e,o)},i.prototype.removeEventListener=function(e,t){var n,r;if(this.eventService){var o=(r=(n=this.frameworkEventListenerService)===null||n===void 0?void 0:n.unwrap(t))!==null&&r!==void 0?r:t;this.eventService.removeEventListener(e,o),this.eventService.noRegisteredListenersExist()&&(this.eventService=null)}},i.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(i.EVENT_MOUSE_ENTER))},i.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(i.EVENT_MOUSE_LEAVE))},i.prototype.getFirstChildOfFirstChild=function(e){for(var t=this,n=!0,r=!1,o=null;n&&!r;){var s=t.parent,a=W(s)&&t.firstChild;a?s.rowGroupColumn===e&&(r=!0,o=s):n=!1,t=s}return r?o:null},i.prototype.isFullWidthCell=function(){if(this.detail)return!0;var e=this.beans.gridOptionsService.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1},i.prototype.getRoute=function(){if(this.key!=null){for(var e=[],t=this;t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}},i.prototype.createFooter=function(){var e=this;if(!this.sibling){var t=new Set(["eventService","__objectId","sticky"]),n=new i(this.beans);Object.keys(this).forEach(function(r){t.has(r)||(n[r]=e[r])}),n.footer=!0,n.setRowTop(null),n.setRowIndex(null),n.oldRowTop=null,n.id="rowGroupFooter_"+this.id,n.sibling=this,this.sibling=n}},i.prototype.destroyFooter=function(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)},i.ID_PREFIX_ROW_GROUP="row-group-",i.ID_PREFIX_TOP_PINNED="t-",i.ID_PREFIX_BOTTOM_PINNED="b-",i.OBJECT_ID_SEQUENCE=0,i.EVENT_ROW_SELECTED="rowSelected",i.EVENT_DATA_CHANGED="dataChanged",i.EVENT_CELL_CHANGED="cellChanged",i.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",i.EVENT_MASTER_CHANGED="masterChanged",i.EVENT_GROUP_CHANGED="groupChanged",i.EVENT_MOUSE_ENTER="mouseEnter",i.EVENT_MOUSE_LEAVE="mouseLeave",i.EVENT_HEIGHT_CHANGED="heightChanged",i.EVENT_TOP_CHANGED="topChanged",i.EVENT_DISPLAYED_CHANGED="displayedChanged",i.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",i.EVENT_LAST_CHILD_CHANGED="lastChildChanged",i.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",i.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",i.EVENT_EXPANDED_CHANGED="expandedChanged",i.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",i.EVENT_SELECTABLE_CHANGED="selectableChanged",i.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",i.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",i.EVENT_DRAGGING_CHANGED="draggingChanged",i}(),Kce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qw=function(){return qw=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},qw.apply(this,arguments)},hU=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Fz=function(i){Kce(e,i);function e(){return i.call(this,`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)||this}return e.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0);var t=this.eCheckbox.getInputElement();EM(t,"polite"),HW(t,"text")},e.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},e.prototype.onDataChanged=function(){this.onSelectionChanged()},e.prototype.onSelectableChanged=function(){this.showOrHideSelect()},e.prototype.onSelectionChanged=function(){var t=this.localeService.getLocaleTextFunc(),n=this.rowNode.isSelected(),r=lS(t,n),o=t("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(n,!0),this.eCheckbox.setInputAriaLabel("".concat(o," (").concat(r,")"))},e.prototype.onClicked=function(t,n,r){return this.rowNode.setSelectedParams({newValue:t,rangeSelect:r.shiftKey,groupSelectsFiltered:n,event:r,source:"checkboxSelected"})},e.prototype.init=function(t){var n=this;this.rowNode=t.rowNode,this.column=t.column,this.overrides=t.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",function(a){Es(a)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(a){Es(a);var l=n.gridOptionsService.get("groupSelectsFiltered"),u=n.eCheckbox.getValue();if(n.shouldHandleIndeterminateState(u,l)){var c=n.onClicked(!0,l,a||{});c===0&&n.onClicked(!1,l,a)}else u?n.onClicked(!1,l,a):n.onClicked(!0,l,a||{})}),this.addManagedListener(this.rowNode,ke.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,ke.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,ke.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this));var r=this.gridOptionsService.get("isRowSelectable"),o=r||typeof this.getIsVisible()=="function";if(o){var s=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,w.EVENT_DISPLAYED_COLUMNS_CHANGED,s),this.addManagedListener(this.rowNode,ke.EVENT_DATA_CHANGED,s),this.addManagedListener(this.rowNode,ke.EVENT_CELL_CHANGED,s),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},e.prototype.shouldHandleIndeterminateState=function(t,n){return n&&(this.eCheckbox.getPreviousValue()===void 0||t===void 0)&&this.gridOptionsService.isRowModelType("clientSide")},e.prototype.showOrHideSelect=function(){var t,n,r,o,s=this.rowNode.selectable,a=this.getIsVisible();if(s)if(typeof a=="function"){var l=(t=this.overrides)===null||t===void 0?void 0:t.callbackParams,u=(n=this.column)===null||n===void 0?void 0:n.createColumnFunctionCallbackParams(this.rowNode);s=u?a(qw(qw({},l),u)):!1}else s=a??!1;var c=(r=this.column)===null||r===void 0?void 0:r.getColDef().showDisabledCheckboxes;if(c){this.eCheckbox.setDisabled(!s),this.setVisible(!0),this.setDisplayed(!0);return}if(!((o=this.overrides)===null||o===void 0)&&o.removeHidden){this.setDisplayed(s);return}this.setVisible(s)},e.prototype.getIsVisible=function(){var t,n;return this.overrides?this.overrides.isVisible:(n=(t=this.column)===null||t===void 0?void 0:t.getColDef())===null||n===void 0?void 0:n.checkboxSelection},hU([J("eCheckbox")],e.prototype,"eCheckbox",void 0),hU([Z],e.prototype,"postConstruct",null),e}(Fe),im=function(i){return i[i.Up=0]="Up",i[i.Down=1]="Down",i}(im||{}),Ji=function(i){return i[i.Left=0]="Left",i[i.Right=1]="Right",i}(Ji||{}),Qce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),tc=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},fw=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Rr=function(i){return i[i.ToolPanel=0]="ToolPanel",i[i.HeaderCell=1]="HeaderCell",i[i.RowDrag=2]="RowDrag",i[i.ChartPanel=3]="ChartPanel",i[i.AdvancedFilterBuilder=4]="AdvancedFilterBuilder",i}(Rr||{}),xn=function(i){Qce(e,i);function e(){var n=i!==null&&i.apply(this,arguments)||this;return n.dragSourceAndParamsList=[],n.dropTargets=[],n}t=e,e.prototype.init=function(){this.ePinnedIcon=Xr("columnMovePin",this.gridOptionsService,null),this.eHideIcon=Xr("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=Xr("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=Xr("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=Xr("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=Xr("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=Xr("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=Xr("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=Xr("dropNotAllowed",this.gridOptionsService,null)},e.prototype.addDragSource=function(n,r){r===void 0&&(r=!1);var o={eElement:n.eElement,dragStartPixels:n.dragStartPixels,onDragStart:this.onDragStart.bind(this,n),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:r};this.dragSourceAndParamsList.push({params:o,dragSource:n}),this.dragService.addDragSource(o)},e.prototype.removeDragSource=function(n){var r=this.dragSourceAndParamsList.find(function(o){return o.dragSource===n});r&&(this.dragService.removeDragSource(r.params),br(this.dragSourceAndParamsList,r))},e.prototype.clearDragSourceParamsList=function(){var n=this;this.dragSourceAndParamsList.forEach(function(r){return n.dragService.removeDragSource(r.params)}),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0},e.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},e.prototype.onDragStart=function(n,r){this.dragging=!0,this.dragSource=n,this.eventLastTime=r,this.dragItem=this.dragSource.getDragItem(),this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},e.prototype.onDragStop=function(n){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var r=this.createDropTargetEvent(this.lastDropTarget,n,null,null,!1);this.lastDropTarget.onDragStop(r)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},e.prototype.onDragging=function(n,r){var o=this,s,a,l,u,c=this.getHorizontalDirection(n),d=this.getVerticalDirection(n);this.eventLastTime=n,this.positionGhost(n);var h=this.dropTargets.filter(function(g){return o.isMouseOnDropTarget(n,g)}),f=this.findCurrentDropTarget(n,h);if(f!==this.lastDropTarget)this.leaveLastTargetIfExists(n,c,d,r),this.lastDropTarget!==null&&f===null&&((a=(s=this.dragSource).onGridExit)===null||a===void 0||a.call(s,this.dragItem)),this.lastDropTarget===null&&f!==null&&((u=(l=this.dragSource).onGridEnter)===null||u===void 0||u.call(l,this.dragItem)),this.enterDragTargetIfExists(f,n,c,d,r),this.lastDropTarget=f;else if(f&&f.onDragging){var p=this.createDropTargetEvent(f,n,c,d,r);f.onDragging(p)}},e.prototype.getAllContainersFromDropTarget=function(n){var r=n.getSecondaryContainers?n.getSecondaryContainers():null,o=[[n.getContainer()]];return r?o.concat(r):o},e.prototype.allContainersIntersect=function(n,r){var o,s;try{for(var a=fw(r),l=a.next();!l.done;l=a.next()){var u=l.value,c=u.getBoundingClientRect();if(c.width===0||c.height===0)return!1;var d=n.clientX>=c.left&&n.clientX<c.right,h=n.clientY>=c.top&&n.clientY<c.bottom;if(!d||!h)return!1}}catch(f){o={error:f}}finally{try{l&&!l.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}return!0},e.prototype.isMouseOnDropTarget=function(n,r){var o,s,a=this.getAllContainersFromDropTarget(r),l=!1;try{for(var u=fw(a),c=u.next();!c.done;c=u.next()){var d=c.value;if(this.allContainersIntersect(n,d)){l=!0;break}}}catch(h){o={error:h}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(o)throw o.error}}return r.targetContainsSource&&!r.getContainer().contains(this.dragSource.eElement)?!1:l&&r.isInterestedIn(this.dragSource.type,this.dragSource.eElement)},e.prototype.findCurrentDropTarget=function(n,r){var o,s,a,l,u=r.length;if(u===0)return null;if(u===1)return r[0];var c=this.gridOptionsService.getRootNode(),d=c.elementsFromPoint(n.clientX,n.clientY);try{for(var h=fw(d),f=h.next();!f.done;f=h.next()){var p=f.value;try{for(var g=(a=void 0,fw(r)),m=g.next();!m.done;m=g.next()){var v=m.value,y=DW(this.getAllContainersFromDropTarget(v));if(y.indexOf(p)!==-1)return v}}catch(C){a={error:C}}finally{try{m&&!m.done&&(l=g.return)&&l.call(g)}finally{if(a)throw a.error}}}}catch(C){o={error:C}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(o)throw o.error}}return null},e.prototype.enterDragTargetIfExists=function(n,r,o,s,a){if(n){if(n.onDragEnter){var l=this.createDropTargetEvent(n,r,o,s,a);n.onDragEnter(l)}this.setGhostIcon(n.getIconName?n.getIconName():null)}},e.prototype.leaveLastTargetIfExists=function(n,r,o,s){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var a=this.createDropTargetEvent(this.lastDropTarget,n,r,o,s);this.lastDropTarget.onDragLeave(a)}this.setGhostIcon(null)}},e.prototype.addDropTarget=function(n){this.dropTargets.push(n)},e.prototype.removeDropTarget=function(n){this.dropTargets=this.dropTargets.filter(function(r){return r.getContainer()!==n.getContainer()})},e.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(n){return n.external})},e.prototype.findExternalZone=function(n){var r=this.dropTargets.filter(function(o){return o.external});return r.find(function(o){return o.getContainer()===n.getContainer()})||null},e.prototype.getHorizontalDirection=function(n){var r=this.eventLastTime&&this.eventLastTime.clientX,o=n.clientX;return r===o?null:r>o?Ji.Left:Ji.Right},e.prototype.getVerticalDirection=function(n){var r=this.eventLastTime&&this.eventLastTime.clientY,o=n.clientY;return r===o?null:r>o?im.Up:im.Down},e.prototype.createDropTargetEvent=function(n,r,o,s,a){var l=n.getContainer(),u=l.getBoundingClientRect(),c=this,d=c.gridApi,h=c.columnApi,f=c.dragItem,p=c.dragSource,g=r.clientX-u.left,m=r.clientY-u.top;return{event:r,x:g,y:m,vDirection:s,hDirection:o,dragSource:p,fromNudge:a,dragItem:f,api:d,columnApi:h,dropZoneTarget:l}},e.prototype.positionGhost=function(n){var r=this.eGhost;if(r){var o=r.getBoundingClientRect(),s=o.height,a=KW()-2,l=QW()-2,u=BM(r.offsetParent),c=n.clientY,d=n.clientX,h=c-u.top-s/2,f=d-u.left-10,p=this.gridOptionsService.getDocument(),g=p.defaultView||window,m=g.pageYOffset||p.documentElement.scrollTop,v=g.pageXOffset||p.documentElement.scrollLeft;a>0&&f+r.clientWidth>a+v&&(f=a+v-r.clientWidth),f<0&&(f=0),l>0&&h+r.clientHeight>l+m&&(h=l+m-r.clientHeight),h<0&&(h=0),r.style.left="".concat(f,"px"),r.style.top="".concat(h,"px")}},e.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},e.prototype.createGhost=function(){this.eGhost=Zi(t.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);var n=this.environment.getTheme().theme;n&&this.eGhost.classList.add(n),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var r=this.eGhost.querySelector(".ag-dnd-ghost-label"),o=this.dragSource.dragItemName;sS(o)&&(o=o()),r.innerHTML=Cn(o)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var s=this.gridOptionsService.getDocument(),a=null,l=null;try{a=s.fullscreenElement}catch{}finally{a||(a=this.gridOptionsService.getRootNode());var u=a.querySelector("body");u?l=u:a instanceof ShadowRoot?l=a:a instanceof Document?l=a?.documentElement:l=a}this.eGhostParent=l,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},e.prototype.setGhostIcon=function(n,r){r===void 0&&(r=!1),Wn(this.eGhostIcon);var o=null;switch(n||(n=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():t.ICON_NOT_ALLOWED),n){case t.ICON_PINNED:o=this.ePinnedIcon;break;case t.ICON_MOVE:o=this.eMoveIcon;break;case t.ICON_LEFT:o=this.eLeftIcon;break;case t.ICON_RIGHT:o=this.eRightIcon;break;case t.ICON_GROUP:o=this.eGroupIcon;break;case t.ICON_AGGREGATE:o=this.eAggregateIcon;break;case t.ICON_PIVOT:o=this.ePivotIcon;break;case t.ICON_NOT_ALLOWED:o=this.eDropNotAllowedIcon;break;case t.ICON_HIDE:o=this.eHideIcon;break}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",r),!(o===this.eHideIcon&&this.gridOptionsService.get("suppressDragLeaveHidesColumns"))&&o&&this.eGhostIcon.appendChild(o)};var t;return e.ICON_PINNED="pinned",e.ICON_MOVE="move",e.ICON_LEFT="left",e.ICON_RIGHT="right",e.ICON_GROUP="group",e.ICON_AGGREGATE="aggregate",e.ICON_PIVOT="pivot",e.ICON_NOT_ALLOWED="notAllowed",e.ICON_HIDE="hide",e.GHOST_TEMPLATE=`<div class="ag-dnd-ghost ag-unselectable">
            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
            <div class="ag-dnd-ghost-label"></div>
        </div>`,tc([_("dragService")],e.prototype,"dragService",void 0),tc([_("mouseEventService")],e.prototype,"mouseEventService",void 0),tc([_("columnApi")],e.prototype,"columnApi",void 0),tc([_("gridApi")],e.prototype,"gridApi",void 0),tc([Z],e.prototype,"init",null),tc([xi],e.prototype,"clearDragSourceParamsList",null),e=t=tc([ne("dragAndDropService")],e),e}(Y),gS=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qg=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Yw=function(i){gS(e,i);function e(t,n,r,o,s,a){var l=i.call(this)||this;return l.cellValueFn=t,l.rowNode=n,l.column=r,l.customGui=o,l.dragStartPixels=s,l.suppressVisibilityChange=a,l.dragSource=null,l}return e.prototype.isCustomGui=function(){return this.customGui!=null},e.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(cn("rowDrag",this.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var t=this.gridOptionsService.get("rowDragManaged")?new Xce(this,this.beans,this.rowNode,this.column):new Zce(this,this.beans,this.rowNode,this.column);this.createManagedBean(t,this.beans.context)}},e.prototype.setDragElement=function(t,n){this.setTemplateFromElement(t),this.addDragSource(n)},e.prototype.getSelectedNodes=function(){var t=this.gridOptionsService.get("rowDragMultiRow");if(!t)return[this.rowNode];var n=this.beans.selectionService.getSelectedNodes();return n.indexOf(this.rowNode)!==-1?n:[this.rowNode]},e.prototype.checkCompatibility=function(){var t=this.gridOptionsService.get("rowDragManaged"),n=this.gridOptionsService.get("treeData");n&&t&&Ae("If using row drag with tree data, you cannot have rowDragManaged=true")},e.prototype.getDragItem=function(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}},e.prototype.getRowDragText=function(t){if(t){var n=t.getColDef();if(n.rowDragText)return n.rowDragText}return this.gridOptionsService.get("rowDragText")},e.prototype.addDragSource=function(t){var n=this;t===void 0&&(t=4),this.dragSource&&this.removeDragSource();var r=this.localeService.getLocaleTextFunc();this.dragSource={type:Rr.RowDrag,eElement:this.getGui(),dragItemName:function(){var o,s=n.getDragItem(),a=((o=s.rowNodes)===null||o===void 0?void 0:o.length)||1,l=n.getRowDragText(n.column);return l?l(s,a):a===1?n.cellValueFn():"".concat(a," ").concat(r("rowDragRows","rows"))},getDragItem:function(){return n.getDragItem()},dragStartPixels:t,dragSourceDomDataKey:this.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},e.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},qg([_("beans")],e.prototype,"beans",void 0),qg([Z],e.prototype,"postConstruct",null),qg([xi],e.prototype,"removeDragSource",null),e}(Fe),Nz=function(i){gS(e,i);function e(t,n,r){var o=i.call(this)||this;return o.parent=t,o.rowNode=n,o.column=r,o}return e.prototype.setDisplayedOrVisible=function(t){var n={skipAriaHidden:!0};if(t)this.parent.setDisplayed(!1,n);else{var r=!0,o=!1;this.column&&(r=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),o=sS(this.column.getColDef().rowDrag)),o?(this.parent.setDisplayed(!0,n),this.parent.setVisible(r,n)):(this.parent.setDisplayed(r,n),this.parent.setVisible(!0,n))}},e}(Y),Zce=function(i){gS(e,i);function e(t,n,r,o){var s=i.call(this,t,r,o)||this;return s.beans=n,s}return e.prototype.postConstruct=function(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,ke.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ke.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ke.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,w.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var t=this.gridOptionsService.get("suppressRowDrag");this.setDisplayedOrVisible(t)},qg([Z],e.prototype,"postConstruct",null),e}(Nz),Xce=function(i){gS(e,i);function e(t,n,r,o){var s=i.call(this,t,r,o)||this;return s.beans=n,s}return e.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,w.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,w.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,w.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,w.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ke.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ke.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var t=this.beans.ctrlsService.getGridBodyCtrl(),n=t.getRowDragFeature(),r=n&&n.shouldPreventRowMove(),o=this.gridOptionsService.get("suppressRowDrag"),s=this.beans.dragAndDropService.hasExternalDropZones(),a=r&&!s||o;this.setDisplayedOrVisible(a)},qg([Z],e.prototype,"postConstruct",null),e}(Nz),Jce=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Kw=function(){return Kw=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},Kw.apply(this,arguments)},gg=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ede=function(i){Jce(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(t,n,r,o,s,a,l){var u,c,d,h;this.params=l,this.eGui=n,this.eCheckbox=r,this.eExpanded=o,this.eContracted=s,this.comp=t,this.compClass=a;var f=l.node;l.value;var p=l.colDef,g=this.isTopLevelFooter();if(!g){var m=this.isEmbeddedRowMismatch();if(m)return;if(f.footer&&this.gridOptionsService.get("groupHideOpenParents")){var v=p&&p.showRowGroup,y=f.rowGroupColumn&&f.rowGroupColumn.getColId();if(v!==y)return}}if(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),!g){var C=l.node.footer&&l.node.rowGroupIndex===this.columnModel.getRowGroupColumns().findIndex(function(H){var V;return H.getColId()===((V=l.colDef)===null||V===void 0?void 0:V.showRowGroup)}),S=this.gridOptionsService.get("groupDisplayType")!="multipleColumns"||this.gridOptionsService.get("treeData"),E=S||this.gridOptionsService.get("showOpenedGroup")&&!l.node.footer&&(!l.node.group||l.node.rowGroupIndex!=null&&l.node.rowGroupIndex>this.columnModel.getRowGroupColumns().findIndex(function(H){var V;return H.getColId()===((V=l.colDef)===null||V===void 0?void 0:V.showRowGroup)})),T=!f.group&&(((u=this.params.colDef)===null||u===void 0?void 0:u.field)||((c=this.params.colDef)===null||c===void 0?void 0:c.valueGetter)),O=this.isExpandable(),R=this.columnModel.isPivotMode()&&f.leafGroup&&((d=f.rowGroupColumn)===null||d===void 0?void 0:d.getColId())===((h=l.column)===null||h===void 0?void 0:h.getColDef().showRowGroup),M=!this.showingValueForOpenedParent&&!O&&!T&&!E&&!C&&!R;if(M)return}this.addExpandAndContract(),this.addFullWidthRowDraggerIfNeeded(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded()},e.prototype.getCellAriaRole=function(){var t,n,r=(t=this.params.colDef)===null||t===void 0?void 0:t.cellAriaRole,o=(n=this.params.column)===null||n===void 0?void 0:n.getColDef().cellAriaRole;return r||o||"gridcell"},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.expandListener=null},e.prototype.refreshAriaExpanded=function(){var t=this.params,n=t.node,r=t.eGridCell;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable()){BW(r);return}var o=function(){Oo(r,!!n.expanded)};this.expandListener=this.addManagedListener(n,ke.EVENT_EXPANDED_CHANGED,o)||null,o()},e.prototype.isTopLevelFooter=function(){if(!this.gridOptionsService.get("groupIncludeTotalFooter")||this.params.value!=null||this.params.node.level!=-1)return!1;var t=this.params.colDef,n=t==null;if(n||t.showRowGroup===!0)return!0;var r=this.columnModel.getRowGroupColumns();if(!r||r.length===0)return!0;var o=r[0];return o.getId()===t.showRowGroup},e.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsService.get("embedFullWidthRows"))return!1;var t=this.params.pinned==="left",n=this.params.pinned==="right",r=!t&&!n;return this.gridOptionsService.get("enableRtl")?this.columnModel.isPinningLeft()?!n:!r:this.columnModel.isPinningLeft()?!t:!r},e.prototype.findDisplayedGroupNode=function(){var t=this.params.column,n=this.params.node;if(this.showingValueForOpenedParent)for(var r=n.parent;r!=null;){if(r.rowGroupColumn&&t.isRowGroupDisplayed(r.rowGroupColumn.getId())){this.displayedGroupNode=r;break}r=r.parent}me(this.displayedGroupNode)&&(this.displayedGroupNode=n)},e.prototype.setupShowingValueForOpenedParent=function(){var t=this.params.node,n=this.params.column;if(!this.gridOptionsService.get("groupHideOpenParents")){this.showingValueForOpenedParent=!1;return}if(!t.groupData){this.showingValueForOpenedParent=!1;return}var r=t.rowGroupColumn!=null;if(r){var o=t.rowGroupColumn.getId(),s=n.isRowGroupDisplayed(o);if(s){this.showingValueForOpenedParent=!1;return}}var a=t.groupData[n.getId()]!=null;this.showingValueForOpenedParent=a},e.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},e.prototype.addGroupValue=function(){var t,n=this.adjustParamsWithDetailsFromRelatedColumn(),r=this.getInnerCompDetails(n),o=n.valueFormatted,s=n.value,a=o;if(a==null){var l=this.displayedGroupNode.rowGroupColumn&&((t=this.params.column)===null||t===void 0?void 0:t.isRowGroupDisplayed(this.displayedGroupNode.rowGroupColumn.getId()));if(this.displayedGroupNode.key===""&&this.displayedGroupNode.group&&l){var u=this.localeService.getLocaleTextFunc();a=u("blanks","(Blanks)")}else a=s??null}this.comp.setInnerRenderer(r,a)},e.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var t=this.displayedGroupNode.rowGroupColumn,n=this.params.column;if(!t)return this.params;var r=n!=null;if(r){var o=n.isRowGroupDisplayed(t.getId());if(!o)return this.params}var s=this.params,a=this.params,l=a.value,u=a.node,c=this.valueFormatterService.formatValue(t,u,l),d=Kw(Kw({},s),{valueFormatted:c});return d},e.prototype.addFooterValue=function(){var t=this.params.footerValueGetter,n="";if(t){var r=yM(this.params);r.value=this.params.value,typeof t=="function"?n=t(r):typeof t=="string"?n=this.expressionService.evaluate(t,r):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else{var o=this.localeService.getLocaleTextFunc(),s=o("footerTotal","Total");n=s+" "+(this.params.value!=null?this.params.value:"")}var a=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(a,n)},e.prototype.getInnerCompDetails=function(t){var n=this;if(t.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),t);var r=this.userComponentFactory.getInnerRendererDetails(t,t),o=function(c){return c&&c.componentClass==n.compClass};if(r&&!o(r))return r;var s=this.displayedGroupNode.rowGroupColumn,a=s?s.getColDef():void 0;if(a){var l=this.userComponentFactory.getCellRendererDetails(a,t);if(l&&!o(l))return l;if(o(l)&&a.cellRendererParams&&a.cellRendererParams.innerRenderer){var u=this.userComponentFactory.getInnerRendererDetails(a.cellRendererParams,t);return u}}},e.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,ke.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},e.prototype.updateChildCount=function(){var t=this.displayedGroupNode.allChildrenCount,n=this.isShowRowGroupForThisRow(),r=n&&t!=null&&t>=0,o=r?"(".concat(t,")"):"";this.comp.setChildCount(o)},e.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsService.get("treeData"))return!0;var t=this.displayedGroupNode.rowGroupColumn;if(!t)return!1;var n=this.params.column,r=n==null||n.isRowGroupDisplayed(t.getId());return r},e.prototype.addExpandAndContract=function(){var t,n=this.params,r=cn("groupExpanded",this.gridOptionsService,null),o=cn("groupContracted",this.gridOptionsService,null);r&&this.eExpanded.appendChild(r),o&&this.eContracted.appendChild(o);var s=n.eGridCell,a=((t=this.params.column)===null||t===void 0?void 0:t.isCellEditable(n.node))&&this.gridOptionsService.get("enableGroupEdit");!a&&this.isExpandable()&&!n.suppressDoubleClickExpand&&this.addManagedListener(s,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(s,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(n.node,ke.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var l=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,ke.EVENT_ALL_CHILDREN_COUNT_CHANGED,l),this.addManagedListener(this.displayedGroupNode,ke.EVENT_MASTER_CHANGED,l),this.addManagedListener(this.displayedGroupNode,ke.EVENT_GROUP_CHANGED,l),this.addManagedListener(this.displayedGroupNode,ke.EVENT_HAS_CHILDREN_CHANGED,l)},e.prototype.onExpandClicked=function(t){Mo(t)||(Es(t),this.onExpandOrContract(t))},e.prototype.onExpandOrContract=function(t){var n=this.displayedGroupNode,r=!n.expanded;!r&&n.sticky&&this.scrollToStickyNode(n),n.setExpanded(r,t)},e.prototype.scrollToStickyNode=function(t){var n=this.ctrlsService.getGridBodyCtrl(),r=n.getScrollFeature();r.setVerticalScrollPosition(t.rowTop-t.stickyRowTop)},e.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var t=this.displayedGroupNode,n=this.columnModel.isPivotMode()&&t.leafGroup,r=t.isExpandable()&&!t.footer&&!n;if(!r)return!1;var o=this.params.column,s=o!=null&&typeof o.getColDef().showRowGroup=="string";if(s){var a=this.isShowRowGroupForThisRow();return a}return!0},e.prototype.showExpandAndContractIcons=function(){var t=this,n=t.params,r=t.displayedGroupNode,o=t.columnModel,s=n.node,a=this.isExpandable();if(a){var l=this.showingValueForOpenedParent?!0:s.expanded;this.comp.setExpandedDisplayed(l),this.comp.setContractedDisplayed(!l)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var u=o.isPivotMode(),c=u&&r.leafGroup,d=a&&!c,h=s.footer&&s.level===-1;this.comp.addOrRemoveCssClass("ag-cell-expandable",d),this.comp.addOrRemoveCssClass("ag-row-group",d),u?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",c):h||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!d)},e.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},e.prototype.setupIndent=function(){var t=this.params.node,n=this.params.suppressPadding;n||(this.addManagedListener(t,ke.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},e.prototype.setIndent=function(){if(!this.gridOptionsService.get("groupHideOpenParents")){var t=this.params,n=t.node,r=!!t.colDef,o=this.gridOptionsService.get("treeData"),s=!r||o||t.colDef.showRowGroup===!0,a=s?n.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+a,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},e.prototype.addFullWidthRowDraggerIfNeeded=function(){var t=this;if(!(!this.params.fullWidth||!this.params.rowDrag)){var n=new Yw(function(){return t.params.value},this.params.node);this.createManagedBean(n,this.context),this.eGui.insertAdjacentElement("afterbegin",n.getGui())}},e.prototype.isUserWantsSelected=function(){var t=this.params.checkbox;return typeof t=="function"||t===!0},e.prototype.addCheckboxIfNeeded=function(){var t=this,n=this.displayedGroupNode,r=this.isUserWantsSelected()&&!n.footer&&!n.rowPinned&&!n.detail;if(r){var o=new Fz;this.getContext().createBean(o),o.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(o.getGui()),this.addDestroyFunc(function(){return t.getContext().destroyBean(o)})}this.comp.setCheckboxVisible(r)},e.prototype.onKeyDown=function(t){var n=t.key===F.ENTER;if(!(!n||this.params.suppressEnterExpand)){var r=this.params.column&&this.params.column.isCellEditable(this.params.node);r||this.onExpandOrContract(t)}},e.prototype.onCellDblClicked=function(t){if(!Mo(t)){var n=Bw(this.eExpanded,t)||Bw(this.eContracted,t);n||this.onExpandOrContract(t)}},gg([_("expressionService")],e.prototype,"expressionService",void 0),gg([_("valueFormatterService")],e.prototype,"valueFormatterService",void 0),gg([_("columnModel")],e.prototype,"columnModel",void 0),gg([_("userComponentFactory")],e.prototype,"userComponentFactory",void 0),gg([_("ctrlsService")],e.prototype,"ctrlsService",void 0),e}(Y),tde=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),mg=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},fU=function(i){tde(e,i);function e(){return i.call(this,e.TEMPLATE)||this}return e.prototype.init=function(t){var n=this,r={setInnerRenderer:function(l,u){return n.setRenderDetails(l,u)},setChildCount:function(l){return n.eChildCount.textContent=l},addOrRemoveCssClass:function(l,u){return n.addOrRemoveCssClass(l,u)},setContractedDisplayed:function(l){return tt(n.eContracted,l)},setExpandedDisplayed:function(l){return tt(n.eExpanded,l)},setCheckboxVisible:function(l){return n.eCheckbox.classList.toggle("ag-invisible",!l)}},o=this.createManagedBean(new ede),s=!t.colDef,a=this.getGui();o.init(r,a,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,t),s&&In(a,o.getCellAriaRole())},e.prototype.setRenderDetails=function(t,n){var r=this;if(t){var o=t.newAgStackInstance();if(!o)return;o.then(function(s){if(s){var a=function(){return r.context.destroyBean(s)};r.isAlive()?(r.eValue.appendChild(s.getGui()),r.addDestroyFunc(a)):a()}})}else this.eValue.innerText=n},e.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),i.prototype.destroy.call(this)},e.prototype.refresh=function(){return!1},e.TEMPLATE=`<span class="ag-cell-wrapper">
            <span class="ag-group-expanded" ref="eExpanded"></span>
            <span class="ag-group-contracted" ref="eContracted"></span>
            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>
            <span class="ag-group-value" ref="eValue"></span>
            <span class="ag-group-child-count" ref="eChildCount"></span>
        </span>`,mg([J("eExpanded")],e.prototype,"eExpanded",void 0),mg([J("eContracted")],e.prototype,"eContracted",void 0),mg([J("eCheckbox")],e.prototype,"eCheckbox",void 0),mg([J("eValue")],e.prototype,"eValue",void 0),mg([J("eChildCount")],e.prototype,"eChildCount",void 0),e}(Fe),nde=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),pU=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ide=function(i){nde(e,i);function e(){return i.call(this,e.TEMPLATE)||this}return e.prototype.init=function(t){t.node.failedLoad?this.setupFailed():this.setupLoading()},e.prototype.setupFailed=function(){var t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingError","ERR")},e.prototype.setupLoading=function(){var t=cn("groupLoading",this.gridOptionsService,null);t&&this.eLoadingIcon.appendChild(t);var n=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=n("loadingOoo","Loading")},e.prototype.refresh=function(t){return!1},e.prototype.destroy=function(){i.prototype.destroy.call(this)},e.TEMPLATE=`<div class="ag-loading">
            <span class="ag-loading-icon" ref="eLoadingIcon"></span>
            <span class="ag-loading-text" ref="eLoadingText"></span>
        </div>`,pU([J("eLoadingIcon")],e.prototype,"eLoadingIcon",void 0),pU([J("eLoadingText")],e.prototype,"eLoadingText",void 0),e}(Fe),rde=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ode=function(i){rde(e,i);function e(){return i.call(this)||this}return e.prototype.destroy=function(){i.prototype.destroy.call(this)},e.prototype.init=function(t){var n=this,r=this.gridOptionsService.get("overlayLoadingTemplate");if(this.setTemplate(r??e.DEFAULT_LOADING_OVERLAY_TEMPLATE),!r){var o=this.localeService.getLocaleTextFunc();setTimeout(function(){n.getGui().textContent=o("loadingOoo","Loading...")})}},e.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>',e}(Fe),sde=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ade=function(i){sde(e,i);function e(){return i.call(this)||this}return e.prototype.destroy=function(){i.prototype.destroy.call(this)},e.prototype.init=function(t){var n=this,r=this.gridOptionsService.get("overlayNoRowsTemplate");if(this.setTemplate(r??e.DEFAULT_NO_ROWS_TEMPLATE),!r){var o=this.localeService.getLocaleTextFunc();setTimeout(function(){n.getGui().textContent=o("noRowsToShow","No Rows To Show")})}},e.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center"></span>',e}(Fe),lde=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ude=function(i){lde(e,i);function e(){return i.call(this,'<div class="ag-tooltip"></div>')||this}return e.prototype.init=function(t){var n=t.value;this.getGui().textContent=Cn(n,!0)},e}(yc),cde=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),dde=function(){function i(){}return i.prototype.getTemplate=function(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'},i.prototype.init=function(e,t){this.eInput=e,this.params=t,t.max!=null&&e.setMax(t.max),t.min!=null&&e.setMin(t.min),t.precision!=null&&e.setPrecision(t.precision),t.step!=null&&e.setStep(t.step);var n=e.getInputElement();t.preventStepping?e.addManagedListener(n,"keydown",this.preventStepping):t.showStepperButtons&&n.classList.add("ag-number-field-input-stepper")},i.prototype.preventStepping=function(e){(e.key===F.UP||e.key===F.DOWN)&&e.preventDefault()},i.prototype.getValue=function(){var e=this.eInput.getValue();if(!W(e)&&!W(this.params.value))return this.params.value;var t=this.params.parseValue(e);if(t==null)return t;if(typeof t=="string"){if(t==="")return null;t=Number(t)}return isNaN(t)?null:t},i.prototype.getStartValue=function(){return this.params.value},i}(),hde=function(i){cde(e,i);function e(){return i.call(this,new dde)||this}return e}(pS),fde=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),pde=function(){function i(){}return i.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},i.prototype.init=function(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)},i.prototype.getValue=function(){var e=this.eInput.getDate();return!W(e)&&!W(this.params.value)?this.params.value:e??null},i.prototype.getStartValue=function(){var e=this.params.value;if(e instanceof Date)return no(e,!1)},i}(),gde=function(i){fde(e,i);function e(){return i.call(this,new pde)||this}return e}(pS),mde=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),vde=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},yde=function(){function i(e){this.getDataTypeService=e}return i.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},i.prototype.init=function(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)},i.prototype.getValue=function(){var e=this.formatDate(this.eInput.getDate());return!W(e)&&!W(this.params.value)?this.params.value:this.params.parseValue(e??"")},i.prototype.getStartValue=function(){var e,t;return no((t=this.parseDate((e=this.params.value)!==null&&e!==void 0?e:void 0))!==null&&t!==void 0?t:null,!1)},i.prototype.parseDate=function(e){return this.getDataTypeService().getDateParserFunction()(e)},i.prototype.formatDate=function(e){return this.getDataTypeService().getDateFormatterFunction()(e)},i}(),_de=function(i){mde(e,i);function e(){var t=i.call(this,new yde(function(){return t.dataTypeService}))||this;return t}return vde([_("dataTypeService")],e.prototype,"dataTypeService",void 0),e}(pS),Cde=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),wde=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Sde=function(i){Cde(e,i);function e(){return i.call(this,e.TEMPLATE)||this}return e.prototype.init=function(t){var n=this;this.params=t,this.updateCheckbox(t);var r=this.eCheckbox.getInputElement();r.setAttribute("tabindex","-1"),EM(r,"polite"),this.addManagedListener(r,"click",function(s){if(Es(s),!n.eCheckbox.isDisabled()){var a=n.eCheckbox.getValue();n.onCheckboxChanged(a)}}),this.addManagedListener(r,"dblclick",function(s){Es(s)});var o=this.gridOptionsService.getDocument();this.addManagedListener(this.params.eGridCell,"keydown",function(s){if(s.key===F.SPACE&&!n.eCheckbox.isDisabled()){n.params.eGridCell===o.activeElement&&n.eCheckbox.toggle();var a=n.eCheckbox.getValue();n.onCheckboxChanged(a),s.preventDefault()}})},e.prototype.refresh=function(t){return this.params=t,this.updateCheckbox(t),!0},e.prototype.updateCheckbox=function(t){var n,r,o,s,a=!0;if(t.node.group&&t.column){var l=t.column.getColId();l.startsWith(Eh)?s=t.value==null||t.value===""?void 0:t.value==="true":t.node.aggData&&t.node.aggData[l]!==void 0?s=(n=t.value)!==null&&n!==void 0?n:void 0:a=!1}else s=(r=t.value)!==null&&r!==void 0?r:void 0;if(!a){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(s);var u=t.disabled!=null?t.disabled:!(!((o=t.column)===null||o===void 0)&&o.isCellEditable(t.node));this.eCheckbox.setDisabled(u);var c=this.localeService.getLocaleTextFunc(),d=lS(c,s),h=u?d:"".concat(c("ariaToggleCellValue","Press SPACE to toggle cell value")," (").concat(d,")");this.eCheckbox.setInputAriaLabel(h)},e.prototype.onCheckboxChanged=function(t){var n=this.params,r=n.column,o=n.node,s=n.rowIndex,a=n.value,l={type:w.EVENT_CELL_EDITING_STARTED,column:r,colDef:r?.getColDef(),data:o.data,node:o,rowIndex:s,rowPinned:o.rowPinned,value:a};this.eventService.dispatchEvent(l);var u=this.params.node.setDataValue(this.params.column,t,"edit"),c={type:w.EVENT_CELL_EDITING_STOPPED,column:r,colDef:r?.getColDef(),data:o.data,node:o,rowIndex:s,rowPinned:o.rowPinned,value:a,oldValue:a,newValue:t,valueChanged:u};this.eventService.dispatchEvent(c)},e.TEMPLATE=`
        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
        </div>`,wde([J("eCheckbox")],e.prototype,"eCheckbox",void 0),e}(Fe),bde=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ede=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Dde=function(i){bde(e,i);function e(){return i.call(this,`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)||this}return e.prototype.init=function(t){var n=this,r;this.params=t;var o=(r=t.value)!==null&&r!==void 0?r:void 0;this.eCheckbox.setValue(o);var s=this.eCheckbox.getInputElement();s.setAttribute("tabindex","-1"),this.setAriaLabel(o),this.addManagedListener(this.eCheckbox,w.EVENT_FIELD_VALUE_CHANGED,function(a){return n.setAriaLabel(a.selected)})},e.prototype.getValue=function(){return this.eCheckbox.getValue()},e.prototype.focusIn=function(){this.eCheckbox.getFocusableElement().focus()},e.prototype.afterGuiAttached=function(){this.params.cellStartedEdit&&this.focusIn()},e.prototype.isPopup=function(){return!1},e.prototype.setAriaLabel=function(t){var n=this.localeService.getLocaleTextFunc(),r=lS(n,t),o=n("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel("".concat(o," (").concat(r,")"))},Ede([J("eCheckbox")],e.prototype,"eCheckbox",void 0),e}(yc),Tde=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),vx=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},gU=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},mU=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},Rde=function(i){Tde(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.agGridDefaults={agDateInput:_ce,agColumnHeader:Ace,agColumnGroupHeader:xce,agSortIndicator:eI,agTextColumnFloatingFilter:Dce,agNumberColumnFloatingFilter:bce,agDateColumnFloatingFilter:gce,agReadOnlyFloatingFilter:$ue,agAnimateShowChangeCellRenderer:zce,agAnimateSlideCellRenderer:Yce,agGroupCellRenderer:fU,agGroupRowRenderer:fU,agLoadingCellRenderer:ide,agCheckboxCellRenderer:Sde,agCellEditor:dU,agTextCellEditor:dU,agNumberCellEditor:hde,agDateCellEditor:gde,agDateStringCellEditor:_de,agSelectCellEditor:Lce,agLargeTextCellEditor:Fce,agCheckboxCellEditor:Dde,agTextColumnFilter:JM,agNumberColumnFilter:Rz,agDateColumnFilter:bz,agLoadingOverlay:ode,agNoRowsOverlay:ade,agTooltipComponent:ude},t.enterpriseAgDefaultCompsModule={agSetColumnFilter:de.SetFilterModule,agSetColumnFloatingFilter:de.SetFilterModule,agMultiColumnFilter:de.MultiFilterModule,agMultiColumnFloatingFilter:de.MultiFilterModule,agGroupColumnFilter:de.RowGroupingModule,agGroupColumnFloatingFilter:de.RowGroupingModule,agRichSelect:de.RichSelectModule,agRichSelectCellEditor:de.RichSelectModule,agDetailCellRenderer:de.MasterDetailModule,agSparklineCellRenderer:de.SparklinesModule},t.jsComps={},t}return e.prototype.init=function(){var t=this;this.gridOptions.components!=null&&fi(this.gridOptions.components,function(n,r){return t.registerJsComponent(n,r)})},e.prototype.registerDefaultComponent=function(t,n){if(this.agGridDefaults[t]){console.error("Trying to overwrite a default component. You should call registerComponent");return}this.agGridDefaults[t]=n},e.prototype.registerJsComponent=function(t,n){this.jsComps[t]=n},e.prototype.retrieve=function(t,n){var r=this,o=function(d,h){return{componentFromFramework:h,component:d}},s=this.getFrameworkOverrides().frameworkComponent(n,this.gridOptions.components);if(s!=null)return o(s,!0);var a=this.jsComps[n];if(a){var l=this.getFrameworkOverrides().isFrameworkComponent(a);return o(a,l)}var u=this.agGridDefaults[n];if(u)return o(u,!1);var c=this.enterpriseAgDefaultCompsModule[n];return c?mt.__assertRegistered(c,"AG Grid '".concat(t,"' component: ").concat(n),this.context.getGridId()):bh(function(){r.warnAboutMissingComponent(t,n)},"MissingComp"+n),null},e.prototype.warnAboutMissingComponent=function(t,n){var r=mU(mU([],gU(Object.keys(this.agGridDefaults).filter(function(s){return!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(s)})),!1),gU(Object.keys(this.jsComps)),!1),o=lm(n,r,!0,.8).values;console.warn("AG Grid: Could not find '".concat(n,`' component. It was configured as "`).concat(t,": '").concat(n,`'" but it wasn't found in the list of registered components.`)),o.length>0&&console.warn("         Did you mean: [".concat(o.slice(0,3),"]?")),console.warn("If using a custom component check it has been registered as described in: ".concat(this.getFrameworkOverrides().getDocLink("components/")))},vx([_("gridOptions")],e.prototype,"gridOptions",void 0),vx([Z],e.prototype,"init",null),e=vx([ne("userComponentRegistry")],e),e}(Y),Ade={propertyName:"dateComponent",cellRenderer:!1},Ode={propertyName:"headerComponent",cellRenderer:!1},xde={propertyName:"headerGroupComponent",cellRenderer:!1},vU={propertyName:"cellRenderer",cellRenderer:!0},Mde={propertyName:"cellEditor",cellRenderer:!1},yU={propertyName:"innerRenderer",cellRenderer:!0},Ide={propertyName:"loadingOverlayComponent",cellRenderer:!1},Pde={propertyName:"noRowsOverlayComponent",cellRenderer:!1},Fde={propertyName:"tooltipComponent",cellRenderer:!1},dM={propertyName:"filter",cellRenderer:!1},Nde={propertyName:"floatingFilterComponent",cellRenderer:!1},Lde={propertyName:"toolPanel",cellRenderer:!1},kde={propertyName:"statusPanel",cellRenderer:!1},Vde={propertyName:"fullWidthCellRenderer",cellRenderer:!0},Hde={propertyName:"loadingCellRenderer",cellRenderer:!0},Gde={propertyName:"groupRowRenderer",cellRenderer:!0},Bde={propertyName:"detailCellRenderer",cellRenderer:!0},jde=function(){function i(){}return i.getFloatingFilterType=function(e){return this.filterToFloatingFilterMapping[e]},i.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},i}(),Ude=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),hh=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Wde=function(i){Ude(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getHeaderCompDetails=function(t,n){return this.getCompDetails(t,Ode,"agColumnHeader",n)},e.prototype.getHeaderGroupCompDetails=function(t){var n=t.columnGroup.getColGroupDef();return this.getCompDetails(n,xde,"agColumnGroupHeader",t)},e.prototype.getFullWidthCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,Vde,null,t,!0)},e.prototype.getFullWidthLoadingCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,Hde,"agLoadingCellRenderer",t,!0)},e.prototype.getFullWidthGroupCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,Gde,"agGroupRowRenderer",t,!0)},e.prototype.getFullWidthDetailCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,Bde,"agDetailCellRenderer",t,!0)},e.prototype.getInnerRendererDetails=function(t,n){return this.getCompDetails(t,yU,null,n)},e.prototype.getFullWidthGroupRowInnerCellRenderer=function(t,n){return this.getCompDetails(t,yU,null,n)},e.prototype.getCellRendererDetails=function(t,n){return this.getCompDetails(t,vU,null,n)},e.prototype.getCellEditorDetails=function(t,n){return this.getCompDetails(t,Mde,"agCellEditor",n,!0)},e.prototype.getFilterDetails=function(t,n,r){return this.getCompDetails(t,dM,r,n,!0)},e.prototype.getDateCompDetails=function(t){return this.getCompDetails(this.gridOptions,Ade,"agDateInput",t,!0)},e.prototype.getLoadingOverlayCompDetails=function(t){return this.getCompDetails(this.gridOptions,Ide,"agLoadingOverlay",t,!0)},e.prototype.getNoRowsOverlayCompDetails=function(t){return this.getCompDetails(this.gridOptions,Pde,"agNoRowsOverlay",t,!0)},e.prototype.getTooltipCompDetails=function(t){return this.getCompDetails(t.colDef,Fde,"agTooltipComponent",t,!0)},e.prototype.getSetFilterCellRendererDetails=function(t,n){return this.getCompDetails(t,vU,null,n)},e.prototype.getFloatingFilterCompDetails=function(t,n,r){return this.getCompDetails(t,Nde,r,n)},e.prototype.getToolPanelCompDetails=function(t,n){return this.getCompDetails(t,Lde,null,n,!0)},e.prototype.getStatusPanelCompDetails=function(t,n){return this.getCompDetails(t,kde,null,n,!0)},e.prototype.getCompDetails=function(t,n,r,o,s){var a=this;s===void 0&&(s=!1);var l=n.propertyName,u=n.cellRenderer,c=this.getCompKeys(t,n,o),d=c.compName,h=c.jsComp,f=c.fwComp,p=c.paramsFromSelector,g=c.popupFromSelector,m=c.popupPositionFromSelector,v=function(E){var T=a.userComponentRegistry.retrieve(l,E);T&&(h=T.componentFromFramework?void 0:T.component,f=T.componentFromFramework?T.component:void 0)};if(d!=null&&v(d),h==null&&f==null&&r!=null&&v(r),h&&u&&!this.agComponentUtils.doesImplementIComponent(h)&&(h=this.agComponentUtils.adaptFunction(l,h)),!h&&!f){s&&console.error("AG Grid: Could not find component ".concat(d,", did you forget to configure this component?"));return}var y=this.mergeParamsWithApplicationProvidedParams(t,n,o,p),C=h==null,S=h||f;return{componentFromFramework:C,componentClass:S,params:y,type:n,popupFromSelector:g,popupPositionFromSelector:m,newAgStackInstance:function(){return a.newAgStackInstance(S,C,y,n)}}},e.prototype.getCompKeys=function(t,n,r){var o=this,s=n.propertyName,a,l,u,c,d,h;if(t){var f=t,p=f[s+"Selector"],g=p?p(r):null,m=function(v){if(typeof v=="string")a=v;else if(v!=null&&v!==!0){var y=o.getFrameworkOverrides().isFrameworkComponent(v);y?u=v:l=v}};g?(m(g.component),c=g.params,d=g.popup,h=g.popupPosition):m(f[s])}return{compName:a,jsComp:l,fwComp:u,paramsFromSelector:c,popupFromSelector:d,popupPositionFromSelector:h}},e.prototype.newAgStackInstance=function(t,n,r,o){var s=o.propertyName,a=!n,l;if(a)l=new t;else{var u=this.componentMetadataProvider.retrieve(s);l=this.frameworkComponentWrapper.wrap(t,u.mandatoryMethodList,u.optionalMethodList,o)}var c=this.initComponent(l,r);return c==null?Jr.resolve(l):c.then(function(){return l})},e.prototype.mergeParamsWithApplicationProvidedParams=function(t,n,r,o){o===void 0&&(o=null);var s=this.gridOptionsService.getGridCommonParams();Dr(s,r);var a=t,l=a&&a[n.propertyName+"Params"];if(typeof l=="function"){var u=l(r);Dr(s,u)}else typeof l=="object"&&Dr(s,l);return Dr(s,o),s},e.prototype.initComponent=function(t,n){if(this.context.createBean(t),t.init!=null)return t.init(n)},e.prototype.getDefaultFloatingFilterType=function(t,n){if(t==null)return null;var r=null,o=this.getCompKeys(t,dM),s=o.compName,a=o.jsComp,l=o.fwComp;if(s)r=jde.getFloatingFilterType(s);else{var u=a==null&&l==null&&t.filter===!0;u&&(r=n())}return r},hh([_("gridOptions")],e.prototype,"gridOptions",void 0),hh([_("agComponentUtils")],e.prototype,"agComponentUtils",void 0),hh([_("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),hh([_("userComponentRegistry")],e.prototype,"userComponentRegistry",void 0),hh([et("frameworkComponentWrapper")],e.prototype,"frameworkComponentWrapper",void 0),e=hh([ne("userComponentFactory")],e),e}(Y),zde=function(){function i(){}return i.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0},i.ALL_PROPERTIES=Object.keys(i.ColDefPropertyMap),i}(),hM=function(i){return i[i.SINGLE_SHEET=0]="SINGLE_SHEET",i[i.MULTI_SHEET=1]="MULTI_SHEET",i}(hM||{}),$de=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),yx=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},qde=function(i){$de(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.dragEndFunctions=[],t.dragSources=[],t}return e.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},e.prototype.removeListener=function(t){var n=t.dragSource.eElement,r=t.mouseDownListener;if(n.removeEventListener("mousedown",r),t.touchEnabled){var o=t.touchStartListener;n.removeEventListener("touchstart",o,{passive:!0})}},e.prototype.removeDragSource=function(t){var n=this.dragSources.find(function(r){return r.dragSource===t});n&&(this.removeListener(n),br(this.dragSources,n))},e.prototype.isDragging=function(){return this.dragging},e.prototype.addDragSource=function(t){var n=this,r=this.onMouseDown.bind(this,t),o=t.eElement,s=t.includeTouch,a=t.stopPropagationForTouch;o.addEventListener("mousedown",r);var l=null,u=this.gridOptionsService.get("suppressTouch");s&&!u&&(l=function(c){HM(c.target)||(c.cancelable&&(c.preventDefault(),a&&c.stopPropagation()),n.onTouchStart(t,c))},o.addEventListener("touchstart",l,{passive:!1})),this.dragSources.push({dragSource:t,mouseDownListener:r,touchStartListener:l,touchEnabled:!!s})},e.prototype.getStartTarget=function(){return this.startTarget},e.prototype.onTouchStart=function(t,n){var r=this;this.currentDragParams=t,this.dragging=!1;var o=n.touches[0];this.touchLastTime=o,this.touchStart=o;var s=function(d){return r.onTouchMove(d,t.eElement)},a=function(d){return r.onTouchUp(d,t.eElement)},l=function(d){d.cancelable&&d.preventDefault()},u=n.target,c=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:l,options:{passive:!1}},{target:u,type:"touchmove",listener:s,options:{passive:!0}},{target:u,type:"touchend",listener:a,options:{passive:!0}},{target:u,type:"touchcancel",listener:a,options:{passive:!0}}];this.addTemporaryEvents(c),t.dragStartPixels===0&&this.onCommonMove(o,this.touchStart,t.eElement)},e.prototype.onMouseDown=function(t,n){var r=this,o=n;if(!(t.skipMouseEvent&&t.skipMouseEvent(n))&&!o._alreadyProcessedByDragService&&(o._alreadyProcessedByDragService=!0,n.button===0)){this.shouldPreventMouseEvent(n)&&n.preventDefault(),this.currentDragParams=t,this.dragging=!1,this.mouseStartEvent=n,this.startTarget=n.target;var s=function(d){return r.onMouseMove(d,t.eElement)},a=function(d){return r.onMouseUp(d,t.eElement)},l=function(d){return d.preventDefault()},u=this.gridOptionsService.getRootNode(),c=[{target:u,type:"mousemove",listener:s},{target:u,type:"mouseup",listener:a},{target:u,type:"contextmenu",listener:l}];this.addTemporaryEvents(c),t.dragStartPixels===0&&this.onMouseMove(n,t.eElement)}},e.prototype.addTemporaryEvents=function(t){t.forEach(function(n){var r=n.target,o=n.type,s=n.listener,a=n.options;r.addEventListener(o,s,a)}),this.dragEndFunctions.push(function(){t.forEach(function(n){var r=n.target,o=n.type,s=n.listener,a=n.options;r.removeEventListener(o,s,a)})})},e.prototype.isEventNearStartEvent=function(t,n){var r=this.currentDragParams.dragStartPixels,o=W(r)?r:4;return YM(t,n,o)},e.prototype.getFirstActiveTouch=function(t){for(var n=0;n<t.length;n++)if(t[n].identifier===this.touchStart.identifier)return t[n];return null},e.prototype.onCommonMove=function(t,n,r){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(t,n))return;this.dragging=!0;var o={type:w.EVENT_DRAG_STARTED,target:r};this.eventService.dispatchEvent(o),this.currentDragParams.onDragStart(n),this.currentDragParams.onDragging(n)}this.currentDragParams.onDragging(t)},e.prototype.onTouchMove=function(t,n){var r=this.getFirstActiveTouch(t.touches);r&&this.onCommonMove(r,this.touchStart,n)},e.prototype.onMouseMove=function(t,n){var r;if(Io()){var o=this.gridOptionsService.getDocument();(r=o.getSelection())===null||r===void 0||r.removeAllRanges()}this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.onCommonMove(t,this.mouseStartEvent,n)},e.prototype.shouldPreventMouseEvent=function(t){var n=this.gridOptionsService.get("enableCellTextSelection"),r=t.type==="mousemove";return n&&r&&t.cancelable&&this.mouseEventService.isEventFromThisGrid(t)&&!this.isOverFormFieldElement(t)},e.prototype.isOverFormFieldElement=function(t){var n=t.target,r=n?.tagName.toLocaleLowerCase();return!!r?.match("^a$|textarea|input|select|button")},e.prototype.onTouchUp=function(t,n){var r=this.getFirstActiveTouch(t.changedTouches);r||(r=this.touchLastTime),this.onUpCommon(r,n)},e.prototype.onMouseUp=function(t,n){this.onUpCommon(t,n)},e.prototype.onUpCommon=function(t,n){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(t);var r={type:w.EVENT_DRAG_STOPPED,target:n};this.eventService.dispatchEvent(r)}this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(o){return o()}),this.dragEndFunctions.length=0},yx([_("mouseEventService")],e.prototype,"mouseEventService",void 0),yx([xi],e.prototype,"removeAllListeners",null),e=yx([ne("dragService")],e),e}(Y),Lz=function(){function i(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||function(){return!1}}return i.prototype.check=function(e,t){t===void 0&&(t=!1);var n=t||this.shouldSkipVerticalScroll();if(!(n&&this.shouldSkipHorizontalScroll())){var r=this.scrollContainer.getBoundingClientRect(),o=this.scrollByTick;this.tickLeft=e.clientX<r.left+o,this.tickRight=e.clientX>r.right-o,this.tickUp=e.clientY<r.top+o&&!n,this.tickDown=e.clientY>r.bottom-o&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},i.prototype.ensureTickingStarted=function(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},i.prototype.doTick=function(){this.tickCount++;var e;if(e=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){var n=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(n-e),this.tickRight&&this.setHorizontalPosition(n+e)}this.onScrollCallback&&this.onScrollCallback()},i.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},i}(),Yde=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_U=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},_x="ag-list-item-hovered",vBe=function(i){Yde(e,i);function e(t,n,r){var o=i.call(this)||this;return o.comp=t,o.virtualList=n,o.params=r,o.currentDragValue=null,o.lastHoveredListItem=null,o}return e.prototype.postConstruct=function(){this.addManagedListener(this.params.eventSource,this.params.listItemDragStartEvent,this.listItemDragStart.bind(this)),this.addManagedListener(this.params.eventSource,this.params.listItemDragEndEvent,this.listItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()},e.prototype.listItemDragStart=function(t){this.currentDragValue=this.params.getCurrentDragValue(t),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)},e.prototype.listItemDragEnd=function(){var t=this;window.setTimeout(function(){t.currentDragValue=null,t.moveBlocked=!1},10)},e.prototype.createDropTarget=function(){var t=this,n={isInterestedIn:function(r){return r===t.params.dragSourceType},getIconName:function(){return t.moveBlocked?xn.ICON_PINNED:xn.ICON_MOVE},getContainer:function(){return t.comp.getGui()},onDragging:function(r){return t.onDragging(r)},onDragStop:function(){return t.onDragStop()},onDragLeave:function(){return t.onDragLeave()}};this.dragAndDropService.addDropTarget(n)},e.prototype.createAutoScrollService=function(){var t=this.virtualList.getGui();this.autoScrollService=new Lz({scrollContainer:t,scrollAxis:"y",getVerticalPosition:function(){return t.scrollTop},setVerticalPosition:function(n){return t.scrollTop=n}})},e.prototype.onDragging=function(t){if(!(!this.currentDragValue||this.moveBlocked)){var n=this.getListDragItem(t),r=this.virtualList.getComponentAt(n.rowIndex);if(r){var o=r.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===n.rowIndex&&this.lastHoveredListItem.position===n.position||(this.autoScrollService.check(t.event),this.clearHoveredItems(),this.lastHoveredListItem=n,sM(o,_x),sM(o,"ag-item-highlight-".concat(n.position)))}}},e.prototype.getListDragItem=function(t){var n=this.virtualList.getGui(),r=parseFloat(window.getComputedStyle(n).paddingTop),o=this.virtualList.getRowHeight(),s=this.virtualList.getScrollTop(),a=Math.max(0,(t.y-r+s)/o),l=this.params.getNumRows(this.comp)-1,u=Math.min(l,a)|0;return{rowIndex:u,position:Math.round(a)>a||a>l?"bottom":"top",component:this.virtualList.getComponentAt(u)}},e.prototype.onDragStop=function(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearHoveredItems(),this.autoScrollService.ensureCleared())},e.prototype.onDragLeave=function(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()},e.prototype.clearHoveredItems=function(){var t=this.virtualList.getGui();t.querySelectorAll(".".concat(_x)).forEach(function(n){[_x,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(function(r){n.classList.remove(r)})}),this.lastHoveredListItem=null},_U([_("dragAndDropService")],e.prototype,"dragAndDropService",void 0),_U([Z],e.prototype,"postConstruct",null),e}(Y),Ml=function(i){return i[i.Above=0]="Above",i[i.Below=1]="Below",i}(Ml||{}),Ye=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o};function ac(i){var e=i,t=e!=null&&e.getFrameworkComponentInstance!=null;return t?e.getFrameworkComponentInstance():i}var kz=function(){function i(){this.detailGridInfoMap={},this.destroyCalled=!1}return i.prototype.init=function(){var e=this;switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel;break}this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl()})},i.prototype.__getAlignedGridService=function(){return this.alignedGridsService},i.prototype.__getContext=function(){return this.context},i.prototype.getGridId=function(){return this.context.getGridId()},i.prototype.addDetailGridInfo=function(e,t){this.detailGridInfoMap[e]=t},i.prototype.removeDetailGridInfo=function(e){this.detailGridInfoMap[e]=void 0},i.prototype.getDetailGridInfo=function(e){return this.detailGridInfoMap[e]},i.prototype.forEachDetailGridInfo=function(e){var t=0;fi(this.detailGridInfoMap,function(n,r){W(r)&&(e(r,t),t++)})},i.prototype.getDataAsCsv=function(e){if(mt.__assertRegistered(de.CsvExportModule,"api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(e)},i.prototype.exportDataAsCsv=function(e){mt.__assertRegistered(de.CsvExportModule,"api.exportDataAsCSv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(e)},i.prototype.assertNotExcelMultiSheet=function(e,t){return mt.__assertRegistered(de.ExcelExportModule,"api."+e,this.context.getGridId())?this.excelCreator.getFactoryMode()===hM.MULTI_SHEET?(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1):!0:!1},i.prototype.getDataAsExcel=function(e){if(this.assertNotExcelMultiSheet("getDataAsExcel",e))return this.excelCreator.getDataAsExcel(e)},i.prototype.exportDataAsExcel=function(e){this.assertNotExcelMultiSheet("exportDataAsExcel",e)&&this.excelCreator.exportDataAsExcel(e)},i.prototype.getSheetDataForExcel=function(e){if(mt.__assertRegistered(de.ExcelExportModule,"api.getSheetDataForExcel",this.context.getGridId()))return this.excelCreator.setFactoryMode(hM.MULTI_SHEET),this.excelCreator.getSheetDataForExcel(e)},i.prototype.getMultipleSheetsAsExcel=function(e){if(mt.__assertRegistered(de.ExcelExportModule,"api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(e)},i.prototype.exportMultipleSheetsAsExcel=function(e){if(mt.__assertRegistered(de.ExcelExportModule,"api.exportMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.exportMultipleSheetsAsExcel(e)},i.prototype.setGridAriaProperty=function(e,t){if(e){var n=this.ctrlsService.getGridBodyCtrl().getGui(),r="aria-".concat(e);t===null?n.removeAttribute(r):n.setAttribute(r,t)}},i.prototype.logMissingRowModel=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];console.error("AG Grid: api.".concat(e," can only be called when gridOptions.rowModelType is ").concat(t.join(" or ")))},i.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},i.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},i.prototype.getPinnedTopRow=function(e){return this.pinnedRowModel.getPinnedTopRow(e)},i.prototype.getPinnedBottomRow=function(e){return this.pinnedRowModel.getPinnedBottomRow(e)},i.prototype.expireValueCache=function(){this.valueCache.expire()},i.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},i.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},i.prototype.refreshCells=function(e){var t=this;e===void 0&&(e={}),this.frameworkOverrides.wrapIncoming(function(){return t.rowRenderer.refreshCells(e)})},i.prototype.flashCells=function(e){var t=this;e===void 0&&(e={}),this.frameworkOverrides.wrapIncoming(function(){return t.rowRenderer.flashCells(e)})},i.prototype.redrawRows=function(e){var t=this;e===void 0&&(e={});var n=e?e.rowNodes:void 0;this.frameworkOverrides.wrapIncoming(function(){return t.rowRenderer.redrawRows(n)})},i.prototype.refreshHeader=function(){var e=this;this.frameworkOverrides.wrapIncoming(function(){return e.ctrlsService.getHeaderRowContainerCtrls().forEach(function(t){return t.refresh()})})},i.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},i.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},i.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},i.prototype.getModel=function(){return this.rowModel},i.prototype.setRowNodeExpanded=function(e,t,n){this.expansionService.setRowNodeExpanded(e,t,n)},i.prototype.onGroupExpandedOrCollapsed=function(){if(me(this.clientSideRowModel)){this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide");return}this.expansionService.onGroupExpandedOrCollapsed()},i.prototype.refreshClientSideRowModel=function(e){if(me(this.clientSideRowModel)){this.logMissingRowModel("refreshClientSideRowModel","clientSide");return}this.clientSideRowModel.refreshModel(e)},i.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},i.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},i.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},i.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gos.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}},i.prototype.expandAll=function(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")},i.prototype.collapseAll=function(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!1):this.logMissingRowModel("collapseAll","clientSide","serverSide")},i.prototype.addRenderedRowListener=function(e,t,n){this.rowRenderer.addRenderedRowListener(e,t,n)},i.prototype.getQuickFilter=function(){return this.gos.get("quickFilterText")},i.prototype.getAdvancedFilterModel=function(){return mt.__assertRegistered(de.AdvancedFilterModule,"api.getAdvancedFilterModel",this.context.getGridId())?this.filterManager.getAdvancedFilterModel():null},i.prototype.setAdvancedFilterModel=function(e){this.filterManager.setAdvancedFilterModel(e)},i.prototype.showAdvancedFilterBuilder=function(){mt.__assertRegistered(de.AdvancedFilterModule,"api.setAdvancedFilterModel",this.context.getGridId())&&this.filterManager.showAdvancedFilterBuilder("api")},i.prototype.setNodesSelected=function(e){var t=e.nodes.every(function(a){return a.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):a.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),!1):!0});if(t){var n=e.nodes,r=e.source,o=e.newValue,s=n;this.selectionService.setNodesSelected({nodes:s,source:r??"api",newValue:o})}},i.prototype.selectAll=function(e){e===void 0&&(e="apiSelectAll"),this.selectionService.selectAllRowNodes({source:e})},i.prototype.deselectAll=function(e){e===void 0&&(e="apiSelectAll"),this.selectionService.deselectAllRowNodes({source:e})},i.prototype.selectAllFiltered=function(e){e===void 0&&(e="apiSelectAllFiltered"),this.selectionService.selectAllRowNodes({source:e,justFiltered:!0})},i.prototype.deselectAllFiltered=function(e){e===void 0&&(e="apiSelectAllFiltered"),this.selectionService.deselectAllRowNodes({source:e,justFiltered:!0})},i.prototype.getServerSideSelectionState=function(){return me(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getSelectionState()},i.prototype.setServerSideSelectionState=function(e){if(me(this.serverSideRowModel)){this.logMissingRowModel("setServerSideSelectionState","serverSide");return}this.selectionService.setSelectionState(e,"api")},i.prototype.selectAllOnCurrentPage=function(e){e===void 0&&(e="apiSelectAllCurrentPage"),this.selectionService.selectAllRowNodes({source:e,justCurrentPage:!0})},i.prototype.deselectAllOnCurrentPage=function(e){e===void 0&&(e="apiSelectAllCurrentPage"),this.selectionService.deselectAllRowNodes({source:e,justCurrentPage:!0})},i.prototype.showLoadingOverlay=function(){this.overlayService.showLoadingOverlay()},i.prototype.showNoRowsOverlay=function(){this.overlayService.showNoRowsOverlay()},i.prototype.hideOverlay=function(){this.overlayService.hideOverlay()},i.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},i.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},i.prototype.getBestCostNodeSelection=function(){if(me(this.clientSideRowModel)){this.logMissingRowModel("getBestCostNodeSelection","clientSide");return}return this.selectionService.getBestCostNodeSelection()},i.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},i.prototype.ensureColumnVisible=function(e,t){var n=this;t===void 0&&(t="auto"),this.frameworkOverrides.wrapIncoming(function(){return n.gridBodyCtrl.getScrollFeature().ensureColumnVisible(e,t)})},i.prototype.ensureIndexVisible=function(e,t){var n=this;this.frameworkOverrides.wrapIncoming(function(){return n.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e,t)})},i.prototype.ensureNodeVisible=function(e,t){var n=this;t===void 0&&(t=null),this.frameworkOverrides.wrapIncoming(function(){return n.gridBodyCtrl.getScrollFeature().ensureNodeVisible(e,t)})},i.prototype.forEachLeafNode=function(e){if(me(this.clientSideRowModel)){this.logMissingRowModel("forEachLeafNode","clientSide");return}this.clientSideRowModel.forEachLeafNode(e)},i.prototype.forEachNode=function(e,t){this.rowModel.forEachNode(e,t)},i.prototype.forEachNodeAfterFilter=function(e){if(me(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilter","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilter(e)},i.prototype.forEachNodeAfterFilterAndSort=function(e){if(me(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilterAndSort(e)},i.prototype.getFilterInstance=function(e,t){return this.filterManager.getFilterInstance(e,t)},i.prototype.getColumnFilterInstance=function(e){return this.filterManager.getColumnFilterInstance(e)},i.prototype.destroyFilter=function(e){var t=this.columnModel.getPrimaryColumn(e);if(t)return this.filterManager.destroyFilter(t,"api")},i.prototype.getStatusPanel=function(e){if(mt.__assertRegistered(de.StatusBarModule,"api.getStatusPanel",this.context.getGridId())){var t=this.statusBarService.getStatusPanel(e);return ac(t)}},i.prototype.getColumnDef=function(e){var t=this.columnModel.getPrimaryColumn(e);return t?t.getColDef():null},i.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},i.prototype.onFilterChanged=function(e){e===void 0&&(e="api"),this.filterManager.onFilterChanged({source:e})},i.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},i.prototype.setFilterModel=function(e){var t=this;this.frameworkOverrides.wrapIncoming(function(){return t.filterManager.setFilterModel(e)})},i.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},i.prototype.getColumnFilterModel=function(e){return this.filterManager.getColumnFilterModel(e)},i.prototype.setColumnFilterModel=function(e,t){return this.filterManager.setColumnFilterModel(e,t)},i.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},i.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},i.prototype.setFocusedCell=function(e,t,n){this.focusService.setFocusedCell({rowIndex:e,column:t,rowPinned:n,forceBrowserFocus:!0})},i.prototype.addRowDropZone=function(e){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(e)},i.prototype.removeRowDropZone=function(e){var t=this.dragAndDropService.findExternalZone(e);t&&this.dragAndDropService.removeDropTarget(t)},i.prototype.getRowDropZoneParams=function(e){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(e)},i.prototype.assertSideBarLoaded=function(e){return mt.__assertRegistered(de.SideBarModule,"api."+e,this.context.getGridId())},i.prototype.isSideBarVisible=function(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarService.getSideBarComp().isDisplayed()},i.prototype.setSideBarVisible=function(e){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarService.getSideBarComp().setDisplayed(e)},i.prototype.setSideBarPosition=function(e){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarService.getSideBarComp().setSideBarPosition(e)},i.prototype.openToolPanel=function(e){this.assertSideBarLoaded("openToolPanel")&&this.sideBarService.getSideBarComp().openToolPanel(e,"api")},i.prototype.closeToolPanel=function(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarService.getSideBarComp().close("api")},i.prototype.getOpenedToolPanel=function(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarService.getSideBarComp().openedItem():null},i.prototype.refreshToolPanel=function(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarService.getSideBarComp().refresh()},i.prototype.isToolPanelShowing=function(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarService.getSideBarComp().isToolPanelShowing()},i.prototype.getToolPanelInstance=function(e){if(this.assertSideBarLoaded("getToolPanelInstance")){var t=this.sideBarService.getSideBarComp().getToolPanelInstance(e);return ac(t)}},i.prototype.getSideBar=function(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarService.getSideBarComp().getDef()},i.prototype.resetRowHeights=function(){if(W(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive()){console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}this.clientSideRowModel.resetRowHeights()}},i.prototype.setRowCount=function(e,t){if(this.serverSideRowModel){if(this.columnModel.isRowGroupEmpty()){this.serverSideRowModel.setRowCount(e,t);return}console.error("AG Grid: setRowCount cannot be used while using row grouping.");return}if(this.infiniteRowModel){this.infiniteRowModel.setRowCount(e,t);return}this.logMissingRowModel("setRowCount","infinite","serverSide")},i.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},i.prototype.getValue=function(e,t){var n=this.columnModel.getPrimaryColumn(e);return me(n)&&(n=this.columnModel.getGridColumn(e)),me(n)?null:this.valueService.getValue(n,t)},i.prototype.addEventListener=function(e,t){this.apiEventService.addEventListener(e,t)},i.prototype.addGlobalListener=function(e){this.apiEventService.addGlobalListener(e)},i.prototype.removeEventListener=function(e,t){this.apiEventService.removeEventListener(e,t)},i.prototype.removeGlobalListener=function(e){this.apiEventService.removeGlobalListener(e)},i.prototype.dispatchEvent=function(e){this.eventService.dispatchEvent(e)},i.prototype.destroy=function(){var e="See ".concat(this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed"));if(!this.destroyCalled){var t={type:w.EVENT_GRID_PRE_DESTROYED,state:this.getState()};this.dispatchEvent(t),this.destroyCalled=!0;var n=this.ctrlsService.getGridCtrl();n&&n.destroyGridUi(),this.context.destroy(),gW(this,["isDestroyed"],e)}},i.prototype.isDestroyed=function(){return this.destroyCalled},i.prototype.resetQuickFilter=function(){this.filterManager.resetQuickFilterCache()},i.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(mt.__assertRegistered(de.RangeSelectionModule,"api.getCellRanges",this.context.getGridId()),null)},i.prototype.addCellRange=function(e){if(this.rangeService){this.rangeService.addCellRange(e);return}mt.__assertRegistered(de.RangeSelectionModule,"api.addCellRange",this.context.getGridId())},i.prototype.clearRangeSelection=function(){this.rangeService&&this.rangeService.removeAllCellRanges(),mt.__assertRegistered(de.RangeSelectionModule,"gridApi.clearRangeSelection",this.context.getGridId())},i.prototype.undoCellEditing=function(){this.undoRedoService.undo("api")},i.prototype.redoCellEditing=function(){this.undoRedoService.redo("api")},i.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},i.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},i.prototype.assertChart=function(e,t){if(mt.__assertRegistered(de.GridChartsModule,"api."+e,this.context.getGridId()))return this.frameworkOverrides.wrapIncoming(function(){return t()})},i.prototype.getChartModels=function(){var e=this;return this.assertChart("getChartModels",function(){return e.chartService.getChartModels()})},i.prototype.getChartRef=function(e){var t=this;return this.assertChart("getChartRef",function(){return t.chartService.getChartRef(e)})},i.prototype.getChartImageDataURL=function(e){var t=this;return this.assertChart("getChartImageDataURL",function(){return t.chartService.getChartImageDataURL(e)})},i.prototype.downloadChart=function(e){var t=this;return this.assertChart("downloadChart",function(){return t.chartService.downloadChart(e)})},i.prototype.openChartToolPanel=function(e){var t=this;return this.assertChart("openChartToolPanel",function(){return t.chartService.openChartToolPanel(e)})},i.prototype.closeChartToolPanel=function(e){var t=this;return this.assertChart("closeChartToolPanel",function(){return t.chartService.closeChartToolPanel(e.chartId)})},i.prototype.createRangeChart=function(e){var t=this;return this.assertChart("createRangeChart",function(){return t.chartService.createRangeChart(e)})},i.prototype.createPivotChart=function(e){var t=this;return this.assertChart("createPivotChart",function(){return t.chartService.createPivotChart(e)})},i.prototype.createCrossFilterChart=function(e){var t=this;return this.assertChart("createCrossFilterChart",function(){return t.chartService.createCrossFilterChart(e)})},i.prototype.updateChart=function(e){var t=this;return this.assertChart("updateChart",function(){return t.chartService.updateChart(e)})},i.prototype.restoreChart=function(e,t){var n=this;return this.assertChart("restoreChart",function(){return n.chartService.restoreChart(e,t)})},i.prototype.assertClipboard=function(e,t){mt.__assertRegistered(de.ClipboardModule,"api"+e,this.context.getGridId())&&t()},i.prototype.copyToClipboard=function(e){var t=this;this.assertClipboard("copyToClipboard",function(){return t.clipboardService.copyToClipboard(e)})},i.prototype.cutToClipboard=function(e){var t=this;this.assertClipboard("cutToClipboard",function(){return t.clipboardService.cutToClipboard(e)})},i.prototype.copySelectedRowsToClipboard=function(e){var t=this;this.assertClipboard("copySelectedRowsToClipboard",function(){return t.clipboardService.copySelectedRowsToClipboard(e)})},i.prototype.copySelectedRangeToClipboard=function(e){var t=this;this.assertClipboard("copySelectedRangeToClipboard",function(){return t.clipboardService.copySelectedRangeToClipboard(e)})},i.prototype.copySelectedRangeDown=function(){var e=this;this.assertClipboard("copySelectedRangeDown",function(){return e.clipboardService.copyRangeDown()})},i.prototype.pasteFromClipboard=function(){var e=this;this.assertClipboard("pasteFromClipboard",function(){return e.clipboardService.pasteFromClipboard()})},i.prototype.showColumnMenuAfterButtonClick=function(e,t){var n=this.columnModel.getGridColumn(e);this.menuFactory.showMenuAfterButtonClick(n,t,"columnMenu")},i.prototype.showColumnMenuAfterMouseClick=function(e,t){var n=this.columnModel.getGridColumn(e);if(n||(n=this.columnModel.getPrimaryColumn(e)),!n){console.error("AG Grid: column '".concat(e,"' not found"));return}this.menuFactory.showMenuAfterMouseEvent(n,t)},i.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},i.prototype.tabToNextCell=function(e){return this.navigationService.tabToNextCell(!1,e)},i.prototype.tabToPreviousCell=function(e){return this.navigationService.tabToNextCell(!0,e)},i.prototype.getCellRendererInstances=function(e){e===void 0&&(e={});var t=this.rowRenderer.getCellRendererInstances(e),n=t.map(ac);return n},i.prototype.getCellEditorInstances=function(e){e===void 0&&(e={});var t=this.rowRenderer.getCellEditorInstances(e),n=t.map(ac);return n},i.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},i.prototype.stopEditing=function(e){e===void 0&&(e=!1),this.rowRenderer.stopEditing(e)},i.prototype.startEditingCell=function(e){var t=this.columnModel.getGridColumn(e.colKey);if(!t){console.warn("AG Grid: no column found for ".concat(e.colKey));return}var n={rowIndex:e.rowIndex,rowPinned:e.rowPinned||null,column:t},r=e.rowPinned==null;r&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e.rowIndex);var o=this.navigationService.getCellByPosition(n);o&&(this.focusService.isCellFocused(n)||this.focusService.setFocusedCell(n),o.startRowOrCellEdit(e.key))},i.prototype.addAggFunc=function(e,t){this.aggFuncService&&this.aggFuncService.addAggFunc(e,t)},i.prototype.addAggFuncs=function(e){this.aggFuncService&&this.aggFuncService.addAggFuncs(e)},i.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},i.prototype.applyServerSideTransaction=function(e){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransaction","serverSide");return}return this.serverSideTransactionManager.applyTransaction(e)},i.prototype.applyServerSideTransactionAsync=function(e,t){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransactionAsync","serverSide");return}return this.serverSideTransactionManager.applyTransactionAsync(e,t)},i.prototype.applyServerSideRowData=function(e){var t,n,r=(t=e.startRow)!==null&&t!==void 0?t:0,o=(n=e.route)!==null&&n!==void 0?n:[];if(r<0){console.warn("AG Grid: invalid value ".concat(e.startRow," for startRow, the value should be >= 0"));return}this.serverSideRowModel?this.serverSideRowModel.applyRowData(e.successParams,r,o):this.logMissingRowModel("setServerSideDatasource","serverSide")},i.prototype.retryServerSideLoads=function(){if(!this.serverSideRowModel){this.logMissingRowModel("retryServerSideLoads","serverSide");return}this.serverSideRowModel.retryLoads()},i.prototype.flushServerSideAsyncTransactions=function(){if(!this.serverSideTransactionManager){this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide");return}return this.serverSideTransactionManager.flushAsyncTransactions()},i.prototype.applyTransaction=function(e){var t=this;if(!this.clientSideRowModel){this.logMissingRowModel("applyTransaction","clientSide");return}return this.frameworkOverrides.wrapIncoming(function(){return t.clientSideRowModel.updateRowData(e)})},i.prototype.applyTransactionAsync=function(e,t){var n=this;if(!this.clientSideRowModel){this.logMissingRowModel("applyTransactionAsync","clientSide");return}this.frameworkOverrides.wrapIncoming(function(){return n.clientSideRowModel.batchUpdateRowData(e,t)})},i.prototype.flushAsyncTransactions=function(){var e=this;if(!this.clientSideRowModel){this.logMissingRowModel("flushAsyncTransactions","clientSide");return}this.frameworkOverrides.wrapIncoming(function(){return e.clientSideRowModel.flushAsyncTransactions()})},i.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")},i.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")},i.prototype.refreshServerSide=function(e){if(!this.serverSideRowModel){this.logMissingRowModel("refreshServerSide","serverSide");return}this.serverSideRowModel.refreshStore(e)},i.prototype.getServerSideGroupLevelState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])},i.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")},i.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")},i.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},i.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},i.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},i.prototype.getDisplayedRowAtIndex=function(e){return this.rowModel.getRow(e)},i.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},i.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},i.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},i.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},i.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},i.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},i.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},i.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},i.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},i.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},i.prototype.paginationGoToPage=function(e){this.paginationProxy.goToPage(e)},i.prototype.sizeColumnsToFit=function(e){typeof e=="number"?this.columnModel.sizeColumnsToFit(e,"api"):this.gridBodyCtrl.sizeColumnsToFit(e)},i.prototype.setColumnGroupOpened=function(e,t){this.columnModel.setColumnGroupOpened(e,t,"api")},i.prototype.getColumnGroup=function(e,t){return this.columnModel.getColumnGroup(e,t)},i.prototype.getProvidedColumnGroup=function(e){return this.columnModel.getProvidedColumnGroup(e)},i.prototype.getDisplayNameForColumn=function(e,t){return this.columnModel.getDisplayNameForColumn(e,t)||""},i.prototype.getDisplayNameForColumnGroup=function(e,t){return this.columnModel.getDisplayNameForColumnGroup(e,t)||""},i.prototype.getColumn=function(e){return this.columnModel.getPrimaryColumn(e)},i.prototype.getColumns=function(){return this.columnModel.getAllPrimaryColumns()},i.prototype.applyColumnState=function(e){return this.columnModel.applyColumnState(e,"api")},i.prototype.getColumnState=function(){return this.columnModel.getColumnState()},i.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},i.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},i.prototype.setColumnGroupState=function(e){this.columnModel.setColumnGroupState(e,"api")},i.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},i.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},i.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},i.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},i.prototype.getDisplayedColAfter=function(e){return this.columnModel.getDisplayedColAfter(e)},i.prototype.getDisplayedColBefore=function(e){return this.columnModel.getDisplayedColBefore(e)},i.prototype.setColumnVisible=function(e,t){this.columnModel.setColumnVisible(e,t,"api")},i.prototype.setColumnsVisible=function(e,t){this.columnModel.setColumnsVisible(e,t,"api")},i.prototype.setColumnPinned=function(e,t){this.columnModel.setColumnPinned(e,t,"api")},i.prototype.setColumnsPinned=function(e,t){this.columnModel.setColumnsPinned(e,t,"api")},i.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},i.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},i.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},i.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},i.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},i.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},i.prototype.moveColumn=function(e,t){this.columnModel.moveColumn(e,t,"api")},i.prototype.moveColumnByIndex=function(e,t){this.columnModel.moveColumnByIndex(e,t,"api")},i.prototype.moveColumns=function(e,t){this.columnModel.moveColumns(e,t,"api")},i.prototype.moveRowGroupColumn=function(e,t){this.columnModel.moveRowGroupColumn(e,t)},i.prototype.setColumnAggFunc=function(e,t){this.columnModel.setColumnAggFunc(e,t)},i.prototype.setColumnWidth=function(e,t,n,r){n===void 0&&(n=!0),this.columnModel.setColumnWidths([{key:e,newWidth:t}],!1,n,r)},i.prototype.setColumnWidths=function(e,t,n){t===void 0&&(t=!0),this.columnModel.setColumnWidths(e,!1,t,n)},i.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},i.prototype.getPivotResultColumn=function(e,t){return this.columnModel.getSecondaryPivotColumn(e,t)},i.prototype.setValueColumns=function(e){this.columnModel.setValueColumns(e,"api")},i.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},i.prototype.removeValueColumn=function(e){this.columnModel.removeValueColumn(e,"api")},i.prototype.removeValueColumns=function(e){this.columnModel.removeValueColumns(e,"api")},i.prototype.addValueColumn=function(e){this.columnModel.addValueColumn(e,"api")},i.prototype.addValueColumns=function(e){this.columnModel.addValueColumns(e,"api")},i.prototype.setRowGroupColumns=function(e){this.columnModel.setRowGroupColumns(e,"api")},i.prototype.removeRowGroupColumn=function(e){this.columnModel.removeRowGroupColumn(e,"api")},i.prototype.removeRowGroupColumns=function(e){this.columnModel.removeRowGroupColumns(e,"api")},i.prototype.addRowGroupColumn=function(e){this.columnModel.addRowGroupColumn(e,"api")},i.prototype.addRowGroupColumns=function(e){this.columnModel.addRowGroupColumns(e,"api")},i.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},i.prototype.setPivotColumns=function(e){this.columnModel.setPivotColumns(e,"api")},i.prototype.removePivotColumn=function(e){this.columnModel.removePivotColumn(e,"api")},i.prototype.removePivotColumns=function(e){this.columnModel.removePivotColumns(e,"api")},i.prototype.addPivotColumn=function(e){this.columnModel.addPivotColumn(e,"api")},i.prototype.addPivotColumns=function(e){this.columnModel.addPivotColumns(e,"api")},i.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},i.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},i.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},i.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},i.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},i.prototype.autoSizeColumn=function(e,t){return this.columnModel.autoSizeColumn(e,t,"api")},i.prototype.autoSizeColumns=function(e,t){this.columnModel.autoSizeColumns({columns:e,skipHeader:t})},i.prototype.autoSizeAllColumns=function(e){this.columnModel.autoSizeAllColumns(e,"api")},i.prototype.setPivotResultColumns=function(e){this.columnModel.setSecondaryColumns(e,"api")},i.prototype.getPivotResultColumns=function(){return this.columnModel.getSecondaryColumns()},i.prototype.getState=function(){return this.stateService.getState()},i.prototype.getGridOption=function(e){return this.gos.get(e)},i.prototype.setGridOption=function(e,t){var n;this.updateGridOptions((n={},n[e]=t,n))},i.prototype.updateGridOptions=function(e){this.gos.updateGridOptions({options:e})},i.prototype.__internalUpdateGridOptions=function(e){this.gos.updateGridOptions({options:e,source:"gridOptionsUpdated"})},i.prototype.deprecatedUpdateGridOption=function(e,t){Ae("set".concat(e.charAt(0).toUpperCase()).concat(e.slice(1,e.length)," is deprecated. Please use 'api.setGridOption('").concat(e,"', newValue)' or 'api.updateGridOptions({ ").concat(e,": newValue })' instead.")),this.setGridOption(e,t)},i.prototype.setPivotMode=function(e){this.deprecatedUpdateGridOption("pivotMode",e)},i.prototype.setPinnedTopRowData=function(e){this.deprecatedUpdateGridOption("pinnedTopRowData",e)},i.prototype.setPinnedBottomRowData=function(e){this.deprecatedUpdateGridOption("pinnedBottomRowData",e)},i.prototype.setPopupParent=function(e){this.deprecatedUpdateGridOption("popupParent",e)},i.prototype.setSuppressModelUpdateAfterUpdateTransaction=function(e){this.deprecatedUpdateGridOption("suppressModelUpdateAfterUpdateTransaction",e)},i.prototype.setDataTypeDefinitions=function(e){this.deprecatedUpdateGridOption("dataTypeDefinitions",e)},i.prototype.setPagination=function(e){this.deprecatedUpdateGridOption("pagination",e)},i.prototype.paginationSetPageSize=function(e){this.deprecatedUpdateGridOption("paginationPageSize",e)},i.prototype.setSideBar=function(e){this.deprecatedUpdateGridOption("sideBar",e)},i.prototype.setSuppressClipboardPaste=function(e){this.deprecatedUpdateGridOption("suppressClipboardPaste",e)},i.prototype.setGroupRemoveSingleChildren=function(e){this.deprecatedUpdateGridOption("groupRemoveSingleChildren",e)},i.prototype.setGroupRemoveLowestSingleChildren=function(e){this.deprecatedUpdateGridOption("groupRemoveLowestSingleChildren",e)},i.prototype.setGroupDisplayType=function(e){this.deprecatedUpdateGridOption("groupDisplayType",e)},i.prototype.setGroupIncludeFooter=function(e){this.deprecatedUpdateGridOption("groupIncludeFooter",e)},i.prototype.setGroupIncludeTotalFooter=function(e){this.deprecatedUpdateGridOption("groupIncludeTotalFooter",e)},i.prototype.setRowClass=function(e){this.deprecatedUpdateGridOption("rowClass",e)},i.prototype.setDeltaSort=function(e){this.deprecatedUpdateGridOption("deltaSort",e)},i.prototype.setSuppressRowDrag=function(e){this.deprecatedUpdateGridOption("suppressRowDrag",e)},i.prototype.setSuppressMoveWhenRowDragging=function(e){this.deprecatedUpdateGridOption("suppressMoveWhenRowDragging",e)},i.prototype.setSuppressRowClickSelection=function(e){this.deprecatedUpdateGridOption("suppressRowClickSelection",e)},i.prototype.setEnableAdvancedFilter=function(e){this.deprecatedUpdateGridOption("enableAdvancedFilter",e)},i.prototype.setIncludeHiddenColumnsInAdvancedFilter=function(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInAdvancedFilter",e)},i.prototype.setAdvancedFilterParent=function(e){this.deprecatedUpdateGridOption("advancedFilterParent",e)},i.prototype.setAdvancedFilterBuilderParams=function(e){this.deprecatedUpdateGridOption("advancedFilterBuilderParams",e)},i.prototype.setQuickFilter=function(e){Ae("setQuickFilter is deprecated. Please use 'api.setGridOption('quickFilterText', newValue)' or 'api.updateGridOptions({ quickFilterText: newValue })' instead."),this.gos.updateGridOptions({options:{quickFilterText:e}})},i.prototype.setExcludeHiddenColumnsFromQuickFilter=function(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",!e)},i.prototype.setIncludeHiddenColumnsInQuickFilter=function(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",e)},i.prototype.setQuickFilterParser=function(e){this.deprecatedUpdateGridOption("quickFilterParser",e)},i.prototype.setQuickFilterMatcher=function(e){this.deprecatedUpdateGridOption("quickFilterMatcher",e)},i.prototype.setAlwaysShowHorizontalScroll=function(e){this.deprecatedUpdateGridOption("alwaysShowHorizontalScroll",e)},i.prototype.setAlwaysShowVerticalScroll=function(e){this.deprecatedUpdateGridOption("alwaysShowVerticalScroll",e)},i.prototype.setFunctionsReadOnly=function(e){this.deprecatedUpdateGridOption("functionsReadOnly",e)},i.prototype.setColumnDefs=function(e,t){t===void 0&&(t="api"),Ae("setColumnDefs is deprecated. Please use 'api.setGridOption('columnDefs', newValue)' or 'api.updateGridOptions({ columnDefs: newValue })' instead."),this.gos.updateGridOptions({options:{columnDefs:e},source:t})},i.prototype.setAutoGroupColumnDef=function(e,t){t===void 0&&(t="api"),Ae("setAutoGroupColumnDef is deprecated. Please use 'api.setGridOption('autoGroupColumnDef', newValue)' or 'api.updateGridOptions({ autoGroupColumnDef: newValue })' instead."),this.gos.updateGridOptions({options:{autoGroupColumnDef:e},source:t})},i.prototype.setDefaultColDef=function(e,t){t===void 0&&(t="api"),Ae("setDefaultColDef is deprecated. Please use 'api.setGridOption('defaultColDef', newValue)' or 'api.updateGridOptions({ defaultColDef: newValue })' instead."),this.gos.updateGridOptions({options:{defaultColDef:e},source:t})},i.prototype.setColumnTypes=function(e,t){t===void 0&&(t="api"),Ae("setColumnTypes is deprecated. Please use 'api.setGridOption('columnTypes', newValue)' or 'api.updateGridOptions({ columnTypes: newValue })' instead."),this.gos.updateGridOptions({options:{columnTypes:e},source:t})},i.prototype.setTreeData=function(e){this.deprecatedUpdateGridOption("treeData",e)},i.prototype.setServerSideDatasource=function(e){this.deprecatedUpdateGridOption("serverSideDatasource",e)},i.prototype.setCacheBlockSize=function(e){this.deprecatedUpdateGridOption("cacheBlockSize",e)},i.prototype.setDatasource=function(e){this.deprecatedUpdateGridOption("datasource",e)},i.prototype.setViewportDatasource=function(e){this.deprecatedUpdateGridOption("viewportDatasource",e)},i.prototype.setRowData=function(e){this.deprecatedUpdateGridOption("rowData",e)},i.prototype.setEnableCellTextSelection=function(e){this.deprecatedUpdateGridOption("enableCellTextSelection",e)},i.prototype.setHeaderHeight=function(e){this.deprecatedUpdateGridOption("headerHeight",e)},i.prototype.setDomLayout=function(e){this.deprecatedUpdateGridOption("domLayout",e)},i.prototype.setFillHandleDirection=function(e){this.deprecatedUpdateGridOption("fillHandleDirection",e)},i.prototype.setGroupHeaderHeight=function(e){this.deprecatedUpdateGridOption("groupHeaderHeight",e)},i.prototype.setFloatingFiltersHeight=function(e){this.deprecatedUpdateGridOption("floatingFiltersHeight",e)},i.prototype.setPivotHeaderHeight=function(e){this.deprecatedUpdateGridOption("pivotHeaderHeight",e)},i.prototype.setPivotGroupHeaderHeight=function(e){this.deprecatedUpdateGridOption("pivotGroupHeaderHeight",e)},i.prototype.setAnimateRows=function(e){this.deprecatedUpdateGridOption("animateRows",e)},i.prototype.setIsExternalFilterPresent=function(e){this.deprecatedUpdateGridOption("isExternalFilterPresent",e)},i.prototype.setDoesExternalFilterPass=function(e){this.deprecatedUpdateGridOption("doesExternalFilterPass",e)},i.prototype.setNavigateToNextCell=function(e){this.deprecatedUpdateGridOption("navigateToNextCell",e)},i.prototype.setTabToNextCell=function(e){this.deprecatedUpdateGridOption("tabToNextCell",e)},i.prototype.setTabToNextHeader=function(e){this.deprecatedUpdateGridOption("tabToNextHeader",e)},i.prototype.setNavigateToNextHeader=function(e){this.deprecatedUpdateGridOption("navigateToNextHeader",e)},i.prototype.setRowGroupPanelShow=function(e){this.deprecatedUpdateGridOption("rowGroupPanelShow",e)},i.prototype.setGetGroupRowAgg=function(e){this.deprecatedUpdateGridOption("getGroupRowAgg",e)},i.prototype.setGetBusinessKeyForNode=function(e){this.deprecatedUpdateGridOption("getBusinessKeyForNode",e)},i.prototype.setGetChildCount=function(e){this.deprecatedUpdateGridOption("getChildCount",e)},i.prototype.setProcessRowPostCreate=function(e){this.deprecatedUpdateGridOption("processRowPostCreate",e)},i.prototype.setGetRowId=function(e){Ae("getRowId is a static property and can no longer be updated.")},i.prototype.setGetRowClass=function(e){this.deprecatedUpdateGridOption("getRowClass",e)},i.prototype.setIsFullWidthRow=function(e){this.deprecatedUpdateGridOption("isFullWidthRow",e)},i.prototype.setIsRowSelectable=function(e){this.deprecatedUpdateGridOption("isRowSelectable",e)},i.prototype.setIsRowMaster=function(e){this.deprecatedUpdateGridOption("isRowMaster",e)},i.prototype.setPostSortRows=function(e){this.deprecatedUpdateGridOption("postSortRows",e)},i.prototype.setGetDocument=function(e){this.deprecatedUpdateGridOption("getDocument",e)},i.prototype.setGetContextMenuItems=function(e){this.deprecatedUpdateGridOption("getContextMenuItems",e)},i.prototype.setGetMainMenuItems=function(e){this.deprecatedUpdateGridOption("getMainMenuItems",e)},i.prototype.setProcessCellForClipboard=function(e){this.deprecatedUpdateGridOption("processCellForClipboard",e)},i.prototype.setSendToClipboard=function(e){this.deprecatedUpdateGridOption("sendToClipboard",e)},i.prototype.setProcessCellFromClipboard=function(e){this.deprecatedUpdateGridOption("processCellFromClipboard",e)},i.prototype.setProcessPivotResultColDef=function(e){this.deprecatedUpdateGridOption("processPivotResultColDef",e)},i.prototype.setProcessPivotResultColGroupDef=function(e){this.deprecatedUpdateGridOption("processPivotResultColGroupDef",e)},i.prototype.setPostProcessPopup=function(e){this.deprecatedUpdateGridOption("postProcessPopup",e)},i.prototype.setInitialGroupOrderComparator=function(e){this.deprecatedUpdateGridOption("initialGroupOrderComparator",e)},i.prototype.setGetChartToolbarItems=function(e){this.deprecatedUpdateGridOption("getChartToolbarItems",e)},i.prototype.setPaginationNumberFormatter=function(e){this.deprecatedUpdateGridOption("paginationNumberFormatter",e)},i.prototype.setGetServerSideGroupLevelParams=function(e){this.deprecatedUpdateGridOption("getServerSideGroupLevelParams",e)},i.prototype.setIsServerSideGroupOpenByDefault=function(e){this.deprecatedUpdateGridOption("isServerSideGroupOpenByDefault",e)},i.prototype.setIsApplyServerSideTransaction=function(e){this.deprecatedUpdateGridOption("isApplyServerSideTransaction",e)},i.prototype.setIsServerSideGroup=function(e){this.deprecatedUpdateGridOption("isServerSideGroup",e)},i.prototype.setGetServerSideGroupKey=function(e){this.deprecatedUpdateGridOption("getServerSideGroupKey",e)},i.prototype.setGetRowStyle=function(e){this.deprecatedUpdateGridOption("getRowStyle",e)},i.prototype.setGetRowHeight=function(e){this.deprecatedUpdateGridOption("getRowHeight",e)},Ye([et("csvCreator")],i.prototype,"csvCreator",void 0),Ye([et("excelCreator")],i.prototype,"excelCreator",void 0),Ye([_("rowRenderer")],i.prototype,"rowRenderer",void 0),Ye([_("navigationService")],i.prototype,"navigationService",void 0),Ye([_("filterManager")],i.prototype,"filterManager",void 0),Ye([_("columnModel")],i.prototype,"columnModel",void 0),Ye([_("selectionService")],i.prototype,"selectionService",void 0),Ye([_("gridOptionsService")],i.prototype,"gos",void 0),Ye([_("valueService")],i.prototype,"valueService",void 0),Ye([_("alignedGridsService")],i.prototype,"alignedGridsService",void 0),Ye([_("eventService")],i.prototype,"eventService",void 0),Ye([_("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),Ye([_("context")],i.prototype,"context",void 0),Ye([_("rowModel")],i.prototype,"rowModel",void 0),Ye([_("sortController")],i.prototype,"sortController",void 0),Ye([_("paginationProxy")],i.prototype,"paginationProxy",void 0),Ye([_("focusService")],i.prototype,"focusService",void 0),Ye([_("dragAndDropService")],i.prototype,"dragAndDropService",void 0),Ye([et("rangeService")],i.prototype,"rangeService",void 0),Ye([et("clipboardService")],i.prototype,"clipboardService",void 0),Ye([et("aggFuncService")],i.prototype,"aggFuncService",void 0),Ye([_("menuFactory")],i.prototype,"menuFactory",void 0),Ye([et("contextMenuFactory")],i.prototype,"contextMenuFactory",void 0),Ye([_("valueCache")],i.prototype,"valueCache",void 0),Ye([_("animationFrameService")],i.prototype,"animationFrameService",void 0),Ye([et("statusBarService")],i.prototype,"statusBarService",void 0),Ye([et("chartService")],i.prototype,"chartService",void 0),Ye([et("undoRedoService")],i.prototype,"undoRedoService",void 0),Ye([et("rowNodeBlockLoader")],i.prototype,"rowNodeBlockLoader",void 0),Ye([et("ssrmTransactionManager")],i.prototype,"serverSideTransactionManager",void 0),Ye([_("ctrlsService")],i.prototype,"ctrlsService",void 0),Ye([_("overlayService")],i.prototype,"overlayService",void 0),Ye([et("sideBarService")],i.prototype,"sideBarService",void 0),Ye([_("stateService")],i.prototype,"stateService",void 0),Ye([_("expansionService")],i.prototype,"expansionService",void 0),Ye([_("apiEventService")],i.prototype,"apiEventService",void 0),Ye([_("frameworkOverrides")],i.prototype,"frameworkOverrides",void 0),Ye([Z],i.prototype,"init",null),i=Ye([ne("gridApi")],i),i}(),Kde=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),vg=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Vz=function(i){Kde(e,i);function e(){var n=i!==null&&i.apply(this,arguments)||this;return n.quickFilter=null,n.quickFilterParts=null,n}t=e,e.prototype.postConstruct=function(){var n=this;this.addManagedListener(this.eventService,w.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return n.resetQuickFilterCache()}),this.addManagedListener(this.eventService,w.EVENT_NEW_COLUMNS_LOADED,function(){return n.resetQuickFilterCache()}),this.addManagedListener(this.eventService,w.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return n.resetQuickFilterCache()}),this.addManagedListener(this.eventService,w.EVENT_COLUMN_VISIBLE,function(){n.gridOptionsService.get("includeHiddenColumnsInQuickFilter")||n.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",function(r){return n.setQuickFilter(r.currentValue)}),this.addManagedPropertyListener("includeHiddenColumnsInQuickFilter",function(){return n.onIncludeHiddenColumnsInQuickFilterChanged()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.parser=this.gridOptionsService.get("quickFilterParser"),this.matcher=this.gridOptionsService.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],function(){return n.setQuickFilterParserAndMatcher()})},e.prototype.isQuickFilterPresent=function(){return this.quickFilter!==null},e.prototype.doesRowPassQuickFilter=function(n){var r=this,o=this.gridOptionsService.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(o,n):this.quickFilterParts.every(function(s){return o?r.doesRowPassQuickFilterCache(n,s):r.doesRowPassQuickFilterNoCache(n,s)})},e.prototype.resetQuickFilterCache=function(){this.rowModel.forEachNode(function(n){return n.quickFilterAggregateText=null})},e.prototype.setQuickFilterParts=function(){var n=this,r=n.quickFilter,o=n.parser;r?this.quickFilterParts=o?o(r):r.split(" "):this.quickFilterParts=null},e.prototype.parseQuickFilter=function(n){return W(n)?this.gridOptionsService.isRowModelType("clientSide")?n.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},e.prototype.setQuickFilter=function(n){if(n!=null&&typeof n!="string"){console.warn("AG Grid - Grid option quickFilterText only supports string inputs, received: ".concat(typeof n));return}var r=this.parseQuickFilter(n);this.quickFilter!==r&&(this.quickFilter=r,this.setQuickFilterParts(),this.dispatchEvent({type:t.EVENT_QUICK_FILTER_CHANGED}))},e.prototype.setQuickFilterParserAndMatcher=function(){var n=this.gridOptionsService.get("quickFilterParser"),r=this.gridOptionsService.get("quickFilterMatcher"),o=n!==this.parser||r!==this.matcher;this.parser=n,this.matcher=r,o&&(this.setQuickFilterParts(),this.dispatchEvent({type:t.EVENT_QUICK_FILTER_CHANGED}))},e.prototype.onIncludeHiddenColumnsInQuickFilterChanged=function(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchEvent({type:t.EVENT_QUICK_FILTER_CHANGED})},e.prototype.doesRowPassQuickFilterNoCache=function(n,r){var o=this,s=this.columnModel.getAllColumnsForQuickFilter();return s.some(function(a){var l=o.getQuickFilterTextForColumn(a,n);return W(l)&&l.indexOf(r)>=0})},e.prototype.doesRowPassQuickFilterCache=function(n,r){return this.checkGenerateQuickFilterAggregateText(n),n.quickFilterAggregateText.indexOf(r)>=0},e.prototype.doesRowPassQuickFilterMatcher=function(n,r){var o;n?(this.checkGenerateQuickFilterAggregateText(r),o=r.quickFilterAggregateText):o=this.getQuickFilterAggregateText(r);var s=this,a=s.quickFilterParts,l=s.matcher;return l(a,o)},e.prototype.checkGenerateQuickFilterAggregateText=function(n){n.quickFilterAggregateText||(n.quickFilterAggregateText=this.getQuickFilterAggregateText(n))},e.prototype.getQuickFilterTextForColumn=function(n,r){var o=this.valueService.getValue(n,r,!0),s=n.getColDef();if(s.getQuickFilterText){var a=this.gridOptionsService.addGridCommonParams({value:o,node:r,data:r.data,column:n,colDef:s});o=s.getQuickFilterText(a)}return W(o)?o.toString().toUpperCase():null},e.prototype.getQuickFilterAggregateText=function(n){var r=this,o=[],s=this.columnModel.getAllColumnsForQuickFilter();return s.forEach(function(a){var l=r.getQuickFilterTextForColumn(a,n);W(l)&&o.push(l)}),o.join(t.QUICK_FILTER_SEPARATOR)};var t;return e.EVENT_QUICK_FILTER_CHANGED="quickFilterChanged",e.QUICK_FILTER_SEPARATOR=`
`,vg([_("valueService")],e.prototype,"valueService",void 0),vg([_("columnModel")],e.prototype,"columnModel",void 0),vg([_("rowModel")],e.prototype,"rowModel",void 0),vg([Z],e.prototype,"postConstruct",null),e=t=vg([ne("quickFilterService")],e),e}(Y),Qde=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Cs=function(){return Cs=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},Cs.apply(this,arguments)},ps=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Zde=function(i){Qde(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.allColumnFilters=new Map,t.allColumnListeners=new Map,t.activeAggregateFilters=[],t.activeColumnFilters=[],t.processingFilterChange=!1,t.filterModelUpdateQueue=[],t.columnFilterModelUpdateQueue=[],t.advancedFilterModelUpdateQueue=[],t}return e.prototype.init=function(){var t=this,n,r,o;this.addManagedListener(this.eventService,w.EVENT_GRID_COLUMNS_CHANGED,function(){return t.onColumnsChanged()}),this.addManagedListener(this.eventService,w.EVENT_COLUMN_VALUE_CHANGED,function(){return t.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,w.EVENT_COLUMN_PIVOT_CHANGED,function(){return t.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,w.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return t.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,w.EVENT_NEW_COLUMNS_LOADED,function(){return t.updateAdvancedFilterColumns()}),this.addManagedListener(this.eventService,w.EVENT_COLUMN_VISIBLE,function(){return t.updateAdvancedFilterColumns()}),this.addManagedListener(this.eventService,w.EVENT_ROW_DATA_UPDATED,function(){return t.onNewRowsLoaded("rowDataUpdated")}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],function(){t.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",function(){t.updateAggFiltering(),t.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",function(s){return t.setAdvancedFilterModel(s.currentValue)}),this.addManagedListener(this.eventService,w.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,function(s){var a=s.enabled;return t.onAdvancedFilterEnabledChanged(a)}),this.addManagedListener(this.eventService,w.EVENT_DATA_TYPES_INFERRED,function(){return t.processFilterModelUpdateQueue()}),this.addManagedListener(this.quickFilterService,Vz.EVENT_QUICK_FILTER_CHANGED,function(){return t.onFilterChanged({source:"quickFilter"})}),this.initialFilterModel=Cs({},(o=(r=(n=this.gridOptionsService.get("initialState"))===null||n===void 0?void 0:n.filter)===null||r===void 0?void 0:r.filterModel)!==null&&o!==void 0?o:{})},e.prototype.isExternalFilterPresentCallback=function(){var t=this.gridOptionsService.getCallback("isExternalFilterPresent");return typeof t=="function"?t({}):!1},e.prototype.doesExternalFilterPass=function(t){var n=this.gridOptionsService.get("doesExternalFilterPass");return typeof n=="function"?n(t):!1},e.prototype.setFilterModel=function(t,n){var r=this;if(n===void 0&&(n="api"),this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}if(this.dataTypeService.isPendingInference()){this.filterModelUpdateQueue.push({model:t,source:n});return}var o=[],s=this.getFilterModel();if(t){var a=KM(Object.keys(t));this.allColumnFilters.forEach(function(l,u){var c=t[u];o.push(r.setModelOnFilterWrapper(l.filterPromise,c)),a.delete(u)}),a.forEach(function(l){var u=r.columnModel.getPrimaryColumn(l)||r.columnModel.getGridColumn(l);if(!u){console.warn("AG Grid: setFilterModel() - no column found for colId: "+l);return}if(!u.isFilterAllowed()){console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+l);return}var c=r.getOrCreateFilterWrapper(u,"NO_UI");if(!c){console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+l);return}o.push(r.setModelOnFilterWrapper(c.filterPromise,t[l]))})}else this.allColumnFilters.forEach(function(l){o.push(r.setModelOnFilterWrapper(l.filterPromise,null))});Jr.all(o).then(function(){var l=r.getFilterModel(),u=[];r.allColumnFilters.forEach(function(c,d){var h=s?s[d]:null,f=l?l[d]:null;Ne.jsonEquals(h,f)||u.push(c.column)}),u.length>0&&r.onFilterChanged({columns:u,source:n})})},e.prototype.setModelOnFilterWrapper=function(t,n){return new Jr(function(r){t.then(function(o){typeof o.setModel!="function"&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),r()),(o.setModel(n)||Jr.resolve()).then(function(){return r()})})})},e.prototype.getFilterModel=function(){var t=this,n={};return this.allColumnFilters.forEach(function(r,o){var s=t.getModelFromFilterWrapper(r);W(s)&&(n[o]=s)}),n},e.prototype.getModelFromFilterWrapper=function(t){var n,r=t.filterPromise,o=r.resolveNow(null,function(s){return s});return o==null?(n=this.initialFilterModel[t.column.getColId()])!==null&&n!==void 0?n:null:typeof o.getModel!="function"?(console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel"),null):o.getModel()},e.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},e.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},e.prototype.isExternalFilterPresent=function(){return this.externalFilterPresent},e.prototype.isChildFilterPresent=function(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()},e.prototype.isAdvancedFilterPresent=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()},e.prototype.onAdvancedFilterEnabledChanged=function(t){var n=this,r;t?this.allColumnFilters.size&&(this.allColumnFilters.forEach(function(o){return n.disposeFilterWrapper(o,"advancedFilterEnabled")}),this.onFilterChanged({source:"advancedFilter"})):!((r=this.advancedFilterService)===null||r===void 0)&&r.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))},e.prototype.isAdvancedFilterEnabled=function(){var t;return(t=this.advancedFilterService)===null||t===void 0?void 0:t.isEnabled()},e.prototype.isAdvancedFilterHeaderActive=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()},e.prototype.doAggregateFiltersPass=function(t,n){return this.doColumnFiltersPass(t,n,!0)},e.prototype.updateActiveFilters=function(){var t=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var n=function(s){return s?s.isFilterActive?s.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1):!1},r=!!this.gridOptionsService.getGroupAggFiltering(),o=function(s){var a=!s.isPrimary();if(a)return!0;var l=!t.columnModel.isPivotActive(),u=s.isValueActive();return!u||!l?!1:t.columnModel.isPivotMode()?!0:r};this.allColumnFilters.forEach(function(s){if(s.filterPromise.resolveNow(!1,n)){var a=s.filterPromise.resolveNow(null,function(l){return l});o(s.column)?t.activeAggregateFilters.push(a):t.activeColumnFilters.push(a)}})},e.prototype.updateFilterFlagInColumns=function(t,n){this.allColumnFilters.forEach(function(r){var o=r.filterPromise.resolveNow(!1,function(s){return s.isFilterActive()});r.column.setFilterActive(o,t,n)})},e.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()},e.prototype.doColumnFiltersPass=function(t,n,r){for(var o=t.data,s=t.aggData,a=r?this.activeAggregateFilters:this.activeColumnFilters,l=r?s:o,u=0;u<a.length;u++){var c=a[u];if(!(c==null||c===n)){if(typeof c.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!c.doesFilterPass({node:t,data:l}))return!1}}return!0},e.prototype.resetQuickFilterCache=function(){this.quickFilterService.resetQuickFilterCache()},e.prototype.refreshFiltersForAggregations=function(){var t=this.gridOptionsService.getGroupAggFiltering();t&&this.onFilterChanged()},e.prototype.callOnFilterChangedOutsideRenderCycle=function(t){var n=this,r=function(){return n.onFilterChanged(t)};this.rowRenderer.isRefreshInProgress()?setTimeout(r,0):r()},e.prototype.onFilterChanged=function(t){t===void 0&&(t={});var n=t.source,r=t.filterInstance,o=t.additionalEventAttributes,s=t.columns;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",o),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(function(l){l.filterPromise&&l.filterPromise.then(function(u){u&&u!==r&&u.onAnyFilterChanged&&u.onAnyFilterChanged()})});var a={source:n,type:w.EVENT_FILTER_CHANGED,columns:s||[]};o&&Dr(a,o),this.processingFilterChange=!0,this.eventService.dispatchEvent(a),this.processingFilterChange=!1},e.prototype.isSuppressFlashingCellsBecauseFiltering=function(){var t,n=(t=this.gridOptionsService.get("allowShowChangeAfterFilter"))!==null&&t!==void 0?t:!1;return!n&&this.processingFilterChange},e.prototype.isQuickFilterPresent=function(){return this.quickFilterService.isQuickFilterPresent()},e.prototype.updateAggFiltering=function(){this.aggFiltering=!!this.gridOptionsService.getGroupAggFiltering()},e.prototype.isAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&(this.aggFiltering||this.columnModel.isPivotMode())},e.prototype.isNonAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&!(this.aggFiltering||this.columnModel.isPivotMode())},e.prototype.doesRowPassOtherFilters=function(t,n){return this.doesRowPassFilter({rowNode:n,filterInstanceToSkip:t})},e.prototype.doesRowPassAggregateFilters=function(t){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(t.rowNode)||this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(t.rowNode,t.filterInstanceToSkip))},e.prototype.doesRowPassFilter=function(t){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(t.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(t.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(t.rowNode,t.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(t.rowNode))},e.prototype.onNewRowsLoaded=function(t){this.allColumnFilters.forEach(function(n){n.filterPromise.then(function(r){r.onNewRowsLoaded&&r.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(t,{afterDataChange:!0}),this.updateActiveFilters()},e.prototype.createValueGetter=function(t){var n=this;return function(r){var o=r.node;return n.valueService.getValue(t,o,!0)}},e.prototype.createGetValue=function(t){var n=this;return function(r,o){var s=o?n.columnModel.getGridColumn(o):t;return s?n.valueService.getValue(s,r,!0):void 0}},e.prototype.getFilterComponent=function(t,n,r){var o;if(r===void 0&&(r=!0),r)return((o=this.getOrCreateFilterWrapper(t,n))===null||o===void 0?void 0:o.filterPromise)||null;var s=this.cachedFilter(t);return s?s.filterPromise:null},e.prototype.isFilterActive=function(t){var n=this.cachedFilter(t);return!!n&&n.filterPromise.resolveNow(!1,function(r){return r.isFilterActive()})},e.prototype.getOrCreateFilterWrapper=function(t,n){if(!t.isFilterAllowed())return null;var r=this.cachedFilter(t);return r?n!=="NO_UI"&&this.putIntoGui(r,n):(r=this.createFilterWrapper(t,n),this.setColumnFilterWrapper(t,r)),r},e.prototype.cachedFilter=function(t){return this.allColumnFilters.get(t.getColId())},e.prototype.getDefaultFilter=function(t){var n;if(mt.__isRegistered(de.SetFilterModule,this.context.getGridId()))n="agSetColumnFilter";else{var r=this.dataTypeService.getBaseDataType(t);r==="number"?n="agNumberColumnFilter":r==="date"||r==="dateString"?n="agDateColumnFilter":n="agTextColumnFilter"}return n},e.prototype.getDefaultFloatingFilter=function(t){var n;if(mt.__isRegistered(de.SetFilterModule,this.context.getGridId()))n="agSetColumnFloatingFilter";else{var r=this.dataTypeService.getBaseDataType(t);r==="number"?n="agNumberColumnFloatingFilter":r==="date"||r==="dateString"?n="agDateColumnFloatingFilter":n="agTextColumnFloatingFilter"}return n},e.prototype.createFilterInstance=function(t){var n=this,r=this.getDefaultFilter(t),o=t.getColDef(),s,a=Cs(Cs({},this.createFilterParams(t,o)),{filterModifiedCallback:function(){return n.filterModifiedCallbackFactory(s,t)()},filterChangedCallback:function(u){return n.filterChangedCallbackFactory(s,t)(u)},doesRowPassOtherFilter:function(u){return n.doesRowPassOtherFilters(s,u)}}),l=this.userComponentFactory.getFilterDetails(o,a,r);return l?{filterPromise:function(){var u=l.newAgStackInstance();return u&&u.then(function(c){return s=c}),u},compDetails:l}:{filterPromise:null,compDetails:null}},e.prototype.createFilterParams=function(t,n){var r=this.gridOptionsService.addGridCommonParams({column:t,colDef:yM(n),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(t),getValue:this.createGetValue(t),doesRowPassOtherFilter:function(){return!0}});return r},e.prototype.createFilterWrapper=function(t,n){var r,o={column:t,filterPromise:null,compiledElement:null,guiPromise:Jr.resolve(null),compDetails:null},s=this.createFilterInstance(t),a=s.filterPromise,l=s.compDetails;return o.filterPromise=(r=a?.())!==null&&r!==void 0?r:null,o.compDetails=l,a&&this.putIntoGui(o,n),o},e.prototype.putIntoGui=function(t,n){var r=this,o=document.createElement("div");o.className="ag-filter",t.guiPromise=new Jr(function(s){t.filterPromise.then(function(a){var l=a.getGui();W(l)||console.warn("AG Grid: getGui method from filter returned ".concat(l,", it should be a DOM element or an HTML template string.")),typeof l=="string"&&(l=Zi(l)),o.appendChild(l),s(o);var u={type:w.EVENT_FILTER_OPENED,column:t.column,source:n,eGui:o};r.eventService.dispatchEvent(u)})})},e.prototype.onColumnsChanged=function(){var t=this,n=[];this.allColumnFilters.forEach(function(r,o){var s;r.column.isPrimary()?s=t.columnModel.getPrimaryColumn(o):s=t.columnModel.getGridColumn(o),!s&&(n.push(r.column),t.disposeFilterWrapper(r,"columnChanged"),t.disposeColumnListener(o))}),n.length>0?this.onFilterChanged({columns:n,source:"api"}):this.updateDependantFilters()},e.prototype.updateDependantFilters=function(){var t=this,n=this.columnModel.getGroupAutoColumns();n?.forEach(function(r){r.getColDef().filter==="agGroupColumnFilter"&&t.getOrCreateFilterWrapper(r,"NO_UI")})},e.prototype.isFilterAllowed=function(t){var n,r;if(this.isAdvancedFilterEnabled())return!1;var o=t.isFilterAllowed();if(!o)return!1;var s=this.allColumnFilters.get(t.getColId());return(r=(n=s?.filterPromise)===null||n===void 0?void 0:n.resolveNow(!0,function(a){return typeof a?.isFilterAllowed=="function"?a?.isFilterAllowed():!0}))!==null&&r!==void 0?r:!0},e.prototype.getFloatingFilterCompDetails=function(t,n){var r=this,o=function(d){var h=r.getFilterComponent(t,"NO_UI");h?.then(function(f){d(ac(f))})},s=t.getColDef(),a=Cs(Cs({},this.createFilterParams(t,s)),{filterChangedCallback:function(){return o(function(d){return r.filterChangedCallbackFactory(d,t)()})}}),l=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(s,dM,a),u=this.userComponentFactory.getDefaultFloatingFilterType(s,function(){return r.getDefaultFloatingFilter(t)});u==null&&(u="agReadOnlyFloatingFilter");var c={column:t,filterParams:l,currentParentModel:function(){return r.getCurrentFloatingFilterParentModel(t)},parentFilterInstance:o,showParentFilter:n,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(s,c,u)},e.prototype.getCurrentFloatingFilterParentModel=function(t){var n=this.getFilterComponent(t,"NO_UI",!1);return n?n.resolveNow(null,function(r){return r&&r.getModel()}):null},e.prototype.destroyFilter=function(t,n){n===void 0&&(n="api");var r=t.getColId(),o=this.allColumnFilters.get(r);this.disposeColumnListener(r),delete this.initialFilterModel[r],o&&(this.disposeFilterWrapper(o,n),this.onFilterChanged({columns:[t],source:"api"}))},e.prototype.disposeColumnListener=function(t){var n=this.allColumnListeners.get(t);n&&(this.allColumnListeners.delete(t),n())},e.prototype.disposeFilterWrapper=function(t,n){var r=this;t.filterPromise.then(function(o){r.getContext().destroyBean(o),t.column.setFilterActive(!1,"filterDestroyed"),r.allColumnFilters.delete(t.column.getColId());var s={type:w.EVENT_FILTER_DESTROYED,source:n,column:t.column};r.eventService.dispatchEvent(s)})},e.prototype.filterModifiedCallbackFactory=function(t,n){var r=this;return function(){var o={type:w.EVENT_FILTER_MODIFIED,column:n,filterInstance:t};r.eventService.dispatchEvent(o)}},e.prototype.filterChangedCallbackFactory=function(t,n){var r=this;return function(o){var s,a=(s=o?.source)!==null&&s!==void 0?s:"api",l={filter:t,additionalEventAttributes:o,columns:[n],source:a};r.callOnFilterChangedOutsideRenderCycle(l)}},e.prototype.checkDestroyFilter=function(t){var n=this,r=this.allColumnFilters.get(t);if(r){var o=r.column,s=(o.isFilterAllowed()?this.createFilterInstance(o):{compDetails:null}).compDetails;if(this.areFilterCompsDifferent(r.compDetails,s)){this.destroyFilter(o,"columnChanged");return}var a=o.getColDef().filterParams;if(!r.filterPromise){this.destroyFilter(o,"columnChanged");return}r.filterPromise.then(function(l){var u=l?.refresh?l.refresh(Cs(Cs(Cs({},n.createFilterParams(o,o.getColDef())),{filterModifiedCallback:n.filterModifiedCallbackFactory(l,o),filterChangedCallback:n.filterChangedCallbackFactory(l,o),doesRowPassOtherFilter:function(c){return n.doesRowPassOtherFilters(l,c)}}),a)):!0;u===!1&&n.destroyFilter(o,"columnChanged")})}},e.prototype.setColumnFilterWrapper=function(t,n){var r=this,o=t.getColId();this.allColumnFilters.set(o,n),this.allColumnListeners.set(o,this.addManagedListener(t,Tt.EVENT_COL_DEF_CHANGED,function(){return r.checkDestroyFilter(o)}))},e.prototype.areFilterCompsDifferent=function(t,n){if(!n||!t)return!0;var r=t.componentClass,o=n.componentClass,s=r===o||r?.render&&o?.render&&r.render===o.render;return!s},e.prototype.getAdvancedFilterModel=function(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null},e.prototype.setAdvancedFilterModel=function(t){if(this.isAdvancedFilterEnabled()){if(this.dataTypeService.isPendingInference()){this.advancedFilterModelUpdateQueue.push(t);return}this.advancedFilterService.setModel(t??null),this.onFilterChanged({source:"advancedFilter"})}},e.prototype.showAdvancedFilterBuilder=function(t){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(t,!0)},e.prototype.updateAdvancedFilterColumns=function(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})},e.prototype.hasFloatingFilters=function(){if(this.isAdvancedFilterEnabled())return!1;var t=this.columnModel.getAllGridColumns();return t.some(function(n){return n.getColDef().floatingFilter})},e.prototype.getFilterInstance=function(t,n){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}var r=this.getFilterInstanceImpl(t,function(s){if(n){var a=ac(s);n(a)}}),o=ac(r);return o},e.prototype.getColumnFilterInstance=function(t){var n=this;return new Promise(function(r){n.getFilterInstance(t,function(o){r(o)})})},e.prototype.getFilterInstanceImpl=function(t,n){var r=this.columnModel.getPrimaryColumn(t);if(r){var o=this.getFilterComponent(r,"NO_UI"),s=o&&o.resolveNow(null,function(a){return a});return s?setTimeout(n,0,s):o&&o.then(function(a){n(a)}),s}},e.prototype.warnAdvancedFilters=function(){Ae("Column Filter API methods have been disabled as Advanced Filters are enabled.")},e.prototype.setupAdvancedFilterHeaderComp=function(t){var n;(n=this.advancedFilterService)===null||n===void 0||n.getCtrl().setupHeaderComp(t)},e.prototype.getHeaderRowCount=function(){return this.isAdvancedFilterHeaderActive()?1:0},e.prototype.getHeaderHeight=function(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0},e.prototype.processFilterModelUpdateQueue=function(){var t=this;this.filterModelUpdateQueue.forEach(function(n){var r=n.model,o=n.source;return t.setFilterModel(r,o)}),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(function(n){var r=n.key,o=n.model,s=n.resolve;t.setColumnFilterModel(r,o).then(function(){return s()})}),this.columnFilterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue.forEach(function(n){return t.setAdvancedFilterModel(n)}),this.advancedFilterModelUpdateQueue=[]},e.prototype.getColumnFilterModel=function(t){var n=this.getFilterWrapper(t);return n?this.getModelFromFilterWrapper(n):null},e.prototype.setColumnFilterModel=function(t,n){if(this.isAdvancedFilterEnabled())return this.warnAdvancedFilters(),Promise.resolve();if(this.dataTypeService.isPendingInference()){var r=function(){},o=new Promise(function(u){r=u});return this.columnFilterModelUpdateQueue.push({key:t,model:n,resolve:r}),o}var s=this.columnModel.getPrimaryColumn(t),a=s?this.getOrCreateFilterWrapper(s,"NO_UI"):null,l=function(u){return new Promise(function(c){u.then(function(d){return c(d)})})};return a?l(this.setModelOnFilterWrapper(a.filterPromise,n)):Promise.resolve()},e.prototype.getFilterWrapper=function(t){var n,r=this.columnModel.getPrimaryColumn(t);return r&&(n=this.cachedFilter(r))!==null&&n!==void 0?n:null},e.prototype.destroy=function(){var t=this;i.prototype.destroy.call(this),this.allColumnFilters.forEach(function(n){return t.disposeFilterWrapper(n,"gridDestroyed")}),this.allColumnListeners.clear()},ps([_("valueService")],e.prototype,"valueService",void 0),ps([_("columnModel")],e.prototype,"columnModel",void 0),ps([_("rowModel")],e.prototype,"rowModel",void 0),ps([_("userComponentFactory")],e.prototype,"userComponentFactory",void 0),ps([_("rowRenderer")],e.prototype,"rowRenderer",void 0),ps([_("dataTypeService")],e.prototype,"dataTypeService",void 0),ps([_("quickFilterService")],e.prototype,"quickFilterService",void 0),ps([et("advancedFilterService")],e.prototype,"advancedFilterService",void 0),ps([Z],e.prototype,"init",null),e=ps([ne("filterManager")],e),e}(Y),Xde=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),tI=function(i){Xde(e,i);function e(t,n){var r=i.call(this,t)||this;return r.ctrl=n,r}return e.prototype.getCtrl=function(){return this.ctrl},e}(Fe),Jde=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),yg=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ehe=function(i){Jde(e,i);function e(t){return i.call(this,e.TEMPLATE,t)||this}return e.prototype.postConstruct=function(){var t=this,n=this.getGui(),r={addOrRemoveCssClass:function(o,s){return t.addOrRemoveCssClass(o,s)},addOrRemoveBodyCssClass:function(o,s){return t.eFloatingFilterBody.classList.toggle(o,s)},setButtonWrapperDisplayed:function(o){return tt(t.eButtonWrapper,o)},setCompDetails:function(o){return t.setCompDetails(o)},getFloatingFilterComp:function(){return t.compPromise},setWidth:function(o){return n.style.width=o},setMenuIcon:function(o){return t.eButtonShowMainFilter.appendChild(o)}};this.ctrl.setComp(r,n,this.eButtonShowMainFilter,this.eFloatingFilterBody)},e.prototype.setCompDetails=function(t){var n=this;if(!t){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=t.newAgStackInstance(),this.compPromise.then(function(r){return n.afterCompCreated(r)})},e.prototype.destroyFloatingFilterComp=function(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))},e.prototype.afterCompCreated=function(t){if(t){if(!this.isAlive()){this.destroyBean(t);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=t,this.eFloatingFilterBody.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached()}},e.TEMPLATE=`<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">
            <div ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`,yg([J("eFloatingFilterBody")],e.prototype,"eFloatingFilterBody",void 0),yg([J("eButtonWrapper")],e.prototype,"eButtonWrapper",void 0),yg([J("eButtonShowMainFilter")],e.prototype,"eButtonShowMainFilter",void 0),yg([Z],e.prototype,"postConstruct",null),yg([xi],e.prototype,"destroyFloatingFilterComp",null),e}(tI),the=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),nhe=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Mn=function(i){return i.AUTO_HEIGHT="ag-layout-auto-height",i.NORMAL="ag-layout-normal",i.PRINT="ag-layout-print",i}(Mn||{}),nI=function(i){the(e,i);function e(t){var n=i.call(this)||this;return n.view=t,n}return e.prototype.postConstruct=function(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},e.prototype.updateLayoutClasses=function(){var t=this.getDomLayout(),n={autoHeight:t==="autoHeight",normal:t==="normal",print:t==="print"},r=n.autoHeight?Mn.AUTO_HEIGHT:n.print?Mn.PRINT:Mn.NORMAL;this.view.updateLayoutClasses(r,n)},e.prototype.getDomLayout=function(){var t,n=(t=this.gridOptionsService.get("domLayout"))!==null&&t!==void 0?t:"normal",r=["normal","print","autoHeight"];return r.indexOf(n)===-1?(Ae("".concat(n," is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.")),"normal"):n},nhe([Z],e.prototype,"postConstruct",null),e}(Y),ihe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Qw=function(){return Qw=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},Qw.apply(this,arguments)},yl=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Oi=function(i){return i[i.Vertical=0]="Vertical",i[i.Horizontal=1]="Horizontal",i}(Oi||{}),Ki=function(i){return i[i.Container=0]="Container",i[i.FakeContainer=1]="FakeContainer",i}(Ki||{}),rhe=function(i){ihe(e,i);function e(t){var n=i.call(this)||this;return n.lastScrollSource=[null,null],n.scrollLeft=-1,n.nextScrollTop=-1,n.scrollTop=-1,n.lastOffsetHeight=-1,n.lastScrollTop=-1,n.eBodyViewport=t,n.resetLastHScrollDebounced=eo(function(){return n.lastScrollSource[Oi.Horizontal]=null},500),n.resetLastVScrollDebounced=eo(function(){return n.lastScrollSource[Oi.Vertical]=null},500),n}return e.prototype.postConstruct=function(){var t=this;this.enableRtl=this.gridOptionsService.get("enableRtl"),this.addManagedListener(this.eventService,w.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(n){t.centerRowContainerCtrl=n.centerRowContainerCtrl,t.onDisplayedColumnsWidthChanged(),t.addScrollListener()})},e.prototype.addScrollListener=function(){var t=this.ctrlsService.getFakeHScrollComp(),n=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),t.onScrollCallback(this.onFakeHScroll.bind(this));var r=this.gridOptionsService.get("debounceVerticalScrollbar"),o=r?eo(this.onVScroll.bind(this),100):this.onVScroll.bind(this),s=r?eo(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",o),n.onScrollCallback(s)},e.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},e.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(t){var n=this.centerRowContainerCtrl==null;if(!n){t===void 0&&(t=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var r=this.enableRtl?t:-t,o=this.ctrlsService.getTopCenterRowContainerCtrl(),s=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),a=this.ctrlsService.getBottomCenterRowContainerCtrl(),l=this.ctrlsService.getFakeHScrollComp(),u=this.ctrlsService.getHeaderRowContainerCtrl();u.setHorizontalScroll(-r),a.setContainerTranslateX(r),o.setContainerTranslateX(r),s.setContainerTranslateX(r);var c=this.centerRowContainerCtrl.getViewportElement(),d=this.lastScrollSource[Oi.Horizontal]===Ki.Container;t=Math.abs(t),d?l.setScrollPosition(t):tm(c,t,this.enableRtl)}},e.prototype.isControllingScroll=function(t,n){return this.lastScrollSource[n]==null?(this.lastScrollSource[n]=t,!0):this.lastScrollSource[n]===t},e.prototype.onFakeHScroll=function(){this.isControllingScroll(Ki.FakeContainer,Oi.Horizontal)&&this.onHScrollCommon(Ki.FakeContainer)},e.prototype.onHScroll=function(){this.isControllingScroll(Ki.Container,Oi.Horizontal)&&this.onHScrollCommon(Ki.Container)},e.prototype.onHScrollCommon=function(t){var n=this.centerRowContainerCtrl.getViewportElement(),r=n.scrollLeft;if(!this.shouldBlockScrollUpdate(Oi.Horizontal,r,!0)){var o;t===Ki.Container?o=em(n,this.enableRtl):o=this.ctrlsService.getFakeHScrollComp().getScrollPosition(),this.doHorizontalScroll(Math.round(o)),this.resetLastHScrollDebounced()}},e.prototype.onFakeVScroll=function(){this.isControllingScroll(Ki.FakeContainer,Oi.Vertical)&&this.onVScrollCommon(Ki.FakeContainer)},e.prototype.onVScroll=function(){this.isControllingScroll(Ki.Container,Oi.Vertical)&&this.onVScrollCommon(Ki.Container)},e.prototype.onVScrollCommon=function(t){var n;t===Ki.Container?n=this.eBodyViewport.scrollTop:n=this.ctrlsService.getFakeVScrollComp().getScrollPosition(),!this.shouldBlockScrollUpdate(Oi.Vertical,n,!0)&&(this.animationFrameService.setScrollTop(n),this.nextScrollTop=n,t===Ki.Container?this.ctrlsService.getFakeVScrollComp().setScrollPosition(n):this.eBodyViewport.scrollTop=n,this.gridOptionsService.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())},e.prototype.doHorizontalScroll=function(t){var n=this.ctrlsService.getFakeHScrollComp().getScrollPosition();this.scrollLeft===t&&t===n||(this.scrollLeft=t,this.fireScrollEvent(Oi.Horizontal),this.horizontallyScrollHeaderCenterAndFloatingCenter(t),this.centerRowContainerCtrl.onHorizontalViewportChanged(!0))},e.prototype.fireScrollEvent=function(t){var n=this,r={type:w.EVENT_BODY_SCROLL,direction:t===Oi.Horizontal?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(r),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var o=Qw(Qw({},r),{type:w.EVENT_BODY_SCROLL_END});n.eventService.dispatchEvent(o)},100)},e.prototype.shouldBlockScrollUpdate=function(t,n,r){return r===void 0&&(r=!1),r&&!Fl()?!1:t===Oi.Vertical?this.shouldBlockVerticalScroll(n):this.shouldBlockHorizontalScroll(n)},e.prototype.shouldBlockVerticalScroll=function(t){var n=sm(this.eBodyViewport),r=this.eBodyViewport.scrollHeight;return t<0||t+n>r},e.prototype.shouldBlockHorizontalScroll=function(t){var n=this.centerRowContainerCtrl.getCenterWidth(),r=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&Jg()){if(t>0)return!0}else if(t<0)return!0;return Math.abs(t)+n>r},e.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent(Oi.Vertical)},e.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(Ki.Container)},e.prototype.scrollGridIfNeeded=function(){var t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),t},e.prototype.setHorizontalScrollPosition=function(t,n){n===void 0&&(n=!1);var r=0,o=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();!n&&this.shouldBlockScrollUpdate(Oi.Horizontal,t)&&(this.enableRtl&&Jg()?t=t>0?0:o:t=Math.min(Math.max(t,r),o)),tm(this.centerRowContainerCtrl.getViewportElement(),Math.abs(t),this.enableRtl),this.doHorizontalScroll(t)},e.prototype.setVerticalScrollPosition=function(t){this.eBodyViewport.scrollTop=t},e.prototype.getVScrollPosition=function(){this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight;var t={top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight};return t},e.prototype.getApproximateVScollPosition=function(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()},e.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},e.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},e.prototype.scrollHorizontally=function(t){var n=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(n+t),this.centerRowContainerCtrl.getViewportElement().scrollLeft-n},e.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},e.prototype.ensureNodeVisible=function(t,n){n===void 0&&(n=null);for(var r=this.rowModel.getRowCount(),o=-1,s=0;s<r;s++){var a=this.rowModel.getRow(s);if(typeof t=="function"){var l=t;if(a&&l(a)){o=s;break}}else if(t===a||t===a.data){o=s;break}}o>=0&&this.ensureIndexVisible(o,n)},e.prototype.ensureIndexVisible=function(t,n){var r=this;if(!this.gridOptionsService.isDomLayout("print")){var o=this.paginationProxy.getRowCount();if(typeof t!="number"||t<0||t>=o){console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+t);return}var s=this.gridOptionsService.get("pagination"),a=s&&!this.gridOptionsService.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(function(){a||r.paginationProxy.goToPageWithIndex(t);var l=r.ctrlsService.getGridBodyCtrl(),u=l.getStickyTopHeight(),c=r.paginationProxy.getRow(t),d;do{var h=c.rowTop,f=c.rowHeight,p=r.paginationProxy.getPixelOffset(),g=c.rowTop-p,m=g+c.rowHeight,v=r.getVScrollPosition(),y=r.heightScaler.getDivStretchOffset(),C=v.top+y,S=v.bottom+y,E=S-C,T=r.heightScaler.getScrollPositionForPixel(g),O=r.heightScaler.getScrollPositionForPixel(m-E),R=Math.min((T+O)/2,g),M=C+u>g,H=S<m,V=null;n==="top"?V=T:n==="bottom"?V=O:n==="middle"?V=R:M?V=T-u:H&&(V=O),V!==null&&(r.setVerticalScrollPosition(V),r.rowRenderer.redraw({afterScroll:!0})),d=h!==c.rowTop||f!==c.rowHeight}while(d);r.animationFrameService.flushAllFrames()})}},e.prototype.ensureColumnVisible=function(t,n){var r=this;n===void 0&&(n="auto");var o=this.columnModel.getGridColumn(t);if(o&&!o.isPinned()&&this.columnModel.isColumnDisplayed(o)){var s=this.getPositionedHorizontalScroll(o,n);this.getFrameworkOverrides().wrapIncoming(function(){s!==null&&r.centerRowContainerCtrl.setCenterViewportScrollLeft(s),r.centerRowContainerCtrl.onHorizontalViewportChanged(),r.animationFrameService.flushAllFrames()})}},e.prototype.setScrollPosition=function(t,n){var r=this;this.getFrameworkOverrides().wrapIncoming(function(){r.centerRowContainerCtrl.setCenterViewportScrollLeft(n),r.setVerticalScrollPosition(t),r.rowRenderer.redraw({afterScroll:!0}),r.animationFrameService.flushAllFrames()})},e.prototype.getPositionedHorizontalScroll=function(t,n){var r=this.isColumnOutsideViewport(t),o=r.columnBeforeStart,s=r.columnAfterEnd,a=this.centerRowContainerCtrl.getCenterWidth()<t.getActualWidth(),l=this.centerRowContainerCtrl.getCenterWidth(),u=this.enableRtl,c=(u?o:s)||a,d=u?s:o;n!=="auto"&&(c=n==="start",d=n==="end");var h=n==="middle";if(c||d||h){var f=this.getColumnBounds(t),p=f.colLeft,g=f.colMiddle,m=f.colRight;return h?g-l/2:c?u?m:p:u?p-l:m-l}return null},e.prototype.isColumnOutsideViewport=function(t){var n=this.getViewportBounds(),r=n.start,o=n.end,s=this.getColumnBounds(t),a=s.colLeft,l=s.colRight,u=this.enableRtl,c=u?r>l:o<l,d=u?o<a:r>a;return{columnBeforeStart:c,columnAfterEnd:d}},e.prototype.getColumnBounds=function(t){var n=this.enableRtl,r=this.columnModel.getBodyContainerWidth(),o=t.getActualWidth(),s=t.getLeft(),a=n?-1:1,l=n?r-s:s,u=l+o*a,c=l+o/2*a;return{colLeft:l,colMiddle:c,colRight:u}},e.prototype.getViewportBounds=function(){var t=this.centerRowContainerCtrl.getCenterWidth(),n=this.centerRowContainerCtrl.getCenterViewportScrollLeft(),r=n,o=t+n;return{start:r,end:o,width:t}},yl([_("ctrlsService")],e.prototype,"ctrlsService",void 0),yl([_("animationFrameService")],e.prototype,"animationFrameService",void 0),yl([_("paginationProxy")],e.prototype,"paginationProxy",void 0),yl([_("rowModel")],e.prototype,"rowModel",void 0),yl([_("rowContainerHeightService")],e.prototype,"heightScaler",void 0),yl([_("rowRenderer")],e.prototype,"rowRenderer",void 0),yl([_("columnModel")],e.prototype,"columnModel",void 0),yl([Z],e.prototype,"postConstruct",null),e}(Y),ohe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fM=function(){return fM=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},fM.apply(this,arguments)},Qr=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},she=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},ahe=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},lhe=function(i){ohe(e,i);function e(t){var n=i.call(this)||this;return n.isMultiRowDrag=!1,n.eContainer=t,n}return e.prototype.postConstruct=function(){var t=this;this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(function(){var n=t.ctrlsService.getGridBodyCtrl();t.autoScrollService=new Lz({scrollContainer:n.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return n.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(r){return n.getScrollFeature().setVerticalScrollPosition(r)},onScrollCallback:function(){t.onDragging(t.lastDraggingEvent)}})})},e.prototype.getContainer=function(){return this.eContainer},e.prototype.isInterestedIn=function(t){return t===Rr.RowDrag},e.prototype.getIconName=function(){var t=this.gridOptionsService.get("rowDragManaged");return t&&this.shouldPreventRowMove()?xn.ICON_NOT_ALLOWED:xn.ICON_MOVE},e.prototype.shouldPreventRowMove=function(){var t=this.columnModel.getRowGroupColumns();if(t.length)return!0;var n=this.filterManager.isAnyFilterPresent();if(n)return!0;var r=this.sortController.isSortActive();return!!r},e.prototype.getRowNodes=function(t){var n=this;if(!this.isFromThisGrid(t))return t.dragItem.rowNodes||[];var r=this.gridOptionsService.get("rowDragMultiRow"),o=ahe([],she(this.selectionService.getSelectedNodes()),!1).sort(function(a,l){return a.rowIndex==null||l.rowIndex==null?0:n.getRowIndexNumber(a)-n.getRowIndexNumber(l)}),s=t.dragItem.rowNode;return r&&o.indexOf(s)!==-1?(this.isMultiRowDrag=!0,o):(this.isMultiRowDrag=!1,[s])},e.prototype.onDragEnter=function(t){t.dragItem.rowNodes=this.getRowNodes(t),this.dispatchGridEvent(w.EVENT_ROW_DRAG_ENTER,t),this.getRowNodes(t).forEach(function(n){n.setDragging(!0)}),this.onEnterOrDragging(t)},e.prototype.onDragging=function(t){this.onEnterOrDragging(t)},e.prototype.isFromThisGrid=function(t){var n=t.dragSource.dragSourceDomDataKey;return n===this.gridOptionsService.getDomDataKey()},e.prototype.isDropZoneWithinThisGrid=function(t){var n=this.ctrlsService.getGridBodyCtrl(),r=n.getGui(),o=t.dropZoneTarget;return!r.contains(o)},e.prototype.onEnterOrDragging=function(t){this.dispatchGridEvent(w.EVENT_ROW_DRAG_MOVE,t),this.lastDraggingEvent=t;var n=this.mouseEventService.getNormalisedPosition(t).y,r=this.gridOptionsService.get("rowDragManaged");r&&this.doManagedDrag(t,n),this.autoScrollService.check(t.event)},e.prototype.doManagedDrag=function(t,n){var r=this.isFromThisGrid(t),o=this.gridOptionsService.get("rowDragManaged"),s=t.dragItem.rowNodes;o&&this.shouldPreventRowMove()||(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!r?this.isDropZoneWithinThisGrid(t)||this.clientSideRowModel.highlightRowAtPixel(s[0],n):this.moveRows(s,n))},e.prototype.getRowIndexNumber=function(t){return parseInt(dt(t.getRowIndexString().split("-")),10)},e.prototype.moveRowAndClearHighlight=function(t){var n=this,r=this.clientSideRowModel.getLastHighlightedRowNode(),o=r&&r.highlighted===Ml.Below,s=this.mouseEventService.getNormalisedPosition(t).y,a=t.dragItem.rowNodes,l=o?1:0;if(this.isFromThisGrid(t))a.forEach(function(d){d.rowTop<s&&(l-=1)}),this.moveRows(a,s,l);else{var u=this.gridOptionsService.getCallback("getRowId"),c=this.clientSideRowModel.getRowIndexAtPixel(s)+1;this.clientSideRowModel.getHighlightPosition(s)===Ml.Above&&c--,this.clientSideRowModel.updateRowData({add:a.map(function(d){return d.data}).filter(function(d){return!n.clientSideRowModel.getRowNode(u?u({data:d,level:0}):d.id)}),addIndex:c})}this.clearRowHighlight()},e.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},e.prototype.moveRows=function(t,n,r){r===void 0&&(r=0);var o=this.clientSideRowModel.ensureRowsAtPixel(t,n,r);o&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},e.prototype.addRowDropZone=function(t){var n=this;if(!t.getContainer()){Ae("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(t)){console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}var r={getContainer:t.getContainer};t.fromGrid?(t.fromGrid=void 0,r=t):(t.onDragEnter&&(r.onDragEnter=function(o){t.onDragEnter(n.draggingToRowDragEvent(w.EVENT_ROW_DRAG_ENTER,o))}),t.onDragLeave&&(r.onDragLeave=function(o){t.onDragLeave(n.draggingToRowDragEvent(w.EVENT_ROW_DRAG_LEAVE,o))}),t.onDragging&&(r.onDragging=function(o){t.onDragging(n.draggingToRowDragEvent(w.EVENT_ROW_DRAG_MOVE,o))}),t.onDragStop&&(r.onDragStop=function(o){t.onDragStop(n.draggingToRowDragEvent(w.EVENT_ROW_DRAG_END,o))})),this.dragAndDropService.addDropTarget(fM({isInterestedIn:function(o){return o===Rr.RowDrag},getIconName:function(){return xn.ICON_MOVE},external:!0},r))},e.prototype.getRowDropZone=function(t){var n=this,r=this.getContainer.bind(this),o=this.onDragEnter.bind(this),s=this.onDragLeave.bind(this),a=this.onDragging.bind(this),l=this.onDragStop.bind(this);return t?{getContainer:r,onDragEnter:t.onDragEnter?function(u){o(u),t.onDragEnter(n.draggingToRowDragEvent(w.EVENT_ROW_DRAG_ENTER,u))}:o,onDragLeave:t.onDragLeave?function(u){s(u),t.onDragLeave(n.draggingToRowDragEvent(w.EVENT_ROW_DRAG_LEAVE,u))}:s,onDragging:t.onDragging?function(u){a(u),t.onDragging(n.draggingToRowDragEvent(w.EVENT_ROW_DRAG_MOVE,u))}:a,onDragStop:t.onDragStop?function(u){l(u),t.onDragStop(n.draggingToRowDragEvent(w.EVENT_ROW_DRAG_END,u))}:l,fromGrid:!0}:{getContainer:r,onDragEnter:o,onDragLeave:s,onDragging:a,onDragStop:l,fromGrid:!0}},e.prototype.draggingToRowDragEvent=function(t,n){var r=this.mouseEventService.getNormalisedPosition(n).y,o=r>this.paginationProxy.getCurrentPageHeight(),s=-1,a;o||(s=this.rowModel.getRowIndexAtPixel(r),a=this.rowModel.getRow(s));var l;switch(n.vDirection){case im.Down:l="down";break;case im.Up:l="up";break;default:l=null;break}var u=this.gridOptionsService.addGridCommonParams({type:t,event:n.event,node:n.dragItem.rowNode,nodes:n.dragItem.rowNodes,overIndex:s,overNode:a,y:r,vDirection:l});return u},e.prototype.dispatchGridEvent=function(t,n){var r=this.draggingToRowDragEvent(t,n);this.eventService.dispatchEvent(r)},e.prototype.onDragLeave=function(t){this.dispatchGridEvent(w.EVENT_ROW_DRAG_LEAVE,t),this.stopDragging(t),this.gridOptionsService.get("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(t)&&(this.isMultiRowDrag=!1)},e.prototype.onDragStop=function(t){this.dispatchGridEvent(w.EVENT_ROW_DRAG_END,t),this.stopDragging(t),this.gridOptionsService.get("rowDragManaged")&&(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(t))&&!this.isDropZoneWithinThisGrid(t)&&this.moveRowAndClearHighlight(t)},e.prototype.stopDragging=function(t){this.autoScrollService.ensureCleared(),this.getRowNodes(t).forEach(function(n){n.setDragging(!1)})},Qr([_("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Qr([_("rowModel")],e.prototype,"rowModel",void 0),Qr([_("paginationProxy")],e.prototype,"paginationProxy",void 0),Qr([_("columnModel")],e.prototype,"columnModel",void 0),Qr([_("focusService")],e.prototype,"focusService",void 0),Qr([_("sortController")],e.prototype,"sortController",void 0),Qr([_("filterManager")],e.prototype,"filterManager",void 0),Qr([_("selectionService")],e.prototype,"selectionService",void 0),Qr([_("mouseEventService")],e.prototype,"mouseEventService",void 0),Qr([_("ctrlsService")],e.prototype,"ctrlsService",void 0),Qr([et("rangeService")],e.prototype,"rangeService",void 0),Qr([Z],e.prototype,"postConstruct",null),e}(Y),uhe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Wi=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},rm=function(i){return i.ANIMATION_ON="ag-row-animation",i.ANIMATION_OFF="ag-row-no-animation",i}(rm||{}),Hz="ag-force-vertical-scroll",che="ag-selectable",dhe="ag-column-moving",hhe=function(i){uhe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.stickyTopHeight=0,t}return e.prototype.getScrollFeature=function(){return this.bodyScrollFeature},e.prototype.getBodyViewportElement=function(){return this.eBodyViewport},e.prototype.setComp=function(t,n,r,o,s,a){var l=this;this.comp=t,this.eGridBody=n,this.eBodyViewport=r,this.eTop=o,this.eBottom=s,this.eStickyTop=a,this.setCellTextSelection(this.gridOptionsService.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",function(u){return l.setCellTextSelection(u.currentValue)}),this.createManagedBean(new nI(this.comp)),this.bodyScrollFeature=this.createManagedBean(new rhe(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([o,r,s,a]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager.setupAdvancedFilterHeaderComp(o),this.ctrlsService.registerGridBodyCtrl(this)},e.prototype.getComp=function(){return this.comp},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,w.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,w.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,w.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,w.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},e.prototype.addFocusListeners=function(t){var n=this;t.forEach(function(r){n.addManagedListener(r,"focusin",function(o){var s=o.target,a=uc(s,"ag-root",r);r.classList.toggle("ag-has-focus",!a)}),n.addManagedListener(r,"focusout",function(o){var s=o.target,a=o.relatedTarget,l=r.contains(a),u=uc(a,"ag-root",r),c=uc(s,"ag-root",r);c||(!l||u)&&r.classList.remove("ag-has-focus")})})},e.prototype.setColumnMovingCss=function(t){this.comp.setColumnMovingCss(dhe,t)},e.prototype.setCellTextSelection=function(t){t===void 0&&(t=!1),this.comp.setCellSelectableCss(che,t)},e.prototype.onScrollVisibilityChanged=function(){var t=this,n=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(n),this.setStickyTopWidth(n);var r=n&&this.gridOptionsService.getScrollbarWidth()||0,o=LM()?16:0,s="calc(100% + ".concat(r+o,"px)");this.animationFrameService.requestAnimationFrame(function(){return t.comp.setBodyViewportWidth(s)})},e.prototype.onGridColumnsChanged=function(){var t=this.columnModel.getAllGridColumns();this.comp.setColumnCount(t.length)},e.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(t){if(t.target instanceof HTMLImageElement)return t.preventDefault(),!1})},e.prototype.addStopEditingWhenGridLosesFocus=function(){var t=this;if(this.gridOptionsService.get("stopEditingWhenCellsLoseFocus")){var n=function(o){var s=o.relatedTarget;if(Uw(s)===null){t.rowRenderer.stopEditing();return}var a=r.some(function(u){return u.contains(s)})&&t.mouseEventService.isElementInThisGrid(s);if(!a){var l=t.popupService;a=l.getActivePopups().some(function(u){return u.contains(s)})||l.isElementWithinCustomPopup(s)}a||t.rowRenderer.stopEditing()},r=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];r.forEach(function(o){return t.addManagedListener(o,"focusout",n)})}},e.prototype.updateRowCount=function(){var t=this.headerNavigationService.getHeaderRowCount()+this.filterManager.getHeaderRowCount(),n=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,r=n===-1?-1:t+n;this.comp.setRowCount(r)},e.prototype.registerBodyViewportResizeListener=function(t){this.comp.registerBodyViewportResizeListener(t)},e.prototype.setVerticalScrollPaddingVisible=function(t){var n=t?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(n)},e.prototype.isVerticalScrollShowing=function(){var t=this.gridOptionsService.get("alwaysShowVerticalScroll"),n=t?Hz:null,r=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(n,t),t||r&&rz(this.eBodyViewport)},e.prototype.setupRowAnimationCssClass=function(){var t=this,n=function(){var r=t.gridOptionsService.isAnimateRows()&&!t.rowContainerHeightService.isStretching(),o=r?rm.ANIMATION_ON:rm.ANIMATION_OFF;t.comp.setRowAnimationCssOnBodyViewport(o,r)};n(),this.addManagedListener(this.eventService,w.EVENT_HEIGHT_SCALE_CHANGED,n),this.addManagedPropertyListener("animateRows",n)},e.prototype.getGridBodyElement=function(){return this.eGridBody},e.prototype.addBodyViewportListener=function(){var t=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",t),this.mockContextMenuForIPad(t),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()},e.prototype.addFullWidthContainerWheelListener=function(){var t=this,n=this.eBodyViewport.querySelector(".ag-full-width-container"),r=this.eBodyViewport.querySelector(".ag-center-cols-viewport");n&&r&&this.addManagedListener(n,"wheel",function(o){return t.onFullWidthContainerWheel(o,r)})},e.prototype.onFullWidthContainerWheel=function(t,n){!t.deltaX||Math.abs(t.deltaY)>Math.abs(t.deltaX)||!this.mouseEventService.isEventFromThisGrid(t)||(t.preventDefault(),n.scrollBy({left:t.deltaX}))},e.prototype.onBodyViewportContextMenu=function(t,n,r){if(!(!t&&!r)){if(this.gridOptionsService.get("preventDefaultOnContextMenu")){var o=t||r;o.preventDefault()}var s=(t||n).target;if(s===this.eBodyViewport||s===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement()){if(!this.contextMenuFactory)return;t?this.contextMenuFactory.onContextMenu(t,null,null,null,null,this.eGridBody):r&&this.contextMenuFactory.onContextMenu(null,r,null,null,null,this.eGridBody)}}},e.prototype.mockContextMenuForIPad=function(t){if(Fl()){var n=new Tr(this.eBodyViewport),r=function(o){t(void 0,o.touchStart,o.touchEvent)};this.addManagedListener(n,Tr.EVENT_LONG_TAP,r),this.addDestroyFunc(function(){return n.destroy()})}},e.prototype.onBodyViewportWheel=function(t){this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&t.preventDefault()},e.prototype.onStickyTopWheel=function(t){t.preventDefault(),t.offsetY&&this.scrollVertically(t.deltaY)},e.prototype.getGui=function(){return this.eGridBody},e.prototype.scrollVertically=function(t){var n=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(n+t),this.eBodyViewport.scrollTop-n},e.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new lhe(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},e.prototype.getRowDragFeature=function(){return this.rowDragFeature},e.prototype.onPinnedRowDataChanged=function(){this.setFloatingHeights()},e.prototype.setFloatingHeights=function(){var t=this.pinnedRowModel,n=t.getPinnedTopTotalHeight(),r=t.getPinnedBottomTotalHeight();this.comp.setTopHeight(n),this.comp.setBottomHeight(r),this.comp.setTopDisplay(n?"inherit":"none"),this.comp.setBottomDisplay(r?"inherit":"none"),this.setStickyTopOffsetTop()},e.prototype.setStickyTopHeight=function(t){t===void 0&&(t=0),this.comp.setStickyTopHeight("".concat(t,"px")),this.stickyTopHeight=t},e.prototype.getStickyTopHeight=function(){return this.stickyTopHeight},e.prototype.setStickyTopWidth=function(t){if(!t)this.comp.setStickyTopWidth("100%");else{var n=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - ".concat(n,"px)"))}},e.prototype.onHeaderHeightChanged=function(){this.setStickyTopOffsetTop()},e.prototype.setStickyTopOffsetTop=function(){var t=this.ctrlsService.getGridHeaderCtrl(),n=t.getHeaderHeight()+this.filterManager.getHeaderHeight(),r=this.pinnedRowModel.getPinnedTopTotalHeight(),o=0;n>0&&(o+=n+1),r>0&&(o+=r+1),this.comp.setStickyTopTop("".concat(o,"px"))},e.prototype.sizeColumnsToFit=function(t,n){var r=this,o=this.isVerticalScrollShowing(),s=o?this.gridOptionsService.getScrollbarWidth():0,a=gc(this.eGridBody),l=a-s;if(l>0){this.columnModel.sizeColumnsToFit(l,"sizeColumnsToFit",!1,t);return}n===void 0?window.setTimeout(function(){r.sizeColumnsToFit(t,100)},0):n===100?window.setTimeout(function(){r.sizeColumnsToFit(t,500)},100):n===500?window.setTimeout(function(){r.sizeColumnsToFit(t,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},e.prototype.addScrollEventListener=function(t){this.eBodyViewport.addEventListener("scroll",t,{passive:!0})},e.prototype.removeScrollEventListener=function(t){this.eBodyViewport.removeEventListener("scroll",t)},Wi([_("animationFrameService")],e.prototype,"animationFrameService",void 0),Wi([_("rowContainerHeightService")],e.prototype,"rowContainerHeightService",void 0),Wi([_("ctrlsService")],e.prototype,"ctrlsService",void 0),Wi([_("columnModel")],e.prototype,"columnModel",void 0),Wi([_("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),Wi([et("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),Wi([_("headerNavigationService")],e.prototype,"headerNavigationService",void 0),Wi([_("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Wi([_("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Wi([_("rowRenderer")],e.prototype,"rowRenderer",void 0),Wi([_("popupService")],e.prototype,"popupService",void 0),Wi([_("mouseEventService")],e.prototype,"mouseEventService",void 0),Wi([_("rowModel")],e.prototype,"rowModel",void 0),Wi([_("filterManager")],e.prototype,"filterManager",void 0),e}(Y),pM=function(i){return i[i.FILL=0]="FILL",i[i.RANGE=1]="RANGE",i}(pM||{}),zg=function(i){return i[i.VALUE=0]="VALUE",i[i.DIMENSION=1]="DIMENSION",i}(zg||{}),_g="ag-cell-range-selected",fhe="ag-cell-range-chart",phe="ag-cell-range-single-cell",ghe="ag-cell-range-chart-category",mhe="ag-cell-range-handle",vhe="ag-cell-range-top",yhe="ag-cell-range-right",_he="ag-cell-range-bottom",Che="ag-cell-range-left",whe=function(){function i(e,t){this.beans=e,this.cellCtrl=t}return i.prototype.setComp=function(e,t){this.cellComp=e,this.eGui=t,this.onRangeSelectionChanged()},i.prototype.onRangeSelectionChanged=function(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(_g,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass("".concat(_g,"-1"),this.rangeCount===1),this.cellComp.addOrRemoveCssClass("".concat(_g,"-2"),this.rangeCount===2),this.cellComp.addOrRemoveCssClass("".concat(_g,"-3"),this.rangeCount===3),this.cellComp.addOrRemoveCssClass("".concat(_g,"-4"),this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(fhe,this.hasChartRange),Dh(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(phe,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},i.prototype.updateRangeBorders=function(){var e=this.getRangeBorders(),t=this.isSingleCell(),n=!t&&e.top,r=!t&&e.right,o=!t&&e.bottom,s=!t&&e.left;this.cellComp.addOrRemoveCssClass(vhe,n),this.cellComp.addOrRemoveCssClass(yhe,r),this.cellComp.addOrRemoveCssClass(_he,o),this.cellComp.addOrRemoveCssClass(Che,s)},i.prototype.isSingleCell=function(){var e=this.beans.rangeService;return this.rangeCount===1&&e&&!e.isMoreThanOneCell()},i.prototype.getHasChartRange=function(){var e=this.beans.rangeService;if(!this.rangeCount||!e)return!1;var t=e.getCellRanges();return t.length>0&&t.every(function(n){return xo([zg.DIMENSION,zg.VALUE],n.type)})},i.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},i.prototype.getRangeBorders=function(){var e=this,t=this.beans.gridOptionsService.get("enableRtl"),n=!1,r=!1,o=!1,s=!1,a=this.cellCtrl.getCellPosition().column,l=this.beans,u=l.rangeService,c=l.columnModel,d,h;t?(d=c.getDisplayedColAfter(a),h=c.getDisplayedColBefore(a)):(d=c.getDisplayedColBefore(a),h=c.getDisplayedColAfter(a));var f=u.getCellRanges().filter(function(y){return u.isCellInSpecificRange(e.cellCtrl.getCellPosition(),y)});d||(s=!0),h||(r=!0);for(var p=0;p<f.length&&!(n&&r&&o&&s);p++){var g=f[p],m=u.getRangeStartRow(g),v=u.getRangeEndRow(g);!n&&this.beans.rowPositionUtils.sameRow(m,this.cellCtrl.getCellPosition())&&(n=!0),!o&&this.beans.rowPositionUtils.sameRow(v,this.cellCtrl.getCellPosition())&&(o=!0),!s&&d&&g.columns.indexOf(d)<0&&(s=!0),!r&&h&&g.columns.indexOf(h)<0&&(r=!0)}return{top:n,right:r,bottom:o,left:s}},i.prototype.refreshHandle=function(){if(this.beans.rangeService){var e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(mhe,!!this.selectionHandle)}},i.prototype.shouldHaveSelectionHandle=function(){var e=this.beans,t=e.gridOptionsService,n=e.rangeService,r=n.getCellRanges(),o=r.length;if(this.rangeCount<1||o<1)return!1;var s=dt(r),a=this.cellCtrl.getCellPosition(),l=t.get("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),u=t.get("enableRangeHandle"),c=o===1&&!this.cellCtrl.isEditing()&&(l||u);if(this.hasChartRange){var d=r[0].type===zg.DIMENSION,h=d&&n.isCellInSpecificRange(a,r[0]);this.cellComp.addOrRemoveCssClass(ghe,h),c=s.type===zg.VALUE}return c&&s.endRow!=null&&n.isContiguousRange(s)&&n.isBottomRightCell(s,a)},i.prototype.addSelectionHandle=function(){var e=this.beans,t=e.gridOptionsService,n=e.rangeService,r=dt(n.getCellRanges()).type,o=t.get("enableFillHandle")&&me(r),s=o?pM.FILL:pM.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==s&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(s)),this.selectionHandle.refresh(this.cellCtrl)},i.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},i}(),She=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),bhe=function(i){She(e,i);function e(t,n){var r=i.call(this)||this;return r.cellCtrl=t,r.beans=n,r.column=t.getColumn(),r.rowNode=t.getRowNode(),r.setupColSpan(),r.setupRowSpan(),r}return e.prototype.setupRowSpan=function(){var t=this;this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListener(this.beans.eventService,w.EVENT_NEW_COLUMNS_LOADED,function(){return t.onNewColumnsLoaded()})},e.prototype.setComp=function(t){this.eGui=t,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},e.prototype.onNewColumnsLoaded=function(){var t=this.column.getRowSpan(this.rowNode);this.rowSpan!==t&&(this.rowSpan=t,this.applyRowSpan(!0))},e.prototype.onDisplayColumnsChanged=function(){var t=this.getColSpanningList();fa(this.colsSpanning,t)||(this.colsSpanning=t,this.onWidthChanged(),this.onLeftChanged())},e.prototype.setupColSpan=function(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,w.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,w.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},e.prototype.onWidthChanged=function(){if(this.eGui){var t=this.getCellWidth();this.eGui.style.width="".concat(t,"px")}},e.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(t,n){return t+n.getActualWidth()},0):this.column.getActualWidth()},e.prototype.getColSpanningList=function(){var t=this.column.getColSpan(this.rowNode),n=[];if(t===1)n.push(this.column);else for(var r=this.column,o=this.column.getPinned(),s=0;r&&s<t&&(n.push(r),r=this.beans.columnModel.getDisplayedColAfter(r),!(!r||me(r)||o!==r.getPinned()));s++);return n},e.prototype.onLeftChanged=function(){if(this.eGui){var t=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=t+"px"}},e.prototype.getCellLeft=function(){var t;return this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?t=dt(this.colsSpanning):t=this.column,t.getLeft()},e.prototype.modifyLeftForPrintLayout=function(t){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return t;var n=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(this.column.getPinned()==="right"){var r=this.beans.columnModel.getBodyContainerWidth();return n+r+(t||0)}return n+(t||0)},e.prototype.applyRowSpan=function(t){if(!(this.rowSpan===1&&!t)){var n=this.beans.gridOptionsService.getRowHeightAsNumber(),r=n*this.rowSpan;this.eGui.style.height="".concat(r,"px"),this.eGui.style.zIndex="1"}},e.prototype.destroy=function(){i.prototype.destroy.call(this)},e}(Y),Ehe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Dhe=function(i){Ehe(e,i);function e(t,n){var r=i.call(this)||this;return r.staticClasses=[],r.cellCtrl=t,r.beans=n,r.column=t.getColumn(),r.rowNode=t.getRowNode(),r}return e.prototype.setComp=function(t){this.cellComp=t,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},e.prototype.applyCellClassRules=function(){var t=this,n=this.column.getColDef(),r=n.cellClassRules,o=this.beans.gridOptionsService.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:n,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(r===this.cellClassRules?void 0:this.cellClassRules,r,o,function(s){return t.cellComp.addOrRemoveCssClass(s,!0)},function(s){return t.cellComp.addOrRemoveCssClass(s,!1)}),this.cellClassRules=r},e.prototype.applyUserStyles=function(){var t=this.column.getColDef();if(t.cellStyle){var n;if(typeof t.cellStyle=="function"){var r=this.beans.gridOptionsService.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:t,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex}),o=t.cellStyle;n=o(r)}else n=t.cellStyle;n&&this.cellComp.setUserStyles(n)}},e.prototype.applyClassesFromColDef=function(){var t=this,n=this.column.getColDef(),r=this.beans.gridOptionsService.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:n,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(function(o){return t.cellComp.addOrRemoveCssClass(o,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(n,r),this.staticClasses.length&&this.staticClasses.forEach(function(o){return t.cellComp.addOrRemoveCssClass(o,!0)})},e.prototype.destroy=function(){i.prototype.destroy.call(this)},e}(Y),The=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),iI=function(i){The(e,i);function e(t,n){var r=i.call(this)||this;return r.ctrl=t,r.beans=n,r}return e.prototype.setComp=function(t){this.eGui=t,this.setupTooltip()},e.prototype.setBrowserTooltip=function(t){var n="title";t!=null&&t!=""?this.eGui.setAttribute(n,t):this.eGui.removeAttribute(n)},e.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsService.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?this.setBrowserTooltip(this.tooltip):this.createTooltipFeatureIfNeeded()},e.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},e.prototype.createTooltipFeatureIfNeeded=function(){var t=this,n,r,o,s;if(this.genericTooltipFeature==null){var a={getTooltipParams:function(){return t.getTooltipParams()},getGui:function(){return t.ctrl.getGui()}};this.genericTooltipFeature=this.createManagedBean(new QM(a,(r=(n=this.ctrl).getTooltipShowDelayOverride)===null||r===void 0?void 0:r.call(n),(s=(o=this.ctrl).getTooltipHideDelayOverride)===null||s===void 0?void 0:s.call(o)),this.beans.context)}},e.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.setBrowserTooltip(this.tooltip)},e.prototype.getTooltipParams=function(){var t=this,n=this.ctrl,r=n.getColumn?n.getColumn():void 0,o=n.getColDef?n.getColDef():void 0,s=n.getRowNode?n.getRowNode():void 0;return{location:n.getLocation(),colDef:o,column:r,rowIndex:n.getRowIndex?n.getRowIndex():void 0,node:s,data:s?s.data:void 0,value:this.getTooltipText(),valueFormatted:n.getValueFormatted?n.getValueFormatted():void 0,hideTooltipCallback:function(){return t.genericTooltipFeature.hideTooltip(!0)}}},e.prototype.getTooltipText=function(){return this.tooltip},e.prototype.destroy=function(){i.prototype.destroy.call(this)},e}(Y),Re=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Gz=function(){function i(){}return i.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)},Re([_("resizeObserverService")],i.prototype,"resizeObserverService",void 0),Re([_("paginationProxy")],i.prototype,"paginationProxy",void 0),Re([_("context")],i.prototype,"context",void 0),Re([_("columnApi")],i.prototype,"columnApi",void 0),Re([_("gridApi")],i.prototype,"gridApi",void 0),Re([_("gridOptionsService")],i.prototype,"gridOptionsService",void 0),Re([_("expressionService")],i.prototype,"expressionService",void 0),Re([_("environment")],i.prototype,"environment",void 0),Re([_("rowRenderer")],i.prototype,"rowRenderer",void 0),Re([_("templateService")],i.prototype,"templateService",void 0),Re([_("valueService")],i.prototype,"valueService",void 0),Re([_("eventService")],i.prototype,"eventService",void 0),Re([_("columnModel")],i.prototype,"columnModel",void 0),Re([_("headerNavigationService")],i.prototype,"headerNavigationService",void 0),Re([_("navigationService")],i.prototype,"navigationService",void 0),Re([_("columnAnimationService")],i.prototype,"columnAnimationService",void 0),Re([et("rangeService")],i.prototype,"rangeService",void 0),Re([_("focusService")],i.prototype,"focusService",void 0),Re([et("contextMenuFactory")],i.prototype,"contextMenuFactory",void 0),Re([_("popupService")],i.prototype,"popupService",void 0),Re([_("valueFormatterService")],i.prototype,"valueFormatterService",void 0),Re([_("stylingService")],i.prototype,"stylingService",void 0),Re([_("columnHoverService")],i.prototype,"columnHoverService",void 0),Re([_("userComponentFactory")],i.prototype,"userComponentFactory",void 0),Re([_("userComponentRegistry")],i.prototype,"userComponentRegistry",void 0),Re([_("animationFrameService")],i.prototype,"animationFrameService",void 0),Re([_("dragService")],i.prototype,"dragService",void 0),Re([_("dragAndDropService")],i.prototype,"dragAndDropService",void 0),Re([_("sortController")],i.prototype,"sortController",void 0),Re([_("filterManager")],i.prototype,"filterManager",void 0),Re([_("rowContainerHeightService")],i.prototype,"rowContainerHeightService",void 0),Re([_("frameworkOverrides")],i.prototype,"frameworkOverrides",void 0),Re([_("cellPositionUtils")],i.prototype,"cellPositionUtils",void 0),Re([_("rowPositionUtils")],i.prototype,"rowPositionUtils",void 0),Re([_("selectionService")],i.prototype,"selectionService",void 0),Re([et("selectionHandleFactory")],i.prototype,"selectionHandleFactory",void 0),Re([_("rowCssClassCalculator")],i.prototype,"rowCssClassCalculator",void 0),Re([_("rowModel")],i.prototype,"rowModel",void 0),Re([_("ctrlsService")],i.prototype,"ctrlsService",void 0),Re([_("ctrlsFactory")],i.prototype,"ctrlsFactory",void 0),Re([_("agStackComponentsRegistry")],i.prototype,"agStackComponentsRegistry",void 0),Re([_("valueCache")],i.prototype,"valueCache",void 0),Re([_("rowNodeEventThrottle")],i.prototype,"rowNodeEventThrottle",void 0),Re([_("localeService")],i.prototype,"localeService",void 0),Re([_("valueParserService")],i.prototype,"valueParserService",void 0),Re([_("syncService")],i.prototype,"syncService",void 0),Re([Z],i.prototype,"postConstruct",null),i=Re([ne("beans")],i),i}(),Rhe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ahe=function(i){Rhe(e,i);function e(t,n,r){var o=i.call(this)||this;return o.cellCtrl=t,o.beans=n,o.column=r,o}return e.prototype.onMouseEvent=function(t,n){if(!Mo(n))switch(t){case"click":this.onCellClicked(n);break;case"mousedown":case"touchstart":this.onMouseDown(n);break;case"dblclick":this.onCellDoubleClicked(n);break;case"mouseout":this.onMouseOut(n);break;case"mouseover":this.onMouseOver(n);break}},e.prototype.onCellClicked=function(t){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(t),t.preventDefault();return}var n=this.beans,r=n.eventService,o=n.rangeService,s=n.gridOptionsService,a=t.ctrlKey||t.metaKey;o&&a&&o.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&o.intersectLastRange(!0);var l=this.cellCtrl.createEvent(t,w.EVENT_CELL_CLICKED);r.dispatchEvent(l);var u=this.column.getColDef();u.onCellClicked&&window.setTimeout(function(){return u.onCellClicked(l)},0);var c=(s.get("singleClickEdit")||u.singleClickEdit)&&!s.get("suppressClickEdit");c&&!(t.shiftKey&&o?.getCellRanges().length!=0)&&this.cellCtrl.startRowOrCellEdit()},e.prototype.isDoubleClickOnIPad=function(){if(!Fl()||SM("dblclick"))return!1;var t=new Date().getTime(),n=t-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=t,n},e.prototype.onCellDoubleClicked=function(t){var n=this.column.getColDef(),r=this.cellCtrl.createEvent(t,w.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(r),typeof n.onCellDoubleClicked=="function"&&window.setTimeout(function(){return n.onCellDoubleClicked(r)},0);var o=!this.beans.gridOptionsService.get("singleClickEdit")&&!this.beans.gridOptionsService.get("suppressClickEdit");o&&this.cellCtrl.startRowOrCellEdit(null,t)},e.prototype.onMouseDown=function(t){var n=t.ctrlKey,r=t.metaKey,o=t.shiftKey,s=t.target,a=this,l=a.cellCtrl,u=a.beans,c=u.eventService,d=u.rangeService,h=u.focusService;if(!this.isRightClickInExistingRange(t)){var f=d&&d.getCellRanges().length!=0;if(!o||!f){var p=Io()&&!l.isEditing()&&!HM(s);l.focusCell(p)}if(o&&f&&!h.isCellFocused(l.getCellPosition())){t.preventDefault();var g=h.getFocusedCell();if(g){var m=g.column,v=g.rowIndex,y=g.rowPinned,C=u.rowRenderer.getRowByPosition({rowIndex:v,rowPinned:y}),S=C?.getCellCtrl(m);S?.isEditing()&&S.stopEditing(),h.setFocusedCell({column:m,rowIndex:v,rowPinned:y,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(s)){if(d){var E=this.cellCtrl.getCellPosition();if(o)d.extendLatestRangeToCell(E);else{var T=n||r;d.setRangeToCell(E,T)}}c.dispatchEvent(this.cellCtrl.createEvent(t,w.EVENT_CELL_MOUSE_DOWN))}}},e.prototype.isRightClickInExistingRange=function(t){var n=this.beans.rangeService;if(n){var r=n.isCellInAnyRange(this.cellCtrl.getCellPosition()),o=t.button===2||t.ctrlKey&&this.beans.gridOptionsService.get("allowContextMenuWithControlKey");if(r&&o)return!0}return!1},e.prototype.containsWidget=function(t){return uc(t,"ag-selection-checkbox",3)},e.prototype.onMouseOut=function(t){if(!this.mouseStayingInsideCell(t)){var n=this.cellCtrl.createEvent(t,w.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(n),this.beans.columnHoverService.clearMouseOver()}},e.prototype.onMouseOver=function(t){if(!this.mouseStayingInsideCell(t)){var n=this.cellCtrl.createEvent(t,w.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(n),this.beans.columnHoverService.setMouseOver([this.column])}},e.prototype.mouseStayingInsideCell=function(t){if(!t.target||!t.relatedTarget)return!1;var n=this.cellCtrl.getGui(),r=n.contains(t.target),o=n.contains(t.relatedTarget);return r&&o},e.prototype.destroy=function(){},e}(Gz),Ohe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),xhe=function(i){Ohe(e,i);function e(t,n,r,o,s){var a=i.call(this)||this;return a.cellCtrl=t,a.beans=n,a.rowNode=o,a.rowCtrl=s,a}return e.prototype.setComp=function(t){this.eGui=t},e.prototype.onKeyDown=function(t){var n=t.key;switch(n){case F.ENTER:this.onEnterKeyDown(t);break;case F.F2:this.onF2KeyDown(t);break;case F.ESCAPE:this.onEscapeKeyDown(t);break;case F.TAB:this.onTabKeyDown(t);break;case F.BACKSPACE:case F.DELETE:this.onBackspaceOrDeleteKeyDown(n,t);break;case F.DOWN:case F.UP:case F.RIGHT:case F.LEFT:this.onNavigationKeyDown(t,n);break}},e.prototype.onNavigationKeyDown=function(t,n){this.cellCtrl.isEditing()||(t.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(t):this.beans.navigationService.navigateToNextCell(t,n,this.cellCtrl.getCellPosition(),!0),t.preventDefault())},e.prototype.onShiftRangeSelect=function(t){if(this.beans.rangeService){var n=this.beans.rangeService.extendLatestRangeInDirection(t);n&&this.beans.navigationService.ensureCellVisible(n)}},e.prototype.onTabKeyDown=function(t){this.beans.navigationService.onTabKeyDown(this.cellCtrl,t)},e.prototype.onBackspaceOrDeleteKeyDown=function(t,n){var r=this,o=r.cellCtrl,s=r.beans,a=r.rowNode,l=s.gridOptionsService,u=s.rangeService,c=s.eventService;o.isEditing()||(c.dispatchEvent({type:w.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),dz(t,l.get("enableCellEditingOnBackspace"))?u&&l.get("enableRangeSelection")?u.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"}):o.isCellEditable()&&a.setDataValue(o.getColumn(),null,"cellClear"):o.startRowOrCellEdit(t,n),c.dispatchEvent({type:w.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))},e.prototype.onEnterKeyDown=function(t){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,t.shiftKey);else if(this.beans.gridOptionsService.get("enterNavigatesVertically")){var n=t.shiftKey?F.UP:F.DOWN;this.beans.navigationService.navigateToNextCell(null,n,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(F.ENTER,t),this.cellCtrl.isEditing()&&t.preventDefault()},e.prototype.onF2KeyDown=function(t){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(F.F2,t)},e.prototype.onEscapeKeyDown=function(t){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},e.prototype.processCharacter=function(t){var n=t.target,r=n!==this.eGui;if(!(r||this.cellCtrl.isEditing())){var o=t.key;o===" "?this.onSpaceKeyDown(t):(this.cellCtrl.startRowOrCellEdit(o,t),t.preventDefault())}},e.prototype.onSpaceKeyDown=function(t){var n=this.beans.gridOptionsService;if(!this.cellCtrl.isEditing()&&n.isRowSelection()){var r=this.rowNode.isSelected(),o=!r;if(o||!n.get("suppressRowDeselection")){var s=this.beans.gridOptionsService.get("groupSelectsFiltered"),a=this.rowNode.setSelectedParams({newValue:o,rangeSelect:t.shiftKey,groupSelectsFiltered:s,event:t,source:"spaceKey"});r===void 0&&a===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:t.shiftKey,groupSelectsFiltered:s,event:t,source:"spaceKey"})}}t.preventDefault()},e.prototype.destroy=function(){i.prototype.destroy.call(this)},e}(Y),Mhe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ihe=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Phe=function(i){Mhe(e,i);function e(t,n,r){var o=i.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return o.rowNode=t,o.column=n,o.eCell=r,o}return e.prototype.postConstruct=function(){var t=this.getGui();t.appendChild(cn("rowDrag",this.gridOptionsService,null)),this.addGuiEventListener("mousedown",function(n){n.stopPropagation()}),this.addDragSource(),this.checkVisibility()},e.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},e.prototype.onDragStart=function(t){var n=this,r=this.column.getColDef().dndSourceOnRowDrag;t.dataTransfer.setDragImage(this.eCell,0,0);var o=function(){try{var a=JSON.stringify(n.rowNode.data);t.dataTransfer.setData("application/json",a),t.dataTransfer.setData("text/plain",a)}catch{}};if(r){var s=this.gridOptionsService.addGridCommonParams({rowNode:this.rowNode,dragEvent:t});r(s)}else o()},e.prototype.checkVisibility=function(){var t=this.column.isDndSource(this.rowNode);this.setDisplayed(t)},Ihe([Z],e.prototype,"postConstruct",null),e}(Fe),Fhe=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Nhe=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},Lhe="ag-column-first",khe="ag-column-last",mS=function(){function i(){}return i.getHeaderClassesFromColDef=function(e,t,n,r){return me(e)?[]:this.getColumnClassesFromCollDef(e.headerClass,e,t,n,r)},i.getToolPanelClassesFromColDef=function(e,t,n,r){return me(e)?[]:this.getColumnClassesFromCollDef(e.toolPanelClass,e,t,n,r)},i.refreshFirstAndLastStyles=function(e,t,n){e.addOrRemoveCssClass(Lhe,n.isColumnAtEdge(t,"first")),e.addOrRemoveCssClass(khe,n.isColumnAtEdge(t,"last"))},i.getClassParams=function(e,t,n,r){return t.addGridCommonParams({colDef:e,column:n,columnGroup:r})},i.getColumnClassesFromCollDef=function(e,t,n,r,o){if(me(e))return[];var s;if(typeof e=="function"){var a=this.getClassParams(t,n,r,o);s=e(a)}else s=e;return typeof s=="string"?[s]:Array.isArray(s)?Nhe([],Fhe(s),!1):[]},i}(),Vhe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Zw=function(){return Zw=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},Zw.apply(this,arguments)},Hhe="ag-cell",Ghe="ag-cell-auto-height",Bhe="ag-cell-normal-height",jhe="ag-cell-focus",Uhe="ag-cell-first-right-pinned",Whe="ag-cell-last-left-pinned",zhe="ag-cell-not-inline-editing",$he="ag-column-hover",qhe="ag-cell-wrap-text",Yhe=0,dc=function(i){Vhe(e,i);function e(t,n,r,o){var s=i.call(this)||this;return s.cellRangeFeature=null,s.cellPositionFeature=null,s.cellCustomStyleFeature=null,s.tooltipFeature=null,s.cellMouseListenerFeature=null,s.cellKeyboardListenerFeature=null,s.suppressRefreshCell=!1,s.onCellCompAttachedFuncs=[],s.column=t,s.rowNode=n,s.beans=r,s.rowCtrl=o,s.instanceId=t.getId()+"-"+Yhe++,s.column.getColDef(),s.colIdSanitised=Cn(s.column.getId()),s.beans.gridOptionsService.get("suppressCellFocus")||(s.tabIndex=-1),s.createCellPosition(),s.addFeatures(),s.updateAndFormatValue(!1),s}return e.prototype.shouldRestoreFocus=function(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)},e.prototype.addFeatures=function(){var t=this;this.cellPositionFeature=new bhe(this,this.beans),this.addDestroyFunc(function(){var r;(r=t.cellPositionFeature)===null||r===void 0||r.destroy(),t.cellPositionFeature=null}),this.cellCustomStyleFeature=new Dhe(this,this.beans),this.addDestroyFunc(function(){var r;(r=t.cellCustomStyleFeature)===null||r===void 0||r.destroy(),t.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new Ahe(this,this.beans,this.column),this.addDestroyFunc(function(){var r;(r=t.cellMouseListenerFeature)===null||r===void 0||r.destroy(),t.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new xhe(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(function(){var r;(r=t.cellKeyboardListenerFeature)===null||r===void 0||r.destroy(),t.cellKeyboardListenerFeature=null}),this.column.isTooltipEnabled()&&(this.enableTooltipFeature(),this.addDestroyFunc(function(){t.disableTooltipFeature()}));var n=this.beans.rangeService&&this.beans.gridOptionsService.get("enableRangeSelection");n&&(this.cellRangeFeature=new whe(this.beans,this),this.addDestroyFunc(function(){var r;(r=t.cellRangeFeature)===null||r===void 0||r.destroy(),t.cellRangeFeature=null}))},e.prototype.enableTooltipFeature=function(){var t=this,n=function(){var o=t.column.getColDef(),s=t.rowNode.data;if(o.tooltipField&&W(s))return Ch(s,o.tooltipField,t.column.isTooltipFieldContainsDots());var a=o.tooltipValueGetter;return a?a(t.beans.gridOptionsService.addGridCommonParams({location:"cell",colDef:t.column.getColDef(),column:t.column,rowIndex:t.cellPosition.rowIndex,node:t.rowNode,data:t.rowNode.data,value:t.value,valueFormatted:t.valueFormatted})):null},r={getColumn:function(){return t.column},getColDef:function(){return t.column.getColDef()},getRowIndex:function(){return t.cellPosition.rowIndex},getRowNode:function(){return t.rowNode},getGui:function(){return t.getGui()},getLocation:function(){return"cell"},getTooltipValue:n,getValueFormatted:function(){return t.valueFormatted}};this.tooltipFeature=new iI(r,this.beans)},e.prototype.disableTooltipFeature=function(){this.tooltipFeature&&(this.tooltipFeature.destroy(),this.tooltipFeature=null)},e.prototype.setComp=function(t,n,r,o,s){var a,l,u,c;this.cellComp=t,this.eGui=n,this.printLayout=o,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(r),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(a=this.cellPositionFeature)===null||a===void 0||a.setComp(n),(l=this.cellCustomStyleFeature)===null||l===void 0||l.setComp(t),(u=this.tooltipFeature)===null||u===void 0||u.setComp(n),(c=this.cellKeyboardListenerFeature)===null||c===void 0||c.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(t,n),s&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(function(d){return d()}),this.onCellCompAttachedFuncs=[])},e.prototype.setupAutoHeight=function(t){var n=this;if(this.isAutoHeight=this.column.isAutoHeight(),!(!this.isAutoHeight||!t)){var r=t.parentElement,o=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,s=function(u){if(!n.editing&&n.isAlive()){var c=Nl(r),d=c.paddingTop,h=c.paddingBottom,f=c.borderBottomWidth,p=c.borderTopWidth,g=d+h+f+p,m=t.offsetHeight,v=m+g;if(u<5){var y=n.beans.gridOptionsService.getDocument(),C=!y||!y.contains(t),S=v==0;if(C||S){window.setTimeout(function(){return s(u+1)},0);return}}var E=Math.max(v,o);n.rowNode.setRowAutoHeight(E,n.column)}},a=function(){return s(0)};a();var l=this.beans.resizeObserverService.observeResize(t,a);this.addDestroyFunc(function(){l(),n.rowNode.setRowAutoHeight(void 0,n.column)})}},e.prototype.getCellAriaRole=function(){var t;return(t=this.column.getColDef().cellAriaRole)!==null&&t!==void 0?t:"gridcell"},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.getIncludeSelection=function(){return this.includeSelection},e.prototype.getIncludeRowDrag=function(){return this.includeRowDrag},e.prototype.getIncludeDndSource=function(){return this.includeDndSource},e.prototype.getColumnIdSanitised=function(){return this.colIdSanitised},e.prototype.getTabIndex=function(){return this.tabIndex},e.prototype.isCellRenderer=function(){var t=this.column.getColDef();return t.cellRenderer!=null||t.cellRendererSelector!=null},e.prototype.getValueToDisplay=function(){return this.valueFormatted!=null?this.valueFormatted:this.value},e.prototype.showValue=function(t){t===void 0&&(t=!1);var n=this.getValueToDisplay(),r;if(this.isCellRenderer()){var o=this.createCellRendererParams();r=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),o)}this.cellComp.setRenderDetails(r,n,t),this.refreshHandle()},e.prototype.setupControlComps=function(){var t=this.column.getColDef();this.includeSelection=this.isIncludeControl(t.checkboxSelection),this.includeRowDrag=this.isIncludeControl(t.rowDrag),this.includeDndSource=this.isIncludeControl(t.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},e.prototype.isForceWrapper=function(){var t=this.beans.gridOptionsService.get("enableCellTextSelection")||this.column.isAutoHeight();return t},e.prototype.isIncludeControl=function(t){var n=this.rowNode.rowPinned!=null,r=typeof t=="function",o=n?!1:r||t===!0;return o},e.prototype.refreshShouldDestroy=function(){var t=this.column.getColDef(),n=this.includeSelection!=this.isIncludeControl(t.checkboxSelection),r=this.includeRowDrag!=this.isIncludeControl(t.rowDrag),o=this.includeDndSource!=this.isIncludeControl(t.dndSource);return n||r||o},e.prototype.startEditing=function(t,n,r){var o=this;if(t===void 0&&(t=null),n===void 0&&(n=!1),r===void 0&&(r=null),!(!this.isCellEditable()||this.editing)){if(!this.cellComp){this.onCellCompAttachedFuncs.push(function(){o.startEditing(t,n,r)});return}var s=this.createCellEditorParams(t,n),a=this.column.getColDef(),l=this.beans.userComponentFactory.getCellEditorDetails(a,s);this.editCompDetails=l;var u=l?.popupFromSelector!=null?l.popupFromSelector:!!a.cellEditorPopup,c=l?.popupPositionFromSelector!=null?l.popupPositionFromSelector:a.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(l,u,c,this.beans.gridOptionsService.get("reactiveCustomComponents"));var d=this.createEvent(r,w.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(d)}},e.prototype.setEditing=function(t){this.editing!==t&&(this.editing=t,this.refreshHandle())},e.prototype.stopRowOrCellEdit=function(t){t===void 0&&(t=!1),this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.stopEditing(t):this.stopEditing(t)},e.prototype.onPopupEditorClosed=function(){this.isEditing()&&this.stopEditingAndFocus()},e.prototype.takeValueFromCellEditor=function(t){var n={newValueExists:!1};if(t)return n;var r=this.cellComp.getCellEditor();if(!r)return n;var o=r.isCancelAfterEnd&&r.isCancelAfterEnd();if(o)return n;var s=r.getValue();return{newValue:s,newValueExists:!0}},e.prototype.saveNewValue=function(t,n){if(n===t)return!1;this.suppressRefreshCell=!0;var r=this.rowNode.setDataValue(this.column,n,"edit");return this.suppressRefreshCell=!1,r},e.prototype.stopEditing=function(t){if(t===void 0&&(t=!1),!this.editing)return!1;var n=this.takeValueFromCellEditor(t),r=n.newValue,o=n.newValueExists,s=this.rowNode.getValueFromValueService(this.column),a=!1;return o&&(a=this.saveNewValue(s,r)),this.setEditing(!1),this.cellComp.setEditDetails(),this.editCompDetails=void 0,this.updateAndFormatValue(!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(s,r,!t&&!!a),a},e.prototype.dispatchEditingStoppedEvent=function(t,n,r){var o=Zw(Zw({},this.createEvent(null,w.EVENT_CELL_EDITING_STOPPED)),{oldValue:t,newValue:n,valueChanged:r});this.beans.eventService.dispatchEvent(o)},e.prototype.createCellEditorParams=function(t,n){return this.beans.gridOptionsService.addGridCommonParams({value:this.rowNode.getValueFromValueService(this.column),eventKey:t,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,cellStartedEdit:n,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)})},e.prototype.createCellRendererParams=function(){var t=this,n=this.beans.gridOptionsService.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:function(){return t.rowNode.getValueFromValueService(t.column)},setValue:function(r){return t.beans.valueService.setValue(t.rowNode,t.column,r)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(r,o,s,a){return t.registerRowDragger(r,o,a)}});return n},e.prototype.parseValue=function(t){return this.beans.valueParserService.parseValue(this.column,this.rowNode,t,this.getValue())},e.prototype.setFocusOutOnEditor=function(){if(this.editing){var t=this.cellComp.getCellEditor();t&&t.focusOut&&t.focusOut()}},e.prototype.setFocusInOnEditor=function(){if(this.editing){var t=this.cellComp.getCellEditor();t&&t.focusIn?t.focusIn():this.focusCell(!0)}},e.prototype.onCellChanged=function(t){var n=t.column===this.column;n&&this.refreshCell({})},e.prototype.refreshOrDestroyCell=function(t){var n;this.refreshShouldDestroy()?(n=this.rowCtrl)===null||n===void 0||n.refreshCell(this):this.refreshCell(t)},e.prototype.refreshCell=function(t){var n,r,o;if(!(this.suppressRefreshCell||this.editing)){var s=this.column.getColDef(),a=t!=null&&!!t.newData,l=t!=null&&!!t.suppressFlash||!!s.suppressCellFlash,u=s.field==null&&s.valueGetter==null&&s.showRowGroup==null,c=t&&t.forceRefresh||u||a,d=!!this.cellComp,h=this.updateAndFormatValue(d),f=c||h;if(d){if(f){this.showValue(a);var p=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering(),g=!l&&!p&&(this.beans.gridOptionsService.get("enableCellChangeFlash")||s.enableCellChangeFlash);g&&this.flashCell(),(n=this.cellCustomStyleFeature)===null||n===void 0||n.applyUserStyles(),(r=this.cellCustomStyleFeature)===null||r===void 0||r.applyClassesFromColDef()}this.refreshToolTip(),(o=this.cellCustomStyleFeature)===null||o===void 0||o.applyCellClassRules()}}},e.prototype.stopEditingAndFocus=function(t,n){t===void 0&&(t=!1),n===void 0&&(n=!1),this.stopRowOrCellEdit(),this.focusCell(!0),t||this.navigateAfterEdit(n)},e.prototype.navigateAfterEdit=function(t){var n=this.beans.gridOptionsService.get("enterNavigatesVerticallyAfterEdit");if(n){var r=t?F.UP:F.DOWN;this.beans.navigationService.navigateToNextCell(null,r,this.getCellPosition(),!1)}},e.prototype.flashCell=function(t){var n=t&&t.flashDelay,r=t&&t.fadeDelay;this.animateCell("data-changed",n,r)},e.prototype.animateCell=function(t,n,r){var o=this;if(this.cellComp){var s="ag-cell-".concat(t),a="ag-cell-".concat(t,"-animation"),l=this.beans.gridOptionsService;n||(n=l.get("cellFlashDelay")),W(r)||(r=l.get("cellFadeDelay")),this.cellComp.addOrRemoveCssClass(s,!0),this.cellComp.addOrRemoveCssClass(a,!1),this.beans.frameworkOverrides.wrapIncoming(function(){window.setTimeout(function(){o.isAlive()&&(o.cellComp.addOrRemoveCssClass(s,!1),o.cellComp.addOrRemoveCssClass(a,!0),o.eGui.style.transition="background-color ".concat(r,"ms"),window.setTimeout(function(){o.isAlive()&&(o.cellComp.addOrRemoveCssClass(a,!1),o.eGui.style.transition="")},r))},n)})}},e.prototype.onFlashCells=function(t){if(this.cellComp){var n=this.beans.cellPositionUtils.createId(this.getCellPosition()),r=t.cells[n];r&&this.animateCell("highlight")}},e.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},e.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},e.prototype.formatValue=function(t){var n;return(n=this.callValueFormatter(t))!==null&&n!==void 0?n:t},e.prototype.callValueFormatter=function(t){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,t)},e.prototype.updateAndFormatValue=function(t){var n=this.value,r=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),t?!this.valuesAreEqual(n,this.value)||this.valueFormatted!=r:!0},e.prototype.valuesAreEqual=function(t,n){var r=this.column.getColDef();return r.equals?r.equals(t,n):t===n},e.prototype.getComp=function(){return this.cellComp},e.prototype.getValue=function(){return this.value},e.prototype.getValueFormatted=function(){return this.valueFormatted},e.prototype.addDomData=function(){var t=this,n=this.getGui();this.beans.gridOptionsService.setDomData(n,e.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return t.beans.gridOptionsService.setDomData(n,e.DOM_DATA_KEY_CELL_CTRL,null)})},e.prototype.createEvent=function(t,n){var r=this.beans.gridOptionsService.addGridCommonParams({type:n,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex});return r},e.prototype.processCharacter=function(t){var n;(n=this.cellKeyboardListenerFeature)===null||n===void 0||n.processCharacter(t)},e.prototype.onKeyDown=function(t){var n;(n=this.cellKeyboardListenerFeature)===null||n===void 0||n.onKeyDown(t)},e.prototype.onMouseEvent=function(t,n){var r;(r=this.cellMouseListenerFeature)===null||r===void 0||r.onMouseEvent(t,n)},e.prototype.getGui=function(){return this.eGui},e.prototype.refreshToolTip=function(){var t;(t=this.tooltipFeature)===null||t===void 0||t.refreshToolTip()},e.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},e.prototype.onLeftChanged=function(){var t;this.cellComp&&((t=this.cellPositionFeature)===null||t===void 0||t.onLeftChanged())},e.prototype.onDisplayedColumnsChanged=function(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())},e.prototype.refreshFirstAndLastStyles=function(){var t=this,n=t.cellComp,r=t.column,o=t.beans;mS.refreshFirstAndLastStyles(n,r,o.columnModel)},e.prototype.refreshAriaColIndex=function(){var t=this.beans.columnModel.getAriaColumnIndex(this.column);xM(this.getGui(),t)},e.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},e.prototype.onWidthChanged=function(){var t;return(t=this.cellPositionFeature)===null||t===void 0?void 0:t.onWidthChanged()},e.prototype.getColumn=function(){return this.column},e.prototype.getRowNode=function(){return this.rowNode},e.prototype.getBeans=function(){return this.beans},e.prototype.isPrintLayout=function(){return this.printLayout},e.prototype.appendChild=function(t){this.eGui.appendChild(t)},e.prototype.refreshHandle=function(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},e.prototype.getCellPosition=function(){return this.cellPosition},e.prototype.isEditing=function(){return this.editing},e.prototype.startRowOrCellEdit=function(t,n){n===void 0&&(n=null),this.cellComp&&(this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(t,this):this.startEditing(t,!0,n))},e.prototype.getRowCtrl=function(){return this.rowCtrl},e.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},e.prototype.updateRangeBordersIfRangeCount=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},e.prototype.onRangeSelectionChanged=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},e.prototype.isRangeSelectionEnabled=function(){return this.cellRangeFeature!=null},e.prototype.focusCell=function(t){t===void 0&&(t=!1),this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:t})},e.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},e.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(Uhe,t)}},e.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(Whe,t)}},e.prototype.onCellFocused=function(t){if(!this.beans.gridOptionsService.get("suppressCellFocus")){var n=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){n&&t?.forceBrowserFocus&&(this.focusEventToRestore=t);return}if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(jhe,n),n&&t&&t.forceBrowserFocus){var r=this.cellComp.getFocusableElement();r.focus({preventScroll:!!t.preventScrollOnBrowserFocus})}var o=this.beans.gridOptionsService.get("editType")==="fullRow";!n&&!o&&this.editing&&this.stopRowOrCellEdit()}},e.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:Ss(this.rowNode.rowPinned),column:this.column}},e.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass(Hhe,!0),this.cellComp.addOrRemoveCssClass(zhe,!0);var t=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(Ghe,t),this.cellComp.addOrRemoveCssClass(Bhe,!t)},e.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsService.get("columnHoverHighlight")){var t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass($he,t)}},e.prototype.onColDefChanged=function(){var t,n;if(this.cellComp){var r=this.column.isAutoHeight();r!==this.isAutoHeight&&((t=this.rowCtrl)===null||t===void 0||t.refreshCell(this));var o=this.column.isTooltipEnabled();if(o?(this.disableTooltipFeature(),this.enableTooltipFeature(),(n=this.tooltipFeature)===null||n===void 0||n.setComp(this.eGui)):this.disableTooltipFeature(),this.setWrapText(),!this.editing)this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0});else{var s=this.getCellEditor();if(s?.refresh){var a=this.editCompDetails.params,l=a.eventKey,u=a.cellStartedEdit,c=this.createCellEditorParams(l,u),d=this.column.getColDef(),h=this.beans.userComponentFactory.getCellEditorDetails(d,c);s.refresh(h.params)}}}},e.prototype.setWrapText=function(){var t=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(qhe,t)},e.prototype.dispatchCellContextMenuEvent=function(t){var n=this.column.getColDef(),r=this.createEvent(t,w.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(r),n.onCellContextMenu&&window.setTimeout(function(){return n.onCellContextMenu(r)},0)},e.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},e.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},e.prototype.destroy=function(){this.onCellCompAttachedFuncs=[],i.prototype.destroy.call(this)},e.prototype.createSelectionCheckbox=function(){var t=new Fz;return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t},e.prototype.createDndSource=function(){var t=new Phe(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(t),t},e.prototype.registerRowDragger=function(t,n,r){var o=this;if(this.customRowDragComp){this.customRowDragComp.setDragElement(t,n);return}var s=this.createRowDragComp(t,n,r);s&&(this.customRowDragComp=s,this.addDestroyFunc(function(){o.beans.context.destroyBean(s),o.customRowDragComp=null}))},e.prototype.createRowDragComp=function(t,n,r){var o=this,s=this.beans.gridOptionsService.get("pagination"),a=this.beans.gridOptionsService.get("rowDragManaged"),l=this.beans.gridOptionsService.isRowModelType("clientSide");if(a){if(!l){Ae("managed row dragging is only allowed in the Client Side Row Model");return}if(s){Ae("managed row dragging is not possible when doing pagination");return}}var u=new Yw(function(){return o.value},this.rowNode,this.column,t,n,r);return this.beans.context.createBean(u),u},e.DOM_DATA_KEY_CELL_CTRL="cellCtrl",e}(Y),Khe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Qhe=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cx=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},wx=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},Sr=function(i){return i.Normal="Normal",i.FullWidth="FullWidth",i.FullWidthLoading="FullWidthLoading",i.FullWidthGroup="FullWidthGroup",i.FullWidthDetail="FullWidthDetail",i}(Sr||{}),Zhe=0,hc=function(i){Khe(e,i);function e(t,n,r,o,s){var a=i.call(this)||this;return a.allRowGuis=[],a.active=!0,a.centerCellCtrls={list:[],map:{}},a.leftCellCtrls={list:[],map:{}},a.rightCellCtrls={list:[],map:{}},a.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},a.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},a.rowDragComps=[],a.lastMouseDownOnDragger=!1,a.emptyStyle={},a.updateColumnListsPending=!1,a.rowId=null,a.businessKeySanitised=null,a.beans=n,a.gridOptionsService=n.gridOptionsService,a.rowNode=t,a.paginationPage=n.paginationProxy.getCurrentPage(),a.useAnimationFrameForCreate=o,a.printLayout=s,a.suppressRowTransform=a.gridOptionsService.get("suppressRowTransform"),a.instanceId=t.id+"-"+Zhe++,a.rowId=Cn(t.id),a.initRowBusinessKey(),a.rowFocused=n.focusService.isRowFocused(a.rowNode.rowIndex,a.rowNode.rowPinned),a.rowLevel=n.rowCssClassCalculator.calculateRowLevel(a.rowNode),a.setRowType(),a.setAnimateFlags(r),a.rowStyles=a.processStylesFromGridOptions(),a.isFullWidth()&&!a.gridOptionsService.get("suppressCellFocus")&&(a.tabIndex=-1),a.addListeners(),a}return e.prototype.initRowBusinessKey=function(){this.businessKeyForNodeFunc=this.gridOptionsService.get("getBusinessKeyForNode"),this.updateRowBusinessKey()},e.prototype.updateRowBusinessKey=function(){if(typeof this.businessKeyForNodeFunc=="function"){var t=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=Cn(t)}},e.prototype.getRowId=function(){return this.rowId},e.prototype.getRowStyles=function(){return this.rowStyles},e.prototype.getTabIndex=function(){return this.tabIndex},e.prototype.isSticky=function(){return this.rowNode.sticky},e.prototype.getBeans=function(){return this.beans},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.setComp=function(t,n,r){var o={rowComp:t,element:n,containerType:r};this.allRowGuis.push(o),r===Un.LEFT?this.leftGui=o:r===Un.RIGHT?this.rightGui=o:r===Un.FULL_WIDTH?this.fullWidthGui=o:this.centerGui=o,this.initialiseRowComp(o),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()},e.prototype.unsetComp=function(t){switch(this.allRowGuis=this.allRowGuis.filter(function(n){return n.containerType!==t}),t){case Un.LEFT:this.leftGui=void 0;break;case Un.RIGHT:this.rightGui=void 0;break;case Un.FULL_WIDTH:this.fullWidthGui=void 0;break;case Un.CENTER:this.centerGui=void 0;break}},e.prototype.isCacheable=function(){return this.rowType===Sr.FullWidthDetail&&this.gridOptionsService.get("keepDetailRows")},e.prototype.setCached=function(t){var n=t?"none":"";this.allRowGuis.forEach(function(r){return r.element.style.display=n})},e.prototype.initialiseRowComp=function(t){var n=this,r=this.gridOptionsService;this.listenOnDomOrder(t),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(!1,t),r.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);var o=t.rowComp,s=this.getInitialRowClasses(t.containerType);s.forEach(function(a){return o.addOrRemoveCssClass(a,!0)}),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&Oo(t.element,this.rowNode.expanded==!0),this.setRowCompRowId(o),this.setRowCompRowBusinessKey(o),r.setDomData(t.element,e.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(function(){return r.setDomData(t.element,e.DOM_DATA_KEY_ROW_CTRL,null)}),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t.element),this.isFullWidth()&&this.setupFullWidth(t),r.get("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(function(){n.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()},e.prototype.setRowCompRowBusinessKey=function(t){this.businessKeySanitised!=null&&t.setRowBusinessKey(this.businessKeySanitised)},e.prototype.getBusinessKey=function(){return this.businessKeySanitised},e.prototype.setRowCompRowId=function(t){this.rowId=Cn(this.rowNode.id),this.rowId!=null&&t.setRowId(this.rowId)},e.prototype.executeSlideAndFadeAnimations=function(t){var n=this,r=t.containerType,o=this.slideInAnimation[r];o&&(Jx(function(){n.onTopChanged()}),this.slideInAnimation[r]=!1);var s=this.fadeInAnimation[r];s&&(Jx(function(){t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[r]=!1)},e.prototype.addRowDraggerToRow=function(t){if(this.gridOptionsService.get("enableRangeSelection")){Ae("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`");return}var n=this.beans.localeService.getLocaleTextFunc(),r=new Yw(function(){return"1 ".concat(n("rowDragRow","row"))},this.rowNode,void 0,t.element,void 0,!0),o=this.createBean(r,this.beans.context);this.rowDragComps.push(o)},e.prototype.setupFullWidth=function(t){var n=this.getPinnedForContainer(t.containerType),r=this.createFullWidthParams(t.element,n);if(!(this.rowType==Sr.FullWidthDetail&&!mt.__assertRegistered(de.MasterDetailModule,"cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))){var o;switch(this.rowType){case Sr.FullWidthDetail:o=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(r);break;case Sr.FullWidthGroup:o=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(r);break;case Sr.FullWidthLoading:o=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(r);break;default:o=this.beans.userComponentFactory.getFullWidthCellRendererDetails(r);break}t.rowComp.showFullWidth(o)}},e.prototype.isPrintLayout=function(){return this.printLayout},e.prototype.getFullWidthCellRenderers=function(){var t,n;return this.gridOptionsService.get("embedFullWidthRows")?this.allRowGuis.map(function(r){var o;return(o=r?.rowComp)===null||o===void 0?void 0:o.getFullWidthCellRenderer()}):[(n=(t=this.fullWidthGui)===null||t===void 0?void 0:t.rowComp)===null||n===void 0?void 0:n.getFullWidthCellRenderer()]},e.prototype.getCellElement=function(t){var n=this.getCellCtrl(t);return n?n.getGui():null},e.prototype.executeProcessRowPostCreateFunc=function(){var t=this.gridOptionsService.getCallback("processRowPostCreate");if(!(!t||!this.areAllContainersReady())){var n={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};t(n)}},e.prototype.areAllContainersReady=function(){var t=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),n=!!this.centerGui,r=!!this.rightGui||!this.beans.columnModel.isPinningRight();return t&&n&&r},e.prototype.setRowType=function(){var t=this.rowNode.stub,n=this.rowNode.isFullWidthCell(),r=this.gridOptionsService.get("masterDetail")&&this.rowNode.detail,o=this.beans.columnModel.isPivotMode(),s=!!this.rowNode.group&&!this.rowNode.footer,a=s&&this.gridOptionsService.isGroupUseEntireRow(o);t?this.rowType=Sr.FullWidthLoading:r?this.rowType=Sr.FullWidthDetail:n?this.rowType=Sr.FullWidth:a?this.rowType=Sr.FullWidthGroup:this.rowType=Sr.Normal},e.prototype.updateColumnLists=function(t,n){var r=this;if(t===void 0&&(t=!1),n===void 0&&(n=!1),!this.isFullWidth()){var o=t||this.gridOptionsService.get("suppressAnimationFrame")||this.printLayout;if(o){this.updateColumnListsImpl(n);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){r.active&&r.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},e.prototype.createCellCtrls=function(t,n,r){var o=this;r===void 0&&(r=null);var s={list:[],map:{}},a=function(l,u){s.list.push(u),s.map[l]=u};return n.forEach(function(l){var u=l.getInstanceId(),c=t.map[u];c||(c=new dc(l,o.rowNode,o.beans,o)),a(u,c)}),t.list.forEach(function(l){var u=s.map[l.getColumn().getInstanceId()]!=null;if(!u){var c=!o.isCellEligibleToBeRemoved(l,r);if(c){a(l.getColumn().getInstanceId(),l);return}l.destroy()}}),s},e.prototype.updateColumnListsImpl=function(t){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(t)},e.prototype.setCellCtrls=function(t){var n=this;this.allRowGuis.forEach(function(r){var o=n.getCellCtrlsForContainer(r.containerType);r.rowComp.setCellCtrls(o,t)})},e.prototype.getCellCtrlsForContainer=function(t){switch(t){case Un.LEFT:return this.leftCellCtrls.list;case Un.RIGHT:return this.rightCellCtrls.list;case Un.FULL_WIDTH:return[];case Un.CENTER:return this.centerCellCtrls.list;default:var n=t;throw new Error("Unhandled case: ".concat(n))}},e.prototype.createAllCellCtrls=function(){var t=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var n=t.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);var r=t.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,"left");var o=t.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,o,"right")}},e.prototype.isCellEligibleToBeRemoved=function(t,n){var r=!0,o=!1,s=t.getColumn();if(s.getPinned()!=n)return r;var a=t.isEditing(),l=this.beans.focusService.isCellFocused(t.getCellPosition()),u=a||l;if(u){var c=t.getColumn(),d=this.beans.columnModel.getAllDisplayedColumns(),h=d.indexOf(c)>=0;return h?o:r}return r},e.prototype.getDomOrder=function(){var t=this.gridOptionsService.get("ensureDomOrder");return t||this.gridOptionsService.isDomLayout("print")},e.prototype.listenOnDomOrder=function(t){var n=this,r=function(){t.rowComp.setDomOrder(n.getDomOrder())};this.addManagedPropertyListener("domLayout",r),this.addManagedPropertyListener("ensureDomOrder",r)},e.prototype.setAnimateFlags=function(t){if(!(this.isSticky()||!t)){var n=W(this.rowNode.oldRowTop),r=this.beans.columnModel.isPinningLeft(),o=this.beans.columnModel.isPinningRight();if(n){if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=r,this.slideInAnimation.right=o}else{if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=r,this.fadeInAnimation.right=o}}},e.prototype.isEditing=function(){return this.editingRow},e.prototype.isFullWidth=function(){return this.rowType!==Sr.Normal},e.prototype.getRowType=function(){return this.rowType},e.prototype.refreshFullWidth=function(){var t=this,n=function(u,c){return u?u.rowComp.refreshFullWidth(function(){return t.createFullWidthParams(u.element,c)}):!0},r=n(this.fullWidthGui,null),o=n(this.centerGui,null),s=n(this.leftGui,"left"),a=n(this.rightGui,"right"),l=r&&o&&s&&a;return l},e.prototype.addListeners=function(){var t=this;this.addManagedListener(this.rowNode,ke.EVENT_HEIGHT_CHANGED,function(){return t.onRowHeightChanged()}),this.addManagedListener(this.rowNode,ke.EVENT_ROW_SELECTED,function(){return t.onRowSelected()}),this.addManagedListener(this.rowNode,ke.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,ke.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,ke.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,ke.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.rowNode.detail&&this.addManagedListener(this.rowNode.parent,ke.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,ke.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,ke.EVENT_CELL_CHANGED,this.postProcessCss.bind(this)),this.addManagedListener(this.rowNode,ke.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,ke.EVENT_DRAGGING_CHANGED,this.postProcessRowDragging.bind(this)),this.addManagedListener(this.rowNode,ke.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var n=this.beans.eventService;this.addManagedListener(n,w.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(n,w.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(n,w.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(n,w.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(n,w.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(n,w.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusChanged.bind(this)),this.addManagedListener(n,w.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(n,w.EVENT_MODEL_UPDATED,this.refreshFirstAndLastRowStyles.bind(this)),this.addManagedListener(n,w.EVENT_COLUMN_MOVED,this.updateColumnLists.bind(this)),this.addDestroyFunc(function(){t.destroyBeans(t.rowDragComps,t.beans.context)}),this.addManagedPropertyListeners(["rowDragEntireRow"],function(){var r=t.gridOptionsService.get("rowDragEntireRow");if(r){t.allRowGuis.forEach(function(o){t.addRowDraggerToRow(o)});return}t.destroyBeans(t.rowDragComps,t.beans.context),t.rowDragComps=[]}),this.addListenersForCellComps()},e.prototype.addListenersForCellComps=function(){var t=this;this.addManagedListener(this.rowNode,ke.EVENT_ROW_INDEX_CHANGED,function(){t.getAllCellCtrls().forEach(function(n){return n.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,ke.EVENT_CELL_CHANGED,function(n){t.getAllCellCtrls().forEach(function(r){return r.onCellChanged(n)})})},e.prototype.onRowNodeDataChanged=function(t){var n=this,r=this.isFullWidth()!==!!this.rowNode.isFullWidthCell();if(r){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){var o=this.refreshFullWidth();o||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(function(s){return s.refreshCell({suppressFlash:!t.update,newData:!t.update})}),this.allRowGuis.forEach(function(s){n.setRowCompRowId(s.rowComp),n.updateRowBusinessKey(),n.setRowCompRowBusinessKey(s.rowComp)}),this.onRowSelected(),this.postProcessCss()},e.prototype.postProcessCss=function(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},e.prototype.onRowNodeHighlightChanged=function(){var t=this.rowNode.highlighted;this.allRowGuis.forEach(function(n){var r=t===Ml.Above,o=t===Ml.Below;n.rowComp.addOrRemoveCssClass("ag-row-highlight-above",r),n.rowComp.addOrRemoveCssClass("ag-row-highlight-below",o)})},e.prototype.postProcessRowDragging=function(){var t=this.rowNode.dragging;this.allRowGuis.forEach(function(n){return n.rowComp.addOrRemoveCssClass("ag-row-dragging",t)})},e.prototype.updateExpandedCss=function(){var t=this.rowNode.isExpandable(),n=this.rowNode.expanded==!0;this.allRowGuis.forEach(function(r){r.rowComp.addOrRemoveCssClass("ag-row-group",t),r.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&n),r.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!n),Oo(r.element,t&&n)})},e.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},e.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists(!1,!0)},e.prototype.getRowPosition=function(){return{rowPinned:Ss(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},e.prototype.onKeyboardNavigate=function(t){var n=this.allRowGuis.find(function(u){return u.element.contains(t.target)}),r=n?n.element:null,o=r===t.target;if(o){var s=this.rowNode,a=this.beans.focusService.getFocusedCell(),l={rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:a&&a.column};this.beans.navigationService.navigateToNextCell(t,t.key,l,!0),t.preventDefault()}},e.prototype.onTabKeyDown=function(t){if(!(t.defaultPrevented||Mo(t))){var n=this.allRowGuis.find(function(a){return a.element.contains(t.target)}),r=n?n.element:null,o=r===t.target,s=null;o||(s=this.beans.focusService.findNextFocusableElement(r,!1,t.shiftKey)),(this.isFullWidth()&&o||!s)&&this.beans.navigationService.onTabKeyDown(this,t)}},e.prototype.onFullWidthRowFocused=function(t){var n,r=this.rowNode,o=t?this.isFullWidth()&&t.rowIndex===r.rowIndex&&t.rowPinned==r.rowPinned:!1,s=this.fullWidthGui?this.fullWidthGui.element:(n=this.centerGui)===null||n===void 0?void 0:n.element;s&&(s.classList.toggle("ag-full-width-focus",o),o&&s.focus({preventScroll:!0}))},e.prototype.refreshCell=function(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t),this.updateColumnLists()},e.prototype.removeCellCtrl=function(t,n){var r={list:[],map:{}};return t.list.forEach(function(o){o!==n&&(r.list.push(o),r.map[o.getInstanceId()]=o)}),r},e.prototype.onMouseEvent=function(t,n){switch(t){case"dblclick":this.onRowDblClick(n);break;case"click":this.onRowClick(n);break;case"touchstart":case"mousedown":this.onRowMouseDown(n);break}},e.prototype.createRowEvent=function(t,n){return this.gridOptionsService.addGridCommonParams({type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:n})},e.prototype.createRowEventWithSource=function(t,n){var r=this.createRowEvent(t,n);return r.source=this,r},e.prototype.onRowDblClick=function(t){if(!Mo(t)){var n=this.createRowEventWithSource(w.EVENT_ROW_DOUBLE_CLICKED,t);this.beans.eventService.dispatchEvent(n)}},e.prototype.onRowMouseDown=function(t){if(this.lastMouseDownOnDragger=uc(t.target,"ag-row-drag",3),!!this.isFullWidth()){var n=this.rowNode,r=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:n.rowIndex,column:r.getAllDisplayedColumns()[0],rowPinned:n.rowPinned,forceBrowserFocus:!0})}},e.prototype.onRowClick=function(t){var n=Mo(t)||this.lastMouseDownOnDragger;if(!n){var r=this.createRowEventWithSource(w.EVENT_ROW_CLICKED,t);this.beans.eventService.dispatchEvent(r);var o=t.ctrlKey||t.metaKey,s=t.shiftKey,a=this.gridOptionsService.get("groupSelectsChildren");if(!(a&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.gridOptionsService.isRowSelection()||this.gridOptionsService.get("suppressRowClickSelection"))){var l=this.gridOptionsService.get("rowMultiSelectWithClick"),u=!this.gridOptionsService.get("suppressRowDeselection"),c="rowClicked";if(this.rowNode.isSelected())l?this.rowNode.setSelectedParams({newValue:!1,event:t,source:c}):o?u&&this.rowNode.setSelectedParams({newValue:!1,event:t,source:c}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!s,rangeSelect:s,event:t,source:c});else{var d=l?!1:!o;this.rowNode.setSelectedParams({newValue:!0,clearSelection:d,rangeSelect:s,event:t,source:c})}}}},e.prototype.setupDetailRowAutoHeight=function(t){var n=this;if(this.rowType===Sr.FullWidthDetail&&this.gridOptionsService.get("detailRowAutoHeight")){var r=function(){var s=t.clientHeight;if(s!=null&&s>0){var a=function(){n.rowNode.setRowHeight(s),n.beans.clientSideRowModel?n.beans.clientSideRowModel.onRowHeightChanged():n.beans.serverSideRowModel&&n.beans.serverSideRowModel.onRowHeightChanged()};window.setTimeout(a,0)}},o=this.beans.resizeObserverService.observeResize(t,r);this.addDestroyFunc(o),r()}},e.prototype.createFullWidthParams=function(t,n){var r=this,o=this.gridOptionsService.addGridCommonParams({fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,eGridCell:t,eParentOfValue:t,pinned:n,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(s,a,l,u){return r.addFullWidthRowDragging(s,a,l,u)}});return o},e.prototype.addFullWidthRowDragging=function(t,n,r,o){if(r===void 0&&(r=""),!!this.isFullWidth()){var s=new Yw(function(){return r},this.rowNode,void 0,t,n,o);this.createManagedBean(s,this.beans.context)}},e.prototype.onUiLevelChanged=function(){var t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){var n="ag-row-level-"+t,r="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(o){o.rowComp.addOrRemoveCssClass(n,!0),o.rowComp.addOrRemoveCssClass(r,!1)})}this.rowLevel=t},e.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},e.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},e.prototype.refreshFirstAndLastRowStyles=function(){var t=this.isFirstRowOnPage(),n=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass("ag-row-first",t)})),this.lastRowOnPage!==n&&(this.lastRowOnPage=n,this.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass("ag-row-last",n)}))},e.prototype.stopEditing=function(t){var n,r;if(t===void 0&&(t=!1),!this.stoppingRowEdit){var o=this.getAllCellCtrls(),s=this.editingRow;this.stoppingRowEdit=!0;var a=!1;try{for(var l=Qhe(o),u=l.next();!u.done;u=l.next()){var c=u.value,d=c.stopEditing(t);s&&!t&&!a&&d&&(a=!0)}}catch(f){n={error:f}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}if(a){var h=this.createRowEvent(w.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(h)}s&&this.setEditingRow(!1),this.stoppingRowEdit=!1}},e.prototype.setInlineEditingCss=function(t){this.allRowGuis.forEach(function(n){n.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),n.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})},e.prototype.setEditingRow=function(t){this.editingRow=t,this.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass("ag-row-editing",t)});var n=t?this.createRowEvent(w.EVENT_ROW_EDITING_STARTED):this.createRowEvent(w.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(n)},e.prototype.startRowEditing=function(t,n,r){if(t===void 0&&(t=null),n===void 0&&(n=null),r===void 0&&(r=null),!this.editingRow){var o=this.getAllCellCtrls().reduce(function(s,a){var l=a===n;return l?a.startEditing(t,l,r):a.startEditing(null,l,r),s?!0:a.isEditing()},!1);o&&this.setEditingRow(!0)}},e.prototype.getAllCellCtrls=function(){if(this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0)return this.centerCellCtrls.list;var t=wx(wx(wx([],Cx(this.centerCellCtrls.list),!1),Cx(this.leftCellCtrls.list),!1),Cx(this.rightCellCtrls.list),!1);return t},e.prototype.postProcessClassesFromGridOptions=function(){var t=this,n=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!n||!n.length||n.forEach(function(r){t.allRowGuis.forEach(function(o){return o.rowComp.addOrRemoveCssClass(r,!0)})})},e.prototype.postProcessRowClassRules=function(){var t=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,function(n){t.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass(n,!0)})},function(n){t.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass(n,!1)})})},e.prototype.setStylesFromGridOptions=function(t,n){var r=this;t&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(n,function(o){return o.rowComp.setUserStyles(r.rowStyles)})},e.prototype.getPinnedForContainer=function(t){var n=t===Un.LEFT?"left":t===Un.RIGHT?"right":null;return n},e.prototype.getInitialRowClasses=function(t){var n=this.getPinnedForContainer(t),r={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[t],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:n};return this.beans.rowCssClassCalculator.getInitialRowClasses(r)},e.prototype.processStylesFromGridOptions=function(){var t=this.gridOptionsService.get("rowStyle");if(t&&typeof t=="function"){console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}var n=this.gridOptionsService.getCallback("getRowStyle"),r;if(n){var o={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};r=n(o)}return r||t?Object.assign({},t,r):this.emptyStyle},e.prototype.onRowSelected=function(t){var n=this,r=!!this.rowNode.isSelected();this.forEachGui(t,function(o){o.rowComp.addOrRemoveCssClass("ag-row-selected",r),Dh(o.element,r?!0:void 0);var s=n.createAriaLabel();ga(o.element,s??"")})},e.prototype.createAriaLabel=function(){var t=this.rowNode.isSelected();if(!(t&&this.gridOptionsService.get("suppressRowDeselection"))){var n=this.beans.localeService.getLocaleTextFunc(),r=n(t?"ariaRowDeselect":"ariaRowSelect","Press SPACE to ".concat(t?"deselect":"select"," this row."));return r}},e.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},e.prototype.addHoverFunctionality=function(t){var n=this;this.active&&(this.addManagedListener(t,"mouseenter",function(){return n.rowNode.onMouseEnter()}),this.addManagedListener(t,"mouseleave",function(){return n.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,ke.EVENT_MOUSE_ENTER,function(){!n.beans.dragService.isDragging()&&!n.gridOptionsService.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),n.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,ke.EVENT_MOUSE_LEAVE,function(){t.classList.remove("ag-row-hover"),n.rowNode.setHovered(!1)}))},e.prototype.roundRowTopToBounds=function(t){var n=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),r=this.applyPaginationOffset(n.top,!0)-100,o=this.applyPaginationOffset(n.bottom,!0)+100;return Math.min(Math.max(r,t),o)},e.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},e.prototype.forEachGui=function(t,n){t?n(t):this.allRowGuis.forEach(n)},e.prototype.onRowHeightChanged=function(t){if(this.rowNode.rowHeight!=null){var n=this.rowNode.rowHeight,r=this.beans.environment.getDefaultRowHeight(),o=this.gridOptionsService.isGetRowHeightFunction(),s=o?this.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,a=s?"".concat(Math.min(r,s)-2,"px"):void 0;this.forEachGui(t,function(l){l.element.style.height="".concat(n,"px"),a&&l.element.style.setProperty("--ag-line-height",a)})}},e.prototype.addEventListener=function(t,n){i.prototype.addEventListener.call(this,t,n)},e.prototype.removeEventListener=function(t,n){i.prototype.removeEventListener.call(this,t,n)},e.prototype.destroyFirstPass=function(t){if(t===void 0&&(t=!1),this.active=!1,!t&&this.gridOptionsService.isAnimateRows()&&!this.isSticky()){var n=this.rowNode.rowTop!=null;if(n){var r=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(r)}else this.allRowGuis.forEach(function(s){return s.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})}this.rowNode.setHovered(!1);var o=this.createRowEvent(w.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(o),this.beans.eventService.dispatchEvent(o),i.prototype.destroy.call(this)},e.prototype.destroySecondPass=function(){this.allRowGuis.length=0,this.stopEditing();var t=function(n){return n.list.forEach(function(r){return r.destroy()}),{list:[],map:{}}};this.centerCellCtrls=t(this.centerCellCtrls),this.leftCellCtrls=t(this.leftCellCtrls),this.rightCellCtrls=t(this.rightCellCtrls)},e.prototype.setFocusedClasses=function(t){var n=this;this.forEachGui(t,function(r){r.rowComp.addOrRemoveCssClass("ag-row-focus",n.rowFocused),r.rowComp.addOrRemoveCssClass("ag-row-no-focus",!n.rowFocused)})},e.prototype.onCellFocusChanged=function(){var t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses()),!t&&this.editingRow&&this.stopEditing(!1)},e.prototype.onPaginationChanged=function(){var t=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},e.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},e.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},e.prototype.applyPaginationOffset=function(t,n){if(n===void 0&&(n=!1),this.rowNode.isRowPinned()||this.rowNode.sticky)return t;var r=this.beans.paginationProxy.getPixelOffset(),o=n?1:-1;return t+r*o},e.prototype.setRowTop=function(t){if(!this.printLayout&&W(t)){var n=this.applyPaginationOffset(t),r=this.rowNode.isRowPinned()||this.rowNode.sticky,o=r?n:this.beans.rowContainerHeightService.getRealPixelPosition(n),s="".concat(o,"px");this.setRowTopStyle(s)}},e.prototype.getInitialRowTop=function(t){return this.suppressRowTransform?this.getInitialRowTopShared(t):void 0},e.prototype.getInitialTransform=function(t){return this.suppressRowTransform?void 0:"translateY(".concat(this.getInitialRowTopShared(t),")")},e.prototype.getInitialRowTopShared=function(t){if(this.printLayout)return"";var n;if(this.isSticky())n=this.rowNode.stickyRowTop;else{var r=this.slideInAnimation[t]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,o=this.applyPaginationOffset(r);n=this.rowNode.isRowPinned()?o:this.beans.rowContainerHeightService.getRealPixelPosition(o)}return n+"px"},e.prototype.setRowTopStyle=function(t){var n=this;this.allRowGuis.forEach(function(r){return n.suppressRowTransform?r.rowComp.setTop(t):r.rowComp.setTransform("translateY(".concat(t,")"))})},e.prototype.getRowNode=function(){return this.rowNode},e.prototype.getCellCtrl=function(t){var n=null;return this.getAllCellCtrls().forEach(function(r){r.getColumn()==t&&(n=r)}),n!=null||this.getAllCellCtrls().forEach(function(r){r.getColSpanningList().indexOf(t)>=0&&(n=r)}),n},e.prototype.onRowIndexChanged=function(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},e.prototype.getRowIndex=function(){return this.rowNode.getRowIndexString()},e.prototype.updateRowIndexes=function(t){var n=this.rowNode.getRowIndexString(),r=this.beans.headerNavigationService.getHeaderRowCount()+this.beans.filterManager.getHeaderRowCount(),o=this.rowNode.rowIndex%2===0,s=r+this.rowNode.rowIndex+1;this.forEachGui(t,function(a){a.rowComp.setRowIndex(n),a.rowComp.addOrRemoveCssClass("ag-row-even",o),a.rowComp.addOrRemoveCssClass("ag-row-odd",!o),OM(a.element,s)})},e.DOM_DATA_KEY_ROW_CTRL="renderedRow",e}(Y),Xhe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_r=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Jhe=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},efe=function(i){Xhe(e,i);function e(t){var n=i.call(this)||this;return n.element=t,n}return e.prototype.postConstruct=function(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()},e.prototype.addKeyboardListeners=function(){var t="keydown",n=this.processKeyboardEvent.bind(this,t);this.addManagedListener(this.element,t,n)},e.prototype.addMouseListeners=function(){var t=this,n=SM("touchstart")?"touchstart":"mousedown",r=["dblclick","contextmenu","mouseover","mouseout","click",n];r.forEach(function(o){var s=t.processMouseEvent.bind(t,o);t.addManagedListener(t.element,o,s)})},e.prototype.processMouseEvent=function(t,n){if(!(!this.mouseEventService.isEventFromThisGrid(n)||Mo(n))){var r=this.getRowForEvent(n),o=this.mouseEventService.getRenderedCellForEvent(n);t==="contextmenu"?this.handleContextMenuMouseEvent(n,null,r,o):(o&&o.onMouseEvent(t,n),r&&r.onMouseEvent(t,n))}},e.prototype.mockContextMenuForIPad=function(){var t=this;if(Fl()){var n=new Tr(this.element),r=function(o){var s=t.getRowForEvent(o.touchEvent),a=t.mouseEventService.getRenderedCellForEvent(o.touchEvent);t.handleContextMenuMouseEvent(null,o.touchEvent,s,a)};this.addManagedListener(n,Tr.EVENT_LONG_TAP,r),this.addDestroyFunc(function(){return n.destroy()})}},e.prototype.getRowForEvent=function(t){for(var n=t.target;n;){var r=this.gridOptionsService.getDomData(n,hc.DOM_DATA_KEY_ROW_CTRL);if(r)return r;n=n.parentElement}return null},e.prototype.handleContextMenuMouseEvent=function(t,n,r,o){var s=r?r.getRowNode():null,a=o?o.getColumn():null,l=null;if(a){var u=t||n;o.dispatchCellContextMenuEvent(u),l=this.valueService.getValue(a,s)}var c=this.ctrlsService.getGridBodyCtrl(),d=o?o.getGui():c.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(t,n,s,a,l,d)},e.prototype.getControlsForEventTarget=function(t){return{cellCtrl:Gw(this.gridOptionsService,t,dc.DOM_DATA_KEY_CELL_CTRL),rowCtrl:Gw(this.gridOptionsService,t,hc.DOM_DATA_KEY_ROW_CTRL)}},e.prototype.processKeyboardEvent=function(t,n){var r=this.getControlsForEventTarget(n.target),o=r.cellCtrl,s=r.rowCtrl;n.defaultPrevented||(o?this.processCellKeyboardEvent(o,t,n):s&&s.isFullWidth()&&this.processFullWidthRowKeyboardEvent(s,t,n))},e.prototype.processCellKeyboardEvent=function(t,n,r){var o=t.getRowNode(),s=t.getColumn(),a=t.isEditing(),l=!Ww(this.gridOptionsService,r,o,s,a);if(l&&n==="keydown"){var u=!a&&this.navigationService.handlePageScrollingKey(r);u||t.onKeyDown(r),this.doGridOperations(r,t.isEditing()),dS(r)&&t.processCharacter(r)}if(n==="keydown"){var c=t.createEvent(r,w.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(c)}},e.prototype.processFullWidthRowKeyboardEvent=function(t,n,r){var o=t.getRowNode(),s=this.focusService.getFocusedCell(),a=s&&s.column,l=!Ww(this.gridOptionsService,r,o,a,!1);if(l){var u=r.key;if(n==="keydown")switch(u){case F.PAGE_HOME:case F.PAGE_END:case F.PAGE_UP:case F.PAGE_DOWN:this.navigationService.handlePageScrollingKey(r,!0);break;case F.UP:case F.DOWN:t.onKeyboardNavigate(r);break;case F.TAB:t.onTabKeyDown(r);break}}if(n==="keydown"){var c=t.createRowEvent(w.EVENT_CELL_KEY_DOWN,r);this.eventService.dispatchEvent(c)}},e.prototype.doGridOperations=function(t,n){if(!(!t.ctrlKey&&!t.metaKey)&&!n&&this.mouseEventService.isEventFromThisGrid(t)){var r=cz(t);if(r===F.A)return this.onCtrlAndA(t);if(r===F.C)return this.onCtrlAndC(t);if(r===F.D)return this.onCtrlAndD(t);if(r===F.V)return this.onCtrlAndV(t);if(r===F.X)return this.onCtrlAndX(t);if(r===F.Y)return this.onCtrlAndY();if(r===F.Z)return this.onCtrlAndZ(t)}},e.prototype.onCtrlAndA=function(t){var n=this,r=n.pinnedRowModel,o=n.paginationProxy,s=n.rangeService;if(s&&o.isRowsToRender()){var a=Jhe([r.isEmpty("top"),r.isEmpty("bottom")],2),l=a[0],u=a[1],c=l?null:"top",d=void 0,h=void 0;u?(d=null,h=this.paginationProxy.getRowCount()-1):(d="bottom",h=r.getPinnedBottomRowData().length-1);var f=this.columnModel.getAllDisplayedColumns();if(Er(f))return;s.setCellRange({rowStartIndex:0,rowStartPinned:c,rowEndIndex:h,rowEndPinned:d,columnStart:f[0],columnEnd:dt(f)})}t.preventDefault()},e.prototype.onCtrlAndC=function(t){if(!(!this.clipboardService||this.gridOptionsService.get("enableCellTextSelection"))){var n=this.getControlsForEventTarget(t.target),r=n.cellCtrl,o=n.rowCtrl;r?.isEditing()||o?.isEditing()||(t.preventDefault(),this.clipboardService.copyToClipboard())}},e.prototype.onCtrlAndX=function(t){if(!(!this.clipboardService||this.gridOptionsService.get("enableCellTextSelection")||this.gridOptionsService.get("suppressCutToClipboard"))){var n=this.getControlsForEventTarget(t.target),r=n.cellCtrl,o=n.rowCtrl;r?.isEditing()||o?.isEditing()||(t.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}},e.prototype.onCtrlAndV=function(t){var n=this.getControlsForEventTarget(t.target),r=n.cellCtrl,o=n.rowCtrl;r?.isEditing()||o?.isEditing()||this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()},e.prototype.onCtrlAndD=function(t){this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),t.preventDefault()},e.prototype.onCtrlAndZ=function(t){this.gridOptionsService.get("undoRedoCellEditing")&&(t.preventDefault(),t.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))},e.prototype.onCtrlAndY=function(){this.undoRedoService.redo("ui")},_r([_("mouseEventService")],e.prototype,"mouseEventService",void 0),_r([_("valueService")],e.prototype,"valueService",void 0),_r([et("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),_r([_("ctrlsService")],e.prototype,"ctrlsService",void 0),_r([_("navigationService")],e.prototype,"navigationService",void 0),_r([_("focusService")],e.prototype,"focusService",void 0),_r([_("undoRedoService")],e.prototype,"undoRedoService",void 0),_r([_("columnModel")],e.prototype,"columnModel",void 0),_r([_("paginationProxy")],e.prototype,"paginationProxy",void 0),_r([_("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),_r([et("rangeService")],e.prototype,"rangeService",void 0),_r([et("clipboardService")],e.prototype,"clipboardService",void 0),_r([Z],e.prototype,"postConstruct",null),e}(Y),tfe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Cg=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},CU=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},wU=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},nfe=function(i){tfe(e,i);function e(t){var n=i.call(this)||this;return n.centerContainerCtrl=t,n}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl(),t.listenForResize()}),this.addManagedListener(this.eventService,w.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this)),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],function(){t.checkViewportAndScrolls()})},e.prototype.listenForResize=function(){var t=this,n=function(){return t.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(n),this.gridBodyCtrl.registerBodyViewportResizeListener(n)},e.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},e.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();var t=this.centerContainerCtrl.getCenterWidth();t!==this.centerWidth&&(this.centerWidth=t,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},e.prototype.keepPinnedColumnsNarrowerThanViewport=function(){var t=this.gridBodyCtrl.getBodyViewportElement(),n=gc(t);if(!(n<=50)){var r=this.getPinnedColumnsOverflowingViewport(n-50),o=this.gridOptionsService.getCallback("processUnpinnedColumns");if(r.length){if(o){var s={columns:r,viewportWidth:n};r=o(s)}this.columnModel.setColumnsPinned(r,null,"viewportSizeFeature")}}},e.prototype.getPinnedColumnsOverflowingViewport=function(t){var n=this.pinnedWidthService.getPinnedRightWidth(),r=this.pinnedWidthService.getPinnedLeftWidth(),o=n+r;if(o<t)return[];for(var s=wU([],CU(this.columnModel.getDisplayedLeftColumns()),!1),a=wU([],CU(this.columnModel.getDisplayedRightColumns()),!1),l=0,u=0,c=0,d=[],h=o-c-t;(u<s.length||l<a.length)&&h>0;){if(l<a.length){var f=a[l++];h-=f.getActualWidth(),d.push(f)}if(u<s.length&&h>0){var f=s[u++];h-=f.getActualWidth(),d.push(f)}}return d},e.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},e.prototype.getBodyHeight=function(){return this.bodyHeight},e.prototype.checkBodyHeight=function(){var t=this.gridBodyCtrl.getBodyViewportElement(),n=sm(t);if(this.bodyHeight!==n){this.bodyHeight=n;var r={type:w.EVENT_BODY_HEIGHT_CHANGED};this.eventService.dispatchEvent(r)}},e.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},e.prototype.updateScrollVisibleServiceImpl=function(){var t={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(t)},e.prototype.isHorizontalScrollShowing=function(){return this.centerContainerCtrl.isHorizontalScrollShowing()},e.prototype.onHorizontalViewportChanged=function(){var t=this.centerContainerCtrl.getCenterWidth(),n=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(t,n)},Cg([_("ctrlsService")],e.prototype,"ctrlsService",void 0),Cg([_("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),Cg([_("columnModel")],e.prototype,"columnModel",void 0),Cg([_("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),Cg([Z],e.prototype,"postConstruct",null),e}(Y),ife=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),SU=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},rfe=function(i){ife(e,i);function e(t){var n=i.call(this)||this;return n.element=t,n}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,w.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},e.prototype.onPinnedLeftWidthChanged=function(){var t=this.pinnedWidthService.getPinnedLeftWidth(),n=t>0;tt(this.element,n),io(this.element,t)},e.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedLeftWidth()},SU([_("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),SU([Z],e.prototype,"postConstruct",null),e}(Y),ofe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),bU=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},sfe=function(i){ofe(e,i);function e(t){var n=i.call(this)||this;return n.element=t,n}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,w.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},e.prototype.onPinnedRightWidthChanged=function(){var t=this.pinnedWidthService.getPinnedRightWidth(),n=t>0;tt(this.element,n),io(this.element,t)},e.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedRightWidth()},bU([_("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),bU([Z],e.prototype,"postConstruct",null),e}(Y),afe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),EU=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Bz=function(i){afe(e,i);function e(t,n){var r=i.call(this)||this;return r.eContainer=t,r.eViewport=n,r}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,w.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},e.prototype.onHeightChanged=function(){var t=this.maxDivHeightScaler.getUiContainerHeight(),n=t!=null?"".concat(t,"px"):"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)},EU([_("rowContainerHeightService")],e.prototype,"maxDivHeightScaler",void 0),EU([Z],e.prototype,"postConstruct",null),e}(Y),lfe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Sx=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ufe=function(i){lfe(e,i);function e(t){var n=i.call(this)||this;return n.eContainer=t,n}return e.prototype.postConstruct=function(){var t=this;if(!me(this.rangeService)){this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListener("enableRangeSelection",function(r){var o=r.currentValue;if(o){t.enableFeature();return}t.disableFeature()}),this.addDestroyFunc(function(){return t.disableFeature()});var n=this.gridOptionsService.get("enableRangeSelection");n&&this.enableFeature()}},e.prototype.enableFeature=function(){this.dragService.addDragSource(this.params)},e.prototype.disableFeature=function(){this.dragService.removeDragSource(this.params)},Sx([et("rangeService")],e.prototype,"rangeService",void 0),Sx([_("dragService")],e.prototype,"dragService",void 0),Sx([Z],e.prototype,"postConstruct",null),e}(Y),cfe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),bx=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},rI=function(i){cfe(e,i);function e(t,n){n===void 0&&(n=!1);var r=i.call(this)||this;return r.callback=t,r.addSpacer=n,r}return e.prototype.postConstruct=function(){var t=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",t),this.addManagedListener(this.eventService,w.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,w.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,w.EVENT_LEFT_PINNED_WIDTH_CHANGED,t),this.addSpacer&&(this.addManagedListener(this.eventService,w.EVENT_RIGHT_PINNED_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,w.EVENT_SCROLL_VISIBILITY_CHANGED,t),this.addManagedListener(this.eventService,w.EVENT_SCROLLBAR_WIDTH_CHANGED,t)),this.setWidth()},e.prototype.setWidth=function(){var t=this.columnModel,n=this.gridOptionsService.isDomLayout("print"),r=t.getBodyContainerWidth(),o=t.getDisplayedColumnsLeftWidth(),s=t.getDisplayedColumnsRightWidth(),a;if(n)a=r+o+s;else if(a=r,this.addSpacer){var l=this.gridOptionsService.get("enableRtl")?o:s;l===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(a+=this.gridOptionsService.getScrollbarWidth())}this.callback(a)},bx([_("columnModel")],e.prototype,"columnModel",void 0),bx([_("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),bx([Z],e.prototype,"postConstruct",null),e}(Y),dfe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fh=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},pw=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},gw=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},B=function(i){return i.LEFT="left",i.RIGHT="right",i.CENTER="center",i.FULL_WIDTH="fullWidth",i.TOP_LEFT="topLeft",i.TOP_RIGHT="topRight",i.TOP_CENTER="topCenter",i.TOP_FULL_WIDTH="topFullWidth",i.STICKY_TOP_LEFT="stickyTopLeft",i.STICKY_TOP_RIGHT="stickyTopRight",i.STICKY_TOP_CENTER="stickyTopCenter",i.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",i.BOTTOM_LEFT="bottomLeft",i.BOTTOM_RIGHT="bottomRight",i.BOTTOM_CENTER="bottomCenter",i.BOTTOM_FULL_WIDTH="bottomFullWidth",i}(B||{}),Un=function(i){return i.LEFT="left",i.RIGHT="right",i.CENTER="center",i.FULL_WIDTH="fullWidth",i}(Un||{});function hfe(i){switch(i){case B.CENTER:case B.TOP_CENTER:case B.STICKY_TOP_CENTER:case B.BOTTOM_CENTER:return Un.CENTER;case B.LEFT:case B.TOP_LEFT:case B.STICKY_TOP_LEFT:case B.BOTTOM_LEFT:return Un.LEFT;case B.RIGHT:case B.TOP_RIGHT:case B.STICKY_TOP_RIGHT:case B.BOTTOM_RIGHT:return Un.RIGHT;case B.FULL_WIDTH:case B.TOP_FULL_WIDTH:case B.STICKY_TOP_FULL_WIDTH:case B.BOTTOM_FULL_WIDTH:return Un.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}var ffe=Al([[B.CENTER,"ag-center-cols-container"],[B.LEFT,"ag-pinned-left-cols-container"],[B.RIGHT,"ag-pinned-right-cols-container"],[B.FULL_WIDTH,"ag-full-width-container"],[B.TOP_CENTER,"ag-floating-top-container"],[B.TOP_LEFT,"ag-pinned-left-floating-top"],[B.TOP_RIGHT,"ag-pinned-right-floating-top"],[B.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[B.STICKY_TOP_CENTER,"ag-sticky-top-container"],[B.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[B.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[B.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[B.BOTTOM_CENTER,"ag-floating-bottom-container"],[B.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[B.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[B.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),pfe=Al([[B.CENTER,"ag-center-cols-viewport"],[B.TOP_CENTER,"ag-floating-top-viewport"],[B.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[B.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),jz=function(i){dfe(e,i);function e(t){var n=i.call(this)||this;return n.visible=!0,n.EMPTY_CTRLS=[],n.name=t,n.isFullWithContainer=n.name===B.TOP_FULL_WIDTH||n.name===B.STICKY_TOP_FULL_WIDTH||n.name===B.BOTTOM_FULL_WIDTH||n.name===B.FULL_WIDTH,n}return e.getRowContainerCssClasses=function(t){var n=ffe.get(t),r=pfe.get(t);return{container:n,viewport:r}},e.getPinned=function(t){switch(t){case B.BOTTOM_LEFT:case B.TOP_LEFT:case B.STICKY_TOP_LEFT:case B.LEFT:return"left";case B.BOTTOM_RIGHT:case B.TOP_RIGHT:case B.STICKY_TOP_RIGHT:case B.RIGHT:return"right";default:return null}},e.prototype.postConstruct=function(){var t=this;this.enableRtl=this.gridOptionsService.get("enableRtl"),this.forContainers([B.CENTER],function(){return t.viewportSizeFeature=t.createManagedBean(new nfe(t))})},e.prototype.registerWithCtrlsService=function(){switch(this.name){case B.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case B.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case B.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case B.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case B.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case B.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case B.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case B.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case B.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case B.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case B.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case B.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this);break}},e.prototype.forContainers=function(t,n){t.indexOf(this.name)>=0&&n()},e.prototype.getContainerElement=function(){return this.eContainer},e.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},e.prototype.setComp=function(t,n,r){var o=this;this.comp=t,this.eContainer=n,this.eViewport=r,this.createManagedBean(new efe(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var s=[B.TOP_CENTER,B.TOP_LEFT,B.TOP_RIGHT],a=[B.STICKY_TOP_CENTER,B.STICKY_TOP_LEFT,B.STICKY_TOP_RIGHT],l=[B.BOTTOM_CENTER,B.BOTTOM_LEFT,B.BOTTOM_RIGHT],u=[B.CENTER,B.LEFT,B.RIGHT],c=gw(gw(gw(gw([],pw(s),!1),pw(l),!1),pw(u),!1),pw(a),!1),d=[B.CENTER,B.LEFT,B.RIGHT,B.FULL_WIDTH],h=[B.CENTER,B.TOP_CENTER,B.STICKY_TOP_CENTER,B.BOTTOM_CENTER],f=[B.LEFT,B.BOTTOM_LEFT,B.TOP_LEFT,B.STICKY_TOP_LEFT],p=[B.RIGHT,B.BOTTOM_RIGHT,B.TOP_RIGHT,B.STICKY_TOP_RIGHT];this.forContainers(f,function(){o.pinnedWidthFeature=o.createManagedBean(new rfe(o.eContainer)),o.addManagedListener(o.eventService,w.EVENT_LEFT_PINNED_WIDTH_CHANGED,function(){return o.onPinnedWidthChanged()})}),this.forContainers(p,function(){o.pinnedWidthFeature=o.createManagedBean(new sfe(o.eContainer)),o.addManagedListener(o.eventService,w.EVENT_RIGHT_PINNED_WIDTH_CHANGED,function(){return o.onPinnedWidthChanged()})}),this.forContainers(d,function(){return o.createManagedBean(new Bz(o.eContainer,o.name===B.CENTER?r:void 0))}),this.forContainers(c,function(){return o.createManagedBean(new ufe(o.eContainer))}),this.forContainers(h,function(){return o.createManagedBean(new rI(function(g){return o.comp.setContainerWidth("".concat(g,"px"))}))}),this.addListeners(),this.registerWithCtrlsService()},e.prototype.addListeners=function(){var t=this;this.addManagedListener(this.eventService,w.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return t.onDisplayedColumnsChanged()}),this.addManagedListener(this.eventService,w.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){return t.onDisplayedColumnsWidthChanged()}),this.addManagedListener(this.eventService,w.EVENT_DISPLAYED_ROWS_CHANGED,function(n){return t.onDisplayedRowsChanged(n.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},e.prototype.listenOnDomOrder=function(){var t=this,n=[B.STICKY_TOP_CENTER,B.STICKY_TOP_LEFT,B.STICKY_TOP_RIGHT,B.STICKY_TOP_FULL_WIDTH],r=n.indexOf(this.name)>=0;if(r){this.comp.setDomOrder(!0);return}var o=function(){var s=t.gridOptionsService.get("ensureDomOrder"),a=t.gridOptionsService.isDomLayout("print");t.comp.setDomOrder(s||a)};this.addManagedPropertyListener("domLayout",o),o()},e.prototype.stopHScrollOnPinnedRows=function(){var t=this;this.forContainers([B.TOP_CENTER,B.STICKY_TOP_CENTER,B.BOTTOM_CENTER],function(){var n=function(){return t.eViewport.scrollLeft=0};t.addManagedListener(t.eViewport,"scroll",n)})},e.prototype.onDisplayedColumnsChanged=function(){var t=this;this.forContainers([B.CENTER],function(){return t.onHorizontalViewportChanged()})},e.prototype.onDisplayedColumnsWidthChanged=function(){var t=this;this.forContainers([B.CENTER],function(){return t.onHorizontalViewportChanged()})},e.prototype.addPreventScrollWhileDragging=function(){var t=this,n=function(r){t.dragService.isDragging()&&r.cancelable&&r.preventDefault()};this.eContainer.addEventListener("touchmove",n,{passive:!1}),this.addDestroyFunc(function(){return t.eContainer.removeEventListener("touchmove",n)})},e.prototype.onHorizontalViewportChanged=function(t){t===void 0&&(t=!1);var n=this.getCenterWidth(),r=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(n,r,t)},e.prototype.getCenterWidth=function(){return gc(this.eViewport)},e.prototype.getCenterViewportScrollLeft=function(){return em(this.eViewport,this.enableRtl)},e.prototype.registerViewportResizeListener=function(t){var n=this.resizeObserverService.observeResize(this.eViewport,t);this.addDestroyFunc(function(){return n()})},e.prototype.isViewportInTheDOMTree=function(){return jM(this.eViewport)},e.prototype.getViewportScrollLeft=function(){return em(this.eViewport,this.enableRtl)},e.prototype.isHorizontalScrollShowing=function(){var t=this.gridOptionsService.get("alwaysShowHorizontalScroll");return t||iz(this.eViewport)},e.prototype.getViewportElement=function(){return this.eViewport},e.prototype.setContainerTranslateX=function(t){this.eContainer.style.transform="translateX(".concat(t,"px)")},e.prototype.getHScrollPosition=function(){var t={left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth};return t},e.prototype.setCenterViewportScrollLeft=function(t){tm(this.eViewport,t,this.enableRtl)},e.prototype.isContainerVisible=function(){var t=e.getPinned(this.name);return!t||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0},e.prototype.onPinnedWidthChanged=function(){var t=this.isContainerVisible();this.visible!=t&&(this.visible=t,this.onDisplayedRowsChanged())},e.prototype.onDisplayedRowsChanged=function(t){var n=this;if(t===void 0&&(t=!1),!this.visible){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}var r=this.gridOptionsService.isDomLayout("print"),o=this.gridOptionsService.get("embedFullWidthRows"),s=o||r,a=this.getRowCtrls().filter(function(l){var u=l.isFullWidth(),c=n.isFullWithContainer?!s&&u:s||!u;return c});this.comp.setRowCtrls({rowCtrls:a,useFlushSync:t})},e.prototype.getRowCtrls=function(){switch(this.name){case B.TOP_CENTER:case B.TOP_LEFT:case B.TOP_RIGHT:case B.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case B.STICKY_TOP_CENTER:case B.STICKY_TOP_LEFT:case B.STICKY_TOP_RIGHT:case B.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case B.BOTTOM_CENTER:case B.BOTTOM_LEFT:case B.BOTTOM_RIGHT:case B.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getCentreRowCtrls()}},fh([_("dragService")],e.prototype,"dragService",void 0),fh([_("ctrlsService")],e.prototype,"ctrlsService",void 0),fh([_("columnModel")],e.prototype,"columnModel",void 0),fh([_("resizeObserverService")],e.prototype,"resizeObserverService",void 0),fh([_("rowRenderer")],e.prototype,"rowRenderer",void 0),fh([Z],e.prototype,"postConstruct",null),e}(Y),gfe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ua=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},mfe=`<div class="ag-root ag-unselectable" role="treegrid">
        <ag-header-root ref="gridHeader"></ag-header-root>
        <div class="ag-floating-top" ref="eTop" role="presentation">
            <ag-row-container ref="topLeftContainer" name="`.concat(B.TOP_LEFT,`"></ag-row-container>
            <ag-row-container ref="topCenterContainer" name="`).concat(B.TOP_CENTER,`"></ag-row-container>
            <ag-row-container ref="topRightContainer" name="`).concat(B.TOP_RIGHT,`"></ag-row-container>
            <ag-row-container ref="topFullWidthContainer" name="`).concat(B.TOP_FULL_WIDTH,`"></ag-row-container>
        </div>
        <div class="ag-body" ref="eBody" role="presentation">
            <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">
                <ag-row-container ref="leftContainer" name="`).concat(B.LEFT,`"></ag-row-container>
                <ag-row-container ref="centerContainer" name="`).concat(B.CENTER,`"></ag-row-container>
                <ag-row-container ref="rightContainer" name="`).concat(B.RIGHT,`"></ag-row-container>
                <ag-row-container ref="fullWidthContainer" name="`).concat(B.FULL_WIDTH,`"></ag-row-container>
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">
            <ag-row-container ref="stickyTopLeftContainer" name="`).concat(B.STICKY_TOP_LEFT,`"></ag-row-container>
            <ag-row-container ref="stickyTopCenterContainer" name="`).concat(B.STICKY_TOP_CENTER,`"></ag-row-container>
            <ag-row-container ref="stickyTopRightContainer" name="`).concat(B.STICKY_TOP_RIGHT,`"></ag-row-container>
            <ag-row-container ref="stickyTopFullWidthContainer" name="`).concat(B.STICKY_TOP_FULL_WIDTH,`"></ag-row-container>
        </div>
        <div class="ag-floating-bottom" ref="eBottom" role="presentation">
            <ag-row-container ref="bottomLeftContainer" name="`).concat(B.BOTTOM_LEFT,`"></ag-row-container>
            <ag-row-container ref="bottomCenterContainer" name="`).concat(B.BOTTOM_CENTER,`"></ag-row-container>
            <ag-row-container ref="bottomRightContainer" name="`).concat(B.BOTTOM_RIGHT,`"></ag-row-container>
            <ag-row-container ref="bottomFullWidthContainer" name="`).concat(B.BOTTOM_FULL_WIDTH,`"></ag-row-container>
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`),vfe=function(i){gfe(e,i);function e(){return i.call(this,mfe)||this}return e.prototype.init=function(){var t=this,n=function(o,s){var a="".concat(o,"px");s.style.minHeight=a,s.style.height=a},r={setRowAnimationCssOnBodyViewport:function(o,s){return t.setRowAnimationCssOnBodyViewport(o,s)},setColumnCount:function(o){return WW(t.getGui(),o)},setRowCount:function(o){return UW(t.getGui(),o)},setTopHeight:function(o){return n(o,t.eTop)},setBottomHeight:function(o){return n(o,t.eBottom)},setTopDisplay:function(o){return t.eTop.style.display=o},setBottomDisplay:function(o){return t.eBottom.style.display=o},setStickyTopHeight:function(o){return t.eStickyTop.style.height=o},setStickyTopTop:function(o){return t.eStickyTop.style.top=o},setStickyTopWidth:function(o){return t.eStickyTop.style.width=o},setColumnMovingCss:function(o,s){return t.addOrRemoveCssClass(o,s)},updateLayoutClasses:function(o,s){var a=[t.eBodyViewport.classList,t.eBody.classList];a.forEach(function(l){l.toggle(Mn.AUTO_HEIGHT,s.autoHeight),l.toggle(Mn.NORMAL,s.normal),l.toggle(Mn.PRINT,s.print)}),t.addOrRemoveCssClass(Mn.AUTO_HEIGHT,s.autoHeight),t.addOrRemoveCssClass(Mn.NORMAL,s.normal),t.addOrRemoveCssClass(Mn.PRINT,s.print)},setAlwaysVerticalScrollClass:function(o,s){return t.eBodyViewport.classList.toggle(Hz,s)},registerBodyViewportResizeListener:function(o){var s=t.resizeObserverService.observeResize(t.eBodyViewport,o);t.addDestroyFunc(function(){return s()})},setPinnedTopBottomOverflowY:function(o){return t.eTop.style.overflowY=t.eBottom.style.overflowY=o},setCellSelectableCss:function(o,s){[t.eTop,t.eBodyViewport,t.eBottom].forEach(function(a){return a.classList.toggle(o,s)})},setBodyViewportWidth:function(o){return t.eBodyViewport.style.width=o}};this.ctrl=this.createManagedBean(new hhe),this.ctrl.setComp(r,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService&&this.gridOptionsService.get("enableRangeSelection")||this.gridOptionsService.get("rowSelection")==="multiple")&&jW(this.getGui(),!0)},e.prototype.setRowAnimationCssOnBodyViewport=function(t,n){var r=this.eBodyViewport.classList;r.toggle(rm.ANIMATION_ON,n),r.toggle(rm.ANIMATION_OFF,!n)},e.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},ua([_("resizeObserverService")],e.prototype,"resizeObserverService",void 0),ua([et("rangeService")],e.prototype,"rangeService",void 0),ua([J("eBodyViewport")],e.prototype,"eBodyViewport",void 0),ua([J("eStickyTop")],e.prototype,"eStickyTop",void 0),ua([J("eTop")],e.prototype,"eTop",void 0),ua([J("eBottom")],e.prototype,"eBottom",void 0),ua([J("gridHeader")],e.prototype,"headerRootComp",void 0),ua([J("eBody")],e.prototype,"eBody",void 0),ua([Z],e.prototype,"init",null),e}(Fe),yfe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ex=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},_fe=function(i){yfe(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,w.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,w.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},e.prototype.onDisplayedColumnsChanged=function(){this.update()},e.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},e.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},e.prototype.updateImpl=function(){var t=this.ctrlsService.getCenterRowContainerCtrl();if(t){var n={horizontalScrollShowing:t.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(n)}},e.prototype.setScrollsVisible=function(t){var n=this.horizontalScrollShowing!==t.horizontalScrollShowing||this.verticalScrollShowing!==t.verticalScrollShowing;if(n){this.horizontalScrollShowing=t.horizontalScrollShowing,this.verticalScrollShowing=t.verticalScrollShowing;var r={type:w.EVENT_SCROLL_VISIBILITY_CHANGED};this.eventService.dispatchEvent(r)}},e.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},e.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},Ex([_("ctrlsService")],e.prototype,"ctrlsService",void 0),Ex([Z],e.prototype,"postConstruct",null),e=Ex([ne("scrollVisibleService")],e),e}(Y),Cfe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),DU=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},wfe=function(i){Cfe(e,i);function e(){var n=i!==null&&i.apply(this,arguments)||this;return n.gridInstanceId=t.gridInstanceSequence.next(),n}t=e,e.prototype.stampTopLevelGridCompWithGridInstance=function(n){n[t.GRID_DOM_KEY]=this.gridInstanceId},e.prototype.getRenderedCellForEvent=function(n){return Gw(this.gridOptionsService,n.target,dc.DOM_DATA_KEY_CELL_CTRL)},e.prototype.isEventFromThisGrid=function(n){var r=this.isElementInThisGrid(n.target);return r},e.prototype.isElementInThisGrid=function(n){for(var r=n;r;){var o=r[t.GRID_DOM_KEY];if(W(o)){var s=o===this.gridInstanceId;return s}r=r.parentElement}return!1},e.prototype.getCellPositionForEvent=function(n){var r=this.getRenderedCellForEvent(n);return r?r.getCellPosition():null},e.prototype.getNormalisedPosition=function(n){var r=this.gridOptionsService.isDomLayout("normal"),o=n,s,a;if(o.clientX!=null||o.clientY!=null?(s=o.clientX,a=o.clientY):(s=o.x,a=o.y),r){var l=this.ctrlsService.getGridBodyCtrl(),u=l.getScrollFeature().getVScrollPosition(),c=l.getScrollFeature().getHScrollPosition();s+=c.left,a+=u.top}return{x:s,y:a}};var t;return e.gridInstanceSequence=new Rh,e.GRID_DOM_KEY="__ag_grid_instance",DU([_("ctrlsService")],e.prototype,"ctrlsService",void 0),e=t=DU([ne("mouseEventService")],e),e}(Y),Sfe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Xw=function(){return Xw=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},Xw.apply(this,arguments)},zi=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},bfe=function(i){Sfe(e,i);function e(){var t=i.call(this)||this;return t.onPageDown=eM(t.onPageDown,100),t.onPageUp=eM(t.onPageUp,100),t}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(n){t.gridBodyCon=n.gridBodyCtrl})},e.prototype.handlePageScrollingKey=function(t,n){n===void 0&&(n=!1);var r=t.key,o=t.altKey,s=t.ctrlKey||t.metaKey,a=!!this.rangeService&&t.shiftKey,l=this.mouseEventService.getCellPositionForEvent(t),u=!1;switch(r){case F.PAGE_HOME:case F.PAGE_END:!s&&!o&&(this.onHomeOrEndKey(r),u=!0);break;case F.LEFT:case F.RIGHT:case F.UP:case F.DOWN:if(!l)return!1;s&&!o&&!a&&(this.onCtrlUpDownLeftRight(r,l),u=!0);break;case F.PAGE_DOWN:case F.PAGE_UP:!s&&!o&&(u=this.handlePageUpDown(r,l,n));break}return u&&t.preventDefault(),u},e.prototype.handlePageUpDown=function(t,n,r){return r&&(n=this.focusService.getFocusedCell()),n?(t===F.PAGE_UP?this.onPageUp(n):this.onPageDown(n),!0):!1},e.prototype.navigateTo=function(t){var n=t.scrollIndex,r=t.scrollType,o=t.scrollColumn,s=t.focusIndex,a=t.focusColumn;if(W(o)&&!o.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(o),W(n)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(n,r),t.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(s),this.focusService.setFocusedCell({rowIndex:s,column:a,rowPinned:null,forceBrowserFocus:!0}),this.rangeService){var l={rowIndex:s,rowPinned:null,column:a};this.rangeService.setRangeToCell(l)}},e.prototype.onPageDown=function(t){var n=this.ctrlsService.getGridBodyCtrl(),r=n.getScrollFeature().getVScrollPosition(),o=this.getViewportHeight(),s=this.paginationProxy.getPixelOffset(),a=r.top+o,l=this.paginationProxy.getRowIndexAtPixel(a+s);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,l):this.navigateToNextPage(t,l)},e.prototype.onPageUp=function(t){var n=this.ctrlsService.getGridBodyCtrl(),r=n.getScrollFeature().getVScrollPosition(),o=this.paginationProxy.getPixelOffset(),s=r.top,a=this.paginationProxy.getRowIndexAtPixel(s+o);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,a,!0):this.navigateToNextPage(t,a,!0)},e.prototype.navigateToNextPage=function(t,n,r){r===void 0&&(r=!1);var o=this.getViewportHeight(),s=this.paginationProxy.getPageFirstRow(),a=this.paginationProxy.getPageLastRow(),l=this.paginationProxy.getPixelOffset(),u=this.paginationProxy.getRow(t.rowIndex),c=r?u?.rowHeight-o-l:o-l,d=u?.rowTop+c,h=this.paginationProxy.getRowIndexAtPixel(d+l);if(h===t.rowIndex){var f=r?-1:1;n=h=t.rowIndex+f}var p;r?(p="bottom",h<s&&(h=s),n<s&&(n=s)):(p="top",h>a&&(h=a),n>a&&(n=a)),this.isRowTallerThanView(h)&&(n=h,p="top"),this.navigateTo({scrollIndex:n,scrollType:p,scrollColumn:null,focusIndex:h,focusColumn:t.column})},e.prototype.navigateToNextPageWithAutoHeight=function(t,n,r){var o=this;r===void 0&&(r=!1),this.navigateTo({scrollIndex:n,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:t.column}),setTimeout(function(){var s=o.getNextFocusIndexForAutoHeight(t,r);o.navigateTo({scrollIndex:n,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:s,focusColumn:t.column,isAsync:!0})},50)},e.prototype.getNextFocusIndexForAutoHeight=function(t,n){var r;n===void 0&&(n=!1);for(var o=n?-1:1,s=this.getViewportHeight(),a=this.paginationProxy.getPageLastRow(),l=0,u=t.rowIndex;u>=0&&u<=a;){var c=this.paginationProxy.getRow(u);if(c){var d=(r=c.rowHeight)!==null&&r!==void 0?r:0;if(l+d>s)break;l+=d}u+=o}return Math.max(0,Math.min(u,a))},e.prototype.getViewportHeight=function(){var t=this.ctrlsService.getGridBodyCtrl(),n=t.getScrollFeature().getVScrollPosition(),r=this.gridOptionsService.getScrollbarWidth(),o=n.bottom-n.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(o-=r),o},e.prototype.isRowTallerThanView=function(t){var n=this.paginationProxy.getRow(t);if(!n)return!1;var r=n.rowHeight;return typeof r!="number"?!1:r>this.getViewportHeight()},e.prototype.onCtrlUpDownLeftRight=function(t,n){var r=this.cellNavigationService.getNextCellToFocus(t,n,!0),o=r.rowIndex,s=r.column;this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:s,focusIndex:o,focusColumn:s})},e.prototype.onHomeOrEndKey=function(t){var n=t===F.PAGE_HOME,r=this.columnModel.getAllDisplayedColumns(),o=n?r[0]:dt(r),s=n?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:o,focusIndex:s,focusColumn:o})},e.prototype.onTabKeyDown=function(t,n){var r=n.shiftKey,o=this.tabToNextCellCommon(t,r,n);if(o){n.preventDefault();return}if(r){var s=t.getRowPosition(),a=s.rowIndex,l=s.rowPinned,u=l?a===0:a===this.paginationProxy.getPageFirstRow();u&&(this.gridOptionsService.get("headerHeight")===0?this.focusService.focusNextGridCoreContainer(!0,!0):(n.preventDefault(),this.focusService.focusPreviousFromFirstCell(n)))}else t instanceof dc&&t.focusCell(!0),this.focusService.focusNextGridCoreContainer(r)&&n.preventDefault()},e.prototype.tabToNextCell=function(t,n){var r=this.focusService.getFocusedCell();if(!r)return!1;var o=this.getCellByPosition(r);return!o&&(o=this.rowRenderer.getRowByPosition(r),!o||!o.isFullWidth())?!1:this.tabToNextCellCommon(o,t,n)},e.prototype.tabToNextCellCommon=function(t,n,r){var o=t.isEditing();if(!o&&t instanceof dc){var s=t,a=s.getRowCtrl();a&&(o=a.isEditing())}var l;return o?this.gridOptionsService.get("editType")==="fullRow"?l=this.moveToNextEditingRow(t,n,r):l=this.moveToNextEditingCell(t,n,r):l=this.moveToNextCellNotEditing(t,n),l||!!this.focusService.getFocusedHeader()},e.prototype.moveToNextEditingCell=function(t,n,r){r===void 0&&(r=null);var o=t.getCellPosition();t.getGui().focus(),t.stopEditing();var s=this.findNextCellToFocusOn(o,n,!0);return s==null?!1:(s.startEditing(null,!0,r),s.focusCell(!1),!0)},e.prototype.moveToNextEditingRow=function(t,n,r){r===void 0&&(r=null);var o=t.getCellPosition(),s=this.findNextCellToFocusOn(o,n,!0);if(s==null)return!1;var a=s.getCellPosition(),l=this.isCellEditable(o),u=this.isCellEditable(a),c=a&&o.rowIndex===a.rowIndex&&o.rowPinned===a.rowPinned;if(l&&t.setFocusOutOnEditor(),!c){var d=t.getRowCtrl();d.stopEditing();var h=s.getRowCtrl();h.startRowEditing(void 0,void 0,r)}return u?(s.setFocusInOnEditor(),s.focusCell()):s.focusCell(!0),!0},e.prototype.moveToNextCellNotEditing=function(t,n){var r=this.columnModel.getAllDisplayedColumns(),o;t instanceof hc?o=Xw(Xw({},t.getRowPosition()),{column:n?r[0]:dt(r)}):o=t.getCellPosition();var s=this.findNextCellToFocusOn(o,n,!1);if(s instanceof dc)s.focusCell(!0);else if(s)return this.tryToFocusFullWidthRow(s.getRowPosition(),n);return W(s)},e.prototype.findNextCellToFocusOn=function(t,n,r){for(var o=t;;){t!==o&&(t=o),n||(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextTabbedCell(o,n);var s=this.gridOptionsService.getCallback("tabToNextCell");if(W(s)){var a={backwards:n,editing:r,previousCellPosition:t,nextCellPosition:o||null},l=s(a);W(l)?(l.floating&&(Ae("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),l.rowPinned=l.floating),o={rowIndex:l.rowIndex,column:l.column,rowPinned:l.rowPinned}):o=null}if(!o)return null;if(o.rowIndex<0){var u=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:u+o.rowIndex,column:o.column},fromCell:!0}),null}var c=this.gridOptionsService.get("editType")==="fullRow";if(r&&!c){var d=this.isCellEditable(o);if(!d)continue}this.ensureCellVisible(o);var h=this.getCellByPosition(o);if(!h){var f=this.rowRenderer.getRowByPosition(o);if(!f||!f.isFullWidth()||r)continue;return f}if(!h.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(o),h}},e.prototype.isCellEditable=function(t){var n=this.lookupRowNodeForCell(t);return n?t.column.isCellEditable(n):!1},e.prototype.getCellByPosition=function(t){var n=this.rowRenderer.getRowByPosition(t);return n?n.getCellCtrl(t.column):null},e.prototype.lookupRowNodeForCell=function(t){return t.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(t.rowIndex):t.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(t.rowIndex):this.paginationProxy.getRow(t.rowIndex)},e.prototype.navigateToNextCell=function(t,n,r,o){for(var s=r,a=!1;s&&(s===r||!this.isValidNavigateCell(s));)this.gridOptionsService.get("enableRtl")?n===F.LEFT&&(s=this.getLastCellOfColSpan(s)):n===F.RIGHT&&(s=this.getLastCellOfColSpan(s)),s=this.cellNavigationService.getNextCellToFocus(n,s),a=me(s);if(a&&t&&t.key===F.UP&&(s={rowIndex:-1,rowPinned:null,column:r.column}),o){var l=this.gridOptionsService.getCallback("navigateToNextCell");if(W(l)){var u={key:n,previousCellPosition:r,nextCellPosition:s||null,event:t},c=l(u);W(c)?(c.floating&&(Ae("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),c.rowPinned=c.floating),s={rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}):s=null}}if(s){if(s.rowIndex<0){var d=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:d+s.rowIndex,column:r.column},event:t||void 0,fromCell:!0});return}var h=this.getNormalisedPosition(s);h?this.focusPosition(h):this.tryToFocusFullWidthRow(s)}},e.prototype.getNormalisedPosition=function(t){this.ensureCellVisible(t);var n=this.getCellByPosition(t);return n?(t=n.getCellPosition(),this.ensureCellVisible(t),t):null},e.prototype.tryToFocusFullWidthRow=function(t,n){n===void 0&&(n=!1);var r=this.columnModel.getAllDisplayedColumns(),o=this.rowRenderer.getRowByPosition(t);if(!o||!o.isFullWidth())return!1;var s=this.focusService.getFocusedCell(),a={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:t.column||(n?dt(r):r[0])};this.focusPosition(a);var l=s!=null?this.rowPositionUtils.before(a,s):!1,u={type:w.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:a.rowIndex,rowPinned:a.rowPinned,column:a.column,isFullWidthCell:!0,floating:a.rowPinned,fromBelow:l};return this.eventService.dispatchEvent(u),!0},e.prototype.focusPosition=function(t){this.focusService.setFocusedCell({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(t)},e.prototype.isValidNavigateCell=function(t){var n=this.rowPositionUtils.getRowNode(t);return!!n},e.prototype.getLastCellOfColSpan=function(t){var n=this.getCellByPosition(t);if(!n)return t;var r=n.getColSpanningList();return r.length===1?t:{rowIndex:t.rowIndex,column:dt(r),rowPinned:t.rowPinned}},e.prototype.ensureCellVisible=function(t){var n=this.gridOptionsService.isGroupRowsSticky(),r=this.rowModel.getRow(t.rowIndex),o=n&&r?.sticky;!o&&me(t.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t.rowIndex),t.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(t.column)},zi([_("mouseEventService")],e.prototype,"mouseEventService",void 0),zi([_("paginationProxy")],e.prototype,"paginationProxy",void 0),zi([_("focusService")],e.prototype,"focusService",void 0),zi([et("rangeService")],e.prototype,"rangeService",void 0),zi([_("columnModel")],e.prototype,"columnModel",void 0),zi([_("rowModel")],e.prototype,"rowModel",void 0),zi([_("ctrlsService")],e.prototype,"ctrlsService",void 0),zi([_("rowRenderer")],e.prototype,"rowRenderer",void 0),zi([_("headerNavigationService")],e.prototype,"headerNavigationService",void 0),zi([_("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),zi([_("cellNavigationService")],e.prototype,"cellNavigationService",void 0),zi([_("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),zi([Z],e.prototype,"postConstruct",null),e=zi([ne("navigationService")],e),e}(Y),Efe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Dfe=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Tfe=function(i){Efe(e,i);function e(t){var n=i.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return n.params=t,n}return e.prototype.postConstruct=function(){this.gridOptionsService.setDomData(this.getGui(),e.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},e.prototype.addKeyDownListener=function(){var t=this,n=this.getGui(),r=this.params,o=function(s){Ww(t.gridOptionsService,s,r.node,r.column,!0)||r.onKeyDown(s)};this.addManagedListener(n,"keydown",o)},e.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",Dfe([Z],e.prototype,"postConstruct",null),e}(yc),Rfe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Afe=function(i){Rfe(e,i);function e(t,n,r,o,s){var a=i.call(this)||this;a.rendererVersion=0,a.editorVersion=0,a.beans=t,a.column=n.getColumn(),a.rowNode=n.getRowNode(),a.rowCtrl=n.getRowCtrl(),a.eRow=o,a.cellCtrl=n;var l=document.createElement("div");l.setAttribute("comp-id","".concat(a.getCompId())),a.setTemplateFromElement(l);var u=a.getGui();a.forceWrapper=n.isForceWrapper(),a.refreshWrapper(!1);var c=function(f,p){p!=null&&p!=""?u.setAttribute(f,p):u.removeAttribute(f)};In(u,n.getCellAriaRole()),c("col-id",n.getColumnIdSanitised());var d=n.getTabIndex();d!==void 0&&c("tabindex",d.toString());var h={addOrRemoveCssClass:function(f,p){return a.addOrRemoveCssClass(f,p)},setUserStyles:function(f){return zM(u,f)},getFocusableElement:function(){return a.getFocusableElement()},setIncludeSelection:function(f){return a.includeSelection=f},setIncludeRowDrag:function(f){return a.includeRowDrag=f},setIncludeDndSource:function(f){return a.includeDndSource=f},setRenderDetails:function(f,p,g){return a.setRenderDetails(f,p,g)},setEditDetails:function(f,p,g){return a.setEditDetails(f,p,g)},getCellEditor:function(){return a.cellEditor||null},getCellRenderer:function(){return a.cellRenderer||null},getParentOfValue:function(){return a.getParentOfValue()}};return n.setComp(h,a.getGui(),a.eCellWrapper,r,s),a}return e.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},e.prototype.setRenderDetails=function(t,n,r){var o=this.cellEditor&&!this.cellEditorPopupWrapper;if(!o){this.firstRender=this.firstRender==null;var s=this.refreshWrapper(!1);if(this.refreshEditStyles(!1),t){var a=r||s,l=a?!1:this.refreshCellRenderer(t);l||(this.destroyRenderer(),this.createCellRendererInstance(t))}else this.destroyRenderer(),this.insertValueWithoutCellRenderer(n)}},e.prototype.setEditDetails=function(t,n,r){t?this.createCellEditorInstance(t,n,r):this.destroyEditor()},e.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},e.prototype.refreshWrapper=function(t){var n=this.includeRowDrag||this.includeDndSource||this.includeSelection,r=n||this.forceWrapper,o=r&&this.eCellWrapper==null;if(o){var s=document.createElement("div");s.setAttribute("role","presentation"),s.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=s,this.getGui().appendChild(this.eCellWrapper)}var a=!r&&this.eCellWrapper!=null;a&&(pa(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!r);var l=!t&&r,u=l&&this.eCellValue==null;if(u){var c=document.createElement("span");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-value"),this.eCellValue=c,this.eCellWrapper.appendChild(this.eCellValue)}var d=!l&&this.eCellValue!=null;d&&(pa(this.eCellValue),this.eCellValue=void 0);var h=o||a||u||d;return h&&this.removeControls(),t||n&&this.addControls(),h},e.prototype.addControls=function(){this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))},e.prototype.createCellEditorInstance=function(t,n,r){var o=this,s=this.editorVersion,a=t.newAgStackInstance();if(a){var l=t.params;a.then(function(c){return o.afterCellEditorCreated(s,c,l,n,r)});var u=me(this.cellEditor);u&&l.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},e.prototype.insertValueWithoutCellRenderer=function(t){var n=this.getParentOfValue();Wn(n);var r=t!=null?Cn(t,!0):null;r!=null&&(n.textContent=r)},e.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},e.prototype.destroyRenderer=function(){var t=this.beans.context;this.cellRenderer=t.destroyBean(this.cellRenderer),pa(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},e.prototype.destroyEditor=function(){var t=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=t.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=t.destroyBean(this.cellEditorPopupWrapper),pa(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},e.prototype.refreshCellRenderer=function(t){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==t.componentClass)return!1;var n=this.cellRenderer.refresh(t.params);return n===!0||n===void 0},e.prototype.createCellRendererInstance=function(t){var n=this,r=this.beans.gridOptionsService.get("suppressAnimationFrame"),o=!r,s=this.rendererVersion,a=t.componentClass,l=function(){var u=n.rendererVersion!==s||!n.isAlive();if(!u){var c=t.newAgStackInstance(),d=n.afterCellRendererCreated.bind(n,s,a);c&&c.then(d)}};o&&this.firstRender?this.beans.animationFrameService.createTask(l,this.rowNode.rowIndex,"createTasksP2"):l()},e.prototype.getCtrl=function(){return this.cellCtrl},e.prototype.getRowCtrl=function(){return this.rowCtrl},e.prototype.getCellRenderer=function(){return this.cellRenderer},e.prototype.getCellEditor=function(){return this.cellEditor},e.prototype.afterCellRendererCreated=function(t,n,r){var o=!this.isAlive()||t!==this.rendererVersion;if(o){this.beans.context.destroyBean(r);return}if(this.cellRenderer=r,this.cellRendererClass=n,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){var s=this.getParentOfValue();Wn(s),s.appendChild(this.cellRendererGui)}},e.prototype.afterCellEditorCreated=function(t,n,r,o,s){var a=t!==this.editorVersion;if(a){this.beans.context.destroyBean(n);return}var l=n.isCancelBeforeStart&&n.isCancelBeforeStart();if(l){this.beans.context.destroyBean(n),this.cellCtrl.stopEditing(!0);return}if(!n.getGui){console.warn("AG Grid: cellEditor for column ".concat(this.column.getId()," is missing getGui() method")),this.beans.context.destroyBean(n);return}this.cellEditor=n,this.cellEditorGui=n.getGui();var u=o||n.isPopup!==void 0&&n.isPopup();u?this.addPopupCellEditor(r,s):this.addInCellEditor(),this.refreshEditStyles(!0,u),n.afterGuiAttached&&n.afterGuiAttached()},e.prototype.refreshEditStyles=function(t,n){var r;this.addOrRemoveCssClass("ag-cell-inline-editing",t&&!n),this.addOrRemoveCssClass("ag-cell-popup-editing",t&&!!n),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!t||!!n),(r=this.rowCtrl)===null||r===void 0||r.setInlineEditingCss(t)},e.prototype.addInCellEditor=function(){var t=this.getGui(),n=this.beans.gridOptionsService.getDocument();if(t.contains(n.activeElement)&&t.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui){var r=this.getParentOfValue();r.appendChild(this.cellEditorGui)}},e.prototype.addPopupCellEditor=function(t,n){var r=this;this.beans.gridOptionsService.get("editType")==="fullRow"&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var o=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new Tfe(t));var s=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&s.appendChild(this.cellEditorGui);var a=this.beans.popupService,l=this.beans.gridOptionsService.get("stopEditingWhenCellsLoseFocus"),u=n??(o.getPopupPosition?o.getPopupPosition():"over"),c=this.beans.gridOptionsService.get("enableRtl"),d={ePopup:s,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:u,alignSide:c?"right":"left",keepWithinBounds:!0},h=a.positionPopupByComponent.bind(a,d),f=this.beans.localeService.getLocaleTextFunc(),p=a.addPopup({modal:l,eChild:s,closeOnEsc:!0,closedCallback:function(){r.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:h,ariaLabel:f("ariaLabelCellEditor","Cell Editor")});p&&(this.hideEditorPopup=p.hideFunc)},e.prototype.detach=function(){this.eRow.removeChild(this.getGui())},e.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),i.prototype.destroy.call(this)},e.prototype.clearParentOfValue=function(){var t=this.getGui(),n=this.beans.gridOptionsService.getDocument();t.contains(n.activeElement)&&NM()&&t.focus({preventScroll:!0}),Wn(this.getParentOfValue())},e}(Fe),Ofe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),xfe=function(i){Ofe(e,i);function e(t,n,r){var o=i.call(this)||this;o.cellComps={},o.beans=n,o.rowCtrl=t;var s=document.createElement("div");s.setAttribute("comp-id","".concat(o.getCompId())),s.setAttribute("style",o.getInitialStyle(r)),o.setTemplateFromElement(s);var a=o.getGui(),l=a.style;o.domOrder=o.rowCtrl.getDomOrder(),In(a,"row");var u=o.rowCtrl.getTabIndex();u!=null&&a.setAttribute("tabindex",u.toString());var c={setDomOrder:function(d){return o.domOrder=d},setCellCtrls:function(d){return o.setCellCtrls(d)},showFullWidth:function(d){return o.showFullWidth(d)},getFullWidthCellRenderer:function(){return o.getFullWidthCellRenderer()},addOrRemoveCssClass:function(d,h){return o.addOrRemoveCssClass(d,h)},setUserStyles:function(d){return zM(a,d)},setTop:function(d){return l.top=d},setTransform:function(d){return l.transform=d},setRowIndex:function(d){return a.setAttribute("row-index",d)},setRowId:function(d){return a.setAttribute("row-id",d)},setRowBusinessKey:function(d){return a.setAttribute("row-business-key",d)},refreshFullWidth:function(d){return o.refreshFullWidth(d)}};return t.setComp(c,o.getGui(),r),o.addDestroyFunc(function(){t.unsetComp(r)}),o}return e.prototype.getInitialStyle=function(t){var n=this.rowCtrl.getInitialTransform(t);return n?"transform: ".concat(n):"top: ".concat(this.rowCtrl.getInitialRowTop(t))},e.prototype.showFullWidth=function(t){var n=this,r=function(s){if(n.isAlive()){var a=s.getGui();n.getGui().appendChild(a),n.rowCtrl.setupDetailRowAutoHeight(a),n.setFullWidthRowComp(s)}else n.beans.context.destroyBean(s)},o=t.newAgStackInstance();o&&o.then(r)},e.prototype.setCellCtrls=function(t){var n=this,r=Object.assign({},this.cellComps);t.forEach(function(s){var a=s.getInstanceId(),l=n.cellComps[a];l==null?n.newCellComp(s):r[a]=null});var o=Il(r).filter(function(s){return s!=null});this.destroyCells(o),this.ensureDomOrder(t)},e.prototype.ensureDomOrder=function(t){var n=this;if(this.domOrder){var r=[];t.forEach(function(o){var s=n.cellComps[o.getInstanceId()];s&&r.push(s.getGui())}),WM(this.getGui(),r)}},e.prototype.newCellComp=function(t){var n=new Afe(this.beans,t,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[t.getInstanceId()]=n,this.getGui().appendChild(n.getGui())},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.destroyAllCells()},e.prototype.destroyAllCells=function(){var t=Il(this.cellComps).filter(function(n){return n!=null});this.destroyCells(t)},e.prototype.setFullWidthRowComp=function(t){var n=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=t,this.addDestroyFunc(function(){n.fullWidthCellRenderer=n.beans.context.destroyBean(n.fullWidthCellRenderer)})},e.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},e.prototype.destroyCells=function(t){var n=this;t.forEach(function(r){if(r){var o=r.getCtrl().getInstanceId();n.cellComps[o]===r&&(r.detach(),r.destroy(),n.cellComps[o]=null)}})},e.prototype.refreshFullWidth=function(t){var n=this.fullWidthCellRenderer;if(!n||!n.refresh)return!1;var r=t();return n.refresh(r)},e}(Fe),Mfe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),gM=function(){return gM=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},gM.apply(this,arguments)},wg=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o};function Ife(){var i=Fe.elementGettingCreated.getAttribute("name"),e=jz.getRowContainerCssClasses(i),t,n=i===B.CENTER||i===B.TOP_CENTER||i===B.STICKY_TOP_CENTER||i===B.BOTTOM_CENTER;return n?t='<div class="'.concat(e.viewport,`" ref="eViewport" role="presentation">
                <div class="`).concat(e.container,`" ref="eContainer"></div>
            </div>`):t='<div class="'.concat(e.container,'" ref="eContainer"></div>'),t}var Pfe=function(i){Mfe(e,i);function e(){var t=i.call(this,Ife())||this;return t.rowComps={},t.name=Fe.elementGettingCreated.getAttribute("name"),t.type=hfe(t.name),t}return e.prototype.postConstruct=function(){var t=this,n={setViewportHeight:function(o){return t.eViewport.style.height=o},setRowCtrls:function(o){var s=o.rowCtrls;return t.setRowCtrls(s)},setDomOrder:function(o){t.domOrder=o},setContainerWidth:function(o){return t.eContainer.style.width=o}},r=this.createManagedBean(new jz(this.name));r.setComp(n,this.eContainer,this.eViewport)},e.prototype.preDestroy=function(){this.setRowCtrls([])},e.prototype.setRowCtrls=function(t){var n=this,r=gM({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;var o=function(s){var a=s.getInstanceId(),l=r[a];if(l)n.rowComps[a]=l,delete r[a],n.ensureDomOrder(l.getGui());else{if(!s.getRowNode().displayed)return;var u=new xfe(s,n.beans,n.type);n.rowComps[a]=u,n.appendRow(u.getGui())}};t.forEach(o),Il(r).forEach(function(s){n.eContainer.removeChild(s.getGui()),s.destroy()}),In(this.eContainer,"rowgroup")},e.prototype.appendRow=function(t){this.domOrder?nz(this.eContainer,t,this.lastPlacedElement):this.eContainer.appendChild(t),this.lastPlacedElement=t},e.prototype.ensureDomOrder=function(t){this.domOrder&&(UM(this.eContainer,t,this.lastPlacedElement),this.lastPlacedElement=t)},wg([_("beans")],e.prototype,"beans",void 0),wg([J("eViewport")],e.prototype,"eViewport",void 0),wg([J("eContainer")],e.prototype,"eContainer",void 0),wg([Z],e.prototype,"postConstruct",null),wg([xi],e.prototype,"preDestroy",null),e}(Fe),TU=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Ffe=function(){function i(e){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}return i.prototype.onDragEnter=function(e){var t=this;if(this.clearColumnsList(),!this.gridOptionsService.get("functionsReadOnly")){var n=e.dragItem.columns;n&&n.forEach(function(r){r.isPrimary()&&(r.isAnyFunctionActive()||(r.isAllowValue()?t.columnsToAggregate.push(r):r.isAllowRowGroup()?t.columnsToGroup.push(r):r.isAllowPivot()&&t.columnsToPivot.push(r)))})}},i.prototype.getIconName=function(){var e=this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length;return e>0?this.pinned?xn.ICON_PINNED:xn.ICON_MOVE:null},i.prototype.onDragLeave=function(e){this.clearColumnsList()},i.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},i.prototype.onDragging=function(e){},i.prototype.onDragStop=function(e){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},TU([_("columnModel")],i.prototype,"columnModel",void 0),TU([_("gridOptionsService")],i.prototype,"gridOptionsService",void 0),i}(),Nfe=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},fc=function(){function i(){}return i.attemptMoveColumns=function(e){var t=e.isFromHeader,n=e.hDirection,r=e.xPosition,o=e.fromEnter,s=e.fakeEvent,a=e.pinned,l=e.gridOptionsService,u=e.columnModel,c=n===Ji.Left,d=n===Ji.Right,h=e.allMovingColumns;if(t){var f=[];h.forEach(function(V){for(var X,ce=null,Me=V.getParent();Me!=null&&Me.getDisplayedLeafColumns().length===1;)ce=Me,Me=Me.getParent();if(ce!=null){var ae=!!(!((X=ce.getColGroupDef())===null||X===void 0)&&X.marryChildren),q=ae?ce.getProvidedColumnGroup().getLeafColumns():ce.getLeafColumns();q.forEach(function($){f.includes($)||f.push($)})}else f.includes(V)||f.push(V)}),h=f}var p=h.slice();u.sortColumnsLikeGridColumns(p);var g=this.calculateValidMoves({movingCols:p,draggingRight:d,xPosition:r,pinned:a,gridOptionsService:l,columnModel:u}),m=this.calculateOldIndex(p,u);if(g.length!==0){var v=g[0],y=m!==null&&!o;if(t&&(y=m!==null),!(y&&!s&&(c&&v>=m||d&&v<=m))){for(var C=u.getAllDisplayedColumns(),S=[],E=null,T=0;T<g.length;T++){var O=g[T],R=u.getProposedColumnOrder(p,O);if(u.doesOrderPassRules(R)){var M=R.filter(function(V){return C.includes(V)});if(E===null)E=M;else if(!fa(M,E))break;var H=this.groupFragCount(R);S.push({move:O,fragCount:H})}}if(S.length!==0)return S.sort(function(V,X){return V.fragCount-X.fragCount}),this.moveColumns(h,S[0].move,"uiColumnMoved",!1,u)}}},i.moveColumns=function(e,t,n,r,o){return o.moveColumns(e,t,n,r),r?null:{columns:e,toIndex:t}},i.calculateOldIndex=function(e,t){var n=t.getAllGridColumns(),r=SW(e.map(function(u){return n.indexOf(u)})),o=r[0],s=dt(r),a=s-o,l=a!==r.length-1;return l?null:o},i.groupFragCount=function(e){function t(s){for(var a=[],l=s.getOriginalParent();l!=null;)a.push(l),l=l.getOriginalParent();return a}for(var n=0,r=function(s){var a,l=t(e[s]),u=t(e[s+1]);a=Nfe(l.length>u.length?[l,u]:[u,l],2),l=a[0],u=a[1],l.forEach(function(c){u.indexOf(c)===-1&&n++})},o=0;o<e.length-1;o++)r(o);return n},i.calculateValidMoves=function(e){var t=e.movingCols,n=e.draggingRight,r=e.xPosition,o=e.pinned,s=e.gridOptionsService,a=e.columnModel,l=s.get("suppressMovableColumns")||t.some(function(V){return V.getColDef().suppressMovable});if(l)return[];var u=a.getDisplayedColumns(o),c=a.getAllGridColumns(),d=u.filter(function(V){return xo(t,V)}),h=u.filter(function(V){return!xo(t,V)}),f=c.filter(function(V){return!xo(t,V)}),p=0,g=r;if(n){var m=0;d.forEach(function(V){return m+=V.getActualWidth()}),g-=m}if(g>0){for(var v=0;v<h.length;v++){var y=h[v];if(g-=y.getActualWidth(),g<0)break;p++}n&&p++}var C;if(p>0){var S=h[p-1];C=f.indexOf(S)+1}else C=f.indexOf(h[0]),C===-1&&(C=0);var E=[C],T=function(V,X){return V-X};if(n){for(var O=C+1,R=c.length-1;O<=R;)E.push(O),O++;E.sort(T)}else{for(var O=C,R=c.length-1,M=c[O];O<=R&&u.indexOf(M)<0;)O++,E.push(O),M=c[O];O=C-1;for(var H=0;O>=H;)E.push(O),O--;E.sort(T).reverse()}return E},i.normaliseX=function(e,t,n,r,o){var s=o.getHeaderRowContainerCtrl(t).getViewport();if(n&&(e-=s.getBoundingClientRect().left),r.get("enableRtl")){var a=s.clientWidth;e=a-e}return t==null&&(e+=o.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),e},i}(),Sg=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Lfe=function(){function i(e,t){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.eContainer=t,this.centerContainer=!W(e)}return i.prototype.init=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCon=e.ctrlsService.getGridBodyCtrl()})},i.prototype.getIconName=function(){return this.pinned?xn.ICON_PINNED:xn.ICON_MOVE},i.prototype.onDragEnter=function(e){var t=e.dragItem.columns,n=e.dragSource.type===Rr.ToolPanel;if(n)this.setColumnsVisible(t,!0,"uiColumnDragged");else{var r=e.dragItem.visibleState,o=(t||[]).filter(function(s){return r[s.getId()]});this.setColumnsVisible(o,!0,"uiColumnDragged")}this.setColumnsPinned(t,this.pinned,"uiColumnDragged"),this.onDragging(e,!0,!0)},i.prototype.onDragLeave=function(){this.ensureIntervalCleared(),this.lastMovedInfo=null},i.prototype.setColumnsVisible=function(e,t,n){if(n===void 0&&(n="api"),e){var r=e.filter(function(o){return!o.getColDef().lockVisible});this.columnModel.setColumnsVisible(r,t,n)}},i.prototype.setColumnsPinned=function(e,t,n){if(n===void 0&&(n="api"),e){var r=e.filter(function(o){return!o.getColDef().lockPinned});this.columnModel.setColumnsPinned(r,t,n)}},i.prototype.onDragStop=function(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null},i.prototype.checkCenterForScrolling=function(e){if(this.centerContainer){var t=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),n=t+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.get("enableRtl")?(this.needToMoveRight=e<t+50,this.needToMoveLeft=e>n-50):(this.needToMoveLeft=e<t+50,this.needToMoveRight=e>n-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},i.prototype.onDragging=function(e,t,n,r){var o=this,s;if(e===void 0&&(e=this.lastDraggingEvent),t===void 0&&(t=!1),n===void 0&&(n=!1),r===void 0&&(r=!1),r){if(this.lastMovedInfo){var a=this.lastMovedInfo,l=a.columns,u=a.toIndex;fc.moveColumns(l,u,"uiColumnMoved",!0,this.columnModel)}return}if(this.lastDraggingEvent=e,!me(e.hDirection)){var c=fc.normaliseX(e.x,this.pinned,!1,this.gridOptionsService,this.ctrlsService);t||this.checkCenterForScrolling(c);var d=this.normaliseDirection(e.hDirection),h=e.dragSource.type,f=((s=e.dragSource.getDragItem().columns)===null||s===void 0?void 0:s.filter(function(g){return g.getColDef().lockPinned?g.getPinned()==o.pinned:!0}))||[],p=fc.attemptMoveColumns({allMovingColumns:f,isFromHeader:h===Rr.HeaderCell,hDirection:d,xPosition:c,pinned:this.pinned,fromEnter:t,fakeEvent:n,gridOptionsService:this.gridOptionsService,columnModel:this.columnModel});p&&(this.lastMovedInfo=p)}},i.prototype.normaliseDirection=function(e){if(this.gridOptionsService.get("enableRtl"))switch(e){case Ji.Left:return Ji.Right;case Ji.Right:return Ji.Left;default:console.error("AG Grid: Unknown direction ".concat(e))}else return e},i.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(xn.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(xn.ICON_RIGHT,!0))},i.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(xn.ICON_MOVE))},i.prototype.moveInterval=function(){var e;this.intervalCount++,e=10+this.intervalCount*5,e>100&&(e=100);var t=null,n=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var r=this.lastDraggingEvent.dragItem.columns,o=r.filter(function(a){return!a.getColDef().lockPinned});if(o.length>0&&(this.dragAndDropService.setGhostIcon(xn.ICON_PINNED),this.failedMoveAttempts>7)){var s=this.needToMoveLeft?"left":"right";this.setColumnsPinned(o,s,"uiColumnDragged"),this.dragAndDropService.nudge()}}},Sg([_("columnModel")],i.prototype,"columnModel",void 0),Sg([_("dragAndDropService")],i.prototype,"dragAndDropService",void 0),Sg([_("gridOptionsService")],i.prototype,"gridOptionsService",void 0),Sg([_("ctrlsService")],i.prototype,"ctrlsService",void 0),Sg([Z],i.prototype,"init",null),i}(),kfe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),bg=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Vfe=function(i){kfe(e,i);function e(t,n){var r=i.call(this)||this;return r.pinned=t,r.eContainer=n,r}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(n){switch(t.pinned){case"left":t.eSecondaryContainers=[[n.gridBodyCtrl.getBodyViewportElement(),n.leftRowContainerCtrl.getContainerElement()],[n.bottomLeftRowContainerCtrl.getContainerElement()],[n.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":t.eSecondaryContainers=[[n.gridBodyCtrl.getBodyViewportElement(),n.rightRowContainerCtrl.getContainerElement()],[n.bottomRightRowContainerCtrl.getContainerElement()],[n.topRightRowContainerCtrl.getContainerElement()]];break;default:t.eSecondaryContainers=[[n.gridBodyCtrl.getBodyViewportElement(),n.centerRowContainerCtrl.getViewportElement()],[n.bottomCenterRowContainerCtrl.getViewportElement()],[n.topCenterRowContainerCtrl.getViewportElement()]];break}})},e.prototype.isInterestedIn=function(t){return t===Rr.HeaderCell||t===Rr.ToolPanel&&this.gridOptionsService.get("allowDragFromColumnsToolPanel")},e.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},e.prototype.getContainer=function(){return this.eContainer},e.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new Lfe(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new Ffe(this.pinned)),this.dragAndDropService.addDropTarget(this)},e.prototype.getIconName=function(){return this.currentDropListener.getIconName()},e.prototype.isDropColumnInPivotMode=function(t){return this.columnModel.isPivotMode()&&t.dragSource.type===Rr.ToolPanel},e.prototype.onDragEnter=function(t){this.currentDropListener=this.isDropColumnInPivotMode(t)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(t)},e.prototype.onDragLeave=function(t){this.currentDropListener.onDragLeave(t)},e.prototype.onDragging=function(t){this.currentDropListener.onDragging(t)},e.prototype.onDragStop=function(t){this.currentDropListener.onDragStop(t)},bg([_("dragAndDropService")],e.prototype,"dragAndDropService",void 0),bg([_("columnModel")],e.prototype,"columnModel",void 0),bg([_("ctrlsService")],e.prototype,"ctrlsService",void 0),bg([Z],e.prototype,"postConstruct",null),bg([Z],e.prototype,"init",null),e}(Y),Hfe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),mw=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Gfe=function(i){Hfe(e,i);function e(t){var n=i.call(this,e.TEMPLATE,t)||this;return n.headerCompVersion=0,n.column=t.getColumnGroupChild(),n.pinned=t.getPinned(),n}return e.prototype.postConstruct=function(){var t=this,n=this.getGui(),r=function(a,l){l!=null&&l!=""?n.setAttribute(a,l):n.removeAttribute(a)};r("col-id",this.column.getColId());var o={setWidth:function(a){return n.style.width=a},addOrRemoveCssClass:function(a,l){return t.addOrRemoveCssClass(a,l)},setAriaDescription:function(a){return VW(n,a)},setAriaSort:function(a){return a?$W(n,a):qW(n)},setUserCompDetails:function(a){return t.setUserCompDetails(a)},getUserCompInstance:function(){return t.headerComp}};this.ctrl.setComp(o,this.getGui(),this.eResize,this.eHeaderCompWrapper);var s=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",s)},e.prototype.destroyHeaderComp=function(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},e.prototype.setUserCompDetails=function(t){var n=this;this.headerCompVersion++;var r=this.headerCompVersion;t.newAgStackInstance().then(function(o){return n.afterCompCreated(r,o)})},e.prototype.afterCompCreated=function(t,n){if(t!=this.headerCompVersion||!this.isAlive()){this.destroyBean(n);return}this.destroyHeaderComp(),this.headerComp=n,this.headerCompGui=n.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())},e.TEMPLATE=`<div class="ag-header-cell" role="columnheader" tabindex="-1">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`,mw([J("eResize")],e.prototype,"eResize",void 0),mw([J("eHeaderCompWrapper")],e.prototype,"eHeaderCompWrapper",void 0),mw([Z],e.prototype,"postConstruct",null),mw([xi],e.prototype,"destroyHeaderComp",null),e}(tI),Bfe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),RU=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},jfe=function(i){Bfe(e,i);function e(t){return i.call(this,e.TEMPLATE,t)||this}return e.prototype.postConstruct=function(){var t=this,n=this.getGui(),r=function(s,a){return a!=null?n.setAttribute(s,a):n.removeAttribute(s)};n.setAttribute("col-id",this.ctrl.getColId());var o={addOrRemoveCssClass:function(s,a){return t.addOrRemoveCssClass(s,a)},setResizableDisplayed:function(s){return tt(t.eResize,s)},setWidth:function(s){return n.style.width=s},setAriaExpanded:function(s){return r("aria-expanded",s)},setUserCompDetails:function(s){return t.setUserCompDetails(s)},getUserCompInstance:function(){return t.headerGroupComp}};this.ctrl.setComp(o,n,this.eResize)},e.prototype.setUserCompDetails=function(t){var n=this;t.newAgStackInstance().then(function(r){return n.afterHeaderCompCreated(r)})},e.prototype.afterHeaderCompCreated=function(t){var n=this,r=function(){return n.destroyBean(t)};if(!this.isAlive()){r();return}var o=this.getGui(),s=t.getGui();o.appendChild(s),this.addDestroyFunc(r),this.headerGroupComp=t,this.ctrl.setDragSource(o)},e.TEMPLATE=`<div class="ag-header-group-cell" role="columnheader" tabindex="-1">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`,RU([J("eResize")],e.prototype,"eResize",void 0),RU([Z],e.prototype,"postConstruct",null),e}(tI),Ufe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),AU=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},pi=function(i){return i.COLUMN_GROUP="group",i.COLUMN="column",i.FLOATING_FILTER="filter",i}(pi||{}),Wfe=function(i){Ufe(e,i);function e(t){var n=i.call(this)||this;return n.headerComps={},n.ctrl=t,n.setTemplate('<div class="'.concat(n.ctrl.getHeaderRowClass(),'" role="row"></div>')),n}return e.prototype.init=function(){var t=this;this.getGui().style.transform=this.ctrl.getTransform(),OM(this.getGui(),this.ctrl.getAriaRowIndex());var n={setHeight:function(r){return t.getGui().style.height=r},setTop:function(r){return t.getGui().style.top=r},setHeaderCtrls:function(r,o){return t.setHeaderCtrls(r,o)},setWidth:function(r){return t.getGui().style.width=r}};this.ctrl.setComp(n)},e.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([],!1)},e.prototype.setHeaderCtrls=function(t,n){var r=this;if(this.isAlive()){var o=this.headerComps;if(this.headerComps={},t.forEach(function(l){var u=l.getInstanceId(),c=o[u];delete o[u],c==null&&(c=r.createHeaderComp(l),r.getGui().appendChild(c.getGui())),r.headerComps[u]=c}),fi(o,function(l,u){r.getGui().removeChild(u.getGui()),r.destroyBean(u)}),n){var s=Il(this.headerComps);s.sort(function(l,u){var c=l.getCtrl().getColumnGroupChild().getLeft(),d=u.getCtrl().getColumnGroupChild().getLeft();return c-d});var a=s.map(function(l){return l.getGui()});WM(this.getGui(),a)}}},e.prototype.createHeaderComp=function(t){var n;switch(this.ctrl.getType()){case pi.COLUMN_GROUP:n=new jfe(t);break;case pi.FLOATING_FILTER:n=new ehe(t);break;default:n=new Gfe(t);break}return this.createBean(n),n.setParentComponent(this),n},AU([Z],e.prototype,"init",null),AU([xi],e.prototype,"destroyHeaderCtrls",null),e}(Fe),zfe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Eg=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},$fe=0,vS=function(i){zfe(e,i);function e(t,n){var r=i.call(this)||this;return r.resizeToggleTimeout=0,r.resizeMultiplier=1,r.resizeFeature=null,r.lastFocusEvent=null,r.dragSource=null,r.columnGroupChild=t,r.parentRowCtrl=n,r.instanceId=t.getUniqueId()+"-"+$fe++,r}return e.prototype.shouldStopEventPropagation=function(t){var n=this.focusService.getFocusedHeader(),r=n.headerRowIndex,o=n.column;return uz(this.gridOptionsService,t,r,o)},e.prototype.getWrapperHasFocus=function(){var t=this.gridOptionsService.getDocument(),n=t.activeElement;return n===this.eGui},e.prototype.setGui=function(t){this.eGui=t,this.addDomData(),this.addManagedListener(this.beans.eventService,w.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onDisplayedColumnsChanged()},e.prototype.onDisplayedColumnsChanged=function(){!this.comp||!this.column||(this.refreshFirstAndLastStyles(),this.refreshAriaColIndex())},e.prototype.refreshFirstAndLastStyles=function(){var t=this,n=t.comp,r=t.column,o=t.beans;mS.refreshFirstAndLastStyles(n,r,o.columnModel)},e.prototype.refreshAriaColIndex=function(){var t=this,n=t.beans,r=t.column,o=n.columnModel.getAriaColumnIndex(r);xM(this.eGui,o)},e.prototype.addResizeAndMoveKeyboardListeners=function(){this.resizeFeature&&(this.addManagedListener(this.eGui,"keydown",this.onGuiKeyDown.bind(this)),this.addManagedListener(this.eGui,"keyup",this.onGuiKeyUp.bind(this)))},e.prototype.onGuiKeyDown=function(t){var n,r=this.gridOptionsService.getDocument(),o=r.activeElement,s=t.key===F.LEFT||t.key===F.RIGHT;if(this.isResizing&&(t.preventDefault(),t.stopImmediatePropagation()),!(o!==this.eGui||!t.shiftKey&&!t.altKey)&&((this.isResizing||s)&&(t.preventDefault(),t.stopImmediatePropagation()),!!s)){var a=t.key===F.LEFT!==this.gridOptionsService.get("enableRtl"),l=Ji[a?"Left":"Right"];t.altKey?(this.isResizing=!0,this.resizeMultiplier+=1,this.resizeHeader(l,t.shiftKey),(n=this.resizeFeature)===null||n===void 0||n.toggleColumnResizing(!0)):this.moveHeader(l)}},e.prototype.onGuiKeyUp=function(){var t=this;this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=setTimeout(function(){var n;(n=t.resizeFeature)===null||n===void 0||n.toggleColumnResizing(!1)},150))},e.prototype.handleKeyDown=function(t){var n=this.getWrapperHasFocus();switch(t.key){case F.PAGE_DOWN:case F.PAGE_UP:case F.PAGE_HOME:case F.PAGE_END:n&&t.preventDefault()}},e.prototype.addDomData=function(){var t=this,n=e.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,n,this),this.addDestroyFunc(function(){return t.gridOptionsService.setDomData(t.eGui,n,null)})},e.prototype.getGui=function(){return this.eGui},e.prototype.focus=function(t){return this.eGui?(this.lastFocusEvent=t||null,this.eGui.focus(),!0):!1},e.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},e.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},e.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.getColumnGroupChild=function(){return this.columnGroupChild},e.prototype.removeDragSource=function(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.removeDragSource(),this.comp=null,this.column=null,this.resizeFeature=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null,this.eGui=null},e.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",Eg([_("focusService")],e.prototype,"focusService",void 0),Eg([_("beans")],e.prototype,"beans",void 0),Eg([_("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Eg([_("ctrlsService")],e.prototype,"ctrlsService",void 0),Eg([_("dragAndDropService")],e.prototype,"dragAndDropService",void 0),e}(Y),qfe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Yfe=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},oI=function(i){qfe(e,i);function e(t,n,r,o){var s=i.call(this)||this;return s.columnOrGroup=t,s.eCell=n,s.ariaEl=s.eCell.querySelector("[role=columnheader]")||s.eCell,s.colsSpanning=o,s.beans=r,s}return e.prototype.setColsSpanning=function(t){this.colsSpanning=t,this.onLeftChanged()},e.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?dt(this.colsSpanning):this.columnOrGroup},e.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,Tt.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,w.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))},e.prototype.setLeftFirstTime=function(){var t=this.beans.gridOptionsService.get("suppressColumnMoveAnimation"),n=W(this.columnOrGroup.getOldLeft()),r=this.beans.columnAnimationService.isActive()&&n&&!t;r?this.animateInLeft():this.onLeftChanged()},e.prototype.animateInLeft=function(){var t=this,n=this.getColumnOrGroup(),r=n.getLeft(),o=n.getOldLeft(),s=this.modifyLeftForPrintLayout(n,o),a=this.modifyLeftForPrintLayout(n,r);this.setLeft(s),this.actualLeft=a,this.beans.columnAnimationService.executeNextVMTurn(function(){t.actualLeft===a&&t.setLeft(a)})},e.prototype.onLeftChanged=function(){var t=this.getColumnOrGroup(),n=t.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(t,n),this.setLeft(this.actualLeft)},e.prototype.modifyLeftForPrintLayout=function(t,n){var r=this.beans.gridOptionsService.isDomLayout("print");if(!r||t.getPinned()==="left")return n;var o=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(t.getPinned()==="right"){var s=this.beans.columnModel.getBodyContainerWidth();return o+s+n}return o+n},e.prototype.setLeft=function(t){if(W(t)&&(this.eCell.style.left="".concat(t,"px")),this.columnOrGroup instanceof Tt)this.columnOrGroup;else{var n=this.columnOrGroup,r=n.getLeafColumns();if(!r.length)return;r.length>1&&zW(this.ariaEl,r.length),r[0]}},Yfe([Z],e.prototype,"postConstruct",null),e}(Y),Kfe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),OU=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},sI=function(i){Kfe(e,i);function e(t,n){var r=i.call(this)||this;return r.columns=t,r.element=n,r}return e.prototype.postConstruct=function(){this.gridOptionsService.get("columnHoverHighlight")&&this.addMouseHoverListeners()},e.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},e.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},e.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},OU([_("columnHoverService")],e.prototype,"columnHoverService",void 0),OU([Z],e.prototype,"postConstruct",null),e}(Y),Qfe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Dx=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Zfe=function(i){Qfe(e,i);function e(t,n){var r=i.call(this,t,n)||this;return r.iconCreated=!1,r.column=t,r}return e.prototype.setComp=function(t,n,r,o){this.comp=t,this.eButtonShowMainFilter=r,this.eFloatingFilterBody=o,this.setGui(n),this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,Tt.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))},e.prototype.resizeHeader=function(){},e.prototype.moveHeader=function(){},e.prototype.setupActive=function(){var t=this.column.getColDef(),n=!!t.filter,r=!!t.floatingFilter;this.active=n&&r},e.prototype.setupUi=function(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!(!this.active||this.iconCreated)){var t=cn("filter",this.gridOptionsService,this.column);t&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(t))}},e.prototype.setupFocus=function(){this.createManagedBean(new mc(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},e.prototype.setupAria=function(){var t=this.localeService.getLocaleTextFunc();ga(this.eButtonShowMainFilter,t("ariaFilterMenuOpen","Open Filter Menu"))},e.prototype.onTabKeyDown=function(t){var n=this.gridOptionsService.getDocument(),r=n.activeElement,o=r===this.eGui;if(!o){var s=this.focusService.findNextFocusableElement(this.eGui,null,t.shiftKey);if(s){this.beans.headerNavigationService.scrollToColumn(this.column),t.preventDefault(),s.focus();return}var a=this.findNextColumnWithFloatingFilter(t.shiftKey);a&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:a},event:t})&&t.preventDefault()}},e.prototype.findNextColumnWithFloatingFilter=function(t){var n=this.beans.columnModel,r=this.column;do if(r=t?n.getDisplayedColBefore(r):n.getDisplayedColAfter(r),!r)break;while(!r.getColDef().filter||!r.getColDef().floatingFilter);return r},e.prototype.handleKeyDown=function(t){i.prototype.handleKeyDown.call(this,t);var n=this.getWrapperHasFocus();switch(t.key){case F.UP:case F.DOWN:n||t.preventDefault();case F.LEFT:case F.RIGHT:if(n)return;t.stopPropagation();case F.ENTER:n&&this.focusService.focusInto(this.eGui)&&t.preventDefault();break;case F.ESCAPE:n||this.eGui.focus()}},e.prototype.onFocusIn=function(t){var n=this.eGui.contains(t.relatedTarget);if(!n){var r=!!t.relatedTarget&&!t.relatedTarget.classList.contains("ag-floating-filter"),o=!!t.relatedTarget&&uc(t.relatedTarget,"ag-floating-filter");if(r&&o&&t.target===this.eGui){var s=this.lastFocusEvent,a=!!(s&&s.key===F.TAB);if(s&&a){var l=s.shiftKey;this.focusService.focusInto(this.eGui,l)}}var u=this.getRowIndex();this.beans.focusService.setFocusedHeader(u,this.column)}},e.prototype.setupHover=function(){var t=this;this.createManagedBean(new sI([this.column],this.eGui));var n=function(){if(t.gridOptionsService.get("columnHoverHighlight")){var r=t.columnHoverService.isHovered(t.column);t.comp.addOrRemoveCssClass("ag-column-hover",r)}};this.addManagedListener(this.eventService,w.EVENT_COLUMN_HOVER_CHANGED,n),n()},e.prototype.setupLeft=function(){var t=new oI(this.column,this.eGui,this.beans);this.createManagedBean(t)},e.prototype.setupFilterButton=function(){var t=this.column.getColDef();this.suppressFilterButton=t.floatingFilterComponentParams?!!t.floatingFilterComponentParams.suppressFilterButton:!1},e.prototype.setupUserComp=function(){var t=this;if(this.active){var n=this.filterManager.getFloatingFilterCompDetails(this.column,function(){return t.showParentFilter()});n&&this.setCompDetails(n)}},e.prototype.setCompDetails=function(t){this.userCompDetails=t,this.comp.setCompDetails(t)},e.prototype.showParentFilter=function(){var t=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuFactory.showMenuAfterButtonClick(this.column,t,"floatingFilter","filterMenuTab",["filterMenuTab"])},e.prototype.setupSyncWithFilter=function(){var t=this;if(this.active){var n=function(r){var o=t.comp.getFloatingFilterComp();o&&o.then(function(s){if(s){var a=t.filterManager.getCurrentFloatingFilterParentModel(t.column);s.onParentModelChanged(a,r)}})};this.destroySyncListener=this.addManagedListener(this.column,Tt.EVENT_FILTER_CHANGED,n),this.filterManager.isFilterActive(this.column)&&n(null)}},e.prototype.setupWidth=function(){var t=this,n=function(){var r="".concat(t.column.getActualWidth(),"px");t.comp.setWidth(r)};this.addManagedListener(this.column,Tt.EVENT_WIDTH_CHANGED,n),n()},e.prototype.setupFilterChangedListener=function(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,Tt.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)))},e.prototype.updateFilterButton=function(){!this.suppressFilterButton&&this.comp&&this.comp.setButtonWrapperDisplayed(this.filterManager.isFilterAllowed(this.column))},e.prototype.onColDefChanged=function(){var t=this,n,r,o=this.active;this.setupActive();var s=!o&&this.active;o&&!this.active&&((n=this.destroySyncListener)===null||n===void 0||n.call(this),(r=this.destroyFilterChangedListener)===null||r===void 0||r.call(this));var a=this.active?this.filterManager.getFloatingFilterCompDetails(this.column,function(){return t.showParentFilter()}):null,l=this.comp.getFloatingFilterComp();!l||!a?this.updateCompDetails(a,s):l.then(function(u){var c;!u||t.filterManager.areFilterCompsDifferent((c=t.userCompDetails)!==null&&c!==void 0?c:null,a)?t.updateCompDetails(a,s):t.updateFloatingFilterParams(a)})},e.prototype.updateCompDetails=function(t,n){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(),this.setupFilterChangedListener()))},e.prototype.updateFloatingFilterParams=function(t){var n;if(t){var r=t.params;(n=this.comp.getFloatingFilterComp())===null||n===void 0||n.then(function(o){var s=!1;if(o?.refresh&&typeof o.refresh=="function"){var a=o.refresh(r);a!==null&&(s=!0)}!s&&o?.onParamsUpdated&&typeof o.onParamsUpdated=="function"&&o.onParamsUpdated(r)})}},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.destroySyncListener=null,this.destroyFilterChangedListener=null},Dx([_("filterManager")],e.prototype,"filterManager",void 0),Dx([_("columnHoverService")],e.prototype,"columnHoverService",void 0),Dx([_("menuFactory")],e.prototype,"menuFactory",void 0),e}(vS),Xfe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Dg=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Jfe=function(i){Xfe(e,i);function e(t,n,r,o,s){var a=i.call(this)||this;return a.pinned=t,a.column=n,a.eResize=r,a.comp=o,a.ctrl=s,a}return e.prototype.postConstruct=function(){var t=this,n=[],r,o,s=function(){if(tt(t.eResize,r),!!r){var u=t.horizontalResizeService.addResizeBar({eResizeBar:t.eResize,onResizeStart:t.onResizeStart.bind(t),onResizing:t.onResizing.bind(t,!1),onResizeEnd:t.onResizing.bind(t,!0)});if(n.push(u),o){var c=t.gridOptionsService.get("skipHeaderOnAutoSize"),d=function(){t.columnModel.autoSizeColumn(t.column,c,"uiColumnResized")};t.eResize.addEventListener("dblclick",d);var h=new Tr(t.eResize);h.addEventListener(Tr.EVENT_DOUBLE_TAP,d),n.push(function(){t.eResize.removeEventListener("dblclick",d),h.removeEventListener(Tr.EVENT_DOUBLE_TAP,d),h.destroy()})}}},a=function(){n.forEach(function(u){return u()}),n.length=0},l=function(){var u=t.column.isResizable(),c=!t.gridOptionsService.get("suppressAutoSize")&&!t.column.getColDef().suppressAutoSize,d=u!==r||c!==o;d&&(r=u,o=c,a(),s())};l(),this.addDestroyFunc(a),this.ctrl.addRefreshFunction(l)},e.prototype.onResizing=function(t,n){var r=this,o=r.column,s=r.lastResizeAmount,a=r.resizeStartWidth,l=this.normaliseResizeAmount(n),u=a+l,c=[{key:o,newWidth:u}];if(this.column.getPinned()){var d=this.pinnedWidthService.getPinnedLeftWidth(),h=this.pinnedWidthService.getPinnedRightWidth(),f=gc(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(d+h+(l-s)>f)return}this.lastResizeAmount=l,this.columnModel.setColumnWidths(c,this.resizeWithShiftKey,t,"uiColumnResized"),t&&this.toggleColumnResizing(!1)},e.prototype.onResizeStart=function(t){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=t,this.toggleColumnResizing(!0)},e.prototype.toggleColumnResizing=function(t){this.comp.addOrRemoveCssClass("ag-column-resizing",t)},e.prototype.normaliseResizeAmount=function(t){var n=t,r=this.pinned!=="left",o=this.pinned==="right";return this.gridOptionsService.get("enableRtl")?r&&(n*=-1):o&&(n*=-1),n},Dg([_("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),Dg([_("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),Dg([_("ctrlsService")],e.prototype,"ctrlsService",void 0),Dg([_("columnModel")],e.prototype,"columnModel",void 0),Dg([Z],e.prototype,"postConstruct",null),e}(Y),epe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),xU=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},tpe=function(i){epe(e,i);function e(t){var n=i.call(this)||this;return n.cbSelectAllVisible=!1,n.processingEventFromCheckbox=!1,n.column=t,n}return e.prototype.onSpaceKeyDown=function(t){var n=this.cbSelectAll,r=this.gridOptionsService.getDocument();n.isDisplayed()&&!n.getGui().contains(r.activeElement)&&(t.preventDefault(),n.setValue(!n.getValue()))},e.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},e.prototype.setComp=function(t){this.headerCellCtrl=t,this.cbSelectAll=this.createManagedBean(new fS),this.cbSelectAll.addCssClass("ag-header-select-all"),In(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,w.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,w.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,w.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,w.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,w.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,w.EVENT_FIELD_VALUE_CHANGED,this.onCbSelectAll.bind(this)),aS(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},e.prototype.onNewColumnsLoaded=function(){this.showOrHideSelectAll()},e.prototype.onDisplayedColumnsChanged=function(){this.isAlive()&&this.showOrHideSelectAll()},e.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},e.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},e.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},e.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var t=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(t);var n=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!n),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},e.prototype.refreshSelectAllLabel=function(){var t=this.localeService.getLocaleTextFunc(),n=this.cbSelectAll.getValue(),r=n?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),o=t("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll","".concat(o," (").concat(r,")")):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel("".concat(o," (").concat(r,")")),this.headerCellCtrl.refreshAriaDescription()},e.prototype.checkSelectionType=function(t){var n=this.gridOptionsService.get("rowSelection")==="multiple";return n?!0:(console.warn("AG Grid: ".concat(t," is only available if using 'multiple' rowSelection.")),!1)},e.prototype.checkRightRowModelType=function(t){var n=this.rowModel.getType(),r=n==="clientSide"||n==="serverSide";return r?!0:(console.warn("AG Grid: ".concat(t," is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ").concat(n,".")),!1)},e.prototype.onCbSelectAll=function(){if(!this.processingEventFromCheckbox&&this.cbSelectAllVisible){var t=this.cbSelectAll.getValue(),n=this.isFilteredOnly(),r=this.isCurrentPageOnly(),o="uiSelectAll";r?o="uiSelectAllCurrentPage":n&&(o="uiSelectAllFiltered");var s={source:o,justFiltered:n,justCurrentPage:r};t?this.selectionService.selectAllRowNodes(s):this.selectionService.deselectAllRowNodes(s)}},e.prototype.isCheckboxSelection=function(){var t=this.column.getColDef().headerCheckboxSelection;if(typeof t=="function"){var n=t,r=this.gridOptionsService.addGridCommonParams({column:this.column,colDef:this.column.getColDef()});t=n(r)}return t?this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection"):!1},e.prototype.isFilteredOnly=function(){return!!this.column.getColDef().headerCheckboxSelectionFilteredOnly},e.prototype.isCurrentPageOnly=function(){return!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly},xU([_("rowModel")],e.prototype,"rowModel",void 0),xU([_("selectionService")],e.prototype,"selectionService",void 0),e}(Y),npe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),nc=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ipe=function(i){npe(e,i);function e(t,n){var r=i.call(this,t,n)||this;return r.refreshFunctions=[],r.userHeaderClasses=new Set,r.ariaDescriptionProperties=new Map,r.column=t,r}return e.prototype.setComp=function(t,n,r,o){var s=this;this.comp=t,this.setGui(n),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(o),this.addColumnHoverListener(),this.setupFilterClass(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.resizeFeature=this.createManagedBean(new Jfe(this.getPinned(),this.column,r,t,this)),this.createManagedBean(new sI([this.column],n)),this.createManagedBean(new oI(this.column,n,this.beans)),this.createManagedBean(new mc(n,{shouldStopEventPropagation:function(a){return s.shouldStopEventPropagation(a)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(),this.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],this.refresh.bind(this)),this.addManagedListener(this.column,Tt.EVENT_COL_DEF_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,w.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,w.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,w.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,w.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},e.prototype.resizeHeader=function(t,n){var r,o;if(this.column.isResizable()){var s=this.column.getPinned(),a=this.gridOptionsService.get("enableRtl"),l=this.column.getActualWidth(),u=(r=this.column.getMinWidth())!==null&&r!==void 0?r:0,c=(o=this.column.getMaxWidth())!==null&&o!==void 0?o:Number.MAX_SAFE_INTEGER,d=t===Ji.Left;s&&a!==(s==="right")&&(d=!d);var h=(d?-1:1)*this.resizeMultiplier,f=Math.min(Math.max(l+h,u),c);if(s){var p=this.pinnedWidthService.getPinnedLeftWidth(),g=this.pinnedWidthService.getPinnedRightWidth(),m=gc(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(p+g+h>m)return}this.columnModel.setColumnWidths([{key:this.column,newWidth:f}],n,!0)}},e.prototype.moveHeader=function(t){var n=this,r=n.eGui,o=n.column,s=n.columnModel,a=n.gridOptionsService,l=n.ctrlsService,u=this.getPinned(),c=r.getBoundingClientRect().left,d=o.getActualWidth(),h=a.get("enableRtl"),f=t===Ji.Left!==h,p=fc.normaliseX(f?c-20:c+d+20,u,!0,a,l);fc.attemptMoveColumns({allMovingColumns:[o],isFromHeader:!0,hDirection:t,xPosition:p,pinned:u,fromEnter:!1,fakeEvent:!1,gridOptionsService:a,columnModel:s}),l.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(o,"auto")},e.prototype.setupUserComp=function(){var t=this.lookupUserCompDetails();this.setCompDetails(t)},e.prototype.setCompDetails=function(t){this.userCompDetails=t,this.comp.setUserCompDetails(t)},e.prototype.lookupUserCompDetails=function(){var t=this.createParams(),n=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(n,t)},e.prototype.createParams=function(){var t=this,n=this.gridOptionsService.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,showColumnMenu:function(r){t.gridApi.showColumnMenuAfterButtonClick(t.column,r)},progressSort:function(r){t.sortController.progressSort(t.column,!!r,"uiColumnSorted")},setSort:function(r,o){t.sortController.setSortForColumn(t.column,r,!!o,"uiColumnSorted")},eGridHeader:this.getGui()});return n},e.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new tpe(this.column)),this.selectAllFeature.setComp(this)},e.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},e.prototype.handleKeyDown=function(t){i.prototype.handleKeyDown.call(this,t),t.key===F.SPACE&&this.selectAllFeature.onSpaceKeyDown(t),t.key===F.ENTER&&this.onEnterKeyDown(t)},e.prototype.onEnterKeyDown=function(t){var n=this.comp.getUserCompInstance();if(n){if(t.ctrlKey||t.metaKey)this.menuEnabled&&n.showMenu&&(t.preventDefault(),n.showMenu());else if(this.sortable){var r=t.shiftKey;this.sortController.progressSort(this.column,r,"uiColumnSorted")}}},e.prototype.isMenuEnabled=function(){return this.menuEnabled},e.prototype.onFocusIn=function(t){if(!this.getGui().contains(t.relatedTarget)){var n=this.getRowIndex();this.focusService.setFocusedHeader(n,this.column)}this.setActiveHeader(!0)},e.prototype.onFocusOut=function(t){this.getGui().contains(t.relatedTarget)||this.setActiveHeader(!1)},e.prototype.setupTooltip=function(){var t=this,n={getColumn:function(){return t.column},getColDef:function(){return t.column.getColDef()},getGui:function(){return t.eGui},getLocation:function(){return"header"},getTooltipValue:function(){var o=t.column.getColDef().headerTooltip;return o}},r=this.createManagedBean(new iI(n,this.beans));r.setComp(this.eGui),this.refreshFunctions.push(function(){return r.refreshToolTip()})},e.prototype.setupClassesFromColDef=function(){var t=this,n=function(){var r=t.column.getColDef(),o=mS.getHeaderClassesFromColDef(r,t.gridOptionsService,t.column,null),s=t.userHeaderClasses;t.userHeaderClasses=new Set(o),o.forEach(function(a){s.has(a)?s.delete(a):t.comp.addOrRemoveCssClass(a,!0)}),s.forEach(function(a){return t.comp.addOrRemoveCssClass(a,!1)})};this.refreshFunctions.push(n),n()},e.prototype.setDragSource=function(t){var n=this;if(this.dragSourceElement=t,this.removeDragSource(),!(!t||!this.draggable)){var r=this,o=r.column,s=r.columnModel,a=r.displayName,l=r.dragAndDropService,u=r.gridOptionsService,c=!this.gridOptionsService.get("suppressDragLeaveHidesColumns"),d=this.dragSource={type:Rr.HeaderCell,eElement:t,getDefaultIconName:function(){return c?xn.ICON_HIDE:xn.ICON_NOT_ALLOWED},getDragItem:function(){return n.createDragItem(o)},dragItemName:a,onDragStarted:function(){c=!u.get("suppressDragLeaveHidesColumns"),o.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return o.setMoving(!1,"uiColumnMoved")},onGridEnter:function(h){var f;if(c){var p=((f=h?.columns)===null||f===void 0?void 0:f.filter(function(g){return!g.getColDef().lockVisible}))||[];s.setColumnsVisible(p,!0,"uiColumnMoved")}},onGridExit:function(h){var f;if(c){var p=((f=h?.columns)===null||f===void 0?void 0:f.filter(function(g){return!g.getColDef().lockVisible}))||[];s.setColumnsVisible(p,!1,"uiColumnMoved")}}};l.addDragSource(d,!0)}},e.prototype.createDragItem=function(t){var n={};return n[t.getId()]=t.isVisible(),{columns:[t],visibleState:n}},e.prototype.updateState=function(){var t=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!t.suppressMenu,this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},e.prototype.addRefreshFunction=function(t){this.refreshFunctions.push(t)},e.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(function(t){return t()})},e.prototype.refreshHeaderComp=function(){var t=this.lookupUserCompDetails(),n=this.comp.getUserCompInstance(),r=n!=null&&this.userCompDetails.componentClass==t.componentClass,o=r?this.attemptHeaderCompRefresh(t.params):!1;o?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)},e.prototype.attemptHeaderCompRefresh=function(t){var n=this.comp.getUserCompInstance();if(!n||!n.refresh)return!1;var r=n.refresh(t);return r},e.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},e.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},e.prototype.workOutDraggable=function(){var t=this.column.getColDef(),n=this.gridOptionsService.get("suppressMovableColumns"),r=!n&&!t.suppressMovable&&!t.lockPosition;return!!r||!!t.enableRowGroup||!!t.enablePivot},e.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},e.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},e.prototype.onColumnValueChanged=function(){this.checkDisplayName()},e.prototype.setupWidth=function(){var t=this,n=function(){var r=t.column.getActualWidth();t.comp.setWidth("".concat(r,"px"))};this.addManagedListener(this.column,Tt.EVENT_WIDTH_CHANGED,n),n()},e.prototype.setupMovingCss=function(){var t=this,n=function(){t.comp.addOrRemoveCssClass("ag-header-cell-moving",t.column.isMoving())};this.addManagedListener(this.column,Tt.EVENT_MOVING_CHANGED,n),n()},e.prototype.setupMenuClass=function(){var t=this,n=function(){t.comp.addOrRemoveCssClass("ag-column-menu-visible",t.column.isMenuVisible())};this.addManagedListener(this.column,Tt.EVENT_MENU_VISIBLE_CHANGED,n),n()},e.prototype.setupSortableClass=function(){var t=this,n=function(){t.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!t.sortable)};n(),this.addRefreshFunction(n),this.addManagedListener(this.eventService,Tt.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},e.prototype.setupFilterClass=function(){var t=this,n=function(){var r=t.column.isFilterActive();t.comp.addOrRemoveCssClass("ag-header-cell-filtered",r),t.refreshAria()};this.addManagedListener(this.column,Tt.EVENT_FILTER_ACTIVE_CHANGED,n),n()},e.prototype.setupWrapTextClass=function(){var t=this,n=function(){var r=!!t.column.getColDef().wrapHeaderText;t.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",r)};n(),this.addRefreshFunction(n)},e.prototype.onDisplayedColumnsChanged=function(){i.prototype.onDisplayedColumnsChanged.call(this),this.isAlive()&&this.onHeaderHeightChanged()},e.prototype.onHeaderHeightChanged=function(){this.refreshSpanHeaderHeight()},e.prototype.refreshSpanHeaderHeight=function(){var t=this,n=t.eGui,r=t.column,o=t.comp,s=t.columnModel;if(t.gridOptionsService,!r.isSpanHeaderHeight()){n.style.removeProperty("top"),n.style.removeProperty("height"),o.addOrRemoveCssClass("ag-header-span-height",!1),o.addOrRemoveCssClass("ag-header-span-total",!1);return}var a=this.getColumnGroupPaddingInfo(),l=a.numberOfParents,u=a.isSpanningTotal;o.addOrRemoveCssClass("ag-header-span-height",l>0);var c=s.getColumnHeaderRowHeight();if(l===0){o.addOrRemoveCssClass("ag-header-span-total",!1),n.style.setProperty("top","0px"),n.style.setProperty("height","".concat(c,"px"));return}o.addOrRemoveCssClass("ag-header-span-total",u);var d=s.isPivotMode(),h=d?s.getPivotGroupHeaderHeight():s.getGroupHeaderHeight(),f=l*h;n.style.setProperty("top","".concat(-f,"px")),n.style.setProperty("height","".concat(c+f,"px"))},e.prototype.getColumnGroupPaddingInfo=function(){var t=this.column.getParent();if(!t||!t.isPadding())return{numberOfParents:0,isSpanningTotal:!1};for(var n=t.getPaddingLevel()+1,r=!0;t;){if(!t.isPadding()){r=!1;break}t=t.getParent()}return{numberOfParents:n,isSpanningTotal:r}},e.prototype.setupAutoHeight=function(t){var n=this,r=function(c){if(n.isAlive()){var d=Nl(n.getGui()),h=d.paddingTop,f=d.paddingBottom,p=d.borderBottomWidth,g=d.borderTopWidth,m=h+f+p+g,v=t.offsetHeight,y=v+m;if(c<5){var C=n.beans.gridOptionsService.getDocument(),S=!C||!C.contains(t),E=y==0;if(S||E){window.setTimeout(function(){return r(c+1)},0);return}}n.columnModel.setColumnHeaderHeight(n.column,y)}},o=!1,s,a=function(){var c=n.column.isAutoHeaderHeight();c&&!o&&l(),!c&&o&&u()},l=function(){o=!0,r(0),n.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),s=n.resizeObserverService.observeResize(t,function(){return r(0)})},u=function(){o=!1,s&&s(),n.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),s=void 0};a(),this.addDestroyFunc(function(){return u()}),this.addManagedListener(this.column,Tt.EVENT_WIDTH_CHANGED,function(){return o&&r(0)}),this.addManagedListener(this.eventService,Tt.EVENT_SORT_CHANGED,function(){o&&window.setTimeout(function(){return r(0)})}),this.addRefreshFunction(a)},e.prototype.refreshAriaSort=function(){if(this.sortable){var t=this.localeService.getLocaleTextFunc(),n=this.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(FW(n)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},e.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var t=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",t("ariaMenuColumn","Press CTRL ENTER to open column menu"))}else this.setAriaDescriptionProperty("menu",null)},e.prototype.refreshAriaFiltered=function(){var t=this.localeService.getLocaleTextFunc(),n=this.column.isFilterActive();n?this.setAriaDescriptionProperty("filter",t("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)},e.prototype.setAriaDescriptionProperty=function(t,n){n!=null?this.ariaDescriptionProperties.set(t,n):this.ariaDescriptionProperties.delete(t)},e.prototype.refreshAriaDescription=function(){var t=this,n=Array.from(this.ariaDescriptionProperties.keys()).sort(function(r,o){return r==="filter"?-1:o.charCodeAt(0)-r.charCodeAt(0)}).map(function(r){return t.ariaDescriptionProperties.get(r)}).join(". ");this.comp.setAriaDescription(n??void 0)},e.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFiltered(),this.refreshAriaDescription()},e.prototype.addColumnHoverListener=function(){var t=this,n=function(){if(t.gridOptionsService.get("columnHoverHighlight")){var r=t.columnHoverService.isHovered(t.column);t.comp.addOrRemoveCssClass("ag-column-hover",r)}};this.addManagedListener(this.eventService,w.EVENT_COLUMN_HOVER_CHANGED,n),n()},e.prototype.getColId=function(){return this.column.getColId()},e.prototype.addActiveHeaderMouseListeners=function(){var t=this,n=function(s){return t.handleMouseOverChange(s.type==="mouseenter")},r=function(s){return t.handleColumnClick(s,!1)},o=function(s){return t.handleColumnClick(s,!0)};this.addManagedListener(this.getGui(),"mouseenter",n),this.addManagedListener(this.getGui(),"mouseleave",n),this.addManagedListener(this.getGui(),"click",r),this.addManagedListener(this.getGui(),"contextmenu",o)},e.prototype.handleMouseOverChange=function(t){this.setActiveHeader(t);var n=t?w.EVENT_COLUMN_HEADER_MOUSE_OVER:w.EVENT_COLUMN_HEADER_MOUSE_LEAVE,r={type:n,column:this.column};this.eventService.dispatchEvent(r)},e.prototype.handleColumnClick=function(t,n){var r=n?w.EVENT_COLUMN_HEADER_CONTEXT_MENU:w.EVENT_COLUMN_HEADER_CLICKED;n&&this.gridOptionsService.get("preventDefaultOnContextMenu")&&t.preventDefault();var o={type:r,column:this.column};this.eventService.dispatchEvent(o)},e.prototype.setActiveHeader=function(t){this.comp.addOrRemoveCssClass("ag-header-active",t)},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.refreshFunctions=null,this.selectAllFeature=null,this.dragSourceElement=null,this.userCompDetails=null,this.userHeaderClasses=null,this.ariaDescriptionProperties=null},nc([_("columnModel")],e.prototype,"columnModel",void 0),nc([_("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),nc([_("columnHoverService")],e.prototype,"columnHoverService",void 0),nc([_("sortController")],e.prototype,"sortController",void 0),nc([_("menuFactory")],e.prototype,"menuFactory",void 0),nc([_("resizeObserverService")],e.prototype,"resizeObserverService",void 0),nc([_("gridApi")],e.prototype,"gridApi",void 0),e}(vS),rpe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),vw=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ope=function(i){rpe(e,i);function e(t,n,r,o){var s=i.call(this)||this;return s.eResize=n,s.comp=t,s.pinned=r,s.columnGroup=o,s}return e.prototype.postConstruct=function(){var t=this;if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}var n=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(n),!this.gridOptionsService.get("suppressAutoSize")){var r=this.gridOptionsService.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",function(){var o=[],s=t.columnGroup.getDisplayedLeafColumns();s.forEach(function(a){a.getColDef().suppressAutoSize||o.push(a.getColId())}),o.length>0&&t.columnModel.autoSizeColumns({columns:o,skipHeader:r,stopAtGroup:t.columnGroup,source:"uiColumnResized"}),t.resizeLeafColumnsToFit("uiColumnResized")})}},e.prototype.onResizeStart=function(t){var n=this.getInitialValues(t);this.storeLocalValues(n),this.toggleColumnResizing(!0)},e.prototype.onResizing=function(t,n,r){r===void 0&&(r="uiColumnResized");var o=this.normaliseDragChange(n),s=this.resizeStartWidth+o;this.resizeColumnsFromLocalValues(s,r,t)},e.prototype.getInitialValues=function(t){var n=this.getColumnsToResize(),r=this.getInitialSizeOfColumns(n),o=this.getSizeRatiosOfColumns(n,r),s={columnsToResize:n,resizeStartWidth:r,resizeRatios:o},a=null;if(t&&(a=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),a){var l=a.getDisplayedLeafColumns(),u=s.groupAfterColumns=l.filter(function(d){return d.isResizable()}),c=s.groupAfterStartWidth=this.getInitialSizeOfColumns(u);s.groupAfterRatios=this.getSizeRatiosOfColumns(u,c)}else s.groupAfterColumns=void 0,s.groupAfterStartWidth=void 0,s.groupAfterRatios=void 0;return s},e.prototype.storeLocalValues=function(t){var n=t.columnsToResize,r=t.resizeStartWidth,o=t.resizeRatios,s=t.groupAfterColumns,a=t.groupAfterStartWidth,l=t.groupAfterRatios;this.resizeCols=n,this.resizeStartWidth=r,this.resizeRatios=o,this.resizeTakeFromCols=s,this.resizeTakeFromStartWidth=a,this.resizeTakeFromRatios=l},e.prototype.clearLocalValues=function(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0},e.prototype.resizeLeafColumnsToFit=function(t){var n=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),r=this.getInitialValues();n>r.resizeStartWidth&&this.resizeColumns(r,n,t,!0)},e.prototype.resizeColumnsFromLocalValues=function(t,n,r){var o,s,a;if(r===void 0&&(r=!0),!(!this.resizeCols||!this.resizeRatios)){var l={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:(o=this.resizeTakeFromCols)!==null&&o!==void 0?o:void 0,groupAfterStartWidth:(s=this.resizeTakeFromStartWidth)!==null&&s!==void 0?s:void 0,groupAfterRatios:(a=this.resizeTakeFromRatios)!==null&&a!==void 0?a:void 0};this.resizeColumns(l,t,n,r)}},e.prototype.resizeColumns=function(t,n,r,o){o===void 0&&(o=!0);var s=t.columnsToResize,a=t.resizeStartWidth,l=t.resizeRatios,u=t.groupAfterColumns,c=t.groupAfterStartWidth,d=t.groupAfterRatios,h=[];if(h.push({columns:s,ratios:l,width:n}),u){var f=n-a;h.push({columns:u,ratios:d,width:c-f})}this.columnModel.resizeColumnSets({resizeSets:h,finished:o,source:r}),o&&this.toggleColumnResizing(!1)},e.prototype.toggleColumnResizing=function(t){this.comp.addOrRemoveCssClass("ag-column-resizing",t)},e.prototype.getColumnsToResize=function(){var t=this.columnGroup.getDisplayedLeafColumns();return t.filter(function(n){return n.isResizable()})},e.prototype.getInitialSizeOfColumns=function(t){return t.reduce(function(n,r){return n+r.getActualWidth()},0)},e.prototype.getSizeRatiosOfColumns=function(t,n){return t.map(function(r){return r.getActualWidth()/n})},e.prototype.normaliseDragChange=function(t){var n=t;return this.gridOptionsService.get("enableRtl")?this.pinned!=="left"&&(n*=-1):this.pinned==="right"&&(n*=-1),n},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.clearLocalValues()},vw([_("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),vw([_("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),vw([_("columnModel")],e.prototype,"columnModel",void 0),vw([Z],e.prototype,"postConstruct",null),e}(Y),spe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ape=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},lpe=function(i){spe(e,i);function e(t,n){var r=i.call(this)||this;return r.removeChildListenersFuncs=[],r.columnGroup=n,r.comp=t,r}return e.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,On.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},e.prototype.addListenersToChildrenColumns=function(){var t=this;this.removeListenersOnChildrenColumns();var n=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(r){r.addEventListener("widthChanged",n),r.addEventListener("visibleChanged",n),t.removeChildListenersFuncs.push(function(){r.removeEventListener("widthChanged",n),r.removeEventListener("visibleChanged",n)})})},e.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(t){return t()}),this.removeChildListenersFuncs=[]},e.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},e.prototype.onWidthChanged=function(){var t=this.columnGroup.getActualWidth();this.comp.setWidth("".concat(t,"px")),this.comp.addOrRemoveCssClass("ag-hidden",t===0)},ape([Z],e.prototype,"postConstruct",null),e}(Y),upe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Jw=function(){return Jw=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},Jw.apply(this,arguments)},cpe=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},dpe=function(i){upe(e,i);function e(t,n){var r=i.call(this,t,n)||this;return r.onSuppressColMoveChange=function(){if(!r.isAlive()||r.isSuppressMoving())r.removeDragSource();else if(!r.dragSource){var o=r.getGui();r.setDragSource(o)}},r.column=t,r}return e.prototype.setComp=function(t,n,r){this.comp=t,this.setGui(n),this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp(),this.addHeaderMouseListeners();var o=this.getParentRowCtrl().getPinned(),s=this.column.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new sI(s,n)),this.createManagedBean(new oI(this.column,n,this.beans)),this.createManagedBean(new lpe(t,this.column)),this.resizeFeature=this.createManagedBean(new ope(t,r,o,this.column)),this.createManagedBean(new mc(n,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addManagedPropertyListener(w.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners()},e.prototype.resizeHeader=function(t,n){if(this.resizeFeature){var r=t===Ji.Left,o=(r?-1:1)*this.resizeMultiplier,s=this.resizeFeature.getInitialValues(n);this.resizeFeature.resizeColumns(s,s.resizeStartWidth+o,"uiColumnResized",!0)}},e.prototype.moveHeader=function(t){var n=this,r=n.eGui,o=n.column,s=n.columnModel,a=n.gridOptionsService,l=n.ctrlsService,u=a.get("enableRtl"),c=t===Ji.Left,d=this.getPinned(),h=r.getBoundingClientRect(),f=h.left,p=h.width,g=fc.normaliseX(c!==u?f-20:f+p+20,d,!0,a,l),m=o.getGroupId(),v=this.focusService.getFocusedHeader();fc.attemptMoveColumns({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,hDirection:t,xPosition:g,pinned:d,fromEnter:!1,fakeEvent:!1,gridOptionsService:a,columnModel:s});var y=o.getDisplayedLeafColumns(),C=c?y[0]:dt(y);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(C,"auto"),!this.isAlive()&&v&&this.restoreFocus(m,o,v)},e.prototype.restoreFocus=function(t,n,r){var o=n.getLeafColumns();if(o.length){var s=o[0].getParent();if(s){var a=this.findGroupWidthId(s,t);a&&this.focusService.focusHeaderPosition({headerPosition:Jw(Jw({},r),{column:a})})}}},e.prototype.findGroupWidthId=function(t,n){for(;t;){if(t.getGroupId()===n)return t;t=t.getParent()}return null},e.prototype.resizeLeafColumnsToFit=function(t){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(t)},e.prototype.setupUserComp=function(){var t=this,n=this.gridOptionsService.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:function(o){t.columnModel.setColumnGroupOpened(t.column.getProvidedColumnGroup(),o,"gridInitializing")}}),r=this.userComponentFactory.getHeaderGroupCompDetails(n);this.comp.setUserCompDetails(r)},e.prototype.addHeaderMouseListeners=function(){var t=this,n=function(s){return t.handleMouseOverChange(s.type==="mouseenter")},r=function(s){return t.handleColumnClick(s,!1)},o=function(s){return t.handleColumnClick(s,!0)};this.addManagedListener(this.getGui(),"mouseenter",n),this.addManagedListener(this.getGui(),"mouseleave",n),this.addManagedListener(this.getGui(),"click",r),this.addManagedListener(this.getGui(),"contextmenu",o)},e.prototype.handleMouseOverChange=function(t){var n=t?w.EVENT_COLUMN_HEADER_MOUSE_OVER:w.EVENT_COLUMN_HEADER_MOUSE_LEAVE,r={type:n,column:this.column.getProvidedColumnGroup()};this.eventService.dispatchEvent(r)},e.prototype.handleColumnClick=function(t,n){var r=n?w.EVENT_COLUMN_HEADER_CONTEXT_MENU:w.EVENT_COLUMN_HEADER_CLICKED;n&&this.gridOptionsService.get("preventDefaultOnContextMenu")&&t.preventDefault();var o={type:r,column:this.column.getProvidedColumnGroup()};this.eventService.dispatchEvent(o)},e.prototype.setupTooltip=function(){var t=this,n=this.column.getColGroupDef(),r={getColumn:function(){return t.column},getGui:function(){return t.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return n&&n.headerTooltip}};n&&(r.getColDef=function(){return n});var o=this.createManagedBean(new iI(r,this.beans));o.setComp(this.eGui)},e.prototype.setupExpandable=function(){var t=this.column.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(t,sn.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(t,sn.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},e.prototype.refreshExpanded=function(){var t=this.column;this.expandable=t.isExpandable();var n=t.isExpanded();this.expandable?this.comp.setAriaExpanded(n?"true":"false"):this.comp.setAriaExpanded(void 0)},e.prototype.getColId=function(){return this.column.getUniqueId()},e.prototype.addClasses=function(){var t=this,n=this.column.getColGroupDef(),r=mS.getHeaderClassesFromColDef(n,this.gridOptionsService,null,this.column);if(this.column.isPadding()){r.push("ag-header-group-cell-no-group");var o=this.column.getLeafColumns();o.every(function(s){return s.isSpanHeaderHeight()})&&r.push("ag-header-span-height")}else r.push("ag-header-group-cell-with-group");r.forEach(function(s){return t.comp.addOrRemoveCssClass(s,!0)})},e.prototype.setupMovingCss=function(){var t=this,n=this.column.getProvidedColumnGroup(),r=n.getLeafColumns(),o=function(){return t.comp.addOrRemoveCssClass("ag-header-cell-moving",t.column.isMoving())};r.forEach(function(s){t.addManagedListener(s,Tt.EVENT_MOVING_CHANGED,o)}),o()},e.prototype.onFocusIn=function(t){if(!this.eGui.contains(t.relatedTarget)){var n=this.getRowIndex();this.beans.focusService.setFocusedHeader(n,this.column)}},e.prototype.handleKeyDown=function(t){i.prototype.handleKeyDown.call(this,t);var n=this.getWrapperHasFocus();if(!(!this.expandable||!n)&&t.key===F.ENTER){var r=this.column,o=!r.isExpanded();this.columnModel.setColumnGroupOpened(r.getProvidedColumnGroup(),o,"uiColumnExpanded")}},e.prototype.setDragSource=function(t){var n=this;if(!(!this.isAlive()||this.isSuppressMoving())&&(this.removeDragSource(),!!t)){var r=this,o=r.column,s=r.columnModel,a=r.displayName,l=r.gridOptionsService,u=r.dragAndDropService,c=o.getProvidedColumnGroup().getLeafColumns(),d=!l.get("suppressDragLeaveHidesColumns"),h=this.dragSource={type:Rr.HeaderCell,eElement:t,getDefaultIconName:function(){return d?xn.ICON_HIDE:xn.ICON_NOT_ALLOWED},dragItemName:a,getDragItem:function(){return n.getDragItemForGroup(o)},onDragStarted:function(){d=!l.get("suppressDragLeaveHidesColumns"),c.forEach(function(f){return f.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return c.forEach(function(f){return f.setMoving(!1,"uiColumnDragged")})},onGridEnter:function(f){var p;if(d){var g=((p=f?.columns)===null||p===void 0?void 0:p.filter(function(m){return!m.getColDef().lockVisible}))||[];s.setColumnsVisible(g,!0,"uiColumnMoved")}},onGridExit:function(f){var p;if(d){var g=((p=f?.columns)===null||p===void 0?void 0:p.filter(function(m){return!m.getColDef().lockVisible}))||[];s.setColumnsVisible(g,!1,"uiColumnMoved")}}};u.addDragSource(h,!0)}},e.prototype.getDragItemForGroup=function(t){var n=t.getProvidedColumnGroup().getLeafColumns(),r={};n.forEach(function(s){return r[s.getId()]=s.isVisible()});var o=[];return this.columnModel.getAllDisplayedColumns().forEach(function(s){n.indexOf(s)>=0&&(o.push(s),br(n,s))}),n.forEach(function(s){return o.push(s)}),{columns:o,visibleState:r}},e.prototype.isSuppressMoving=function(){var t=!1;this.column.getLeafColumns().forEach(function(r){(r.getColDef().suppressMovable||r.getColDef().lockPosition)&&(t=!0)});var n=t||this.gridOptionsService.get("suppressMovableColumns");return n},cpe([_("columnModel")],e.prototype,"columnModel",void 0),e}(vS),hpe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),yw=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},MU=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fpe=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},ppe=0,Tx=function(i){hpe(e,i);function e(t,n,r){var o=i.call(this)||this;o.instanceId=ppe++,o.rowIndex=t,o.pinned=n,o.type=r;var s=r==pi.COLUMN_GROUP?"ag-header-row-column-group":r==pi.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return o.headerRowClass="ag-header-row ".concat(s),o}return e.prototype.postConstruct=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.isEnsureDomOrder=this.gridOptionsService.get("ensureDomOrder")},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.setComp=function(t,n){n===void 0&&(n=!0),this.comp=t,n&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()},e.prototype.getHeaderRowClass=function(){return this.headerRowClass},e.prototype.getAriaRowIndex=function(){return this.rowIndex+1},e.prototype.getTransform=function(){if(Io())return"translateZ(0)"},e.prototype.addEventListeners=function(){var t=this;this.addManagedListener(this.eventService,w.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,w.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,w.EVENT_VIRTUAL_COLUMNS_CHANGED,function(n){return t.onVirtualColumnsChanged(n.afterScroll)}),this.addManagedListener(this.eventService,w.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,w.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,w.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",function(n){return t.isEnsureDomOrder=n.currentValue}),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))},e.prototype.getHeaderCellCtrl=function(t){if(this.headerCellCtrls)return lc(this.headerCellCtrls).find(function(n){return n.getColumnGroupChild()===t})},e.prototype.onDisplayedColumnsChanged=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()},e.prototype.getType=function(){return this.type},e.prototype.onColumnResized=function(){this.setWidth()},e.prototype.setWidth=function(){var t=this.getWidthForRow();this.comp.setWidth("".concat(t,"px"))},e.prototype.getWidthForRow=function(){if(this.isPrintLayout){var t=this.pinned!=null;return t?0:this.columnModel.getContainerWidth("right")+this.columnModel.getContainerWidth("left")+this.columnModel.getContainerWidth(null)}return this.columnModel.getContainerWidth(this.pinned)},e.prototype.onRowHeightChanged=function(){var t=this.getTopAndHeight(),n=t.topOffset,r=t.rowHeight;this.comp.setTop(n+"px"),this.comp.setHeight(r+"px")},e.prototype.getTopAndHeight=function(){var t=this.columnModel.getHeaderRowCount(),n=[],r=0;this.filterManager.hasFloatingFilters()&&(t++,r=1);for(var o=this.columnModel.getColumnGroupHeaderRowHeight(),s=this.columnModel.getColumnHeaderRowHeight(),a=1+r,l=t-a,u=0;u<l;u++)n.push(o);n.push(s);for(var u=0;u<r;u++)n.push(this.columnModel.getFloatingFiltersHeight());for(var c=0,u=0;u<this.rowIndex;u++)c+=n[u];var d=n[this.rowIndex];return{topOffset:c,rowHeight:d}},e.prototype.getPinned=function(){return this.pinned},e.prototype.getRowIndex=function(){return this.rowIndex},e.prototype.onVirtualColumnsChanged=function(t){t===void 0&&(t=!1);var n=this.getHeaderCtrls(),r=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(n,r,t)},e.prototype.getHeaderCtrls=function(){var t,n,r,o,s=this,a=this.headerCellCtrls;this.headerCellCtrls=new Map;var l=this.getColumnsInViewport();try{for(var u=MU(l),c=u.next();!c.done;c=u.next()){var d=c.value;this.recycleAndCreateHeaderCtrls(d,a)}}catch(S){t={error:S}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}var h=function(S){var E=s.focusService.isHeaderWrapperFocused(S);if(!E)return!1;var T=s.columnModel.isDisplayed(S.getColumnGroupChild());return T};if(a)try{for(var f=MU(a),p=f.next();!p.done;p=f.next()){var g=fpe(p.value,2),m=g[0],v=g[1],y=h(v);y?this.headerCellCtrls.set(m,v):this.destroyBean(v)}}catch(S){r={error:S}}finally{try{p&&!p.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}var C=Array.from(this.headerCellCtrls.values());return C},e.prototype.recycleAndCreateHeaderCtrls=function(t,n){if(this.headerCellCtrls&&!t.isEmptyGroup()){var r=t.getUniqueId(),o;n&&(o=n.get(r),n.delete(r));var s=o&&o.getColumnGroupChild()!=t;if(s&&(this.destroyBean(o),o=void 0),o==null)switch(this.type){case pi.FLOATING_FILTER:o=this.createBean(new Zfe(t,this));break;case pi.COLUMN_GROUP:o=this.createBean(new dpe(t,this));break;default:o=this.createBean(new ipe(t,this));break}this.headerCellCtrls.set(r,o)}},e.prototype.getColumnsInViewport=function(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},e.prototype.getColumnsInViewportPrintLayout=function(){var t=this;if(this.pinned!=null)return[];var n=[],r=this.getActualDepth();return["left",null,"right"].forEach(function(o){var s=t.columnModel.getVirtualHeaderGroupRow(o,r);n=n.concat(s)}),n},e.prototype.getActualDepth=function(){return this.type==pi.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},e.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},e.prototype.focusHeader=function(t,n){if(!this.headerCellCtrls)return!1;var r=Array.from(this.headerCellCtrls.values()),o=r.find(function(s){return s.getColumnGroupChild()==t});return o?o.focus(n):!1},e.prototype.destroy=function(){var t=this;this.headerCellCtrls&&this.headerCellCtrls.forEach(function(n){t.destroyBean(n)}),this.headerCellCtrls=void 0,i.prototype.destroy.call(this)},yw([_("columnModel")],e.prototype,"columnModel",void 0),yw([_("focusService")],e.prototype,"focusService",void 0),yw([_("filterManager")],e.prototype,"filterManager",void 0),yw([Z],e.prototype,"postConstruct",null),e}(Y),gpe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ph=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},mpe=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},vpe=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},ype=function(i){gpe(e,i);function e(t){var n=i.call(this)||this;return n.hidden=!1,n.includeFloatingFilter=!1,n.groupsRowCtrls=[],n.pinned=t,n}return e.prototype.setComp=function(t,n){this.comp=t,this.eViewport=n,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,w.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,w.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,w.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},e.prototype.setupDragAndDrop=function(t){var n=new Vfe(this.pinned,t);this.createManagedBean(n)},e.prototype.refresh=function(t){var n=this;t===void 0&&(t=!1);var r=new Rh,o=this.focusService.getFocusHeaderToUseAfterRefresh(),s=function(){var c=n.columnModel.getHeaderRowCount()-1;n.groupsRowCtrls=n.destroyBeans(n.groupsRowCtrls);for(var d=0;d<c;d++){var h=n.createBean(new Tx(r.next(),n.pinned,pi.COLUMN_GROUP));n.groupsRowCtrls.push(h)}},a=function(){var c=r.next(),d=!n.hidden&&(n.columnsRowCtrl==null||!t||n.columnsRowCtrl.getRowIndex()!==c),h=d||n.hidden;h&&(n.columnsRowCtrl=n.destroyBean(n.columnsRowCtrl)),d&&(n.columnsRowCtrl=n.createBean(new Tx(c,n.pinned,pi.COLUMN)))},l=function(){n.includeFloatingFilter=n.filterManager.hasFloatingFilters()&&!n.hidden;var c=function(){n.filtersRowCtrl=n.destroyBean(n.filtersRowCtrl)};if(!n.includeFloatingFilter){c();return}var d=r.next();if(n.filtersRowCtrl){var h=n.filtersRowCtrl.getRowIndex()!==d;(!t||h)&&c()}n.filtersRowCtrl||(n.filtersRowCtrl=n.createBean(new Tx(d,n.pinned,pi.FLOATING_FILTER)))};s(),a(),l();var u=this.getAllCtrls();this.comp.setCtrls(u),this.restoreFocusOnHeader(o)},e.prototype.restoreFocusOnHeader=function(t){t==null||t.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:t})},e.prototype.getAllCtrls=function(){var t=vpe([],mpe(this.groupsRowCtrls),!1);return this.columnsRowCtrl&&t.push(this.columnsRowCtrl),this.filtersRowCtrl&&t.push(this.filtersRowCtrl),t},e.prototype.onGridColumnsChanged=function(){this.refresh(!0)},e.prototype.onDisplayedColumnsChanged=function(){var t=this.filterManager.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)},e.prototype.setupCenterWidth=function(){var t=this;this.pinned==null&&this.createManagedBean(new rI(function(n){return t.comp.setCenterWidth("".concat(n,"px"))},!0))},e.prototype.setHorizontalScroll=function(t){this.comp.setViewportScrollLeft(t)},e.prototype.setupPinnedWidth=function(){var t=this;if(this.pinned!=null){var n=this.pinned==="left",r=this.pinned==="right";this.hidden=!0;var o=function(){var s=n?t.pinnedWidthService.getPinnedLeftWidth():t.pinnedWidthService.getPinnedRightWidth();if(s!=null){var a=s==0,l=t.hidden!==a,u=t.gridOptionsService.get("enableRtl"),c=t.gridOptionsService.getScrollbarWidth(),d=t.scrollVisibleService.isVerticalScrollShowing()&&(u&&n||!u&&r),h=d?s+c:s;t.comp.setPinnedContainerWidth("".concat(h,"px")),t.comp.setDisplayed(!a),l&&(t.hidden=a,t.refresh())}};this.addManagedListener(this.eventService,w.EVENT_LEFT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,w.EVENT_RIGHT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,w.EVENT_SCROLL_VISIBILITY_CHANGED,o),this.addManagedListener(this.eventService,w.EVENT_SCROLLBAR_WIDTH_CHANGED,o)}},e.prototype.getHeaderCtrlForColumn=function(t){if(t instanceof Tt)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(t):void 0;if(this.groupsRowCtrls.length!==0)for(var n=0;n<this.groupsRowCtrls.length;n++){var r=this.groupsRowCtrls[n].getHeaderCellCtrl(t);if(r)return r}},e.prototype.getHtmlElementForColumnHeader=function(t){var n=this.getHeaderCtrlForColumn(t);return n?n.getGui():null},e.prototype.getRowType=function(t){var n=this.getAllCtrls(),r=n[t];return r?r.getType():void 0},e.prototype.focusHeader=function(t,n,r){var o=this.getAllCtrls(),s=o[t];return s?s.focusHeader(n,r):!1},e.prototype.getViewport=function(){return this.eViewport},e.prototype.getRowCount=function(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)},e.prototype.destroy=function(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),i.prototype.destroy.call(this)},ph([_("ctrlsService")],e.prototype,"ctrlsService",void 0),ph([_("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),ph([_("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),ph([_("columnModel")],e.prototype,"columnModel",void 0),ph([_("focusService")],e.prototype,"focusService",void 0),ph([_("filterManager")],e.prototype,"filterManager",void 0),e}(Y),_pe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Rx=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Ax=function(i){_pe(e,i);function e(t){var n=i.call(this)||this;return n.headerRowComps={},n.rowCompsList=[],n.pinned=t,n}return e.prototype.init=function(){var t=this;this.selectAndSetTemplate();var n={setDisplayed:function(o){return t.setDisplayed(o)},setCtrls:function(o){return t.setCtrls(o)},setCenterWidth:function(o){return t.eCenterContainer.style.width=o},setViewportScrollLeft:function(o){return t.getGui().scrollLeft=o},setPinnedContainerWidth:function(o){var s=t.getGui();s.style.width=o,s.style.maxWidth=o,s.style.minWidth=o}},r=this.createManagedBean(new ype(this.pinned));r.setComp(n,this.getGui())},e.prototype.selectAndSetTemplate=function(){var t=this.pinned=="left",n=this.pinned=="right",r=t?e.PINNED_LEFT_TEMPLATE:n?e.PINNED_RIGHT_TEMPLATE:e.CENTER_TEMPLATE;this.setTemplate(r),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},e.prototype.destroyRowComps=function(){this.setCtrls([])},e.prototype.destroyRowComp=function(t){this.destroyBean(t),this.eRowContainer.removeChild(t.getGui())},e.prototype.setCtrls=function(t){var n=this,r=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];var o,s=function(a){var l=a.getGui(),u=l.parentElement!=n.eRowContainer;u&&n.eRowContainer.appendChild(l),o&&UM(n.eRowContainer,l,o),o=l};t.forEach(function(a){var l=a.getInstanceId(),u=r[l];delete r[l];var c=u||n.createBean(new Wfe(a));n.headerRowComps[l]=c,n.rowCompsList.push(c),s(c)}),Il(r).forEach(function(a){return n.destroyRowComp(a)})},e.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="rowgroup"></div>',e.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="rowgroup"></div>',e.CENTER_TEMPLATE=`<div class="ag-header-viewport" role="presentation">
            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>
        </div>`,Rx([J("eCenterContainer")],e.prototype,"eCenterContainer",void 0),Rx([Z],e.prototype,"init",null),Rx([xi],e.prototype,"destroyRowComps",null),e}(Fe),Cpe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Tg=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ha=function(i){return i[i.UP=0]="UP",i[i.DOWN=1]="DOWN",i[i.LEFT=2]="LEFT",i[i.RIGHT=3]="RIGHT",i}(ha||{}),wpe=function(i){Cpe(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(n){t.gridBodyCon=n.gridBodyCtrl})},e.prototype.getHeaderRowCount=function(){var t=this.ctrlsService.getHeaderRowContainerCtrl();return t?t.getRowCount():0},e.prototype.navigateVertically=function(t,n,r){if(n||(n=this.focusService.getFocusedHeader()),!n)return!1;var o=n.headerRowIndex,s=n.column,a=this.getHeaderRowCount(),l=t===ha.UP,u=l?this.headerPositionUtils.getColumnVisibleParent(s,o):this.headerPositionUtils.getColumnVisibleChild(s,o),c=u.nextRow,d=u.nextFocusColumn,h=!1;return c<0&&(c=0,d=s,h=!0),c>=a&&(c=-1),!h&&!d?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:c,column:d},allowUserOverride:!0,event:r})},e.prototype.navigateHorizontally=function(t,n,r){n===void 0&&(n=!1);var o=this.focusService.getFocusedHeader(),s=t===ha.LEFT,a=this.gridOptionsService.get("enableRtl"),l,u;return s!==a?(u="Before",l=this.headerPositionUtils.findHeader(o,u)):(u="After",l=this.headerPositionUtils.findHeader(o,u)),l||!n?this.focusService.focusHeaderPosition({headerPosition:l,direction:u,fromTab:n,allowUserOverride:!0,event:r}):this.focusNextHeaderRow(o,u,r)},e.prototype.focusNextHeaderRow=function(t,n,r){var o=t.headerRowIndex,s=null,a;return n==="Before"?o>0&&(a=o-1,s=this.headerPositionUtils.findColAtEdgeForHeaderRow(a,"end")):(a=o+1,s=this.headerPositionUtils.findColAtEdgeForHeaderRow(a,"start")),this.focusService.focusHeaderPosition({headerPosition:s,direction:n,fromTab:!0,allowUserOverride:!0,event:r})},e.prototype.scrollToColumn=function(t,n){if(n===void 0&&(n="After"),!t.getPinned()){var r;if(t instanceof On){var o=t.getDisplayedLeafColumns();r=n==="Before"?dt(o):o[0]}else r=t;this.gridBodyCon.getScrollFeature().ensureColumnVisible(r)}},Tg([_("focusService")],e.prototype,"focusService",void 0),Tg([_("headerPositionUtils")],e.prototype,"headerPositionUtils",void 0),Tg([_("ctrlsService")],e.prototype,"ctrlsService",void 0),Tg([Z],e.prototype,"postConstruct",null),e=Tg([ne("headerNavigationService")],e),e}(Y),Spe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Rg=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},bpe=function(i){Spe(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.setComp=function(t,n,r){this.comp=t,this.eGui=n,this.createManagedBean(new mc(r,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,w.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,w.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},e.prototype.setupHeaderHeight=function(){var t=this.setHeaderHeight.bind(this);t(),this.addManagedPropertyListener("headerHeight",t),this.addManagedPropertyListener("pivotHeaderHeight",t),this.addManagedPropertyListener("groupHeaderHeight",t),this.addManagedPropertyListener("pivotGroupHeaderHeight",t),this.addManagedPropertyListener("floatingFiltersHeight",t),this.addManagedListener(this.eventService,w.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,w.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,t),this.addManagedListener(this.eventService,w.EVENT_GRID_STYLES_CHANGED,t),this.addManagedListener(this.eventService,w.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,t)},e.prototype.getHeaderHeight=function(){return this.headerHeight},e.prototype.setHeaderHeight=function(){var t=this.columnModel,n=0,r=t.getHeaderRowCount(),o,s=this.filterManager.hasFloatingFilters();s&&(r++,n=1);var a=this.columnModel.getColumnGroupHeaderRowHeight(),l=this.columnModel.getColumnHeaderRowHeight(),u=1+n,c=r-u;if(o=n*t.getFloatingFiltersHeight(),o+=c*a,o+=l,this.headerHeight!==o){this.headerHeight=o;var d="".concat(o+1,"px");this.comp.setHeightAndMinHeight(d),this.eventService.dispatchEvent({type:w.EVENT_HEADER_HEIGHT_CHANGED})}},e.prototype.onPivotModeChanged=function(){var t=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)},e.prototype.onDisplayedColumnsChanged=function(){var t=this.columnModel.getAllDisplayedColumns(),n=t.some(function(r){return r.isSpanHeaderHeight()});this.comp.addOrRemoveCssClass("ag-header-allow-overflow",n)},e.prototype.onTabKeyDown=function(t){var n=this.gridOptionsService.get("enableRtl"),r=t.shiftKey!==n?ha.LEFT:ha.RIGHT;(this.headerNavigationService.navigateHorizontally(r,!0,t)||this.focusService.focusNextGridCoreContainer(t.shiftKey))&&t.preventDefault()},e.prototype.handleKeyDown=function(t){var n=null;switch(t.key){case F.LEFT:n=ha.LEFT;case F.RIGHT:W(n)||(n=ha.RIGHT),this.headerNavigationService.navigateHorizontally(n,!1,t);break;case F.UP:n=ha.UP;case F.DOWN:W(n)||(n=ha.DOWN),this.headerNavigationService.navigateVertically(n,null,t)&&t.preventDefault();break;default:return}},e.prototype.onFocusOut=function(t){var n=this.gridOptionsService.getDocument(),r=t.relatedTarget;!r&&this.eGui.contains(n.activeElement)||this.eGui.contains(r)||this.focusService.clearFocusedHeader()},Rg([_("headerNavigationService")],e.prototype,"headerNavigationService",void 0),Rg([_("focusService")],e.prototype,"focusService",void 0),Rg([_("columnModel")],e.prototype,"columnModel",void 0),Rg([_("ctrlsService")],e.prototype,"ctrlsService",void 0),Rg([_("filterManager")],e.prototype,"filterManager",void 0),e}(Y),Epe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Dpe=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Tpe=function(i){Epe(e,i);function e(){return i.call(this,e.TEMPLATE)||this}return e.prototype.postConstruct=function(){var t=this,n={addOrRemoveCssClass:function(s,a){return t.addOrRemoveCssClass(s,a)},setHeightAndMinHeight:function(s){t.getGui().style.height=s,t.getGui().style.minHeight=s}},r=this.createManagedBean(new bpe);r.setComp(n,this.getGui(),this.getFocusableElement());var o=function(s){t.createManagedBean(s),t.appendChild(s)};o(new Ax("left")),o(new Ax(null)),o(new Ax("right"))},e.TEMPLATE='<div class="ag-header" role="presentation"/>',Dpe([Z],e.prototype,"postConstruct",null),e}(Fe),Rpe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ox=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Ape=function(i){Rpe(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.addResizeBar=function(t){var n=this,r={dragStartPixels:t.dragStartPixels||0,eElement:t.eResizeBar,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this,t),onDragging:this.onDragging.bind(this,t),includeTouch:!0,stopPropagationForTouch:!0};this.dragService.addDragSource(r);var o=function(){return n.dragService.removeDragSource(r)};return o},e.prototype.onDragStart=function(t,n){this.dragStartX=n.clientX,this.setResizeIcons();var r=n instanceof MouseEvent&&n.shiftKey===!0;t.onResizeStart(r)},e.prototype.setResizeIcons=function(){var t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!0),t.disableUserSelect(!0)},e.prototype.onDragStop=function(t,n){t.onResizeEnd(this.resizeAmount),this.resetIcons()},e.prototype.resetIcons=function(){var t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!1),t.disableUserSelect(!1)},e.prototype.onDragging=function(t,n){this.resizeAmount=n.clientX-this.dragStartX,t.onResizing(this.resizeAmount)},Ox([_("dragService")],e.prototype,"dragService",void 0),Ox([_("ctrlsService")],e.prototype,"ctrlsService",void 0),e=Ox([ne("horizontalResizeService")],e),e}(Y),Ope=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ag=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},xpe=function(i){Ope(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},e.prototype.showMenuAfterMouseEvent=function(t,n){var r=this;this.showPopup(t,function(o){r.popupService.positionPopupUnderMouseEvent({column:t,type:"columnMenu",mouseEvent:n,ePopup:o})},"columnMenu",n.target)},e.prototype.showMenuAfterButtonClick=function(t,n,r){var o=this;this.showPopup(t,function(s){o.popupService.positionPopupByComponent({type:r,eventSource:n,ePopup:s,keepWithinBounds:!0,position:"under",column:t})},r,n)},e.prototype.showPopup=function(t,n,r,o){var s=this,a=this.filterManager.getOrCreateFilterWrapper(t,"COLUMN_MENU");if(!a)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var l=document.createElement("div");In(l,"presentation"),l.classList.add("ag-menu"),this.tabListener=this.addManagedListener(l,"keydown",function(g){return s.trapFocusWithin(g,l)}),a.guiPromise.then(function(g){return l.appendChild(g)});var u,c=function(){var g;return(g=a.filterPromise)===null||g===void 0?void 0:g.then(function(m){var v;return(v=m?.afterGuiDetached)===null||v===void 0?void 0:v.call(m)})},d=o||this.ctrlsService.getGridBodyCtrl().getGui(),h=function(g){t.setMenuVisible(!1,"contextMenu");var m=g instanceof KeyboardEvent;if(s.tabListener&&(s.tabListener=s.tabListener()),m&&o&&Ar(o)){var v=s.focusService.findTabbableParent(o);v&&v.focus()}c()},f=this.localeService.getLocaleTextFunc(),p=this.popupService.addPopup({modal:!0,eChild:l,closeOnEsc:!0,closedCallback:h,positionCallback:function(){return n(l)},anchorToElement:d,ariaLabel:f("ariaLabelColumnMenu","Column Menu")});p&&(this.hidePopup=u=p.hideFunc),a.filterPromise.then(function(g){n(l),g.afterGuiAttached&&g.afterGuiAttached({container:r,hidePopup:u})}),t.setMenuVisible(!0,"contextMenu")},e.prototype.trapFocusWithin=function(t,n){t.key!==F.TAB||t.defaultPrevented||this.focusService.findNextFocusableElement(n,!1,t.shiftKey)||(t.preventDefault(),this.focusService.focusInto(n,t.shiftKey))},e.prototype.isMenuEnabled=function(t){return t.isFilterAllowed()&&t.getMenuTabs(["filterMenuTab"]).includes("filterMenuTab")},Ag([_("filterManager")],e.prototype,"filterManager",void 0),Ag([_("popupService")],e.prototype,"popupService",void 0),Ag([_("focusService")],e.prototype,"focusService",void 0),Ag([_("ctrlsService")],e.prototype,"ctrlsService",void 0),e=Ag([ne("menuFactory")],e),e}(Y),Mpe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),IU=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Yg=function(i){return i.TAB_GUARD="ag-tab-guard",i.TAB_GUARD_TOP="ag-tab-guard-top",i.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",i}(Yg||{}),Ipe=function(i){Mpe(e,i);function e(t){var n=i.call(this)||this;n.skipTabGuardFocus=!1;var r=t.comp,o=t.eTopGuard,s=t.eBottomGuard,a=t.focusTrapActive,l=t.focusInnerElement,u=t.onFocusIn,c=t.onFocusOut,d=t.shouldStopEventPropagation,h=t.onTabKeyDown,f=t.handleKeyDown,p=t.eFocusableElement;return n.comp=r,n.eTopGuard=o,n.eBottomGuard=s,n.providedFocusInnerElement=l,n.eFocusableElement=p,n.focusTrapActive=!!a,n.providedFocusIn=u,n.providedFocusOut=c,n.providedShouldStopEventPropagation=d,n.providedOnTabKeyDown=h,n.providedHandleKeyDown=f,n}return e.prototype.postConstruct=function(){var t=this;this.createManagedBean(new mc(this.eFocusableElement,{shouldStopEventPropagation:function(){return t.shouldStopEventPropagation()},onTabKeyDown:function(n){return t.onTabKeyDown(n)},handleKeyDown:function(n){return t.handleKeyDown(n)},onFocusIn:function(n){return t.onFocusIn(n)},onFocusOut:function(n){return t.onFocusOut(n)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(n){return t.addManagedListener(n,"focus",t.onFocus.bind(t))})},e.prototype.handleKeyDown=function(t){this.providedHandleKeyDown&&this.providedHandleKeyDown(t)},e.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},e.prototype.shouldStopEventPropagation=function(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1},e.prototype.activateTabGuards=function(){var t=this.gridOptionsService.get("tabIndex");this.comp.setTabIndex(t.toString())},e.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},e.prototype.onFocus=function(t){if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}var n=t.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(n):this.focusInnerElement(n)},e.prototype.onFocusIn=function(t){this.focusTrapActive||(this.providedFocusIn&&this.providedFocusIn(t),this.deactivateTabGuards())},e.prototype.onFocusOut=function(t){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(t),this.eFocusableElement.contains(t.relatedTarget)||this.activateTabGuards())},e.prototype.onTabKeyDown=function(t){var n=this;if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(t);return}if(!this.focusTrapActive&&!t.defaultPrevented){var r=this.tabGuardsAreActive();r&&this.deactivateTabGuards();var o=this.getNextFocusableElement(t.shiftKey);r&&setTimeout(function(){return n.activateTabGuards()},0),o&&(o.focus(),t.preventDefault())}},e.prototype.focusInnerElement=function(t){t===void 0&&(t=!1);var n=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(n.splice(0,1),n.splice(n.length-1,1)),n.length&&n[t?n.length-1:0].focus({preventScroll:!0})},e.prototype.getNextFocusableElement=function(t){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,t)},e.prototype.forceFocusOutOfContainer=function(t){var n=this;t===void 0&&(t=!1);var r=t?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,r.focus(),window.setTimeout(function(){n.activateTabGuards()})},IU([_("focusService")],e.prototype,"focusService",void 0),IU([Z],e.prototype,"postConstruct",null),e}(Y),Ppe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Fpe=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Npe=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},um=function(i){Ppe(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.initialiseTabGuard=function(t){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var n=[this.eTopGuard,this.eBottomGuard],r={setTabIndex:function(o){n.forEach(function(s){return o!=null?s.setAttribute("tabindex",o):s.removeAttribute("tabindex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new Ipe({comp:r,focusTrapActive:!!t.focusTrapActive,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:t.onFocusIn,onFocusOut:t.onFocusOut,focusInnerElement:t.focusInnerElement,handleKeyDown:t.handleKeyDown,onTabKeyDown:t.onTabKeyDown,shouldStopEventPropagation:t.shouldStopEventPropagation}))},e.prototype.createTabGuard=function(t){var n=document.createElement("div"),r=t==="top"?Yg.TAB_GUARD_TOP:Yg.TAB_GUARD_BOTTOM;return n.classList.add(Yg.TAB_GUARD,r),In(n,"presentation"),n},e.prototype.addTabGuards=function(t,n){this.eFocusableElement.insertAdjacentElement("afterbegin",t),this.eFocusableElement.insertAdjacentElement("beforeend",n)},e.prototype.removeAllChildrenExceptTabGuards=function(){var t=[this.eTopGuard,this.eBottomGuard];Wn(this.getFocusableElement()),this.addTabGuards.apply(this,Npe([],Fpe(t),!1))},e.prototype.forceFocusOutOfContainer=function(t){t===void 0&&(t=!1),this.tabGuardCtrl.forceFocusOutOfContainer(t)},e.prototype.appendChild=function(t,n){am(t)||(t=t.getGui());var r=this.eBottomGuard;r?r.insertAdjacentElement("beforebegin",t):i.prototype.appendChild.call(this,t,n)},e}(Fe),Lpe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_w=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},yBe=function(i){Lpe(e,i);function e(t){var n=i.call(this,e.getTemplate(t.cssClass))||this;return n.items=[],n.tabbedItemScrollMap=new Map,n.params=t,t.items&&t.items.forEach(function(r){return n.addItem(r)}),n}return e.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),focusInnerElement:this.focusInnerElement.bind(this),focusTrapActive:!0}),this.addDestroyFunc(function(){var n,r,o;return(o=(r=(n=t.activeItem)===null||n===void 0?void 0:n.tabbedItem)===null||r===void 0?void 0:r.afterDetachedCallback)===null||o===void 0?void 0:o.call(r)})},e.getTemplate=function(t){return'<div class="ag-tabs '.concat(t,`">
            <div ref="eHeader" role="tablist" class="ag-tabs-header `).concat(t?"".concat(t,"-header"):"",`"></div>
            <div ref="eBody" role="presentation" class="ag-tabs-body `).concat(t?"".concat(t,"-body"):"",`"></div>
        </div>`)},e.prototype.handleKeyDown=function(t){var n=this.gridOptionsService.getDocument();switch(t.key){case F.RIGHT:case F.LEFT:if(!this.eHeader.contains(n.activeElement))return;var r=t.key===F.RIGHT,o=this.gridOptionsService.get("enableRtl"),s=this.items.indexOf(this.activeItem),a=r!==o?Math.min(s+1,this.items.length-1):Math.max(s-1,0);if(s===a)return;t.preventDefault();var l=this.items[a];this.showItemWrapper(l),l.eHeaderButton.focus();break;case F.UP:case F.DOWN:t.stopPropagation();break}},e.prototype.onTabKeyDown=function(t){if(!t.defaultPrevented){var n=this,r=n.focusService,o=n.eHeader,s=n.eBody,a=n.activeItem,l=this.gridOptionsService.getDocument(),u=l.activeElement,c=t.target;if(t.preventDefault(),o.contains(u)){this.focusBody(t.shiftKey);return}var d=null;r.isTargetUnderManagedComponent(s,c)&&(t.shiftKey&&(d=this.focusService.findFocusableElementBeforeTabGuard(s,c)),d||(d=a.eHeaderButton)),!d&&s.contains(u)&&(d=r.findNextFocusableElement(s,!1,t.shiftKey),d||this.focusHeader()),d&&d.focus()}},e.prototype.focusInnerElement=function(t){t?this.focusHeader():this.focusBody(!0)},e.prototype.focusHeader=function(){this.activeItem.eHeaderButton.focus()},e.prototype.focusBody=function(t){this.focusService.focusInto(this.eBody,t)},e.prototype.setAfterAttachedParams=function(t){this.afterAttachedParams=t},e.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},e.prototype.addItem=function(t){var n=document.createElement("span");In(n,"tab"),n.setAttribute("tabindex","-1"),n.appendChild(t.title),n.classList.add("ag-tab"),this.eHeader.appendChild(n),ga(n,t.titleLabel);var r={tabbedItem:t,eHeaderButton:n};this.items.push(r),n.addEventListener("click",this.showItemWrapper.bind(this,r))},e.prototype.showItem=function(t){var n=this.items.find(function(r){return r.tabbedItem===t});n&&this.showItemWrapper(n)},e.prototype.showItemWrapper=function(t){var n=this,r,o,s=t.tabbedItem,a=t.eHeaderButton;if(this.params.onItemClicked&&this.params.onItemClicked({item:s}),this.activeItem===t){yW(this.params.onActiveItemClicked);return}this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),Wn(this.eBody),s.bodyPromise.then(function(l){n.eBody.appendChild(l);var u=!n.focusService.isKeyboardMode();if(n.focusService.focusInto(n.eBody,!1,u),s.afterAttachedCallback&&s.afterAttachedCallback(n.afterAttachedParams),n.params.keepScrollPosition){var c=s.getScrollableContainer&&s.getScrollableContainer()||l;n.lastScrollListener=n.addManagedListener(c,"scroll",function(){n.tabbedItemScrollMap.set(s.name,c.scrollTop)});var d=n.tabbedItemScrollMap.get(s.name);d!==void 0&&setTimeout(function(){c.scrollTop=d},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),(o=(r=this.activeItem.tabbedItem).afterDetachedCallback)===null||o===void 0||o.call(r)),a.classList.add("ag-tab-selected"),this.activeItem=t},_w([_("focusService")],e.prototype,"focusService",void 0),_w([J("eHeader")],e.prototype,"eHeader",void 0),_w([J("eBody")],e.prototype,"eBody",void 0),_w([Z],e.prototype,"postConstruct",null),e}(um),kpe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Vpe=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Hpe=50,Gpe=function(i){kpe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.polyfillFunctions=[],t}return e.prototype.observeResize=function(t,n){var r=this,o=this.gridOptionsService.getWindow(),s=function(){var c=new o.ResizeObserver(n);return c.observe(t),function(){return c.disconnect()}},a=function(){var c,d,h=(c=t?.clientWidth)!==null&&c!==void 0?c:0,f=(d=t?.clientHeight)!==null&&d!==void 0?d:0,p=!0,g=function(){var m,v;if(p){var y=(m=t?.clientWidth)!==null&&m!==void 0?m:0,C=(v=t?.clientHeight)!==null&&v!==void 0?v:0,S=y!==h||C!==f;S&&(h=y,f=C,n()),r.doNextPolyfillTurn(g)}};return g(),function(){return p=!1}},l=this.gridOptionsService.get("suppressBrowserResizeObserver"),u=!!o.ResizeObserver;return u&&!l?s():this.getFrameworkOverrides().wrapIncoming(function(){return a()},"resize-observer")},e.prototype.doNextPolyfillTurn=function(t){this.polyfillFunctions.push(t),this.schedulePolyfill()},e.prototype.schedulePolyfill=function(){var t=this;if(!this.polyfillScheduled){var n=function(){var r=t.polyfillFunctions;t.polyfillScheduled=!1,t.polyfillFunctions=[],r.forEach(function(o){return o()})};this.polyfillScheduled=!0,window.setTimeout(n,Hpe)}},e=Vpe([ne("resizeObserverService")],e),e}(Y),Bpe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Cw=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},jpe=function(i){Bpe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.createTasksP1={list:[],sorted:!1},t.createTasksP2={list:[],sorted:!1},t.destroyTasks=[],t.ticking=!1,t.scrollGoingDown=!0,t.lastPage=0,t.lastScrollTop=0,t.taskCount=0,t.cancelledTasks=new Set,t}return e.prototype.setScrollTop=function(t){var n=this.gridOptionsService.get("pagination");if(this.scrollGoingDown=t>=this.lastScrollTop,n&&t===0){var r=this.paginationProxy.getCurrentPage();r!==this.lastPage&&(this.lastPage=r,this.scrollGoingDown=!0)}this.lastScrollTop=t},e.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsService.get("suppressAnimationFrame")},e.prototype.isOn=function(){return this.useAnimationFrame},e.prototype.verifyAnimationFrameOn=function(t){this.useAnimationFrame===!1&&console.warn("AG Grid: AnimationFrameService.".concat(t," called but animation frames are off"))},e.prototype.createTask=function(t,n,r){this.verifyAnimationFrameOn(r);var o={task:t,index:n,createOrder:++this.taskCount};this.addTaskToList(this[r],o),this.schedule()},e.prototype.cancelTask=function(t){this.cancelledTasks.add(t)},e.prototype.addTaskToList=function(t,n){t.list.push(n),t.sorted=!1},e.prototype.sortTaskList=function(t){if(!t.sorted){var n=this.scrollGoingDown?1:-1;t.list.sort(function(r,o){return r.index!==o.index?n*(o.index-r.index):o.createOrder-r.createOrder}),t.sorted=!0}},e.prototype.addDestroyTask=function(t){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(t),this.schedule()},e.prototype.executeFrame=function(t){this.verifyAnimationFrameOn("executeFrame");for(var n=this.createTasksP1,r=n.list,o=this.createTasksP2,s=o.list,a=this.destroyTasks,l=new Date().getTime(),u=new Date().getTime()-l,c=t<=0,d=this.ctrlsService.getGridBodyCtrl();c||u<t;){var h=d.getScrollFeature().scrollGridIfNeeded();if(!h){var f=void 0;if(r.length)this.sortTaskList(n),f=r.pop().task;else if(s.length)this.sortTaskList(o),f=s.pop().task;else if(a.length)f=a.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(f)||f()}u=new Date().getTime()-l}r.length||s.length||a.length?this.requestFrame():this.stopTicking()},e.prototype.stopTicking=function(){this.ticking=!1},e.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},e.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},e.prototype.requestFrame=function(){var t=this.executeFrame.bind(this,60);this.requestAnimationFrame(t)},e.prototype.requestAnimationFrame=function(t){var n=this.gridOptionsService.getWindow();n.requestAnimationFrame?n.requestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.setTimeout(t,0)},e.prototype.isQueueEmpty=function(){return!this.ticking},e.prototype.debounce=function(t){var n=this,r=!1;return function(){if(!n.isOn()){window.setTimeout(t,0);return}r||(r=!0,n.addDestroyTask(function(){r=!1,t()}))}},Cw([_("ctrlsService")],e.prototype,"ctrlsService",void 0),Cw([_("paginationProxy")],e.prototype,"paginationProxy",void 0),Cw([Z],e.prototype,"init",null),e=Cw([ne("animationFrameService")],e),e}(Y),Je=function(i){return i.EVERYTHING="group",i.FILTER="filter",i.SORT="sort",i.MAP="map",i.AGGREGATE="aggregate",i.FILTER_AGGREGATES="filter_aggregates",i.PIVOT="pivot",i.NOTHING="nothing",i}(Je||{}),Upe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),xx=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Wpe=function(i){Upe(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.isClientSideRowModel=this.rowModel.getType()==="clientSide"},e.prototype.expandRows=function(t){if(this.isClientSideRowModel){var n=new Set(t);this.rowModel.forEachNode(function(r){r.id&&n.has(r.id)&&(r.expanded=!0)}),this.onGroupExpandedOrCollapsed()}},e.prototype.getExpandedRows=function(){var t=[];return this.rowModel.forEachNode(function(n){var r=n.expanded,o=n.id;r&&o&&t.push(o)}),t},e.prototype.expandAll=function(t){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(t)},e.prototype.setRowNodeExpanded=function(t,n,r){t&&(r&&t.parent&&t.parent.level!==-1&&this.setRowNodeExpanded(t.parent,n,r),t.setExpanded(n))},e.prototype.onGroupExpandedOrCollapsed=function(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:Je.MAP})},xx([_("rowModel")],e.prototype,"rowModel",void 0),xx([Z],e.prototype,"postConstruct",null),e=xx([ne("expansionService")],e),e}(Y),zpe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Og=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},$pe=function(i){zpe(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(n){t.centerRowContainerCtrl=n.centerRowContainerCtrl})},e.prototype.getPreferredWidthForColumn=function(t,n){var r=this.getHeaderCellForColumn(t);if(!r)return-1;var o=this.rowRenderer.getAllCellsForColumn(t);return n||o.push(r),this.addElementsToContainerAndGetWidth(o)},e.prototype.getPreferredWidthForColumnGroup=function(t){var n=this.getHeaderCellForColumn(t);return n?this.addElementsToContainerAndGetWidth([n]):-1},e.prototype.addElementsToContainerAndGetWidth=function(t){var n=this,r=document.createElement("form");r.style.position="fixed";var o=this.centerRowContainerCtrl.getContainerElement();t.forEach(function(l){return n.cloneItemIntoDummy(l,r)}),o.appendChild(r);var s=r.offsetWidth;o.removeChild(r);var a=this.getAutoSizePadding();return s+a},e.prototype.getAutoSizePadding=function(){return this.gridOptionsService.get("autoSizePadding")},e.prototype.getHeaderCellForColumn=function(t){var n=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(r){var o=r.getHtmlElementForColumnHeader(t);o!=null&&(n=o)}),n},e.prototype.cloneItemIntoDummy=function(t,n){var r=t.cloneNode(!0);r.style.width="",r.style.position="static",r.style.left="";var o=document.createElement("div"),s=o.classList,a=["ag-header-cell","ag-header-group-cell"].some(function(h){return r.classList.contains(h)});a?(s.add("ag-header","ag-header-row"),o.style.position="static"):s.add("ag-row");for(var l=t.parentElement;l;){var u=["ag-header-row","ag-row"].some(function(h){return l.classList.contains(h)});if(u){for(var c=0;c<l.classList.length;c++){var d=l.classList[c];d!="ag-row-position-absolute"&&s.add(d)}break}l=l.parentElement}o.appendChild(r),n.appendChild(o)},Og([_("rowRenderer")],e.prototype,"rowRenderer",void 0),Og([_("ctrlsService")],e.prototype,"ctrlsService",void 0),Og([_("rowCssClassCalculator")],e.prototype,"rowCssClassCalculator",void 0),Og([Z],e.prototype,"postConstruct",null),e=Og([ne("autoWidthCalculator")],e),e}(Y),qpe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ww=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Ype=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Kpe=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Qpe=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},Zpe=function(i){qpe(e,i);function e(t,n){var r=i.call(this)||this;return r.createRowCon=t,r.destroyRowCtrls=n,r.stickyRowCtrls=[],r.containerHeight=0,r}return e.prototype.postConstruct=function(){var t=this;this.isClientSide=this.rowModel.getType()==="clientSide",this.ctrlsService.whenReady(function(n){t.gridBodyCtrl=n.gridBodyCtrl})},e.prototype.getStickyRowCtrls=function(){return this.stickyRowCtrls},e.prototype.checkStickyRows=function(){var t=this,n=0;if(!this.gridOptionsService.isGroupRowsSticky())return this.refreshNodesAndContainerHeight([],n);for(var r=[],o=this.rowRenderer.getFirstVisibleVerticalPixel(),s=function(p){var g,m,v;r.push(p);var y;if(t.isClientSide){for(var C=p;C.isExpandable()&&C.expanded;)if(C.master)C=C.detailNode;else if(C.childrenAfterSort){if(C.childrenAfterSort.length===0)break;C=dt(C.childrenAfterSort)}y=C.rowTop+C.rowHeight}else if(p.master)y=p.detailNode.rowTop+p.detailNode.rowHeight;else{var S=(g=p.childStore)===null||g===void 0?void 0:g.getStoreBounds();y=((m=S?.heightPx)!==null&&m!==void 0?m:0)+((v=S?.topPx)!==null&&v!==void 0?v:0)}var E=o+n+p.rowHeight;y<E?p.stickyRowTop=n+(y-E):p.stickyRowTop=n,n=0,r.forEach(function(T){var O=T.stickyRowTop+T.rowHeight;n<O&&(n=O)})},a=0;;){var l=o+n,u=this.rowModel.getRowIndexAtPixel(l),c=this.rowModel.getRow(u);if(c==null||c.level<0||a++===100)break;for(var d=[],h=c.parent;h.level>=0;)d.push(h),h=h.parent;var f=d.reverse().find(function(p){return r.indexOf(p)<0&&p.displayed});if(f){s(f);continue}if(c.isExpandable()&&c.expanded&&c.rowTop<l){s(c);continue}break}return this.refreshNodesAndContainerHeight(r,n)},e.prototype.refreshStickyNode=function(t){for(var n=[],r=0;r<this.stickyRowCtrls.length;r++){var o=this.stickyRowCtrls[r].getRowNode();o!==t&&n.push(o)}this.refreshNodesAndContainerHeight(n,this.containerHeight)&&this.checkStickyRows()},e.prototype.refreshNodesAndContainerHeight=function(t,n){var r,o,s,a=this,l=!1,u=this.stickyRowCtrls.filter(function(m){return t.indexOf(m.getRowNode())===-1}),c=t.filter(function(m){return a.stickyRowCtrls.findIndex(function(v){return v.getRowNode()===m})===-1});(u.length||c.length)&&(l=!0);var d={};u.forEach(function(m){d[m.getRowNode().id]=m,a.stickyRowCtrls=a.stickyRowCtrls.filter(function(v){return v!==m})});try{for(var h=Ype(Object.values(d)),f=h.next();!f.done;f=h.next()){var p=f.value;p.getRowNode().sticky=!1}}catch(m){r={error:m}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}this.destroyRowCtrls(d,!1);var g=c.map(function(m){return m.sticky=!0,a.createRowCon(m,!1,!1)});return(s=this.stickyRowCtrls).push.apply(s,Qpe([],Kpe(g),!1)),this.stickyRowCtrls.forEach(function(m){return m.setRowTop(m.getRowNode().stickyRowTop)}),this.stickyRowCtrls.sort(function(m,v){return v.getRowNode().rowIndex-m.getRowNode().rowIndex}),this.containerHeight!==n&&(this.containerHeight=n,this.gridBodyCtrl.setStickyTopHeight(n),l=!0),l},ww([_("rowModel")],e.prototype,"rowModel",void 0),ww([_("rowRenderer")],e.prototype,"rowRenderer",void 0),ww([_("ctrlsService")],e.prototype,"ctrlsService",void 0),ww([Z],e.prototype,"postConstruct",null),e}(Y),Xpe=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ro=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},_l=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Cl=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},Jpe=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ege=function(i){Xpe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.destroyFuncsForColumnListeners=[],t.rowCtrlsByRowIndex={},t.zombieRowCtrls={},t.allRowCtrls=[],t.topRowCtrls=[],t.bottomRowCtrls=[],t.refreshInProgress=!1,t.dataFirstRenderedFired=!1,t.setupRangeSelectionListeners=function(){var n=function(){t.getAllCellCtrls().forEach(function(l){return l.onRangeSelectionChanged()})},r=function(){t.getAllCellCtrls().forEach(function(l){return l.updateRangeBordersIfRangeCount()})},o=function(){t.eventService.addEventListener(w.EVENT_RANGE_SELECTION_CHANGED,n),t.eventService.addEventListener(w.EVENT_COLUMN_MOVED,r),t.eventService.addEventListener(w.EVENT_COLUMN_PINNED,r),t.eventService.addEventListener(w.EVENT_COLUMN_VISIBLE,r)},s=function(){t.eventService.removeEventListener(w.EVENT_RANGE_SELECTION_CHANGED,n),t.eventService.removeEventListener(w.EVENT_COLUMN_MOVED,r),t.eventService.removeEventListener(w.EVENT_COLUMN_PINNED,r),t.eventService.removeEventListener(w.EVENT_COLUMN_VISIBLE,r)};t.addDestroyFunc(function(){return s()}),t.addManagedPropertyListener("enableRangeSelection",function(l){var u=l.currentValue;u?o():s()});var a=t.gridOptionsService.get("enableRangeSelection");a&&o()},t}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl(),t.initialise()})},e.prototype.initialise=function(){var t=this;if(this.addManagedListener(this.eventService,w.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,w.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,w.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,w.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,w.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],function(){return t.onDomLayoutChanged()}),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],function(){return t.redraw()}),this.addManagedPropertyListeners(["suppressCellFocus","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],function(){return t.redrawRows()}),this.gridOptionsService.isGroupRowsSticky()){var n=this.rowModel.getType();(n==="clientSide"||n==="serverSide")&&(this.stickyRowFeature=this.createManagedBean(new Zpe(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.get("embedFullWidthRows"),this.redrawAfterModelUpdate()},e.prototype.initialiseCache=function(){if(this.gridOptionsService.get("keepDetailRows")){var t=this.getKeepDetailRowsCount(),n=t??3;this.cachedRowCtrls=new tge(n)}},e.prototype.getKeepDetailRowsCount=function(){return this.gridOptionsService.get("keepDetailRowsCount")},e.prototype.getStickyTopRowCtrls=function(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]},e.prototype.updateAllRowCtrls=function(){var t=Il(this.rowCtrlsByRowIndex),n=Il(this.zombieRowCtrls),r=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];n.length>0||r.length>0?this.allRowCtrls=Cl(Cl(Cl([],_l(t),!1),_l(n),!1),_l(r),!1):this.allRowCtrls=t},e.prototype.onCellFocusChanged=function(t){this.getAllCellCtrls().forEach(function(n){return n.onCellFocused(t)}),this.getFullWidthRowCtrls().forEach(function(n){return n.onFullWidthRowFocused(t)})},e.prototype.registerCellEventListeners=function(){var t=this;this.addManagedListener(this.eventService,w.EVENT_CELL_FOCUSED,function(n){t.onCellFocusChanged(n)}),this.addManagedListener(this.eventService,w.EVENT_CELL_FOCUS_CLEARED,function(){t.onCellFocusChanged()}),this.addManagedListener(this.eventService,w.EVENT_FLASH_CELLS,function(n){t.getAllCellCtrls().forEach(function(r){return r.onFlashCells(n)})}),this.addManagedListener(this.eventService,w.EVENT_COLUMN_HOVER_CHANGED,function(){t.getAllCellCtrls().forEach(function(n){return n.onColumnHover()})}),this.addManagedListener(this.eventService,w.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){t.getAllCellCtrls().forEach(function(n){return n.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,w.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){t.printLayout&&t.getAllCellCtrls().forEach(function(n){return n.onLeftChanged()})}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,w.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},e.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(t){return t()}),this.destroyFuncsForColumnListeners.length=0},e.prototype.refreshListenersToColumnsForCellComps=function(){var t=this;this.removeGridColumnListeners();var n=this.columnModel.getAllGridColumns();n.forEach(function(r){var o=function(d){t.getAllCellCtrls().forEach(function(h){h.getColumn()===r&&d(h)})},s=function(){o(function(d){return d.onLeftChanged()})},a=function(){o(function(d){return d.onWidthChanged()})},l=function(){o(function(d){return d.onFirstRightPinnedChanged()})},u=function(){o(function(d){return d.onLastLeftPinnedChanged()})},c=function(){o(function(d){return d.onColDefChanged()})};r.addEventListener("leftChanged",s),r.addEventListener("widthChanged",a),r.addEventListener("firstRightPinnedChanged",l),r.addEventListener("lastLeftPinnedChanged",u),r.addEventListener("colDefChanged",c),t.destroyFuncsForColumnListeners.push(function(){r.removeEventListener("leftChanged",s),r.removeEventListener("widthChanged",a),r.removeEventListener("firstRightPinnedChanged",l),r.removeEventListener("lastLeftPinnedChanged",u),r.removeEventListener("colDefChanged",c)})})},e.prototype.onDomLayoutChanged=function(){var t=this.gridOptionsService.isDomLayout("print"),n=t||this.gridOptionsService.get("embedFullWidthRows"),r=n!==this.embedFullWidthRows||this.printLayout!==t;this.printLayout=t,this.embedFullWidthRows=n,r&&this.redrawAfterModelUpdate({domLayoutChanged:!0})},e.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)},e.prototype.onPageLoaded=function(t){var n={recycleRows:t.keepRenderedRows,animate:t.animate,newData:t.newData,newPage:t.newPage,onlyBody:!0};this.redrawAfterModelUpdate(n)},e.prototype.getAllCellsForColumn=function(t){var n=[];return this.getAllRowCtrls().forEach(function(r){var o=r.getCellElement(t);o&&n.push(o)}),n},e.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},e.prototype.getTopRowCtrls=function(){return this.topRowCtrls},e.prototype.getCentreRowCtrls=function(){return this.allRowCtrls},e.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},e.prototype.refreshFloatingRows=function(t,n){var r=this;t.forEach(function(o){o.destroyFirstPass(),o.destroySecondPass()}),t.length=0,n&&n.forEach(function(o){var s=new hc(o,r.beans,!1,!1,r.printLayout);t.push(s)})},e.prototype.onPinnedRowDataChanged=function(){var t={recycleRows:!0};this.redrawAfterModelUpdate(t)},e.prototype.redrawRow=function(t,n){var r=this;if(n===void 0&&(n=!1),t.sticky)this.stickyRowFeature.refreshStickyNode(t);else{var o=function(s){var a=s[t.rowIndex];a&&a.getRowNode()===t&&(a.destroyFirstPass(),a.destroySecondPass(),s[t.rowIndex]=r.createRowCon(t,!1,!1))};switch(t.rowPinned){case"top":o(this.topRowCtrls);case"bottom":o(this.bottomRowCtrls);default:o(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}n||this.dispatchDisplayedRowsChanged(!1)},e.prototype.redrawRows=function(t){var n=this,r=t!=null;if(r){t?.forEach(function(o){return n.redrawRow(o,!0)}),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()},e.prototype.getCellToRestoreFocusToAfterRefresh=function(t){var n=t?.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(n==null)return null;var r=this.gridOptionsService.getDocument(),o=r.activeElement,s=this.gridOptionsService.getDomData(o,dc.DOM_DATA_KEY_CELL_CTRL),a=this.gridOptionsService.getDomData(o,hc.DOM_DATA_KEY_ROW_CTRL),l=s||a;return l?n:null},e.prototype.redrawAfterModelUpdate=function(t){t===void 0&&(t={}),this.getLockOnRefresh();var n=this.getCellToRestoreFocusToAfterRefresh(t);this.updateContainerHeights(),this.scrollToTopIfNewData(t);var r=!t.domLayoutChanged&&!!t.recycleRows,o=t.animate&&this.gridOptionsService.isAnimateRows(),s=r?this.getRowsToRecycle():null;r||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows(),this.recycleRows(s,o),this.gridBodyCtrl.updateRowCount(),t.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),n!=null&&this.restoreFocusedCell(n),this.releaseLockOnRefresh()},e.prototype.scrollToTopIfNewData=function(t){var n=t.newData||t.newPage,r=this.gridOptionsService.get("suppressScrollOnNewData");n&&!r&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},e.prototype.updateContainerHeights=function(){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}var t=this.paginationProxy.getCurrentPageHeight();t===0&&(t=1),this.rowContainerHeightService.setModelHeight(t)},e.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},e.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},e.prototype.isRefreshInProgress=function(){return this.refreshInProgress},e.prototype.restoreFocusedCell=function(t){t&&(this.focusService.setRestoreFocusedCell(t),this.onCellFocusChanged(this.beans.gridOptionsService.addGridCommonParams({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"mock"})))},e.prototype.stopEditing=function(t){t===void 0&&(t=!1),this.getAllRowCtrls().forEach(function(n){n.stopEditing(t)})},e.prototype.getAllCellCtrls=function(){for(var t=[],n=this.getAllRowCtrls(),r=n.length,o=0;o<r;o++)for(var s=n[o].getAllCellCtrls(),a=s.length,l=0;l<a;l++)t.push(s[l]);return t},e.prototype.getAllRowCtrls=function(){var t,n,r=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],o=Cl(Cl(Cl([],_l(this.topRowCtrls),!1),_l(this.bottomRowCtrls),!1),_l(r),!1);try{for(var s=Jpe(Object.keys(this.rowCtrlsByRowIndex)),a=s.next();!a.done;a=s.next()){var l=a.value;o.push(this.rowCtrlsByRowIndex[l])}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return o},e.prototype.addRenderedRowListener=function(t,n,r){var o=this.rowCtrlsByRowIndex[n];o&&o.addEventListener(t,r)},e.prototype.flashCells=function(t){t===void 0&&(t={});var n=t.flashDelay,r=t.fadeDelay;this.getCellCtrls(t.rowNodes,t.columns).forEach(function(o){return o.flashCell({flashDelay:n,fadeDelay:r})})},e.prototype.refreshCells=function(t){var n=this;t===void 0&&(t={});var r={forceRefresh:t.force,newData:!1,suppressFlash:t.suppressFlash};this.getCellCtrls(t.rowNodes,t.columns).forEach(function(o){return o.refreshOrDestroyCell(r)}),t.rowNodes&&(this.getRowCtrls(t.rowNodes).forEach(function(o){if(o.isFullWidth()){var s=o.refreshFullWidth();s||n.redrawRow(o.getRowNode(),!0)}}),this.dispatchDisplayedRowsChanged(!1))},e.prototype.getCellRendererInstances=function(t){var n=this,r,o=this.getCellCtrls(t.rowNodes,t.columns).map(function(l){return l.getCellRenderer()}).filter(function(l){return l!=null});if(!((r=t.columns)===null||r===void 0)&&r.length)return o;var s=[],a=this.mapRowNodes(t.rowNodes);return this.getAllRowCtrls().forEach(function(l){if(!(a&&!n.isRowInMap(l.getRowNode(),a))&&l.isFullWidth())for(var u=l.getFullWidthCellRenderers(),c=0;c<u.length;c++){var d=u[c];d!=null&&s.push(d)}}),Cl(Cl([],_l(s),!1),_l(o),!1)},e.prototype.getCellEditorInstances=function(t){var n=[];return this.getCellCtrls(t.rowNodes,t.columns).forEach(function(r){var o=r.getCellEditor();o&&n.push(o)}),n},e.prototype.getEditingCells=function(){var t=[];return this.getAllCellCtrls().forEach(function(n){if(n.isEditing()){var r=n.getCellPosition();t.push(r)}}),t},e.prototype.mapRowNodes=function(t){if(t){var n={top:{},bottom:{},normal:{}};return t.forEach(function(r){var o=r.id;r.rowPinned==="top"?n.top[o]=r:r.rowPinned==="bottom"?n.bottom[o]=r:n.normal[o]=r}),n}},e.prototype.isRowInMap=function(t,n){var r=t.id,o=t.rowPinned;return o==="bottom"?n.bottom[r]!=null:o==="top"?n.top[r]!=null:n.normal[r]!=null},e.prototype.getRowCtrls=function(t){var n=this,r=this.mapRowNodes(t),o=this.getAllRowCtrls();return!t||!r?o:o.filter(function(s){var a=s.getRowNode();return n.isRowInMap(a,r)})},e.prototype.getCellCtrls=function(t,n){var r=this,o;W(n)&&(o={},n.forEach(function(a){var l=r.columnModel.getGridColumn(a);W(l)&&(o[l.getId()]=!0)}));var s=[];return this.getRowCtrls(t).forEach(function(a){a.getAllCellCtrls().forEach(function(l){var u=l.getColumn().getId(),c=o&&!o[u];c||s.push(l)})}),s},e.prototype.destroy=function(){this.removeAllRowComps(),i.prototype.destroy.call(this)},e.prototype.removeAllRowComps=function(){var t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)},e.prototype.getRowsToRecycle=function(){var t=[];fi(this.rowCtrlsByRowIndex,function(r,o){var s=o.getRowNode().id==null;s&&t.push(r)}),this.removeRowCtrls(t);var n={};return fi(this.rowCtrlsByRowIndex,function(r,o){var s=o.getRowNode();n[s.id]=o}),this.rowCtrlsByRowIndex={},n},e.prototype.removeRowCtrls=function(t,n){var r=this;n===void 0&&(n=!1),t.forEach(function(o){var s=r.rowCtrlsByRowIndex[o];s&&(s.destroyFirstPass(n),s.destroySecondPass()),delete r.rowCtrlsByRowIndex[o]})},e.prototype.onBodyScroll=function(t){t.direction==="vertical"&&this.redraw({afterScroll:!0})},e.prototype.redraw=function(t){t===void 0&&(t={});var n=t.afterScroll,r;this.stickyRowFeature&&NM()&&(r=this.getCellToRestoreFocusToAfterRefresh()||void 0);var o=this.firstRenderedRow,s=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();var a=!1;this.stickyRowFeature&&(a=this.stickyRowFeature.checkStickyRows());var l=this.firstRenderedRow!==o||this.lastRenderedRow!==s;if(!(n&&!a&&!l)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,n),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(n&&!a),r!=null)){var u=this.getCellToRestoreFocusToAfterRefresh();r!=null&&u==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(r))}},e.prototype.removeRowCompsNotToDraw=function(t,n){var r={};t.forEach(function(a){return r[a]=!0});var o=Object.keys(this.rowCtrlsByRowIndex),s=o.filter(function(a){return!r[a]});this.removeRowCtrls(s,n)},e.prototype.calculateIndexesToDraw=function(t){var n=this,r=JW(this.firstRenderedRow,this.lastRenderedRow),o=function(c,d){var h=d.getRowNode().rowIndex;h!=null&&(h<n.firstRenderedRow||h>n.lastRenderedRow)&&n.doNotUnVirtualiseRow(d)&&r.push(h)};fi(this.rowCtrlsByRowIndex,o),fi(t,o),r.sort(function(c,d){return c-d});for(var s=[],a=0;a<r.length;a++){var l=r[a],u=this.paginationProxy.getRow(l);u&&!u.sticky&&s.push(l)}return s},e.prototype.recycleRows=function(t,n,r){var o=this;n===void 0&&(n=!1),r===void 0&&(r=!1);var s=this.calculateIndexesToDraw(t);if((this.printLayout||r)&&(n=!1),this.removeRowCompsNotToDraw(s,!n),s.forEach(function(l){var u=o.createOrUpdateRowCtrl(l,t,n,r);W(u)}),t){var a=r&&!this.gridOptionsService.get("suppressAnimationFrame")&&!this.printLayout;a?this.beans.animationFrameService.addDestroyTask(function(){o.destroyRowCtrls(t,n),o.updateAllRowCtrls(),o.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(t,n)}this.updateAllRowCtrls()},e.prototype.dispatchDisplayedRowsChanged=function(t){t===void 0&&(t=!1);var n={type:w.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:t};this.eventService.dispatchEvent(n)},e.prototype.onDisplayedColumnsChanged=function(){var t=this.columnModel.isPinningLeft(),n=this.columnModel.isPinningRight(),r=this.pinningLeft!==t||n!==this.pinningRight;r&&(this.pinningLeft=t,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},e.prototype.redrawFullWidthEmbeddedRows=function(){var t=[];this.getFullWidthRowCtrls().forEach(function(n){var r=n.getRowNode().rowIndex;t.push(r.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(t),this.redraw({afterScroll:!0})},e.prototype.getFullWidthRowCtrls=function(t){var n=this,r=this.mapRowNodes(t);return this.getAllRowCtrls().filter(function(o){if(!o.isFullWidth())return!1;var s=o.getRowNode();return!(r!=null&&!n.isRowInMap(s,r))})},e.prototype.createOrUpdateRowCtrl=function(t,n,r,o){var s,a=this.rowCtrlsByRowIndex[t];a||(s=this.paginationProxy.getRow(t),W(s)&&W(n)&&n[s.id]&&s.alreadyRendered&&(a=n[s.id],n[s.id]=null));var l=!a;if(l)if(s||(s=this.paginationProxy.getRow(t)),W(s))a=this.createRowCon(s,r,o);else return;return s&&(s.alreadyRendered=!0),this.rowCtrlsByRowIndex[t]=a,a},e.prototype.destroyRowCtrls=function(t,n){var r=this,o=[];fi(t,function(s,a){if(a){if(r.cachedRowCtrls&&a.isCacheable()){r.cachedRowCtrls.addRow(a);return}a.destroyFirstPass(!n),n?(r.zombieRowCtrls[a.getInstanceId()]=a,o.push(function(){a.destroySecondPass(),delete r.zombieRowCtrls[a.getInstanceId()]})):a.destroySecondPass()}}),n&&(o.push(function(){r.updateAllRowCtrls(),r.dispatchDisplayedRowsChanged()}),mW(o))},e.prototype.getRowBuffer=function(){return this.gridOptionsService.get("rowBuffer")},e.prototype.getRowBufferInPixels=function(){var t=this.getRowBuffer(),n=this.gridOptionsService.getRowHeightAsNumber();return t*n},e.prototype.workOutFirstAndLastRowsToRender=function(){this.rowContainerHeightService.updateOffset();var t,n;if(!this.paginationProxy.isRowsToRender())t=0,n=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),t=this.paginationProxy.getPageFirstRow(),n=this.paginationProxy.getPageLastRow();else{var r=this.getRowBufferInPixels(),o=this.ctrlsService.getGridBodyCtrl(),s=this.gridOptionsService.get("suppressRowVirtualisation"),a=!1,l=void 0,u=void 0;do{var c=this.paginationProxy.getPixelOffset(),d=this.paginationProxy.getCurrentPagePixelRange(),h=d.pageFirstPixel,f=d.pageLastPixel,p=this.rowContainerHeightService.getDivStretchOffset(),g=o.getScrollFeature().getVScrollPosition(),m=g.top,v=g.bottom;s?(l=h+p,u=f+p):(l=Math.max(m+c-r,h)+p,u=Math.min(v+c+r,f)+p),this.firstVisibleVPixel=Math.max(m+c,h)+p,a=this.ensureAllRowsInRangeHaveHeightsCalculated(l,u)}while(a);var y=this.paginationProxy.getRowIndexAtPixel(l),C=this.paginationProxy.getRowIndexAtPixel(u),S=this.paginationProxy.getPageFirstRow(),E=this.paginationProxy.getPageLastRow();y<S&&(y=S),C>E&&(C=E),t=y,n=C}var T=this.gridOptionsService.isDomLayout("normal"),O=this.gridOptionsService.get("suppressMaxRenderedRowRestriction"),R=Math.max(this.getRowBuffer(),500);T&&!O&&n-t>R&&(n=t+R);var M=t!==this.firstRenderedRow,H=n!==this.lastRenderedRow;if(M||H){this.firstRenderedRow=t,this.lastRenderedRow=n;var V={type:w.EVENT_VIEWPORT_CHANGED,firstRow:t,lastRow:n};this.eventService.dispatchEvent(V)}},e.prototype.dispatchFirstDataRenderedEvent=function(){var t=this;if(!this.dataFirstRenderedFired){this.dataFirstRenderedFired=!0;var n={type:w.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(function(){t.beans.eventService.dispatchEvent(n)})}},e.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(t,n){var r=this.paginationProxy.ensureRowHeightsValid(t,n,-1,-1);return r&&this.updateContainerHeights(),r},e.prototype.getFirstVisibleVerticalPixel=function(){return this.firstVisibleVPixel},e.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},e.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},e.prototype.doNotUnVirtualiseRow=function(t){var n=!1,r=!0,o=t.getRowNode(),s=this.focusService.isRowNodeFocused(o),a=t.isEditing(),l=o.detail,u=s||a||l;if(!u)return n;var c=this.paginationProxy.isRowPresent(o);return c?r:n},e.prototype.createRowCon=function(t,n,r){var o=this.cachedRowCtrls?this.cachedRowCtrls.getRow(t):null;if(o)return o;var s=this.gridOptionsService.get("suppressAnimationFrame"),a=r&&!s&&!this.printLayout,l=new hc(t,this.beans,n,a,this.printLayout);return l},e.prototype.getRenderedNodes=function(){var t=this.rowCtrlsByRowIndex;return Object.keys(t).map(function(n){return t[n].getRowNode()})},e.prototype.getRowByPosition=function(t){var n,r=t.rowIndex;switch(t.rowPinned){case"top":n=this.topRowCtrls[r];break;case"bottom":n=this.bottomRowCtrls[r];break;default:n=this.rowCtrlsByRowIndex[r],n||(n=this.getStickyTopRowCtrls().find(function(o){return o.getRowNode().rowIndex===r})||null);break}return n},e.prototype.getRowNode=function(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},e.prototype.isRangeInRenderedViewport=function(t,n){var r=t==null||n==null;if(r)return!1;var o=t>this.lastRenderedRow,s=n<this.firstRenderedRow,a=!s&&!o;return a},Ro([_("animationFrameService")],e.prototype,"animationFrameService",void 0),Ro([_("paginationProxy")],e.prototype,"paginationProxy",void 0),Ro([_("columnModel")],e.prototype,"columnModel",void 0),Ro([_("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Ro([_("rowModel")],e.prototype,"rowModel",void 0),Ro([_("focusService")],e.prototype,"focusService",void 0),Ro([_("beans")],e.prototype,"beans",void 0),Ro([_("rowContainerHeightService")],e.prototype,"rowContainerHeightService",void 0),Ro([_("ctrlsService")],e.prototype,"ctrlsService",void 0),Ro([Z],e.prototype,"postConstruct",null),e=Ro([ne("rowRenderer")],e),e}(Y),tge=function(){function i(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}return i.prototype.addRow=function(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){var t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}},i.prototype.getRow=function(e){if(e==null||e.id==null)return null;var t=this.entriesMap[e.id];if(!t)return null;this.removeFromCache(t),t.setCached(!1);var n=t.getRowNode()!=e;return n?null:t},i.prototype.removeFromCache=function(e){var t=e.getRowNode().id;delete this.entriesMap[t],br(this.entriesList,e)},i.prototype.getEntries=function(){return this.entriesList},i}(),nge=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),PU=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ige=function(i){nge(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.formatValue=function(t,n,r,o,s){s===void 0&&(s=!0);var a=null,l,u=t.getColDef();if(o?l=o:s&&(l=u.valueFormatter),l){var c=this.gridOptionsService.addGridCommonParams({value:r,node:n,data:n?n.data:null,colDef:u,column:t});typeof l=="function"?a=l(c):a=this.expressionService.evaluate(l,c)}else if(u.refData)return u.refData[r]||"";return a==null&&Array.isArray(r)&&(a=r.join(", ")),a},PU([_("expressionService")],e.prototype,"expressionService",void 0),e=PU([ne("valueFormatterService")],e),e}(Y),rge=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Mx=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},oge=function(i){rge(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(){var t=this;this.setPinnedTopRowData(),this.setPinnedBottomRowData(),this.addManagedPropertyListener("pinnedTopRowData",function(){return t.setPinnedTopRowData()}),this.addManagedPropertyListener("pinnedBottomRowData",function(){return t.setPinnedBottomRowData()})},e.prototype.isEmpty=function(t){var n=t==="top"?this.pinnedTopRows:this.pinnedBottomRows;return Er(n)},e.prototype.isRowsToRender=function(t){return!this.isEmpty(t)},e.prototype.getRowAtPixel=function(t,n){var r=n==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(Er(r))return 0;for(var o=0;o<r.length;o++){var s=r[o],a=s.rowTop+s.rowHeight-1;if(a>=t)return o}return r.length-1},e.prototype.setPinnedTopRowData=function(){var t=this.gridOptionsService.get("pinnedTopRowData");this.pinnedTopRows=this.createNodesFromData(t,!0);var n={type:w.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(n)},e.prototype.setPinnedBottomRowData=function(){var t=this.gridOptionsService.get("pinnedBottomRowData");this.pinnedBottomRows=this.createNodesFromData(t,!1);var n={type:w.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(n)},e.prototype.createNodesFromData=function(t,n){var r=this,o=[];if(t){var s=0;t.forEach(function(a,l){var u=new ke(r.beans);u.data=a;var c=n?ke.ID_PREFIX_TOP_PINNED:ke.ID_PREFIX_BOTTOM_PINNED;u.id=c+l,u.rowPinned=n?"top":"bottom",u.setRowTop(s),u.setRowHeight(r.gridOptionsService.getRowHeightForNode(u).height),u.setRowIndex(l),s+=u.rowHeight,o.push(u)})}return o},e.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},e.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},e.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},e.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},e.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},e.prototype.getPinnedTopRow=function(t){return this.pinnedTopRows[t]},e.prototype.getPinnedBottomRow=function(t){return this.pinnedBottomRows[t]},e.prototype.forEachPinnedTopRow=function(t){Er(this.pinnedTopRows)||this.pinnedTopRows.forEach(t)},e.prototype.forEachPinnedBottomRow=function(t){Er(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(t)},e.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},e.prototype.getTotalHeight=function(t){if(!t||t.length===0)return 0;var n=dt(t);return n.rowTop+n.rowHeight},Mx([_("beans")],e.prototype,"beans",void 0),Mx([Z],e.prototype,"init",null),e=Mx([ne("pinnedRowModel")],e),e}(Y);var yS=function(){function i(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}return i.prototype.setInactive=function(){this.active=!1},i.prototype.isActive=function(){return this.active},i.prototype.depthFirstSearchChangedPath=function(e,t){if(e.children)for(var n=0;n<e.children.length;n++)this.depthFirstSearchChangedPath(e.children[n],t);t(e.rowNode)},i.prototype.depthFirstSearchEverything=function(e,t,n){if(e.childrenAfterGroup)for(var r=0;r<e.childrenAfterGroup.length;r++){var o=e.childrenAfterGroup[r];o.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[r],t,n):n&&t(o)}t(e)},i.prototype.forEachChangedNodeDepthFirst=function(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1),this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)},i.prototype.executeFromRootNode=function(e){e(this.pathRoot.rowNode)},i.prototype.createPathItems=function(e){for(var t=e,n=0;!this.mapToItems[t.id];){var r={rowNode:t,children:null};this.mapToItems[t.id]=r,n++,t=t.parent}return n},i.prototype.populateColumnsMap=function(e,t){var n=this;if(!(!this.keepingColumns||!t))for(var r=e;r;)this.nodeIdsToColumns[r.id]||(this.nodeIdsToColumns[r.id]={}),t.forEach(function(o){return n.nodeIdsToColumns[r.id][o.getId()]=!0}),r=r.parent},i.prototype.linkPathItems=function(e,t){for(var n=e,r=0;r<t;r++){var o=this.mapToItems[n.id],s=this.mapToItems[n.parent.id];s.children||(s.children=[]),s.children.push(o),n=n.parent}},i.prototype.addParentNode=function(e,t){if(!(!e||e.isRowPinned())){var n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}},i.prototype.canSkip=function(e){return this.active&&!this.mapToItems[e.id]},i.prototype.getValueColumnsForNode=function(e,t){if(!this.keepingColumns)return t;var n=this.nodeIdsToColumns[e.id],r=t.filter(function(o){return n[o.getId()]});return r},i.prototype.getNotValueColumnsForNode=function(e,t){if(!this.keepingColumns)return null;var n=this.nodeIdsToColumns[e.id],r=t.filter(function(o){return!n[o.getId()]});return r},i}(),sge=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),mM=function(i){sge(e,i);function e(t){var n=i.call(this)||this;return n.state=e.STATE_WAITING_TO_LOAD,n.version=0,n.id=t,n}return e.prototype.getId=function(){return this.id},e.prototype.load=function(){this.state=e.STATE_LOADING,this.loadFromDatasource()},e.prototype.getVersion=function(){return this.version},e.prototype.setStateWaitingToLoad=function(){this.version++,this.state=e.STATE_WAITING_TO_LOAD},e.prototype.getState=function(){return this.state},e.prototype.pageLoadFailed=function(t){var n=this.isRequestMostRecentAndLive(t);n&&(this.state=e.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},e.prototype.success=function(t,n){this.successCommon(t,n)},e.prototype.pageLoaded=function(t,n,r){this.successCommon(t,{rowData:n,rowCount:r})},e.prototype.isRequestMostRecentAndLive=function(t){var n=t===this.version,r=this.isAlive();return n&&r},e.prototype.successCommon=function(t,n){this.dispatchLoadCompleted();var r=this.isRequestMostRecentAndLive(t);r&&(this.state=e.STATE_LOADED,this.processServerResult(n))},e.prototype.dispatchLoadCompleted=function(t){t===void 0&&(t=!0);var n={type:e.EVENT_LOAD_COMPLETE,success:t,block:this};this.dispatchEvent(n)},e.EVENT_LOAD_COMPLETE="loadComplete",e.STATE_WAITING_TO_LOAD="needsLoading",e.STATE_LOADING="loading",e.STATE_LOADED="loaded",e.STATE_FAILED="failed",e}(Y),age=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Sw=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},lge=function(i,e){return function(t,n){e(t,n,i)}},uge=function(i){age(e,i);function e(){var n=i!==null&&i.apply(this,arguments)||this;return n.activeBlockLoadsCount=0,n.blocks=[],n.active=!0,n}t=e,e.prototype.postConstruct=function(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();var n=this.gridOptionsService.get("blockLoadDebounceMillis");n&&n>0&&(this.checkBlockToLoadDebounce=Ne.debounce(this.performCheckBlocksToLoad.bind(this),n))},e.prototype.setBeans=function(n){this.logger=n.create("RowNodeBlockLoader")},e.prototype.getMaxConcurrentDatasourceRequests=function(){var n=this.gridOptionsService.get("maxConcurrentDatasourceRequests");if(n==null)return 2;if(!(n<=0))return n},e.prototype.addBlock=function(n){this.blocks.push(n),n.addEventListener(mM.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},e.prototype.removeBlock=function(n){Ne.removeFromArray(this.blocks,n)},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.active=!1},e.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:t.BLOCK_LOADED_EVENT}),this.activeBlockLoadsCount==0&&this.dispatchEvent({type:t.BLOCK_LOADER_FINISHED_EVENT})},e.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},e.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.logger.log("checkBlockToLoad: max loads exceeded");return}var n=this.getAvailableLoadingCount(),r=this.blocks.filter(function(o){return o.getState()===mM.STATE_WAITING_TO_LOAD}).slice(0,n);this.registerLoads(r.length),r.forEach(function(o){return o.load()}),this.printCacheStatus()}},e.prototype.getBlockState=function(){if(this.gridOptionsService.isRowModelType("serverSide")){var n=this.rowModel;return n.getBlockStates()}var r={};return this.blocks.forEach(function(o){var s=o.getBlockStateJson(),a=s.id,l=s.state;r[a]=l}),r},e.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = ".concat(this.activeBlockLoadsCount,",")+" blocks = ".concat(JSON.stringify(this.getBlockState())))},e.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},e.prototype.registerLoads=function(n){this.activeBlockLoadsCount+=n},e.prototype.getAvailableLoadingCount=function(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0};var t;return e.BLOCK_LOADED_EVENT="blockLoaded",e.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",Sw([_("rowModel")],e.prototype,"rowModel",void 0),Sw([Z],e.prototype,"postConstruct",null),Sw([lge(0,to("loggerFactory"))],e.prototype,"setBeans",null),e=t=Sw([ne("rowNodeBlockLoader")],e),e}(Y),cge=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ix=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},dge=function(i){cge(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.currentPage=0,t.topDisplayedRowIndex=0,t.bottomDisplayedRowIndex=0,t.pixelOffset=0,t.masterRowCount=0,t}return e.prototype.postConstruct=function(){this.active=this.gridOptionsService.get("pagination"),this.pageSizeFromGridOptions=this.gridOptionsService.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,w.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this)),this.onModelUpdated()},e.prototype.ensureRowHeightsValid=function(t,n,r,o){var s=this.rowModel.ensureRowHeightsValid(t,n,this.getPageFirstRow(),this.getPageLastRow());return s&&this.calculatePages(),s},e.prototype.isPaginateChildRows=function(){var t=this.gridOptionsService.get("groupRemoveSingleChildren")||this.gridOptionsService.get("groupRemoveLowestSingleChildren");return t?!0:this.gridOptionsService.get("paginateChildRows")},e.prototype.onModelUpdated=function(t){this.calculatePages();var n={type:w.EVENT_PAGINATION_CHANGED,animate:t?t.animate:!1,newData:t?t.newData:!1,newPage:t?t.newPage:!1,newPageSize:t?t.newPageSize:!1,keepRenderedRows:t?t.keepRenderedRows:!1};this.eventService.dispatchEvent(n)},e.prototype.onPaginationGridOptionChanged=function(){this.active=this.gridOptionsService.get("pagination"),this.calculatePages();var t={type:w.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!1,keepRenderedRows:!0};this.eventService.dispatchEvent(t)},e.prototype.onPageSizeGridOptionChanged=function(){this.setPageSize(this.gridOptionsService.get("paginationPageSize"),"gridOptions")},e.prototype.goToPage=function(t){if(!(!this.active||this.currentPage===t||typeof this.currentPage!="number")){this.currentPage=t;var n={type:w.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,newPageSize:!1};this.onModelUpdated(n)}},e.prototype.getPixelOffset=function(){return this.pixelOffset},e.prototype.getRow=function(t){return this.rowModel.getRow(t)},e.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},e.prototype.getRowIndexAtPixel=function(t){return this.rowModel.getRowIndexAtPixel(t)},e.prototype.getCurrentPageHeight=function(){return me(this.topRowBounds)||me(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},e.prototype.getCurrentPagePixelRange=function(){var t=this.topRowBounds?this.topRowBounds.rowTop:0,n=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:t,pageLastPixel:n}},e.prototype.isRowPresent=function(t){if(!this.rowModel.isRowPresent(t))return!1;var n=t.rowIndex>=this.topDisplayedRowIndex&&t.rowIndex<=this.bottomDisplayedRowIndex;return n},e.prototype.isEmpty=function(){return this.rowModel.isEmpty()},e.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},e.prototype.forEachNode=function(t){return this.rowModel.forEachNode(t)},e.prototype.forEachNodeOnPage=function(t){for(var n=this.getPageFirstRow(),r=this.getPageLastRow(),o=n;o<=r;o++){var s=this.getRow(o);s&&t(s)}},e.prototype.getType=function(){return this.rowModel.getType()},e.prototype.getRowBounds=function(t){var n=this.rowModel.getRowBounds(t);return n.rowIndex=t,n},e.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},e.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},e.prototype.getRowCount=function(){return this.rowModel.getRowCount()},e.prototype.getPageForIndex=function(t){return Math.floor(t/this.pageSize)},e.prototype.goToPageWithIndex=function(t){if(this.active){var n=this.getPageForIndex(t);this.goToPage(n)}},e.prototype.isRowInPage=function(t){if(!this.active)return!0;var n=this.getPageForIndex(t.rowIndex);return n===this.currentPage},e.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},e.prototype.getCurrentPage=function(){return this.currentPage},e.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},e.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},e.prototype.goToFirstPage=function(){this.goToPage(0)},e.prototype.goToLastPage=function(){var t=this.rowModel.getRowCount(),n=Math.floor(t/this.pageSize);this.goToPage(n)},e.prototype.getPageSize=function(){return this.pageSize},e.prototype.getTotalPages=function(){return this.totalPages},e.prototype.setPage=function(t){this.currentPage=t},Object.defineProperty(e.prototype,"pageSize",{get:function(){return W(this.pageSizeAutoCalculated)?this.pageSizeAutoCalculated:W(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:W(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:W(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize},enumerable:!1,configurable:!0}),e.prototype.unsetAutoCalculatedPageSize=function(){if(this.pageSizeAutoCalculated!==void 0){var t=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==t&&this.onModelUpdated({type:w.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0})}},e.prototype.setPageSize=function(t,n){var r=this.pageSize;switch(n){case"autoCalculated":this.pageSizeAutoCalculated=t;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=t,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=t;break;case"gridOptions":this.pageSizeFromGridOptions=t,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}if(r!==this.pageSize){var o={type:w.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0};this.onModelUpdated(o)}},e.prototype.calculatePages=function(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(W(this.topRowBounds)?this.topRowBounds.rowTop:0)},e.prototype.setPixelOffset=function(t){this.pixelOffset!==t&&(this.pixelOffset=t,this.eventService.dispatchEvent({type:w.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},e.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},e.prototype.adjustCurrentPageIfInvalid=function(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)},e.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid();var n=this.pageSize*this.currentPage,r=this.pageSize*(this.currentPage+1)-1;if(r>t&&(r=t),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(n),r===t)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var o=this.rowModel.getTopLevelRowDisplayedIndex(r+1);this.bottomDisplayedRowIndex=o-1}},e.prototype.getMasterRowCount=function(){return this.masterRowCount},e.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>t&&(this.bottomDisplayedRowIndex=t)},e.prototype.calculatedPagesNotActive=function(){this.setPageSize(this.masterRowCount,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},Ix([_("rowModel")],e.prototype,"rowModel",void 0),Ix([Z],e.prototype,"postConstruct",null),e=Ix([ne("paginationProxy")],e),e}(Y),hge=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),FU=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},fge=function(i){hge(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.processAllCellClasses=function(t,n,r,o){this.processClassRules(void 0,t.cellClassRules,n,r,o),this.processStaticCellClasses(t,n,r)},e.prototype.processClassRules=function(t,n,r,o,s){if(!(n==null&&t==null)){var a={},l={},u=function(p,g){p.split(" ").forEach(function(m){m.trim()!=""&&g(m)})};if(n)for(var c=Object.keys(n),d=function(p){var g=c[p],m=n[g],v;typeof m=="string"?v=h.expressionService.evaluate(m,r):typeof m=="function"&&(v=m(r)),u(g,function(y){v?a[y]=!0:l[y]=!0})},h=this,f=0;f<c.length;f++)d(f);t&&s&&Object.keys(t).forEach(function(p){return u(p,function(g){a[g]||(l[g]=!0)})}),s&&Object.keys(l).forEach(s),Object.keys(a).forEach(o)}},e.prototype.getStaticCellClasses=function(t,n){var r=t.cellClass;if(!r)return[];var o;if(typeof r=="function"){var s=r;o=s(n)}else o=r;return typeof o=="string"&&(o=[o]),o||[]},e.prototype.processStaticCellClasses=function(t,n,r){var o=this.getStaticCellClasses(t,n);o.forEach(function(s){r(s)})},FU([_("expressionService")],e.prototype,"expressionService",void 0),e=FU([ne("stylingService")],e),e}(Y),pge=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),gge=function(i){pge(e,i);function e(t){return i.call(this,t,"ag-toggle-button")||this}return e.prototype.setValue=function(t,n){return i.prototype.setValue.call(this,t,n),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},e}(fS),mge=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),vge=function(i){mge(e,i);function e(t){return i.call(this,t,"ag-text-area",null,"textarea")||this}return e.prototype.setValue=function(t,n){var r=i.prototype.setValue.call(this,t,n);return this.eInput.value=t,r},e.prototype.setCols=function(t){return this.eInput.cols=t,this},e.prototype.setRows=function(t){return this.eInput.rows=t,this},e}(Ol),yge=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_ge=function(i){yge(e,i);function e(t){return i.call(this,t,"ag-date-field","date")||this}return e.prototype.postConstruct=function(){var t=this;i.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this));var n=Io();this.addManagedListener(this.eInput,"mousedown",function(){t.isDisabled()||n||t.eInput.focus()}),this.eInput.step="any"},e.prototype.onWheel=function(t){document.activeElement===this.eInput&&t.preventDefault()},e.prototype.setMin=function(t){var n,r=t instanceof Date?(n=no(t??null,!1))!==null&&n!==void 0?n:void 0:t;return this.min===r?this:(this.min=r,bs(this.eInput,"min",r),this)},e.prototype.setMax=function(t){var n,r=t instanceof Date?(n=no(t??null,!1))!==null&&n!==void 0?n:void 0:t;return this.max===r?this:(this.max=r,bs(this.eInput,"max",r),this)},e.prototype.setStep=function(t){return this.step===t?this:(this.step=t,bs(this.eInput,"step",t),this)},e.prototype.getDate=function(){var t;if(this.eInput.validity.valid)return(t=Xi(this.getValue()))!==null&&t!==void 0?t:void 0},e.prototype.setDate=function(t,n){this.setValue(no(t??null,!1),n)},e}(vc),Cge=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),wge=function(i){Cge(e,i);function e(t){return i.call(this,t,"ag-range-field","range")||this}return e.prototype.postConstruct=function(){i.prototype.postConstruct.call(this);var t=this.config,n=t.min,r=t.max,o=t.step;n!=null&&this.setMinValue(n),r!=null&&this.setMaxValue(r),this.setStep(o||1)},e.prototype.addInputListeners=function(){var t=this;this.addManagedListener(this.eInput,"input",function(n){var r=n.target.value;t.setValue(r)})},e.prototype.setMinValue=function(t){return this.min=t,this.eInput.setAttribute("min",t.toString()),this},e.prototype.setMaxValue=function(t){return this.max=t,this.eInput.setAttribute("max",t.toString()),this},e.prototype.setStep=function(t){return this.eInput.setAttribute("step",t.toString()),this},e.prototype.setValue=function(t,n){this.min!=null&&(t=Math.max(parseFloat(t),this.min).toString()),this.max!=null&&(t=Math.min(parseFloat(t),this.max).toString());var r=i.prototype.setValue.call(this,t,n);return this.eInput.value=t,r},e}(Ol),Sge=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),NU=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},bge=function(i){Sge(e,i);function e(t,n){var r=i.call(this,'<div class="ag-rich-select-row" role="presentation"></div>')||this;return r.params=t,r.wrapperEl=n,r}return e.prototype.postConstruct=function(){this.addManagedListener(this.getGui(),"click",this.onClick.bind(this))},e.prototype.setState=function(t){var n="";this.params.valueFormatter&&(n=this.params.valueFormatter(t));var r=this.populateWithRenderer(t,n);r||this.populateWithoutRenderer(t,n),this.value=t},e.prototype.highlightString=function(t){var n=this.parsedValue;if(!(this.params.cellRenderer||!W(n))){var r=W(t);if(r){var o=n?.toLocaleLowerCase().indexOf(t.toLocaleLowerCase());if(o>=0){var s=o+t.length,a=Cn(n.slice(0,o),!0),l=Cn(n.slice(o,s),!0),u=Cn(n.slice(s));this.renderValueWithoutRenderer("".concat(a,'<span class="ag-rich-select-row-text-highlight">').concat(l,"</span>").concat(u))}else r=!1}r||this.renderValueWithoutRenderer(n)}},e.prototype.updateHighlighted=function(t){var n,r=this.getGui(),o="ag-rich-select-row-".concat(this.getCompId());if((n=r.parentElement)===null||n===void 0||n.setAttribute("id",o),t){var s=this.getParentComponent().getAriaElement();TM(s,o),this.wrapperEl.setAttribute("data-active-option",o)}Dh(r.parentElement,t),this.addOrRemoveCssClass("ag-rich-select-row-selected",t)},e.prototype.populateWithoutRenderer=function(t,n){var r=this.gridOptionsService.getDocument(),o=this.getGui(),s=r.createElement("span");s.style.overflow="hidden",s.style.textOverflow="ellipsis";var a=Cn(W(n)?n:t,!0);this.parsedValue=W(a)?a:null,o.appendChild(s),this.renderValueWithoutRenderer(a)},e.prototype.renderValueWithoutRenderer=function(t){var n=this.getGui().querySelector("span");n&&(n.innerHTML=W(t)?t:"&nbsp;")},e.prototype.populateWithRenderer=function(t,n){var r=this,o,s;return this.params.cellRenderer&&(s=this.userComponentFactory.getCellRendererDetails(this.params,{value:t,valueFormatted:n})),s&&(o=s.newAgStackInstance()),o&&qM(o,this.getGui()),o?(o.then(function(a){r.addDestroyFunc(function(){r.getContext().destroyBean(a)})}),!0):!1},e.prototype.onClick=function(){var t=this.getParentComponent(),n={type:w.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:!1,value:this.value};t?.dispatchEvent(n)},NU([_("userComponentFactory")],e.prototype,"userComponentFactory",void 0),NU([Z],e.prototype,"postConstruct",null),e}(Fe),Ege=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),bw=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Uz=function(i){Ege(e,i);function e(t){var n=i.call(this,e.getTemplate(t?.cssIdentifier||"default"))||this;n.renderedRows=new Map,n.rowHeight=20;var r=t||{},o=r.cssIdentifier,s=o===void 0?"default":o,a=r.ariaRole,l=a===void 0?"listbox":a,u=r.listName;return n.cssIdentifier=s,n.ariaRole=l,n.listName=u,n}return e.prototype.postConstruct=function(){var t=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(n){return t.onFocusIn(n)},onFocusOut:function(n){return t.onFocusOut(n)},focusInnerElement:function(n){return t.focusInnerElement(n)},onTabKeyDown:function(n){return t.onTabKeyDown(n)},handleKeyDown:function(n){return t.handleKeyDown(n)}}),this.setAriaProperties(),this.addManagedListener(this.eventService,w.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))},e.prototype.onGridStylesChanged=function(){this.rowHeight=this.getItemHeight(),this.refresh()},e.prototype.setAriaProperties=function(){var t=this.localeService.getLocaleTextFunc(),n=t("ariaDefaultListName",this.listName||"List"),r=this.eContainer;In(r,this.ariaRole),ga(r,n)},e.prototype.addResizeObserver=function(){var t=this,n=function(){return t.animationFrameService.requestAnimationFrame(function(){return t.drawVirtualRows()})},r=this.resizeObserverService.observeResize(this.getGui(),n);this.addDestroyFunc(r)},e.prototype.focusInnerElement=function(t){this.focusRow(t?this.model.getRowCount()-1:0)},e.prototype.onFocusIn=function(t){var n=t.target;n.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=LW(n)-1)},e.prototype.onFocusOut=function(t){this.getFocusableElement().contains(t.relatedTarget)||(this.lastFocusedRowIndex=null)},e.prototype.handleKeyDown=function(t){switch(t.key){case F.UP:case F.DOWN:this.navigate(t.key===F.UP)&&t.preventDefault();break}},e.prototype.onTabKeyDown=function(t){this.navigate(t.shiftKey)?t.preventDefault():(Es(t),this.forceFocusOutOfContainer(t.shiftKey))},e.prototype.navigate=function(t){if(this.lastFocusedRowIndex==null)return!1;var n=this.lastFocusedRowIndex+(t?-1:1);return n<0||n>=this.model.getRowCount()?!1:(this.focusRow(n),!0)},e.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},e.prototype.focusRow=function(t){var n=this;this.ensureIndexVisible(t),window.setTimeout(function(){if(n.isAlive()){var r=n.renderedRows.get(t);r&&r.eDiv.focus()}},10)},e.prototype.getComponentAt=function(t){var n=this.renderedRows.get(t);return n&&n.rowComponent},e.prototype.forEachRenderedRow=function(t){this.renderedRows.forEach(function(n,r){return t(n.rowComponent,r)})},e.getTemplate=function(t){return'<div class="ag-virtual-list-viewport ag-'.concat(t,`-virtual-list-viewport" role="presentation">
                <div class="ag-virtual-list-container ag-`).concat(t,`-virtual-list-container" ref="eContainer"></div>
            </div>`)},e.prototype.getItemHeight=function(){return this.environment.getListItemHeight()},e.prototype.ensureIndexVisible=function(t,n){n===void 0&&(n=!0);var r=this.model.getRowCount();if(typeof t!="number"||t<0||t>=r)return console.warn("AG Grid: invalid row index for ensureIndexVisible: "+t),!1;var o=t*this.rowHeight,s=o+this.rowHeight,a=this.getGui(),l=a.scrollTop,u=a.offsetHeight,c=l+u,d=n?0:this.rowHeight,h=l>o+d,f=c<s-d;if(h)return a.scrollTop=o,!0;if(f){var p=s-u;return a.scrollTop=p,!0}return!1},e.prototype.setComponentCreator=function(t){this.componentCreator=t},e.prototype.setComponentUpdater=function(t){this.componentUpdater=t},e.prototype.getRowHeight=function(){return this.rowHeight},e.prototype.getScrollTop=function(){return this.getGui().scrollTop},e.prototype.setRowHeight=function(t){this.rowHeight=t,this.refresh()},e.prototype.refresh=function(t){var n=this;if(!(this.model==null||!this.isAlive())){var r=this.model.getRowCount();this.eContainer.style.height="".concat(r*this.rowHeight,"px"),_M(function(){return n.eContainer.clientHeight>=r*n.rowHeight},function(){n.isAlive()&&(n.canSoftRefresh(t)?n.drawVirtualRows(!0):(n.clearVirtualRows(),n.drawVirtualRows()))})}},e.prototype.canSoftRefresh=function(t){return!!(t&&this.renderedRows.size&&typeof this.model.areRowsEqual=="function"&&this.componentUpdater)},e.prototype.clearVirtualRows=function(){var t=this;this.renderedRows.forEach(function(n,r){return t.removeRow(r)})},e.prototype.drawVirtualRows=function(t){if(!(!this.isAlive()||!this.model)){var n=this.getGui(),r=n.scrollTop,o=r+n.offsetHeight,s=Math.floor(r/this.rowHeight),a=Math.floor(o/this.rowHeight);this.ensureRowsRendered(s,a,t)}},e.prototype.ensureRowsRendered=function(t,n,r){var o=this;this.renderedRows.forEach(function(a,l){(l<t||l>n)&&l!==o.lastFocusedRowIndex&&o.removeRow(l)}),r&&this.refreshRows();for(var s=t;s<=n;s++)this.renderedRows.has(s)||s<this.model.getRowCount()&&this.insertRow(s)},e.prototype.insertRow=function(t){var n=this,r=this.model.getRow(t),o=document.createElement("div");o.classList.add("ag-virtual-list-item","ag-".concat(this.cssIdentifier,"-virtual-list-item")),In(o,this.ariaRole==="tree"?"treeitem":"option"),RM(o,this.model.getRowCount()),AM(o,t+1),o.setAttribute("tabindex","-1"),o.style.height="".concat(this.rowHeight,"px"),o.style.top="".concat(this.rowHeight*t,"px");var s=this.componentCreator(r,o);s.addGuiEventListener("focusin",function(){return n.lastFocusedRowIndex=t}),o.appendChild(s.getGui()),this.renderedRows.has(t-1)?this.renderedRows.get(t-1).eDiv.insertAdjacentElement("afterend",o):this.renderedRows.has(t+1)?this.renderedRows.get(t+1).eDiv.insertAdjacentElement("beforebegin",o):this.eContainer.appendChild(o),this.renderedRows.set(t,{rowComponent:s,eDiv:o,value:r})},e.prototype.removeRow=function(t){var n=this.renderedRows.get(t);this.eContainer.removeChild(n.eDiv),this.destroyBean(n.rowComponent),this.renderedRows.delete(t)},e.prototype.refreshRows=function(){var t=this,n=this.model.getRowCount();this.renderedRows.forEach(function(r,o){var s,a;if(o>=n)t.removeRow(o);else{var l=t.model.getRow(o);!((a=(s=t.model).areRowsEqual)===null||a===void 0)&&a.call(s,r.value,l)?t.componentUpdater(l,r.rowComponent):t.removeRow(o)}})},e.prototype.addScrollListener=function(){var t=this;this.addGuiEventListener("scroll",function(){return t.drawVirtualRows()},{passive:!0})},e.prototype.setModel=function(t){this.model=t},e.prototype.getAriaElement=function(){return this.eContainer},e.prototype.destroy=function(){this.isAlive()&&(this.clearVirtualRows(),i.prototype.destroy.call(this))},bw([_("resizeObserverService")],e.prototype,"resizeObserverService",void 0),bw([_("animationFrameService")],e.prototype,"animationFrameService",void 0),bw([J("eContainer")],e.prototype,"eContainer",void 0),bw([Z],e.prototype,"postConstruct",null),e}(um),Dge=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),eS=function(){return eS=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},eS.apply(this,arguments)},LU=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Tge=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,Rge=function(i){Dge(e,i);function e(t){var n=this,r,o;n=i.call(this,eS(eS({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"smallDown",ariaRole:"combobox",template:(r=t?.template)!==null&&r!==void 0?r:Tge,modalPicker:!1},t),{maxPickerHeight:(o=t?.maxPickerHeight)!==null&&o!==void 0?o:"calc(var(--ag-row-height) * 6.5)"}))||this,n.searchString="",n.highlightedItem=-1,n.lastRowHovered=-1,n.searchStringCreator=null;var s=t||{},a=s.cellRowHeight,l=s.value,u=s.valueList,c=s.searchStringCreator;return a!=null&&(n.cellRowHeight=a),l!==void 0&&(n.value=l),u!=null&&(n.values=u),c&&(n.searchStringCreator=c),n}return e.prototype.postConstruct=function(){var t=this;i.prototype.postConstruct.call(this),this.createLoadingElement(),this.createListComponent();var n=this.config,r=n.allowTyping,o=n.placeholder;r?(this.eInput.setAutoComplete(!1).setInputPlaceholder(o),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex");var s=this.config.searchDebounceDelay,a=s===void 0?300:s;this.clearSearchString=eo(this.clearSearchString,a),this.renderSelectedValue(),r&&(this.eInput.onValueChange(function(l){return t.searchTextFromString(l)}),this.addManagedListener(this.eWrapper,"focus",this.onWrapperFocus.bind(this))),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))},e.prototype.createLoadingElement=function(){var t=this.gridOptionsService.getDocument(),n=this.localeService.getLocaleTextFunc(),r=t.createElement("div");r.classList.add("ag-loading-text"),r.innerText=n("loadingOoo","Loading..."),this.eLoading=r},e.prototype.createListComponent=function(){var t=this;this.listComponent=this.createBean(new Uz({cssIdentifier:"rich-select"})),this.listComponent.setComponentCreator(this.createRowComponent.bind(this));var n=function(c,d){};this.listComponent.setComponentUpdater(n),this.listComponent.setParentComponent(this),this.addManagedListener(this.listComponent,w.EVENT_FIELD_PICKER_VALUE_SELECTED,function(c){t.onListValueSelected(c.value,c.fromEnterKey)});var r=this.cellRowHeight;r&&this.listComponent.setRowHeight(r);var o=this.listComponent.getGui(),s=this.listComponent.getAriaElement();this.addManagedListener(o,"mousemove",this.onPickerMouseMove.bind(this)),this.addManagedListener(o,"mousedown",function(c){return c.preventDefault()}),o.classList.add("ag-rich-select-list");var a="ag-rich-select-list-".concat(this.listComponent.getCompId());s.setAttribute("id",a);var l=this.localeService.getLocaleTextFunc(),u=l(this.config.pickerAriaLabelKey,this.config.pickerAriaLabelValue);ga(s,u),MM(this.eWrapper,s)},e.prototype.renderSelectedValue=function(){var t=this,n=this,r=n.value,o=n.eDisplayField,s=n.config,a=this.config,l=a.allowTyping,u=a.initialInputValue,c=this.config.valueFormatter?this.config.valueFormatter(r):r;if(l){this.eInput.setValue(u??c);return}var d;s.cellRenderer&&(d=this.userComponentFactory.getCellRendererDetails(this.config,{value:r,valueFormatted:c}));var h;if(d&&(h=d.newAgStackInstance()),h)Wn(o),qM(h,o),h.then(function(p){t.addDestroyFunc(function(){return t.getContext().destroyBean(p)})});else if(W(this.value))o.innerText=c,o.classList.remove("ag-display-as-placeholder");else{var f=s.placeholder;W(f)?(o.innerHTML="".concat(Cn(f)),o.classList.add("ag-display-as-placeholder")):Wn(o)}},e.prototype.getCurrentValueIndex=function(){var t=this,n=t.currentList,r=t.value;if(r==null||!n)return-1;for(var o=0;o<n.length;o++)if(n[o]===r)return o;return-1},e.prototype.highlightFilterMatch=function(){var t=this,n;(n=this.listComponent)===null||n===void 0||n.forEachRenderedRow(function(r,o){r.highlightString(t.searchString)})},e.prototype.highlightSelectedValue=function(t){var n=this,r;t==null&&(t=this.getCurrentValueIndex()),this.highlightedItem=t,(r=this.listComponent)===null||r===void 0||r.forEachRenderedRow(function(o,s){var a=t===-1?!1:n.highlightedItem===s;o.updateHighlighted(a)})},e.prototype.setRowHeight=function(t){t!==this.cellRowHeight&&(this.cellRowHeight=t),this.listComponent&&this.listComponent.setRowHeight(t)},e.prototype.createPickerComponent=function(){var t=this.values;return t&&this.setValueList({valueList:t}),this.listComponent},e.prototype.setSearchStringCreator=function(t){this.searchStringCreator=t},e.prototype.setValueList=function(t){var n=t.valueList,r=t.refresh;this.listComponent&&this.currentList!==n&&(this.currentList=n,this.listComponent.setModel({getRowCount:function(){return n.length},getRow:function(o){return n[o]},areRowsEqual:function(o,s){return o===s}}),r&&(this.values?this.listComponent.refresh(!0):(this.values=n,this.isPickerDisplayed&&this.showCurrentValueInPicker())))},e.prototype.showPicker=function(){i.prototype.showPicker.call(this),this.showCurrentValueInPicker(),this.displayOrHidePicker()},e.prototype.showCurrentValueInPicker=function(){var t,n;if(this.listComponent){if(!this.currentList){this.isPickerDisplayed&&this.eLoading&&this.listComponent.appendChild(this.eLoading);return}!((t=this.eLoading)===null||t===void 0)&&t.offsetParent&&((n=this.eLoading.parentElement)===null||n===void 0||n.removeChild(this.eLoading));var r=this.getCurrentValueIndex();r!==-1?(this.listComponent.refresh(),this.listComponent.ensureIndexVisible(r),this.listComponent.refresh(!0),this.highlightSelectedValue(r)):this.listComponent.refresh()}},e.prototype.beforeHidePicker=function(){this.highlightedItem=-1,i.prototype.beforeHidePicker.call(this)},e.prototype.onWrapperFocus=function(){if(this.eInput){var t=this.eInput.getFocusableElement();t.focus(),t.select()}},e.prototype.onWrapperFocusOut=function(t){this.eWrapper.contains(t.relatedTarget)||this.hidePicker()},e.prototype.buildSearchStringFromKeyboardEvent=function(t){var n=t.key;if(n===F.BACKSPACE)this.searchString=this.searchString.slice(0,-1),n="";else if(!dS(t))return;t.preventDefault(),this.searchTextFromCharacter(n)},e.prototype.searchTextFromCharacter=function(t){this.searchString+=t,this.runSearch(),this.clearSearchString()},e.prototype.searchTextFromString=function(t){t==null&&(t=""),this.searchString=t,this.runSearch()},e.prototype.buildSearchStrings=function(t){var n=this.config.valueFormatter,r=n===void 0?function(s){return s}:n,o;return typeof t[0]=="number"||typeof t[0]=="string"?o=t.map(function(s){return r(s)}):typeof t[0]=="object"&&this.searchStringCreator&&(o=this.searchStringCreator(t)),o},e.prototype.getSuggestionsAndFilteredValues=function(t,n){var r=this,o=[],s=[];if(!t.length)return{suggestions:o,filteredValues:s};var a=this.config,l=a.searchType,u=l===void 0?"fuzzy":l,c=a.filterList;if(u==="fuzzy"){var d=lm(this.searchString,n,!0);o=d.values;var h=d.indices;if(c&&h.length)for(var f=0;f<h.length;f++)s.push(this.values[h[f]])}else o=n.filter(function(p,g){var m=p.toLocaleLowerCase(),v=r.searchString.toLocaleLowerCase(),y=u==="match"?m.startsWith(v):m.indexOf(v)!==-1;return c&&y&&s.push(r.values[g]),y});return{suggestions:o,filteredValues:s}},e.prototype.filterListModel=function(t){var n=this.config.filterList;n&&(this.setValueList({valueList:t,refresh:!0}),this.alignPickerToComponent())},e.prototype.runSearch=function(){var t,n,r=this.values,o=this.buildSearchStrings(r);if(!o){this.highlightSelectedValue(-1);return}var s=this.getSuggestionsAndFilteredValues(this.searchString,o),a=s.suggestions,l=s.filteredValues,u=this.config,c=u.filterList,d=u.highlightMatch,h=u.searchType,f=h===void 0?"fuzzy":h,p=l.length,g=!!(c&&this.searchString!=="");if(this.filterListModel(g?l:r),a.length){var m=g?0:o.indexOf(a[0]);this.selectListItem(m)}else if(this.highlightSelectedValue(-1),!g||p)(t=this.listComponent)===null||t===void 0||t.ensureIndexVisible(0);else if(g){this.getAriaElement().removeAttribute("data-active-option");var v=(n=this.listComponent)===null||n===void 0?void 0:n.getAriaElement();v&&TM(v,null)}d&&f!=="fuzzy"&&this.highlightFilterMatch(),this.displayOrHidePicker()},e.prototype.displayOrHidePicker=function(){var t,n=(t=this.listComponent)===null||t===void 0?void 0:t.getGui(),r=this.currentList?this.currentList.length===0:!1;n?.classList.toggle("ag-hidden",r)},e.prototype.clearSearchString=function(){this.searchString=""},e.prototype.selectListItem=function(t,n){if(!(!this.isPickerDisplayed||!this.currentList||!this.listComponent||t<0||t>=this.currentList.length)){var r=this.listComponent.ensureIndexVisible(t,!n);r&&!n&&this.listComponent.refresh(!0),this.highlightSelectedValue(t)}},e.prototype.setValue=function(t,n,r){var o=this.currentList?this.currentList.indexOf(t):-1;return o===-1?this:(this.value=t,r||this.selectListItem(o),this.renderSelectedValue(),i.prototype.setValue.call(this,t,n))},e.prototype.createRowComponent=function(t){var n=new bge(this.config,this.eWrapper);n.setParentComponent(this.listComponent),this.getContext().createBean(n),n.setState(t);var r=this.config,o=r.highlightMatch,s=r.searchType,a=s===void 0?"fuzzy":s;return o&&a!=="fuzzy"&&n.highlightString(this.searchString),n},e.prototype.getRowForMouseEvent=function(t){var n=this.listComponent;if(!n)return-1;var r=n?.getGui(),o=r.getBoundingClientRect(),s=n.getScrollTop(),a=t.clientY-o.top+s;return Math.floor(a/n.getRowHeight())},e.prototype.onPickerMouseMove=function(t){if(this.listComponent){var n=this.getRowForMouseEvent(t);n!==-1&&n!=this.lastRowHovered&&(this.lastRowHovered=n,this.selectListItem(n,!0))}},e.prototype.onNavigationKeyDown=function(t,n){t.preventDefault();var r=n===F.DOWN;if(!this.isPickerDisplayed&&r){this.showPicker();return}var o=this.highlightedItem,s=r?1:-1,a=o===-1?0:o+s;this.selectListItem(a)},e.prototype.onEnterKeyDown=function(t){this.isPickerDisplayed&&(t.preventDefault(),this.currentList&&this.onListValueSelected(this.currentList[this.highlightedItem],!0))},e.prototype.onTabKeyDown=function(){!this.isPickerDisplayed||!this.currentList||this.setValue(this.currentList[this.highlightedItem],!1,!0)},e.prototype.onListValueSelected=function(t,n){this.setValue(t,!1,!0),this.dispatchPickerEvent(t,n),this.hidePicker()},e.prototype.dispatchPickerEvent=function(t,n){var r={type:w.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:n,value:t};this.dispatchEvent(r)},e.prototype.getFocusableElement=function(){var t=this.config.allowTyping;return t?this.eInput.getFocusableElement():i.prototype.getFocusableElement.call(this)},e.prototype.onKeyDown=function(t){var n=t.key,r=this.config.allowTyping;switch(n){case F.LEFT:case F.RIGHT:case F.PAGE_HOME:case F.PAGE_END:r||t.preventDefault();break;case F.PAGE_UP:case F.PAGE_DOWN:t.preventDefault();break;case F.DOWN:case F.UP:this.onNavigationKeyDown(t,n);break;case F.ESCAPE:this.isPickerDisplayed&&(Ar(this.listComponent.getGui())&&(t.preventDefault(),Es(t)),this.hidePicker());break;case F.ENTER:this.onEnterKeyDown(t);break;case F.TAB:this.onTabKeyDown();break;default:r||this.buildSearchStringFromKeyboardEvent(t)}},e.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),this.eLoading=void 0,i.prototype.destroy.call(this)},LU([_("userComponentFactory")],e.prototype,"userComponentFactory",void 0),LU([J("eInput")],e.prototype,"eInput",void 0),e}(_z),Age=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ew=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Oge=function(i){Age(e,i);function e(t){var n=i.call(this,t,e.TEMPLATE)||this;return n.labelAlignment="top",n}return e.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},e.prototype.onValueChange=function(t){var n=this,r=w.EVENT_FIELD_VALUE_CHANGED;return this.addManagedListener(this.eText,r,function(){var o=parseFloat(n.eText.getValue());n.eSlider.setValue(o.toString(),!0),t(o||0)}),this.addManagedListener(this.eSlider,r,function(){var o=n.eSlider.getValue();n.eText.setValue(o,!0),t(parseFloat(o))}),this},e.prototype.setSliderWidth=function(t){return this.eSlider.setWidth(t),this},e.prototype.setTextFieldWidth=function(t){return this.eText.setWidth(t),this},e.prototype.setMinValue=function(t){return this.eSlider.setMinValue(t),this.eText.setMin(t),this},e.prototype.setMaxValue=function(t){return this.eSlider.setMaxValue(t),this.eText.setMax(t),this},e.prototype.getValue=function(){return this.eText.getValue()},e.prototype.setValue=function(t){return this.getValue()===t?this:(this.eText.setValue(t,!0),this.eSlider.setValue(t,!0),this.dispatchEvent({type:w.EVENT_FIELD_VALUE_CHANGED}),this)},e.prototype.setStep=function(t){return this.eSlider.setStep(t),this.eText.setStep(t),this},e.TEMPLATE=`<div class="ag-slider">
            <label ref="eLabel"></label>
            <div class="ag-wrapper ag-slider-wrapper">
                <ag-input-range ref="eSlider"></ag-input-range>
                <ag-input-number-field ref="eText"></ag-input-number-field>
            </div>
        </div>`,Ew([J("eLabel")],e.prototype,"eLabel",void 0),Ew([J("eSlider")],e.prototype,"eSlider",void 0),Ew([J("eText")],e.prototype,"eText",void 0),Ew([Z],e.prototype,"init",null),e}(vz),xge=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),wl=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Mge=function(i){xge(e,i);function e(t){t===void 0&&(t={});var n=i.call(this,e.getTemplate(t))||this;n.suppressEnabledCheckbox=!0,n.suppressOpenCloseIcons=!1;var r=t.title,o=t.enabled,s=t.items,a=t.suppressEnabledCheckbox,l=t.suppressOpenCloseIcons;return n.title=r,n.cssIdentifier=t.cssIdentifier||"default",n.enabled=o??!0,n.items=s||[],n.alignItems=t.alignItems||"center",a!=null&&(n.suppressEnabledCheckbox=a),l!=null&&(n.suppressOpenCloseIcons=l),n}return e.getTemplate=function(t){var n=t.cssIdentifier||"default",r=t.direction||"vertical";return'<div class="ag-group ag-'.concat(n,`-group" role="presentation">
            <div class="ag-group-title-bar ag-`).concat(n,`-group-title-bar ag-unselectable" ref="eTitleBar" role="button">
                <span class="ag-group-title-bar-icon ag-`).concat(n,`-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>
                <span class="ag-group-title-bar-icon ag-`).concat(n,`-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>
                <span ref="eTitle" class="ag-group-title ag-`).concat(n,`-group-title"></span>
            </div>
            <div ref="eToolbar" class="ag-group-toolbar ag-`).concat(n,`-group-toolbar">
                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>
            </div>
            <div ref="eContainer" class="ag-group-container ag-group-container-`).concat(r," ag-").concat(n,`-group-container"></div>
        </div>`)},e.prototype.postConstruct=function(){if(this.items.length){var t=this.items;this.items=[],this.addItems(t)}var n=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(n("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},e.prototype.setupExpandContract=function(){var t=this;this.eGroupClosedIcon.appendChild(Xr("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(Xr("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eTitleBar,"click",function(){return t.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(n){switch(n.key){case F.ENTER:case F.SPACE:n.preventDefault(),t.toggleGroupExpand();break;case F.RIGHT:case F.LEFT:n.preventDefault(),t.toggleGroupExpand(n.key===F.RIGHT);break}})},e.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||Oo(this.eTitleBar,this.expanded)},e.prototype.refreshChildDisplay=function(){var t=!this.suppressOpenCloseIcons;tt(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),tt(this.eGroupOpenedIcon,t&&this.expanded),tt(this.eGroupClosedIcon,t&&!this.expanded)},e.prototype.isExpanded=function(){return this.expanded},e.prototype.setAlignItems=function(t){this.alignItems!==t&&this.removeCssClass("ag-group-item-alignment-".concat(this.alignItems)),this.alignItems=t;var n="ag-group-item-alignment-".concat(this.alignItems);return this.addCssClass(n),this},e.prototype.toggleGroupExpand=function(t){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),tt(this.eContainer,!0),this):(t=t??!this.expanded,this.expanded===t?this:(this.expanded=t,this.refreshAriaStatus(),this.refreshChildDisplay(),tt(this.eContainer,t),this.dispatchEvent({type:this.expanded?e.EVENT_EXPANDED:e.EVENT_COLLAPSED}),this))},e.prototype.addItems=function(t){var n=this;t.forEach(function(r){return n.addItem(r)})},e.prototype.addItem=function(t){var n=this.eContainer,r=t instanceof Fe?t.getGui():t;r.classList.add("ag-group-item","ag-".concat(this.cssIdentifier,"-group-item")),n.appendChild(r),this.items.push(r)},e.prototype.hideItem=function(t,n){var r=this.items[n];tt(r,!t)},e.prototype.setTitle=function(t){return this.eTitle.innerText=t,this},e.prototype.addCssClassToTitleBar=function(t){this.eTitleBar.classList.add(t)},e.prototype.setEnabled=function(t,n){return this.enabled=t,this.refreshDisabledStyles(),this.toggleGroupExpand(t),n||this.cbGroupEnabled.setValue(t),this},e.prototype.isEnabled=function(){return this.enabled},e.prototype.onEnableChange=function(t){var n=this;return this.cbGroupEnabled.onValueChange(function(r){n.setEnabled(r,!0),t(r)}),this},e.prototype.hideEnabledCheckbox=function(t){return this.suppressEnabledCheckbox=t,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},e.prototype.hideOpenCloseIcons=function(t){return this.suppressOpenCloseIcons=t,t&&this.toggleGroupExpand(!0),this},e.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},e.EVENT_EXPANDED="expanded",e.EVENT_COLLAPSED="collapsed",wl([J("eTitleBar")],e.prototype,"eTitleBar",void 0),wl([J("eGroupOpenedIcon")],e.prototype,"eGroupOpenedIcon",void 0),wl([J("eGroupClosedIcon")],e.prototype,"eGroupClosedIcon",void 0),wl([J("eToolbar")],e.prototype,"eToolbar",void 0),wl([J("cbGroupEnabled")],e.prototype,"cbGroupEnabled",void 0),wl([J("eTitle")],e.prototype,"eTitle",void 0),wl([J("eContainer")],e.prototype,"eContainer",void 0),wl([Z],e.prototype,"postConstruct",null),e}(Fe),Ige=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),tS=function(){return tS=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},tS.apply(this,arguments)},kU=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Pge=function(i){Ige(e,i);function e(t){t===void 0&&(t=1);var n=i.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return n.level=t,n.menuItems=[],n}return e.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onTabKeyDown:function(n){return t.onTabKeyDown(n)},handleKeyDown:function(n){return t.handleKeyDown(n)}})},e.prototype.onTabKeyDown=function(t){var n=this.getParentComponent(),r=n&&n.getGui(),o=r&&r.classList.contains("ag-focus-managed");o||t.preventDefault(),t.shiftKey&&this.closeIfIsChild(t)},e.prototype.handleKeyDown=function(t){switch(t.key){case F.UP:case F.RIGHT:case F.DOWN:case F.LEFT:t.preventDefault(),this.handleNavKey(t.key);break;case F.ESCAPE:var n=this.findTopMenu();n&&this.focusService.focusInto(n.getGui());break}},e.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},e.prototype.addMenuItems=function(t){var n=this;t?.forEach(function(r){r==="separator"?n.addSeparator():typeof r=="string"?console.warn("AG Grid: unrecognised menu item ".concat(r)):n.addItem(r)})},e.prototype.addItem=function(t){var n=this,r=this.createManagedBean(new xg(tS(tS({},t),{isAnotherSubMenuOpen:function(){return n.menuItems.some(function(o){return o.isSubMenuOpen()})}})));r.setParentComponent(this),GW(r.getGui(),this.level),this.menuItems.push(r),this.appendChild(r.getGui()),this.addManagedListener(r,xg.EVENT_MENU_ITEM_SELECTED,function(o){n.dispatchEvent(o)}),this.addManagedListener(r,xg.EVENT_MENU_ITEM_ACTIVATED,function(o){n.activeMenuItem&&n.activeMenuItem!==o.menuItem&&n.activeMenuItem.deactivate(),n.activeMenuItem=o.menuItem})},e.prototype.activateFirstItem=function(){var t=this.menuItems.filter(function(n){return!n.isDisabled()})[0];t&&t.activate()},e.prototype.addSeparator=function(){var t=`
            <div class="ag-menu-separator" aria-hidden="true">
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
            </div>`;this.appendChild(Zi(t))},e.prototype.findTopMenu=function(){var t=this.getParentComponent();if(!t&&this instanceof e)return this;for(;;){var n=t&&t.getParentComponent&&t.getParentComponent();if(!n||!(n instanceof e||n instanceof xg))break;t=n}return t instanceof e?t:void 0},e.prototype.handleNavKey=function(t){switch(t){case F.UP:case F.DOWN:var n=this.findNextItem(t===F.UP);n&&n!==this.activeMenuItem&&n.activate();return}var r=this.gridOptionsService.get("enableRtl")?F.RIGHT:F.LEFT;t===r?this.closeIfIsChild():this.openChild()},e.prototype.closeIfIsChild=function(t){var n=this.getParentComponent();n&&n instanceof xg&&(t&&t.preventDefault(),n.closeSubMenu(),n.getGui().focus())},e.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},e.prototype.findNextItem=function(t){var n=this.menuItems.filter(function(l){return!l.isDisabled()});if(n.length){if(!this.activeMenuItem)return t?dt(n):n[0];t&&n.reverse();for(var r,o=!1,s=0;s<n.length;s++){var a=n[s];if(!o){a===this.activeMenuItem&&(o=!0);continue}r=a;break}return r||this.activeMenuItem}},e.prototype.destroy=function(){this.clearActiveItem(),i.prototype.destroy.call(this)},kU([_("focusService")],e.prototype,"focusService",void 0),kU([Z],e.prototype,"postConstruct",null),e}(um),Fge=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Nge=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Lge=function(i){Fge(e,i);function e(t){var n=i.call(this)||this;return n.wrappedComponent=t,n.setTemplateFromElement(t.getGui()),n}return e.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onTabKeyDown:function(n){return t.onTabKeyDown(n)},handleKeyDown:function(n){return t.handleKeyDown(n)}})},e.prototype.handleKeyDown=function(t){t.key===F.ESCAPE&&this.closePanel()},e.prototype.onTabKeyDown=function(t){t.defaultPrevented||(this.closePanel(),t.preventDefault())},e.prototype.closePanel=function(){var t=this.parentComponent;t.closeSubMenu(),setTimeout(function(){return t.getGui().focus()},0)},Nge([Z],e.prototype,"postConstruct",null),e}(um),kge=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),VU=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},xg=function(i){kge(e,i);function e(t){var n=i.call(this)||this;return n.params=t,n.isActive=!1,n.subMenuIsOpen=!1,n.setTemplate('<div class="'.concat(n.getClassName(),'" tabindex="-1" role="treeitem"></div>')),n}return e.prototype.init=function(){var t=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var n=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),DM(n,!0)):(this.addGuiEventListener("click",function(r){return t.onItemSelected(r)}),this.addGuiEventListener("keydown",function(r){(r.key===F.ENTER||r.key===F.SPACE)&&(r.preventDefault(),t.onItemSelected(r))}),this.addGuiEventListener("mousedown",function(r){r.stopPropagation(),r.preventDefault()}),this.addGuiEventListener("mouseenter",function(){return t.onMouseEnter()}),this.addGuiEventListener("mouseleave",function(){return t.onMouseLeave()})),this.params.cssClasses&&this.params.cssClasses.forEach(function(r){return t.addCssClass(r)})},e.prototype.isDisabled=function(){return!!this.params.disabled},e.prototype.openSubMenu=function(t){var n=this;if(t===void 0&&(t=!1),this.closeSubMenu(),!!this.params.subMenu){var r=Zi('<div class="ag-menu" role="presentation"></div>'),o;if(this.params.subMenu instanceof Array){var s=NW(this.getGui()),a=isNaN(s)?1:s+1,l=this.createBean(new Pge(a));l.setParentComponent(this),l.addMenuItems(this.params.subMenu),r.appendChild(l.getGui()),this.addManagedListener(l,e.EVENT_MENU_ITEM_SELECTED,function(y){return n.dispatchEvent(y)}),l.addGuiEventListener("mouseenter",function(){return n.cancelDeactivate()}),o=function(){return n.destroyBean(l)},t&&setTimeout(function(){return l.activateFirstItem()},0)}else{var u=this.params.subMenu,c=this.createBean(new Lge(u));c.setParentComponent(this);var d=c.getGui(),h="mouseenter",f=function(){return n.cancelDeactivate()};d.addEventListener(h,f),o=function(){return d.removeEventListener(h,f)},r.appendChild(d),u.afterGuiAttached&&setTimeout(function(){return u.afterGuiAttached()},0)}var p=this.getGui(),g=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:p,ePopup:r}),m=this.localeService.getLocaleTextFunc(),v=this.popupService.addPopup({modal:!0,eChild:r,positionCallback:g,anchorToElement:p,ariaLabel:m("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,Oo(p,!0),this.hideSubMenu=function(){v&&v.hideFunc(),n.subMenuIsOpen=!1,Oo(p,!1),o()}}},e.prototype.closeSubMenu=function(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,Oo(this.getGui(),!1))},e.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},e.prototype.activate=function(t){var n=this;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),t&&this.params.subMenu&&window.setTimeout(function(){n.isAlive()&&n.isActive&&n.openSubMenu()},300),this.onItemActivated())},e.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},e.prototype.addIcon=function(){if(!(!this.params.checked&&!this.params.icon&&this.params.isCompact)){var t=Zi('<span ref="eIcon" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("icon"),'" role="presentation"></span>'));this.params.checked?t.appendChild(cn("check",this.gridOptionsService)):this.params.icon&&(am(this.params.icon)?t.appendChild(this.params.icon):typeof this.params.icon=="string"?t.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(t)}},e.prototype.addName=function(){if(!(!this.params.name&&this.params.isCompact)){var t=Zi('<span ref="eName" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("text"),'">').concat(this.params.name||"","</span>"));this.getGui().appendChild(t)}},e.prototype.addTooltip=function(){this.params.tooltip&&(this.tooltip=this.params.tooltip,this.gridOptionsService.get("enableBrowserTooltips")?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new QM(this)))},e.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},e.prototype.addShortcut=function(){if(!(!this.params.shortcut&&this.params.isCompact)){var t=Zi('<span ref="eShortcut" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("shortcut"),'">').concat(this.params.shortcut||"","</span>"));this.getGui().appendChild(t)}},e.prototype.addSubMenu=function(){if(!(!this.params.subMenu&&this.params.isCompact)){var t=Zi('<span ref="ePopupPointer" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("popup-pointer"),'"></span>')),n=this.getGui();if(this.params.subMenu){var r=this.gridOptionsService.get("enableRtl")?"smallLeft":"smallRight";Oo(n,!1),t.appendChild(cn(r,this.gridOptionsService))}n.appendChild(t)}},e.prototype.onItemSelected=function(t){if(this.params.action?this.params.action():this.openSubMenu(t&&t.type==="keydown"),!(this.params.subMenu&&!this.params.action)){var n={type:e.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:t};this.dispatchEvent(n)}},e.prototype.onItemActivated=function(){var t={type:e.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(t)},e.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},e.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},e.prototype.onMouseEnter=function(){var t=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return t.activate(!0)},e.ACTIVATION_DELAY):this.activate(!0)},e.prototype.onMouseLeave=function(){var t=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return t.deactivate()},e.ACTIVATION_DELAY):this.deactivate()},e.prototype.getClassName=function(t){var n=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return t?"".concat(n,"-").concat(t):n},e.EVENT_MENU_ITEM_SELECTED="menuItemSelected",e.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",e.ACTIVATION_DELAY=80,VU([_("popupService")],e.prototype,"popupService",void 0),VU([Z],e.prototype,"init",null),e}(Fe),Vge=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Mg=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Wz=function(i){Vge(e,i);function e(t){var n=i.call(this,e.getTemplate(t))||this;return n.closable=!0,n.config=t,n}return e.getTemplate=function(t){var n=t&&t.cssIdentifier||"default";return'<div class="ag-panel ag-'.concat(n,`-panel" tabindex="-1">
            <div ref="eTitleBar" class="ag-panel-title-bar ag-`).concat(n,`-panel-title-bar ag-unselectable">
                <span ref="eTitle" class="ag-panel-title-bar-title ag-`).concat(n,`-panel-title-bar-title"></span>
                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-`).concat(n,`-panel-title-bar-buttons"></div>
            </div>
            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-`).concat(n,`-panel-content-wrapper"></div>
        </div>`)},e.prototype.postConstruct=function(){var t=this,n=this.config,r=n.component,o=n.closable,s=n.hideTitleBar,a=n.title,l=n.minWidth,u=l===void 0?250:l,c=n.width,d=n.minHeight,h=d===void 0?250:d,f=n.height,p=n.centered,g=n.popup,m=n.x,v=n.y;this.positionableFeature=new mz(this.getGui(),{minWidth:u,width:c,minHeight:h,height:f,centered:p,x:m,y:v,popup:g,calculateTopBuffer:function(){return t.positionableFeature.getHeight()-t.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var y=this.getGui();r&&this.setBodyComponent(r),s?tt(this.eTitleBar,!1):(a&&this.setTitle(a),this.setClosable(o??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(C){var S=t.gridOptionsService.getDocument();if(y.contains(C.relatedTarget)||y.contains(S.activeElement)||t.eTitleBarButtons.contains(C.target)){C.preventDefault();return}var E=t.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");E&&E.focus()}),!(g&&this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},e.prototype.renderComponent=function(){var t=this,n=this.getGui();n.focus(),this.close=function(){n.parentElement.removeChild(n),t.destroy()}},e.prototype.getHeight=function(){return this.positionableFeature.getHeight()},e.prototype.setHeight=function(t){this.positionableFeature.setHeight(t)},e.prototype.getWidth=function(){return this.positionableFeature.getWidth()},e.prototype.setWidth=function(t){this.positionableFeature.setWidth(t)},e.prototype.setClosable=function(t){if(t!==this.closable&&(this.closable=t),t){var n=this.closeButtonComp=new Fe(e.CLOSE_BTN_TEMPLATE);this.getContext().createBean(n);var r=n.getGui(),o=cn("close",this.gridOptionsService);o.classList.add("ag-panel-title-bar-button-icon"),r.appendChild(o),this.addTitleBarButton(n),n.addManagedListener(r,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){var r=this.closeButtonComp.getGui();r.parentElement.removeChild(r),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}},e.prototype.setBodyComponent=function(t){t.setParentComponent(this),this.eContentWrapper.appendChild(t.getGui())},e.prototype.addTitleBarButton=function(t,n){var r=this.eTitleBarButtons,o=r.children,s=o.length;n==null&&(n=s),n=Math.max(0,Math.min(n,s)),t.addCssClass("ag-panel-title-bar-button");var a=t.getGui();n===0?r.insertAdjacentElement("afterbegin",a):n===s?r.insertAdjacentElement("beforeend",a):o[n-1].insertAdjacentElement("afterend",a),t.setParentComponent(this)},e.prototype.getBodyHeight=function(){return sm(this.eContentWrapper)},e.prototype.getBodyWidth=function(){return gc(this.eContentWrapper)},e.prototype.setTitle=function(t){this.eTitle.innerText=t},e.prototype.onBtClose=function(){this.close()},e.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var t=this.getGui();t&&Ar(t)&&this.close(),i.prototype.destroy.call(this)},e.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',Mg([J("eContentWrapper")],e.prototype,"eContentWrapper",void 0),Mg([J("eTitleBar")],e.prototype,"eTitleBar",void 0),Mg([J("eTitleBarButtons")],e.prototype,"eTitleBarButtons",void 0),Mg([J("eTitle")],e.prototype,"eTitle",void 0),Mg([Z],e.prototype,"postConstruct",null),e}(Fe),Hge=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),nS=function(){return nS=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},nS.apply(this,arguments)},Gge=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Bge=function(i){Hge(e,i);function e(t){var n=i.call(this,nS(nS({},t),{popup:!0}))||this;return n.isMaximizable=!1,n.isMaximized=!1,n.maximizeListeners=[],n.resizeListenerDestroy=null,n.lastPosition={x:0,y:0,width:0,height:0},n}return e.prototype.postConstruct=function(){var t=this,n=this.getGui(),r=this.config,o=r.movable,s=r.resizable,a=r.maximizable;this.addCssClass("ag-dialog"),i.prototype.postConstruct.call(this),this.addManagedListener(n,"focusin",function(l){n.contains(l.relatedTarget)||t.popupService.bringPopupToFront(n)}),o&&this.setMovable(o),a&&this.setMaximizable(a),s&&this.setResizable(s)},e.prototype.renderComponent=function(){var t=this.getGui(),n=this.config,r=n.alwaysOnTop,o=n.modal,s=n.title,a=n.afterGuiAttached,l=this.localeService.getLocaleTextFunc(),u=this.popupService.addPopup({modal:o,eChild:t,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:r,ariaLabel:s||l("ariaLabelDialog","Dialog"),afterGuiAttached:a});u&&(this.close=u.hideFunc)},e.prototype.toggleMaximize=function(){var t=this.positionableFeature.getPosition();if(this.isMaximized){var n=this.lastPosition,r=n.x,o=n.y,s=n.width,a=n.height;this.setWidth(s),this.setHeight(a),this.positionableFeature.offsetElement(r,o)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=t.x,this.lastPosition.y=t.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},e.prototype.refreshMaximizeIcon=function(){tt(this.maximizeIcon,!this.isMaximized),tt(this.minimizeIcon,this.isMaximized)},e.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(t){return t()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},e.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),i.prototype.destroy.call(this)},e.prototype.setResizable=function(t){this.positionableFeature.setResizable(t)},e.prototype.setMovable=function(t){this.positionableFeature.setMovable(t,this.eTitleBar)},e.prototype.setMaximizable=function(t){var n=this;if(!t){this.clearMaximizebleListeners(),this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0);return}var r=this.eTitleBar;if(!(!r||t===this.isMaximizable)){var o=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),o.addManagedListener(o.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(o,0),this.maximizeListeners.push(this.addManagedListener(r,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){n.isMaximized=!1,n.refreshMaximizeIcon()})}},e.prototype.buildMaximizeAndMinimizeElements=function(){var t=this.maximizeButtonComp=this.createBean(new Fe('<div class="ag-dialog-button"></span>')),n=t.getGui();return this.maximizeIcon=cn("maximize",this.gridOptionsService),n.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=cn("minimize",this.gridOptionsService),n.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),t},Gge([_("popupService")],e.prototype,"popupService",void 0),e}(Wz),jge=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),iS=function(){return iS=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},iS.apply(this,arguments)},Ig=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},HU=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},GU=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},BU=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},oc=function(i){return i[i.vertical=0]="vertical",i[i.horizontal=1]="horizontal",i}(oc||{}),Uge=0,Wge=function(i){jge(e,i);function e(){var n=i!==null&&i.apply(this,arguments)||this;return n.popupList=[],n}t=e,e.prototype.postConstruct=function(){var n=this;this.ctrlsService.whenReady(function(r){n.gridCtrl=r.gridCtrl}),this.addManagedListener(this.eventService,w.EVENT_GRID_STYLES_CHANGED,this.handleThemeChange.bind(this))},e.prototype.getPopupParent=function(){var n=this.gridOptionsService.get("popupParent");return n||this.gridCtrl.getGui()},e.prototype.positionPopupForMenu=function(n){var r=n.eventSource,o=n.ePopup,s=this.getPopupIndex(o);if(s!==-1){var a=this.popupList[s];a.alignedToElement=r}var l=r.getBoundingClientRect(),u=this.getParentRect(),c=this.keepXYWithinBounds(o,l.top-u.top,oc.vertical),d=o.clientWidth>0?o.clientWidth:200;o.style.minWidth="".concat(d,"px");var h=u.right-u.left,f=h-d,p;this.gridOptionsService.get("enableRtl")?(p=m(),p<0&&(p=g(),this.setAlignedStyles(o,"left")),p>f&&(p=0,this.setAlignedStyles(o,"right"))):(p=g(),p>f&&(p=m(),this.setAlignedStyles(o,"right")),p<0&&(p=0,this.setAlignedStyles(o,"left"))),o.style.left="".concat(p,"px"),o.style.top="".concat(c,"px");function g(){return l.right-u.left-2}function m(){return l.left-u.left-d}},e.prototype.positionPopupUnderMouseEvent=function(n){var r=this,o=n.ePopup,s=n.nudgeX,a=n.nudgeY,l=n.skipObserver;this.positionPopup({ePopup:o,nudgeX:s,nudgeY:a,keepWithinBounds:!0,skipObserver:l,updatePosition:function(){return r.calculatePointerAlign(n.mouseEvent)},postProcessCallback:function(){return r.callPostProcessPopup(n.type,n.ePopup,null,n.mouseEvent,n.column,n.rowNode)}})},e.prototype.calculatePointerAlign=function(n){var r=this.getParentRect();return{x:n.clientX-r.left,y:n.clientY-r.top}},e.prototype.positionPopupByComponent=function(n){var r=this,o=n.ePopup,s=n.nudgeX,a=n.nudgeY,l=n.keepWithinBounds,u=n.eventSource,c=n.alignSide,d=c===void 0?"left":c,h=n.position,f=h===void 0?"over":h,p=n.column,g=n.rowNode,m=n.type,v=u.getBoundingClientRect(),y=this.getParentRect(),C=this.getPopupIndex(o);if(C!==-1){var S=this.popupList[C];S.alignedToElement=u}var E=function(){var T=v.left-y.left;d==="right"&&(T-=o.offsetWidth-v.width);var O;if(f==="over")O=v.top-y.top,r.setAlignedStyles(o,"over");else{r.setAlignedStyles(o,"under");var R=r.shouldRenderUnderOrAbove(o,v,y,n.nudgeY||0);R==="under"?O=v.top-y.top+v.height:O=v.top-o.offsetHeight-(a||0)*2-y.top}return{x:T,y:O}};this.positionPopup({ePopup:o,nudgeX:s,nudgeY:a,keepWithinBounds:l,updatePosition:E,postProcessCallback:function(){return r.callPostProcessPopup(m,o,u,null,p,g)}})},e.prototype.shouldRenderUnderOrAbove=function(n,r,o,s){var a=o.bottom-r.bottom,l=r.top-o.top,u=n.offsetHeight+s;return a>u?"under":l>u||l>a?"above":"under"},e.prototype.setAlignedStyles=function(n,r){var o=this.getPopupIndex(n);if(o!==-1){var s=this.popupList[o],a=s.alignedToElement;if(a){var l=["right","left","over","above","under"];l.forEach(function(u){a.classList.remove("ag-has-popup-positioned-".concat(u)),n.classList.remove("ag-popup-positioned-".concat(u))}),r&&(a.classList.add("ag-has-popup-positioned-".concat(r)),n.classList.add("ag-popup-positioned-".concat(r)))}}},e.prototype.callPostProcessPopup=function(n,r,o,s,a,l){var u=this.gridOptionsService.getCallback("postProcessPopup");if(u){var c={column:a,rowNode:l,ePopup:r,type:n,eventSource:o,mouseEvent:s};u(c)}},e.prototype.positionPopup=function(n){var r=this,o=n.ePopup,s=n.keepWithinBounds,a=n.nudgeX,l=n.nudgeY,u=n.skipObserver,c=n.updatePosition,d={width:0,height:0},h=function(p){p===void 0&&(p=!1);var g=c(),m=g.x,v=g.y;p&&o.clientWidth===d.width&&o.clientHeight===d.height||(d.width=o.clientWidth,d.height=o.clientHeight,a&&(m+=a),l&&(v+=l),s&&(m=r.keepXYWithinBounds(o,m,oc.horizontal),v=r.keepXYWithinBounds(o,v,oc.vertical)),o.style.left="".concat(m,"px"),o.style.top="".concat(v,"px"),n.postProcessCallback&&n.postProcessCallback())};if(h(),!u){var f=this.resizeObserverService.observeResize(o,function(){return h(!0)});setTimeout(function(){return f()},t.WAIT_FOR_POPUP_CONTENT_RESIZE)}},e.prototype.getActivePopups=function(){return this.popupList.map(function(n){return n.element})},e.prototype.getPopupList=function(){return this.popupList},e.prototype.getParentRect=function(){var n=this.gridOptionsService.getDocument(),r=this.getPopupParent();return r===n.body?r=n.documentElement:getComputedStyle(r).position==="static"&&(r=r.offsetParent),BM(r)},e.prototype.keepXYWithinBounds=function(n,r,o){var s=o===oc.vertical,a=s?"clientHeight":"clientWidth",l=s?"top":"left",u=s?"offsetHeight":"offsetWidth",c=s?"scrollTop":"scrollLeft",d=this.gridOptionsService.getDocument(),h=d.documentElement,f=this.getPopupParent(),p=f.getBoundingClientRect(),g=d.documentElement.getBoundingClientRect(),m=f===d.body,v=n[u],y=s?GM:Xg,C=m?y(h)+h[c]:f[a];m&&(C-=Math.abs(g[l]-p[l]));var S=C-v;return Math.min(Math.max(r,0),Math.abs(S))},e.prototype.addPopup=function(n){var r=this.gridOptionsService.getDocument(),o=n.eChild,s=n.ariaLabel,a=n.alwaysOnTop,l=n.positionCallback,u=n.anchorToElement;if(!r)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:function(){}};var c=this.getPopupIndex(o);if(c!==-1){var d=this.popupList[c];return{hideFunc:d.hideFunc}}this.initialisePopupPosition(o);var h=this.createPopupWrapper(o,s,!!a),f=this.addEventListenersToPopup(iS(iS({},n),{wrapperEl:h}));return l&&l(),this.addPopupToPopupList(o,h,f,u),{hideFunc:f}},e.prototype.initialisePopupPosition=function(n){var r=this.getPopupParent(),o=r.getBoundingClientRect();W(n.style.top)||(n.style.top="".concat(o.top*-1,"px")),W(n.style.left)||(n.style.left="".concat(o.left*-1,"px"))},e.prototype.createPopupWrapper=function(n,r,o){var s,a=this.getPopupParent(),l=document.createElement("div"),u=this.environment.getTheme().allThemes;return u.length&&(s=l.classList).add.apply(s,GU([],HU(u),!1)),l.classList.add("ag-popup"),n.classList.add(this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),n.hasAttribute("role")||In(n,"dialog"),ga(n,r),l.appendChild(n),a.appendChild(l),o?this.setAlwaysOnTop(n,!0):this.bringPopupToFront(n),l},e.prototype.handleThemeChange=function(){var n,r,o,s,a,l=this.environment.getTheme().allThemes;try{for(var u=BU(this.popupList),c=u.next();!c.done;c=u.next()){var d=c.value;try{for(var h=(o=void 0,BU(Array.from(d.wrapper.classList))),f=h.next();!f.done;f=h.next()){var p=f.value;p.startsWith("ag-theme-")&&d.wrapper.classList.remove(p)}}catch(g){o={error:g}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(o)throw o.error}}l.length&&(a=d.wrapper.classList).add.apply(a,GU([],HU(l),!1))}}catch(g){n={error:g}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}},e.prototype.addEventListenersToPopup=function(n){var r=this,o=this.gridOptionsService.getDocument(),s=this.getPopupParent(),a=n.wrapperEl,l=n.eChild;n.click;var u=n.closedCallback,c=n.afterGuiAttached,d=n.closeOnEsc,h=n.modal,f=!1,p=function(y){if(a.contains(o.activeElement)){var C=y.key;C===F.ESCAPE&&!Mo(y)&&v({keyboardEvent:y})}},g=function(y){return v({mouseEvent:y})},m=function(y){return v({touchEvent:y})},v=function(y){y===void 0&&(y={});var C=y.mouseEvent,S=y.touchEvent,E=y.keyboardEvent;r.isEventFromCurrentPopup({mouseEvent:C,touchEvent:S},l)||f||(f=!0,s.removeChild(a),o.removeEventListener("keydown",p),o.removeEventListener("mousedown",g),o.removeEventListener("touchstart",m),o.removeEventListener("contextmenu",g),r.eventService.removeEventListener(w.EVENT_DRAG_STARTED,g),u&&u(C||S||E),r.removePopupFromPopupList(l))};return c&&c({hidePopup:v}),window.setTimeout(function(){d&&o.addEventListener("keydown",p),h&&(o.addEventListener("mousedown",g),r.eventService.addEventListener(w.EVENT_DRAG_STARTED,g),o.addEventListener("touchstart",m),o.addEventListener("contextmenu",g))},0),v},e.prototype.addPopupToPopupList=function(n,r,o,s){this.popupList.push({element:n,wrapper:r,hideFunc:o,instanceId:Uge++,isAnchored:!!s}),s&&this.setPopupPositionRelatedToElement(n,s)},e.prototype.getPopupIndex=function(n){return this.popupList.findIndex(function(r){return r.element===n})},e.prototype.setPopupPositionRelatedToElement=function(n,r){var o=this.getPopupIndex(n);if(o!==-1){var s=this.popupList[o];if(s.stopAnchoringPromise&&s.stopAnchoringPromise.then(function(l){return l&&l()}),s.stopAnchoringPromise=void 0,s.isAnchored=!1,!!r){var a=this.keepPopupPositionedRelativeTo({element:r,ePopup:n,hidePopup:s.hideFunc});return s.stopAnchoringPromise=a,s.isAnchored=!0,a}}},e.prototype.removePopupFromPopupList=function(n){this.setAlignedStyles(n,null),this.setPopupPositionRelatedToElement(n,null),this.popupList=this.popupList.filter(function(r){return r.element!==n})},e.prototype.keepPopupPositionedRelativeTo=function(n){var r=this,o=this.getPopupParent(),s=o.getBoundingClientRect(),a=n.element,l=n.ePopup,u=a.getBoundingClientRect(),c=s.top-u.top,d=s.left-u.left,h=c,f=d,p=l.style.top,g=parseInt(p.substring(0,p.length-1),10),m=l.style.left,v=parseInt(m.substring(0,m.length-1),10);return new Jr(function(y){r.getFrameworkOverrides().setInterval(function(){var C=o.getBoundingClientRect(),S=a.getBoundingClientRect(),E=S.top==0&&S.left==0&&S.height==0&&S.width==0;if(E){n.hidePopup();return}var T=C.top-S.top;if(T!=h){var O=r.keepXYWithinBounds(l,g+c-T,oc.vertical);l.style.top="".concat(O,"px")}h=T;var R=C.left-S.left;if(R!=f){var M=r.keepXYWithinBounds(l,v+d-R,oc.horizontal);l.style.left="".concat(M,"px")}f=R},200).then(function(C){var S=function(){C!=null&&window.clearInterval(C)};y(S)})})},e.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(n){return n.isAnchored})},e.prototype.isEventFromCurrentPopup=function(n,r){var o=n.mouseEvent,s=n.touchEvent,a=o||s;if(!a)return!1;var l=this.getPopupIndex(r);if(l===-1)return!1;for(var u=l;u<this.popupList.length;u++){var c=this.popupList[u];if(Bw(c.element,a))return!0}return this.isElementWithinCustomPopup(a.target)},e.prototype.isElementWithinCustomPopup=function(n){for(var r=this.gridOptionsService.getDocument();n&&n!==r.body;){if(n.classList.contains("ag-custom-component-popup")||n.parentElement===null)return!0;n=n.parentElement}return!1},e.prototype.getWrapper=function(n){for(;!n.classList.contains("ag-popup")&&n.parentElement;)n=n.parentElement;return n.classList.contains("ag-popup")?n:null},e.prototype.setAlwaysOnTop=function(n,r){var o=this.getWrapper(n);o&&(o.classList.toggle("ag-always-on-top",!!r),r&&this.bringPopupToFront(o))},e.prototype.bringPopupToFront=function(n){var r=this.getPopupParent(),o=Array.prototype.slice.call(r.querySelectorAll(".ag-popup")),s=o.length,a=Array.prototype.slice.call(r.querySelectorAll(".ag-popup.ag-always-on-top")),l=a.length,u=this.getWrapper(n);if(!(!u||s<=1||!r.contains(n))){var c=o.indexOf(u),d=u.querySelectorAll("div"),h=[];if(d.forEach(function(m){m.scrollTop!==0&&h.push([m,m.scrollTop])}),l){var f=u.classList.contains("ag-always-on-top");f?c!==s-1&&dt(a).insertAdjacentElement("afterend",u):c!==s-l-1&&a[0].insertAdjacentElement("beforebegin",u)}else c!==s-1&&dt(o).insertAdjacentElement("afterend",u);for(;h.length;){var p=h.pop();p[0].scrollTop=p[1]}var g={type:"popupToFront",eWrapper:u};this.eventService.dispatchEvent(g)}};var t;return e.WAIT_FOR_POPUP_CONTENT_RESIZE=200,Ig([_("focusService")],e.prototype,"focusService",void 0),Ig([_("ctrlsService")],e.prototype,"ctrlsService",void 0),Ig([_("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Ig([Z],e.prototype,"postConstruct",null),e=t=Ig([ne("popupService")],e),e}(Y),zge=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$ge=function(i){zge(e,i);function e(){var t=i.call(this,`
        <div class="ag-autocomplete-row" role="presentation">
            <div class="ag-autocomplete-row-label"></div>
        </div>`)||this;return t.hasHighlighting=!1,t}return e.prototype.setState=function(t,n){this.value=t,this.render(),this.updateSelected(n)},e.prototype.updateSelected=function(t){this.addOrRemoveCssClass("ag-autocomplete-row-selected",t)},e.prototype.setSearchString=function(t){var n,r=!1;if(W(t)){var o=(n=this.value)===null||n===void 0?void 0:n.toLocaleLowerCase().indexOf(t.toLocaleLowerCase());if(o>=0){r=!0,this.hasHighlighting=!0;var s=o+t.length,a=Cn(this.value.slice(0,o)),l=Cn(this.value.slice(o,s)),u=Cn(this.value.slice(s));this.getGui().lastElementChild.innerHTML="".concat(a,"<b>").concat(l,"</b>").concat(u)}}!r&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())},e.prototype.render=function(){var t;this.getGui().lastElementChild.innerHTML=(t=Cn(this.value))!==null&&t!==void 0?t:"&nbsp;"},e}(Fe),qge=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),jU=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Yge=function(i){qge(e,i);function e(t){var n=i.call(this,e.TEMPLATE)||this;return n.params=t,n.searchString="",n}return e.prototype.destroy=function(){i.prototype.destroy.call(this)},e.prototype.init=function(){var t=this;this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new Uz({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:function(){return t.autocompleteEntries.length},getRow:function(r){return t.autocompleteEntries[r]}});var n=this.virtualList.getGui();this.addManagedListener(n,"click",function(){return t.params.onConfirmed()}),this.addManagedListener(n,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(n,"mousedown",function(r){return r.preventDefault()}),this.setSelectedValue(0)},e.prototype.onNavigationKeyDown=function(t,n){t.preventDefault();var r=this.autocompleteEntries.indexOf(this.selectedValue),o=n===F.UP?r-1:r+1;this.checkSetSelectedValue(o)},e.prototype.setSearch=function(t){this.searchString=t,W(t)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()},e.prototype.runContainsSearch=function(t,n){var r,o=!1,s=t.toLocaleLowerCase(),a=n.filter(function(l){var u=l.toLocaleLowerCase(),c=u.indexOf(s),d=c===0,h=c>=0;return h&&(!r||!o&&d||o===d&&l.length<r.length)&&(r=l,o=d),h});return!r&&a.length&&(r=a[0]),{topMatch:r,allMatches:a}},e.prototype.runSearch=function(){var t,n,r=this.params.autocompleteEntries,o=r.map(function(d){var h;return(h=d.displayValue)!==null&&h!==void 0?h:d.key}),s,a;if(this.params.useFuzzySearch)s=lm(this.searchString,o,!0).values,a=s.length?s[0]:void 0;else{var l=this.runContainsSearch(this.searchString,o);s=l.allMatches,a=l.topMatch}var u=r.filter(function(d){var h=d.key,f=d.displayValue;return s.includes(f??h)});if(!u.length&&this.selectedValue&&(!((n=(t=this.params)===null||t===void 0?void 0:t.forceLastSelection)===null||n===void 0)&&n.call(t,this.selectedValue,this.searchString))&&(u=[this.selectedValue]),this.autocompleteEntries=u,this.virtualList.refresh(),!!a){var c=s.indexOf(a);this.checkSetSelectedValue(c)}},e.prototype.updateSearchInList=function(){var t=this;this.virtualList.forEachRenderedRow(function(n){return n.setSearchString(t.searchString)})},e.prototype.checkSetSelectedValue=function(t){t>=0&&t<this.autocompleteEntries.length&&this.setSelectedValue(t)},e.prototype.setSelectedValue=function(t){var n=this.autocompleteEntries[t];this.selectedValue!==n&&(this.selectedValue=n,this.virtualList.ensureIndexVisible(t),this.virtualList.forEachRenderedRow(function(r,o){r.updateSelected(t===o)}))},e.prototype.createRowComponent=function(t){var n,r=new $ge;return this.getContext().createBean(r),r.setState((n=t.displayValue)!==null&&n!==void 0?n:t.key,t===this.selectedValue),r},e.prototype.onMouseMove=function(t){var n=this.virtualList.getGui().getBoundingClientRect(),r=this.virtualList.getScrollTop(),o=t.clientY-n.top+r,s=Math.floor(o/this.virtualList.getRowHeight());this.checkSetSelectedValue(s)},e.prototype.afterGuiAttached=function(){this.virtualList.refresh()},e.prototype.getSelectedValue=function(){var t;return this.autocompleteEntries.length&&(t=this.selectedValue)!==null&&t!==void 0?t:null},e.TEMPLATE=`<div class="ag-autocomplete-list-popup">
            <div ref="eList" class="ag-autocomplete-list"></div>
        <div>`,jU([J("eList")],e.prototype,"eList",void 0),jU([Z],e.prototype,"init",null),e}(yc),Kge=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Px=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Qge=function(i){Kge(e,i);function e(){var t=i.call(this,`
            <div class="ag-autocomplete" role="presentation">
                <ag-input-text-field ref="eAutocompleteInput"></ag-input-text-field>
            </div>`)||this;return t.isListOpen=!1,t.lastPosition=0,t.valid=!0,t}return e.prototype.postConstruct=function(){var t=this;this.eAutocompleteInput.onValueChange(function(n){return t.onValueChanged(n)}),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc(function(){t.destroyBean(t.autocompleteList)}),this.addGuiEventListener("focusout",function(){return t.onFocusOut()})},e.prototype.onValueChanged=function(t){var n=Ss(t);this.updateValue(n),this.updateAutocompleteList(n)},e.prototype.updateValue=function(t){this.updateLastPosition(),this.dispatchEvent({type:e.EVENT_VALUE_CHANGED,value:t}),this.validate(t)},e.prototype.updateAutocompleteList=function(t){var n,r,o,s,a=(r=(n=this.listGenerator)===null||n===void 0?void 0:n.call(this,t,this.lastPosition))!==null&&r!==void 0?r:{enabled:!1};if((!a.type||a.type!==((o=this.autocompleteListParams)===null||o===void 0?void 0:o.type))&&this.isListOpen&&this.closeList(),this.autocompleteListParams=a,!((s=this.autocompleteListParams)===null||s===void 0)&&s.enabled){this.isListOpen||this.openList();var l=this.autocompleteListParams.searchString;this.autocompleteList.setSearch(l??"")}else this.isListOpen&&this.closeList()},e.prototype.onKeyDown=function(t){var n=this,r=t.key;switch(this.updateLastPosition(),r){case F.ENTER:this.onEnterKeyDown(t);break;case F.TAB:this.onTabKeyDown(t);break;case F.DOWN:case F.UP:this.onUpDownKeyDown(t,r);break;case F.LEFT:case F.RIGHT:case F.PAGE_HOME:case F.PAGE_END:setTimeout(function(){n.updatePositionAndList()});break;case F.ESCAPE:this.onEscapeKeyDown(t);break;case F.SPACE:t.ctrlKey&&!this.isListOpen&&(t.preventDefault(),this.forceOpenList());break}},e.prototype.confirmSelection=function(){var t,n=(t=this.autocompleteList)===null||t===void 0?void 0:t.getSelectedValue();n&&(this.closeList(),this.dispatchEvent({type:e.EVENT_OPTION_SELECTED,value:this.getValue(),position:this.lastPosition,updateEntry:n,autocompleteType:this.autocompleteListParams.type}))},e.prototype.onTabKeyDown=function(t){this.isListOpen&&(t.preventDefault(),t.stopPropagation(),this.confirmSelection())},e.prototype.onEnterKeyDown=function(t){t.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()},e.prototype.onUpDownKeyDown=function(t,n){var r;t.preventDefault(),this.isListOpen?(r=this.autocompleteList)===null||r===void 0||r.onNavigationKeyDown(t,n):this.forceOpenList()},e.prototype.onEscapeKeyDown=function(t){this.isListOpen&&(t.preventDefault(),t.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))},e.prototype.onFocusOut=function(){this.isListOpen&&this.closeList()},e.prototype.updatePositionAndList=function(){var t;this.updateLastPosition(),this.updateAutocompleteList((t=this.eAutocompleteInput.getValue())!==null&&t!==void 0?t:null)},e.prototype.setCaret=function(t,n){var r=this.gridOptionsService.getDocument();n&&r.activeElement===r.body&&this.eAutocompleteInput.getFocusableElement().focus();var o=this.eAutocompleteInput.getInputElement();o.setSelectionRange(t,t),t===o.value.length&&(o.scrollLeft=o.scrollWidth)},e.prototype.forceOpenList=function(){this.onValueChanged(this.eAutocompleteInput.getValue())},e.prototype.updateLastPosition=function(){var t;this.lastPosition=(t=this.eAutocompleteInput.getInputElement().selectionStart)!==null&&t!==void 0?t:0},e.prototype.validate=function(t){var n;this.validator&&(this.validationMessage=this.validator(t),this.eAutocompleteInput.getInputElement().setCustomValidity((n=this.validationMessage)!==null&&n!==void 0?n:""),this.valid=!this.validationMessage,this.dispatchEvent({type:e.EVENT_VALID_CHANGED,isValid:this.valid,validationMessage:this.validationMessage}))},e.prototype.openList=function(){var t=this;this.isListOpen=!0,this.autocompleteList=this.createBean(new Yge({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:function(){return t.confirmSelection()},forceLastSelection:this.forceLastSelection}));var n=this.autocompleteList.getGui(),r={ePopup:n,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gridOptionsService.get("enableRtl")?"right":"left",keepWithinBounds:!0},o=this.popupService.addPopup({eChild:n,anchorToElement:this.getGui(),positionCallback:function(){return t.popupService.positionPopupByComponent(r)},ariaLabel:this.listAriaLabel});this.hidePopup=o.hideFunc,this.autocompleteList.afterGuiAttached()},e.prototype.closeList=function(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null},e.prototype.onCompleted=function(){this.isListOpen&&this.closeList(),this.dispatchEvent({type:e.EVENT_VALUE_CONFIRMED,value:this.getValue(),isValid:this.isValid()})},e.prototype.getValue=function(){return Ss(this.eAutocompleteInput.getValue())},e.prototype.setInputPlaceholder=function(t){return this.eAutocompleteInput.setInputPlaceholder(t),this},e.prototype.setInputAriaLabel=function(t){return this.eAutocompleteInput.setInputAriaLabel(t),this},e.prototype.setListAriaLabel=function(t){return this.listAriaLabel=t,this},e.prototype.setListGenerator=function(t){return this.listGenerator=t,this},e.prototype.setValidator=function(t){return this.validator=t,this},e.prototype.isValid=function(){return this.valid},e.prototype.setValue=function(t){var n=t.value,r=t.position,o=t.silent,s=t.updateListOnlyIfOpen,a=t.restoreFocus;this.eAutocompleteInput.setValue(n,!0),this.setCaret(r??this.lastPosition,a),o||this.updateValue(n),(!s||this.isListOpen)&&this.updateAutocompleteList(n)},e.prototype.setForceLastSelection=function(t){return this.forceLastSelection=t,this},e.prototype.setInputDisabled=function(t){return this.eAutocompleteInput.setDisabled(t),this},e.EVENT_VALUE_CHANGED="eventValueChanged",e.EVENT_VALUE_CONFIRMED="eventValueConfirmed",e.EVENT_OPTION_SELECTED="eventOptionSelected",e.EVENT_VALID_CHANGED="eventValidChanged",Px([_("popupService")],e.prototype,"popupService",void 0),Px([J("eAutocompleteInput")],e.prototype,"eAutocompleteInput",void 0),Px([Z],e.prototype,"postConstruct",null),e}(Fe),Zge=["touchstart","touchend","touchmove","touchcancel"],aI=function(){function i(e){e===void 0&&(e="javascript"),this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=function(t){return t()},this.wrapOutgoing=function(t){return t()}}return i.prototype.setInterval=function(e,t){return new Jr(function(n){n(window.setInterval(e,t))})},i.prototype.addEventListener=function(e,t,n,r){var o=xo(Zge,t);e.addEventListener(t,n,{capture:!!r,passive:o})},Object.defineProperty(i.prototype,"shouldWrapOutgoing",{get:function(){return!1},enumerable:!1,configurable:!0}),i.prototype.frameworkComponent=function(e){return null},i.prototype.isFrameworkComponent=function(e){return!1},i.prototype.getDocLink=function(e){var t=this.frameworkName==="solid"?"react":this.frameworkName;return"https://www.ag-grid.com/".concat(t,"-data-grid").concat(e?"/".concat(e):"")},i}(),Xge=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),gh=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Jge=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},eme=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},tme=function(i){Xge(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getNextCellToFocus=function(t,n,r){return r===void 0&&(r=!1),r?this.getNextCellToFocusWithCtrlPressed(t,n):this.getNextCellToFocusWithoutCtrlPressed(t,n)},e.prototype.getNextCellToFocusWithCtrlPressed=function(t,n){var r=t===F.UP,o=t===F.DOWN,s=t===F.LEFT,a,l;if(r||o)l=r?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),a=n.column;else{var u=this.columnModel.getAllDisplayedColumns(),c=this.gridOptionsService.get("enableRtl");l=n.rowIndex,a=s!==c?u[0]:dt(u)}return{rowIndex:l,rowPinned:null,column:a}},e.prototype.getNextCellToFocusWithoutCtrlPressed=function(t,n){for(var r=n,o=!1;!o;){switch(t){case F.UP:r=this.getCellAbove(r);break;case F.DOWN:r=this.getCellBelow(r);break;case F.RIGHT:this.gridOptionsService.get("enableRtl")?r=this.getCellToLeft(r):r=this.getCellToRight(r);break;case F.LEFT:this.gridOptionsService.get("enableRtl")?r=this.getCellToRight(r):r=this.getCellToLeft(r);break;default:r=null,console.warn("AG Grid: unknown key for navigation "+t);break}r?o=this.isCellGoodToFocusOn(r):o=!0}return r},e.prototype.isCellGoodToFocusOn=function(t){var n=t.column,r;switch(t.rowPinned){case"top":r=this.pinnedRowModel.getPinnedTopRow(t.rowIndex);break;case"bottom":r=this.pinnedRowModel.getPinnedBottomRow(t.rowIndex);break;default:r=this.rowModel.getRow(t.rowIndex);break}if(!r)return!1;var o=n.isSuppressNavigable(r);return!o},e.prototype.getCellToLeft=function(t){if(!t)return null;var n=this.columnModel.getDisplayedColBefore(t.column);return n?{rowIndex:t.rowIndex,column:n,rowPinned:t.rowPinned}:null},e.prototype.getCellToRight=function(t){if(!t)return null;var n=this.columnModel.getDisplayedColAfter(t.column);return n?{rowIndex:t.rowIndex,column:n,rowPinned:t.rowPinned}:null},e.prototype.getRowBelow=function(t){var n=t.rowIndex,r=t.rowPinned;if(this.isLastRowInContainer(t))switch(r){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}var o=this.rowModel.getRow(t.rowIndex),s=this.getNextStickyPosition(o);return s||{rowIndex:n+1,rowPinned:r}},e.prototype.getNextStickyPosition=function(t,n){if(!(!this.gridOptionsService.isGroupRowsSticky()||!t||!t.sticky)){var r=eme([],Jge(this.rowRenderer.getStickyTopRowCtrls()),!1).sort(function(l,u){return l.getRowNode().rowIndex-u.getRowNode().rowIndex}),o=n?-1:1,s=r.findIndex(function(l){return l.getRowNode().rowIndex===t.rowIndex}),a=r[s+o];if(a)return{rowIndex:a.getRowNode().rowIndex,rowPinned:null}}},e.prototype.getCellBelow=function(t){if(!t)return null;var n=this.getRowBelow(t);return n?{rowIndex:n.rowIndex,column:t.column,rowPinned:n.rowPinned}:null},e.prototype.isLastRowInContainer=function(t){var n=t.rowPinned,r=t.rowIndex;if(n==="top"){var o=this.pinnedRowModel.getPinnedTopRowData().length-1;return o<=r}if(n==="bottom"){var s=this.pinnedRowModel.getPinnedBottomRowData().length-1;return s<=r}var a=this.paginationProxy.getPageLastRow();return a<=r},e.prototype.getRowAbove=function(t){var n=t.rowIndex,r=t.rowPinned,o=r?n===0:n===this.paginationProxy.getPageFirstRow();if(o)return r==="top"?null:r?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;var s=this.rowModel.getRow(t.rowIndex),a=this.getNextStickyPosition(s,!0);return a||{rowIndex:n-1,rowPinned:r}},e.prototype.getCellAbove=function(t){if(!t)return null;var n=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});return n?{rowIndex:n.rowIndex,column:t.column,rowPinned:n.rowPinned}:null},e.prototype.getLastBodyCell=function(){var t=this.paginationProxy.getPageLastRow();return{rowIndex:t,rowPinned:null}},e.prototype.getLastFloatingTopRow=function(){var t=this.pinnedRowModel.getPinnedTopRowData().length-1;return{rowIndex:t,rowPinned:"top"}},e.prototype.getNextTabbedCell=function(t,n){return n?this.getNextTabbedCellBackwards(t):this.getNextTabbedCellForwards(t)},e.prototype.getNextTabbedCellForwards=function(t){var n=this.columnModel.getAllDisplayedColumns(),r=t.rowIndex,o=t.rowPinned,s=this.columnModel.getDisplayedColAfter(t.column);if(!s){s=n[0];var a=this.getRowBelow(t);if(me(a)||!a.rowPinned&&!this.paginationProxy.isRowInPage(a))return null;r=a?a.rowIndex:null,o=a?a.rowPinned:null}return{rowIndex:r,column:s,rowPinned:o}},e.prototype.getNextTabbedCellBackwards=function(t){var n=this.columnModel.getAllDisplayedColumns(),r=t.rowIndex,o=t.rowPinned,s=this.columnModel.getDisplayedColBefore(t.column);if(!s){s=dt(n);var a=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});if(me(a)||!a.rowPinned&&!this.paginationProxy.isRowInPage(a))return null;r=a?a.rowIndex:null,o=a?a.rowPinned:null}return{rowIndex:r,column:s,rowPinned:o}},gh([_("columnModel")],e.prototype,"columnModel",void 0),gh([_("rowModel")],e.prototype,"rowModel",void 0),gh([_("rowRenderer")],e.prototype,"rowRenderer",void 0),gh([_("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),gh([_("paginationProxy")],e.prototype,"paginationProxy",void 0),e=gh([ne("cellNavigationService")],e),e}(Y),nme=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Pg=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ime=function(i,e){return function(t,n){e(t,n,i)}},rme=function(i){nme(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.consuming=!1,t}return e.prototype.setBeans=function(t){this.logger=t.create("AlignedGridsService")},e.prototype.getAlignedGridApis=function(){var t=this,n,r=(n=this.gridOptionsService.get("alignedGrids"))!==null&&n!==void 0?n:[],o=typeof r=="function";typeof r=="function"&&(r=r());var s=function(){return"See ".concat(t.getFrameworkOverrides().getDocLink("aligned-grids"))},a=r.map(function(l){var u;if(!l){Ao("alignedGrids contains an undefined option."),o||Ao(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),Ao(s());return}if(l instanceof kz)return l;var c=l;return"current"in c?(u=c.current)===null||u===void 0?void 0:u.api:(c.api||Ao("alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ".concat(s())),c.api)}).filter(function(l){return!!l&&!l.isDestroyed()});return a},e.prototype.init=function(){this.addManagedListener(this.eventService,w.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,w.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,w.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,w.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,w.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,w.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},e.prototype.fireEvent=function(t){this.consuming||this.getAlignedGridApis().forEach(function(n){var r=n.__getAlignedGridService();t(r)})},e.prototype.onEvent=function(t){this.consuming=!0,t(),this.consuming=!1},e.prototype.fireColumnEvent=function(t){this.fireEvent(function(n){n.onColumnEvent(t)})},e.prototype.fireScrollEvent=function(t){t.direction==="horizontal"&&this.fireEvent(function(n){n.onScrollEvent(t)})},e.prototype.onScrollEvent=function(t){var n=this;this.onEvent(function(){var r=n.ctrlsService.getGridBodyCtrl();r.getScrollFeature().setHorizontalScrollPosition(t.left,!0)})},e.prototype.getMasterColumns=function(t){var n=[];return t.columns?t.columns.forEach(function(r){n.push(r)}):t.column&&n.push(t.column),n},e.prototype.getColumnIds=function(t){var n=[];return t.columns?t.columns.forEach(function(r){n.push(r.getColId())}):t.column&&n.push(t.column.getColId()),n},e.prototype.onColumnEvent=function(t){var n=this;this.onEvent(function(){switch(t.type){case w.EVENT_COLUMN_MOVED:case w.EVENT_COLUMN_VISIBLE:case w.EVENT_COLUMN_PINNED:case w.EVENT_COLUMN_RESIZED:var r=t;n.processColumnEvent(r);break;case w.EVENT_COLUMN_GROUP_OPENED:var o=t;n.processGroupOpenedEvent(o);break;case w.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})},e.prototype.processGroupOpenedEvent=function(t){var n=this;t.columnGroups.forEach(function(r){var o=null;if(r){var s=r.getGroupId();o=n.columnModel.getProvidedColumnGroup(s)}r&&!o||(n.logger.log("onColumnEvent-> processing "+t+" expanded = "+r.isExpanded()),n.columnModel.setColumnGroupOpened(o,r.isExpanded(),"alignedGridChanged"))})},e.prototype.processColumnEvent=function(t){var n=this,r,o=t.column,s=null;if(o&&(s=this.columnModel.getPrimaryColumn(o.getColId())),!(o&&!s)){var a=this.getMasterColumns(t);switch(t.type){case w.EVENT_COLUMN_MOVED:{var l=t,u=t.api.getColumnState(),c=u.map(function(v){return{colId:v.colId}});this.columnModel.applyColumnState({state:c,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(t.type," toIndex = ").concat(l.toIndex))}break;case w.EVENT_COLUMN_VISIBLE:{var d=t,u=t.api.getColumnState(),c=u.map(function(C){return{colId:C.colId,hide:C.hide}});this.columnModel.applyColumnState({state:c},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(t.type," visible = ").concat(d.visible))}break;case w.EVENT_COLUMN_PINNED:{var h=t,u=t.api.getColumnState(),c=u.map(function(C){return{colId:C.colId,pinned:C.pinned}});this.columnModel.applyColumnState({state:c},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(t.type," pinned = ").concat(h.pinned))}break;case w.EVENT_COLUMN_RESIZED:var f=t,p={};a.forEach(function(v){n.logger.log("onColumnEvent-> processing ".concat(t.type," actualWidth = ").concat(v.getActualWidth())),p[v.getId()]={key:v.getColId(),newWidth:v.getActualWidth()}}),(r=f.flexColumns)===null||r===void 0||r.forEach(function(v){p[v.getId()]&&delete p[v.getId()]}),this.columnModel.setColumnWidths(Object.values(p),!1,f.finished,"alignedGridChanged");break}var g=this.ctrlsService.getGridBodyCtrl(),m=g.isVerticalScrollShowing();this.getAlignedGridApis().forEach(function(v){v.setGridOption("alwaysShowVerticalScroll",m)})}},Pg([_("columnModel")],e.prototype,"columnModel",void 0),Pg([_("ctrlsService")],e.prototype,"ctrlsService",void 0),Pg([ime(0,to("loggerFactory"))],e.prototype,"setBeans",null),Pg([Z],e.prototype,"init",null),e=Pg([ne("alignedGridsService")],e),e}(Y),ome=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Dw=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},zz=function(i){ome(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.selectedNodes=new Map,t.lastRowNode=null,t}return e.prototype.init=function(){var t=this;this.rowSelection=this.gridOptionsService.get("rowSelection"),this.groupSelectsChildren=this.gridOptionsService.get("groupSelectsChildren"),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],function(){t.groupSelectsChildren=t.gridOptionsService.get("groupSelectsChildren"),t.rowSelection=t.gridOptionsService.get("rowSelection"),t.deselectAllRowNodes({source:"api"})}),this.addManagedListener(this.eventService,w.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.resetNodes(),this.lastRowNode=null},e.prototype.isMultiselect=function(){return this.rowSelection==="multiple"},e.prototype.setNodesSelected=function(t){var n,r=t.newValue,o=t.clearSelection,s=t.suppressFinishActions,a=t.rangeSelect,l=t.nodes,u=t.event,c=t.source,d=c===void 0?"api":c;if(l.length===0)return 0;if(l.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;var h=this.groupSelectsChildren&&t.groupSelectsFiltered===!0,f=l.map(function(R){return R.footer?R.sibling:R});if(a){if(l.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;var p=null;if(d==="checkboxSelected"&&r===!1&&this.lastRowNode&&(this.lastRowNode.id?p=this.lastRowNode:this.lastRowNode=null),p==null&&(p=this.getLastSelectedNode()),p){var g=f[0],m=g!==p;if(m&&this.isMultiselect())return this.selectRange(g,p,r,d)}}this.lastRowNode=r?null:f[0];for(var v=0,y=0;y<f.length;y++){var C=f[y],S=h&&C.group;if(!S){var E=C.selectThisNode(r,u,d);E&&v++}this.groupSelectsChildren&&(!((n=C.childrenAfterGroup)===null||n===void 0)&&n.length)&&(v+=this.selectChildren(C,r,h,d))}if(!s){var T=r&&(o||!this.isMultiselect());if(T&&(v+=this.clearOtherNodes(f[0],d)),v>0){this.updateGroupsFromChildrenSelections(d);var O={type:w.EVENT_SELECTION_CHANGED,source:d};this.eventService.dispatchEvent(O)}}return v},e.prototype.selectRange=function(t,n,r,o){var s=this;r===void 0&&(r=!0);var a=this.rowModel.getNodesInRangeForSelection(t,n),l=0;a.forEach(function(c){if(!(c.group&&s.groupSelectsChildren)){var d=c.selectThisNode(r,void 0,o);d&&l++}}),this.updateGroupsFromChildrenSelections(o);var u={type:w.EVENT_SELECTION_CHANGED,source:o};return this.eventService.dispatchEvent(u),l},e.prototype.selectChildren=function(t,n,r,o){var s=r?t.childrenAfterAggFilter:t.childrenAfterGroup;return me(s)?0:this.setNodesSelected({newValue:n,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:r,source:o,nodes:s})},e.prototype.getLastSelectedNode=function(){var t=Array.from(this.selectedNodes.keys());if(t.length==0)return null;var n=this.selectedNodes.get(dt(t));return n||null},e.prototype.getSelectedNodes=function(){var t=[];return this.selectedNodes.forEach(function(n){n&&t.push(n)}),t},e.prototype.getSelectedRows=function(){var t=[];return this.selectedNodes.forEach(function(n){n&&n.data&&t.push(n.data)}),t},e.prototype.getSelectionCount=function(){return this.selectedNodes.size},e.prototype.filterFromSelection=function(t){var n=new Map;this.selectedNodes.forEach(function(r,o){var s=r&&t(r);s&&n.set(o,r)}),this.selectedNodes=n},e.prototype.updateGroupsFromChildrenSelections=function(t,n){if(!this.groupSelectsChildren||this.rowModel.getType()!=="clientSide")return!1;var r=this.rowModel,o=r.getRootNode();n||(n=new yS(!0,o),n.setInactive());var s=!1;return n.forEachChangedNodeDepthFirst(function(a){if(a!==o){var l=a.calculateSelectedFromChildren();s=a.selectThisNode(l===null?!1:l,void 0,t)||s}}),s},e.prototype.clearOtherNodes=function(t,n){var r=this,o=new Map,s=0;return this.selectedNodes.forEach(function(a){if(a&&a.id!==t.id){var l=r.selectedNodes.get(a.id);s+=l.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:n}),r.groupSelectsChildren&&a.parent&&o.set(a.parent.id,a.parent)}}),o.forEach(function(a){var l=a.calculateSelectedFromChildren();a.selectThisNode(l===null?!1:l,void 0,n)}),s},e.prototype.onRowSelected=function(t){var n=t.node;this.groupSelectsChildren&&n.group||(n.isSelected()?this.selectedNodes.set(n.id,n):this.selectedNodes.delete(n.id))},e.prototype.syncInRowNode=function(t,n){this.syncInOldRowNode(t,n),this.syncInNewRowNode(t)},e.prototype.syncInOldRowNode=function(t,n){var r=W(n)&&t.id!==n.id;if(r&&n){var o=n.id,s=this.selectedNodes.get(o)==t;s&&this.selectedNodes.set(n.id,n)}},e.prototype.syncInNewRowNode=function(t){this.selectedNodes.has(t.id)?(t.setSelectedInitialValue(!0),this.selectedNodes.set(t.id,t)):t.setSelectedInitialValue(!1)},e.prototype.reset=function(t){var n=this.getSelectionCount();if(this.resetNodes(),n){var r={type:w.EVENT_SELECTION_CHANGED,source:t};this.eventService.dispatchEvent(r)}},e.prototype.resetNodes=function(){var t;(t=this.selectedNodes)===null||t===void 0||t.clear()},e.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()!=="clientSide")return;var t=this.rowModel,n=t.getTopLevelNodes();if(n===null)return;var r=[];function o(s){for(var a=0,l=s.length;a<l;a++){var u=s[a];if(u.isSelected())r.push(u);else{var c=u;c.group&&c.children&&o(c.children)}}}return o(n),r},e.prototype.isEmpty=function(){var t=0;return this.selectedNodes.forEach(function(n){n&&t++}),t===0},e.prototype.deselectAllRowNodes=function(t){var n=function(u){return u.selectThisNode(!1,void 0,o)},r=this.rowModel.getType()==="clientSide",o=t.source,s=t.justFiltered,a=t.justCurrentPage;if(a||s){if(!r){console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(s,a).forEach(n)}else this.selectedNodes.forEach(function(u){u&&n(u)}),this.reset(o);r&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(o);var l={type:w.EVENT_SELECTION_CHANGED,source:o};this.eventService.dispatchEvent(l)},e.prototype.getSelectedCounts=function(t,n){var r=this,o=0,s=0,a=function(l){r.groupSelectsChildren&&l.group||(l.isSelected()?o++:l.selectable&&s++)};return this.getNodesToSelect(t,n).forEach(a),{selectedCount:o,notSelectedCount:s}},e.prototype.getSelectAllState=function(t,n){var r=this.getSelectedCounts(t,n),o=r.selectedCount,s=r.notSelectedCount;return o===0&&s===0?!1:o>0&&s>0?null:o>0},e.prototype.hasNodesToSelect=function(t,n){return t===void 0&&(t=!1),n===void 0&&(n=!1),this.getNodesToSelect(t,n).filter(function(r){return r.selectable}).length>0},e.prototype.getNodesToSelect=function(t,n){var r=this;if(t===void 0&&(t=!1),n===void 0&&(n=!1),this.rowModel.getType()!=="clientSide")throw new Error("selectAll only available when rowModelType='clientSide', ie not ".concat(this.rowModel.getType()));var o=[];if(n)return this.paginationProxy.forEachNodeOnPage(function(a){if(!a.group){o.push(a);return}if(!a.expanded){var l=function(u){var c;o.push(u),!((c=u.childrenAfterFilter)===null||c===void 0)&&c.length&&u.childrenAfterFilter.forEach(l)};l(a);return}r.groupSelectsChildren||o.push(a)}),o;var s=this.rowModel;return t?(s.forEachNodeAfterFilter(function(a){o.push(a)}),o):(s.forEachNode(function(a){o.push(a)}),o)},e.prototype.selectAllRowNodes=function(t){if(this.rowModel.getType()!=="clientSide")throw new Error("selectAll only available when rowModelType='clientSide', ie not ".concat(this.rowModel.getType()));var n=t.source,r=t.justFiltered,o=t.justCurrentPage,s=function(l){return l.selectThisNode(!0,void 0,n)};this.getNodesToSelect(r,o).forEach(s),this.rowModel.getType()==="clientSide"&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(n);var a={type:w.EVENT_SELECTION_CHANGED,source:n};this.eventService.dispatchEvent(a)},e.prototype.getSelectionState=function(){var t=[];return this.selectedNodes.forEach(function(n){n?.id&&t.push(n.id)}),t.length?t:null},e.prototype.setSelectionState=function(t,n){if(Array.isArray(t)){var r=new Set(t),o=[];this.rowModel.forEachNode(function(s){r.has(s.id)&&o.push(s)}),this.setNodesSelected({newValue:!0,nodes:o,source:n})}},Dw([_("rowModel")],e.prototype,"rowModel",void 0),Dw([_("paginationProxy")],e.prototype,"paginationProxy",void 0),Dw([Z],e.prototype,"init",null),e=Dw([ne("selectionService")],e),e}(Y),UU=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},sme=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},ame=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},cm=function(){function i(e){var t=this;this.viaApi=function(n){for(var r,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return Ae("Since v31, 'columnApi.".concat(n,"' is deprecated and moved to 'api.").concat(n,"'.")),(r=t.api)[n].apply(r,ame([],sme(o),!1))},this.api=e}return i.prototype.sizeColumnsToFit=function(e){this.viaApi("sizeColumnsToFit",e)},i.prototype.setColumnGroupOpened=function(e,t){this.viaApi("setColumnGroupOpened",e,t)},i.prototype.getColumnGroup=function(e,t){return this.viaApi("getColumnGroup",e,t)},i.prototype.getProvidedColumnGroup=function(e){return this.viaApi("getProvidedColumnGroup",e)},i.prototype.getDisplayNameForColumn=function(e,t){return this.viaApi("getDisplayNameForColumn",e,t)},i.prototype.getDisplayNameForColumnGroup=function(e,t){return this.viaApi("getDisplayNameForColumnGroup",e,t)},i.prototype.getColumn=function(e){return this.viaApi("getColumn",e)},i.prototype.getColumns=function(){return this.viaApi("getColumns")},i.prototype.applyColumnState=function(e){return this.viaApi("applyColumnState",e)},i.prototype.getColumnState=function(){return this.viaApi("getColumnState")},i.prototype.resetColumnState=function(){this.viaApi("resetColumnState")},i.prototype.getColumnGroupState=function(){return this.viaApi("getColumnGroupState")},i.prototype.setColumnGroupState=function(e){this.viaApi("setColumnGroupState",e)},i.prototype.resetColumnGroupState=function(){this.viaApi("resetColumnGroupState")},i.prototype.isPinning=function(){return this.viaApi("isPinning")},i.prototype.isPinningLeft=function(){return this.viaApi("isPinningLeft")},i.prototype.isPinningRight=function(){return this.viaApi("isPinningRight")},i.prototype.getDisplayedColAfter=function(e){return this.viaApi("getDisplayedColAfter",e)},i.prototype.getDisplayedColBefore=function(e){return this.viaApi("getDisplayedColBefore",e)},i.prototype.setColumnVisible=function(e,t){this.viaApi("setColumnVisible",e,t)},i.prototype.setColumnsVisible=function(e,t){this.viaApi("setColumnsVisible",e,t)},i.prototype.setColumnPinned=function(e,t){this.viaApi("setColumnPinned",e,t)},i.prototype.setColumnsPinned=function(e,t){this.viaApi("setColumnsPinned",e,t)},i.prototype.getAllGridColumns=function(){return this.viaApi("getAllGridColumns")},i.prototype.getDisplayedLeftColumns=function(){return this.viaApi("getDisplayedLeftColumns")},i.prototype.getDisplayedCenterColumns=function(){return this.viaApi("getDisplayedCenterColumns")},i.prototype.getDisplayedRightColumns=function(){return this.viaApi("getDisplayedRightColumns")},i.prototype.getAllDisplayedColumns=function(){return this.viaApi("getAllDisplayedColumns")},i.prototype.getAllDisplayedVirtualColumns=function(){return this.viaApi("getAllDisplayedVirtualColumns")},i.prototype.moveColumn=function(e,t){this.viaApi("moveColumn",e,t)},i.prototype.moveColumnByIndex=function(e,t){this.viaApi("moveColumnByIndex",e,t)},i.prototype.moveColumns=function(e,t){this.viaApi("moveColumns",e,t)},i.prototype.moveRowGroupColumn=function(e,t){this.viaApi("moveRowGroupColumn",e,t)},i.prototype.setColumnAggFunc=function(e,t){this.viaApi("setColumnAggFunc",e,t)},i.prototype.setColumnWidth=function(e,t,n,r){n===void 0&&(n=!0),this.viaApi("setColumnWidth",e,t,n,r)},i.prototype.setColumnWidths=function(e,t,n){t===void 0&&(t=!0),this.viaApi("setColumnWidths",e,t,n)},i.prototype.setPivotMode=function(e){this.viaApi("setPivotMode",e)},i.prototype.isPivotMode=function(){return this.viaApi("isPivotMode")},i.prototype.getPivotResultColumn=function(e,t){return this.viaApi("getPivotResultColumn",e,t)},i.prototype.setValueColumns=function(e){this.viaApi("setValueColumns",e)},i.prototype.getValueColumns=function(){return this.viaApi("getValueColumns")},i.prototype.removeValueColumn=function(e){this.viaApi("removeValueColumn",e)},i.prototype.removeValueColumns=function(e){this.viaApi("removeValueColumns",e)},i.prototype.addValueColumn=function(e){this.viaApi("addValueColumn",e)},i.prototype.addValueColumns=function(e){this.viaApi("addValueColumns",e)},i.prototype.setRowGroupColumns=function(e){this.viaApi("setRowGroupColumns",e)},i.prototype.removeRowGroupColumn=function(e){this.viaApi("removeRowGroupColumn",e)},i.prototype.removeRowGroupColumns=function(e){this.viaApi("removeRowGroupColumns",e)},i.prototype.addRowGroupColumn=function(e){this.viaApi("addRowGroupColumn",e)},i.prototype.addRowGroupColumns=function(e){this.viaApi("addRowGroupColumns",e)},i.prototype.getRowGroupColumns=function(){return this.viaApi("getRowGroupColumns")},i.prototype.setPivotColumns=function(e){this.viaApi("setPivotColumns",e)},i.prototype.removePivotColumn=function(e){this.viaApi("removePivotColumn",e)},i.prototype.removePivotColumns=function(e){this.viaApi("removePivotColumns",e)},i.prototype.addPivotColumn=function(e){this.viaApi("addPivotColumn",e)},i.prototype.addPivotColumns=function(e){this.viaApi("addPivotColumns",e)},i.prototype.getPivotColumns=function(){return this.viaApi("getPivotColumns")},i.prototype.getLeftDisplayedColumnGroups=function(){return this.viaApi("getLeftDisplayedColumnGroups")},i.prototype.getCenterDisplayedColumnGroups=function(){return this.viaApi("getCenterDisplayedColumnGroups")},i.prototype.getRightDisplayedColumnGroups=function(){return this.viaApi("getRightDisplayedColumnGroups")},i.prototype.getAllDisplayedColumnGroups=function(){return this.viaApi("getAllDisplayedColumnGroups")},i.prototype.autoSizeColumn=function(e,t){return this.viaApi("autoSizeColumn",e,t)},i.prototype.autoSizeColumns=function(e,t){this.viaApi("autoSizeColumns",e,t)},i.prototype.autoSizeAllColumns=function(e){this.viaApi("autoSizeAllColumns",e)},i.prototype.setPivotResultColumns=function(e){this.viaApi("setPivotResultColumns",e)},i.prototype.getPivotResultColumns=function(){return this.viaApi("getPivotResultColumns")},UU([_("gridApi")],i.prototype,"api",void 0),i=UU([ne("columnApi")],i),i}(),lme=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),mh=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ume=function(i){lme(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.initialised=!1,t.isSsrm=!1,t}return e.prototype.init=function(){var t=this;this.isSsrm=this.gridOptionsService.isRowModelType("serverSide"),this.cellExpressions=this.gridOptionsService.get("enableCellExpressions"),this.isTreeData=this.gridOptionsService.get("treeData"),this.initialised=!0;var n=function(o){return t.callColumnCellValueChangedHandler(o)},r=this.gridOptionsService.useAsyncEvents();this.eventService.addEventListener(w.EVENT_CELL_VALUE_CHANGED,n,r),this.addDestroyFunc(function(){return t.eventService.removeEventListener(w.EVENT_CELL_VALUE_CHANGED,n,r)}),this.addManagedPropertyListener("treeData",function(o){return t.isTreeData=o.currentValue})},e.prototype.getValue=function(t,n,r,o){if(r===void 0&&(r=!1),o===void 0&&(o=!1),this.initialised||this.init(),!!n){var s=t.getColDef(),a=s.field,l=t.getColId(),u=n.data,c,d=n.groupData&&n.groupData[l]!==void 0,h=!o&&n.aggData&&n.aggData[l]!==void 0,f=this.isSsrm&&o&&!!t.getColDef().aggFunc,p=this.isSsrm&&n.footer&&n.field&&(t.getColDef().showRowGroup===!0||t.getColDef().showRowGroup===n.field);if(r&&s.filterValueGetter?c=this.executeFilterValueGetter(s.filterValueGetter,u,t,n):this.isTreeData&&h?c=n.aggData[l]:this.isTreeData&&s.valueGetter?c=this.executeValueGetter(s.valueGetter,u,t,n):this.isTreeData&&a&&u?c=Ch(u,a,t.isFieldContainsDots()):d?c=n.groupData[l]:h?c=n.aggData[l]:s.valueGetter?c=this.executeValueGetter(s.valueGetter,u,t,n):p?c=Ch(u,n.field,t.isFieldContainsDots()):a&&u&&!f&&(c=Ch(u,a,t.isFieldContainsDots())),this.cellExpressions&&typeof c=="string"&&c.indexOf("=")===0){var g=c.substring(1);c=this.executeValueGetter(g,u,t,n)}if(c==null){var m=this.getOpenedGroup(n,t);if(m!=null)return m}return c}},e.prototype.getOpenedGroup=function(t,n){if(this.gridOptionsService.get("showOpenedGroup")){var r=n.getColDef();if(r.showRowGroup)for(var o=n.getColDef().showRowGroup,s=t.parent;s!=null;){if(s.rowGroupColumn&&(o===!0||o===s.rowGroupColumn.getColId()))return s.key;s=s.parent}}},e.prototype.setValue=function(t,n,r,o){var s=this.columnModel.getPrimaryColumn(n);if(!t||!s)return!1;me(t.data)&&(t.data={});var a=s.getColDef(),l=a.field,u=a.valueSetter;if(me(l)&&me(u))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(s,r))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;var c=this.gridOptionsService.addGridCommonParams({node:t,data:t.data,oldValue:this.getValue(s,t),newValue:r,colDef:s.getColDef(),column:s});c.newValue=r;var d;if(W(u)?typeof u=="function"?d=u(c):d=this.expressionService.evaluate(u,c):d=this.setValueUsingField(t.data,l,r,s.isFieldContainsDots()),d===void 0&&(d=!0),!d)return!1;t.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),c.newValue=this.getValue(s,t);var h={type:w.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:c.column,api:c.api,columnApi:c.columnApi,colDef:c.colDef,context:c.context,data:t.data,node:t,oldValue:c.oldValue,newValue:c.newValue,value:c.newValue,source:o};return this.eventService.dispatchEvent(h),!0},e.prototype.callColumnCellValueChangedHandler=function(t){var n=t.colDef.onCellValueChanged;typeof n=="function"&&n({node:t.node,data:t.data,oldValue:t.oldValue,newValue:t.newValue,colDef:t.colDef,column:t.column,api:t.api,columnApi:t.columnApi,context:t.context})},e.prototype.setValueUsingField=function(t,n,r,o){if(!n)return!1;var s=!1;if(!o)s=t[n]===r,s||(t[n]=r);else for(var a=n.split("."),l=t;a.length>0&&l;){var u=a.shift();a.length===0?(s=l[u]===r,s||(l[u]=r)):l=l[u]}return!s},e.prototype.executeFilterValueGetter=function(t,n,r,o){var s=this.gridOptionsService.addGridCommonParams({data:n,node:o,column:r,colDef:r.getColDef(),getValue:this.getValueCallback.bind(this,o)});return typeof t=="function"?t(s):this.expressionService.evaluate(t,s)},e.prototype.executeValueGetter=function(t,n,r,o){var s=r.getColId(),a=this.valueCache.getValue(o,s);if(a!==void 0)return a;var l=this.gridOptionsService.addGridCommonParams({data:n,node:o,column:r,colDef:r.getColDef(),getValue:this.getValueCallback.bind(this,o)}),u;return typeof t=="function"?u=t(l):u=this.expressionService.evaluate(t,l),this.valueCache.setValue(o,s,u),u},e.prototype.getValueCallback=function(t,n){var r=this.columnModel.getPrimaryColumn(n);return r?this.getValue(r,t):null},e.prototype.getKeyForNode=function(t,n){var r=this.getValue(t,n),o=t.getColDef().keyCreator,s=r;if(o){var a=this.gridOptionsService.addGridCommonParams({value:r,colDef:t.getColDef(),column:t,node:n,data:n.data});s=o(a)}return typeof s=="string"||s==null||(s=String(s),s==="[object Object]"&&Ae("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),s},mh([_("expressionService")],e.prototype,"expressionService",void 0),mh([_("columnModel")],e.prototype,"columnModel",void 0),mh([_("valueCache")],e.prototype,"valueCache",void 0),mh([_("dataTypeService")],e.prototype,"dataTypeService",void 0),mh([Z],e.prototype,"init",null),e=mh([ne("valueService")],e),e}(Y),cme=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),WU=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},dme=function(i,e){return function(t,n){e(t,n,i)}},hme=function(i){cme(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.expressionToFunctionCache={},t}return e.prototype.setBeans=function(t){this.logger=t.create("ExpressionService")},e.prototype.evaluate=function(t,n){if(typeof t=="string")return this.evaluateExpression(t,n);console.error("AG Grid: value should be either a string or a function",t)},e.prototype.evaluateExpression=function(t,n){try{var r=this.createExpressionFunction(t),o=r(n.value,n.context,n.oldValue,n.newValue,n.value,n.node,n.data,n.colDef,n.rowIndex,n.api,n.columnApi,n.getValue,n.column,n.columnGroup);return o}catch(s){return console.log("Processing of the expression failed"),console.log("Expression = "+t),console.log("Params =",n),console.log("Exception = "+s),null}},e.prototype.createExpressionFunction=function(t){if(this.expressionToFunctionCache[t])return this.expressionToFunctionCache[t];var n=this.createFunctionBody(t),r=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",n);return this.expressionToFunctionCache[t]=r,r},e.prototype.createFunctionBody=function(t){return t.indexOf("return")>=0?t:"return "+t+";"},WU([dme(0,to("loggerFactory"))],e.prototype,"setBeans",null),e=WU([ne("expressionService")],e),e}(Y),fme=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),pme=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},gme=function(i){fme(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.templateCache={},t.waitingCallbacks={},t}return e.prototype.getTemplate=function(t,n){var r=this.templateCache[t];if(r)return r;var o=this.waitingCallbacks[t],s=this;if(!o){o=[],this.waitingCallbacks[t]=o;var a=new XMLHttpRequest;a.onload=function(){s.handleHttpResult(this,t)},a.open("GET",t),a.send()}return n&&o.push(n),null},e.prototype.handleHttpResult=function(t,n){if(t.status!==200||t.response===null){console.warn("AG Grid: Unable to get template error ".concat(t.status," - ").concat(n));return}this.templateCache[n]=t.response||t.responseText;for(var r=this.waitingCallbacks[n],o=0;o<r.length;o++){var s=r[o];s()}},e=pme([ne("templateService")],e),e}(Y),mme=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zU=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},vme=function(i,e){return function(t,n){e(t,n,i)}},yme=function(i){mme(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.setBeans=function(t){this.logging=t.get("debug")},e.prototype.create=function(t){return new lI(t,this.isLogging.bind(this))},e.prototype.isLogging=function(){return this.logging},zU([vme(0,to("gridOptionsService"))],e.prototype,"setBeans",null),e=zU([ne("loggerFactory")],e),e}(Y),lI=function(){function i(e,t){this.name=e,this.isLoggingFunc=t}return i.prototype.isLogging=function(){return this.isLoggingFunc()},i.prototype.log=function(e){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+e)},i}(),_me=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),vh=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Cme=function(i){_me(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.setComp=function(t,n,r){var o=this;this.view=t,this.eGridHostDiv=n,this.eGui=r,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:function(){return o.eGui},isInterestedIn:function(a){return a===Rr.HeaderCell||a===Rr.ToolPanel},getIconName:function(){return xn.ICON_NOT_ALLOWED}}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(n),this.createManagedBean(new nI(this.view)),this.addRtlSupport();var s=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return s()}),this.ctrlsService.registerGridCtrl(this)},e.prototype.isDetailGrid=function(){var t,n=this.focusService.findTabbableParent(this.getGui());return((t=n?.getAttribute("row-id"))===null||t===void 0?void 0:t.startsWith("detail"))||!1},e.prototype.showDropZones=function(){return mt.__isRegistered(de.RowGroupingModule,this.context.getGridId())},e.prototype.showSideBar=function(){return mt.__isRegistered(de.SideBarModule,this.context.getGridId())},e.prototype.showStatusBar=function(){return mt.__isRegistered(de.StatusBarModule,this.context.getGridId())},e.prototype.showWatermark=function(){return mt.__isRegistered(de.EnterpriseCoreModule,this.context.getGridId())},e.prototype.onGridSizeChanged=function(){var t={type:w.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(t)},e.prototype.addRtlSupport=function(){var t=this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(t)},e.prototype.destroyGridUi=function(){this.view.destroyGridUi()},e.prototype.getGui=function(){return this.eGui},e.prototype.setResizeCursor=function(t){this.view.setCursor(t?"ew-resize":null)},e.prototype.disableUserSelect=function(t){this.view.setUserSelect(t?"none":null)},e.prototype.focusNextInnerContainer=function(t){var n=this.gridOptionsService.getDocument(),r=this.view.getFocusableContainers(),o=r.findIndex(function(a){return a.contains(n.activeElement)}),s=o+(t?-1:1);return s<=0||s>=r.length?!1:this.focusService.focusInto(r[s])},e.prototype.focusInnerElement=function(t){var n=this.view.getFocusableContainers(),r=this.columnModel.getAllDisplayedColumns();if(t){if(n.length>1)return this.focusService.focusInto(dt(n),!0);var o=dt(r);if(this.focusService.focusGridView(o,!0))return!0}return this.gridOptionsService.get("headerHeight")===0?this.focusService.focusGridView(r[0]):this.focusService.focusFirstHeader()},e.prototype.forceFocusOutOfContainer=function(t){t===void 0&&(t=!1),this.view.forceFocusOutOfContainer(t)},vh([_("focusService")],e.prototype,"focusService",void 0),vh([_("resizeObserverService")],e.prototype,"resizeObserverService",void 0),vh([_("columnModel")],e.prototype,"columnModel",void 0),vh([_("ctrlsService")],e.prototype,"ctrlsService",void 0),vh([_("mouseEventService")],e.prototype,"mouseEventService",void 0),vh([_("dragAndDropService")],e.prototype,"dragAndDropService",void 0),e}(Y),wme=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Fg=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},$z=function(i){wme(e,i);function e(t){var n=i.call(this)||this;return n.eGridDiv=t,n}return e.prototype.postConstruct=function(){var t=this;this.logger=this.loggerFactory.create("GridComp");var n={destroyGridUi:function(){return t.destroyBean(t)},setRtlClass:function(o){return t.addCssClass(o)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(o){t.getGui().style.userSelect=o??"",t.getGui().style.webkitUserSelect=o??""},setCursor:function(o){t.getGui().style.cursor=o??""}};this.ctrl=this.createManagedBean(new Cme);var r=this.createTemplate();this.setTemplate(r),this.ctrl.setComp(n,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(o){return t.ctrl.focusInnerElement(o)}})},e.prototype.insertGridIntoDom=function(){var t=this,n=this.getGui();this.eGridDiv.appendChild(n),this.addDestroyFunc(function(){t.eGridDiv.removeChild(n),t.logger.log("Grid removed from DOM")})},e.prototype.updateLayoutClasses=function(t,n){var r=this.eRootWrapperBody.classList;r.toggle(Mn.AUTO_HEIGHT,n.autoHeight),r.toggle(Mn.NORMAL,n.normal),r.toggle(Mn.PRINT,n.print),this.addOrRemoveCssClass(Mn.AUTO_HEIGHT,n.autoHeight),this.addOrRemoveCssClass(Mn.NORMAL,n.normal),this.addOrRemoveCssClass(Mn.PRINT,n.print)},e.prototype.createTemplate=function(){var t=this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",n=this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"",r=this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"",o=this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"",s=`<div class="ag-root-wrapper" role="presentation">
                `.concat(t,`
                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">
                    <ag-grid-body ref="gridBody"></ag-grid-body>
                    `).concat(n,`
                </div>
                `).concat(r,`
                <ag-pagination></ag-pagination>
                `).concat(o,`
            </div>`);return s},e.prototype.getFocusableElement=function(){return this.eRootWrapperBody},e.prototype.getFocusableContainers=function(){var t=[this.gridBodyComp.getGui()];return this.sideBarComp&&t.push(this.sideBarComp.getGui()),t.filter(function(n){return Ar(n)})},Fg([_("loggerFactory")],e.prototype,"loggerFactory",void 0),Fg([J("gridBody")],e.prototype,"gridBodyComp",void 0),Fg([J("sideBar")],e.prototype,"sideBarComp",void 0),Fg([J("rootWrapperBody")],e.prototype,"eRootWrapperBody",void 0),Fg([Z],e.prototype,"postConstruct",null),e}(um),Sme=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$U=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},gs=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Sl=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},bme=function(i){Sme(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}t=e,e.prototype.progressSort=function(n,r,o){var s=this.getNextSortDirection(n);this.setSortForColumn(n,s,r,o)},e.prototype.setSortForColumn=function(n,r,o,s){r!=="asc"&&r!=="desc"&&(r=null);var a=this.gridOptionsService.isColumnsSortingCoupledToGroup(),l=[n];if(a&&n.getColDef().showRowGroup){var u=this.columnModel.getSourceColumnsForGroupColumn(n),c=u?.filter(function(p){return p.isSortable()});c&&(l=Sl([n],gs(c),!1))}l.forEach(function(p){return p.setSort(r,s)});var d=(o||this.gridOptionsService.get("alwaysMultiSort"))&&!this.gridOptionsService.get("suppressMultiSort"),h=[];if(!d){var f=this.clearSortBarTheseColumns(l,s);h.push.apply(h,Sl([],gs(f),!1))}this.updateSortIndex(n),h.push.apply(h,Sl([],gs(l),!1)),this.dispatchSortChangedEvents(s,h)},e.prototype.updateSortIndex=function(n){var r=this.gridOptionsService.isColumnsSortingCoupledToGroup(),o=this.columnModel.getGroupDisplayColumnForGroup(n.getId()),s=r&&o||n,a=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(c){return c.setSortIndex(null)});var l=a.filter(function(c){return c!==s}),u=s.getSort()?Sl(Sl([],gs(l),!1),[s],!1):l;u.forEach(function(c,d){return c.setSortIndex(d)})},e.prototype.onSortChanged=function(n,r){this.dispatchSortChangedEvents(n,r)},e.prototype.isSortActive=function(){var n=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),r=n.filter(function(o){return!!o.getSort()});return r&&r.length>0},e.prototype.dispatchSortChangedEvents=function(n,r){var o={type:w.EVENT_SORT_CHANGED,source:n};r&&(o.columns=r),this.eventService.dispatchEvent(o)},e.prototype.clearSortBarTheseColumns=function(n,r){var o=[];return this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(s){n.includes(s)||(s.getSort()&&o.push(s),s.setSort(void 0,r))}),o},e.prototype.getNextSortDirection=function(n){var r;if(n.getColDef().sortingOrder?r=n.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?r=this.gridOptionsService.get("sortingOrder"):r=t.DEFAULT_SORTING_ORDER,!Array.isArray(r)||r.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's ".concat(r)),null;var o=r.indexOf(n.getSort()),s=o<0,a=o==r.length-1,l;return s||a?l=r[0]:l=r[o+1],t.DEFAULT_SORTING_ORDER.indexOf(l)<0?(console.warn("AG Grid: invalid sort type "+l),null):l},e.prototype.getIndexedSortMap=function(){var n=this,r=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(c){return!!c.getSort()});if(this.columnModel.isPivotMode()){var o=this.gridOptionsService.isColumnsSortingCoupledToGroup();r=r.filter(function(c){var d=!!c.getAggFunc(),h=!c.isPrimary(),f=o?n.columnModel.getGroupDisplayColumnForGroup(c.getId()):c.getColDef().showRowGroup;return d||h||f})}var s=this.columnModel.getRowGroupColumns().filter(function(c){return!!c.getSort()}),a=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!s.length;a&&(r=Sl([],gs(new Set(r.map(function(c){var d;return(d=n.columnModel.getGroupDisplayColumnForGroup(c.getId()))!==null&&d!==void 0?d:c}))),!1));var l={};r.forEach(function(c,d){return l[c.getId()]=d}),r.sort(function(c,d){var h=c.getSortIndex(),f=d.getSortIndex();if(h!=null&&f!=null)return h-f;if(h==null&&f==null){var p=l[c.getId()],g=l[d.getId()];return p>g?1:-1}else return f==null?-1:1});var u=new Map;return r.forEach(function(c,d){return u.set(c,d)}),a&&s.forEach(function(c){var d=n.columnModel.getGroupDisplayColumnForGroup(c.getId());u.set(c,u.get(d))}),u},e.prototype.getColumnsWithSortingOrdered=function(){return Sl([],gs(this.getIndexedSortMap().entries()),!1).sort(function(n,r){var o=gs(n,2);o[0];var s=o[1],a=gs(r,2);a[0];var l=a[1];return s-l}).map(function(n){var r=gs(n,1),o=r[0];return o})},e.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().filter(function(n){return n.getSort()}).map(function(n){return{sort:n.getSort(),colId:n.getId()}})},e.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().filter(function(n){return n.getSort()}).map(function(n){return{sort:n.getSort(),column:n}})},e.prototype.canColumnDisplayMixedSort=function(n){var r=this.gridOptionsService.isColumnsSortingCoupledToGroup(),o=!!n.getColDef().showRowGroup;return r&&o},e.prototype.getDisplaySortForColumn=function(n){var r=this.columnModel.getSourceColumnsForGroupColumn(n);if(!this.canColumnDisplayMixedSort(n)||!r?.length)return n.getSort();var o=n.getColDef().field!=null||!!n.getColDef().valueGetter,s=o?Sl([n],gs(r),!1):r,a=s[0].getSort(),l=s.every(function(u){return u.getSort()==a});return l?a:"mixed"},e.prototype.getDisplaySortIndexForColumn=function(n){return this.getIndexedSortMap().get(n)};var t;return e.DEFAULT_SORTING_ORDER=["asc","desc",null],$U([_("columnModel")],e.prototype,"columnModel",void 0),e=t=$U([ne("sortController")],e),e}(Y),Eme=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Kg=function(){return Kg=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},Kg.apply(this,arguments)},Cr=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Dme=function(i){Eme(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}t=e,e.addKeyboardModeEvents=function(n){this.instanceCount>0||(n.addEventListener("keydown",t.toggleKeyboardMode),n.addEventListener("mousedown",t.toggleKeyboardMode))},e.removeKeyboardModeEvents=function(n){this.instanceCount>0||(n.addEventListener("keydown",t.toggleKeyboardMode),n.addEventListener("mousedown",t.toggleKeyboardMode))},e.toggleKeyboardMode=function(n){var r=t.keyboardModeActive,o=n.type==="keydown";o&&(n.ctrlKey||n.metaKey||n.altKey)||r!==o&&(t.keyboardModeActive=o)},e.unregisterGridCompController=function(n){t.removeKeyboardModeEvents(n)},e.prototype.init=function(){var n=this,r=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,w.EVENT_COLUMN_PIVOT_MODE_CHANGED,r),this.addManagedListener(this.eventService,w.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,w.EVENT_COLUMN_GROUP_OPENED,r),this.addManagedListener(this.eventService,w.EVENT_COLUMN_ROW_GROUP_CHANGED,r),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(function(o){n.gridCtrl=o.gridCtrl})},e.prototype.registerKeyboardFocusEvents=function(){var n=this.gridOptionsService.getDocument();t.addKeyboardModeEvents(n),t.instanceCount++,this.addDestroyFunc(function(){t.instanceCount--,t.unregisterGridCompController(n)})},e.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var n=this.focusedCellPosition.column,r=this.columnModel.getGridColumn(n.getId());n!==r&&this.clearFocusedCell()}},e.prototype.isKeyboardMode=function(){return t.keyboardModeActive},e.prototype.getFocusCellToUseAfterRefresh=function(){var n=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(n.activeElement,hc.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},e.prototype.getFocusHeaderToUseAfterRefresh=function(){var n=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(n.activeElement,vS.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},e.prototype.isDomDataMissingInHierarchy=function(n,r){for(var o=n;o;){var s=this.gridOptionsService.getDomData(o,r);if(s)return!1;o=o.parentNode}return!0},e.prototype.getFocusedCell=function(){return this.focusedCellPosition},e.prototype.shouldRestoreFocus=function(n){var r=this;return this.isCellRestoreFocused(n)?(setTimeout(function(){r.restoredFocusedCellPosition=null},0),!0):!1},e.prototype.isCellRestoreFocused=function(n){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(n,this.restoredFocusedCellPosition)},e.prototype.setRestoreFocusedCell=function(n){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=n)},e.prototype.getFocusEventParams=function(){var n=this.focusedCellPosition,r=n.rowIndex,o=n.rowPinned,s=n.column,a={rowIndex:r,rowPinned:o,column:s,isFullWidthCell:!1},l=this.rowRenderer.getRowByPosition({rowIndex:r,rowPinned:o});return l&&(a.isFullWidthCell=l.isFullWidth()),a},e.prototype.clearFocusedCell=function(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition!=null){var n=Kg({type:w.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(n)}},e.prototype.setFocusedCell=function(n){var r=n.column,o=n.rowIndex,s=n.rowPinned,a=n.forceBrowserFocus,l=a===void 0?!1:a,u=n.preventScrollOnBrowserFocus,c=u===void 0?!1:u,d=this.columnModel.getGridColumn(r);if(!d){this.focusedCellPosition=null;return}this.focusedCellPosition=d?{rowIndex:o,rowPinned:Ss(s),column:d}:null;var h=Kg(Kg({type:w.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:l,preventScrollOnBrowserFocus:c,floating:null});this.eventService.dispatchEvent(h)},e.prototype.isCellFocused=function(n){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(n,this.focusedCellPosition)},e.prototype.isRowNodeFocused=function(n){return this.isRowFocused(n.rowIndex,n.rowPinned)},e.prototype.isHeaderWrapperFocused=function(n){if(this.focusedHeaderPosition==null)return!1;var r=n.getColumnGroupChild(),o=n.getRowIndex(),s=n.getPinned(),a=this.focusedHeaderPosition,l=a.column,u=a.headerRowIndex;return r===l&&o===u&&s==l.getPinned()},e.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},e.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},e.prototype.setFocusedHeader=function(n,r){this.focusedHeaderPosition={headerRowIndex:n,column:r}},e.prototype.focusHeaderPosition=function(n){var r=n.direction,o=n.fromTab,s=n.allowUserOverride,a=n.event,l=n.fromCell,u=n.headerPosition;if(l&&this.filterManager.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(u);if(s){var c=this.getFocusedHeader(),d=this.headerNavigationService.getHeaderRowCount();if(o){var h=this.gridOptionsService.getCallback("tabToNextHeader");if(h){var f={backwards:r==="Before",previousHeaderPosition:c,nextHeaderPosition:u,headerRowCount:d};u=h(f)}}else{var h=this.gridOptionsService.getCallback("navigateToNextHeader");if(h&&a){var p={key:a.key,previousHeaderPosition:c,nextHeaderPosition:u,headerRowCount:d,event:a};u=h(p)}}}if(!u)return!1;if(u.headerRowIndex===-1)return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(u):this.focusGridView(u.column);this.headerNavigationService.scrollToColumn(u.column,r);var g=this.ctrlsService.getHeaderRowContainerCtrl(u.column.getPinned()),m=g.focusHeader(u.headerRowIndex,u.column,a);return m},e.prototype.focusFirstHeader=function(){var n=this.columnModel.getAllDisplayedColumns()[0];return n?(n.getParent()&&(n=this.columnModel.getColumnGroupAtLevel(n,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:n}})):!1},e.prototype.focusLastHeader=function(n){var r=this.headerNavigationService.getHeaderRowCount()-1,o=dt(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:r,column:o},event:n})},e.prototype.focusPreviousFromFirstCell=function(n){return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(n)},e.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},e.prototype.isRowFocused=function(n,r){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===n&&this.focusedCellPosition.rowPinned===Ss(r)},e.prototype.findFocusableElements=function(n,r,o){o===void 0&&(o=!1);var s=ez,a=VM;r&&(a+=", "+r),o&&(a+=', [tabindex="-1"]');var l=Array.prototype.slice.apply(n.querySelectorAll(s)).filter(function(d){return Ar(d)}),u=Array.prototype.slice.apply(n.querySelectorAll(a));if(!u.length)return l;var c=function(d,h){return d.filter(function(f){return h.indexOf(f)===-1})};return c(l,u)},e.prototype.focusInto=function(n,r,o){r===void 0&&(r=!1),o===void 0&&(o=!1);var s=this.findFocusableElements(n,null,o),a=r?dt(s):s[0];return a?(a.focus({preventScroll:!0}),!0):!1},e.prototype.findFocusableElementBeforeTabGuard=function(n,r){if(!r)return null;var o=this.findFocusableElements(n),s=o.indexOf(r);if(s===-1)return null;for(var a=-1,l=s-1;l>=0;l--)if(o[l].classList.contains(Yg.TAB_GUARD_TOP)){a=l;break}return a<=0?null:o[a-1]},e.prototype.findNextFocusableElement=function(n,r,o){n===void 0&&(n=this.eGridDiv);var s=this.findFocusableElements(n,r?':not([tabindex="-1"])':null),a=this.gridOptionsService.getDocument(),l=a.activeElement,u;r?u=s.findIndex(function(d){return d.contains(l)}):u=s.indexOf(l);var c=u+(o?-1:1);return c<0||c>=s.length?null:s[c]},e.prototype.isTargetUnderManagedComponent=function(n,r){if(!r)return!1;var o=n.querySelectorAll(".".concat(mc.FOCUS_MANAGED_CLASS));if(!o.length)return!1;for(var s=0;s<o.length;s++)if(o[s].contains(r))return!0;return!1},e.prototype.findTabbableParent=function(n,r){r===void 0&&(r=5);for(var o=0;n&&Uw(n)===null&&++o<=r;)n=n.parentElement;return Uw(n)===null?null:n},e.prototype.focusGridView=function(n,r){if(this.gridOptionsService.get("suppressCellFocus"))return r?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var o=r?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!o)return!1;var s=o.rowIndex,a=o.rowPinned,l=this.getFocusedHeader();if(!n&&l&&(n=l.column),s==null||!n)return!1;if(this.navigationService.ensureCellVisible({rowIndex:s,column:n,rowPinned:a}),this.setFocusedCell({rowIndex:s,column:n,rowPinned:Ss(a),forceBrowserFocus:!0}),this.rangeService){var u={rowIndex:s,rowPinned:a,column:n};this.rangeService.setRangeToCell(u)}return!0},e.prototype.focusNextGridCoreContainer=function(n,r){return r===void 0&&(r=!1),!r&&this.gridCtrl.focusNextInnerContainer(n)?!0:((r||!n&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(n),!1)},e.prototype.focusAdvancedFilter=function(n){return this.advancedFilterFocusColumn=n?.column,this.advancedFilterService.getCtrl().focusHeaderComp()},e.prototype.focusNextFromAdvancedFilter=function(n,r){var o,s,a=(o=r?void 0:this.advancedFilterFocusColumn)!==null&&o!==void 0?o:(s=this.columnModel.getAllDisplayedColumns())===null||s===void 0?void 0:s[0];return n?this.focusHeaderPosition({headerPosition:{column:a,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(a)},e.prototype.clearAdvancedFilterColumn=function(){this.advancedFilterFocusColumn=void 0};var t;return e.keyboardModeActive=!1,e.instanceCount=0,Cr([_("eGridDiv")],e.prototype,"eGridDiv",void 0),Cr([_("columnModel")],e.prototype,"columnModel",void 0),Cr([_("headerNavigationService")],e.prototype,"headerNavigationService",void 0),Cr([_("rowRenderer")],e.prototype,"rowRenderer",void 0),Cr([_("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),Cr([_("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),Cr([et("rangeService")],e.prototype,"rangeService",void 0),Cr([_("navigationService")],e.prototype,"navigationService",void 0),Cr([_("ctrlsService")],e.prototype,"ctrlsService",void 0),Cr([_("filterManager")],e.prototype,"filterManager",void 0),Cr([et("advancedFilterService")],e.prototype,"advancedFilterService",void 0),Cr([Z],e.prototype,"init",null),e=t=Cr([ne("focusService")],e),e}(Y),Tme=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Rme=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Ame=function(i){Tme(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.setMouseOver=function(t){this.selectedColumns=t;var n={type:w.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(n)},e.prototype.clearMouseOver=function(){this.selectedColumns=null;var t={type:w.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(t)},e.prototype.isHovered=function(t){return!!this.selectedColumns&&this.selectedColumns.indexOf(t)>=0},e=Rme([ne("columnHoverService")],e),e}(Y),Ome=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Fx=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},xme=function(i){Ome(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.executeNextFuncs=[],t.executeLaterFuncs=[],t.active=!1,t.animationThreadCount=0,t}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(n){return t.gridBodyCtrl=n.gridBodyCtrl})},e.prototype.isActive=function(){return this.active},e.prototype.start=function(){this.active||this.gridOptionsService.get("suppressColumnMoveAnimation")||this.gridOptionsService.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)},e.prototype.finish=function(){this.active&&(this.flush(),this.active=!1)},e.prototype.executeNextVMTurn=function(t){this.active?this.executeNextFuncs.push(t):t()},e.prototype.executeLaterVMTurn=function(t){this.active?this.executeLaterFuncs.push(t):t()},e.prototype.ensureAnimationCssClassPresent=function(){var t=this;this.animationThreadCount++;var n=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){t.animationThreadCount===n&&t.gridBodyCtrl.setColumnMovingCss(!1)})},e.prototype.flush=function(){var t=this.executeNextFuncs;this.executeNextFuncs=[];var n=this.executeLaterFuncs;this.executeLaterFuncs=[],!(t.length===0&&n.length===0)&&this.getFrameworkOverrides().wrapIncoming(function(){window.setTimeout(function(){return t.forEach(function(r){return r()})},0),window.setTimeout(function(){return n.forEach(function(r){return r()})},300)})},Fx([_("ctrlsService")],e.prototype,"ctrlsService",void 0),Fx([Z],e.prototype,"postConstruct",null),e=Fx([ne("columnAnimationService")],e),e}(Y),Mme=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Tw=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Ime=function(i){Mme(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(n){t.centerRowContainerCon=n.centerRowContainerCtrl,t.addManagedListener(t.eventService,w.EVENT_BODY_HEIGHT_CHANGED,t.checkPageSize.bind(t)),t.addManagedListener(t.eventService,w.EVENT_SCROLL_VISIBILITY_CHANGED,t.checkPageSize.bind(t)),t.addManagedPropertyListener("paginationAutoPageSize",t.onPaginationAutoSizeChanged.bind(t)),t.checkPageSize()})},e.prototype.notActive=function(){return!this.gridOptionsService.get("paginationAutoPageSize")||this.centerRowContainerCon==null},e.prototype.onPaginationAutoSizeChanged=function(){this.notActive()?this.paginationProxy.unsetAutoCalculatedPageSize():this.checkPageSize()},e.prototype.checkPageSize=function(){var t=this;if(!this.notActive()){var n=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(n>0){var r=function(){var o=t.gridOptionsService.getRowHeightAsNumber(),s=Math.floor(n/o);t.paginationProxy.setPageSize(s,"autoCalculated")};this.isBodyRendered?eo(function(){return r()},50)():(r(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},Tw([_("ctrlsService")],e.prototype,"ctrlsService",void 0),Tw([_("paginationProxy")],e.prototype,"paginationProxy",void 0),Tw([Z],e.prototype,"postConstruct",null),e=Tw([ne("paginationAutoPageSizeService")],e),e}(Y),Pme=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qU=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Fme=function(i){Pme(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.cacheVersion=0,t}return e.prototype.init=function(){this.active=this.gridOptionsService.get("valueCache"),this.neverExpires=this.gridOptionsService.get("valueCacheNeverExpires")},e.prototype.onDataChanged=function(){this.neverExpires||this.expire()},e.prototype.expire=function(){this.cacheVersion++},e.prototype.setValue=function(t,n,r){this.active&&(t.__cacheVersion!==this.cacheVersion&&(t.__cacheVersion=this.cacheVersion,t.__cacheData={}),t.__cacheData[n]=r)},e.prototype.getValue=function(t,n){if(!(!this.active||t.__cacheVersion!==this.cacheVersion))return t.__cacheData[n]},qU([Z],e.prototype,"init",null),e=qU([ne("valueCache")],e),e}(Y),Nme=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Rw=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Lme="paste",kme=function(i){Nme(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,w.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},e.prototype.onCellValueChanged=function(t){t.source!==Lme&&this.doChangeDetection(t.node,t.column)},e.prototype.doChangeDetection=function(t,n){if(!this.gridOptionsService.get("suppressChangeDetection")){var r=[t];if(this.clientSideRowModel&&!t.isRowPinned()){var o=this.gridOptionsService.get("aggregateOnlyChangedColumns"),s=new yS(o,this.clientSideRowModel.getRootNode());s.addParentNode(t.parent,[n]),this.clientSideRowModel.doAggregate(s),s.forEachChangedNodeDepthFirst(function(a){r.push(a)})}this.rowRenderer.refreshCells({rowNodes:r})}},Rw([_("rowModel")],e.prototype,"rowModel",void 0),Rw([_("rowRenderer")],e.prototype,"rowRenderer",void 0),Rw([Z],e.prototype,"init",null),e=Rw([ne("changeDetectionService")],e),e}(Y),Vme=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),YU=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Hme=function(i){Vme(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.adaptFunction=function(t,n){var r=this.componentMetadataProvider.retrieve(t);return r&&r.functionAdapter?r.functionAdapter(n):null},e.prototype.adaptCellRendererFunction=function(t){var n=function(){function r(){}return r.prototype.refresh=function(o){return!1},r.prototype.getGui=function(){return this.eGui},r.prototype.init=function(o){var s=t(o),a=typeof s;if(a==="string"||a==="number"||a==="boolean"){this.eGui=Zi("<span>"+s+"</span>");return}if(s==null){this.eGui=Zi("<span></span>");return}this.eGui=s},r}();return n},e.prototype.doesImplementIComponent=function(t){return t?t.prototype&&"getGui"in t.prototype:!1},YU([_("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),e=YU([ne("agComponentUtils")],e),e}(Y),Gme=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Nx=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Bme=function(i){Gme(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},e.prototype.retrieve=function(t){return this.componentMetaData[t]},Nx([_("agComponentUtils")],e.prototype,"agComponentUtils",void 0),Nx([Z],e.prototype,"postConstruct",null),e=Nx([ne("componentMetadataProvider")],e),e}(Y),jme=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Lx=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Ume=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Wme=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},zme=25,KU=10,kx=8,$me=4,Vx=4,Hx=6,qme=16,QU=14,Gx=8,Yme={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:$me*5,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:kx*7,headerCellMinWidth:48,listItemHeight:kx*4,rowHeight:kx*6,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:Vx*8,headerCellMinWidth:24,listItemHeight:Vx*6,rowHeight:Vx*7,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:Hx*8,headerCellMinWidth:36,listItemHeight:Hx*4,rowHeight:Hx*7,chartMenuPanelWidth:240},"ag-theme-quartz":{headerHeight:QU+Gx*4.25,headerCellMinWidth:36,listItemHeight:qme+Gx,rowHeight:QU+Gx*3.5,chartMenuPanelWidth:260}},ZU={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},Kme=function(i){jme(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.calculatedSizes={},t}return e.prototype.postConstruct=function(){var t=this,n,r=(n=this.getTheme().el)!==null&&n!==void 0?n:this.eGridDiv;this.addManagedPropertyListener("rowHeight",function(){return t.refreshRowHeightVariable()}),this.mutationObserver=new MutationObserver(function(){t.calculatedSizes={},t.fireGridStylesChangedEvent()}),this.mutationObserver.observe(r||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})},e.prototype.fireGridStylesChangedEvent=function(){var t={type:w.EVENT_GRID_STYLES_CHANGED};this.eventService.dispatchEvent(t)},e.prototype.getSassVariable=function(t){var n=this.getTheme(),r=n.themeFamily,o=n.el;if(!(!r||r.indexOf("ag-theme")!==0)){this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[r]||(this.calculatedSizes[r]={});var s=this.calculatedSizes[r][t];return s??(this.calculatedSizes[r][t]=this.calculateValueForSassProperty(t,r,o),this.calculatedSizes[r][t])}},e.prototype.calculateValueForSassProperty=function(t,n,r){var o,s="ag-theme-"+(n.match("material")?"material":n.match("balham")?"balham":n.match("alpine")?"alpine":"custom"),a=Yme[s][t],l=this.gridOptionsService.getDocument();if(r||(r=this.eGridDiv),!ZU[t])return a;var u=ZU[t],c=l.createElement("div"),d=Array.from(r.classList);(o=c.classList).add.apply(o,Wme([n],Ume(d),!1)),c.style.position="absolute";var h=u.reduce(function(g,m){var v=l.createElement("div");return v.style.position="static",v.classList.add(m),g.appendChild(v),v},c),f=0;if(l.body){l.body.appendChild(c);var p=t.toLowerCase().indexOf("height")!==-1?"height":"width";f=parseInt(window.getComputedStyle(h)[p],10),l.body.removeChild(c)}return f||a},e.prototype.isThemeDark=function(){var t=this.getTheme().theme;return!!t&&t.indexOf("dark")>=0},e.prototype.chartMenuPanelWidth=function(){return this.getSassVariable("chartMenuPanelWidth")},e.prototype.getTheme=function(){for(var t=/\bag-(material|(?:theme-([\w\-]*)))\b/g,n=this.eGridDiv,r=null,o=[];n;)if(r=t.exec(n.className),!r)n=n.parentElement||void 0;else{var s=n.className.match(t);s&&(o=s);break}if(!r)return{allThemes:o};var a=r[0];return{theme:a,el:n,themeFamily:a.replace(/-dark$/,""),allThemes:o}},e.prototype.getFromTheme=function(t,n){var r;return(r=this.getSassVariable(n))!==null&&r!==void 0?r:t},e.prototype.getDefaultRowHeight=function(){return this.getFromTheme(zme,"rowHeight")},e.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},e.prototype.refreshRowHeightVariable=function(){var t=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),n=this.gridOptionsService.get("rowHeight");if(n==null||isNaN(n)||!isFinite(n))return t!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;var r="".concat(n,"px");return t!=r?(this.eGridDiv.style.setProperty("--ag-line-height",r),n):t!=""?parseFloat(t):-1},e.prototype.getMinColWidth=function(){var t=this.getFromTheme(null,"headerCellMinWidth");return W(t)?Math.max(t,KU):KU},e.prototype.destroy=function(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),i.prototype.destroy.call(this)},Lx([_("eGridDiv")],e.prototype,"eGridDiv",void 0),Lx([Z],e.prototype,"postConstruct",null),e=Lx([ne("environment")],e),e}(Y),Qme=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Aw=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Zme=function(i,e){return function(t,n){e(t,n,i)}},Xme=function(i){Qme(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.scrollY=0,t.uiBodyHeight=0,t}return e.prototype.agWire=function(t){this.logger=t.create("RowContainerHeightService")},e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,w.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=YW(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},e.prototype.isStretching=function(){return this.stretching},e.prototype.getDivStretchOffset=function(){return this.divStretchOffset},e.prototype.updateOffset=function(){if(this.stretching){var t=this.ctrlsService.getGridBodyCtrl(),n=t.getScrollFeature().getVScrollPosition().top,r=this.getUiBodyHeight(),o=n!==this.scrollY||r!==this.uiBodyHeight;o&&(this.scrollY=n,this.uiBodyHeight=r,this.calculateOffset())}},e.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var t=this.scrollY/this.maxScrollY,n=t*this.pixelsToShave;this.logger.log("Div Stretch Offset = ".concat(n," (").concat(this.pixelsToShave," * ").concat(t,")")),this.setDivStretchOffset(n)},e.prototype.setUiContainerHeight=function(t){t!==this.uiContainerHeight&&(this.uiContainerHeight=t,this.eventService.dispatchEvent({type:w.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},e.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},e.prototype.setDivStretchOffset=function(t){var n=typeof t=="number"?Math.floor(t):null;this.divStretchOffset!==n&&(this.divStretchOffset=n,this.eventService.dispatchEvent({type:w.EVENT_HEIGHT_SCALE_CHANGED}))},e.prototype.setModelHeight=function(t){this.modelHeight=t,this.stretching=t!=null&&this.maxDivHeight>0&&t>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},e.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},e.prototype.getRealPixelPosition=function(t){return t-this.divStretchOffset},e.prototype.getUiBodyHeight=function(){var t=this.ctrlsService.getGridBodyCtrl(),n=t.getScrollFeature().getVScrollPosition();return n.bottom-n.top},e.prototype.getScrollPositionForPixel=function(t){if(this.pixelsToShave<=0)return t;var n=this.modelHeight-this.getUiBodyHeight(),r=t/n,o=this.maxScrollY*r;return o},Aw([_("ctrlsService")],e.prototype,"ctrlsService",void 0),Aw([Zme(0,to("loggerFactory"))],e.prototype,"agWire",null),Aw([Z],e.prototype,"postConstruct",null),e=Aw([ne("rowContainerHeightService")],e),e}(Y),Jme=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ow=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},eve=function(i){Jme(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(){var t=this;this.addManagedPropertyListener("isRowSelectable",function(){return t.updateSelectable()})},e.prototype.updateSelectableAfterGrouping=function(){this.updateSelectable(!0)},e.prototype.updateSelectable=function(t){t===void 0&&(t=!1);var n=!!this.gridOptionsService.get("rowSelection"),r=this.gridOptionsService.get("isRowSelectable");if(!(!n||!r)){var o=this.gridOptionsService.get("groupSelectsChildren"),s=this.rowModel.getType()==="clientSide"&&o,a=[],l=function(d){if(!(t&&!d.group)){if(s&&d.group){var h=d.childrenAfterGroup.some(function(p){return p.selectable===!0});d.setRowSelectable(h,!0);return}var f=r?r(d):!0;d.setRowSelectable(f,!0),!f&&d.isSelected()&&a.push(d)}};if(s){var u=this.rowModel,c=new yS(!1,u.getRootNode());c.forEachChangedNodeDepthFirst(l,!0,!0)}else this.rowModel.forEachNode(l);a.length&&this.selectionService.setNodesSelected({nodes:a,newValue:!1,source:"selectableChanged"}),s&&this.selectionService instanceof zz&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},Ow([_("rowModel")],e.prototype,"rowModel",void 0),Ow([_("selectionService")],e.prototype,"selectionService",void 0),Ow([Z],e.prototype,"init",null),e=Ow([ne("selectableService")],e),e}(Y),tve=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),wr=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},nve=function(i){tve(e,i);function e(){var t=i.call(this)||this;return t.previousAndFirstButtonsDisabled=!1,t.nextButtonDisabled=!1,t.lastButtonDisabled=!1,t.areListenersSetup=!1,t}return e.prototype.postConstruct=function(){var t=this,n=this.gridOptionsService.get("enableRtl");this.setTemplate(this.getTemplate());var r=this,o=r.btFirst,s=r.btPrevious,a=r.btNext,l=r.btLast;r.pageSizeComp,this.activateTabIndex([o,s,a,l]),o.insertAdjacentElement("afterbegin",cn(n?"last":"first",this.gridOptionsService)),s.insertAdjacentElement("afterbegin",cn(n?"next":"previous",this.gridOptionsService)),a.insertAdjacentElement("afterbegin",cn(n?"previous":"next",this.gridOptionsService)),l.insertAdjacentElement("afterbegin",cn(n?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],function(){return t.onPageSizeRelatedOptionsChange()}),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.onPaginationChanged()},e.prototype.onPaginationChanged=function(){var t=this.gridOptionsService.get("pagination"),n=t&&!this.gridOptionsService.get("suppressPaginationPanel");this.setDisplayed(n),n&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels(),this.onPageSizeRelatedOptionsChange())},e.prototype.onPageSizeRelatedOptionsChange=function(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())},e.prototype.setupListeners=function(){var t=this;this.areListenersSetup||(this.addManagedListener(this.eventService,w.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(n){var r=n.el,o=n.fn;t.addManagedListener(r,"click",o),t.addManagedListener(r,"keydown",function(s){(s.key===F.ENTER||s.key===F.SPACE)&&(s.preventDefault(),o())})}),this.areListenersSetup=!0)},e.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},e.prototype.setCurrentPageLabel=function(){var t=this.paginationProxy.getTotalPages()>0,n=this.paginationProxy.getCurrentPage(),r=t?n+1:0;this.lbCurrent.textContent=this.formatNumber(r)},e.prototype.formatNumber=function(t){var n=this.gridOptionsService.getCallback("paginationNumberFormatter");if(n){var r={value:t};return n(r)}var o=this.localeService.getLocaleTextFunc(),s=o("thousandSeparator",","),a=o("decimalSeparator",".");return kM(t,s,a)},e.prototype.getTemplate=function(){var t=this.localeService.getLocaleTextFunc(),n=t("page","Page"),r=t("to","to"),o=t("of","of"),s=t("firstPage","First Page"),a=t("previousPage","Previous Page"),l=t("nextPage","Next Page"),u=t("lastPage","Last Page"),c=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'.concat(c,`">
                <ag-page-size-selector ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel" role="status">
                    <span id="ag-`).concat(c,`-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-`).concat(c,'-to">').concat(r,`</span>
                    <span id="ag-`).concat(c,`-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-`).concat(c,'-of">').concat(o,`</span>
                    <span id="ag-`).concat(c,`-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="`).concat(s,`"></div>
                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="`).concat(a,`"></div>
                    <span class="ag-paging-description" role="status">
                        <span id="ag-`).concat(c,'-start-page">').concat(n,`</span>
                        <span id="ag-`).concat(c,`-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-`).concat(c,'-of-page">').concat(o,`</span>
                        <span id="ag-`).concat(c,`-of-page-number" ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="`).concat(l,`"></div>
                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="`).concat(u,`"></div>
                </span>
            </div>`)},e.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},e.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},e.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},e.prototype.enableOrDisableButtons=function(){var t=this.paginationProxy.getCurrentPage(),n=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=t===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var o=this.isZeroPagesToDisplay(),s=t===r-1;this.nextButtonDisabled=s||o,this.lastButtonDisabled=!n||o||t===r-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},e.prototype.toggleButtonDisabled=function(t,n){DM(t,n),t.classList.toggle("ag-disabled",n)},e.prototype.updateRowLabels=function(){var t=this.paginationProxy.getCurrentPage(),n=this.paginationProxy.getPageSize(),r=this.paginationProxy.isLastPageFound(),o=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null,s,a;if(this.isZeroPagesToDisplay()?s=a=0:(s=n*t+1,a=s+n-1,r&&a>o&&(a=o)),this.lbFirstRowOnPage.textContent=this.formatNumber(s),this.rowNodeBlockLoader.isLoading()){var l=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=l("pageLastRowUnknown","?")}else this.lbLastRowOnPage.textContent=this.formatNumber(a)},e.prototype.isZeroPagesToDisplay=function(){var t=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages();return t&&n===0},e.prototype.setTotalLabels=function(){var t=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages(),r=t?this.paginationProxy.getMasterRowCount():null;if(r===1){var o=this.paginationProxy.getRow(0),s=o&&o.group&&!(o.groupData||o.aggData);if(s){this.setTotalLabelsToZero();return}}if(t)this.lbTotal.textContent=this.formatNumber(n),this.lbRecordCount.textContent=this.formatNumber(r);else{var a=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=a,this.lbRecordCount.innerHTML=a}},e.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.textContent=this.formatNumber(0),this.lbCurrent.textContent=this.formatNumber(0),this.lbLastRowOnPage.textContent=this.formatNumber(0),this.lbTotal.textContent=this.formatNumber(0),this.lbRecordCount.textContent=this.formatNumber(0)},wr([_("paginationProxy")],e.prototype,"paginationProxy",void 0),wr([_("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),wr([J("btFirst")],e.prototype,"btFirst",void 0),wr([J("btPrevious")],e.prototype,"btPrevious",void 0),wr([J("btNext")],e.prototype,"btNext",void 0),wr([J("btLast")],e.prototype,"btLast",void 0),wr([J("lbRecordCount")],e.prototype,"lbRecordCount",void 0),wr([J("lbFirstRowOnPage")],e.prototype,"lbFirstRowOnPage",void 0),wr([J("lbLastRowOnPage")],e.prototype,"lbLastRowOnPage",void 0),wr([J("lbCurrent")],e.prototype,"lbCurrent",void 0),wr([J("lbTotal")],e.prototype,"lbTotal",void 0),wr([J("pageSizeComp")],e.prototype,"pageSizeComp",void 0),wr([Z],e.prototype,"postConstruct",null),e}(Fe),ive=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Bx=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},rve=function(i){ive(e,i);function e(){var t=i.call(this,e.TEMPLATE)||this;return t.inProgress=!1,t.destroyRequested=!1,t}return e.prototype.updateLayoutClasses=function(t,n){var r=this.eOverlayWrapper.classList;r.toggle(Mn.AUTO_HEIGHT,n.autoHeight),r.toggle(Mn.NORMAL,n.normal),r.toggle(Mn.PRINT,n.print)},e.prototype.postConstruct=function(){this.createManagedBean(new nI(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.registerOverlayWrapperComp(this)},e.prototype.setWrapperTypeClass=function(t){var n=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&n.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=t,n.toggle(t,!0)},e.prototype.showOverlay=function(t,n,r){var o=this;this.inProgress||(this.setWrapperTypeClass(n),this.destroyActiveOverlay(),this.inProgress=!0,t&&t.then(function(s){o.inProgress=!1,o.eOverlayWrapper.appendChild(s.getGui()),o.activeOverlay=s,o.updateListenerDestroyFunc=r,o.destroyRequested&&(o.destroyRequested=!1,o.destroyActiveOverlay())}),this.setDisplayed(!0,{skipAriaHidden:!0}))},e.prototype.destroyActiveOverlay=function(){var t;if(this.inProgress){this.destroyRequested=!0;return}this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),(t=this.updateListenerDestroyFunc)===null||t===void 0||t.call(this),Wn(this.eOverlayWrapper))},e.prototype.hideOverlay=function(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})},e.prototype.destroy=function(){this.destroyActiveOverlay(),i.prototype.destroy.call(this)},e.TEMPLATE=`
        <div class="ag-overlay" role="presentation">
            <div class="ag-overlay-panel" role="presentation">
                <div class="ag-overlay-wrapper" ref="eOverlayWrapper" role="presentation"></div>
            </div>
        </div>`,Bx([_("overlayService")],e.prototype,"overlayService",void 0),Bx([J("eOverlayWrapper")],e.prototype,"eOverlayWrapper",void 0),Bx([Z],e.prototype,"postConstruct",null),e}(Fe),ove=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),xw=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},sve=function(i){ove(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getFirstRow=function(){var t=0,n;return this.pinnedRowModel.getPinnedTopRowCount()?n="top":this.rowModel.getRowCount()?(n=null,t=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(n="bottom"),n===void 0?null:{rowIndex:t,rowPinned:n}},e.prototype.getLastRow=function(){var t,n=null,r=this.pinnedRowModel.getPinnedBottomRowCount(),o=this.pinnedRowModel.getPinnedTopRowCount();return r?(n="bottom",t=r-1):this.rowModel.getRowCount()?(n=null,t=this.paginationProxy.getPageLastRow()):o&&(n="top",t=o-1),t===void 0?null:{rowIndex:t,rowPinned:n}},e.prototype.getRowNode=function(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},e.prototype.sameRow=function(t,n){return!t&&!n?!0:t&&!n||!t&&n?!1:t.rowIndex===n.rowIndex&&t.rowPinned==n.rowPinned},e.prototype.before=function(t,n){switch(t.rowPinned){case"top":if(n.rowPinned!=="top")return!0;break;case"bottom":if(n.rowPinned!=="bottom")return!1;break;default:if(W(n.rowPinned))return n.rowPinned!=="top";break}return t.rowIndex<n.rowIndex},e.prototype.rowMax=function(t){var n=this,r;return t.forEach(function(o){(r===void 0||n.before(r,o))&&(r=o)}),r},e.prototype.rowMin=function(t){var n=this,r;return t.forEach(function(o){(r===void 0||n.before(o,r))&&(r=o)}),r},xw([_("rowModel")],e.prototype,"rowModel",void 0),xw([_("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),xw([_("paginationProxy")],e.prototype,"paginationProxy",void 0),e=xw([ne("rowPositionUtils")],e),e}(Y),ave=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),lve=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},uve=function(i){ave(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createId=function(t){var n=t.rowIndex,r=t.rowPinned,o=t.column;return this.createIdFromValues({rowIndex:n,column:o,rowPinned:r})},e.prototype.createIdFromValues=function(t){var n=t.rowIndex,r=t.rowPinned,o=t.column;return"".concat(n,".").concat(r??"null",".").concat(o.getId())},e.prototype.equals=function(t,n){var r=t.column===n.column,o=t.rowPinned===n.rowPinned,s=t.rowIndex===n.rowIndex;return r&&o&&s},e=lve([ne("cellPositionUtils")],e),e}(Y),cve=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$g=function(){function i(e){this.cellValueChanges=e}return i}(),jx=function(i){cve(e,i);function e(t,n,r,o){var s=i.call(this,t)||this;return s.initialRange=n,s.finalRange=r,s.ranges=o,s}return e}($g),XU=function(){function i(e){this.actionStack=[],this.maxStackSize=e||i.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return i.prototype.pop=function(){return this.actionStack.pop()},i.prototype.push=function(e){var t=e.cellValueChanges&&e.cellValueChanges.length>0;t&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))},i.prototype.clear=function(){this.actionStack=[]},i.prototype.getCurrentStackSize=function(){return this.actionStack.length},i.DEFAULT_STACK_SIZE=10,i}(),dve=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),rS=function(){return rS=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},rS.apply(this,arguments)},ms=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},hve=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},fve=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},pve=function(i){dve(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.cellValueChanges=[],t.activeCellEdit=null,t.activeRowEdit=null,t.isPasting=!1,t.isRangeInAction=!1,t.onCellValueChanged=function(n){var r={column:n.column,rowIndex:n.rowIndex,rowPinned:n.rowPinned},o=t.activeCellEdit!==null&&t.cellPositionUtils.equals(t.activeCellEdit,r),s=t.activeRowEdit!==null&&t.rowPositionUtils.sameRow(t.activeRowEdit,r),a=o||s||t.isPasting||t.isRangeInAction;if(a){var l=n.rowPinned,u=n.rowIndex,c=n.column,d=n.oldValue,h=n.value,f={rowPinned:l,rowIndex:u,columnId:c.getColId(),newValue:h,oldValue:d};t.cellValueChanges.push(f)}},t.clearStacks=function(){t.undoStack.clear(),t.redoStack.clear()},t}return e.prototype.init=function(){var t=this;if(this.gridOptionsService.get("undoRedoCellEditing")){var n=this.gridOptionsService.get("undoRedoCellEditingLimit");n<=0||(this.undoStack=new XU(n),this.redoStack=new XU(n),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,w.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,w.EVENT_MODEL_UPDATED,function(r){r.keepUndoRedoStack||t.clearStacks()}),this.addManagedListener(this.eventService,w.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,w.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,w.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,w.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,w.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,w.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,w.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,w.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl()}))}},e.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},e.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},e.prototype.undo=function(t){var n={type:w.EVENT_UNDO_STARTED,source:t};this.eventService.dispatchEvent(n);var r=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo"),o={type:w.EVENT_UNDO_ENDED,source:t,operationPerformed:r};this.eventService.dispatchEvent(o)},e.prototype.redo=function(t){var n={type:w.EVENT_REDO_STARTED,source:t};this.eventService.dispatchEvent(n);var r=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo"),o={type:w.EVENT_REDO_ENDED,source:t,operationPerformed:r};this.eventService.dispatchEvent(o)},e.prototype.undoRedo=function(t,n,r,o,s){if(!t)return!1;var a=t.pop();return!a||!a.cellValueChanges?!1:(this.processAction(a,function(l){return l[o]},s),a instanceof jx?this.processRange(a.ranges||[a[r]]):this.processCell(a.cellValueChanges),n.push(a),!0)},e.prototype.processAction=function(t,n,r){var o=this;t.cellValueChanges.forEach(function(s){var a=s.rowIndex,l=s.rowPinned,u=s.columnId,c={rowIndex:a,rowPinned:l},d=o.getRowNode(c);d.displayed&&d.setDataValue(u,n(s),r)})},e.prototype.processRange=function(t){var n=this,r;this.rangeService.removeAllCellRanges(!0),t.forEach(function(o,s){if(o){var a=o.startRow,l=o.endRow;s===t.length-1&&(r={rowPinned:a.rowPinned,rowIndex:a.rowIndex,columnId:o.startColumn.getColId()},n.setLastFocusedCell(r));var u={rowStartIndex:a.rowIndex,rowStartPinned:a.rowPinned,rowEndIndex:l.rowIndex,rowEndPinned:l.rowPinned,columnStart:o.startColumn,columns:o.columns};n.rangeService.addCellRange(u)}})},e.prototype.processCell=function(t){var n=t[0],r=n.rowIndex,o=n.rowPinned,s={rowIndex:r,rowPinned:o},a=this.getRowNode(s),l={rowPinned:n.rowPinned,rowIndex:a.rowIndex,columnId:n.columnId};this.setLastFocusedCell(l,!!this.rangeService)},e.prototype.setLastFocusedCell=function(t,n){var r=t.rowIndex,o=t.columnId,s=t.rowPinned,a=this.gridBodyCtrl.getScrollFeature(),l=this.columnModel.getGridColumn(o);if(l){a.ensureIndexVisible(r),a.ensureColumnVisible(l);var u={rowIndex:r,column:l,rowPinned:s};this.focusService.setFocusedCell(rS(rS({},u),{forceBrowserFocus:!0})),n&&this.rangeService.setRangeToCell(u)}},e.prototype.addRowEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,w.EVENT_ROW_EDITING_STARTED,function(n){t.activeRowEdit={rowIndex:n.rowIndex,rowPinned:n.rowPinned}}),this.addManagedListener(this.eventService,w.EVENT_ROW_EDITING_STOPPED,function(){var n=new $g(t.cellValueChanges);t.pushActionsToUndoStack(n),t.activeRowEdit=null})},e.prototype.addCellEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,w.EVENT_CELL_EDITING_STARTED,function(n){t.activeCellEdit={column:n.column,rowIndex:n.rowIndex,rowPinned:n.rowPinned}}),this.addManagedListener(this.eventService,w.EVENT_CELL_EDITING_STOPPED,function(n){t.activeCellEdit=null;var r=n.valueChanged&&!t.activeRowEdit&&!t.isPasting&&!t.isRangeInAction;if(r){var o=new $g(t.cellValueChanges);t.pushActionsToUndoStack(o)}})},e.prototype.addPasteListeners=function(){var t=this;this.addManagedListener(this.eventService,w.EVENT_PASTE_START,function(){t.isPasting=!0}),this.addManagedListener(this.eventService,w.EVENT_PASTE_END,function(){var n=new $g(t.cellValueChanges);t.pushActionsToUndoStack(n),t.isPasting=!1})},e.prototype.addFillListeners=function(){var t=this;this.addManagedListener(this.eventService,w.EVENT_FILL_START,function(){t.isRangeInAction=!0}),this.addManagedListener(this.eventService,w.EVENT_FILL_END,function(n){var r=new jx(t.cellValueChanges,n.initialRange,n.finalRange);t.pushActionsToUndoStack(r),t.isRangeInAction=!1})},e.prototype.addCellKeyListeners=function(){var t=this;this.addManagedListener(this.eventService,w.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,function(){t.isRangeInAction=!0}),this.addManagedListener(this.eventService,w.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,function(){var n;t.rangeService&&t.gridOptionsService.get("enableRangeSelection")?n=new jx(t.cellValueChanges,void 0,void 0,fve([],hve(t.rangeService.getCellRanges()),!1)):n=new $g(t.cellValueChanges),t.pushActionsToUndoStack(n),t.isRangeInAction=!1})},e.prototype.pushActionsToUndoStack=function(t){this.undoStack.push(t),this.cellValueChanges=[],this.redoStack.clear()},e.prototype.getRowNode=function(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},ms([_("focusService")],e.prototype,"focusService",void 0),ms([_("ctrlsService")],e.prototype,"ctrlsService",void 0),ms([_("rowModel")],e.prototype,"rowModel",void 0),ms([_("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),ms([_("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),ms([_("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),ms([_("columnModel")],e.prototype,"columnModel",void 0),ms([et("rangeService")],e.prototype,"rangeService",void 0),ms([Z],e.prototype,"init",null),e=ms([ne("undoRedoService")],e),e}(Y),gve=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ux=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},mve=function(i){gve(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.findHeader=function(t,n){var r,o,s;if(t.column instanceof On?(o="getDisplayedGroup".concat(n),r=this.columnModel[o](t.column)):(s="getDisplayedCol".concat(n),r=this.columnModel[s](t.column)),!!r){var a=t.headerRowIndex,l=this.getHeaderRowType(a);if(l===pi.COLUMN_GROUP){var u=r;if(u.isPadding()&&this.isAnyChildSpanningHeaderHeight(u)){var c=this.getColumnVisibleChild(u,a,n),d=c.nextFocusColumn,h=c.nextRow;d&&(r=d,a=h)}}return{column:r,headerRowIndex:a}}},e.prototype.isAnyChildSpanningHeaderHeight=function(t){return t?t.getLeafColumns().some(function(n){return n.isSpanHeaderHeight()}):!1},e.prototype.getColumnVisibleParent=function(t,n){var r=this.getHeaderRowType(n),o=r===pi.FLOATING_FILTER,s=r===pi.COLUMN,a=o?t:t.getParent(),l=n-1;if(s&&this.isAnyChildSpanningHeaderHeight(t.getParent())){for(;a&&a.isPadding();)a=a.getParent(),l--;l<0&&(a=t,l=n)}return{nextFocusColumn:a,nextRow:l}},e.prototype.getColumnVisibleChild=function(t,n,r){r===void 0&&(r="After");var o=this.getHeaderRowType(n),s=t,a=n+1;if(o===pi.COLUMN_GROUP){var l=t.getDisplayedLeafColumns(),u=r==="After"?l[0]:dt(l);if(this.isAnyChildSpanningHeaderHeight(u.getParent())){s=u;for(var c=u.getParent();c&&c!==t;)c=c.getParent(),a++}else s=t.getDisplayedChildren()[0]}return{nextFocusColumn:s,nextRow:a}},e.prototype.getHeaderRowType=function(t){var n=this.ctrlsService.getHeaderRowContainerCtrl();if(n)return n.getRowType(t)},e.prototype.findColAtEdgeForHeaderRow=function(t,n){var r=this.columnModel.getAllDisplayedColumns(),o=r[n==="start"?0:r.length-1];if(o){var s=this.ctrlsService.getHeaderRowContainerCtrl(o.getPinned()),a=s.getRowType(t);if(a==pi.COLUMN_GROUP){var l=this.columnModel.getColumnGroupAtLevel(o,t);return{headerRowIndex:t,column:l}}return{headerRowIndex:a==null?-1:t,column:o}}},Ux([_("columnModel")],e.prototype,"columnModel",void 0),Ux([_("ctrlsService")],e.prototype,"ctrlsService",void 0),e=Ux([ne("headerPositionUtils")],e),e}(Y),vve=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},yve=function(){function i(){}return i.prototype.buildColumnDefs=function(e,t,n){var r=this,o=[],s={};return e.forEach(function(a){for(var l=r.createDefFromColumn(a,t,n),u=!0,c=l,d=a.getOriginalParent(),h=null;d;){var f=null;if(d.isPadding()){d=d.getOriginalParent();continue}var p=s[d.getGroupId()];if(p){p.children.push(c),u=!1;break}if(f=r.createDefFromGroup(d),f&&(f.children=[c],s[f.groupId]=f,c=f,d=d.getOriginalParent()),d!=null&&h===d){u=!1;break}h=d}u&&o.push(c)}),o},i.prototype.createDefFromGroup=function(e){var t=Vw(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t},i.prototype.createDefFromColumn=function(e,t,n){var r=Vw(e.getColDef());return r.colId=e.getColId(),r.width=e.getActualWidth(),r.rowGroup=e.isRowGroupActive(),r.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,r.pivot=e.isPivotActive(),r.pivotIndex=e.isPivotActive()?n.indexOf(e):null,r.aggFunc=e.isValueActive()?e.getAggFunc():null,r.hide=e.isVisible()?void 0:!0,r.pinned=e.isPinned()?e.getPinned():null,r.sort=e.getSort()?e.getSort():null,r.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,r},i=vve([ne("columnDefFactory")],i),i}(),Wx=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},_ve=function(){function i(){}return i.prototype.getInitialRowClasses=function(e){var t=[];return W(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),nM(t,this.processClassesFromGridOptions(e.rowNode)),nM(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&(e.pinned==="left"&&t.push("ag-cell-last-left-pinned"),e.pinned==="right"&&t.push("ag-cell-first-right-pinned")),t},i.prototype.processClassesFromGridOptions=function(e){var t=[],n=function(l){typeof l=="string"?t.push(l):Array.isArray(l)&&l.forEach(function(u){return t.push(u)})},r=this.gridOptionsService.get("rowClass");if(r){if(typeof r=="function")return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];n(r)}var o=this.gridOptionsService.getCallback("getRowClass");if(o){var s={data:e.data,node:e,rowIndex:e.rowIndex},a=o(s);n(a)}return t},i.prototype.preProcessRowClassRules=function(e){var t=[];return this.processRowClassRules(e,function(n){t.push(n)},function(n){}),t},i.prototype.processRowClassRules=function(e,t,n){var r=this.gridOptionsService.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gridOptionsService.get("rowClassRules"),r,t,n)},i.prototype.calculateRowLevel=function(e){return e.group?e.level:e.parent?e.parent.level+1:0},Wx([_("stylingService")],i.prototype,"stylingService",void 0),Wx([_("gridOptionsService")],i.prototype,"gridOptionsService",void 0),i=Wx([ne("rowCssClassCalculator")],i),i}(),Cve=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Mw=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},wve=function(i){Cve(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(){var t=this;this.isAccentedSort=this.gridOptionsService.get("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",function(n){return t.isAccentedSort=n.currentValue}),this.addManagedPropertyListener("autoGroupColumnDef",function(){return t.primaryColumnsSortGroups=t.gridOptionsService.isColumnsSortingCoupledToGroup()})},e.prototype.doFullSort=function(t,n){var r=function(s,a){return{currentPos:a,rowNode:s}},o=t.map(r);return o.sort(this.compareRowNodes.bind(this,n)),o.map(function(s){return s.rowNode})},e.prototype.compareRowNodes=function(t,n,r){for(var o=n.rowNode,s=r.rowNode,a=0,l=t.length;a<l;a++){var u=t[a],c=u.sort==="desc",d=this.getValue(o,u.column),h=this.getValue(s,u.column),f=void 0,p=this.getComparator(u,o);p?f=p(d,h,o,s,c):f=Ne.defaultComparator(d,h,this.isAccentedSort);var g=!isNaN(f);if(g&&f!==0)return u.sort==="asc"?f:f*-1}return n.currentPos-r.currentPos},e.prototype.getComparator=function(t,n){var r=t.column,o=r.getColDef().comparator;if(o!=null)return o;if(r.getColDef().showRowGroup){var s=!n.group&&r.getColDef().field;if(s){var a=this.columnModel.getPrimaryColumn(s);if(a)return a.getColDef().comparator}}},e.prototype.getValue=function(t,n){var r,o;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(n,t,!1,!1);var s=t.rowGroupColumn===n;if(s){var a=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive());if(a){var l=(r=t.allLeafChildren)===null||r===void 0?void 0:r[0];return l?this.valueService.getValue(n,l,!1,!1):void 0}var u=this.columnModel.getGroupDisplayColumnForGroup(n.getId());return u?(o=t.groupData)===null||o===void 0?void 0:o[u.getId()]:void 0}if(!(t.group&&n.getColDef().showRowGroup))return this.valueService.getValue(n,t,!1,!1)},Mw([_("valueService")],e.prototype,"valueService",void 0),Mw([_("columnModel")],e.prototype,"columnModel",void 0),Mw([Z],e.prototype,"init",null),e=Mw([ne("rowNodeSorter")],e),e}(Y),Sve=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),bve=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Eve=function(i){Sve(e,i);function e(){var n=i!==null&&i.apply(this,arguments)||this;return n.ready=!1,n.readyCallbacks=[],n}t=e,e.prototype.checkReady=function(){if(this.ready=this.gridCtrl!=null&&this.gridBodyCtrl!=null&&this.centerRowContainerCtrl!=null&&this.leftRowContainerCtrl!=null&&this.rightRowContainerCtrl!=null&&this.bottomCenterRowContainerCtrl!=null&&this.bottomLeftRowContainerCtrl!=null&&this.bottomRightRowContainerCtrl!=null&&this.topCenterRowContainerCtrl!=null&&this.topLeftRowContainerCtrl!=null&&this.topRightRowContainerCtrl!=null&&this.stickyTopCenterRowContainerCtrl!=null&&this.stickyTopLeftRowContainerCtrl!=null&&this.stickyTopRightRowContainerCtrl!=null&&this.centerHeaderRowContainerCtrl!=null&&this.leftHeaderRowContainerCtrl!=null&&this.rightHeaderRowContainerCtrl!=null&&this.fakeHScrollComp!=null&&this.fakeVScrollComp!=null&&this.gridHeaderCtrl!=null,this.ready){var n=this.createReadyParams();this.readyCallbacks.forEach(function(r){return r(n)}),this.readyCallbacks.length=0}},e.prototype.whenReady=function(n){this.ready?n(this.createReadyParams()):this.readyCallbacks.push(n)},e.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},e.prototype.registerFakeHScrollComp=function(n){this.fakeHScrollComp=n,this.checkReady()},e.prototype.registerFakeVScrollComp=function(n){this.fakeVScrollComp=n,this.checkReady()},e.prototype.registerGridHeaderCtrl=function(n){this.gridHeaderCtrl=n,this.checkReady()},e.prototype.registerCenterRowContainerCtrl=function(n){this.centerRowContainerCtrl=n,this.checkReady()},e.prototype.registerLeftRowContainerCtrl=function(n){this.leftRowContainerCtrl=n,this.checkReady()},e.prototype.registerRightRowContainerCtrl=function(n){this.rightRowContainerCtrl=n,this.checkReady()},e.prototype.registerTopCenterRowContainerCtrl=function(n){this.topCenterRowContainerCtrl=n,this.checkReady()},e.prototype.registerTopLeftRowContainerCon=function(n){this.topLeftRowContainerCtrl=n,this.checkReady()},e.prototype.registerTopRightRowContainerCtrl=function(n){this.topRightRowContainerCtrl=n,this.checkReady()},e.prototype.registerStickyTopCenterRowContainerCtrl=function(n){this.stickyTopCenterRowContainerCtrl=n,this.checkReady()},e.prototype.registerStickyTopLeftRowContainerCon=function(n){this.stickyTopLeftRowContainerCtrl=n,this.checkReady()},e.prototype.registerStickyTopRightRowContainerCtrl=function(n){this.stickyTopRightRowContainerCtrl=n,this.checkReady()},e.prototype.registerBottomCenterRowContainerCtrl=function(n){this.bottomCenterRowContainerCtrl=n,this.checkReady()},e.prototype.registerBottomLeftRowContainerCtrl=function(n){this.bottomLeftRowContainerCtrl=n,this.checkReady()},e.prototype.registerBottomRightRowContainerCtrl=function(n){this.bottomRightRowContainerCtrl=n,this.checkReady()},e.prototype.registerHeaderContainer=function(n,r){switch(r){case"left":this.leftHeaderRowContainerCtrl=n;break;case"right":this.rightHeaderRowContainerCtrl=n;break;default:this.centerHeaderRowContainerCtrl=n;break}this.checkReady()},e.prototype.registerGridBodyCtrl=function(n){this.gridBodyCtrl=n,this.checkReady()},e.prototype.registerGridCtrl=function(n){this.gridCtrl=n,this.checkReady()},e.prototype.getFakeHScrollComp=function(){return this.fakeHScrollComp},e.prototype.getFakeVScrollComp=function(){return this.fakeVScrollComp},e.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},e.prototype.getGridCtrl=function(){return this.gridCtrl},e.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},e.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},e.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},e.prototype.getStickyTopCenterRowContainerCtrl=function(){return this.stickyTopCenterRowContainerCtrl},e.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},e.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},e.prototype.getHeaderRowContainerCtrl=function(n){switch(n){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}};var t;return e.NAME="ctrlsService",e=t=bve([ne(t.NAME)],e),e}(Y),Dve=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Tve=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Rve=function(i){Dve(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.registry={},t}return e.prototype.register=function(t){this.registry[t.controllerName]=t.controllerClass},e.prototype.getInstance=function(t){var n=this.registry[t];if(n!=null)return new n},e=Tve([ne("ctrlsFactory")],e),e}(Y),Ave=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ng=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},qz=function(i){Ave(e,i);function e(t,n){var r=i.call(this,t)||this;return r.direction=n,r.hideTimeout=null,r}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,w.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",FM()||Fl())},e.prototype.initialiseInvisibleScrollbar=function(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=LM(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))},e.prototype.addActiveListenerToggles=function(){var t=this,n=["mouseenter","mousedown","touchstart"],r=["mouseleave","touchend"],o=this.getGui();n.forEach(function(s){return t.addManagedListener(o,s,function(){return t.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),r.forEach(function(s){return t.addManagedListener(o,s,function(){return t.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},e.prototype.onScrollVisibilityChanged=function(){var t=this;this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(function(){return t.setScrollVisible()})},e.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var t=this;this.addManagedListener(this.eventService,w.EVENT_BODY_SCROLL,function(n){n.direction===t.direction&&(t.hideTimeout!==null&&(window.clearTimeout(t.hideTimeout),t.hideTimeout=null),t.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,w.EVENT_BODY_SCROLL_END,function(){t.hideTimeout=window.setTimeout(function(){t.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),t.hideTimeout=null},400)})},e.prototype.attemptSettingScrollPosition=function(t){var n=this,r=this.getViewport();_M(function(){return Ar(r)},function(){return n.setScrollPosition(t)},100)},e.prototype.getViewport=function(){return this.eViewport},e.prototype.getContainer=function(){return this.eContainer},e.prototype.onScrollCallback=function(t){this.addManagedListener(this.getViewport(),"scroll",t)},Ng([J("eViewport")],e.prototype,"eViewport",void 0),Ng([J("eContainer")],e.prototype,"eContainer",void 0),Ng([_("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),Ng([_("ctrlsService")],e.prototype,"ctrlsService",void 0),Ng([_("animationFrameService")],e.prototype,"animationFrameService",void 0),e}(Fe),Ove=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Lg=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},xve=function(i){Ove(e,i);function e(){return i.call(this,e.TEMPLATE,"horizontal")||this}return e.prototype.postConstruct=function(){var t=this;i.prototype.postConstruct.call(this);var n=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,w.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addManagedListener(this.eventService,w.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,n),this.addManagedListener(this.eventService,w.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",n),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new rI(function(r){return t.eContainer.style.width="".concat(r,"px")})),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))},e.prototype.initialiseInvisibleScrollbar=function(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gridOptionsService.get("enableRtl"),i.prototype.initialiseInvisibleScrollbar.call(this),this.invisibleScrollbar&&this.refreshCompBottom())},e.prototype.onPinnedRowDataChanged=function(){this.refreshCompBottom()},e.prototype.refreshCompBottom=function(){if(this.invisibleScrollbar){var t=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom="".concat(t,"px")}},e.prototype.onScrollVisibilityChanged=function(){i.prototype.onScrollVisibilityChanged.call(this),this.setFakeHScrollSpacerWidths()},e.prototype.setFakeHScrollSpacerWidths=function(){var t=this.scrollVisibleService.isVerticalScrollShowing(),n=this.columnModel.getDisplayedColumnsRightWidth(),r=!this.enableRtl&&t,o=this.gridOptionsService.getScrollbarWidth();r&&(n+=o),io(this.eRightSpacer,n),this.eRightSpacer.classList.toggle("ag-scroller-corner",n<=o);var s=this.columnModel.getDisplayedColumnsLeftWidth(),a=this.enableRtl&&t;a&&(s+=o),io(this.eLeftSpacer,s),this.eLeftSpacer.classList.toggle("ag-scroller-corner",s<=o)},e.prototype.setScrollVisible=function(){var t=this.scrollVisibleService.isHorizontalScrollShowing(),n=this.invisibleScrollbar,r=this.gridOptionsService.get("suppressHorizontalScroll"),o=t&&this.gridOptionsService.getScrollbarWidth()||0,s=o===0&&n?16:o,a=r?0:s;this.addOrRemoveCssClass("ag-scrollbar-invisible",n),cc(this.getGui(),a),cc(this.eViewport,a),cc(this.eContainer,a),this.setDisplayed(t,{skipAriaHidden:!0})},e.prototype.getScrollPosition=function(){return em(this.getViewport(),this.enableRtl)},e.prototype.setScrollPosition=function(t){Ar(this.getViewport())||this.attemptSettingScrollPosition(t),tm(this.getViewport(),t,this.enableRtl)},e.TEMPLATE=`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>
        </div>`,Lg([J("eLeftSpacer")],e.prototype,"eLeftSpacer",void 0),Lg([J("eRightSpacer")],e.prototype,"eRightSpacer",void 0),Lg([_("columnModel")],e.prototype,"columnModel",void 0),Lg([_("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Lg([Z],e.prototype,"postConstruct",null),e}(qz),Mve=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zx=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Ive=function(i){Mve(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,w.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,w.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedPropertyListener("domLayout",t)},e.prototype.checkContainerWidths=function(){var t=this.gridOptionsService.isDomLayout("print"),n=t?0:this.columnModel.getDisplayedColumnsLeftWidth(),r=t?0:this.columnModel.getDisplayedColumnsRightWidth();n!=this.leftWidth&&(this.leftWidth=n,this.eventService.dispatchEvent({type:w.EVENT_LEFT_PINNED_WIDTH_CHANGED})),r!=this.rightWidth&&(this.rightWidth=r,this.eventService.dispatchEvent({type:w.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},e.prototype.getPinnedRightWidth=function(){return this.rightWidth},e.prototype.getPinnedLeftWidth=function(){return this.leftWidth},zx([_("columnModel")],e.prototype,"columnModel",void 0),zx([Z],e.prototype,"postConstruct",null),e=zx([ne("pinnedWidthService")],e),e}(Y),Pve=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Iw=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Fve=function(i){Pve(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.events=[],t}return e.prototype.postConstruct=function(){this.rowModel.getType()=="clientSide"&&(this.clientSideRowModel=this.rowModel)},e.prototype.dispatchExpanded=function(t){var n=this;if(this.clientSideRowModel==null){this.eventService.dispatchEvent(t);return}this.events.push(t);var r=function(){n.clientSideRowModel&&n.clientSideRowModel.onRowGroupOpened(),n.events.forEach(function(o){return n.eventService.dispatchEvent(o)}),n.events=[]};this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(r)),this.dispatchExpandedDebounced()},Iw([_("animationFrameService")],e.prototype,"animationFrameService",void 0),Iw([_("rowModel")],e.prototype,"rowModel",void 0),Iw([Z],e.prototype,"postConstruct",null),e=Iw([ne("rowNodeEventThrottle")],e),e}(Y),Nve={},bl=function(i,e){var t;return((t=e.rowModelType)!==null&&t!==void 0?t:"clientSide")==="clientSide"?{module:de.RowGroupingModule}:null},Lve={enableRowGroup:bl,rowGroup:bl,rowGroupIndex:bl,enablePivot:bl,enableValue:bl,pivot:bl,pivotIndex:bl,aggFunc:bl,cellEditor:function(i){return i.cellEditor==="agRichSelect"||i.cellEditor==="agRichSelectCellEditor"?{module:de.RichSelectModule}:null},menuTabs:function(i){var e,t=["columnsMenuTab","generalMenuTab"];return!((e=i.menuTabs)===null||e===void 0)&&e.some(function(n){return t.includes(n)})?{module:de.MenuModule}:null},columnsMenuParams:{module:[de.MenuModule,de.ColumnsToolPanelModule]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],dependencies:function(i,e){var t=e.rowSelection;return t==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"}},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],dependencies:function(i,e){var t=e.rowSelection;return t==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"}},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],dependencies:function(i,e){var t=e.rowSelection;return t==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"}},children:function(){return _h}},_h={objectName:"colDef",allProperties:zde.ALL_PROPERTIES,docsUrl:"column-properties/",deprecations:Nve,validations:Lve},JU=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},eW=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},kve={enableChartToolPanelsButton:{version:"29",message:"The Chart Tool Panels button is now enabled by default. To hide the Chart Tool Panels button and display the hamburger button instead, set suppressChartToolPanelsButton=true."},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",renamed:"enterNavigatesVertically"},enterMovesDownAfterEdit:{version:"30",renamed:"enterNavigatesVerticallyAfterEdit"},suppressParentsInRowNodes:{version:"30.2",message:"Using suppressParentsInRowNodes is no longer recommended. To serialize nodes it is now recommended to instead remove the parent node reference before serialization."},advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."}},Vve={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!1,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,suppressChartToolPanelsButton:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFadeDelay:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,functionsPassive:!1,groupLockGroupColumns:0},Hve={sideBar:{module:de.SideBarModule},statusBar:{module:de.StatusBarModule},enableCharts:{module:de.GridChartsModule},getMainMenuItems:{module:de.MenuModule},getContextMenuItems:{module:de.MenuModule},allowContextMenuWithControlKey:{module:de.MenuModule},enableAdvancedFilter:{module:de.AdvancedFilterModule},treeData:{supportedRowModels:["clientSide","serverSide"],module:de.RowGroupingModule,dependencies:function(i){var e,t=(e=i.rowModelType)!==null&&e!==void 0?e:"clientSide";switch(t){case"clientSide":var n="treeData requires 'getDataPath' in the ".concat(t," row model.");return i.getDataPath?null:n;case"serverSide":var r="treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ".concat(t," row model.");return i.isServerSideGroup&&i.getServerSideGroupKey?null:r}return null}},masterDetail:{module:de.MasterDetailModule},enableRangeSelection:{module:de.RangeSelectionModule},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],dependencies:function(i){var e,t=(e=i.rowModelType)!==null&&e!==void 0?e:"clientSide";switch(t){case"clientSide":return null;case"serverSide":var n="groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll";return i.suppressServerSideInfiniteScroll?n:null}return null}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},suppressParentsInRowNodes:{dependencies:{groupSelectsChildren:[void 0,!1]}},viewportDatasource:{supportedRowModels:["viewport"],module:de.ViewportRowModelModule},serverSideDatasource:{supportedRowModels:["serverSide"],module:de.ServerSideRowModelModule},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:de.InfiniteRowModelModule},rowData:{supportedRowModels:["clientSide"],module:de.ClientSideRowModelModule},columnDefs:function(){return _h},defaultColDef:function(){return _h},defaultColGroupDef:function(){return _h},autoGroupColumnDef:function(){return _h}},Gve={objectName:"gridOptions",allProperties:eW(eW([],JU(ws.ALL_PROPERTIES),!1),JU(om.EVENT_CALLBACKS),!1),propertyExceptions:["api","columnApi"],docsUrl:"grid-options/",deprecations:kve,validations:Hve},vs=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Pw=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},$x=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},Yz=function(){function i(){var t=this;this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new Pl,this.globalEventHandlerFactory=function(n){return function(r,o){if(!t.destroyed){var s=e.alwaysSyncGlobalEvents.has(r);if(!(s&&!n||!s&&n)){var a=om.getCallbackForEvent(r),l=t.gridOptions[a];typeof l=="function"&&t.frameworkOverrides.wrapOutgoing(function(){l(o)})}}}}}e=i,Object.defineProperty(i.prototype,"context",{get:function(){return this.gridOptions.context},enumerable:!1,configurable:!0}),i.prototype.init=function(){this.columnApi=new cm(this.api);var t=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),t),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.getScrollbarWidth()},i.prototype.destroy=function(){this.destroyed=!0,this.columnApi=void 0},i.prototype.get=function(t){var n;return(n=this.gridOptions[t])!==null&&n!==void 0?n:Vve[t]},i.prototype.getCallback=function(t){return this.mergeGridCommonParams(this.gridOptions[t])},i.prototype.exists=function(t){return W(this.gridOptions[t])},i.prototype.mergeGridCommonParams=function(t){var n=this;if(t){var r=function(o){var s=o;return s.api=n.api,s.columnApi=n.columnApi,s.context=n.context,t(s)};return r}return t},i.toBoolean=function(t){return typeof t=="boolean"?t:typeof t=="string"?t.toUpperCase()==="TRUE"||t=="":!1},i.toNumber=function(t){if(typeof t=="number")return t;if(typeof t=="string"){var n=parseInt(t);return isNaN(n)?void 0:n}},i.toConstrainedNum=function(t,n){return function(r){var o=e.toNumber(r);if(!(o==null||o<t||o>n))return o}},i.getCoercedValue=function(t,n){var r=e.PROPERTY_COERCIONS.get(t);return r?r(n):n},i.getCoercedGridOptions=function(t){var n={};return Object.entries(t).forEach(function(r){var o=Pw(r,2),s=o[0],a=o[1],l=e.getCoercedValue(s,a);n[s]=l}),n},i.prototype.updateGridOptions=function(t){var n=this,r=t.options,o=t.source,s=o===void 0?"api":o,a={id:e.changeSetId++,properties:[]},l=[];Object.entries(r).forEach(function(u){var c=Pw(u,2),d=c[0],h=c[1];s==="api"&&iue[d]&&Ae("".concat(d," is an initial property and cannot be updated."));var f=e.getCoercedValue(d,h),p=typeof f=="object"&&s==="api",g=n.gridOptions[d];if(p||g!==f){n.gridOptions[d]=f;var m={type:d,currentValue:f,previousValue:g,changeSet:a,source:s};l.push(m)}}),this.validationService.processGridOptions(this.gridOptions),a.properties=l.map(function(u){return u.type}),l.forEach(function(u){n.gridOptions.debug&&console.log("AG Grid: Updated property ".concat(u.type," from "),u.previousValue," to  ",u.currentValue),n.propertyEventService.dispatchEvent(u)})},i.prototype.addEventListener=function(t,n){this.propertyEventService.addEventListener(t,n)},i.prototype.removeEventListener=function(t,n){this.propertyEventService.removeEventListener(t,n)},i.prototype.getGridId=function(){return this.api.getGridId()},i.prototype.getScrollbarWidth=function(){if(this.scrollbarWidth==null){var t=typeof this.gridOptions.scrollbarWidth=="number"&&this.gridOptions.scrollbarWidth>=0,n=t?this.gridOptions.scrollbarWidth:ZW();n!=null&&(this.scrollbarWidth=n,this.eventService.dispatchEvent({type:w.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},i.prototype.isRowModelType=function(t){return this.gridOptions.rowModelType===t||t==="clientSide"&&me(this.gridOptions.rowModelType)},i.prototype.isDomLayout=function(t){var n,r=(n=this.gridOptions.domLayout)!==null&&n!==void 0?n:"normal";return r===t},i.prototype.isRowSelection=function(){return this.gridOptions.rowSelection==="single"||this.gridOptions.rowSelection==="multiple"},i.prototype.useAsyncEvents=function(){return!this.get("suppressAsyncEvents")},i.prototype.isGetRowHeightFunction=function(){return typeof this.gridOptions.getRowHeight=="function"},i.prototype.getRowHeightForNode=function(t,n,r){if(n===void 0&&(n=!1),r==null&&(r=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(n)return{height:r,estimated:!0};var o={node:t,data:t.data},s=this.getCallback("getRowHeight")(o);if(this.isNumeric(s))return s===0&&Ae("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,s),estimated:!1}}if(t.detail&&this.get("masterDetail"))return this.getMasterDetailRowHeight();var a=this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:r;return{height:a,estimated:!1}},i.prototype.getMasterDetailRowHeight=function(){return this.get("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}},i.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||me(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();var t=this.environment.refreshRowHeightVariable();return t!==-1?t:(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())},i.prototype.isNumeric=function(t){return!isNaN(t)&&typeof t=="number"&&isFinite(t)},i.prototype.getDomDataKey=function(){return this.domDataKey},i.prototype.getDomData=function(t,n){var r=t[this.getDomDataKey()];return r?r[n]:void 0},i.prototype.setDomData=function(t,n,r){var o=this.getDomDataKey(),s=t[o];me(s)&&(s={},t[o]=s),s[n]=r},i.prototype.getDocument=function(){var t=null;return this.gridOptions.getDocument&&W(this.gridOptions.getDocument)?t=this.gridOptions.getDocument():this.eGridDiv&&(t=this.eGridDiv.ownerDocument),t&&W(t)?t:document},i.prototype.getWindow=function(){var t=this.getDocument();return t.defaultView||window},i.prototype.getRootNode=function(){return this.eGridDiv.getRootNode()},i.prototype.getAsyncTransactionWaitMillis=function(){return W(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50},i.prototype.isAnimateRows=function(){return this.get("ensureDomOrder")?!1:this.get("animateRows")},i.prototype.isGroupRowsSticky=function(){return!(this.get("suppressGroupRowsSticky")||this.get("paginateChildRows")||this.get("groupHideOpenParents")||this.isDomLayout("print"))},i.prototype.isColumnsSortingCoupledToGroup=function(){var t=this.gridOptions.autoGroupColumnDef;return!t?.comparator&&!this.get("treeData")},i.prototype.getGroupAggFiltering=function(){var t=this.gridOptions.groupAggFiltering;if(typeof t=="function")return this.getCallback("groupAggFiltering");if(t===!0)return function(){return!0}},i.prototype.isGroupIncludeFooterTrueOrCallback=function(){var t=this.gridOptions.groupIncludeFooter;return t===!0||typeof t=="function"},i.prototype.getGroupIncludeFooter=function(){var t=this.gridOptions.groupIncludeFooter;return typeof t=="function"?this.getCallback("groupIncludeFooter"):t===!0?function(){return!0}:function(){return!1}},i.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?this.gridOptions.groupDisplayType==="multipleColumns":this.get("groupHideOpenParents")},i.prototype.isGroupUseEntireRow=function(t){return t?!1:this.gridOptions.groupDisplayType==="groupRows"},i.prototype.getGridCommonParams=function(){return{api:this.api,columnApi:this.columnApi,context:this.context}},i.prototype.addGridCommonParams=function(t){var n=t;return n.api=this.api,n.columnApi=this.columnApi,n.context=this.context,n};var e;return i.alwaysSyncGlobalEvents=new Set([w.EVENT_GRID_PRE_DESTROYED]),i.PROPERTY_COERCIONS=new Map($x($x($x([],Pw(ws.BOOLEAN_PROPERTIES.map(function(t){return[t,e.toBoolean]})),!1),Pw(ws.NUMBER_PROPERTIES.map(function(t){return[t,e.toNumber]})),!1),[["groupAggFiltering",function(t){return typeof t=="function"?t:e.toBoolean(t)}],["pageSize",e.toConstrainedNum(1,Number.MAX_VALUE)],["autoSizePadding",e.toConstrainedNum(0,Number.MAX_VALUE)],["keepDetailRowsCount",e.toConstrainedNum(1,Number.MAX_VALUE)],["rowBuffer",e.toConstrainedNum(0,Number.MAX_VALUE)],["infiniteInitialRowCount",e.toConstrainedNum(1,Number.MAX_VALUE)],["cacheOverflowSize",e.toConstrainedNum(1,Number.MAX_VALUE)],["cacheBlockSize",e.toConstrainedNum(1,Number.MAX_VALUE)],["serverSideInitialRowCount",e.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelPageSize",e.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelBufferSize",e.toConstrainedNum(0,Number.MAX_VALUE)]],!1)),i.changeSetId=0,vs([_("gridOptions")],i.prototype,"gridOptions",void 0),vs([_("eventService")],i.prototype,"eventService",void 0),vs([_("environment")],i.prototype,"environment",void 0),vs([_("frameworkOverrides")],i.prototype,"frameworkOverrides",void 0),vs([_("eGridDiv")],i.prototype,"eGridDiv",void 0),vs([_("validationService")],i.prototype,"validationService",void 0),vs([_("gridApi")],i.prototype,"api",void 0),vs([Z],i.prototype,"init",null),vs([xi],i.prototype,"destroy",null),i=e=vs([ne("gridOptionsService")],i),i}(),Bve=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),jve=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Uve=function(i){Bve(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getLocaleTextFunc=function(){var t=this.gridOptionsService.getCallback("getLocaleText");if(t)return function(r,o,s){var a={key:r,defaultValue:o,variableValues:s};return t(a)};var n=this.gridOptionsService.get("localeText");return function(r,o,s){var a=n&&n[r];if(a&&s&&s.length)for(var l=0;!(l>=s.length);){var u=a.indexOf("${variable}");if(u===-1)break;a=a.replace("${variable}",s[l++])}return a??o}},e=jve([ne("localeService")],e),e}(Y),Wve=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zve=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},$ve=function(i){Wve(e,i);function e(){return i.call(this,e.TEMPLATE,"vertical")||this}return e.prototype.postConstruct=function(){i.prototype.postConstruct.call(this),this.createManagedBean(new Bz(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this),this.addManagedListener(this.eventService,w.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))},e.prototype.setScrollVisible=function(){var t=this.scrollVisibleService.isVerticalScrollShowing(),n=this.invisibleScrollbar,r=t&&this.gridOptionsService.getScrollbarWidth()||0,o=r===0&&n?16:r;this.addOrRemoveCssClass("ag-scrollbar-invisible",n),io(this.getGui(),o),io(this.eViewport,o),io(this.eContainer,o),this.setDisplayed(t,{skipAriaHidden:!0})},e.prototype.onRowContainerHeightChanged=function(){var t=this.ctrlsService,n=t.getGridBodyCtrl(),r=n.getBodyViewportElement(),o=this.getScrollPosition(),s=r.scrollTop;o!=s&&this.setScrollPosition(s,!0)},e.prototype.getScrollPosition=function(){return this.getViewport().scrollTop},e.prototype.setScrollPosition=function(t,n){!n&&!Ar(this.getViewport())&&this.attemptSettingScrollPosition(t),this.getViewport().scrollTop=t},e.TEMPLATE=`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">
                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>
            </div>
        </div>`,zve([Z],e.prototype,"postConstruct",null),e}(qz),qve=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Qi=function(){return Qi=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},Qi.apply(this,arguments)},ic=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ys=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},kg=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},tW={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},nW=["january","february","march","april","may","june","july","august","september","october","november","december"],Yve=function(i){qve(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.dataTypeDefinitions={},t.isWaitingForRowData=!1,t.isColumnTypeOverrideInDataTypeDefinitions=!1,t.columnStateUpdatesPendingInference={},t.columnStateUpdateListenerDestroyFuncs=[],t}return e.prototype.init=function(){var t=this;this.groupHideOpenParents=this.gridOptionsService.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",function(){t.groupHideOpenParents=t.gridOptionsService.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",function(){t.processDataTypeDefinitions(),t.columnModel.recreateColumnDefs("gridOptionsChanged")})},e.prototype.processDataTypeDefinitions=function(){var t=this,n,r=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(r).forEach(function(s){var a=ys(s,2),l=a[0],u=a[1];t.dataTypeDefinitions[l]=Qi(Qi({},u),{groupSafeValueFormatter:t.createGroupSafeValueFormatter(u)})});var o=(n=this.gridOptionsService.get("dataTypeDefinitions"))!==null&&n!==void 0?n:{};this.dataTypeMatchers={},Object.entries(o).forEach(function(s){var a=ys(s,2),l=a[0],u=a[1],c=t.processDataTypeDefinition(u,o,[l],r);c&&(t.dataTypeDefinitions[l]=c,u.dataTypeMatcher&&(t.dataTypeMatchers[l]=u.dataTypeMatcher))}),this.checkObjectValueHandlers(r),["dateString","text","number","boolean","date"].forEach(function(s){var a=t.dataTypeMatchers[s];a&&delete t.dataTypeMatchers[s],t.dataTypeMatchers[s]=a??r[s].dataTypeMatcher})},e.prototype.mergeDataTypeDefinitions=function(t,n){var r=Qi(Qi({},t),n);return t.columnTypes&&n.columnTypes&&n.appendColumnTypes&&(r.columnTypes=kg(kg([],ys(this.convertColumnTypes(t.columnTypes)),!1),ys(this.convertColumnTypes(n.columnTypes)),!1)),r},e.prototype.processDataTypeDefinition=function(t,n,r,o){var s,a=t.extendsDataType;if(t.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),t.extendsDataType===t.baseDataType){var l=o[a],u=n[a];if(l&&u&&(l=u),!this.validateDataTypeDefinition(t,l,a))return;s=this.mergeDataTypeDefinitions(l,t)}else{if(r.includes(a)){Ae('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}var c=n[a];if(!this.validateDataTypeDefinition(t,c,a))return;var d=this.processDataTypeDefinition(c,n,kg(kg([],ys(r),!1),[a],!1),o);if(!d)return;s=this.mergeDataTypeDefinitions(d,t)}return Qi(Qi({},s),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(s)})},e.prototype.validateDataTypeDefinition=function(t,n,r){return n?n.baseDataType!==t.baseDataType?(Ae('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(Ae("The data type definition ".concat(r," does not exist.")),!1)},e.prototype.createGroupSafeValueFormatter=function(t){var n=this;if(t.valueFormatter)return function(r){var o,s;if(!((o=r.node)===null||o===void 0)&&o.group){var a=r.column.getAggFunc();if(a){if(a==="first"||a==="last")return t.valueFormatter(r);if(t.baseDataType==="number"&&a!=="count"){if(typeof r.value=="number")return t.valueFormatter(r);if(typeof r.value=="object"){if(!r.value)return;if("toNumber"in r.value)return t.valueFormatter(Qi(Qi({},r),{value:r.value.toNumber()}));if("value"in r.value)return t.valueFormatter(Qi(Qi({},r),{value:r.value.value}))}}}if(!n.gridOptionsService.get("suppressGroupMaintainValueType"))return}else if(n.groupHideOpenParents&&r.column.isRowGroupActive()){if(typeof r.value!="string"||!((s=t.dataTypeMatcher)===null||s===void 0)&&s.call(t,r.value))return t.valueFormatter(r);if(!n.gridOptionsService.get("suppressGroupMaintainValueType"))return}return t.valueFormatter(r)}},e.prototype.updateColDefAndGetDataTypeDefinitionColumnType=function(t,n,r){var o=n.cellDataType,s=n.field;if(o===void 0&&(o=t.cellDataType),(o==null||o===!0)&&(o=this.canInferCellDataType(t,n)?this.inferCellDataType(s,r):!1),!o){t.cellDataType=!1;return}var a=this.dataTypeDefinitions[o];if(!a){Ae('Missing data type definition - "'.concat(o,'"'));return}return t.cellDataType=o,a.groupSafeValueFormatter&&(t.valueFormatter=a.groupSafeValueFormatter),a.valueParser&&(t.valueParser=a.valueParser),a.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(t,a,r),a.columnTypes},e.prototype.updateColDefAndGetColumnType=function(t,n,r){var o,s,a=this.updateColDefAndGetDataTypeDefinitionColumnType(t,n,r),l=(s=(o=n.type)!==null&&o!==void 0?o:a)!==null&&s!==void 0?s:t.type;return t.type=l,l?this.convertColumnTypes(l):void 0},e.prototype.addColumnListeners=function(t){if(this.isWaitingForRowData){var n=this.columnStateUpdatesPendingInference[t.getColId()];if(n){var r=function(o){n.add(o.key)};t.addEventListener(Tt.EVENT_STATE_UPDATED,r),this.columnStateUpdateListenerDestroyFuncs.push(function(){return t.removeEventListener(Tt.EVENT_STATE_UPDATED,r)})}}},e.prototype.canInferCellDataType=function(t,n){var r=this,o;if(this.rowModel.getType()!=="clientSide")return!1;var s={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(n,s))return!1;var a=n.type===null?t.type:n.type;if(a){var l=(o=this.gridOptionsService.get("columnTypes"))!==null&&o!==void 0?o:{},u=this.convertColumnTypes(a).some(function(c){var d=l[c.trim()];return d&&r.doColDefPropsPreventInference(d,s)});if(u)return!1}return!this.doColDefPropsPreventInference(t,s)},e.prototype.doColDefPropsPreventInference=function(t,n){var r=this;return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(function(o){var s=ys(o,2),a=s[0],l=s[1];return r.doesColDefPropPreventInference(t,n,a,l)})},e.prototype.doesColDefPropPreventInference=function(t,n,r,o){if(!n[r])return!1;var s=t[r];return s===null?(n[r]=!1,!1):o===void 0?!!s:s===o},e.prototype.inferCellDataType=function(t,n){var r;if(t){var o,s=this.getInitialData();if(s){var a=t.indexOf(".")>=0&&!this.gridOptionsService.get("suppressFieldDotNotation");o=Ch(s,t,a)}else this.initWaitForRowData(n);if(o!=null){var l=ys((r=Object.entries(this.dataTypeMatchers).find(function(c){var d=ys(c,2);d[0];var h=d[1];return h(o)}))!==null&&r!==void 0?r:["object"],1),u=l[0];return u}}},e.prototype.getInitialData=function(){var t=this.gridOptionsService.get("rowData");if(t?.length)return t[0];if(this.initialData)return this.initialData;var n=this.rowModel.getRootNode().allLeafChildren;return n?.length?n[0].data:null},e.prototype.initWaitForRowData=function(t){var n=this;if(this.columnStateUpdatesPendingInference[t]=new Set,!this.isWaitingForRowData){this.isWaitingForRowData=!0;var r=this.isColumnTypeOverrideInDataTypeDefinitions;r&&this.columnModel.queueResizeOperations();var o=this.addManagedListener(this.eventService,w.EVENT_ROW_DATA_UPDATE_STARTED,function(s){var a=s.firstRowData;if(a){o?.(),n.isWaitingForRowData=!1,n.processColumnsPendingInference(a,r),n.columnStateUpdatesPendingInference={},r&&n.columnModel.processResizeOperations();var l={type:w.EVENT_DATA_TYPES_INFERRED};n.eventService.dispatchEvent(l)}})}},e.prototype.isPendingInference=function(){return this.isWaitingForRowData},e.prototype.processColumnsPendingInference=function(t,n){var r=this;this.initialData=t;var o=[];this.columnStateUpdateListenerDestroyFuncs.forEach(function(l){return l()}),this.columnStateUpdateListenerDestroyFuncs=[];var s={},a={};Object.entries(this.columnStateUpdatesPendingInference).forEach(function(l){var u=ys(l,2),c=u[0],d=u[1],h=r.columnModel.getGridColumn(c);if(h){var f=h.getColDef();if(r.columnModel.resetColumnDefIntoColumn(h,"cellDataTypeInferred")){var p=h.getColDef();if(n&&p.type&&p.type!==f.type){var g=r.getUpdatedColumnState(h,d);g.rowGroup&&g.rowGroupIndex==null&&(s[c]=g),g.pivot&&g.pivotIndex==null&&(a[c]=g),o.push(g)}}}}),n&&o.push.apply(o,kg([],ys(this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(s,a)),!1)),o.length&&this.columnModel.applyColumnState({state:o},"cellDataTypeInferred"),this.initialData=null},e.prototype.getUpdatedColumnState=function(t,n){var r=this.columnModel.getColumnStateFromColDef(t);return n.forEach(function(o){delete r[o],o==="rowGroup"?delete r.rowGroupIndex:o==="pivot"&&delete r.pivotIndex}),r},e.prototype.checkObjectValueHandlers=function(t){var n=this.dataTypeDefinitions.object,r=t.object;this.hasObjectValueParser=n.valueParser!==r.valueParser,this.hasObjectValueFormatter=n.valueFormatter!==r.valueFormatter},e.prototype.convertColumnTypes=function(t){var n=[];if(t instanceof Array){var r=t.some(function(o){return typeof o!="string"});r?console.warn("if colDef.type is supplied an array it should be of type 'string[]'"):n=t}else typeof t=="string"?n=t.split(","):console.warn("colDef.type should be of type 'string' | 'string[]'");return n},e.prototype.getDateStringTypeDefinition=function(){return this.dataTypeDefinitions.dateString},e.prototype.getDateParserFunction=function(){return this.getDateStringTypeDefinition().dateParser},e.prototype.getDateFormatterFunction=function(){return this.getDateStringTypeDefinition().dateFormatter},e.prototype.getDataTypeDefinition=function(t){var n=t.getColDef();if(n.cellDataType)return this.dataTypeDefinitions[n.cellDataType]},e.prototype.getBaseDataType=function(t){var n;return(n=this.getDataTypeDefinition(t))===null||n===void 0?void 0:n.baseDataType},e.prototype.checkType=function(t,n){var r;if(n==null)return!0;var o=(r=this.getDataTypeDefinition(t))===null||r===void 0?void 0:r.dataTypeMatcher;return o?o(n):!0},e.prototype.validateColDef=function(t){t.cellDataType==="object"&&(t.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&Ae('Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),t.editable&&t.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&Ae('Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'))},e.prototype.setColDefPropertiesForBaseDataType=function(t,n,r){var o=this,s=function(d,h,f){var p=d.getColDef().valueFormatter;return p===n.groupSafeValueFormatter&&(p=n.valueFormatter),o.valueFormatterService.formatValue(d,h,f,p)},a=mt.__isRegistered(de.SetFilterModule,this.context.getGridId()),l=this.localeService.getLocaleTextFunc(),u=function(d){var h=t.filterParams;t.filterParams=typeof h=="object"?Qi(Qi({},h),d):d};switch(n.baseDataType){case"number":{t.cellEditor="agNumberCellEditor",a&&u({comparator:function(d,h){var f=d==null?0:parseInt(d),p=h==null?0:parseInt(h);return f===p?0:f>p?1:-1}});break}case"boolean":{t.cellEditor="agCheckboxCellEditor",t.cellRenderer="agCheckboxCellRenderer",t.suppressKeyboardEvent=function(d){return!!d.colDef.editable&&d.event.key===F.SPACE},u(a?{valueFormatter:function(d){return W(d.value)?l(String(d.value),d.value?"True":"False"):l("blanks","(Blanks)")}}:{maxNumConditions:1,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:function(d,h){return h},numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:function(d,h){return h===!1},numberOfInputs:0}]});break}case"date":{t.cellEditor="agDateCellEditor",t.keyCreator=function(d){return s(d.column,d.node,d.value)},a&&u({valueFormatter:function(d){var h=s(d.column,d.node,d.value);return W(h)?h:l("blanks","(Blanks)")},treeList:!0,treeListFormatter:function(d,h){if(h===1&&d!=null){var f=nW[Number(d)-1];return l(f,tW[f])}return d??l("blanks","(Blanks)")}});break}case"dateString":{t.cellEditor="agDateStringCellEditor",t.keyCreator=function(d){return s(d.column,d.node,d.value)};var c=this.getDateParserFunction();u(a?{valueFormatter:function(d){var h=s(d.column,d.node,d.value);return W(h)?h:l("blanks","(Blanks)")},treeList:!0,treeListPathGetter:function(d){var h=c(d??void 0);return h?[String(h.getFullYear()),String(h.getMonth()+1),String(h.getDate())]:null},treeListFormatter:function(d,h){if(h===1&&d!=null){var f=nW[Number(d)-1];return l(f,tW[f])}return d??l("blanks","(Blanks)")}}:{comparator:function(d,h){var f=c(h);return h==null||f<d?-1:f>d?1:0}});break}case"object":{t.cellEditorParams={useFormatter:!0},t.comparator=function(d,h){var f=o.columnModel.getPrimaryColumn(r),p=f?.getColDef();if(!f||!p)return 0;var g=d==null?"":s(f,null,d),m=h==null?"":s(f,null,h);return g===m?0:g>m?1:-1},t.keyCreator=function(d){return s(d.column,d.node,d.value)},a?u({valueFormatter:function(d){var h=s(d.column,d.node,d.value);return W(h)?h:l("blanks","(Blanks)")}}):t.filterValueGetter=function(d){return s(d.column,d.node,o.valueService.getValue(d.column,d.node))};break}}},e.prototype.getDefaultDataTypes=function(){var t=function(r){return!!r.match("^\\d{4}-\\d{2}-\\d{2}$")},n=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:function(r){var o,s;return((s=(o=r.newValue)===null||o===void 0?void 0:o.trim)===null||s===void 0?void 0:s.call(o))===""?null:Number(r.newValue)},valueFormatter:function(r){return r.value==null?"":typeof r.value!="number"||isNaN(r.value)?(console.log("was",typeof r.value,r.value,r),n("invalidNumber","Invalid Number")):String(r.value)},dataTypeMatcher:function(r){return typeof r=="number"}},text:{baseDataType:"text",valueParser:function(r){return r.newValue===""?null:Qg(r.newValue)},dataTypeMatcher:function(r){return typeof r=="string"}},boolean:{baseDataType:"boolean",valueParser:function(r){var o,s;return r.newValue==null?r.newValue:((s=(o=r.newValue)===null||o===void 0?void 0:o.trim)===null||s===void 0?void 0:s.call(o))===""?null:String(r.newValue).toLowerCase()==="true"},valueFormatter:function(r){return r.value==null?"":String(r.value)},dataTypeMatcher:function(r){return typeof r=="boolean"}},date:{baseDataType:"date",valueParser:function(r){return Xi(r.newValue==null?null:String(r.newValue))},valueFormatter:function(r){var o;return r.value==null?"":!(r.value instanceof Date)||isNaN(r.value.getTime())?n("invalidDate","Invalid Date"):(o=no(r.value,!1))!==null&&o!==void 0?o:""},dataTypeMatcher:function(r){return r instanceof Date}},dateString:{baseDataType:"dateString",dateParser:function(r){var o;return(o=Xi(r))!==null&&o!==void 0?o:void 0},dateFormatter:function(r){var o;return(o=no(r??null,!1))!==null&&o!==void 0?o:void 0},valueParser:function(r){return t(String(r.newValue))?r.newValue:null},valueFormatter:function(r){return t(String(r.value))?r.value:""},dataTypeMatcher:function(r){return typeof r=="string"&&t(r)}},object:{baseDataType:"object",valueParser:function(){return null},valueFormatter:function(r){var o;return(o=Qg(r.value))!==null&&o!==void 0?o:""}}}},ic([_("rowModel")],e.prototype,"rowModel",void 0),ic([_("columnModel")],e.prototype,"columnModel",void 0),ic([_("columnUtils")],e.prototype,"columnUtils",void 0),ic([_("valueService")],e.prototype,"valueService",void 0),ic([_("valueFormatterService")],e.prototype,"valueFormatterService",void 0),ic([Z],e.prototype,"init",null),e=ic([ne("dataTypeService")],e),e}(Y),Kve=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),iW=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Qve=function(i){Kve(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.parseValue=function(t,n,r,o){var s=t.getColDef(),a=this.gridOptionsService.addGridCommonParams({node:n,data:n?.data,oldValue:o,newValue:r,colDef:s,column:t}),l=s.valueParser;return W(l)?typeof l=="function"?l(a):this.expressionService.evaluate(l,a):r},iW([_("expressionService")],e.prototype,"expressionService",void 0),e=iW([ne("valueParserService")],e),e}(Y),Zve=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Vg=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Xve=function(i){Zve(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.waitingForColumns=!1,t}return e.prototype.postConstruct=function(){var t=this;this.addManagedPropertyListener("columnDefs",function(n){return t.setColumnDefs(n)})},e.prototype.start=function(){var t=this;this.ctrlsService.whenReady(function(){var n=t.gridOptionsService.get("columnDefs");n?t.setColumnsAndData(n):t.waitingForColumns=!0,t.gridReady()})},e.prototype.setColumnsAndData=function(t){this.columnModel.setColumnDefs(t??[],"gridInitializing"),this.rowModel.start()},e.prototype.gridReady=function(){var t=this;this.dispatchGridReadyEvent();var n=mt.__isRegistered(de.EnterpriseCoreModule,this.context.getGridId()),r=new lI("AG Grid",function(){return t.gridOptionsService.get("debug")});r.log("initialised successfully, enterprise = ".concat(n))},e.prototype.dispatchGridReadyEvent=function(){var t={type:w.EVENT_GRID_READY};this.eventService.dispatchEvent(t)},e.prototype.setColumnDefs=function(t){var n,r=this.gridOptionsService.get("columnDefs");if(r){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(r);return}var o=(n=t.source)!==null&&n!==void 0?n:"api";this.columnModel.setColumnDefs(r,o)}},Vg([_("ctrlsService")],e.prototype,"ctrlsService",void 0),Vg([_("columnModel")],e.prototype,"columnModel",void 0),Vg([_("rowModel")],e.prototype,"rowModel",void 0),Vg([Z],e.prototype,"postConstruct",null),e=Vg([ne("syncService")],e),e}(Y),Jve=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),vM=function(){return vM=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},vM.apply(this,arguments)},Hg=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},eye=function(i){Jve(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.manuallyDisplayed=!1,t}return e.prototype.postConstruct=function(){var t=this;this.addManagedListener(this.eventService,w.EVENT_ROW_DATA_UPDATED,function(){return t.onRowDataUpdated()}),this.addManagedListener(this.eventService,w.EVENT_NEW_COLUMNS_LOADED,function(){return t.onNewColumnsLoaded()})},e.prototype.registerOverlayWrapperComp=function(t){this.overlayWrapperComp=t,(!this.gridOptionsService.get("columnDefs")||this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData"))&&this.showLoadingOverlay()},e.prototype.showLoadingOverlay=function(){if(!this.gridOptionsService.get("suppressLoadingOverlay")){var t={},n=this.userComponentFactory.getLoadingOverlayCompDetails(t);this.showOverlay(n,"ag-overlay-loading-wrapper","loadingOverlayComponentParams")}},e.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsService.get("suppressNoRowsOverlay")){var t={},n=this.userComponentFactory.getNoRowsOverlayCompDetails(t);this.showOverlay(n,"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams")}},e.prototype.showOverlay=function(t,n,r){var o=this,s=t.newAgStackInstance(),a=this.addManagedPropertyListener(r,function(l){var u=l.currentValue;s.then(function(c){c.refresh&&c.refresh(o.gridOptionsService.addGridCommonParams(vM({},u??{})))})});this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.overlayWrapperComp.showOverlay(s,n,a)},e.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.overlayWrapperComp.hideOverlay()},e.prototype.showOrHideOverlay=function(){var t=this.paginationProxy.isEmpty(),n=this.gridOptionsService.get("suppressNoRowsOverlay");t&&!n?this.showNoRowsOverlay():this.hideOverlay()},e.prototype.onRowDataUpdated=function(){this.showOrHideOverlay()},e.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()},Hg([_("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Hg([_("paginationProxy")],e.prototype,"paginationProxy",void 0),Hg([_("columnModel")],e.prototype,"columnModel",void 0),Hg([Z],e.prototype,"postConstruct",null),e=Hg([ne("overlayService")],e),e}(Y),tye=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Rl=function(){return Rl=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},Rl.apply(this,arguments)},Zr=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},nye=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},iye=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},rye=function(i){tye(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.suppressEvents=!0,t.queuedUpdateSources=new Set,t.dispatchStateUpdateEventDebounced=eo(function(){return t.dispatchQueuedStateUpdateEvents()},0),t}return e.prototype.postConstruct=function(){var t=this,n;this.isClientSideRowModel=this.rowModel.getType()==="clientSide",this.cachedState=(n=this.gridOptionsService.get("initialState"))!==null&&n!==void 0?n:{},this.ctrlsService.whenReady(function(){return t.suppressEventsAndDispatchInitEvent(function(){return t.setupStateOnGridReady()})});var r=this.addManagedListener(this.eventService,w.EVENT_NEW_COLUMNS_LOADED,function(a){var l=a.source;l==="gridInitializing"&&(r?.(),t.suppressEventsAndDispatchInitEvent(function(){return t.setupStateOnColumnsInitialised()}))}),o=this.addManagedListener(this.eventService,w.EVENT_ROW_COUNT_READY,function(){o?.(),t.suppressEventsAndDispatchInitEvent(function(){return t.setupStateOnRowCountReady()})}),s=this.addManagedListener(this.eventService,w.EVENT_FIRST_DATA_RENDERED,function(){s?.(),t.suppressEventsAndDispatchInitEvent(function(){return t.setupStateOnFirstDataRendered()})})},e.prototype.getState=function(){return this.cachedState},e.prototype.setupStateOnGridReady=function(){var t=this;this.updateCachedState("sideBar",this.getSideBarState()),this.addManagedListener(this.eventService,w.EVENT_TOOL_PANEL_VISIBLE_CHANGED,function(){return t.updateCachedState("sideBar",t.getSideBarState())}),this.addManagedListener(this.eventService,w.EVENT_SIDE_BAR_UPDATED,function(){return t.updateCachedState("sideBar",t.getSideBarState())})},e.prototype.setupStateOnColumnsInitialised=function(){var t=this,n,r=(n=this.gridOptionsService.get("initialState"))!==null&&n!==void 0?n:{},o=r.columnGroup;this.setColumnState(r),o&&this.setColumnGroupState(o),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState()),this.addManagedListener(this.eventService,w.EVENT_COLUMN_VALUE_CHANGED,function(){return t.updateColumnState(["aggregation"])}),this.addManagedListener(this.eventService,w.EVENT_COLUMN_MOVED,function(){return t.updateColumnState(["columnOrder"])}),this.addManagedListener(this.eventService,w.EVENT_COLUMN_PINNED,function(){return t.updateColumnState(["columnPinning"])}),this.addManagedListener(this.eventService,w.EVENT_COLUMN_RESIZED,function(){return t.updateColumnState(["columnSizing"])}),this.addManagedListener(this.eventService,w.EVENT_COLUMN_VISIBLE,function(){return t.updateColumnState(["columnVisibility"])}),this.addManagedListener(this.eventService,w.EVENT_COLUMN_PIVOT_CHANGED,function(){return t.updateColumnState(["pivot"])}),this.addManagedListener(this.eventService,w.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return t.updateColumnState(["pivot"])}),this.addManagedListener(this.eventService,w.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return t.updateColumnState(["rowGroup"])}),this.addManagedListener(this.eventService,w.EVENT_SORT_CHANGED,function(){return t.updateColumnState(["sort"])}),this.addManagedListener(this.eventService,w.EVENT_NEW_COLUMNS_LOADED,function(){return t.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"])}),this.addManagedListener(this.eventService,w.EVENT_COLUMN_GROUP_OPENED,function(){return t.updateCachedState("columnGroup",t.getColumnGroupState())})},e.prototype.setupStateOnRowCountReady=function(){var t=this,n,r=(n=this.gridOptionsService.get("initialState"))!==null&&n!==void 0?n:{},o=r.filter,s=r.rowGroupExpansion,a=r.rowSelection,l=r.pagination,u=this.gridOptionsService.get("advancedFilterModel");(o||u)&&this.setFilterState(o,u),s&&this.setRowGroupExpansionState(s),a&&this.setRowSelectionState(a),l&&this.setPaginationState(l),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState()),this.addManagedListener(this.eventService,w.EVENT_FILTER_CHANGED,function(){return t.updateCachedState("filter",t.getFilterState())}),this.addManagedListener(this.eventService,w.EVENT_ROW_GROUP_OPENED,function(){return t.updateCachedState("rowGroupExpansion",t.getRowGroupExpansionState())}),this.addManagedListener(this.eventService,w.EVENT_EXPAND_COLLAPSE_ALL,function(){return t.updateCachedState("rowGroupExpansion",t.getRowGroupExpansionState())}),this.addManagedListener(this.eventService,w.EVENT_SELECTION_CHANGED,function(){return t.updateCachedState("rowSelection",t.getRowSelectionState())}),this.addManagedListener(this.eventService,w.EVENT_PAGINATION_CHANGED,function(c){(c.newPage||c.newPageSize)&&t.updateCachedState("pagination",t.getPaginationState())})},e.prototype.setupStateOnFirstDataRendered=function(){var t=this,n,r=(n=this.gridOptionsService.get("initialState"))!==null&&n!==void 0?n:{},o=r.scroll,s=r.rangeSelection,a=r.focusedCell,l=r.columnOrder;a&&this.setFocusedCellState(a),s&&this.setRangeSelectionState(s),o&&this.setScrollState(o),this.setColumnPivotState(!!l?.orderedColIds),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState()),this.updateCachedState("rangeSelection",this.getRangeSelectionState()),this.updateCachedState("scroll",this.getScrollState()),this.addManagedListener(this.eventService,w.EVENT_CELL_FOCUSED,function(){return t.updateCachedState("focusedCell",t.getFocusedCellState())}),this.addManagedListener(this.eventService,w.EVENT_RANGE_SELECTION_CHANGED,function(u){u.finished&&t.updateCachedState("rangeSelection",t.getRangeSelectionState())}),this.addManagedListener(this.eventService,w.EVENT_BODY_SCROLL_END,function(){return t.updateCachedState("scroll",t.getScrollState())})},e.prototype.getColumnState=function(){for(var t=this.columnModel.isPivotMode(),n=[],r=[],o=[],s=[],a=[],l=[],u=[],c=[],d=[],h=this.columnModel.getColumnState(),f=0;f<h.length;f++){var p=h[f],g=p.colId,m=p.sort,v=p.sortIndex,y=p.rowGroup,C=p.rowGroupIndex,S=p.aggFunc,E=p.pivot,T=p.pivotIndex,O=p.pinned,R=p.hide,M=p.width,H=p.flex;d.push(g),m&&(n[v??0]={colId:g,sort:m}),y&&(r[C??0]=g),typeof S=="string"&&o.push({colId:g,aggFunc:S}),E&&(s[T??0]=g),O&&(O==="right"?l:a).push(g),R&&u.push(g),(H||M)&&c.push({colId:g,flex:H??void 0,width:M})}return{sort:n.length?{sortModel:n}:void 0,rowGroup:r.length?{groupColIds:r}:void 0,aggregation:o.length?{aggregationModel:o}:void 0,pivot:s.length||t?{pivotMode:t,pivotColIds:s}:void 0,columnPinning:a.length||l.length?{leftColIds:a,rightColIds:l}:void 0,columnVisibility:u.length?{hiddenColIds:u}:void 0,columnSizing:c.length?{columnSizingModel:c}:void 0,columnOrder:d.length?{orderedColIds:d}:void 0}},e.prototype.setColumnState=function(t){var n=t.sort,r=t.rowGroup,o=t.aggregation,s=t.pivot,a=t.columnPinning,l=t.columnVisibility,u=t.columnSizing,c=t.columnOrder,d={},h=function(v){var y=d[v];return y||(y={colId:v},d[v]=y,y)};n&&n.sortModel.forEach(function(v,y){var C=v.colId,S=v.sort,E=h(C);E.sort=S,E.sortIndex=y}),r&&r.groupColIds.forEach(function(v,y){var C=h(v);C.rowGroup=!0,C.rowGroupIndex=y}),o&&o.aggregationModel.forEach(function(v){var y=v.colId,C=v.aggFunc;h(y).aggFunc=C}),s&&(s.pivotColIds.forEach(function(v,y){var C=h(v);C.pivot=!0,C.pivotIndex=y}),this.gridOptionsService.updateGridOptions({options:{pivotMode:s.pivotMode},source:"gridInitializing"})),a&&(a.leftColIds.forEach(function(v){h(v).pinned="left"}),a.rightColIds.forEach(function(v){h(v).pinned="right"})),l&&l.hiddenColIds.forEach(function(v){h(v).hide=!0}),u&&u.columnSizingModel.forEach(function(v){var y=v.colId,C=v.flex,S=v.width,E=h(y);E.flex=C??null,E.width=S});var f=c?.orderedColIds,p=!!f?.length,g=p?f.map(function(v){return h(v)}):Object.values(d);if(g.length){this.columnStates=g;var m={sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};this.columnModel.applyColumnState({state:g,applyOrder:p,defaultState:m},"gridInitializing")}},e.prototype.setColumnPivotState=function(t){var n,r,o=this.columnStates;if(this.columnStates=void 0,!(!o||!this.columnModel.isSecondaryColumnsPresent())){var s=[];try{for(var a=nye(o),l=a.next();!l.done;l=a.next()){var u=l.value;this.columnModel.getSecondaryColumn(u.colId)&&s.push(u)}}catch(c){n={error:c}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}this.columnModel.applyColumnState({state:s,applyOrder:t},"gridInitializing")}},e.prototype.getColumnGroupState=function(){var t=this.columnModel.getColumnGroupState(),n=[];return t.forEach(function(r){var o=r.groupId,s=r.open;s&&n.push(o)}),n.length?{openColumnGroupIds:n}:void 0},e.prototype.setColumnGroupState=function(t){var n=t.openColumnGroupIds,r=new Set(n),o=this.columnModel.getColumnGroupState(),s=o.map(function(a){var l=a.groupId;return{groupId:l,open:r.has(l)}});this.columnModel.setColumnGroupState(s,"gridInitializing")},e.prototype.getFilterState=function(){var t,n=this.filterManager.getFilterModel();n&&Object.keys(n).length===0&&(n=void 0);var r=(t=this.filterManager.getAdvancedFilterModel())!==null&&t!==void 0?t:void 0;return n||r?{filterModel:n,advancedFilterModel:r}:void 0},e.prototype.setFilterState=function(t,n){var r=t??{advancedFilterModel:n},o=r.filterModel,s=r.advancedFilterModel;o&&this.filterManager.setFilterModel(o,"columnFilter"),s&&this.filterManager.setAdvancedFilterModel(s)},e.prototype.getRangeSelectionState=function(){var t,n=(t=this.rangeService)===null||t===void 0?void 0:t.getCellRanges().map(function(r){var o=r.id,s=r.type,a=r.startRow,l=r.endRow,u=r.columns,c=r.startColumn;return{id:o,type:s,startRow:a,endRow:l,colIds:u.map(function(d){return d.getColId()}),startColId:c.getColId()}});return n?.length?{cellRanges:n}:void 0},e.prototype.setRangeSelectionState=function(t){var n=this,r;if(this.gridOptionsService.get("enableRangeSelection")){var o=t.cellRanges.map(function(s){return Rl(Rl({},s),{columns:s.colIds.map(function(a){return n.columnModel.getGridColumn(a)}),startColumn:n.columnModel.getGridColumn(s.startColId)})});(r=this.rangeService)===null||r===void 0||r.setCellRanges(o)}},e.prototype.getScrollState=function(){var t,n,r;if(this.isClientSideRowModel){var o=(t=this.ctrlsService.getGridBodyCtrl())===null||t===void 0?void 0:t.getScrollFeature(),s=((n=o?.getHScrollPosition())!==null&&n!==void 0?n:{left:0}).left,a=((r=o?.getVScrollPosition())!==null&&r!==void 0?r:{top:0}).top;return a||s?{top:a,left:s}:void 0}},e.prototype.setScrollState=function(t){var n;if(this.isClientSideRowModel){var r=t.top,o=t.left;(n=this.ctrlsService.getGridBodyCtrl())===null||n===void 0||n.getScrollFeature().setScrollPosition(r,o)}},e.prototype.getSideBarState=function(){var t,n;return(n=(t=this.sideBarService)===null||t===void 0?void 0:t.getSideBarComp())===null||n===void 0?void 0:n.getState()},e.prototype.getFocusedCellState=function(){if(this.isClientSideRowModel){var t=this.focusService.getFocusedCell();if(t){var n=t.column,r=t.rowIndex,o=t.rowPinned;return{colId:n.getColId(),rowIndex:r,rowPinned:o}}}},e.prototype.setFocusedCellState=function(t){if(this.isClientSideRowModel){var n=t.colId,r=t.rowIndex,o=t.rowPinned;this.focusService.setFocusedCell({column:this.columnModel.getGridColumn(n),rowIndex:r,rowPinned:o,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}},e.prototype.getPaginationState=function(){var t=this.paginationProxy.getCurrentPage(),n=this.gridOptionsService.get("paginationAutoPageSize")?void 0:this.paginationProxy.getPageSize();if(!(!t&&!n))return{page:t,pageSize:n}},e.prototype.setPaginationState=function(t){t.pageSize&&!this.gridOptionsService.get("paginationAutoPageSize")&&this.paginationProxy.setPageSize(t.pageSize,"initialState"),typeof t.page=="number"&&this.paginationProxy.setPage(t.page)},e.prototype.getRowSelectionState=function(){var t,n=this.selectionService.getSelectionState(),r=!n||!Array.isArray(n)&&(n.selectAll===!1||n.selectAllChildren===!1)&&!(!((t=n?.toggledNodes)===null||t===void 0)&&t.length);return r?void 0:n},e.prototype.setRowSelectionState=function(t){this.selectionService.setSelectionState(t,"gridInitializing")},e.prototype.getRowGroupExpansionState=function(){var t=this.expansionService.getExpandedRows();return t.length?{expandedRowGroupIds:t}:void 0},e.prototype.setRowGroupExpansionState=function(t){this.expansionService.expandRows(t.expandedRowGroupIds)},e.prototype.updateColumnState=function(t){var n=this,r=this.getColumnState(),o=!1;Object.entries(r).forEach(function(s){var a=iye(s,2),l=a[0],u=a[1];Xx(u,n.cachedState[l])||(o=!0)}),this.cachedState=Rl(Rl({},this.cachedState),r),o&&this.dispatchStateUpdateEvent(t)},e.prototype.updateCachedState=function(t,n){var r,o=this.cachedState[t];this.cachedState=Rl(Rl({},this.cachedState),(r={},r[t]=n,r)),Xx(n,o)||this.dispatchStateUpdateEvent([t])},e.prototype.dispatchStateUpdateEvent=function(t){var n=this;this.suppressEvents||(t.forEach(function(r){return n.queuedUpdateSources.add(r)}),this.dispatchStateUpdateEventDebounced())},e.prototype.dispatchQueuedStateUpdateEvents=function(){var t=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear();var n={type:w.EVENT_STATE_UPDATED,sources:t,state:this.cachedState};this.eventService.dispatchEvent(n)},e.prototype.suppressEventsAndDispatchInitEvent=function(t){var n=this;this.suppressEvents=!0,t(),setTimeout(function(){n.suppressEvents=!1,n.queuedUpdateSources.clear(),n.dispatchStateUpdateEvent(["gridInitializing"])})},Zr([_("filterManager")],e.prototype,"filterManager",void 0),Zr([et("rangeService")],e.prototype,"rangeService",void 0),Zr([_("ctrlsService")],e.prototype,"ctrlsService",void 0),Zr([et("sideBarService")],e.prototype,"sideBarService",void 0),Zr([_("focusService")],e.prototype,"focusService",void 0),Zr([_("columnModel")],e.prototype,"columnModel",void 0),Zr([_("paginationProxy")],e.prototype,"paginationProxy",void 0),Zr([_("rowModel")],e.prototype,"rowModel",void 0),Zr([_("selectionService")],e.prototype,"selectionService",void 0),Zr([_("expansionService")],e.prototype,"expansionService",void 0),Zr([Z],e.prototype,"postConstruct",null),e=Zr([ne("stateService")],e),e}(Y),oye=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qx=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},rc=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Gg=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},sye=function(i){oye(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(){this.processGridOptions(this.gridOptions)},e.prototype.processGridOptions=function(t){this.processOptions(t,Gve)},e.prototype.processColumnDefs=function(t){this.processOptions(t,_h)},e.prototype.processOptions=function(t,n){var r=this,o=n.validations,s=n.deprecations,a=n.allProperties,l=n.propertyExceptions,u=n.objectName,c=n.docsUrl;a&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(t,Gg(Gg([],rc(l??[]),!1),rc(Object.keys(s)),!1),a,u,c);var d=new Set,h=Object.keys(t);h.forEach(function(f){var p,g=s[f];if(g)if("renamed"in g){var m=g.renamed,v=g.version;d.add("As of v".concat(v,", ").concat(String(f)," is deprecated. Please use ").concat(String(m)," instead.")),t[m]=t[f]}else{var y=g.message,v=g.version;d.add("As of v".concat(v,", ").concat(String(f)," is deprecated. ").concat(y??""))}var C=t[f];if(!(C==null||C===!1)){var S=o[f],E;if(S)if(typeof S=="function"){var T=S(t,r.gridOptions);if(!T)return;if("objectName"in T){var O=t[f];if(Array.isArray(O)){O.forEach(function(ae){r.processOptions(ae,T)});return}r.processOptions(t[f],T);return}E=T}else E=S;else return;var R=E.module,M=E.dependencies,H=E.supportedRowModels;if(H){var V=(p=r.gridOptions.rowModelType)!==null&&p!==void 0?p:"clientSide";if(!H.includes(V)){d.add("".concat(String(f)," is not supported with the '").concat(V,"' row model."));return}}if(R){var X=Array.isArray(R)?R:[R],ce=!0;if(X.forEach(function(ae){mt.__assertRegistered(ae,String(f),r.gridOptionsService.getGridId())||(ce=!1,d.add("".concat(String(f)," is only available when ").concat(ae," is loaded.")))}),!ce)return}if(M){var Me=r.checkForWarning(f,M,t);if(Me){d.add(Me);return}}}}),d.size>0&&d.forEach(function(f){Ae(f)})},e.prototype.checkForWarning=function(t,n,r){if(typeof n=="function")return n(r,this.gridOptions);var o=Object.entries(n),s=o.find(function(c){var d=rc(c,2),h=d[0],f=d[1],p=r[h];return!f.includes(p)});if(!s)return null;var a=rc(s,2),l=a[0],u=a[1];return u.length>1?"'".concat(String(t),"' requires '").concat(l,"' to be one of [").concat(u.join(", "),"]."):"'".concat(String(t),"' requires '").concat(l,"' to be ").concat(u[0],".")},e.prototype.checkProperties=function(t,n,r,o,s){var a=["__ob__","__v_skip","__metadata__"],l=az(Object.getOwnPropertyNames(t),Gg(Gg(Gg([],rc(a),!1),rc(n),!1),rc(r),!1),r);if(fi(l,function(c,d){Ae("invalid ".concat(o," property '").concat(c,"' did you mean any of these: ").concat(d.slice(0,8).join(", ")))}),Object.keys(l).length>0&&s){var u=this.getFrameworkOverrides().getDocLink(s);Ae("to see all the valid ".concat(o," properties please check: ").concat(u))}},qx([_("gridOptions")],e.prototype,"gridOptions",void 0),qx([Z],e.prototype,"init",null),e=qx([ne("validationService")],e),e}(Y),aye=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),rW=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},lye=function(i){aye(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.syncEventListeners=new Map,t.asyncEventListeners=new Map,t.syncGlobalEventListeners=new Set,t.asyncGlobalEventListeners=new Set,t}return e.prototype.postConstruct=function(){this.frameworkEventWrappingService=new CM(this.getFrameworkOverrides())},e.prototype.addEventListener=function(t,n){var r=this.frameworkEventWrappingService.wrap(n),o=this.gridOptionsService.useAsyncEvents(),s=o?this.asyncEventListeners:this.syncEventListeners;s.has(t)||s.set(t,new Set),s.get(t).add(r),this.eventService.addEventListener(t,r,o)},e.prototype.addGlobalListener=function(t){var n=this.frameworkEventWrappingService.wrapGlobal(t),r=this.gridOptionsService.useAsyncEvents(),o=r?this.asyncGlobalEventListeners:this.syncGlobalEventListeners;o.add(n),this.eventService.addGlobalListener(n,r)},e.prototype.removeEventListener=function(t,n){var r,o=this.frameworkEventWrappingService.unwrap(n),s=this.asyncEventListeners.get(t),a=!!s?.delete(o);a||(r=this.asyncEventListeners.get(t))===null||r===void 0||r.delete(o),this.eventService.removeEventListener(t,o,a)},e.prototype.removeGlobalListener=function(t){var n=this.frameworkEventWrappingService.unwrapGlobal(t),r=this.asyncGlobalEventListeners.delete(n);r||this.syncGlobalEventListeners.delete(n),this.eventService.removeGlobalListener(n,r)},e.prototype.destroyEventListeners=function(t,n){var r=this;t.forEach(function(o,s){o.forEach(function(a){return r.eventService.removeEventListener(s,a,n)}),o.clear()}),t.clear()},e.prototype.destroyGlobalListeners=function(t,n){var r=this;t.forEach(function(o){return r.eventService.removeGlobalListener(o,n)}),t.clear()},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.destroyGlobalListeners(this.asyncGlobalEventListeners,!0)},rW([Z],e.prototype,"postConstruct",null),e=rW([ne("apiEventService")],e),e}(Y),uye=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Fw=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},cye=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},dye=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},hye=function(i){uye(e,i);function e(){var t=i.call(this,'<span class="ag-paging-page-size"></span>')||this;return t.hasEmptyOption=!1,t.handlePageSizeItemSelected=function(){if(t.selectPageSizeComp){var n=t.selectPageSizeComp.getValue();if(n){var r=Number(n);isNaN(r)||r<1||r===t.paginationProxy.getPageSize()||(t.paginationProxy.setPageSize(r,"pageSizeSelector"),t.hasEmptyOption&&t.toggleSelectDisplay(!0),t.selectPageSizeComp.getFocusableElement().focus())}}},t}return e.prototype.init=function(){var t=this;this.addManagedPropertyListener("paginationPageSizeSelector",function(){t.onPageSizeSelectorValuesChange()}),this.addManagedListener(this.eventService,w.EVENT_PAGINATION_CHANGED,function(n){return t.handlePaginationChanged(n)})},e.prototype.handlePaginationChanged=function(t){if(!(!this.selectPageSizeComp||!t?.newPageSize)){var n=this.paginationProxy.getPageSize();this.getPageSizeSelectorValues().includes(n)?this.selectPageSizeComp.setValue(n.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}},e.prototype.toggleSelectDisplay=function(t){this.selectPageSizeComp&&this.reset(),t&&(this.reloadPageSizesSelector(),this.selectPageSizeComp&&this.appendChild(this.selectPageSizeComp))},e.prototype.reset=function(){Wn(this.getGui()),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0)},e.prototype.onPageSizeSelectorValuesChange=function(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()},e.prototype.shouldShowPageSizeSelector=function(){return this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel")&&!this.gridOptionsService.get("paginationAutoPageSize")&&this.gridOptionsService.get("paginationPageSizeSelector")!==!1},e.prototype.reloadPageSizesSelector=function(){var t=this,n=this.getPageSizeSelectorValues(),r=this.paginationProxy.getPageSize(),o=!r||!n.includes(r);o&&(n.unshift(""),Ae(`The paginationPageSize grid option is set to a value that is not in the list of page size options.
                Please make sure that the paginationPageSize grid option is set to one of the values in the 
                paginationPageSizeSelector array, or set the paginationPageSizeSelector to false to hide the page size selector.`)),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0);var s=this.localeService.getLocaleTextFunc(),a=s("pageSizeSelectorLabel","Page Size:"),l=n.map(function(c){return{value:String(c),text:String(c)}}),u=s("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new hS).addOptions(l).setValue(String(o?"":r)).setAriaLabel(u).setLabel(a).onValueChange(function(){return t.handlePageSizeItemSelected()}),this.hasEmptyOption=o},e.prototype.getPageSizeSelectorValues=function(){var t=[20,50,100],n=this.gridOptionsService.get("paginationPageSizeSelector");return!Array.isArray(n)||!this.validateValues(n)?t:dye([],cye(n),!1).sort(function(r,o){return r-o})},e.prototype.validateValues=function(t){if(!t.length)return Ae(`The paginationPageSizeSelector grid option is an empty array. This is most likely a mistake.
                If you want to hide the page size selector, please set the paginationPageSizeSelector to false.`),!1;for(var n=0;n<t.length;n++){var r=t[n],o=typeof r=="number",s=r>0;if(!o)return Ae(`The paginationPageSizeSelector grid option contains a non-numeric value.
                    Please make sure that all values in the paginationPageSizeSelector array are numbers.`),!1;if(!s)return Ae(`The paginationPageSizeSelector grid option contains a negative number or zero.
                    Please make sure that all values in the paginationPageSizeSelector array are positive.`),!1}return!0},e.prototype.destroy=function(){this.toggleSelectDisplay(!1),i.prototype.destroy.call(this)},Fw([_("localeService")],e.prototype,"localeService",void 0),Fw([_("gridOptionsService")],e.prototype,"gridOptionsService",void 0),Fw([_("paginationProxy")],e.prototype,"paginationProxy",void 0),Fw([Z],e.prototype,"init",null),e}(Fe),oW=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},sW=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))};function Kz(i,e,t){if(!e)return Ao("No gridOptions provided to createGrid"),{};var n=Yz.getCoercedGridOptions(e),r=new Qz().create(i,n,function(s){var a=new $z(i);s.createBean(a)},void 0,t);if(!Object.isFrozen(e)&&!t?.frameworkOverrides){var o="https://ag-grid.com/javascript-data-grid/grid-interface/#grid-api";Object.defineProperty(e,"api",{get:function(){Ao("gridOptions.api is no longer supported. See ".concat(o,"."))},configurable:!0}),Object.defineProperty(e,"columnApi",{get:function(){Ao("gridOptions.columnApi is no longer supported and all methods moved to the grid api. See ".concat(o,"."))},configurable:!0})}return r}var _Be=function(){function i(e,t,n){var r=this;if(Ae("Since v31 new Grid(...) is deprecated. Use createGrid instead: `const gridApi = createGrid(...)`. The grid api is returned from createGrid and will not be available on gridOptions."),!t){Ao("No gridOptions provided to the grid");return}this.gridOptions=t;var o=new Qz().create(e,t,function(s){var a=new $z(e),l=s.createBean(a);l.addDestroyFunc(function(){r.destroy()})},void 0,n);this.gridOptions.api=o,this.gridOptions.columnApi=new cm(o)}return i.prototype.destroy=function(){var e;this.gridOptions&&((e=this.gridOptions.api)===null||e===void 0||e.destroy(),delete this.gridOptions.api,delete this.gridOptions.columnApi)},i}(),fye=1,Qz=function(){function i(){}return i.prototype.create=function(e,t,n,r,o){var s,a=!!t.debug,l=(s=t.gridId)!==null&&s!==void 0?s:String(fye++),u=this.getRegisteredModules(o,l),c=this.createBeansList(t.rowModelType,u,l),d=this.createProvidedBeans(e,t,o);if(!c){Ao("Failed to create grid.");return}var h={providedBeanInstances:d,beanClasses:c,debug:a,gridId:l},f=new lI("Context",function(){return h.debug}),p=new _le(h,f),g=p.getBean("beans");return this.registerModuleUserComponents(g,u),this.registerStackComponents(g,u),this.registerControllers(g,u),n(p),g.syncService.start(),r&&r(p),g.gridApi},i.prototype.registerControllers=function(e,t){t.forEach(function(n){n.controllers&&n.controllers.forEach(function(r){return e.ctrlsFactory.register(r)})})},i.prototype.registerStackComponents=function(e,t){var n=this.createAgStackComponentsList(t);e.agStackComponentsRegistry.setupComponents(n)},i.prototype.getRegisteredModules=function(e,t){var n=e?e.modules:null,r=mt.__getRegisteredModules(t),o=[],s={},a=function(l,u,c){var d=function(h){s[h.moduleName]||(s[h.moduleName]=!0,o.push(h),mt.__register(h,l,c))};d(u),u.dependantModules&&u.dependantModules.forEach(function(h){return a(l,h,c)})};return n&&n.forEach(function(l){return a(!0,l,t)}),r&&r.forEach(function(l){return a(!mt.__isPackageBased(),l,void 0)}),o},i.prototype.registerModuleUserComponents=function(e,t){var n=this.extractModuleEntity(t,function(r){return r.userComponents?r.userComponents:[]});n.forEach(function(r){e.userComponentRegistry.registerDefaultComponent(r.componentName,r.componentClass)})},i.prototype.createProvidedBeans=function(e,t,n){var r=n?n.frameworkOverrides:null;me(r)&&(r=new aI);var o={gridOptions:t,eGridDiv:e,globalEventListener:n?n.globalEventListener:null,globalSyncEventListener:n?n.globalSyncEventListener:null,frameworkOverrides:r};return n&&n.providedBeanInstances&&Object.assign(o,n.providedBeanInstances),o},i.prototype.createAgStackComponentsList=function(e){var t=[{componentName:"AgCheckbox",componentClass:fS},{componentName:"AgRadioButton",componentClass:Cz},{componentName:"AgToggleButton",componentClass:gge},{componentName:"AgInputTextField",componentClass:vc},{componentName:"AgInputTextArea",componentClass:vge},{componentName:"AgInputNumberField",componentClass:XM},{componentName:"AgInputDateField",componentClass:_ge},{componentName:"AgInputRange",componentClass:wge},{componentName:"AgRichSelect",componentClass:Rge},{componentName:"AgSelect",componentClass:hS},{componentName:"AgSlider",componentClass:Oge},{componentName:"AgGridBody",componentClass:vfe},{componentName:"AgHeaderRoot",componentClass:Tpe},{componentName:"AgSortIndicator",componentClass:eI},{componentName:"AgPagination",componentClass:nve},{componentName:"AgPageSizeSelector",componentClass:hye},{componentName:"AgOverlayWrapper",componentClass:rve},{componentName:"AgGroupComponent",componentClass:Mge},{componentName:"AgPanel",componentClass:Wz},{componentName:"AgDialog",componentClass:Bge},{componentName:"AgRowContainer",componentClass:Pfe},{componentName:"AgFakeHorizontalScroll",componentClass:xve},{componentName:"AgFakeVerticalScroll",componentClass:$ve},{componentName:"AgAutocomplete",componentClass:Qge}],n=this.extractModuleEntity(e,function(r){return r.agStackComponents?r.agStackComponents:[]});return t=t.concat(n),t},i.prototype.createBeansList=function(e,t,n){e===void 0&&(e="clientSide");var r=t.filter(function(u){return!u.rowModel||u.rowModel===e}),o={clientSide:de.ClientSideRowModelModule,infinite:de.InfiniteRowModelModule,serverSide:de.ServerSideRowModelModule,viewport:de.ViewportRowModelModule};if(!o[e]){Ao("Could not find row model for rowModelType = "+e);return}if(mt.__assertRegistered(o[e],"rowModelType = '".concat(e,"'"),n)){var s=[Gz,sve,uve,mve,Ime,kz,Rde,Hme,Bme,Gpe,Wde,Xme,Ape,Uve,sye,oge,qde,nue,Pl,Yz,Wge,zz,Zde,Qle,wpe,dge,ege,hme,Nle,gme,rme,bfe,Fme,ume,yme,Jle,$pe,xpe,xn,cm,Dme,wfe,Kme,tme,ige,fge,_fe,bme,Ame,xme,eve,Vle,kme,jpe,pve,sue,yve,_ve,uge,wve,Eve,Ive,Fve,Rve,Yve,Qve,Vz,Xve,eye,rye,Wpe,lye],a=this.extractModuleEntity(r,function(u){return u.beans?u.beans:[]});s.push.apply(s,sW([],oW(a),!1));var l=[];return s.forEach(function(u){l.indexOf(u)<0&&l.push(u)}),l}},i.prototype.extractModuleEntity=function(e,t){return[].concat.apply([],sW([],oW(e.map(t)),!1))},i}(),Zz=function(){function i(){}return i.prototype.wrap=function(e,t,n,r){var o=this;n===void 0&&(n=[]);var s=this.createWrapper(e,r);return t.forEach(function(a){o.createMethod(s,a,!0)}),n.forEach(function(a){o.createMethod(s,a,!1)}),s},i.prototype.unwrap=function(e){return e},i.prototype.createMethod=function(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))},i.prototype.createMethodProxy=function(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&console.warn("AG Grid: Framework component is missing the method "+t+"()"),null)}},i}();var Ah=typeof global>"u"?{}:global;Ah.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;Ah.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;Ah.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;Ah.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;Ah.Node=typeof Node>"u"?{}:Node;Ah.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var Bg=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},jg=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},pye=function(){function i(e,t,n,r,o,s){this.nextId=0,this.allNodesMap={},this.rootNode=e,this.gridOptionsService=t,this.eventService=n,this.columnModel=r,this.beans=s,this.selectionService=o,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=i.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}return i.prototype.getCopyOfNodesMap=function(){return Ne.cloneObject(this.allNodesMap)},i.prototype.getRowNode=function(e){return this.allNodesMap[e]},i.prototype.setRowData=function(e){var t=this;if(typeof e=="string"){console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first");return}this.dispatchRowDataUpdateStartedEvent(e);var n=this.rootNode,r=this.rootNode.sibling;n.childrenAfterFilter=null,n.childrenAfterGroup=null,n.childrenAfterAggFilter=null,n.childrenAfterSort=null,n.childrenMapped=null,n.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?n.allLeafChildren=e.map(function(o){return t.createNode(o,t.rootNode,i.TOP_LEVEL)}):(n.allLeafChildren=[],n.childrenAfterGroup=[]),r&&(r.childrenAfterFilter=n.childrenAfterFilter,r.childrenAfterGroup=n.childrenAfterGroup,r.childrenAfterAggFilter=n.childrenAfterAggFilter,r.childrenAfterSort=n.childrenAfterSort,r.childrenMapped=n.childrenMapped,r.allLeafChildren=n.allLeafChildren)},i.prototype.updateRowData=function(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);var n={remove:[],update:[],add:[]},r=[];return this.executeRemove(e,n,r),this.executeUpdate(e,n,r),this.executeAdd(e,n),this.updateSelection(r,"rowDataChanged"),t&&Ne.sortRowNodesByOrder(this.rootNode.allLeafChildren,t),n},i.prototype.dispatchRowDataUpdateStartedEvent=function(e){var t={type:w.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:e?.length?e[0]:null};this.eventService.dispatchEvent(t)},i.prototype.updateSelection=function(e,t){var n=e.length>0;if(n&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),this.selectionService.updateGroupsFromChildrenSelections(t),n){var r={type:w.EVENT_SELECTION_CHANGED,source:t};this.eventService.dispatchEvent(r)}},i.prototype.executeAdd=function(e,t){var n=this,r,o=e.add,s=e.addIndex;if(!Ne.missingOrEmpty(o)){var a=o.map(function(g){return n.createNode(g,n.rootNode,i.TOP_LEVEL)});if(typeof s=="number"&&s>=0){var l=this.rootNode.allLeafChildren,u=l.length,c=s,d=this.gridOptionsService.get("treeData");if(d&&s>0&&u>0){for(var h=0;h<u;h++)if(((r=l[h])===null||r===void 0?void 0:r.rowIndex)==s-1){c=h+1;break}}var f=l.slice(0,c),p=l.slice(c,l.length);this.rootNode.allLeafChildren=jg(jg(jg([],Bg(f),!1),Bg(a),!1),Bg(p),!1)}else this.rootNode.allLeafChildren=jg(jg([],Bg(this.rootNode.allLeafChildren),!1),Bg(a),!1);this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),t.add=a}},i.prototype.executeRemove=function(e,t,n){var r=this,o=e.remove;if(!Ne.missingOrEmpty(o)){var s={};o.forEach(function(a){var l=r.lookupRowNode(a);l&&(l.isSelected()&&n.push(l),l.clearRowTopAndRowIndex(),s[l.id]=!0,delete r.allNodesMap[l.id],t.remove.push(l))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(a){return!s[a.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},i.prototype.executeUpdate=function(e,t,n){var r=this,o=e.update;Ne.missingOrEmpty(o)||o.forEach(function(s){var a=r.lookupRowNode(s);a&&(a.updateData(s),!a.selectable&&a.isSelected()&&n.push(a),r.setMasterForRow(a,s,i.TOP_LEVEL,!1),t.update.push(a))})},i.prototype.lookupRowNode=function(e){var t=this.gridOptionsService.getCallback("getRowId"),n;if(t){var r=t({data:e,level:0});if(n=this.allNodesMap[r],!n)return console.error("AG Grid: could not find row id=".concat(r,", data item was not found for this id")),null}else if(n=this.rootNode.allLeafChildren.find(function(o){return o.data===e}),!n)return console.error("AG Grid: could not find data item as object was not found",e),console.error("Consider using getRowId to help the Grid find matching row data"),null;return n||null},i.prototype.createNode=function(e,t,n){var r=new ke(this.beans);r.group=!1,this.setMasterForRow(r,e,n,!0);var o=this.gridOptionsService.get("suppressParentsInRowNodes");return t&&!o&&(r.parent=t),r.level=n,r.setDataAndId(e,this.nextId.toString()),this.allNodesMap[r.id]&&console.warn("AG Grid: duplicate node id '".concat(r.id,"' detected from getRowId callback, this could cause issues in your grid.")),this.allNodesMap[r.id]=r,this.nextId++,r},i.prototype.setMasterForRow=function(e,t,n,r){var o=this.gridOptionsService.get("treeData");if(o)e.setMaster(!1),r&&(e.expanded=!1);else{var s=this.gridOptionsService.get("masterDetail");if(s){var a=this.gridOptionsService.get("isRowMaster");a?e.setMaster(a(t)):e.setMaster(!0)}else e.setMaster(!1);if(r){var l=this.columnModel.getRowGroupColumns(),u=l?l.length:0,c=n+u;e.expanded=e.master?this.isExpanded(c):!1}}},i.prototype.isExpanded=function(e){var t=this.gridOptionsService.get("groupDefaultExpanded");return t===-1?!0:e<t},i.TOP_LEVEL=0,i.ROOT_NODE_ID="ROOT_NODE_ID",i}(),gye=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$i=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},qi=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Yi=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return i.concat(o||Array.prototype.slice.call(e))},da=function(i){return i[i.Normal=0]="Normal",i[i.AfterFilter=1]="AfterFilter",i[i.AfterFilterAndSort=2]="AfterFilterAndSort",i[i.PivotNodes=3]="PivotNodes",i}(da||{}),mye=function(i){gye(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.onRowHeightChanged_debounced=Ne.debounce(t.onRowHeightChanged.bind(t),100),t.rowsToDisplay=[],t.hasStarted=!1,t.shouldSkipSettingDataOnStart=!1,t.isRefreshingModel=!1,t.rowCountReady=!1,t}return e.prototype.init=function(){var t=this,n=this.refreshModel.bind(this,{step:Je.EVERYTHING}),r=!this.gridOptionsService.get("suppressAnimationFrame"),o=this.refreshModel.bind(this,{step:Je.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:r});this.addManagedListener(this.eventService,w.EVENT_NEW_COLUMNS_LOADED,o),this.addManagedListener(this.eventService,w.EVENT_COLUMN_ROW_GROUP_CHANGED,n),this.addManagedListener(this.eventService,w.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,w.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:Je.PIVOT})),this.addManagedListener(this.eventService,w.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,w.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,w.EVENT_COLUMN_PIVOT_MODE_CHANGED,n),this.addManagedListener(this.eventService,w.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this)),this.addManagedListener(this.eventService,w.EVENT_GRID_READY,function(){return t.onGridReady()}),this.addPropertyListeners(),this.rootNode=new ke(this.beans),this.nodeManager=new pye(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans)},e.prototype.addPropertyListeners=function(){var t=this,n=new Set(["treeData","masterDetail"]),r=new Set(["suppressParentsInRowNodes","groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),o=new Set(["excludeChildrenWhenTreeDataFiltering"]),s=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),a=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly"]),l=new Set(["postSortRows","groupDisplayType","accentedSort"]),u=new Set([]),c=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter"]),d=Yi(Yi(Yi(Yi(Yi(Yi(Yi(Yi(Yi([],qi(n),!1),qi(r),!1),qi(o),!1),qi(s),!1),qi(s),!1),qi(a),!1),qi(l),!1),qi(u),!1),qi(c),!1);this.addManagedPropertyListeners(d,function(h){var f,p=(f=h.changeSet)===null||f===void 0?void 0:f.properties;if(p){var g=function(m){return p.some(function(v){return m.has(v)})};if(g(n)){t.setRowData(t.rootNode.allLeafChildren.map(function(m){return m.data}));return}if(g(r)){t.refreshModel({step:Je.EVERYTHING});return}if(g(o)){t.refreshModel({step:Je.FILTER});return}if(g(s)){t.refreshModel({step:Je.PIVOT});return}if(g(a)){t.refreshModel({step:Je.AGGREGATE});return}if(g(l)){t.refreshModel({step:Je.SORT});return}if(g(u)){t.refreshModel({step:Je.FILTER_AGGREGATES});return}g(c)&&t.refreshModel({step:Je.MAP})}}),this.addManagedPropertyListener("rowHeight",function(){return t.resetRowHeights()})},e.prototype.start=function(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()},e.prototype.setInitialData=function(){var t=this.gridOptionsService.get("rowData");t&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(t))},e.prototype.ensureRowHeightsValid=function(t,n,r,o){var s,a=!1;do{s=!1;for(var l=this.getRowIndexAtPixel(t),u=this.getRowIndexAtPixel(n),c=Math.max(l,r),d=Math.min(u,o),h=c;h<=d;h++){var f=this.getRow(h);if(f.rowHeightEstimated){var p=this.gridOptionsService.getRowHeightForNode(f);f.setRowHeight(p.height),s=!0,a=!0}}s&&this.setRowTopAndRowIndex()}while(s);return a},e.prototype.setRowTopAndRowIndex=function(){for(var t=this.environment.getDefaultRowHeight(),n=0,r=new Set,o=this.gridOptionsService.isDomLayout("normal"),s=0;s<this.rowsToDisplay.length;s++){var a=this.rowsToDisplay[s];if(a.id!=null&&r.add(a.id),a.rowHeight==null){var l=this.gridOptionsService.getRowHeightForNode(a,o,t);a.setRowHeight(l.height,l.estimated)}a.setRowTop(n),a.setRowIndex(s),n+=a.rowHeight}return r},e.prototype.clearRowTopAndRowIndex=function(t,n){var r=t.isActive(),o=function(a){a&&a.id!=null&&!n.has(a.id)&&a.clearRowTopAndRowIndex()},s=function(a){if(o(a),o(a.detailNode),o(a.sibling),a.hasChildren()&&a.childrenAfterGroup){var l=a.level==-1,u=r&&!l&&!a.expanded;u||a.childrenAfterGroup.forEach(s)}};s(this.rootNode)},e.prototype.ensureRowsAtPixel=function(t,n,r){var o=this;r===void 0&&(r=0);var s=this.getRowIndexAtPixel(n),a=this.getRow(s),l=!this.gridOptionsService.get("suppressAnimationFrame");return a===t[0]?!1:(t.forEach(function(u){Ne.removeFromArray(o.rootNode.allLeafChildren,u)}),t.forEach(function(u,c){Ne.insertIntoArray(o.rootNode.allLeafChildren,u,Math.max(s+r,0)+c)}),this.refreshModel({step:Je.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:l}),!0)},e.prototype.highlightRowAtPixel=function(t,n){var r=n!=null?this.getRowIndexAtPixel(n):null,o=r!=null?this.getRow(r):null;if(!o||!t||o===t||n==null){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null);return}var s=this.getHighlightPosition(n,o);this.lastHighlightedRow&&this.lastHighlightedRow!==o&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),o.setHighlighted(s),this.lastHighlightedRow=o},e.prototype.getHighlightPosition=function(t,n){if(!n){var r=this.getRowIndexAtPixel(t);if(n=this.getRow(r||0),!n)return Ml.Below}var o=n.rowTop,s=n.rowHeight;return t-o<s/2?Ml.Above:Ml.Below},e.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},e.prototype.isLastRowIndexKnown=function(){return!0},e.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},e.prototype.getTopLevelRowCount=function(){var t=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(t)return 1;var n=this.rootNode.childrenAfterAggFilter;return n?n.length:0},e.prototype.getTopLevelRowDisplayedIndex=function(t){var n=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(n)return t;var r=this.rootNode.childrenAfterSort[t];if(this.gridOptionsService.get("groupHideOpenParents"))for(;r.expanded&&r.childrenAfterSort&&r.childrenAfterSort.length>0;)r=r.childrenAfterSort[0];return r.rowIndex},e.prototype.getRowBounds=function(t){if(Ne.missing(this.rowsToDisplay))return null;var n=this.rowsToDisplay[t];return n?{rowTop:n.rowTop,rowHeight:n.rowHeight}:null},e.prototype.onRowGroupOpened=function(){var t=this.gridOptionsService.isAnimateRows();this.refreshModel({step:Je.MAP,keepRenderedRows:!0,animate:t})},e.prototype.onFilterChanged=function(t){if(!t.afterDataChange){var n=this.gridOptionsService.isAnimateRows(),r=t.columns.length===0||t.columns.some(function(s){return s.isPrimary()}),o=r?Je.FILTER:Je.FILTER_AGGREGATES;this.refreshModel({step:o,keepRenderedRows:!0,animate:n})}},e.prototype.onSortChanged=function(){var t=this.gridOptionsService.isAnimateRows();this.refreshModel({step:Je.SORT,keepRenderedRows:!0,animate:t,keepEditingRows:!0})},e.prototype.getType=function(){return"clientSide"},e.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:Je.PIVOT}):this.refreshModel({step:Je.AGGREGATE})},e.prototype.createChangePath=function(t){var n=Ne.missingOrEmpty(t),r=new yS(!1,this.rootNode);return(n||this.gridOptionsService.get("treeData"))&&r.setInactive(),r},e.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(t){if(!this.gridOptionsService.get("suppressModelUpdateAfterUpdateTransaction")||t.rowNodeTransactions==null)return!1;var n=t.rowNodeTransactions.filter(function(o){return o.add!=null&&o.add.length>0||o.remove!=null&&o.remove.length>0}),r=n==null||n.length==0;return r},e.prototype.buildRefreshModelParams=function(t){var n=Je.EVERYTHING,r={everything:Je.EVERYTHING,group:Je.EVERYTHING,filter:Je.FILTER,map:Je.MAP,aggregate:Je.AGGREGATE,sort:Je.SORT,pivot:Je.PIVOT};if(Ne.exists(t)&&(n=r[t]),Ne.missing(n)){console.error("AG Grid: invalid step ".concat(t,", available steps are ").concat(Object.keys(r).join(", ")));return}var o=!this.gridOptionsService.get("suppressAnimationFrame"),s={step:n,keepRenderedRows:!0,keepEditingRows:!0,animate:o};return s},e.prototype.refreshModel=function(t){if(!(!this.hasStarted||this.isRefreshingModel)){var n=typeof t=="object"&&"step"in t?t:this.buildRefreshModelParams(t);if(n&&!this.isSuppressModelUpdateAfterUpdateTransaction(n)){var r=this.createChangePath(n.rowNodeTransactions);switch(this.isRefreshingModel=!0,n.step){case Je.EVERYTHING:this.doRowGrouping(n.rowNodeTransactions,n.rowNodeOrder,r,!!n.afterColumnsChanged);case Je.FILTER:this.doFilter(r);case Je.PIVOT:this.doPivot(r);case Je.AGGREGATE:this.doAggregate(r);case Je.FILTER_AGGREGATES:this.doFilterAggregates(r);case Je.SORT:this.doSort(n.rowNodeTransactions,r);case Je.MAP:this.doRowsToDisplay()}var o=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(r,o),this.isRefreshingModel=!1;var s={type:w.EVENT_MODEL_UPDATED,animate:n.animate,keepRenderedRows:n.keepRenderedRows,newData:n.newData,newPage:!1,keepUndoRedoStack:n.keepUndoRedoStack};this.eventService.dispatchEvent(s)}}},e.prototype.isEmpty=function(){var t=Ne.missing(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return Ne.missing(this.rootNode)||t||!this.columnModel.isReady()},e.prototype.isRowsToRender=function(){return Ne.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},e.prototype.getNodesInRangeForSelection=function(t,n){var r=!n,o=!1,s=[],a=this.gridOptionsService.get("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(function(l){if(!o){if(r&&(l===n||l===t)&&(o=!0,l.group&&a)){s.push.apply(s,Yi([],qi(l.allLeafChildren),!1));return}if(!r){if(l!==n&&l!==t)return;r=!0}var u=!l.group||!a;if(u){s.push(l);return}}}),s},e.prototype.setDatasource=function(t){console.error("AG Grid: should never call setDatasource on clientSideRowController")},e.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},e.prototype.getRootNode=function(){return this.rootNode},e.prototype.getRow=function(t){return this.rowsToDisplay[t]},e.prototype.isRowPresent=function(t){return this.rowsToDisplay.indexOf(t)>=0},e.prototype.getRowIndexAtPixel=function(t){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;var n=0,r=this.rowsToDisplay.length-1;if(t<=0)return 0;var o=Ne.last(this.rowsToDisplay);if(o.rowTop<=t)return this.rowsToDisplay.length-1;for(var s=-1,a=-1;;){var l=Math.floor((n+r)/2),u=this.rowsToDisplay[l];if(this.isRowInPixel(u,t))return l;u.rowTop<t?n=l+1:u.rowTop>t&&(r=l-1);var c=s===n&&a===r;if(c)return l;s=n,a=r}},e.prototype.isRowInPixel=function(t,n){var r=t.rowTop,o=t.rowTop+t.rowHeight,s=r<=n&&o>n;return s},e.prototype.forEachLeafNode=function(t){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(n,r){return t(n,r)})},e.prototype.forEachNode=function(t,n){n===void 0&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:Yi([],qi(this.rootNode.childrenAfterGroup||[]),!1),callback:t,recursionType:da.Normal,index:0,includeFooterNodes:n})},e.prototype.forEachNodeAfterFilter=function(t,n){n===void 0&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:Yi([],qi(this.rootNode.childrenAfterAggFilter||[]),!1),callback:t,recursionType:da.AfterFilter,index:0,includeFooterNodes:n})},e.prototype.forEachNodeAfterFilterAndSort=function(t,n){n===void 0&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:Yi([],qi(this.rootNode.childrenAfterSort||[]),!1),callback:t,recursionType:da.AfterFilterAndSort,index:0,includeFooterNodes:n})},e.prototype.forEachPivotNode=function(t,n){n===void 0&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:t,recursionType:da.PivotNodes,index:0,includeFooterNodes:n})},e.prototype.recursivelyWalkNodesAndCallback=function(t){for(var n,r=t.nodes,o=t.callback,s=t.recursionType,a=t.includeFooterNodes,l=t.index,u=0;u<r.length;u++){var c=r[u];if(o(c,l++),c.hasChildren()&&!c.footer){var d=null;switch(s){case da.Normal:d=c.childrenAfterGroup;break;case da.AfterFilter:d=c.childrenAfterAggFilter;break;case da.AfterFilterAndSort:d=c.childrenAfterSort;break;case da.PivotNodes:d=c.leafGroup?null:c.childrenAfterSort;break}d&&(l=this.recursivelyWalkNodesAndCallback({nodes:Yi([],qi(d),!1),callback:o,recursionType:s,index:l,includeFooterNodes:a}))}}var h=(n=r[0])===null||n===void 0?void 0:n.parent;if(!a||!h)return l;var f=h===this.rootNode;if(f){var p=this.gridOptionsService.get("groupIncludeTotalFooter");if(!p)return l}else{var g=this.gridOptionsService.getGroupIncludeFooter();if(!g({node:h}))return l}return h.createFooter(),o(h.sibling,l++),l},e.prototype.doAggregate=function(t){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.doFilterAggregates=function(t){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:t}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},e.prototype.expandOrCollapseAll=function(t){var n=this.gridOptionsService.get("treeData"),r=this.columnModel.isPivotActive(),o=function(l){l&&l.forEach(function(u){var c=function(){u.expanded=t,o(u.childrenAfterGroup)};if(n){var d=Ne.exists(u.childrenAfterGroup);d&&c();return}if(r){var h=!u.leafGroup;h&&c();return}var f=u.group;f&&c()})};this.rootNode&&o(this.rootNode.childrenAfterGroup),this.refreshModel({step:Je.MAP});var s=t?"expandAll":"collapseAll",a={type:w.EVENT_EXPAND_COLLAPSE_ALL,source:s};this.eventService.dispatchEvent(a)},e.prototype.doSort=function(t,n){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,changedPath:n})},e.prototype.doRowGrouping=function(t,n,r,o){if(this.groupStage){if(t?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,rowNodeOrder:n,changedPath:r}):this.groupStage.execute({rowNode:this.rootNode,changedPath:r,afterColumnsChanged:o}),this.gridOptionsService.get("groupSelectsChildren")){var s=this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",r);if(s){var a={type:w.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"};this.eventService.dispatchEvent(a)}}}else this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren();this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:w.EVENT_ROW_COUNT_READY})},e.prototype.doFilter=function(t){this.filterStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.doPivot=function(t){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},e.prototype.getRowNode=function(t){var n=typeof t=="string"&&t.indexOf(ke.ID_PREFIX_ROW_GROUP)==0;if(n){var r=void 0;return this.forEachNode(function(o){o.id===t&&(r=o)}),r}return this.nodeManager.getRowNode(t)},e.prototype.setRowData=function(t){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(t),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()},e.prototype.dispatchUpdateEventsAndRefresh=function(){var t={type:w.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(t),this.refreshModel({step:Je.EVERYTHING,newData:!0})},e.prototype.batchUpdateRowData=function(t,n){var r=this;if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];var o=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){r.executeBatchUpdateRowData()},o)}this.rowDataTransactionBatch.push({rowDataTransaction:t,callback:n})},e.prototype.flushAsyncTransactions=function(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},e.prototype.executeBatchUpdateRowData=function(){var t=this;this.valueCache.onDataChanged();var n=[],r=[],o=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(a){var l=t.nodeManager.updateRowData(a.rowDataTransaction,void 0);r.push(l),a.callback&&n.push(a.callback.bind(null,l)),typeof a.rowDataTransaction.addIndex=="number"&&(o=!0)}),this.commonUpdateRowData(r,void 0,o),n.length>0&&window.setTimeout(function(){n.forEach(function(a){return a()})},0),r.length>0){var s={type:w.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:r};this.eventService.dispatchEvent(s)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},e.prototype.updateRowData=function(t,n){this.valueCache.onDataChanged();var r=this.nodeManager.updateRowData(t,n),o=typeof t.addIndex=="number";return this.commonUpdateRowData([r],n,o),r},e.prototype.createRowNodeOrder=function(){var t=this.gridOptionsService.get("suppressMaintainUnsortedOrder");if(!t){var n={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var r=0;r<this.rootNode.allLeafChildren.length;r++){var o=this.rootNode.allLeafChildren[r];n[o.id]=r}return n}},e.prototype.commonUpdateRowData=function(t,n,r){if(this.hasStarted){var o=!this.gridOptionsService.get("suppressAnimationFrame");r&&(n=this.createRowNodeOrder());var s={type:w.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(s),this.refreshModel({step:Je.EVERYTHING,rowNodeTransactions:t,rowNodeOrder:n,keepRenderedRows:!0,keepEditingRows:!0,animate:o})}},e.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},e.prototype.onRowHeightChanged=function(){this.refreshModel({step:Je.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})},e.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},e.prototype.resetRowHeights=function(){var t=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),t&&this.onRowHeightChanged()},e.prototype.resetRowHeightsForAllRowNodes=function(){var t=!1;return this.forEachNode(function(n){n.setRowHeight(n.rowHeight,!0);var r=n.detailNode;r&&r.setRowHeight(r.rowHeight,!0),n.sibling&&n.sibling.setRowHeight(n.sibling.rowHeight,!0),t=!0}),t},e.prototype.onGridStylesChanges=function(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()},e.prototype.onGridReady=function(){this.hasStarted||this.setInitialData()},e.prototype.isRowDataLoaded=function(){return this.rowCountReady},$i([_("columnModel")],e.prototype,"columnModel",void 0),$i([_("selectionService")],e.prototype,"selectionService",void 0),$i([_("filterManager")],e.prototype,"filterManager",void 0),$i([_("valueCache")],e.prototype,"valueCache",void 0),$i([_("beans")],e.prototype,"beans",void 0),$i([_("filterStage")],e.prototype,"filterStage",void 0),$i([_("sortStage")],e.prototype,"sortStage",void 0),$i([_("flattenStage")],e.prototype,"flattenStage",void 0),$i([et("groupStage")],e.prototype,"groupStage",void 0),$i([et("aggregationStage")],e.prototype,"aggregationStage",void 0),$i([et("pivotStage")],e.prototype,"pivotStage",void 0),$i([et("filterAggregatesStage")],e.prototype,"filterAggregatesStage",void 0),$i([Z],e.prototype,"init",null),e=$i([ne("rowModel")],e),e}(Y),vye=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),aW=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},yye=function(i){vye(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.execute=function(t){var n=t.changedPath;this.filterService.filter(n)},aW([_("filterService")],e.prototype,"filterService",void 0),e=aW([ne("filterStage")],e),e}(Y),_ye=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Yx=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Cye=function(i){_ye(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.execute=function(t){var n=this,r=this.sortController.getSortOptions(),o=Ne.exists(r)&&r.length>0,s=o&&Ne.exists(t.rowNodeTransactions)&&this.gridOptionsService.get("deltaSort"),a=r.some(function(l){var u=n.gridOptionsService.isColumnsSortingCoupledToGroup();return u?l.column.isPrimary()&&l.column.isRowGroupActive():!!l.column.getColDef().showRowGroup});this.sortService.sort(r,o,s,t.rowNodeTransactions,t.changedPath,a)},Yx([_("sortService")],e.prototype,"sortService",void 0),Yx([_("sortController")],e.prototype,"sortController",void 0),e=Yx([ne("sortStage")],e),e}(Y),wye=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Kx=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Sye=function(i){wye(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.execute=function(t){var n=t.rowNode,r=[],o=this.columnModel.isPivotMode(),s=o&&n.leafGroup,a=s?[n]:n.childrenAfterSort,l=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(l,a,r,o,0);var u=r.length>0,c=!s&&u&&l.groupIncludeTotalFooter;return c&&(n.createFooter(),this.addRowNodeToRowsToDisplay(l,n.sibling,r,0)),r},e.prototype.getFlattenDetails=function(){var t=this.gridOptionsService.get("groupRemoveSingleChildren"),n=!t&&this.gridOptionsService.get("groupRemoveLowestSingleChildren");return{groupRemoveLowestSingleChildren:n,groupRemoveSingleChildren:t,isGroupMultiAutoColumn:this.gridOptionsService.isGroupMultiAutoColumn(),hideOpenParents:this.gridOptionsService.get("groupHideOpenParents"),groupIncludeTotalFooter:this.gridOptionsService.get("groupIncludeTotalFooter"),getGroupIncludeFooter:this.gridOptionsService.getGroupIncludeFooter()}},e.prototype.recursivelyAddToRowsToDisplay=function(t,n,r,o,s){if(!Ne.missingOrEmpty(n))for(var a=0;a<n.length;a++){var l=n[a],u=l.hasChildren(),c=o&&!u,d=t.groupRemoveSingleChildren&&u&&l.childrenAfterGroup.length===1,h=t.groupRemoveLowestSingleChildren&&u&&l.leafGroup&&l.childrenAfterGroup.length===1,f=o&&l.leafGroup,p=t.hideOpenParents&&l.expanded&&!l.master&&!f,g=!c&&!p&&!d&&!h;if(g&&this.addRowNodeToRowsToDisplay(t,l,r,s),!(o&&l.leafGroup)){if(u){var m=d||h;if(l.expanded||m){var v=m?s:s+1;this.recursivelyAddToRowsToDisplay(t,l.childrenAfterSort,r,o,v);var y=t.getGroupIncludeFooter({node:l});y?(l.createFooter(),this.addRowNodeToRowsToDisplay(t,l.sibling,r,v)):l.destroyFooter()}}else if(l.master&&l.expanded){var C=this.createDetailNode(l);this.addRowNodeToRowsToDisplay(t,C,r,s)}}}},e.prototype.addRowNodeToRowsToDisplay=function(t,n,r,o){r.push(n),n.setUiLevel(t.isGroupMultiAutoColumn?0:o)},e.prototype.createDetailNode=function(t){if(Ne.exists(t.detailNode))return t.detailNode;var n=new ke(this.beans);return n.detail=!0,n.selectable=!1,n.parent=t,Ne.exists(t.id)&&(n.id="detail_"+t.id),n.data=t.data,n.level=t.level+1,t.detailNode=n,n},Kx([_("columnModel")],e.prototype,"columnModel",void 0),Kx([_("beans")],e.prototype,"beans",void 0),e=Kx([ne("flattenStage")],e),e}(Y),bye=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Qx=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Eye=function(i){bye(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.sort=function(t,n,r,o,s,a){var l=this,u=this.gridOptionsService.get("groupMaintainOrder"),c=this.columnModel.getAllGridColumns().some(function(g){return g.isRowGroupActive()}),d={};r&&o&&(d=this.calculateDirtyNodes(o));var h=this.columnModel.isPivotMode(),f=this.gridOptionsService.getCallback("postSortRows"),p=function(g){var m;l.pullDownGroupDataForHideOpenParents(g.childrenAfterAggFilter,!0);var v=h&&g.leafGroup,y=u&&c&&!g.leafGroup&&!a;if(y){var C=(m=l.columnModel.getRowGroupColumns())===null||m===void 0?void 0:m[g.level+1],S=C?.getSort()===null,E=g.childrenAfterAggFilter.slice(0);if(g.childrenAfterSort&&!S){var T={};g.childrenAfterSort.forEach(function(R,M){T[R.id]=M}),E.sort(function(R,M){var H,V;return((H=T[R.id])!==null&&H!==void 0?H:0)-((V=T[M.id])!==null&&V!==void 0?V:0)})}g.childrenAfterSort=E}else!n||v?g.childrenAfterSort=g.childrenAfterAggFilter.slice(0):r?g.childrenAfterSort=l.doDeltaSort(g,d,s,t):g.childrenAfterSort=l.rowNodeSorter.doFullSort(g.childrenAfterAggFilter,t);if(g.sibling&&(g.sibling.childrenAfterSort=g.childrenAfterSort),l.updateChildIndexes(g),f){var O={nodes:g.childrenAfterSort};f(O)}};s&&s.forEachChangedNodeDepthFirst(p),this.updateGroupDataForHideOpenParents(s)},e.prototype.calculateDirtyNodes=function(t){var n={},r=function(o){o&&o.forEach(function(s){return n[s.id]=!0})};return t&&t.forEach(function(o){r(o.add),r(o.update),r(o.remove)}),n},e.prototype.doDeltaSort=function(t,n,r,o){var s=this,a=t.childrenAfterAggFilter,l=t.childrenAfterSort;if(!l)return this.rowNodeSorter.doFullSort(a,o);var u={},c=[];a.forEach(function(p){n[p.id]||!r.canSkip(p)?c.push(p):u[p.id]=!0});var d=l.filter(function(p){return u[p.id]}),h=function(p,g){return{currentPos:g,rowNode:p}},f=c.map(h).sort(function(p,g){return s.rowNodeSorter.compareRowNodes(o,p,g)});return this.mergeSortedArrays(o,f,d.map(h)).map(function(p){var g=p.rowNode;return g})},e.prototype.mergeSortedArrays=function(t,n,r){for(var o=[],s=0,a=0;s<n.length&&a<r.length;){var l=this.rowNodeSorter.compareRowNodes(t,n[s],r[a]);l<0?o.push(n[s++]):o.push(r[a++])}for(;s<n.length;)o.push(n[s++]);for(;a<r.length;)o.push(r[a++]);return o},e.prototype.updateChildIndexes=function(t){if(!Ne.missing(t.childrenAfterSort))for(var n=t.childrenAfterSort,r=0;r<n.length;r++){var o=n[r],s=r===0,a=r===t.childrenAfterSort.length-1;o.setFirstChild(s),o.setLastChild(a),o.setChildIndex(r)}},e.prototype.updateGroupDataForHideOpenParents=function(t){var n=this;if(this.gridOptionsService.get("groupHideOpenParents")){if(this.gridOptionsService.get("treeData"))return Ne.warnOnce("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;var r=function(o){n.pullDownGroupDataForHideOpenParents(o.childrenAfterSort,!1),o.childrenAfterSort.forEach(function(s){s.hasChildren()&&r(s)})};t&&t.executeFromRootNode(function(o){return r(o)})}},e.prototype.pullDownGroupDataForHideOpenParents=function(t,n){var r=this;!this.gridOptionsService.get("groupHideOpenParents")||Ne.missing(t)||t.forEach(function(o){var s=r.columnModel.getGroupDisplayColumns();s.forEach(function(a){var l=a.getColDef().showRowGroup;if(typeof l!="string"){console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}var u=l,c=r.columnModel.getPrimaryColumn(u),d=c===o.rowGroupColumn;if(!d)if(n)o.setGroupValue(a.getId(),void 0);else{var h=o.getFirstChildOfFirstChild(c);h&&o.setGroupValue(a.getId(),h.key)}})})},Qx([_("columnModel")],e.prototype,"columnModel",void 0),Qx([_("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),e=Qx([ne("sortService")],e),e}(Y),Dye=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),lW=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Tye=function(i){Dye(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.filter=function(t){var n=this.filterManager.isChildFilterPresent();this.filterNodes(n,t)},e.prototype.filterNodes=function(t,n){var r=this,o=function(u,c){u.hasChildren()&&t&&!c?u.childrenAfterFilter=u.childrenAfterGroup.filter(function(d){var h=d.childrenAfterFilter&&d.childrenAfterFilter.length>0,f=d.data&&r.filterManager.doesRowPassFilter({rowNode:d});return h||f}):u.childrenAfterFilter=u.childrenAfterGroup,u.sibling&&(u.sibling.childrenAfterFilter=u.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var s=function(u,c){if(u.childrenAfterGroup)for(var d=0;d<u.childrenAfterGroup.length;d++){var h=u.childrenAfterGroup[d],f=c||r.filterManager.doesRowPassFilter({rowNode:h});h.childrenAfterGroup?s(u.childrenAfterGroup[d],f):o(h,f)}o(u,c)},a=function(u){return s(u,!1)};n.executeFromRootNode(a)}else{var l=function(u){return o(u,!1)};n.forEachChangedNodeDepthFirst(l,!0)}},e.prototype.doingTreeDataFiltering=function(){return this.gridOptionsService.get("treeData")&&!this.gridOptionsService.get("excludeChildrenWhenTreeDataFiltering")},lW([_("filterManager")],e.prototype,"filterManager",void 0),e=lW([ne("filterService")],e),e}(Y),Rye=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ug=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Aye=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Oye=function(i){Rye(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t=this;this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",function(){return t.onRowDataUpdated()}))},e.prototype.isActive=function(){var t=this.gridOptionsService.exists("getRowId"),n=this.gridOptionsService.get("resetRowDataOnUpdate");return n?!1:t},e.prototype.setRowData=function(t){var n=this.createTransactionForRowData(t);if(n){var r=Aye(n,2),o=r[0],s=r[1];this.clientSideRowModel.updateRowData(o,s)}},e.prototype.createTransactionForRowData=function(t){if(Ne.missing(this.clientSideRowModel)){console.error("AG Grid: ImmutableService only works with ClientSideRowModel");return}var n=this.gridOptionsService.getCallback("getRowId");if(n==null){console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");return}var r={remove:[],update:[],add:[]},o=this.clientSideRowModel.getCopyOfNodesMap(),s=this.gridOptionsService.get("suppressMaintainUnsortedOrder"),a=s?void 0:{};return Ne.exists(t)&&t.forEach(function(l,u){var c=n({data:l,level:0}),d=o[c];if(a&&(a[c]=u),d){var h=d.data!==l;h&&r.update.push(l),o[c]=void 0}else r.add.push(l)}),Ne.iterateObject(o,function(l,u){u&&r.remove.push(u.data)}),[r,a]},e.prototype.onRowDataUpdated=function(){var t=this.gridOptionsService.get("rowData");t&&(this.isActive()?this.setRowData(t):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(t)))},Ug([_("rowModel")],e.prototype,"rowModel",void 0),Ug([_("rowRenderer")],e.prototype,"rowRenderer",void 0),Ug([_("selectionService")],e.prototype,"selectionService",void 0),Ug([Z],e.prototype,"postConstruct",null),e=Ug([ne("immutableService")],e),e}(Y),xye="31.0.3",Mye={version:xye,moduleName:de.ClientSideRowModelModule,rowModel:"clientSide",beans:[mye,yye,Cye,Sye,Eye,Tye,Oye]},Iye=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Zx=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},uW=function(i){Iye(e,i);function e(t,n,r){var o=i.call(this,t)||this;return o.parentCache=n,o.params=r,o.startRow=t*r.blockSize,o.endRow=o.startRow+r.blockSize,o}return e.prototype.postConstruct=function(){this.createRowNodes()},e.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},e.prototype.setDataAndId=function(t,n,r){Ne.exists(n)?t.setDataAndId(n,r.toString()):t.setDataAndId(void 0,void 0)},e.prototype.loadFromDatasource=function(){var t=this,n=this.createLoadParams();if(Ne.missing(this.params.datasource.getRows)){console.warn("AG Grid: datasource is missing getRows method");return}window.setTimeout(function(){t.params.datasource.getRows(n)},0)},e.prototype.processServerFail=function(){},e.prototype.createLoadParams=function(){var t={startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsService.getGridCommonParams().context};return t},e.prototype.forEachNode=function(t,n,r){var o=this;this.rowNodes.forEach(function(s,a){var l=o.startRow+a;l<r&&t(s,n.next())})},e.prototype.getLastAccessed=function(){return this.lastAccessed},e.prototype.getRow=function(t,n){n===void 0&&(n=!1),n||(this.lastAccessed=this.params.lastAccessedSequence.next());var r=t-this.startRow;return this.rowNodes[r]},e.prototype.getStartRow=function(){return this.startRow},e.prototype.getEndRow=function(){return this.endRow},e.prototype.createRowNodes=function(){this.rowNodes=[];for(var t=0;t<this.params.blockSize;t++){var n=this.startRow+t,r=new ke(this.beans);r.setRowHeight(this.params.rowHeight),r.uiLevel=0,r.setRowIndex(n),r.setRowTop(this.params.rowHeight*n),this.rowNodes.push(r)}},e.prototype.processServerResult=function(t){var n=this;this.rowNodes.forEach(function(o,s){var a=t.rowData?t.rowData[s]:void 0;!o.id&&o.alreadyRendered&&a&&(n.rowNodes[s]=new ke(n.beans),n.rowNodes[s].setRowIndex(o.rowIndex),n.rowNodes[s].setRowTop(o.rowTop),n.rowNodes[s].setRowHeight(o.rowHeight),o.clearRowTopAndRowIndex()),n.setDataAndId(n.rowNodes[s],a,n.startRow+s)});var r=t.rowCount!=null&&t.rowCount>=0?t.rowCount:void 0;this.parentCache.pageLoaded(this,r)},e.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(t){t.clearRowTopAndRowIndex()})},Zx([_("beans")],e.prototype,"beans",void 0),Zx([Z],e.prototype,"postConstruct",null),Zx([xi],e.prototype,"destroyRowNodes",null),e}(mM),Pye=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Nw=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Fye=function(i,e){return function(t,n){e(t,n,i)}},Nye=function(i){Pye(e,i);function e(t){var n=i.call(this)||this;return n.lastRowIndexKnown=!1,n.blocks={},n.blockCount=0,n.rowCount=t.initialRowCount,n.params=t,n}return e.prototype.setBeans=function(t){this.logger=t.create("InfiniteCache")},e.prototype.getRow=function(t,n){n===void 0&&(n=!1);var r=Math.floor(t/this.params.blockSize),o=this.blocks[r];if(!o){if(n)return;o=this.createBlock(r)}return o.getRow(t)},e.prototype.createBlock=function(t){var n=this.createBean(new uW(t,this,this.params));return this.blocks[n.getId()]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),this.params.rowNodeBlockLoader.addBlock(n),n},e.prototype.refreshCache=function(){var t=this.blockCount==0;if(t){this.purgeCache();return}this.getBlocksInOrder().forEach(function(n){return n.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad()},e.prototype.destroyAllBlocks=function(){var t=this;this.getBlocksInOrder().forEach(function(n){return t.destroyBlock(n)})},e.prototype.getRowCount=function(){return this.rowCount},e.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},e.prototype.pageLoaded=function(t,n){this.isAlive()&&(this.logger.log("onPageLoaded: page = ".concat(t.getId(),", lastRow = ").concat(n)),this.checkRowCount(t,n),this.onCacheUpdated())},e.prototype.purgeBlocksIfNeeded=function(t){var n=this,r=this.getBlocksInOrder().filter(function(u){return u!=t}),o=function(u,c){return c.getLastAccessed()-u.getLastAccessed()};r.sort(o);var s=this.params.maxBlocksInCache>0,a=s?this.params.maxBlocksInCache-1:null,l=e.MAX_EMPTY_BLOCKS_TO_KEEP-1;r.forEach(function(u,c){var d=u.getState()===uW.STATE_WAITING_TO_LOAD&&c>=l,h=s?c>=a:!1;if(d||h){if(n.isBlockCurrentlyDisplayed(u)||n.isBlockFocused(u))return;n.removeBlockFromCache(u)}})},e.prototype.isBlockFocused=function(t){var n=this.focusService.getFocusCellToUseAfterRefresh();if(!n||n.rowPinned!=null)return!1;var r=t.getStartRow(),o=t.getEndRow(),s=n.rowIndex>=r&&n.rowIndex<o;return s},e.prototype.isBlockCurrentlyDisplayed=function(t){var n=t.getStartRow(),r=t.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(n,r)},e.prototype.removeBlockFromCache=function(t){t&&this.destroyBlock(t)},e.prototype.checkRowCount=function(t,n){if(typeof n=="number"&&n>=0)this.rowCount=n,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var r=(t.getId()+1)*this.params.blockSize,o=r+this.params.overflowSize;this.rowCount<o&&(this.rowCount=o)}},e.prototype.setRowCount=function(t,n){this.rowCount=t,Ne.exists(n)&&(this.lastRowIndexKnown=n),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()},e.prototype.forEachNodeDeep=function(t){var n=this,r=new Rh;this.getBlocksInOrder().forEach(function(o){return o.forEachNode(t,r,n.rowCount)})},e.prototype.getBlocksInOrder=function(){var t=function(r,o){return r.getId()-o.getId()},n=Ne.getAllValuesInObject(this.blocks).sort(t);return n},e.prototype.destroyBlock=function(t){delete this.blocks[t.getId()],this.destroyBean(t),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(t)},e.prototype.onCacheUpdated=function(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();var t={type:w.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(t)}},e.prototype.destroyAllBlocksPastVirtualRowCount=function(){var t=this,n=[];this.getBlocksInOrder().forEach(function(r){var o=r.getId()*t.params.blockSize;o>=t.rowCount&&n.push(r)}),n.length>0&&n.forEach(function(r){return t.destroyBlock(r)})},e.prototype.purgeCache=function(){var t=this;this.getBlocksInOrder().forEach(function(n){return t.removeBlockFromCache(n)}),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},e.prototype.getRowNodesInRange=function(t,n){var r=this,o=[],s=-1,a=!1,l=new Rh;Ne.missing(t)&&(a=!0);var u=!1;this.getBlocksInOrder().forEach(function(d){if(!u){if(a&&s+1!==d.getId()){u=!0;return}s=d.getId(),d.forEachNode(function(h){var f=h===t||h===n;(a||f)&&o.push(h),f&&(a=!a)},l,r.rowCount)}});var c=u||a;return c?[]:o},e.MAX_EMPTY_BLOCKS_TO_KEEP=2,Nw([_("rowRenderer")],e.prototype,"rowRenderer",void 0),Nw([_("focusService")],e.prototype,"focusService",void 0),Nw([Fye(0,to("loggerFactory"))],e.prototype,"setBeans",null),Nw([xi],e.prototype,"destroyAllBlocks",null),e}(Y),Lye=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),El=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},kye=function(i){Lye(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getRowBounds=function(t){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*t}},e.prototype.ensureRowHeightsValid=function(t,n,r,o){return!1},e.prototype.init=function(){var t=this;this.gridOptionsService.isRowModelType("infinite")&&(this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return t.destroyCache()}),this.verifyProps())},e.prototype.verifyProps=function(){this.gridOptionsService.exists("initialGroupOrderComparator")&&Ne.warnOnce("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")},e.prototype.start=function(){this.setDatasource(this.gridOptionsService.get("datasource"))},e.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},e.prototype.addEventListeners=function(){var t=this;this.addManagedListener(this.eventService,w.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,w.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,w.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,w.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this)),this.addManagedPropertyListener("datasource",function(){return t.setDatasource(t.gridOptionsService.get("datasource"))}),this.addManagedPropertyListener("cacheBlockSize",function(){return t.resetCache()}),this.addManagedPropertyListener("rowHeight",function(){t.rowHeight=t.gridOptionsService.getRowHeightAsNumber(),t.cacheParams.rowHeight=t.rowHeight,t.updateRowHeights()})},e.prototype.onFilterChanged=function(){this.reset()},e.prototype.onSortChanged=function(){this.reset()},e.prototype.onColumnEverything=function(){var t;this.cacheParams?t=this.isSortModelDifferent():t=!0,t&&this.reset()},e.prototype.isSortModelDifferent=function(){return!Ne.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},e.prototype.getType=function(){return"infinite"},e.prototype.setDatasource=function(t){this.destroyDatasource(),this.datasource=t,t&&this.reset()},e.prototype.isEmpty=function(){return!this.infiniteCache},e.prototype.isRowsToRender=function(){return!!this.infiniteCache},e.prototype.getNodesInRangeForSelection=function(t,n){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(t,n):[]},e.prototype.reset=function(){if(this.datasource){var t=this.gridOptionsService.getCallback("getRowId"),n=t!=null;n||this.selectionService.reset("rowDataChanged"),this.resetCache()}},e.prototype.createModelUpdatedEvent=function(){return{type:w.EVENT_MODEL_UPDATED,newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1}},e.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gridOptionsService.get("infiniteInitialRowCount"),maxBlocksInCache:this.gridOptionsService.get("maxBlocksInCache"),rowHeight:this.gridOptionsService.getRowHeightAsNumber(),overflowSize:this.gridOptionsService.get("cacheOverflowSize"),blockSize:this.gridOptionsService.get("cacheBlockSize"),lastAccessedSequence:new Rh},this.infiniteCache=this.createBean(new Nye(this.cacheParams)),this.eventService.dispatchEventOnce({type:w.EVENT_ROW_COUNT_READY});var t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)},e.prototype.updateRowHeights=function(){var t=this;this.forEachNode(function(r){r.setRowHeight(t.rowHeight),r.setRowTop(t.rowHeight*r.rowIndex)});var n=this.createModelUpdatedEvent();this.eventService.dispatchEvent(n)},e.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},e.prototype.onCacheUpdated=function(){var t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)},e.prototype.getRow=function(t){if(this.infiniteCache&&!(t>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(t)},e.prototype.getRowNode=function(t){var n;return this.forEachNode(function(r){r.id===t&&(n=r)}),n},e.prototype.forEachNode=function(t){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(t)},e.prototype.getTopLevelRowCount=function(){return this.getRowCount()},e.prototype.getTopLevelRowDisplayedIndex=function(t){return t},e.prototype.getRowIndexAtPixel=function(t){if(this.rowHeight!==0){var n=Math.floor(t/this.rowHeight),r=this.getRowCount()-1;return n>r?r:n}return 0},e.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},e.prototype.isRowPresent=function(t){var n=this.getRowNode(t.id);return!!n},e.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},e.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},e.prototype.isLastRowIndexKnown=function(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1},e.prototype.setRowCount=function(t,n){this.infiniteCache&&this.infiniteCache.setRowCount(t,n)},El([_("filterManager")],e.prototype,"filterManager",void 0),El([_("sortController")],e.prototype,"sortController",void 0),El([_("selectionService")],e.prototype,"selectionService",void 0),El([_("rowRenderer")],e.prototype,"rowRenderer",void 0),El([_("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),El([Z],e.prototype,"init",null),El([xi],e.prototype,"destroyDatasource",null),e=El([ne("rowModel")],e),e}(Y),Vye="31.0.3",Hye={version:Vye,moduleName:de.InfiniteRowModelModule,rowModel:"infinite",beans:[kye]},Gye=function(){function i(){}return i.prototype.setBeans=function(e){this.beans=e},i.prototype.getFileName=function(e){var t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?"".concat(e,".").concat(t):e},i.prototype.getData=function(e){var t=this.createSerializingSession(e),n=this.beans.gridSerializer.serialize(t,e);return n},i.prototype.getDefaultFileName=function(){return"export.".concat(this.getDefaultFileExtension())},i}(),Bye=function(){function i(e){this.groupColumns=[];var t=e.columnModel,n=e.valueService,r=e.gridOptionsService,o=e.valueFormatterService,s=e.valueParserService,a=e.processCellCallback,l=e.processHeaderCallback,u=e.processGroupHeaderCallback,c=e.processRowGroupCallback;this.columnModel=t,this.valueService=n,this.gridOptionsService=r,this.valueFormatterService=o,this.valueParserService=s,this.processCellCallback=a,this.processHeaderCallback=l,this.processGroupHeaderCallback=u,this.processRowGroupCallback=c}return i.prototype.prepare=function(e){this.groupColumns=e.filter(function(t){return!!t.getColDef().showRowGroup})},i.prototype.extractHeaderValue=function(e){var t=this.getHeaderName(this.processHeaderCallback,e);return t??""},i.prototype.extractRowCellValue=function(e,t,n,r,o){var s=this.gridOptionsService.get("groupHideOpenParents"),a=(!s||o.footer)&&this.shouldRenderGroupSummaryCell(o,e,t)?this.createValueForGroupNode(e,o):this.valueService.getValue(e,o),l=this.processCell({accumulatedRowIndex:n,rowNode:o,column:e,value:a,processCellCallback:this.processCellCallback,type:r});return l},i.prototype.shouldRenderGroupSummaryCell=function(e,t,n){var r,o=e&&e.group;if(!o)return!1;var s=this.groupColumns.indexOf(t);if(s!==-1){if(((r=e.groupData)===null||r===void 0?void 0:r[t.getId()])!=null||this.gridOptionsService.isRowModelType("serverSide")&&e.group)return!0;if(e.footer&&e.level===-1){var a=t.getColDef(),l=a==null||a.showRowGroup===!0;return l||a.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}var u=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return n===0&&u},i.prototype.getHeaderName=function(e,t){return e?e(this.gridOptionsService.addGridCommonParams({column:t})):this.columnModel.getDisplayNameForColumn(t,"csv",!0)},i.prototype.createValueForGroupNode=function(e,t){var n=this;if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gridOptionsService.addGridCommonParams({column:e,node:t}));var r=this.gridOptionsService.get("treeData"),o=this.gridOptionsService.get("suppressGroupMaintainValueType"),s=function(c){var d,h;if(r||o)return c.key;var f=(d=c.groupData)===null||d===void 0?void 0:d[e.getId()];return!f||!c.rowGroupColumn||c.rowGroupColumn.getColDef().useValueFormatterForExport===!1?f:(h=n.valueFormatterService.formatValue(c.rowGroupColumn,c,f))!==null&&h!==void 0?h:f},a=t.footer,l=[s(t)];if(!this.gridOptionsService.isGroupMultiAutoColumn())for(;t.parent;)t=t.parent,l.push(s(t));var u=l.reverse().join(" -> ");return a?"Total ".concat(u):u},i.prototype.processCell=function(e){var t=this,n,r=e.accumulatedRowIndex,o=e.rowNode,s=e.column,a=e.value,l=e.processCellCallback,u=e.type;return l?{value:(n=l(this.gridOptionsService.addGridCommonParams({accumulatedRowIndex:r,column:s,node:o,value:a,type:u,parseValue:function(c){return t.valueParserService.parseValue(s,o,c,t.valueService.getValue(s,o))},formatValue:function(c){var d;return(d=t.valueFormatterService.formatValue(s,o,c))!==null&&d!==void 0?d:c}})))!==null&&n!==void 0?n:""}:s.getColDef().useValueFormatterForExport!==!1?{value:a??"",valueFormatted:this.valueFormatterService.formatValue(s,o,a)}:{value:a??""}},i}(),jye=function(){function i(){}return i.download=function(e,t){var n=document.defaultView||window;if(!n){console.warn("AG Grid: There is no `window` associated with the current `document`");return}var r=document.createElement("a"),o=n.URL.createObjectURL(t);r.setAttribute("href",o),r.setAttribute("download",e),r.style.display="none",document.body.appendChild(r),r.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(r),n.setTimeout(function(){n.URL.revokeObjectURL(o)},0)},i}(),Uye=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),cW=`\r
`,Wye=function(i){Uye(e,i);function e(t){var n=i.call(this,t)||this;n.isFirstLine=!0,n.result="";var r=t.suppressQuotes,o=t.columnSeparator;return n.suppressQuotes=r,n.columnSeparator=o,n}return e.prototype.addCustomContent=function(t){var n=this;t&&(typeof t=="string"?(/^\s*\n/.test(t)||this.beginNewLine(),t=t.replace(/\r?\n/g,cW),this.result+=t):t.forEach(function(r){n.beginNewLine(),r.forEach(function(o,s){s!==0&&(n.result+=n.columnSeparator),n.result+=n.putInQuotes(o.data.value||""),o.mergeAcross&&n.appendEmptyCells(o.mergeAcross)})}))},e.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},e.prototype.onNewHeaderGroupingRowColumn=function(t,n,r,o){r!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n),this.appendEmptyCells(o)},e.prototype.appendEmptyCells=function(t){for(var n=1;n<=t;n++)this.result+=this.columnSeparator+this.putInQuotes("")},e.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},e.prototype.onNewHeaderRowColumn=function(t,n){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(t))},e.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},e.prototype.onNewBodyRowColumn=function(t,n,r){var o;n!=0&&(this.result+=this.columnSeparator);var s=this.extractRowCellValue(t,n,n,"csv",r);this.result+=this.putInQuotes((o=s.valueFormatted)!==null&&o!==void 0?o:s.value)},e.prototype.putInQuotes=function(t){if(this.suppressQuotes)return t;if(t==null)return'""';var n;typeof t=="string"?n=t:typeof t.toString=="function"?n=t.toString():(console.warn("AG Grid: unknown value type during csv conversion"),n="");var r=n.replace(/"/g,'""');return'"'+r+'"'},e.prototype.parse=function(){return this.result},e.prototype.beginNewLine=function(){this.isFirstLine||(this.result+=cW),this.isFirstLine=!1},e}(Bye),zye=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Dl=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},$ye=function(i){zye(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})},e.prototype.getMergedParams=function(t){var n=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},n,t)},e.prototype.export=function(t){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var n=this.getMergedParams(t),r=this.getData(n),o=new Blob(["\uFEFF",r],{type:"text/plain"});return jye.download(this.getFileName(n.fileName),o),r},e.prototype.exportDataAsCsv=function(t){return this.export(t)},e.prototype.getDataAsCsv=function(t,n){n===void 0&&(n=!1);var r=n?Object.assign({},t):this.getMergedParams(t);return this.getData(r)},e.prototype.getDefaultFileExtension=function(){return"csv"},e.prototype.createSerializingSession=function(t){var n=this,r=n.columnModel,o=n.valueService,s=n.gridOptionsService,a=n.valueFormatterService,l=n.valueParserService,u=t,c=u.processCellCallback,d=u.processHeaderCallback,h=u.processGroupHeaderCallback,f=u.processRowGroupCallback,p=u.suppressQuotes,g=u.columnSeparator;return new Wye({columnModel:r,valueService:o,gridOptionsService:s,valueFormatterService:a,valueParserService:l,processCellCallback:c||void 0,processHeaderCallback:d||void 0,processGroupHeaderCallback:h||void 0,processRowGroupCallback:f||void 0,suppressQuotes:p||!1,columnSeparator:g||","})},e.prototype.isExportSuppressed=function(){return this.gridOptionsService.get("suppressCsvExport")},Dl([_("columnModel")],e.prototype,"columnModel",void 0),Dl([_("valueService")],e.prototype,"valueService",void 0),Dl([_("gridSerializer")],e.prototype,"gridSerializer",void 0),Dl([_("gridOptionsService")],e.prototype,"gridOptionsService",void 0),Dl([_("valueFormatterService")],e.prototype,"valueFormatterService",void 0),Dl([_("valueParserService")],e.prototype,"valueParserService",void 0),Dl([Z],e.prototype,"postConstruct",null),e=Dl([ne("csvCreator")],e),e}(Gye),qye=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Tl=function(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(s=i[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o};var Yye=function(i){qye(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.serialize=function(t,n){n===void 0&&(n={});var r=n.allColumns,o=n.columnKeys,s=n.skipRowGroups,a=this.getColumnsToExport(r,s,o),l=Ne.compose(this.prepareSession(a),this.prependContent(n),this.exportColumnGroups(n,a),this.exportHeaders(n,a),this.processPinnedTopRows(n,a),this.processRows(n,a),this.processPinnedBottomRows(n,a),this.appendContent(n));return l(t).parse()},e.prototype.processRow=function(t,n,r,o){var s=n.shouldRowBeSkipped||function(){return!1},a=this.gridOptionsService.get("groupRemoveSingleChildren"),l=this.gridOptionsService.get("groupRemoveLowestSingleChildren"),u=n.rowPositions!=null,c=u||!!n.onlySelected,d=this.gridOptionsService.get("groupHideOpenParents")&&!c,h=this.columnModel.isPivotMode()?o.leafGroup:!o.group,f=!!o.footer;n.skipRowGroups;var p=l&&o.leafGroup,g=o.allChildrenCount===1&&(a||p);if(!(!h&&!f&&(n.skipRowGroups||g||d)||n.onlySelected&&!o.isSelected()||n.skipPinnedTop&&o.rowPinned==="top"||n.skipPinnedBottom&&o.rowPinned==="bottom")){var m=o.level===-1;if(!(m&&!h&&!f)){var v=s(this.gridOptionsService.addGridCommonParams({node:o}));if(!v){var y=t.onNewBodyRow(o);if(r.forEach(function(S,E){y.onColumn(S,E,o)}),n.getCustomContentBelowRow){var C=n.getCustomContentBelowRow(this.gridOptionsService.addGridCommonParams({node:o}));C&&t.addCustomContent(C)}}}}},e.prototype.appendContent=function(t){return function(n){var r=t.appendContent;return r&&n.addCustomContent(r),n}},e.prototype.prependContent=function(t){return function(n){var r=t.prependContent;return r&&n.addCustomContent(r),n}},e.prototype.prepareSession=function(t){return function(n){return n.prepare(t),n}},e.prototype.exportColumnGroups=function(t,n){var r=this;return function(o){if(!t.skipColumnGroupHeaders){var s=new xW,a=r.displayedGroupCreator.createDisplayedGroups(n,s,null);r.recursivelyAddHeaderGroups(a,o,t.processGroupHeaderCallback)}return o}},e.prototype.exportHeaders=function(t,n){return function(r){if(!t.skipColumnHeaders){var o=r.onNewHeaderRow();n.forEach(function(s,a){o.onColumn(s,a,void 0)})}return r}},e.prototype.processPinnedTopRows=function(t,n){var r=this;return function(o){var s=r.processRow.bind(r,o,t,n);return t.rowPositions?t.rowPositions.filter(function(a){return a.rowPinned==="top"}).sort(function(a,l){return a.rowIndex-l.rowIndex}).map(function(a){return r.pinnedRowModel.getPinnedTopRow(a.rowIndex)}).forEach(s):r.pinnedRowModel.forEachPinnedTopRow(s),o}},e.prototype.processRows=function(t,n){var r=this;return function(o){var s=r.rowModel,a=s.getType(),l=a==="clientSide",u=a==="serverSide",c=!l&&t.onlySelected,d=r.processRow.bind(r,o,t,n),h=t.exportedRows,f=h===void 0?"filteredAndSorted":h;if(t.rowPositions)t.rowPositions.filter(function(g){return g.rowPinned==null}).sort(function(g,m){return g.rowIndex-m.rowIndex}).map(function(g){return s.getRow(g.rowIndex)}).forEach(d);else if(r.columnModel.isPivotMode())l?s.forEachPivotNode(d,!0):u?s.forEachNodeAfterFilterAndSort(d,!0):s.forEachNode(d);else if(t.onlySelectedAllPages||c){var p=r.selectionService.getSelectedNodes();r.replicateSortedOrder(p),p.forEach(d)}else f==="all"?s.forEachNode(d):l||u?s.forEachNodeAfterFilterAndSort(d,!0):s.forEachNode(d);return o}},e.prototype.replicateSortedOrder=function(t){var n=this,r=this.sortController.getSortOptions(),o=function(s,a){var l,u,c,d;return s.rowIndex!=null&&a.rowIndex!=null?s.rowIndex-a.rowIndex:s.level===a.level?((l=s.parent)===null||l===void 0?void 0:l.id)===((u=a.parent)===null||u===void 0?void 0:u.id)?n.rowNodeSorter.compareRowNodes(r,{rowNode:s,currentPos:(c=s.rowIndex)!==null&&c!==void 0?c:-1},{rowNode:a,currentPos:(d=a.rowIndex)!==null&&d!==void 0?d:-1}):o(s.parent,a.parent):s.level>a.level?o(s.parent,a):o(s,a.parent)};t.sort(o)},e.prototype.processPinnedBottomRows=function(t,n){var r=this;return function(o){var s=r.processRow.bind(r,o,t,n);return t.rowPositions?t.rowPositions.filter(function(a){return a.rowPinned==="bottom"}).sort(function(a,l){return a.rowIndex-l.rowIndex}).map(function(a){return r.pinnedRowModel.getPinnedBottomRow(a.rowIndex)}).forEach(s):r.pinnedRowModel.forEachPinnedBottomRow(s),o}},e.prototype.getColumnsToExport=function(t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);var o=this.columnModel.isPivotMode();if(r&&r.length)return this.columnModel.getGridColumns(r);var s=this.gridOptionsService.get("treeData"),a=[];return t&&!o?a=this.columnModel.getAllGridColumns():a=this.columnModel.getAllDisplayedColumns(),n&&!s&&(a=a.filter(function(l){return l.getColId()!==Eh})),a},e.prototype.recursivelyAddHeaderGroups=function(t,n,r){var o=[];t.forEach(function(s){var a=s;a.getChildren&&a.getChildren().forEach(function(l){return o.push(l)})}),t.length>0&&t[0]instanceof On&&this.doAddHeaderHeader(n,t,r),o&&o.length>0&&this.recursivelyAddHeaderGroups(o,n,r)},e.prototype.doAddHeaderHeader=function(t,n,r){var o=this,s=t.onNewHeaderGroupingRow(),a=0;n.forEach(function(l){var u=l,c;r?c=r(o.gridOptionsService.addGridCommonParams({columnGroup:u})):c=o.columnModel.getDisplayNameForColumnGroup(u,"header");var d=u.getLeafColumns().reduce(function(h,f,p,g){var m=Ne.last(h),v=f.getColumnGroupShow()==="open";return v?(!m||m[1]!=null)&&(m=[p],h.push(m)):m&&m[1]==null&&(m[1]=p-1),p===g.length-1&&m&&m[1]==null&&(m[1]=p),h},[]);s.onColumn(u,c||"",a++,u.getLeafColumns().length-1,d)})},Tl([_("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),Tl([_("columnModel")],e.prototype,"columnModel",void 0),Tl([_("rowModel")],e.prototype,"rowModel",void 0),Tl([_("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Tl([_("selectionService")],e.prototype,"selectionService",void 0),Tl([_("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),Tl([_("sortController")],e.prototype,"sortController",void 0),e=Tl([ne("gridSerializer")],e),e}(Y),Kye="31.0.3",Qye={version:Kye,moduleName:de.CsvExportModule,beans:[$ye,Yye]},Lw=`\r
`,CBe=function(){function i(){}return i.createHeader=function(e){e===void 0&&(e={});var t="<?",n="?>",r=["version"];e.version||(e.version="1.0"),e.encoding&&r.push("encoding"),e.standalone&&r.push("standalone");var o=r.map(function(s){return"".concat(s,'="').concat(e[s],'"')}).join(" ");return"".concat(t,"xml ").concat(o," ").concat(n)},i.createXml=function(e,t){var n=this,r="";e.properties&&(e.properties.prefixedAttributes&&e.properties.prefixedAttributes.forEach(function(s){Object.keys(s.map).forEach(function(a){r+=n.returnAttributeIfPopulated(s.prefix+a,s.map[a],t)})}),e.properties.rawMap&&Object.keys(e.properties.rawMap).forEach(function(s){r+=n.returnAttributeIfPopulated(s,e.properties.rawMap[s],t)}));var o="<"+e.name+r;return!e.children&&e.textNode==null?o+"/>"+Lw:e.textNode!=null?o+">"+e.textNode+"</"+e.name+">"+Lw:(o+=">"+Lw,e.children&&e.children.forEach(function(s){o+=n.createXml(s,t)}),o+"</"+e.name+">"+Lw)},i.returnAttributeIfPopulated=function(e,t,n){if(!t&&t!==""&&t!==0)return"";var r=t;return typeof t=="boolean"&&n&&(r=n(t))," ".concat(e,'="').concat(r,'"')},i}(),Zye=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xye=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),wBe=function(){function i(){}return i.addFolders=function(e){e.forEach(this.addFolder.bind(this))},i.addFolder=function(e){this.folders.push({path:e,created:new Date,isBase64:!1})},i.addFile=function(e,t,n){n===void 0&&(n=!1),this.files.push({path:e,created:new Date,content:t,isBase64:n})},i.getContent=function(e){e===void 0&&(e="application/zip");var t=this.buildFileStream(),n=this.buildUint8Array(t);return this.clearStream(),new Blob([n],{type:e})},i.clearStream=function(){this.folders=[],this.files=[]},i.buildFileStream=function(e){var t,n;e===void 0&&(e="");var r=this.folders.concat(this.files),o=r.length,s="",a=0,l=0;try{for(var u=Zye(r),c=u.next();!c.done;c=u.next()){var d=c.value,h=this.getHeader(d,a),f=h.fileHeader,p=h.folderHeader,g=h.content;a+=f.length+g.length,l+=p.length,e+=f+g,s+=p}}catch(v){t={error:v}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}var m=this.buildFolderEnd(o,l,a);return e+s+m},i.getHeader=function(e,t){var n=e.content,r=e.path,o=e.created,s=e.isBase64,a=Ne.utf8_encode,l=Ne.decToHex,u=a(r),c=u!==r,d=this.convertTime(o),h=this.convertDate(o),f="";if(c){var p=l(1,1)+l(this.getFromCrc32Table(u),4)+u;f="up"+l(p.length,2)+p}var g=n?this.getConvertedContent(n,s):{size:0,content:""},m=g.size,v=g.content,y=`
\0`+(c?"\0\b":"\0\0")+"\0\0"+l(d,2)+l(h,2)+l(m?this.getFromCrc32Table(v):0,4)+l(m,4)+l(m,4)+l(u.length,2)+l(f.length,2),C="PK"+y+u+f,S="PK\0"+y+"\0\0\0\0\0\0"+(n?"\0\0\0\0":"\0\0\0")+l(t,4)+u+f;return{fileHeader:C,folderHeader:S,content:v||""}},i.getConvertedContent=function(e,t){return t===void 0&&(t=!1),t&&(e=e.split(";base64,")[1]),e=t?atob(e):e,{size:e.length,content:e}},i.buildFolderEnd=function(e,t,n){var r=Ne.decToHex;return"PK\0\0\0\0"+r(e,2)+r(e,2)+r(t,4)+r(n,4)+"\0\0"},i.buildUint8Array=function(e){for(var t=new Uint8Array(e.length),n=0;n<t.length;n++)t[n]=e.charCodeAt(n);return t},i.getFromCrc32Table=function(e){if(!e.length)return 0;for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);for(var o=-1,s=0,a=0,l=0,r=0;r<t;r++)s=n[r],a=(o^s)&255,l=Xye[a],o=o>>>8^l;return o^-1},i.convertTime=function(e){var t=e.getHours();return t<<=6,t=t|e.getMinutes(),t<<=5,t=t|e.getSeconds()/2,t},i.convertDate=function(e){var t=e.getFullYear()-1980;return t<<=4,t=t|e.getMonth()+1,t<<=5,t=t|e.getDate(),t},i.folders=[],i.files=[],i}(),Jye=[Mye,Hye,Qye];mt.registerModules(Jye);var Xz=(()=>{class i extends aI{constructor(t){super("angular"),this._ngZone=t,this.isRunningWithinTestZone=!1,this.wrapIncoming=(n,r)=>this.runOutside(n,r),this.wrapOutgoing=n=>this.runInsideAngular(n),this.isRunningWithinTestZone=window?.AG_GRID_UNDER_TEST??!!window?.Zone?.AsyncTestZoneSpec,this._ngZone?this.isRunningWithinTestZone?this.runOutside=(n,r)=>r==="resize-observer"?this._ngZone.runOutsideAngular(n):n():this.runOutside=n=>this._ngZone.runOutsideAngular(n):this.runOutside=n=>n()}get shouldWrapOutgoing(){return this._ngZone&&we.isInAngularZone()}isFrameworkComponent(t){if(!t)return!1;let n=t.prototype;return n&&"agInit"in n}runInsideAngular(t){return this._ngZone?this._ngZone.run(t):t()}runOutsideAngular(t,n){return this.runOutside(t,n)}}return i.\u0275fac=function(t){return new(t||i)(U(we))},i.\u0275prov=G({token:i,factory:i.\u0275fac}),i})(),Jz=(()=>{class i extends Zz{setViewContainerRef(t,n){this.viewContainerRef=t,this.angularFrameworkOverrides=n}createWrapper(t,n){let r=this.angularFrameworkOverrides,o=this;class s extends uI{init(u){r.runInsideAngular(()=>{super.init(u),this._componentRef.changeDetectorRef.detectChanges()})}createComponent(){return r.runInsideAngular(()=>o.createComponent(t))}hasMethod(u){return a.getFrameworkComponentInstance()[u]!=null}callMethod(u,c){let d=this.getFrameworkComponentInstance();return r.runInsideAngular(()=>a.getFrameworkComponentInstance()[u].apply(d,c))}addMethod(u,c){a[u]=c}}let a=new s;return a}createComponent(t){return this.viewContainerRef.createComponent(t)}}return i.\u0275fac=(()=>{let e;return function(n){return(e||(e=hn(i)))(n||i)}})(),i.\u0275prov=G({token:i,factory:i.\u0275fac}),i})(),uI=class{init(e){this._params=e,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}destroy(){this._frameworkComponentInstance&&typeof this._frameworkComponentInstance.destroy=="function"&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}},oo=(()=>{class i{constructor(t,n,r,o){this.viewContainerRef=n,this.angularFrameworkOverrides=r,this.frameworkComponentWrapper=o,this._initialised=!1,this._destroyed=!1,this._fullyReady=Jr.resolve(!0),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipTrigger=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.tooltipInteraction=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.suppressCutToClipboard=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.dataTypeDefinitions=void 0,this.maintainColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.autoSizeStrategy=void 0,this.components=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterMovesDown=void 0,this.enterMovesDownAfterEdit=void 0,this.enterNavigatesVertically=void 0,this.enterNavigatesVerticallyAfterEdit=void 0,this.enableCellEditingOnBackspace=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.excludeHiddenColumnsFromQuickFilter=void 0,this.includeHiddenColumnsInQuickFilter=void 0,this.quickFilterParser=void 0,this.quickFilterMatcher=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableAdvancedFilter=void 0,this.advancedFilterModel=void 0,this.includeHiddenColumnsInAdvancedFilter=void 0,this.advancedFilterParent=void 0,this.advancedFilterBuilderParams=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.enableChartToolPanelsButton=void 0,this.suppressChartToolPanelsButton=void 0,this.chartToolPanelsDef=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressParentsInRowNodes=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationPageSizeSelector=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotDefaultExpanded=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.alwaysAggregateAtRootLevel=void 0,this.suppressAggAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDelay=void 0,this.cellFadeDelay=void 0,this.allowShowChangeAfterFilter=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.rowDragText=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.suppressGroupMaintainValueType=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupLockGroupColumns=void 0,this.groupAggFiltering=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.groupAllowUnbalanced=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.rowGroupPanelSuppressSort=void 0,this.suppressGroupRowsSticky=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.suppressServerSideInfiniteScroll=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideOnlyRefreshFilteredGroups=void 0,this.serverSideFilterAllLevels=void 0,this.serverSideSortOnServer=void 0,this.serverSideFilterOnServer=void 0,this.serverSidePivotResultFieldSeparator=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellFocus=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.gridId=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.functionsPassive=void 0,this.enableGroupEdit=void 0,this.initialState=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processUnpinnedColumns=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new j,this.toolPanelSizeChanged=new j,this.cutStart=new j,this.cutEnd=new j,this.pasteStart=new j,this.pasteEnd=new j,this.columnVisible=new j,this.columnPinned=new j,this.columnResized=new j,this.columnMoved=new j,this.columnValueChanged=new j,this.columnPivotModeChanged=new j,this.columnPivotChanged=new j,this.columnGroupOpened=new j,this.newColumnsLoaded=new j,this.gridColumnsChanged=new j,this.displayedColumnsChanged=new j,this.virtualColumnsChanged=new j,this.columnEverythingChanged=new j,this.columnHeaderMouseOver=new j,this.columnHeaderMouseLeave=new j,this.columnHeaderClicked=new j,this.columnHeaderContextMenu=new j,this.componentStateChanged=new j,this.cellValueChanged=new j,this.cellEditRequest=new j,this.rowValueChanged=new j,this.cellEditingStarted=new j,this.cellEditingStopped=new j,this.rowEditingStarted=new j,this.rowEditingStopped=new j,this.undoStarted=new j,this.undoEnded=new j,this.redoStarted=new j,this.redoEnded=new j,this.rangeDeleteStart=new j,this.rangeDeleteEnd=new j,this.filterOpened=new j,this.filterChanged=new j,this.filterModified=new j,this.advancedFilterBuilderVisibleChanged=new j,this.chartCreated=new j,this.chartRangeSelectionChanged=new j,this.chartOptionsChanged=new j,this.chartDestroyed=new j,this.cellKeyDown=new j,this.gridReady=new j,this.gridPreDestroyed=new j,this.firstDataRendered=new j,this.gridSizeChanged=new j,this.modelUpdated=new j,this.virtualRowRemoved=new j,this.viewportChanged=new j,this.bodyScroll=new j,this.bodyScrollEnd=new j,this.dragStarted=new j,this.dragStopped=new j,this.stateUpdated=new j,this.paginationChanged=new j,this.rowDragEnter=new j,this.rowDragMove=new j,this.rowDragLeave=new j,this.rowDragEnd=new j,this.columnRowGroupChanged=new j,this.rowGroupOpened=new j,this.expandOrCollapseAll=new j,this.pinnedRowDataChanged=new j,this.rowDataUpdated=new j,this.asyncTransactionsFlushed=new j,this.storeRefreshed=new j,this.cellClicked=new j,this.cellDoubleClicked=new j,this.cellFocused=new j,this.cellMouseOver=new j,this.cellMouseOut=new j,this.cellMouseDown=new j,this.rowClicked=new j,this.rowDoubleClicked=new j,this.rowSelected=new j,this.selectionChanged=new j,this.cellContextMenu=new j,this.rangeSelectionChanged=new j,this.tooltipShow=new j,this.tooltipHide=new j,this.sortChanged=new j,this.columnRowGroupChangeRequest=new j,this.columnPivotChangeRequest=new j,this.columnValueChangeRequest=new j,this.columnAggFuncChangeRequest=new j,this._nativeElement=t.nativeElement}ngAfterViewInit(){this.angularFrameworkOverrides.runOutsideAngular(()=>{this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef,this.angularFrameworkOverrides);let t=om.combineAttributesAndGridOptions(this.gridOptions,this);this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]};let n=Kz(this._nativeElement,t,this.gridParams);n&&(this.api=n,this.columnApi=new cm(n));let r=this.gridPreDestroyed;(r.observed??r.observers.length>0)&&console.warn('AG Grid: gridPreDestroyed event listener registered via (gridPreDestroyed)="method($event)" will be ignored! Please assign via gridOptions.gridPreDestroyed and pass to the grid as [gridOptions]="gridOptions"'),this._initialised=!0,this._fullyReady.resolveNow(null,o=>o)})}ngOnChanges(t){this._initialised&&this.angularFrameworkOverrides.runOutsideAngular(()=>{let n={};Object.entries(t).forEach(([r,o])=>{n[r]=o.currentValue}),om.processOnChange(n,this.api)})}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api?.destroy())}isEmitterUsed(t){let r=this[t],o=r?.observed??r?.observers?.length>0,s=`on${t.charAt(0).toUpperCase()}${t.substring(1)}`,a=!!this.gridOptions&&!!this.gridOptions[s];return o||a}globalEventListener(t,n){if(this._destroyed)return;let r=this[t];if(r&&this.isEmitterUsed(t)){let o=()=>this.angularFrameworkOverrides.runInsideAngular(()=>r.emit(n));t==="gridReady"?this._fullyReady.then(()=>o()):o()}}}return i.\u0275fac=function(t){return new(t||i)(x($e),x(Kn),x(Xz),x(Jz))},i.\u0275cmp=re({type:i,selectors:[["ag-grid-angular"]],inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipTrigger:"tooltipTrigger",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",tooltipInteraction:"tooltipInteraction",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressCopySingleCellRanges:"suppressCopySingleCellRanges",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",suppressCutToClipboard:"suppressCutToClipboard",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",dataTypeDefinitions:"dataTypeDefinitions",maintainColumnOrder:"maintainColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",suppressRowGroupHidesColumns:"suppressRowGroupHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",autoSizeStrategy:"autoSizeStrategy",components:"components",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterMovesDown:"enterMovesDown",enterMovesDownAfterEdit:"enterMovesDownAfterEdit",enterNavigatesVertically:"enterNavigatesVertically",enterNavigatesVerticallyAfterEdit:"enterNavigatesVerticallyAfterEdit",enableCellEditingOnBackspace:"enableCellEditingOnBackspace",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",excludeHiddenColumnsFromQuickFilter:"excludeHiddenColumnsFromQuickFilter",includeHiddenColumnsInQuickFilter:"includeHiddenColumnsInQuickFilter",quickFilterParser:"quickFilterParser",quickFilterMatcher:"quickFilterMatcher",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableAdvancedFilter:"enableAdvancedFilter",advancedFilterModel:"advancedFilterModel",includeHiddenColumnsInAdvancedFilter:"includeHiddenColumnsInAdvancedFilter",advancedFilterParent:"advancedFilterParent",advancedFilterBuilderParams:"advancedFilterBuilderParams",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",enableChartToolPanelsButton:"enableChartToolPanelsButton",suppressChartToolPanelsButton:"suppressChartToolPanelsButton",chartToolPanelsDef:"chartToolPanelsDef",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressParentsInRowNodes:"suppressParentsInRowNodes",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationPageSizeSelector:"paginationPageSizeSelector",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotDefaultExpanded:"pivotDefaultExpanded",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",alwaysAggregateAtRootLevel:"alwaysAggregateAtRootLevel",suppressAggAtRootLevel:"suppressAggAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",removePivotHeaderRowWhenSingleValueColumn:"removePivotHeaderRowWhenSingleValueColumn",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDelay:"cellFlashDelay",cellFadeDelay:"cellFadeDelay",allowShowChangeAfterFilter:"allowShowChangeAfterFilter",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",rowDragText:"rowDragText",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",suppressGroupMaintainValueType:"suppressGroupMaintainValueType",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupLockGroupColumns:"groupLockGroupColumns",groupAggFiltering:"groupAggFiltering",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",groupAllowUnbalanced:"groupAllowUnbalanced",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",rowGroupPanelSuppressSort:"rowGroupPanelSuppressSort",suppressGroupRowsSticky:"suppressGroupRowsSticky",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",suppressServerSideInfiniteScroll:"suppressServerSideInfiniteScroll",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:"serverSideSortAllLevels",serverSideOnlyRefreshFilteredGroups:"serverSideOnlyRefreshFilteredGroups",serverSideFilterAllLevels:"serverSideFilterAllLevels",serverSideSortOnServer:"serverSideSortOnServer",serverSideFilterOnServer:"serverSideFilterOnServer",serverSidePivotResultFieldSeparator:"serverSidePivotResultFieldSeparator",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellFocus:"suppressCellFocus",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",alwaysMultiSort:"alwaysMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",gridId:"gridId",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",functionsPassive:"functionsPassive",enableGroupEdit:"enableGroupEdit",initialState:"initialState",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processUnpinnedColumns:"processUnpinnedColumns",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowId:"getRowId",resetRowDataOnUpdate:"resetRowDataOnUpdate",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthRow:"isFullWidthRow"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",toolPanelSizeChanged:"toolPanelSizeChanged",cutStart:"cutStart",cutEnd:"cutEnd",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",columnHeaderMouseOver:"columnHeaderMouseOver",columnHeaderMouseLeave:"columnHeaderMouseLeave",columnHeaderClicked:"columnHeaderClicked",columnHeaderContextMenu:"columnHeaderContextMenu",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",undoStarted:"undoStarted",undoEnded:"undoEnded",redoStarted:"redoStarted",redoEnded:"redoEnded",rangeDeleteStart:"rangeDeleteStart",rangeDeleteEnd:"rangeDeleteEnd",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",advancedFilterBuilderVisibleChanged:"advancedFilterBuilderVisibleChanged",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",gridReady:"gridReady",gridPreDestroyed:"gridPreDestroyed",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",stateUpdated:"stateUpdated",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",storeRefreshed:"storeRefreshed",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",tooltipShow:"tooltipShow",tooltipHide:"tooltipHide",sortChanged:"sortChanged",columnRowGroupChangeRequest:"columnRowGroupChangeRequest",columnPivotChangeRequest:"columnPivotChangeRequest",columnValueChangeRequest:"columnValueChangeRequest",columnAggFuncChangeRequest:"columnAggFuncChangeRequest"},standalone:!0,features:[vt([Xz,Jz]),Wt,oe],decls:0,vars:0,template:function(t,n){},encapsulation:2}),i})();var e3=(()=>{let e=class e{constructor(n){this.router=n}agInit(n){this.patient=n.data}refresh(n){return this.patient=n.data,!0}aiPrediction(){this.router.navigate(["/ai-prediction"],{queryParams:{patientId:this.patient.id}})}};e.\u0275fac=function(r){return new(r||e)(x(Dt))},e.\u0275cmp=re({type:e,selectors:[["app-ai-prediction-button"]],standalone:!0,features:[oe],decls:2,vars:0,consts:[[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"fas","fa-laptop-medical"]],template:function(r,o){r&1&&(b(0,"button",0),z("click",function(){return o.aiPrediction()}),Q(1,"i",1),D())},dependencies:[ye]});let i=e;return i})();var t3=(()=>{let e=class e{constructor(n){this.router=n}agInit(n){this.patient=n.data}refresh(n){return this.patient=n.data,!0}archives(){this.router.navigate(["/archives"],{queryParams:{patientId:this.patient.id}})}};e.\u0275fac=function(r){return new(r||e)(x(Dt))},e.\u0275cmp=re({type:e,selectors:[["app-archives-button"]],standalone:!0,features:[oe],decls:2,vars:0,consts:[[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"fas","fa-archive"]],template:function(r,o){r&1&&(b(0,"button",0),z("click",function(){return o.archives()}),Q(1,"i",1),D())},dependencies:[ye]});let i=e;return i})();var n3=(()=>{let e=class e{dateFormatter(n){return new Date(n.value).toLocaleDateString("en-us",{weekday:"long",year:"numeric",month:"short",day:"numeric"})}constructor(n,r,o,s){this.patientService=n,this.httpClient=r,this.toastr=o,this.aiPredictionService=s,this.themeClass="ag-theme-quartz",this.patients=[],this.defaultColDef={filter:!0,floatingFilter:!0},this.colDefs=[{field:"id",hide:!0},{field:"firstName"},{field:"lastName"},{field:"birthDate",valueFormatter:this.dateFormatter},{field:"dateRegistered",valueFormatter:this.dateFormatter},{field:"gender",cellRenderer:function(a){return a.value?'<span><i class="fas fa-female"></i></span>':'<i class="fas fa-male"></i>'},cellStyle:{fontSize:"18px",textAlign:"center"},floatingFilter:!1,filter:!1,width:85},{headerName:"Ai Prediction",floatingFilter:!1,filter:!1,cellStyle:{textAlign:"center"},width:95,cellRenderer:e3,hide:this.hideAIPredictionButton(),suppressColumnsToolPanel:this.hideAIPredictionButton()},{headerName:"Archives",floatingFilter:!1,filter:!1,width:85,cellStyle:{textAlign:"center"},cellRenderer:t3}],this.autoSizeStrategy={type:"fitGridWidth"},this.aiPredictionService.predictionRequest=new gl,this.getPatients()}getPatients(){this.httpClient.get(pe.serverAddress+this.patientService.api.patients).subscribe(n=>{this.patients=n})}hideAIPredictionButton(){return xe.getLoginToken().roleType==Vn.Cardiolog}};e.\u0275fac=function(r){return new(r||e)(x(Kr),x(je),x(zt),x(ji))},e.\u0275cmp=re({type:e,selectors:[["app-patient-overview"]],standalone:!0,features:[oe],decls:16,vars:8,consts:[[1,"container-fluid"],[1,"row","page-titles"],[1,"col-12","col-sm-3","col-md-5","align-self-center"],[1,"text-themecolor"],[1,"col-12","col-sm-9","col-md-7","align-self-center","text-end"],[1,"d-flex","display-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],[1,"breadcrumb-item","active"],[1,"content"],[1,"explanation-text"],["domLayout","autoHeight",3,"rowData","columnDefs","defaultColDef","pagination","columnHoverHighlight","autoSizeStrategy"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),P(4,"Patients"),D()(),b(5,"div",4)(6,"div",5)(7,"ol",6)(8,"li",7),P(9,"Pages"),D(),b(10,"li",8),P(11,"Patients"),D()()()()()(),b(12,"div",9)(13,"div",10),P(14,"The below view shows you the the patients which are currently available in the system and for which you can execute predictions. Predictions are stored into our database and you are able to see the already executed results by going to the archive."),D(),Q(15,"ag-grid-angular",11),D()),r&2&&(I(15),Pt(o.themeClass),N("rowData",o.patients)("columnDefs",o.colDefs)("defaultColDef",o.defaultColDef)("pagination",!0)("columnHoverHighlight",!0)("autoSizeStrategy",o.autoSizeStrategy))},dependencies:[ye,oo],styles:[".ag-theme-quartz[_ngcontent-%COMP%], .ag-theme-quartz-dark[_ngcontent-%COMP%]{--ag-selected-row-background-color: rgb(251, 150, 120, .3)}"]});let i=e;return i})();var i3=(()=>{let e=class e{constructor(){this.minValue=1,this.maxValue=100,this.value=50,this.valueChange=new j}setValue(n){this.value=parseInt(n.target.value),this.valueChange.next(this.value)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=re({type:e,selectors:[["slider"]],inputs:{minValue:"minValue",maxValue:"maxValue",value:"value"},outputs:{valueChange:"valueChange"},standalone:!0,features:[oe],decls:5,vars:4,consts:[["type","range",1,"slider",3,"min","max","value","change"],[1,"slider-value"]],template:function(r,o){r&1&&(b(0,"input",0),z("change",function(a){return o.setValue(a)}),D(),b(1,"p",1),P(2,"Value: "),b(3,"span"),P(4),D()()),r&2&&(N("min",o.minValue)("max",o.maxValue)("value",o.value),I(4),At(o.value))},dependencies:[ye],styles:[".slider[_ngcontent-%COMP%]{-webkit-appearance:none;width:100%;height:15px;border-radius:5px;background:#fff;outline:none;opacity:.7;-webkit-transition:.2s;transition:opacity .2s}.slider[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10px}.slider[_ngcontent-%COMP%]:hover{opacity:1}.slider[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:25px;height:25px;border-radius:50%;background:var(--bs-blue);cursor:pointer}.slider[_ngcontent-%COMP%]::-moz-range-thumb{width:25px;height:25px;border-radius:50%;background:var(--bs-blue);cursor:pointer}"]});let i=e;return i})();function e_e(i,e){if(i&1&&(Ko(0),b(1,"div",11)(2,"div",12),Q(3,"div",13),D()(),Qo()),i&2){let t=e.$implicit;I(),at("show-message",t),I(2),N("innerHTML",t,Of)}}function t_e(i,e){if(i&1){let t=Ft();b(0,"button",14),z("click",function(){Ze(t);let r=te();return Xe(r.predictWithOpenAI())}),P(1,"Get an explanation "),D()}}var r3=(()=>{let e=class e{constructor(n,r,o,s){this.httpClient=n,this.modalRefResults=r,this.router=o,this.aiPredictionService=s,this.predictionMessages=[""],this.isUsingOpenAI=!1,this.loading=!1}bookAnAppointment(){this.router.navigate(["/appointment"],{queryParams:{patientId:this.patient?.id}}),this.modalRefResults.close()}closeModalAndClearForm(){this.modalRefResults.close()}predictWithOpenAI(){this.loading=!0,this.isUsingOpenAI=!0;let n=this.aiPredictionService.predictionRequest;n.percentage=this.aiPredictionService.prediction,this.httpClient.post(pe.serverAddress+this.aiPredictionService.api.openAiPredict,this.aiPredictionService.predictionRequest).subscribe(r=>{this.predictionMessages.push(r.choices[0].text)},r=>{this.predictionMessages[0]="An error occurred while predicting with Open AI.";for(let o=1;o<this.predictionMessages.length;o++)this.predictionMessages[o]=""}).add(()=>this.loading=!1)}};e.\u0275fac=function(r){return new(r||e)(x(je),x(Hi),x(Dt),x(ji))},e.\u0275cmp=re({type:e,selectors:[["app-results-popup"]],standalone:!0,features:[oe],decls:13,vars:4,consts:[[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"d-flex","justify-content-center","align-items-center","flex-row","gap-2"],["type","button","class","btn btn-secondary",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","ml-2",3,"click"],[1,"loader-container"],[1,"loader"],[1,"justify-content-center","align-items-center"],[1,"custom-message"],[3,"innerHTML"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"h5",1),P(2,"Prediction Results"),D(),b(3,"button",2),z("click",function(){return o.closeModalAndClearForm()}),D()(),b(4,"div",3),ue(5,e_e,4,3,"ng-container",4),D(),b(6,"div",5)(7,"div",6),ue(8,t_e,2,0,"button",7),b(9,"button",8),z("click",function(){return o.bookAnAppointment()}),P(10," Book an Appointment "),D()()(),b(11,"div",9),Q(12,"div",10),D()),r&2&&(I(5),N("ngForOf",o.predictionMessages),I(3),N("ngIf",!o.isUsingOpenAI),I(3),at("show-loader",o.loading))},dependencies:[ye,Xo,Ri],styles:[".display-flex[_ngcontent-%COMP%]{display:flex!important}.custom-form-padding[_ngcontent-%COMP%]{padding-right:16px}@media (max-width: 767px){.custom-form-padding[_ngcontent-%COMP%]{padding-right:0!important}}.custom-message-block[_ngcontent-%COMP%]{display:none}.custom-message-block.show-message[_ngcontent-%COMP%]{display:block}.custom-message[_ngcontent-%COMP%]{padding:15px;border:2px solid #fb977860;color:#333;text-align:justify;background-color:#fb977815}.loader-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#fffc;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);z-index:1000;display:none}.loader-container.show-loader[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.loader[_ngcontent-%COMP%]{border:8px solid #f3f3f3;border-top:8px solid #3498db;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.custom-message[_ngcontent-%COMP%]{background:#fff;border:none}"]});let i=e;return i})();var _S=class{constructor(e){this.cp=e.cp,this.trestBps=e.trestBps,this.chol=e.chol,this.fbs=e.fbs,this.restEcg=e.restEcg,this.thalach=e.thalach,this.exang=e.exang,this.oldPeak=e.oldPeak,this.slope=e.slope,this.ca=e.ca,this.thal=e.thal}};function n_e(i,e){if(i&1&&(b(0,"option",50),P(1),D()),i&2){let t=e.$implicit;N("value",t.value),I(),At(t.label)}}function i_e(i,e){if(i&1&&(b(0,"option",50),P(1),D()),i&2){let t=e.$implicit;N("value",t.value),I(),At(t.label)}}function r_e(i,e){if(i&1&&(b(0,"option",51),P(1),D()),i&2){let t=e.$implicit,n=te();N("value",t.value)("ngClass",n.getSelectOptionClass(t.value)),I(),At(t.label)}}var o3=(()=>{let e=class e{constructor(n,r,o,s,a,l,u){this.httpClient=n,this.aiPredictionService=r,this.toastr=o,this.patientService=s,this.route=a,this.router=l,this.modalService=u,this.formStep=1,this.predictionMessage="",this.appointment=!1,this.loading=!1,this.trestBpsLow=0,this.modalRefResultsPopup=null}ngOnInit(){this.handleQueryParams(),this.aiPredictionService.predictionRequest.chol=3,this.aiPredictionService.predictionRequest.fbs=3}handleQueryParams(){this.route.queryParams.subscribe(n=>{n.patientId&&this.getPatient(n.patientId)})}getPatient(n){this.httpClient.get(pe.serverAddress+this.patientService.api.patients+"/"+n).subscribe(r=>{this.patient=r})}updateExangValue(n){this.aiPredictionService.predictionRequest.exang=n.target.checked?1:0}updateBloodValue(n){let r=n.target.value;this.aiPredictionService.predictionRequest.trestBps=r}updateBloodValueLow(n){let r=n.target.value;this.trestBpsLow=r}clearPredictionForm(){this.aiPredictionService.predictionRequest=new gl,this.toastr.info("Prediction form has been cleared!"),this.predictionMessage="",this.appointment=!1,this.trestBpsLow=0}predict(){this.validateFields()&&(this.loading=!0,this.httpClient.post(pe.serverAddress+this.aiPredictionService.api.predict,this.aiPredictionService.predictionRequest).subscribe(n=>{console.log("response",n),this.predictionMessage=`The likelihood percentage of the patient suffering from cardiovascular disease is: <div><img src="./assets/icons/smily/${n>65?"bad.svg":n<45?"good.svg":"average.svg"}" alt="smily" class="predict-result mt-3"/></div><span class="predict-result ${n>65?"predict-result-bad":n<45?"predict-result-good":"predict-result-average"}">`+n+"%</span>",this.openPredictModal(this.predictionMessage),this.aiPredictionService.prediction=n,this.appointment=!0,this.createPredictionResult(n)},n=>{this.predictionMessage="An error occurred while predicting."}).add(()=>this.loading=!1))}createPredictionResult(n){let r=new _S(this.aiPredictionService.predictionRequest);r.percentage=n,r.patientId=this.patient.id,r.houseDoctorId=xe.getLoginToken().userId,r.label=Math.round(this.aiPredictionService.prediction/100),this.httpClient.put(pe.serverAddress+this.aiPredictionService.api.predictionResult,r).subscribe(o=>{this.toastr.success("The created prediction has been stored in the Archive!")})}validateFields(n=!0){return this.aiPredictionService.predictionRequest.trestBps<1||this.trestBpsLow<1||this.aiPredictionService.predictionRequest.chol<1||this.aiPredictionService.predictionRequest.oldPeak<1?(n&&this.toastr.error("Please ensure that numeric values are greater than or equal to 1!"),this.predictionMessage="",!1):!0}getTextColor(){let n=this.aiPredictionService.predictionRequest.chol,r="";return n<5?r="green":n==5?r="orange":n>5&&(r="red"),r}getThalacColor(){let n=this.aiPredictionService.predictionRequest.thalach,r="";return n<60||n>100?r="red":r="green",r}getTextColorSugar(){let n=this.aiPredictionService.predictionRequest.fbs,r="";return n>=3&&n<=6?r="green":n<3?r="red":n>6&&n<=9?r="orange":n>9&&(r="red"),r}getTextColorCa(){let n=this.aiPredictionService.predictionRequest.ca,r="";return n==0?r="green":n==1?r="orange":n>1&&(r="red"),r}getSelectOptionClass(n){let r="";return n==0?r="normal-option":n==1?r="bad-option":n==2&&(r="worst-option"),r}getSelectOptionThal(n){let r="";return n==0?r="normal-option":n==1&&(r="worst-option"),r}getSelectOptionClassHeartRate(n){let r="";return n==3?r="normal-option":(n==6||n==7)&&(r="worst-option"),r}getSelectOptionClassPressure(n){let r="";return n==1||n==2?r="normal-option":n==3||n==4?r="bad-option":r="worst-option",r}goBack(){xe.getLoginToken().roleType==Vn.Doctor?this.router.navigate(["./patients"]):this.router.navigate(["/calendar"])}openPredictModal(n){this.modalRefResultsPopup=this.modalService.open(r3,{modalClass:"modal-lg",data:{predictionMessages:[n],patient:this.patient}})}predictWithOpenAI(){this.validateFields()&&(this.loading=!0,this.httpClient.post(pe.serverAddress+this.aiPredictionService.api.openAiPredict,this.aiPredictionService.predictionRequest).subscribe(n=>{this.predictionMessage=n.choices[0].text},n=>{this.predictionMessage="An error occurred while predicting with Open AI."}).add(()=>this.loading=!1))}};e.\u0275fac=function(r){return new(r||e)(x(je),x(ji),x(zt),x(Kr),x(Ni),x(Dt),x(Ot))},e.\u0275cmp=re({type:e,selectors:[["app-ai-prediction"]],standalone:!0,features:[vt([Ot]),oe],decls:109,vars:35,consts:[[1,"container-fluid"],[1,"row","page-titles"],[1,"col-12","col-sm-3","col-md-5","align-self-center"],[1,"d-flex","display-flex","align-items-center"],["type","button",1,"btn","btn-info","d-lg-block","m-r-15","text-white",3,"click"],[1,"fas","fa-angle-left"],[1,"text-themecolor"],[1,"col-12","col-sm-9","col-md-7","align-self-center","text-end"],[1,"d-flex","display-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],[1,"breadcrumb-item","active"],["type","button",1,"btn","btn-info","d-lg-block","m-l-15","text-white",3,"click"],[1,"fas","fa-eraser"],[1,"m-4","form-predict",3,"ngSubmit"],["predictionForm","ngForm"],[1,"explanation-text"],[1,"d-flex","flex-wrap"],[1,"col-12","col-md-6","col-lg-4","d-flex","display-flex","flex-wrap","justify-content-between"],[1,"form-group","col-12","col-lg-11","custom-form-padding"],["for","cp"],["id","cp","name","cp","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between"],[1,"slider-label"],[1,"normal-label-text"],[1,"slider-component",3,"maxValue","minValue","value","valueChange"],["for","oldPeak"],["for","trestBps"],[1,"d-flex","display-flex","flex-wrap","justify-content-between"],[1,"col-5","col-md-5"],["type","number","id","high","name","high","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["type","number","id","low","name","low","required","",1,"form-control",3,"ngModel","change","ngModelChange"],["for","chol"],[1,"slider-component",3,"maxValue","value","valueChange"],["for","thalach"],["for","slope"],[1,"col-12","col-md-6","col-lg-4","d-flex","display-flex","height-max-content","flex-wrap","justify-content-between"],["for","restEcg"],["id","restEcg","name","restEcg","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"value","ngClass",4,"ngFor","ngForOf"],["for","exang"],["type","checkbox","id","exang","name","exang","required","",3,"checked","change"],["for","exang",1,"form-check-label","exang-margin"],[1,"d-flex","flex-column","gap-1"],[1,"d-flex","flex-row","gap-1"],[2,"color","rgba(255, 0, 0, 0.803)","font-weight","bold","margin-bottom","3px"],["type","submit",1,"btn","btn-primary","margin-button",3,"disabled"],[1,"loader-container"],[1,"loader"],[3,"value"],[3,"value","ngClass"]],template:function(r,o){if(r&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),z("click",function(){return o.goBack()}),Q(5,"i",5),D(),b(6,"h4",6),P(7,"AI Prediction"),D()()(),b(8,"div",7)(9,"div",8)(10,"ol",9)(11,"li",10),P(12,"Pages"),D(),b(13,"li",11),P(14,"AI Prediction"),D(),b(15,"li",10),P(16),D()(),b(17,"button",12),z("click",function(){return o.clearPredictionForm()}),Q(18,"i",13),P(19," Clear prediction form"),D()()()()(),b(20,"form",14,15),z("ngSubmit",function(){return o.predict()}),b(22,"div",16),P(23,"In order to get the prediction results please select the below fields after which you will be capable to use the predict button to get the result of the AI using our custom ML.NET model. Also you will be able to use ChatGPT to get more insights into the parametars."),D(),b(24,"div",17)(25,"div",18)(26,"div",19)(27,"label",20),P(28,"*Chest Pain Type (Cp)"),D(),b(29,"select",21),z("ngModelChange",function(a){return o.aiPredictionService.predictionRequest.cp=a}),ue(30,n_e,2,2,"option",22),D()(),b(31,"div",19)(32,"label",20),P(33,"*Fasting Blood Sugar (Fbs)"),D(),b(34,"select",21),z("ngModelChange",function(a){return o.aiPredictionService.predictionRequest.fbs=a}),ue(35,i_e,2,2,"option",22),D()(),b(36,"div",19)(37,"div",23)(38,"span",24)(39,"label"),P(40,"*Number of Major Vessels Colored by Fluoroscopy (Ca) "),D(),b(41,"span",25),P(42," (Normal: 0)"),D()()(),b(43,"slider",26),z("valueChange",function(a){return o.aiPredictionService.predictionRequest.ca=a}),D()(),b(44,"div",19)(45,"span",24)(46,"label",27),P(47,"*ST Depression Induced by Exercise Relative to Rest (Old Peak)"),D()(),b(48,"slider",26),z("valueChange",function(a){return o.aiPredictionService.predictionRequest.oldPeak=a}),D()()(),b(49,"div",18)(50,"div",19)(51,"div",23)(52,"label",28),P(53,"*Resting Blood Pressure (High/Low) "),D(),b(54,"span",25),P(55," (Normal: 120/80 mmHg)"),D()(),b(56,"div",29)(57,"div",30)(58,"input",31),z("ngModelChange",function(a){return o.aiPredictionService.predictionRequest.trestBps=a})("change",function(a){return o.updateBloodValue(a)}),D()(),b(59,"div",30)(60,"input",32),z("change",function(a){return o.updateBloodValueLow(a)})("ngModelChange",function(a){return o.trestBpsLow=a}),D()()()(),b(61,"div",19)(62,"div",23)(63,"span",24)(64,"label",33),P(65,"*Serum Cholesterol (Chol) "),D(),b(66,"span",25),P(67," (Normal: < 5 mmol / L)"),D()()(),b(68,"slider",34),z("valueChange",function(a){return o.aiPredictionService.predictionRequest.chol=a}),D()(),b(69,"div",19)(70,"div",23)(71,"span",24)(72,"label",35),P(73,"*Maximum Heart Rate Achieved (Thalach) "),D(),b(74,"span",25),P(75," (Normal: 60-100 bpm)"),D()()(),b(76,"slider",34),z("valueChange",function(a){return o.aiPredictionService.predictionRequest.thalach=a}),D()(),b(77,"div",19)(78,"span",24)(79,"label",36),P(80,"*Slope of the Peak Exercise ST Segment (Slope)"),D()(),b(81,"slider",26),z("valueChange",function(a){return o.aiPredictionService.predictionRequest.slope=a}),D()()(),b(82,"div",37)(83,"div",19)(84,"label",38),P(85,"*Resting Electrocardiographic Results (Rest ECG)"),D(),b(86,"select",39),z("ngModelChange",function(a){return o.aiPredictionService.predictionRequest.restEcg=a}),ue(87,r_e,2,3,"option",40),D()(),b(88,"div",19)(89,"span",24)(90,"label",35),P(91,"*Thalassemia (Thal) "),D()(),b(92,"slider",26),z("valueChange",function(a){return o.aiPredictionService.predictionRequest.thal=a}),D()(),b(93,"div",19)(94,"label",41),P(95,"Exercise Induced Angina (Exang)"),D(),b(96,"div")(97,"input",42),z("change",function(a){return o.updateExangValue(a)}),D(),b(98,"label",43),P(99,"Exang"),D()()()()(),b(100,"div",44)(101,"div",45)(102,"label",46),P(103,"*All fields are required"),D()(),b(104,"div",45)(105,"button",47),P(106,"Predict"),D()()(),b(107,"div",48),Q(108,"div",49),D()()),r&2){let s=Zo(21);I(16),At((o.patient==null?null:o.patient.firstName)+" "+(o.patient==null?null:o.patient.lastName)),I(13),N("ngModel",o.aiPredictionService.predictionRequest.cp),I(),N("ngForOf",o.aiPredictionService.cpOptions),I(4),N("ngModel",o.aiPredictionService.predictionRequest.fbs),I(),N("ngForOf",o.aiPredictionService.fbs),I(8),ci("color",o.getTextColorCa()),N("maxValue",3)("minValue",0)("value",o.aiPredictionService.predictionRequest.ca),I(5),N("maxValue",6)("minValue",0)("value",o.aiPredictionService.predictionRequest.oldPeak),I(10),N("ngModel",o.aiPredictionService.predictionRequest.trestBps),I(2),N("ngModel",o.trestBpsLow),I(8),ci("color",o.getTextColor()),N("maxValue",300)("value",o.aiPredictionService.predictionRequest.chol),I(8),ci("color",o.getThalacColor()),N("maxValue",200)("value",o.aiPredictionService.predictionRequest.thalach),I(5),N("maxValue",2)("minValue",0)("value",o.aiPredictionService.predictionRequest.slope),I(5),N("ngModel",o.aiPredictionService.predictionRequest.restEcg),I(),N("ngForOf",o.aiPredictionService.restEcgOptions),I(5),N("maxValue",3)("minValue",1)("value",o.aiPredictionService.predictionRequest.thal),I(5),N("checked",o.aiPredictionService.predictionRequest.exang),I(8),N("disabled",!s.form.valid),I(2),at("show-loader",o.loading)}},dependencies:[ye,Ua,Xo,Za,xd,Md,is,LT,Od,rs,Qa,_o,yo,Zs,i3],styles:['.display-flex[_ngcontent-%COMP%]{display:flex!important}.form-predict[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:10px;font-size:11px}.form-predict[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-predict[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:11px}.margin-button[_ngcontent-%COMP%]{margin-right:10px}.exang-margin[_ngcontent-%COMP%]{margin-left:7px}.custom-form-padding[_ngcontent-%COMP%]{padding-right:16px}@media (max-width: 767px){.custom-form-padding[_ngcontent-%COMP%]{padding-right:0!important}}.custom-message-block[_ngcontent-%COMP%]{display:none}.custom-message-block.show-message[_ngcontent-%COMP%]{display:block}.custom-message[_ngcontent-%COMP%]{padding:15px;border:2px solid silver;color:#333;background-color:#f2f2f2}.loader-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#fffc;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);z-index:1000;display:none}.loader-container.show-loader[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.loader[_ngcontent-%COMP%]{border:8px solid #f3f3f3;border-top:8px solid #3498db;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}#progressbar[_ngcontent-%COMP%]{width:100%;margin-left:25%;margin-bottom:30px;overflow:hidden;color:#d3d3d3}#progressbar[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#000}#progressbar[_ngcontent-%COMP%]   #step1[_ngcontent-%COMP%]:before{text-align:center;font-family:FontAwesome;content:"1"}#progressbar[_ngcontent-%COMP%]   #step2[_ngcontent-%COMP%]:before{text-align:center;font-family:FontAwesome;content:"2"}#progressbar[_ngcontent-%COMP%]   #step3[_ngcontent-%COMP%]:before{text-align:center;font-family:FontAwesome;content:"3"}#progressbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none;font-size:12px;width:25%;float:left;position:relative}#progressbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{width:50px;height:50px;line-height:45px;display:block;font-size:18px;color:#fff;background:#d3d3d3;border-radius:50%;margin:0 auto 10px;padding:2px}#progressbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:after{content:"";width:100%;height:2px;background:#d3d3d3;position:absolute;left:0;top:25px;z-index:-1}#progressbar[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:before, #progressbar[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:after{background:#87ceeb}.inline-elements[_ngcontent-%COMP%]{display:inline-flex;align-items:center}.slider-label[_ngcontent-%COMP%]{padding-bottom:6px;display:flex;justify-content:space-between;width:100%}']});let i=e;return i})();var s3=(()=>{let e=class e{constructor(n,r,o,s,a){this.aiPredictionService=n,this.httpClient=r,this.patientService=o,this.route=s,this.router=a,this.themeClass="ag-theme-quartz",this.predictionResults=[],this.defaultColDef={filter:!0,floatingFilter:!0},this.colDefs=[{field:"id",headerName:"ID",hide:!0},{field:"percentage",headerName:"Probability Percentage",valueFormatter:this.percentageFormatter},{field:"cp",headerName:"Chest Pain Type"},{field:"trestBps",headerName:"Resting Blood Pressure"},{field:"chol",headerName:"Serum Cholesterol"},{field:"fbs",headerName:"Fasting Blood Sugar"},{field:"restEcg",headerName:"Rest ECG"},{field:"thalach",headerName:"Maximum Heart Rate Achieved"},{field:"exang",headerName:"Exercise Induced Angina"},{field:"oldPeak",headerName:"Old Peak"},{field:"slope",headerName:"Slope"},{field:"ca",headerName:"Number of Vessels Colored"},{field:"thal",headerName:"Thalassemia"},{field:"created",headerName:"Created At",valueFormatter:this.dateFormatter},{field:"label",headerName:"Result"}],this.gridOptions={getRowStyle:l=>{let u=l.data.percentage;return u>=0&&u<=15?{background:"rgba(204, 255, 204, 0.5)"}:u>=16&&u<=55?{background:"rgba(255, 230, 204, 0.5)"}:{background:"rgba(255, 204, 204, 0.5)"}}}}ngOnInit(){this.handleQueryParams()}dateFormatter(n){return new Date(n.value).toLocaleDateString("en-us",{weekday:"long",year:"numeric",month:"short",day:"numeric"})}percentageFormatter(n){return`${n.value} %`}handleQueryParams(){this.route.queryParams.subscribe(n=>{n.patientId&&this.getPatient(n.patientId)})}getPatient(n){this.httpClient.get(pe.serverAddress+this.patientService.api.patients+"/"+n).subscribe(r=>{this.patient=r,this.getArchives()})}getArchives(){this.httpClient.get(pe.serverAddress+this.aiPredictionService.api.predictionResult+"/"+this.patient.id).subscribe(n=>{this.predictionResults=n})}goBack(){this.router.navigate(["/patients"])}};e.\u0275fac=function(r){return new(r||e)(x(ji),x(je),x(Kr),x(Ni),x(Dt))},e.\u0275cmp=re({type:e,selectors:[["app-archive"]],standalone:!0,features:[oe],decls:19,vars:9,consts:[[1,"container-fluid"],[1,"row","page-titles"],[1,"col-12","col-sm-3","col-md-5","align-self-center"],[1,"d-flex","display-flex","align-items-center"],["type","button",1,"btn","btn-info","d-lg-block","m-r-15","text-white",3,"click"],[1,"fas","fa-angle-left"],[1,"text-themecolor"],[1,"col-12","col-sm-9","col-md-7","align-self-center","text-end"],[1,"d-flex","display-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],[1,"breadcrumb-item","active"],[1,"content"],["domLayout","autoHeight",3,"rowData","columnDefs","defaultColDef","pagination","columnHoverHighlight","gridOptions"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),z("click",function(){return o.goBack()}),Q(5,"i",5),D(),b(6,"h4",6),P(7,"Archives"),D()()(),b(8,"div",7)(9,"div",8)(10,"ol",9)(11,"li",10),P(12,"Pages"),D(),b(13,"li",11),P(14,"Archives"),D(),b(15,"li",10),P(16),D()()()()()(),b(17,"div",12),Q(18,"ag-grid-angular",13),D()),r&2&&(I(16),At((o.patient==null?null:o.patient.firstName)+" "+(o.patient==null?null:o.patient.lastName)),I(2),Pt(o.themeClass),N("rowData",o.predictionResults)("columnDefs",o.colDefs)("defaultColDef",o.defaultColDef)("pagination",!0)("columnHoverHighlight",!0)("gridOptions",o.gridOptions))},dependencies:[ye,oo]});let i=e;return i})();function fm(i){return i+.5|0}var Ll=(i,e,t)=>Math.max(Math.min(i,t),e);function dm(i){return Ll(fm(i*2.55),0,255)}function kl(i){return Ll(fm(i*255),0,255)}function ma(i){return Ll(fm(i/2.55)/100,0,1)}function a3(i){return Ll(fm(i*100),0,100)}var so={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},dI=[..."0123456789ABCDEF"],o_e=i=>dI[i&15],s_e=i=>dI[(i&240)>>4]+dI[i&15],CS=i=>(i&240)>>4===(i&15),a_e=i=>CS(i.r)&&CS(i.g)&&CS(i.b)&&CS(i.a);function l_e(i){var e=i.length,t;return i[0]==="#"&&(e===4||e===5?t={r:255&so[i[1]]*17,g:255&so[i[2]]*17,b:255&so[i[3]]*17,a:e===5?so[i[4]]*17:255}:(e===7||e===9)&&(t={r:so[i[1]]<<4|so[i[2]],g:so[i[3]]<<4|so[i[4]],b:so[i[5]]<<4|so[i[6]],a:e===9?so[i[7]]<<4|so[i[8]]:255})),t}var u_e=(i,e)=>i<255?e(i):"";function c_e(i){var e=a_e(i)?o_e:s_e;return i?"#"+e(i.r)+e(i.g)+e(i.b)+u_e(i.a,e):void 0}var d_e=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function d3(i,e,t){let n=e*Math.min(t,1-t),r=(o,s=(o+i/30)%12)=>t-n*Math.max(Math.min(s-3,9-s,1),-1);return[r(0),r(8),r(4)]}function h_e(i,e,t){let n=(r,o=(r+i/60)%6)=>t-t*e*Math.max(Math.min(o,4-o,1),0);return[n(5),n(3),n(1)]}function f_e(i,e,t){let n=d3(i,1,.5),r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)n[r]*=1-e-t,n[r]+=e;return n}function p_e(i,e,t,n,r){return i===r?(e-t)/n+(e<t?6:0):e===r?(t-i)/n+2:(i-e)/n+4}function hI(i){let t=i.r/255,n=i.g/255,r=i.b/255,o=Math.max(t,n,r),s=Math.min(t,n,r),a=(o+s)/2,l,u,c;return o!==s&&(c=o-s,u=a>.5?c/(2-o-s):c/(o+s),l=p_e(t,n,r,c,o),l=l*60+.5),[l|0,u||0,a]}function fI(i,e,t,n){return(Array.isArray(e)?i(e[0],e[1],e[2]):i(e,t,n)).map(kl)}function pI(i,e,t){return fI(d3,i,e,t)}function g_e(i,e,t){return fI(f_e,i,e,t)}function m_e(i,e,t){return fI(h_e,i,e,t)}function h3(i){return(i%360+360)%360}function v_e(i){let e=d_e.exec(i),t=255,n;if(!e)return;e[5]!==n&&(t=e[6]?dm(+e[5]):kl(+e[5]));let r=h3(+e[2]),o=+e[3]/100,s=+e[4]/100;return e[1]==="hwb"?n=g_e(r,o,s):e[1]==="hsv"?n=m_e(r,o,s):n=pI(r,o,s),{r:n[0],g:n[1],b:n[2],a:t}}function y_e(i,e){var t=hI(i);t[0]=h3(t[0]+e),t=pI(t),i.r=t[0],i.g=t[1],i.b=t[2]}function __e(i){if(!i)return;let e=hI(i),t=e[0],n=a3(e[1]),r=a3(e[2]);return i.a<255?`hsla(${t}, ${n}%, ${r}%, ${ma(i.a)})`:`hsl(${t}, ${n}%, ${r}%)`}var l3={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},u3={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function C_e(){let i={},e=Object.keys(u3),t=Object.keys(l3),n,r,o,s,a;for(n=0;n<e.length;n++){for(s=a=e[n],r=0;r<t.length;r++)o=t[r],a=a.replace(o,l3[o]);o=parseInt(u3[s],16),i[a]=[o>>16&255,o>>8&255,o&255]}return i}var wS;function w_e(i){wS||(wS=C_e(),wS.transparent=[0,0,0,0]);let e=wS[i.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}var S_e=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function b_e(i){let e=S_e.exec(i),t=255,n,r,o;if(e){if(e[7]!==n){let s=+e[7];t=e[8]?dm(s):Ll(s*255,0,255)}return n=+e[1],r=+e[3],o=+e[5],n=255&(e[2]?dm(n):Ll(n,0,255)),r=255&(e[4]?dm(r):Ll(r,0,255)),o=255&(e[6]?dm(o):Ll(o,0,255)),{r:n,g:r,b:o,a:t}}}function E_e(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${ma(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}var cI=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,Oh=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function D_e(i,e,t){let n=Oh(ma(i.r)),r=Oh(ma(i.g)),o=Oh(ma(i.b));return{r:kl(cI(n+t*(Oh(ma(e.r))-n))),g:kl(cI(r+t*(Oh(ma(e.g))-r))),b:kl(cI(o+t*(Oh(ma(e.b))-o))),a:i.a+t*(e.a-i.a)}}function SS(i,e,t){if(i){let n=hI(i);n[e]=Math.max(0,Math.min(n[e]+n[e]*t,e===0?360:1)),n=pI(n),i.r=n[0],i.g=n[1],i.b=n[2]}}function f3(i,e){return i&&Object.assign(e||{},i)}function c3(i){var e={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(e={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(e.a=kl(i[3]))):(e=f3(i,{r:0,g:0,b:0,a:1}),e.a=kl(e.a)),e}function T_e(i){return i.charAt(0)==="r"?b_e(i):v_e(i)}var hm=class i{constructor(e){if(e instanceof i)return e;let t=typeof e,n;t==="object"?n=c3(e):t==="string"&&(n=l_e(e)||w_e(e)||T_e(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=f3(this._rgb);return e&&(e.a=ma(e.a)),e}set rgb(e){this._rgb=c3(e)}rgbString(){return this._valid?E_e(this._rgb):void 0}hexString(){return this._valid?c_e(this._rgb):void 0}hslString(){return this._valid?__e(this._rgb):void 0}mix(e,t){if(e){let n=this.rgb,r=e.rgb,o,s=t===o?.5:t,a=2*s-1,l=n.a-r.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;o=1-u,n.r=255&u*n.r+o*r.r+.5,n.g=255&u*n.g+o*r.g+.5,n.b=255&u*n.b+o*r.b+.5,n.a=s*n.a+(1-s)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=D_e(this._rgb,e._rgb,t)),this}clone(){return new i(this.rgb)}alpha(e){return this._rgb.a=kl(e),this}clearer(e){let t=this._rgb;return t.a*=1-e,this}greyscale(){let e=this._rgb,t=fm(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){let t=this._rgb;return t.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return SS(this._rgb,2,e),this}darken(e){return SS(this._rgb,2,-e),this}saturate(e){return SS(this._rgb,1,e),this}desaturate(e){return SS(this._rgb,1,-e),this}rotate(e){return y_e(this._rgb,e),this}};function Rs(){}var E3=(()=>{let i=0;return()=>i++})();function ht(i){return i===null||typeof i>"u"}function Vt(i){if(Array.isArray&&Array.isArray(i))return!0;let e=Object.prototype.toString.call(i);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function nt(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function Xt(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function tr(i,e){return Xt(i)?i:e}function Ve(i,e){return typeof i>"u"?e:i}var D3=(i,e)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/e,yI=(i,e)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*e:+i;function Lt(i,e,t){if(i&&typeof i.call=="function")return i.apply(t,e)}function bt(i,e,t,n){let r,o,s;if(Vt(i))if(o=i.length,n)for(r=o-1;r>=0;r--)e.call(t,i[r],r);else for(r=0;r<o;r++)e.call(t,i[r],r);else if(nt(i))for(s=Object.keys(i),o=s.length,r=0;r<o;r++)e.call(t,i[s[r]],s[r])}function mm(i,e){let t,n,r,o;if(!i||!e||i.length!==e.length)return!1;for(t=0,n=i.length;t<n;++t)if(r=i[t],o=e[t],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function TS(i){if(Vt(i))return i.map(TS);if(nt(i)){let e=Object.create(null),t=Object.keys(i),n=t.length,r=0;for(;r<n;++r)e[t[r]]=TS(i[t[r]]);return e}return i}function T3(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function R_e(i,e,t,n){if(!T3(i))return;let r=e[i],o=t[i];nt(r)&&nt(o)?Mh(r,o,n):e[i]=TS(o)}function Mh(i,e,t){let n=Vt(e)?e:[e],r=n.length;if(!nt(i))return i;t=t||{};let o=t.merger||R_e,s;for(let a=0;a<r;++a){if(s=n[a],!nt(s))continue;let l=Object.keys(s);for(let u=0,c=l.length;u<c;++u)o(l[u],i,s,t)}return i}function Ph(i,e){return Mh(i,e,{merger:A_e})}function A_e(i,e,t){if(!T3(i))return;let n=e[i],r=t[i];nt(n)&&nt(r)?Ph(n,r):Object.prototype.hasOwnProperty.call(e,i)||(e[i]=TS(r))}var p3={"":i=>i,x:i=>i.x,y:i=>i.y};function O_e(i){let e=i.split("."),t=[],n="";for(let r of e)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(t.push(n),n="");return t}function x_e(i){let e=O_e(i);return t=>{for(let n of e){if(n==="")break;t=t&&t[n]}return t}}function _a(i,e){return(p3[e]||(p3[e]=x_e(e)))(i)}function xS(i){return i.charAt(0).toUpperCase()+i.slice(1)}var Fh=i=>typeof i<"u",va=i=>typeof i=="function",_I=(i,e)=>{if(i.size!==e.size)return!1;for(let t of i)if(!e.has(t))return!1;return!0};function R3(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}var Ht=Math.PI,Gt=2*Ht,M_e=Gt+Ht,RS=Number.POSITIVE_INFINITY,I_e=Ht/180,an=Ht/2,_c=Ht/4,g3=Ht*2/3,ya=Math.log10,Po=Math.sign;function Nh(i,e,t){return Math.abs(i-e)<t}function CI(i){let e=Math.round(i);i=Nh(i,e,i/1e3)?e:i;let t=Math.pow(10,Math.floor(ya(i))),n=i/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function A3(i){let e=[],t=Math.sqrt(i),n;for(n=1;n<t;n++)i%n===0&&(e.push(n),e.push(i/n));return t===(t|0)&&e.push(t),e.sort((r,o)=>r-o).pop(),e}function Sc(i){return!isNaN(parseFloat(i))&&isFinite(i)}function O3(i,e){let t=Math.round(i);return t-e<=i&&t+e>=i}function wI(i,e,t){let n,r,o;for(n=0,r=i.length;n<r;n++)o=i[n][t],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function ao(i){return i*(Ht/180)}function MS(i){return i*(180/Ht)}function SI(i){if(!Xt(i))return;let e=1,t=0;for(;Math.round(i*e)/e!==i;)e*=10,t++;return t}function bI(i,e){let t=e.x-i.x,n=e.y-i.y,r=Math.sqrt(t*t+n*n),o=Math.atan2(n,t);return o<-.5*Ht&&(o+=Gt),{angle:o,distance:r}}function AS(i,e){return Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2))}function P_e(i,e){return(i-e+M_e)%Gt-Ht}function er(i){return(i%Gt+Gt)%Gt}function Lh(i,e,t,n){let r=er(i),o=er(e),s=er(t),a=er(o-r),l=er(s-r),u=er(r-o),c=er(r-s);return r===o||r===s||n&&o===s||a>l&&u<c}function Pn(i,e,t){return Math.max(e,Math.min(t,i))}function x3(i){return Pn(i,-32768,32767)}function As(i,e,t,n=1e-6){return i>=Math.min(e,t)-n&&i<=Math.max(e,t)+n}function IS(i,e,t){t=t||(s=>i[s]<e);let n=i.length-1,r=0,o;for(;n-r>1;)o=r+n>>1,t(o)?r=o:n=o;return{lo:r,hi:n}}var Ds=(i,e,t,n)=>IS(i,t,n?r=>{let o=i[r][e];return o<t||o===t&&i[r+1][e]===t}:r=>i[r][e]<t),M3=(i,e,t)=>IS(i,t,n=>i[n][e]>=t);function I3(i,e,t){let n=0,r=i.length;for(;n<r&&i[n]<e;)n++;for(;r>n&&i[r-1]>t;)r--;return n>0||r<i.length?i.slice(n,r):i}var P3=["push","pop","shift","splice","unshift"];function F3(i,e){if(i._chartjs){i._chartjs.listeners.push(e);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),P3.forEach(t=>{let n="_onData"+xS(t),r=i[t];Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value(...o){let s=r.apply(this,o);return i._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...o)}),s}})})}function EI(i,e){let t=i._chartjs;if(!t)return;let n=t.listeners,r=n.indexOf(e);r!==-1&&n.splice(r,1),!(n.length>0)&&(P3.forEach(o=>{delete i[o]}),delete i._chartjs)}function DI(i){let e=new Set(i);return e.size===i.length?i:Array.from(e)}var TI=function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame}();function RI(i,e){let t=[],n=!1;return function(...r){t=r,n||(n=!0,TI.call(window,()=>{n=!1,i.apply(e,t)}))}}function N3(i,e){let t;return function(...n){return e?(clearTimeout(t),t=setTimeout(i,e,n)):i.apply(this,n),e}}var PS=i=>i==="start"?"left":i==="end"?"right":"center",ri=(i,e,t)=>i==="start"?e:i==="end"?t:(e+t)/2,L3=(i,e,t,n)=>i===(n?"left":"right")?t:i==="center"?(e+t)/2:e;function AI(i,e,t){let n=e.length,r=0,o=n;if(i._sorted){let{iScale:s,_parsed:a}=i,l=s.axis,{min:u,max:c,minDefined:d,maxDefined:h}=s.getUserBounds();d&&(r=Pn(Math.min(Ds(a,l,u).lo,t?n:Ds(e,l,s.getPixelForValue(u)).lo),0,n-1)),h?o=Pn(Math.max(Ds(a,s.axis,c,!0).hi+1,t?0:Ds(e,l,s.getPixelForValue(c),!0).hi+1),r,n)-r:o=n-r}return{start:r,count:o}}function OI(i){let{xScale:e,yScale:t,_scaleRanges:n}=i,r={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!n)return i._scaleRanges=r,!0;let o=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==t.min||n.ymax!==t.max;return Object.assign(n,r),o}var bS=i=>i===0||i===1,m3=(i,e,t)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-e)*Gt/t)),v3=(i,e,t)=>Math.pow(2,-10*i)*Math.sin((i-e)*Gt/t)+1,xh={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*an)+1,easeOutSine:i=>Math.sin(i*an),easeInOutSine:i=>-.5*(Math.cos(Ht*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>bS(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>bS(i)?i:m3(i,.075,.3),easeOutElastic:i=>bS(i)?i:v3(i,.075,.3),easeInOutElastic(i){return bS(i)?i:i<.5?.5*m3(i*2,.1125,.45):.5+.5*v3(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let e=1.70158;return(i/=.5)<1?.5*(i*i*(((e*=1.525)+1)*i-e)):.5*((i-=2)*i*(((e*=1.525)+1)*i+e)+2)},easeInBounce:i=>1-xh.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?xh.easeInBounce(i*2)*.5:xh.easeOutBounce(i*2-1)*.5+.5};function xI(i){if(i&&typeof i=="object"){let e=i.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function MI(i){return xI(i)?i:new hm(i)}function gI(i){return xI(i)?i:new hm(i).saturate(.5).darken(.1).hexString()}var F_e=["x","y","borderWidth","radius","tension"],N_e=["color","borderColor","backgroundColor"];function L_e(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),i.set("animations",{colors:{type:"color",properties:N_e},numbers:{type:"number",properties:F_e}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function k_e(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var y3=new Map;function V_e(i,e){e=e||{};let t=i+JSON.stringify(e),n=y3.get(t);return n||(n=new Intl.NumberFormat(i,e),y3.set(t,n)),n}function kh(i,e,t){return V_e(e,t).format(i)}var k3={values(i){return Vt(i)?i:""+i},numeric(i,e,t){if(i===0)return"0";let n=this.chart.options.locale,r,o=i;if(t.length>1){let u=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(u<1e-4||u>1e15)&&(r="scientific"),o=H_e(i,t)}let s=ya(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),kh(i,n,l)},logarithmic(i,e,t){if(i===0)return"0";let n=t[e].significand||i/Math.pow(10,Math.floor(ya(i)));return[1,2,3,5,10,15].includes(n)||e>.8*t.length?k3.numeric.call(this,i,e,t):""}};function H_e(i,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&i!==Math.floor(i)&&(t=i-Math.floor(i)),t}var vm={formatters:k3};function G_e(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:vm.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}var Hl=Object.create(null),FS=Object.create(null);function pm(i,e){if(!e)return i;let t=e.split(".");for(let n=0,r=t.length;n<r;++n){let o=t[n];i=i[o]||(i[o]=Object.create(null))}return i}function mI(i,e,t){return typeof e=="string"?Mh(pm(i,e),t):Mh(pm(i,""),e)}var vI=class{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>gI(r.backgroundColor),this.hoverBorderColor=(n,r)=>gI(r.borderColor),this.hoverColor=(n,r)=>gI(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return mI(this,e,t)}get(e){return pm(this,e)}describe(e,t){return mI(FS,e,t)}override(e,t){return mI(Hl,e,t)}route(e,t,n,r){let o=pm(this,e),s=pm(this,n),a="_"+t;Object.defineProperties(o,{[a]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){let l=this[a],u=s[r];return nt(l)?Object.assign({},u,l):Ve(l,u)},set(l){this[a]=l}}})}apply(e){e.forEach(t=>t(this))}},Jt=new vI({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[L_e,k_e,G_e]);function B_e(i){return!i||ht(i.size)||ht(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function gm(i,e,t,n,r){let o=e[r];return o||(o=e[r]=i.measureText(r).width,t.push(r)),o>n&&(n=o),n}function V3(i,e,t,n){n=n||{};let r=n.data=n.data||{},o=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(r=n.data={},o=n.garbageCollect=[],n.font=e),i.save(),i.font=e;let s=0,a=t.length,l,u,c,d,h;for(l=0;l<a;l++)if(d=t[l],d!=null&&!Vt(d))s=gm(i,r,o,s,d);else if(Vt(d))for(u=0,c=d.length;u<c;u++)h=d[u],h!=null&&!Vt(h)&&(s=gm(i,r,o,s,h));i.restore();let f=o.length/2;if(f>t.length){for(l=0;l<f;l++)delete r[o[l]];o.splice(0,f)}return s}function Gl(i,e,t){let n=i.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*n)/n+r}function II(i,e){e=e||i.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,i.width,i.height),e.restore()}function NS(i,e,t,n){PI(i,e,t,n,null)}function PI(i,e,t,n,r){let o,s,a,l,u,c,d,h,f=e.pointStyle,p=e.rotation,g=e.radius,m=(p||0)*I_e;if(f&&typeof f=="object"&&(o=f.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){i.save(),i.translate(t,n),i.rotate(m),i.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),i.restore();return}if(!(isNaN(g)||g<=0)){switch(i.beginPath(),f){default:r?i.ellipse(t,n,r/2,g,0,0,Gt):i.arc(t,n,g,0,Gt),i.closePath();break;case"triangle":c=r?r/2:g,i.moveTo(t+Math.sin(m)*c,n-Math.cos(m)*g),m+=g3,i.lineTo(t+Math.sin(m)*c,n-Math.cos(m)*g),m+=g3,i.lineTo(t+Math.sin(m)*c,n-Math.cos(m)*g),i.closePath();break;case"rectRounded":u=g*.516,l=g-u,s=Math.cos(m+_c)*l,d=Math.cos(m+_c)*(r?r/2-u:l),a=Math.sin(m+_c)*l,h=Math.sin(m+_c)*(r?r/2-u:l),i.arc(t-d,n-a,u,m-Ht,m-an),i.arc(t+h,n-s,u,m-an,m),i.arc(t+d,n+a,u,m,m+an),i.arc(t-h,n+s,u,m+an,m+Ht),i.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,c=r?r/2:l,i.rect(t-c,n-l,2*c,2*l);break}m+=_c;case"rectRot":d=Math.cos(m)*(r?r/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(r?r/2:g),i.moveTo(t-d,n-a),i.lineTo(t+h,n-s),i.lineTo(t+d,n+a),i.lineTo(t-h,n+s),i.closePath();break;case"crossRot":m+=_c;case"cross":d=Math.cos(m)*(r?r/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(r?r/2:g),i.moveTo(t-d,n-a),i.lineTo(t+d,n+a),i.moveTo(t+h,n-s),i.lineTo(t-h,n+s);break;case"star":d=Math.cos(m)*(r?r/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(r?r/2:g),i.moveTo(t-d,n-a),i.lineTo(t+d,n+a),i.moveTo(t+h,n-s),i.lineTo(t-h,n+s),m+=_c,d=Math.cos(m)*(r?r/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(r?r/2:g),i.moveTo(t-d,n-a),i.lineTo(t+d,n+a),i.moveTo(t+h,n-s),i.lineTo(t-h,n+s);break;case"line":s=r?r/2:Math.cos(m)*g,a=Math.sin(m)*g,i.moveTo(t-s,n-a),i.lineTo(t+s,n+a);break;case"dash":i.moveTo(t,n),i.lineTo(t+Math.cos(m)*(r?r/2:g),n+Math.sin(m)*g);break;case!1:i.closePath();break}i.fill(),e.borderWidth>0&&i.stroke()}}function Ts(i,e,t){return t=t||.5,!e||i&&i.x>e.left-t&&i.x<e.right+t&&i.y>e.top-t&&i.y<e.bottom+t}function ym(i,e){i.save(),i.beginPath(),i.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),i.clip()}function _m(i){i.restore()}function H3(i,e,t,n,r){if(!e)return i.lineTo(t.x,t.y);if(r==="middle"){let o=(e.x+t.x)/2;i.lineTo(o,e.y),i.lineTo(o,t.y)}else r==="after"!=!!n?i.lineTo(e.x,t.y):i.lineTo(t.x,e.y);i.lineTo(t.x,t.y)}function G3(i,e,t,n){if(!e)return i.lineTo(t.x,t.y);i.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?t.cp2x:t.cp1x,n?t.cp2y:t.cp1y,t.x,t.y)}function j_e(i,e){e.translation&&i.translate(e.translation[0],e.translation[1]),ht(e.rotation)||i.rotate(e.rotation),e.color&&(i.fillStyle=e.color),e.textAlign&&(i.textAlign=e.textAlign),e.textBaseline&&(i.textBaseline=e.textBaseline)}function U_e(i,e,t,n,r){if(r.strikethrough||r.underline){let o=i.measureText(n),s=e-o.actualBoundingBoxLeft,a=e+o.actualBoundingBoxRight,l=t-o.actualBoundingBoxAscent,u=t+o.actualBoundingBoxDescent,c=r.strikethrough?(l+u)/2:u;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=r.decorationWidth||2,i.moveTo(s,c),i.lineTo(a,c),i.stroke()}}function W_e(i,e){let t=i.fillStyle;i.fillStyle=e.color,i.fillRect(e.left,e.top,e.width,e.height),i.fillStyle=t}function Bl(i,e,t,n,r,o={}){let s=Vt(e)?e:[e],a=o.strokeWidth>0&&o.strokeColor!=="",l,u;for(i.save(),i.font=r.string,j_e(i,o),l=0;l<s.length;++l)u=s[l],o.backdrop&&W_e(i,o.backdrop),a&&(o.strokeColor&&(i.strokeStyle=o.strokeColor),ht(o.strokeWidth)||(i.lineWidth=o.strokeWidth),i.strokeText(u,t,n,o.maxWidth)),i.fillText(u,t,n,o.maxWidth),U_e(i,t,n,u,o),n+=Number(r.lineHeight);i.restore()}function Vh(i,e){let{x:t,y:n,w:r,h:o,radius:s}=e;i.arc(t+s.topLeft,n+s.topLeft,s.topLeft,1.5*Ht,Ht,!0),i.lineTo(t,n+o-s.bottomLeft),i.arc(t+s.bottomLeft,n+o-s.bottomLeft,s.bottomLeft,Ht,an,!0),i.lineTo(t+r-s.bottomRight,n+o),i.arc(t+r-s.bottomRight,n+o-s.bottomRight,s.bottomRight,an,0,!0),i.lineTo(t+r,n+s.topRight),i.arc(t+r-s.topRight,n+s.topRight,s.topRight,0,-an,!0),i.lineTo(t+s.topLeft,n)}var z_e=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,$_e=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function q_e(i,e){let t=(""+i).match(z_e);if(!t||t[1]==="normal")return e*1.2;switch(i=+t[2],t[3]){case"px":return i;case"%":i/=100;break}return e*i}var Y_e=i=>+i||0;function LS(i,e){let t={},n=nt(e),r=n?Object.keys(e):e,o=nt(i)?n?s=>Ve(i[s],i[e[s]]):s=>i[s]:()=>i;for(let s of r)t[s]=Y_e(o(s));return t}function FI(i){return LS(i,{top:"y",right:"x",bottom:"y",left:"x"})}function jl(i){return LS(i,["topLeft","topRight","bottomLeft","bottomRight"])}function oi(i){let e=FI(i);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function wn(i,e){i=i||{},e=e||Jt.font;let t=Ve(i.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let n=Ve(i.style,e.style);n&&!(""+n).match($_e)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);let r={family:Ve(i.family,e.family),lineHeight:q_e(Ve(i.lineHeight,e.lineHeight),t),size:t,style:n,weight:Ve(i.weight,e.weight),string:""};return r.string=B_e(r),r}function Hh(i,e,t,n){let r=!0,o,s,a;for(o=0,s=i.length;o<s;++o)if(a=i[o],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),r=!1),t!==void 0&&Vt(a)&&(a=a[t%a.length],r=!1),a!==void 0))return n&&!r&&(n.cacheable=!1),a}function B3(i,e,t){let{min:n,max:r}=i,o=yI(e,(r-n)/2),s=(a,l)=>t&&a===0?0:a+l;return{min:s(n,-Math.abs(o)),max:s(r,o)}}function Ca(i,e){return Object.assign(Object.create(i),e)}function kS(i,e=[""],t,n,r=()=>i[0]){let o=t||i;typeof n>"u"&&(n=W3("_fallback",i));let s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:o,_fallback:n,_getTarget:r,override:a=>kS([a,...i],e,o,n)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete a._keys,delete i[0][l],!0},get(a,l){return j3(a,l,()=>nCe(l,e,i,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(a,l){return C3(a).includes(l)},ownKeys(a){return C3(a)},set(a,l,u){let c=a._storage||(a._storage=r());return a[l]=c[l]=u,delete a._keys,!0}})}function wc(i,e,t,n){let r={_cacheable:!1,_proxy:i,_context:e,_subProxy:t,_stack:new Set,_descriptors:NI(i,n),setContext:o=>wc(i,o,t,n),override:o=>wc(i.override(o),e,t,n)};return new Proxy(r,{deleteProperty(o,s){return delete o[s],delete i[s],!0},get(o,s,a){return j3(o,s,()=>Q_e(o,s,a))},getOwnPropertyDescriptor(o,s){return o._descriptors.allKeys?Reflect.has(i,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,s)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(o,s){return Reflect.has(i,s)},ownKeys(){return Reflect.ownKeys(i)},set(o,s,a){return i[s]=a,delete o[s],!0}})}function NI(i,e={scriptable:!0,indexable:!0}){let{_scriptable:t=e.scriptable,_indexable:n=e.indexable,_allKeys:r=e.allKeys}=i;return{allKeys:r,scriptable:t,indexable:n,isScriptable:va(t)?t:()=>t,isIndexable:va(n)?n:()=>n}}var K_e=(i,e)=>i?i+xS(e):e,LI=(i,e)=>nt(e)&&i!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function j3(i,e,t){if(Object.prototype.hasOwnProperty.call(i,e))return i[e];let n=t();return i[e]=n,n}function Q_e(i,e,t){let{_proxy:n,_context:r,_subProxy:o,_descriptors:s}=i,a=n[e];return va(a)&&s.isScriptable(e)&&(a=Z_e(e,a,i,t)),Vt(a)&&a.length&&(a=X_e(e,a,i,s.isIndexable)),LI(e,a)&&(a=wc(a,r,o&&o[e],s)),a}function Z_e(i,e,t,n){let{_proxy:r,_context:o,_subProxy:s,_stack:a}=t;if(a.has(i))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+i);a.add(i);let l=e(o,s||n);return a.delete(i),LI(i,l)&&(l=kI(r._scopes,r,i,l)),l}function X_e(i,e,t,n){let{_proxy:r,_context:o,_subProxy:s,_descriptors:a}=t;if(typeof o.index<"u"&&n(i))return e[o.index%e.length];if(nt(e[0])){let l=e,u=r._scopes.filter(c=>c!==l);e=[];for(let c of l){let d=kI(u,r,i,c);e.push(wc(d,o,s&&s[i],a))}}return e}function U3(i,e,t){return va(i)?i(e,t):i}var J_e=(i,e)=>i===!0?e:typeof i=="string"?_a(e,i):void 0;function eCe(i,e,t,n,r){for(let o of e){let s=J_e(t,o);if(s){i.add(s);let a=U3(s._fallback,t,r);if(typeof a<"u"&&a!==t&&a!==n)return a}else if(s===!1&&typeof n<"u"&&t!==n)return null}return!1}function kI(i,e,t,n){let r=e._rootScopes,o=U3(e._fallback,t,n),s=[...i,...r],a=new Set;a.add(n);let l=_3(a,s,t,o||t,n);return l===null||typeof o<"u"&&o!==t&&(l=_3(a,s,o,l,n),l===null)?!1:kS(Array.from(a),[""],r,o,()=>tCe(e,t,n))}function _3(i,e,t,n,r){for(;t;)t=eCe(i,e,t,n,r);return t}function tCe(i,e,t){let n=i._getTarget();e in n||(n[e]={});let r=n[e];return Vt(r)&&nt(t)?t:r||{}}function nCe(i,e,t,n){let r;for(let o of e)if(r=W3(K_e(o,i),t),typeof r<"u")return LI(i,r)?kI(t,n,i,r):r}function W3(i,e){for(let t of e){if(!t)continue;let n=t[i];if(typeof n<"u")return n}}function C3(i){let e=i._keys;return e||(e=i._keys=iCe(i._scopes)),e}function iCe(i){let e=new Set;for(let t of i)for(let n of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(n);return Array.from(e)}function VI(i,e,t,n){let{iScale:r}=i,{key:o="r"}=this._parsing,s=new Array(n),a,l,u,c;for(a=0,l=n;a<l;++a)u=a+t,c=e[u],s[a]={r:r.parse(_a(c,o),u)};return s}var rCe=Number.EPSILON||1e-14,Ih=(i,e)=>e<i.length&&!i[e].skip&&i[e],z3=i=>i==="x"?"y":"x";function oCe(i,e,t,n){let r=i.skip?e:i,o=e,s=t.skip?e:t,a=AS(o,r),l=AS(s,o),u=a/(a+l),c=l/(a+l);u=isNaN(u)?0:u,c=isNaN(c)?0:c;let d=n*u,h=n*c;return{previous:{x:o.x-d*(s.x-r.x),y:o.y-d*(s.y-r.y)},next:{x:o.x+h*(s.x-r.x),y:o.y+h*(s.y-r.y)}}}function sCe(i,e,t){let n=i.length,r,o,s,a,l,u=Ih(i,0);for(let c=0;c<n-1;++c)if(l=u,u=Ih(i,c+1),!(!l||!u)){if(Nh(e[c],0,rCe)){t[c]=t[c+1]=0;continue}r=t[c]/e[c],o=t[c+1]/e[c],a=Math.pow(r,2)+Math.pow(o,2),!(a<=9)&&(s=3/Math.sqrt(a),t[c]=r*s*e[c],t[c+1]=o*s*e[c])}}function aCe(i,e,t="x"){let n=z3(t),r=i.length,o,s,a,l=Ih(i,0);for(let u=0;u<r;++u){if(s=a,a=l,l=Ih(i,u+1),!a)continue;let c=a[t],d=a[n];s&&(o=(c-s[t])/3,a[`cp1${t}`]=c-o,a[`cp1${n}`]=d-o*e[u]),l&&(o=(l[t]-c)/3,a[`cp2${t}`]=c+o,a[`cp2${n}`]=d+o*e[u])}}function lCe(i,e="x"){let t=z3(e),n=i.length,r=Array(n).fill(0),o=Array(n),s,a,l,u=Ih(i,0);for(s=0;s<n;++s)if(a=l,l=u,u=Ih(i,s+1),!!l){if(u){let c=u[e]-l[e];r[s]=c!==0?(u[t]-l[t])/c:0}o[s]=a?u?Po(r[s-1])!==Po(r[s])?0:(r[s-1]+r[s])/2:r[s-1]:r[s]}sCe(i,r,o),aCe(i,o,e)}function ES(i,e,t){return Math.max(Math.min(i,t),e)}function uCe(i,e){let t,n,r,o,s,a=Ts(i[0],e);for(t=0,n=i.length;t<n;++t)s=o,o=a,a=t<n-1&&Ts(i[t+1],e),o&&(r=i[t],s&&(r.cp1x=ES(r.cp1x,e.left,e.right),r.cp1y=ES(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=ES(r.cp2x,e.left,e.right),r.cp2y=ES(r.cp2y,e.top,e.bottom)))}function $3(i,e,t,n,r){let o,s,a,l;if(e.spanGaps&&(i=i.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")lCe(i,r);else{let u=n?i[i.length-1]:i[0];for(o=0,s=i.length;o<s;++o)a=i[o],l=oCe(u,a,i[Math.min(o+1,s-(n?0:1))%s],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,u=a}e.capBezierPoints&&uCe(i,t)}function VS(){return typeof window<"u"&&typeof document<"u"}function HS(i){let e=i.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function OS(i,e,t){let n;return typeof i=="string"?(n=parseInt(i,10),i.indexOf("%")!==-1&&(n=n/100*e.parentNode[t])):n=i,n}var GS=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function cCe(i,e){return GS(i).getPropertyValue(e)}var dCe=["top","right","bottom","left"];function Cc(i,e,t){let n={};t=t?"-"+t:"";for(let r=0;r<4;r++){let o=dCe[r];n[o]=parseFloat(i[e+"-"+o+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}var hCe=(i,e,t)=>(i>0||e>0)&&(!t||!t.shadowRoot);function fCe(i,e){let t=i.touches,n=t&&t.length?t[0]:i,{offsetX:r,offsetY:o}=n,s=!1,a,l;if(hCe(r,o,i.target))a=r,l=o;else{let u=e.getBoundingClientRect();a=n.clientX-u.left,l=n.clientY-u.top,s=!0}return{x:a,y:l,box:s}}function Ul(i,e){if("native"in i)return i;let{canvas:t,currentDevicePixelRatio:n}=e,r=GS(t),o=r.boxSizing==="border-box",s=Cc(r,"padding"),a=Cc(r,"border","width"),{x:l,y:u,box:c}=fCe(i,t),d=s.left+(c&&a.left),h=s.top+(c&&a.top),{width:f,height:p}=e;return o&&(f-=s.width+a.width,p-=s.height+a.height),{x:Math.round((l-d)/f*t.width/n),y:Math.round((u-h)/p*t.height/n)}}function pCe(i,e,t){let n,r;if(e===void 0||t===void 0){let o=HS(i);if(!o)e=i.clientWidth,t=i.clientHeight;else{let s=o.getBoundingClientRect(),a=GS(o),l=Cc(a,"border","width"),u=Cc(a,"padding");e=s.width-u.width-l.width,t=s.height-u.height-l.height,n=OS(a.maxWidth,o,"clientWidth"),r=OS(a.maxHeight,o,"clientHeight")}}return{width:e,height:t,maxWidth:n||RS,maxHeight:r||RS}}var DS=i=>Math.round(i*10)/10;function q3(i,e,t,n){let r=GS(i),o=Cc(r,"margin"),s=OS(r.maxWidth,i,"clientWidth")||RS,a=OS(r.maxHeight,i,"clientHeight")||RS,l=pCe(i,e,t),{width:u,height:c}=l;if(r.boxSizing==="content-box"){let h=Cc(r,"border","width"),f=Cc(r,"padding");u-=f.width+h.width,c-=f.height+h.height}return u=Math.max(0,u-o.width),c=Math.max(0,n?u/n:c-o.height),u=DS(Math.min(u,s,l.maxWidth)),c=DS(Math.min(c,a,l.maxHeight)),u&&!c&&(c=DS(u/2)),(e!==void 0||t!==void 0)&&n&&l.height&&c>l.height&&(c=l.height,u=DS(Math.floor(c*n))),{width:u,height:c}}function HI(i,e,t){let n=e||1,r=Math.floor(i.height*n),o=Math.floor(i.width*n);i.height=Math.floor(i.height),i.width=Math.floor(i.width);let s=i.canvas;return s.style&&(t||!s.style.height&&!s.style.width)&&(s.style.height=`${i.height}px`,s.style.width=`${i.width}px`),i.currentDevicePixelRatio!==n||s.height!==r||s.width!==o?(i.currentDevicePixelRatio=n,s.height=r,s.width=o,i.ctx.setTransform(n,0,0,n,0,0),!0):!1}var Y3=function(){let i=!1;try{let e={get passive(){return i=!0,!1}};VS()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return i}();function GI(i,e){let t=cCe(i,e),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Vl(i,e,t,n){return{x:i.x+t*(e.x-i.x),y:i.y+t*(e.y-i.y)}}function K3(i,e,t,n){return{x:i.x+t*(e.x-i.x),y:n==="middle"?t<.5?i.y:e.y:n==="after"?t<1?i.y:e.y:t>0?e.y:i.y}}function Q3(i,e,t,n){let r={x:i.cp2x,y:i.cp2y},o={x:e.cp1x,y:e.cp1y},s=Vl(i,r,t),a=Vl(r,o,t),l=Vl(o,e,t),u=Vl(s,a,t),c=Vl(a,l,t);return Vl(u,c,t)}var gCe=function(i,e){return{x(t){return i+i+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,n){return t-n},leftForLtr(t,n){return t-n}}},mCe=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,e){return i+e},leftForLtr(i,e){return i}}};function bc(i,e,t){return i?gCe(e,t):mCe()}function BI(i,e){let t,n;(e==="ltr"||e==="rtl")&&(t=i.canvas.style,n=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),i.prevTextDirection=n)}function jI(i,e){e!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",e[0],e[1]))}function Z3(i){return i==="angle"?{between:Lh,compare:P_e,normalize:er}:{between:As,compare:(e,t)=>e-t,normalize:e=>e}}function w3({start:i,end:e,count:t,loop:n,style:r}){return{start:i%t,end:e%t,loop:n&&(e-i+1)%t===0,style:r}}function vCe(i,e,t){let{property:n,start:r,end:o}=t,{between:s,normalize:a}=Z3(n),l=e.length,{start:u,end:c,loop:d}=i,h,f;if(d){for(u+=l,c+=l,h=0,f=l;h<f&&s(a(e[u%l][n]),r,o);++h)u--,c--;u%=l,c%=l}return c<u&&(c+=l),{start:u,end:c,loop:d,style:i.style}}function UI(i,e,t){if(!t)return[i];let{property:n,start:r,end:o}=t,s=e.length,{compare:a,between:l,normalize:u}=Z3(n),{start:c,end:d,loop:h,style:f}=vCe(i,e,t),p=[],g=!1,m=null,v,y,C,S=()=>l(r,C,v)&&a(r,C)!==0,E=()=>a(o,v)===0||l(o,C,v),T=()=>g||S(),O=()=>!g||E();for(let R=c,M=c;R<=d;++R)y=e[R%s],!y.skip&&(v=u(y[n]),v!==C&&(g=l(v,r,o),m===null&&T()&&(m=a(v,r)===0?R:M),m!==null&&O()&&(p.push(w3({start:m,end:R,loop:h,count:s,style:f})),m=null),M=R,C=v));return m!==null&&p.push(w3({start:m,end:d,loop:h,count:s,style:f})),p}function WI(i,e){let t=[],n=i.segments;for(let r=0;r<n.length;r++){let o=UI(n[r],i.points,e);o.length&&t.push(...o)}return t}function yCe(i,e,t,n){let r=0,o=e-1;if(t&&!n)for(;r<e&&!i[r].skip;)r++;for(;r<e&&i[r].skip;)r++;for(r%=e,t&&(o+=r);o>r&&i[o%e].skip;)o--;return o%=e,{start:r,end:o}}function _Ce(i,e,t,n){let r=i.length,o=[],s=e,a=i[e],l;for(l=e+1;l<=t;++l){let u=i[l%r];u.skip||u.stop?a.skip||(n=!1,o.push({start:e%r,end:(l-1)%r,loop:n}),e=s=u.stop?l:null):(s=l,a.skip&&(e=l)),a=u}return s!==null&&o.push({start:e%r,end:s%r,loop:n}),o}function X3(i,e){let t=i.points,n=i.options.spanGaps,r=t.length;if(!r)return[];let o=!!i._loop,{start:s,end:a}=yCe(t,r,o,n);if(n===!0)return S3(i,[{start:s,end:a,loop:o}],t,e);let l=a<s?a+r:a,u=!!i._fullLoop&&s===0&&a===r-1;return S3(i,_Ce(t,s,l,u),t,e)}function S3(i,e,t,n){return!n||!n.setContext||!t?e:CCe(i,e,t,n)}function CCe(i,e,t,n){let r=i._chart.getContext(),o=b3(i.options),{_datasetIndex:s,options:{spanGaps:a}}=i,l=t.length,u=[],c=o,d=e[0].start,h=d;function f(p,g,m,v){let y=a?-1:1;if(p!==g){for(p+=l;t[p%l].skip;)p-=y;for(;t[g%l].skip;)g+=y;p%l!==g%l&&(u.push({start:p%l,end:g%l,loop:m,style:v}),c=v,d=g%l)}}for(let p of e){d=a?d:p.start;let g=t[d%l],m;for(h=d+1;h<=p.end;h++){let v=t[h%l];m=b3(n.setContext(Ca(r,{type:"segment",p0:g,p1:v,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:s}))),wCe(m,c)&&f(d,h-1,p.loop,c),g=v,c=m}d<h-1&&f(d,h-1,p.loop,c)}return u}function b3(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function wCe(i,e){if(!e)return!1;let t=[],n=function(r,o){return xI(o)?(t.includes(o)||t.push(o),t.indexOf(o)):o};return JSON.stringify(i,n)!==JSON.stringify(e,n)}var eP=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){let o=t.listeners[r],s=t.duration;o.forEach(a=>a({chart:e,initial:t.initial,numSteps:s,currentStep:Math.min(n-t.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=TI.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;let o=n.items,s=o.length-1,a=!1,l;for(;s>=0;--s)l=o[s],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),a=!0):(o[s]=o[o.length-1],o.pop());a&&(r.draw(),this._notify(r,n,e,"progress")),o.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=o.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){let t=this._charts,n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){let t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,r)=>Math.max(n,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;let t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){let t=this._charts.get(e);if(!t||!t.items.length)return;let n=t.items,r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}},wa=new eP,J3="transparent",SCe={boolean(i,e,t){return t>.5?e:i},color(i,e,t){let n=MI(i||J3),r=n.valid&&MI(e||J3);return r&&r.valid?r.mix(n,t).hexString():e},number(i,e,t){return i+(e-i)*t}},tP=class{constructor(e,t,n,r){let o=t[n];r=Hh([e.to,r,o,e.from]);let s=Hh([e.from,o,r]);this._active=!0,this._fn=e.fn||SCe[e.type||typeof s],this._easing=xh[e.easing]||xh.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);let r=this._target[this._prop],o=n-this._start,s=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Hh([e.to,t,r,e.from]),this._from=Hh([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let t=e-this._start,n=this._duration,r=this._prop,o=this._from,s=this._loop,a=this._to,l;if(this._active=o!==a&&(s||t<n),!this._active){this._target[r]=a,this._notify(!0);return}if(t<0){this._target[r]=o;return}l=t/n%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(o,a,l)}wait(){let e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){let t=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}},QS=class{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!nt(e))return;let t=Object.keys(Jt.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{let o=e[r];if(!nt(o))return;let s={};for(let a of t)s[a]=o[a];(Vt(o.properties)&&o.properties||[r]).forEach(a=>{(a===r||!n.has(a))&&n.set(a,s)})})}_animateOptions(e,t){let n=t.options,r=ECe(e,n);if(!r)return[];let o=this._createAnimations(r,n);return n.$shared&&bCe(e.options.$animations,n).then(()=>{e.options=n},()=>{}),o}_createAnimations(e,t){let n=this._properties,r=[],o=e.$animations||(e.$animations={}),s=Object.keys(t),a=Date.now(),l;for(l=s.length-1;l>=0;--l){let u=s[l];if(u.charAt(0)==="$")continue;if(u==="options"){r.push(...this._animateOptions(e,t));continue}let c=t[u],d=o[u],h=n.get(u);if(d)if(h&&d.active()){d.update(h,c,a);continue}else d.cancel();if(!h||!h.duration){e[u]=c;continue}o[u]=d=new tP(h,e,u,c),r.push(d)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}let n=this._createAnimations(e,t);if(n.length)return wa.add(this._chart,n),!0}};function bCe(i,e){let t=[],n=Object.keys(e);for(let r=0;r<n.length;r++){let o=i[n[r]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function ECe(i,e){if(!e)return;let t=i.options;if(!t){i.options=e;return}return t.$shared&&(i.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function e$(i,e){let t=i&&i.options||{},n=t.reverse,r=t.min===void 0?e:0,o=t.max===void 0?e:0;return{start:n?o:r,end:n?r:o}}function DCe(i,e,t){if(t===!1)return!1;let n=e$(i,t),r=e$(e,t);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}function TCe(i){let e,t,n,r;return nt(i)?(e=i.top,t=i.right,n=i.bottom,r=i.left):e=t=n=r=i,{top:e,right:t,bottom:n,left:r,disabled:i===!1}}function e5(i,e){let t=[],n=i._getSortedDatasetMetas(e),r,o;for(r=0,o=n.length;r<o;++r)t.push(n[r].index);return t}function t$(i,e,t,n={}){let r=i.keys,o=n.mode==="single",s,a,l,u;if(e!==null){for(s=0,a=r.length;s<a;++s){if(l=+r[s],l===t){if(n.all)continue;break}u=i.values[l],Xt(u)&&(o||e===0||Po(e)===Po(u))&&(e+=u)}return e}}function RCe(i){let e=Object.keys(i),t=new Array(e.length),n,r,o;for(n=0,r=e.length;n<r;++n)o=e[n],t[n]={x:o,y:i[o]};return t}function n$(i,e){let t=i&&i.options.stacked;return t||t===void 0&&e.stack!==void 0}function ACe(i,e,t){return`${i.id}.${e.id}.${t.stack||t.type}`}function OCe(i){let{min:e,max:t,minDefined:n,maxDefined:r}=i.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function xCe(i,e,t){let n=i[e]||(i[e]={});return n[t]||(n[t]={})}function i$(i,e,t,n){for(let r of e.getMatchingVisibleMetas(n).reverse()){let o=i[r.index];if(t&&o>0||!t&&o<0)return r.index}return null}function r$(i,e){let{chart:t,_cachedMeta:n}=i,r=t._stacks||(t._stacks={}),{iScale:o,vScale:s,index:a}=n,l=o.axis,u=s.axis,c=ACe(o,s,n),d=e.length,h;for(let f=0;f<d;++f){let p=e[f],{[l]:g,[u]:m}=p,v=p._stacks||(p._stacks={});h=v[u]=xCe(r,c,g),h[a]=m,h._top=i$(h,s,!0,n.type),h._bottom=i$(h,s,!1,n.type);let y=h._visualValues||(h._visualValues={});y[a]=m}}function zI(i,e){let t=i.scales;return Object.keys(t).filter(n=>t[n].axis===e).shift()}function MCe(i,e){return Ca(i,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function ICe(i,e,t){return Ca(i,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Cm(i,e){let t=i.controller.index,n=i.vScale&&i.vScale.axis;if(n){e=e||i._parsed;for(let r of e){let o=r._stacks;if(!o||o[n]===void 0||o[n][t]===void 0)return;delete o[n][t],o[n]._visualValues!==void 0&&o[n]._visualValues[t]!==void 0&&delete o[n]._visualValues[t]}}}var $I=i=>i==="reset"||i==="none",o$=(i,e)=>e?i:Object.assign({},i),PCe=(i,e,t)=>i&&!e.hidden&&e._stacked&&{keys:e5(t,!0),values:null},zl=(()=>{class i{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=n$(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Cm(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,n=this._cachedMeta,r=this.getDataset(),o=(h,f,p,g)=>h==="x"?f:h==="r"?g:p,s=n.xAxisID=Ve(r.xAxisID,zI(t,"x")),a=n.yAxisID=Ve(r.yAxisID,zI(t,"y")),l=n.rAxisID=Ve(r.rAxisID,zI(t,"r")),u=n.indexAxis,c=n.iAxisID=o(u,s,a,l),d=n.vAxisID=o(u,a,s,l);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&EI(this._data,this),t._stacked&&Cm(t)}_dataCheck(){let t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(nt(n))this._data=RCe(n);else if(r!==n){if(r){EI(r,this);let o=this._cachedMeta;Cm(o),o._parsed=[]}n&&Object.isExtensible(n)&&F3(n,this),this._syncList=[],this._data=n}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let n=this._cachedMeta,r=this.getDataset(),o=!1;this._dataCheck();let s=n._stacked;n._stacked=n$(n.vScale,n),n.stack!==r.stack&&(o=!0,Cm(n),n.stack=r.stack),this._resyncElements(t),(o||s!==n._stacked)&&r$(this,n._parsed)}configure(){let t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){let{_cachedMeta:r,_data:o}=this,{iScale:s,_stacked:a}=r,l=s.axis,u=t===0&&n===o.length?!0:r._sorted,c=t>0&&r._parsed[t-1],d,h,f;if(this._parsing===!1)r._parsed=o,r._sorted=!0,f=o;else{Vt(o[t])?f=this.parseArrayData(r,o,t,n):nt(o[t])?f=this.parseObjectData(r,o,t,n):f=this.parsePrimitiveData(r,o,t,n);let p=()=>h[l]===null||c&&h[l]<c[l];for(d=0;d<n;++d)r._parsed[d+t]=h=f[d],u&&(p()&&(u=!1),c=h);r._sorted=u}a&&r$(this,f)}parsePrimitiveData(t,n,r,o){let{iScale:s,vScale:a}=t,l=s.axis,u=a.axis,c=s.getLabels(),d=s===a,h=new Array(o),f,p,g;for(f=0,p=o;f<p;++f)g=f+r,h[f]={[l]:d||s.parse(c[g],g),[u]:a.parse(n[g],g)};return h}parseArrayData(t,n,r,o){let{xScale:s,yScale:a}=t,l=new Array(o),u,c,d,h;for(u=0,c=o;u<c;++u)d=u+r,h=n[d],l[u]={x:s.parse(h[0],d),y:a.parse(h[1],d)};return l}parseObjectData(t,n,r,o){let{xScale:s,yScale:a}=t,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,c=new Array(o),d,h,f,p;for(d=0,h=o;d<h;++d)f=d+r,p=n[f],c[d]={x:s.parse(_a(p,l),f),y:a.parse(_a(p,u),f)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){let o=this.chart,s=this._cachedMeta,a=n[t.axis],l={keys:e5(o,!0),values:n._stacks[t.axis]._visualValues};return t$(l,a,s.index,{mode:r})}updateRangeFromParsed(t,n,r,o){let s=r[n.axis],a=s===null?NaN:s,l=o&&r._stacks[n.axis];o&&l&&(o.values=l,a=t$(o,s,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,n){let r=this._cachedMeta,o=r._parsed,s=r._sorted&&t===r.iScale,a=o.length,l=this._getOtherScale(t),u=PCe(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=OCe(l),f,p;function g(){p=o[f];let m=p[l.axis];return!Xt(p[t.axis])||d>m||h<m}for(f=0;f<a&&!(!g()&&(this.updateRangeFromParsed(c,t,p,u),s));++f);if(s){for(f=a-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(c,t,p,u);break}}return c}getAllParsedValues(t){let n=this._cachedMeta._parsed,r=[],o,s,a;for(o=0,s=n.length;o<s;++o)a=n[o][t.axis],Xt(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(t){let n=this._cachedMeta,r=n.iScale,o=n.vScale,s=this.getParsed(t);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:o?""+o.getLabelForValue(s[o.axis]):""}}_update(t){let n=this._cachedMeta;this.update(t||"default"),n._clip=TCe(Ve(this.options.clip,DCe(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){let t=this._ctx,n=this.chart,r=this._cachedMeta,o=r.data||[],s=n.chartArea,a=[],l=this._drawStart||0,u=this._drawCount||o.length-l,c=this.options.drawActiveElementsOnTop,d;for(r.dataset&&r.dataset.draw(t,s,l,u),d=l;d<l+u;++d){let h=o[d];h.hidden||(h.active&&c?a.push(h):h.draw(t,s))}for(d=0;d<a.length;++d)a[d].draw(t,s)}getStyle(t,n){let r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){let o=this.getDataset(),s;if(t>=0&&t<this._cachedMeta.data.length){let a=this._cachedMeta.data[t];s=a.$context||(a.$context=ICe(this.getContext(),t,a)),s.parsed=this.getParsed(t),s.raw=o.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=MCe(this.chart.getContext(),this.index)),s.dataset=o,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){let o=n==="active",s=this._cachedDataOpts,a=t+"-"+n,l=s[a],u=this.enableOptionSharing&&Fh(r);if(l)return o$(l,u);let c=this.chart.config,d=c.datasetElementScopeKeys(this._type,t),h=o?[`${t}Hover`,"hover",t,""]:[t,""],f=c.getOptionScopes(this.getDataset(),d),p=Object.keys(Jt.elements[t]),g=()=>this.getContext(r,o,n),m=c.resolveNamedOptions(f,p,g,h);return m.$shared&&(m.$shared=u,s[a]=Object.freeze(o$(m,u))),m}_resolveAnimations(t,n,r){let o=this.chart,s=this._cachedDataOpts,a=`animation-${n}`,l=s[a];if(l)return l;let u;if(o.options.animation!==!1){let d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,n),f=d.getOptionScopes(this.getDataset(),h);u=d.createResolver(f,this.getContext(t,r,n))}let c=new QS(o,u&&u.animations);return u&&u._cacheable&&(s[a]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||$I(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){let r=this.resolveDataElementOptions(t,n),o=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(n,s)||s!==o;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:a}}updateElement(t,n,r,o){$I(o)?Object.assign(t,r):this._resolveAnimations(n,o).update(t,r)}updateSharedOptions(t,n,r){t&&!$I(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,o){t.active=o;let s=this.getStyle(n,o);this._resolveAnimations(n,r,o).update(t,{options:!o&&this.getSharedOptions(s)||s})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let n=this._data,r=this._cachedMeta.data;for(let[l,u,c]of this._syncList)this[l](u,c);this._syncList=[];let o=r.length,s=n.length,a=Math.min(s,o);a&&this.parse(0,a),s>o?this._insertElements(o,s-o,t):s<o&&this._removeElements(s,o-s)}_insertElements(t,n,r=!0){let o=this._cachedMeta,s=o.data,a=t+n,l,u=c=>{for(c.length+=n,l=c.length-1;l>=a;l--)c[l]=c[l-n]};for(u(s),l=t;l<a;++l)s[l]=new this.dataElementType;this._parsing&&u(o._parsed),this.parse(t,n),r&&this.updateElements(s,t,n,"reset")}updateElements(t,n,r,o){}_removeElements(t,n){let r=this._cachedMeta;if(this._parsing){let o=r._parsed.splice(t,n);r._stacked&&Cm(r,o)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[n,r,o]=t;this[n](r,o)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);let r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return i})();function FCe(i,e){if(!i._cache.$bar){let t=i.getMatchingVisibleMetas(e),n=[];for(let r=0,o=t.length;r<o;r++)n=n.concat(t[r].controller.getAllParsedValues(i));i._cache.$bar=DI(n.sort((r,o)=>r-o))}return i._cache.$bar}function NCe(i){let e=i.iScale,t=FCe(e,i.type),n=e._length,r,o,s,a,l=()=>{s===32767||s===-32768||(Fh(a)&&(n=Math.min(n,Math.abs(s-a)||n)),a=s)};for(r=0,o=t.length;r<o;++r)s=e.getPixelForValue(t[r]),l();for(a=void 0,r=0,o=e.ticks.length;r<o;++r)s=e.getPixelForTick(r),l();return n}function LCe(i,e,t,n){let r=t.barThickness,o,s;return ht(r)?(o=e.min*t.categoryPercentage,s=t.barPercentage):(o=r*n,s=1),{chunk:o/n,ratio:s,start:e.pixels[i]-o/2}}function kCe(i,e,t,n){let r=e.pixels,o=r[i],s=i>0?r[i-1]:null,a=i<r.length-1?r[i+1]:null,l=t.categoryPercentage;s===null&&(s=o-(a===null?e.end-e.start:a-o)),a===null&&(a=o+o-s);let u=o-(o-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/n,ratio:t.barPercentage,start:u}}function VCe(i,e,t,n){let r=t.parse(i[0],n),o=t.parse(i[1],n),s=Math.min(r,o),a=Math.max(r,o),l=s,u=a;Math.abs(s)>Math.abs(a)&&(l=a,u=s),e[t.axis]=u,e._custom={barStart:l,barEnd:u,start:r,end:o,min:s,max:a}}function t5(i,e,t,n){return Vt(i)?VCe(i,e,t,n):e[t.axis]=t.parse(i,n),e}function s$(i,e,t,n){let r=i.iScale,o=i.vScale,s=r.getLabels(),a=r===o,l=[],u,c,d,h;for(u=t,c=t+n;u<c;++u)h=e[u],d={},d[r.axis]=a||r.parse(s[u],u),l.push(t5(h,d,o,u));return l}function qI(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function HCe(i,e,t){return i!==0?Po(i):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function GCe(i){let e,t,n,r,o;return i.horizontal?(e=i.base>i.x,t="left",n="right"):(e=i.base<i.y,t="bottom",n="top"),e?(r="end",o="start"):(r="start",o="end"),{start:t,end:n,reverse:e,top:r,bottom:o}}function BCe(i,e,t,n){let r=e.borderSkipped,o={};if(!r){i.borderSkipped=o;return}if(r===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:s,end:a,reverse:l,top:u,bottom:c}=GCe(i);r==="middle"&&t&&(i.enableBorderRadius=!0,(t._top||0)===n?r=u:(t._bottom||0)===n?r=c:(o[a$(c,s,a,l)]=!0,r=u)),o[a$(r,s,a,l)]=!0,i.borderSkipped=o}function a$(i,e,t,n){return n?(i=jCe(i,e,t),i=l$(i,t,e)):i=l$(i,e,t),i}function jCe(i,e,t){return i===e?t:i===t?e:i}function l$(i,e,t){return i==="start"?e:i==="end"?t:i}function UCe(i,{inflateAmount:e},t){i.inflateAmount=e==="auto"?t===1?.33:0:e}var WCe=(()=>{class i extends zl{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,n,r,o){return s$(t,n,r,o)}parseArrayData(t,n,r,o){return s$(t,n,r,o)}parseObjectData(t,n,r,o){let{iScale:s,vScale:a}=t,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,c=s.axis==="x"?l:u,d=a.axis==="x"?l:u,h=[],f,p,g,m;for(f=r,p=r+o;f<p;++f)m=n[f],g={},g[s.axis]=s.parse(_a(m,c),f),h.push(t5(_a(m,d),g,a,f));return h}updateRangeFromParsed(t,n,r,o){super.updateRangeFromParsed(t,n,r,o);let s=r._custom;s&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){let n=this._cachedMeta,{iScale:r,vScale:o}=n,s=this.getParsed(t),a=s._custom,l=qI(a)?"["+a.start+", "+a.end+"]":""+o.getLabelForValue(s[o.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();let t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){let n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,r,o){let s=o==="reset",{index:a,_cachedMeta:{vScale:l}}=this,u=l.getBasePixel(),c=l.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,o);for(let p=n;p<n+r;p++){let g=this.getParsed(p),m=s||ht(g[l.axis])?{base:u,head:u}:this._calculateBarValuePixels(p),v=this._calculateBarIndexPixels(p,d),y=(g._stacks||{})[l.axis],C={horizontal:c,base:m.base,enableBorderRadius:!y||qI(g._custom)||a===y._top||a===y._bottom,x:c?m.head:v.center,y:c?v.center:m.head,height:c?v.size:Math.abs(m.size),width:c?Math.abs(m.size):v.size};f&&(C.options=h||this.resolveDataElementOptions(p,t[p].active?"active":o));let S=C.options||t[p].options;BCe(C,S,y,a),UCe(C,S,d.ratio),this.updateElement(t[p],p,C,o)}}_getStacks(t,n){let{iScale:r}=this._cachedMeta,o=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=r.options.stacked,a=[],l=u=>{let c=u.controller.getParsed(n),d=c&&c[u.vScale.axis];if(ht(d)||isNaN(d))return!0};for(let u of o)if(!(n!==void 0&&l(u))&&((s===!1||a.indexOf(u.stack)===-1||s===void 0&&u.stack===void 0)&&a.push(u.stack),u.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,r){let o=this._getStacks(t,r),s=n!==void 0?o.indexOf(n):-1;return s===-1?o.length-1:s}_getRuler(){let t=this.options,n=this._cachedMeta,r=n.iScale,o=[],s,a;for(s=0,a=n.data.length;s<a;++s)o.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));let l=t.barThickness;return{min:l||NCe(n),pixels:o,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){let{_cachedMeta:{vScale:n,_stacked:r,index:o},options:{base:s,minBarLength:a}}=this,l=s||0,u=this.getParsed(t),c=u._custom,d=qI(c),h=u[n.axis],f=0,p=r?this.applyStack(n,u,r):h,g,m;p!==h&&(f=p-h,p=h),d&&(h=c.barStart,p=c.barEnd-c.barStart,h!==0&&Po(h)!==Po(c.barEnd)&&(f=0),f+=h);let v=!ht(s)&&!d?s:f,y=n.getPixelForValue(v);if(this.chart.getDataVisibility(t)?g=n.getPixelForValue(f+p):g=y,m=g-y,Math.abs(m)<a){m=HCe(m,n,l)*a,h===l&&(y-=m/2);let C=n.getPixelForDecimal(0),S=n.getPixelForDecimal(1),E=Math.min(C,S),T=Math.max(C,S);y=Math.max(Math.min(y,T),E),g=y+m,r&&!d&&(u._stacks[n.axis]._visualValues[o]=n.getValueForPixel(g)-n.getValueForPixel(y))}if(y===n.getPixelForValue(l)){let C=Po(m)*n.getLineWidthForValue(l)/2;y+=C,m-=C}return{size:m,base:y,head:g,center:g+m/2}}_calculateBarIndexPixels(t,n){let r=n.scale,o=this.options,s=o.skipNull,a=Ve(o.maxBarThickness,1/0),l,u;if(n.grouped){let c=s?this._getStackCount(t):n.stackCount,d=o.barThickness==="flex"?kCe(t,n,o,c):LCe(t,n,o,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0);l=d.start+d.chunk*h+d.chunk/2,u=Math.min(a,d.chunk*d.ratio)}else l=r.getPixelForValue(this.getParsed(t)[r.axis],t),u=Math.min(a,n.min*n.ratio);return{base:l-u/2,head:l+u/2,center:l,size:u}}draw(){let t=this._cachedMeta,n=t.vScale,r=t.data,o=r.length,s=0;for(;s<o;++s)this.getParsed(s)[n.axis]!==null&&r[s].draw(this._ctx)}}return i})(),zCe=(()=>{class i extends zl{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,r,o){let s=super.parsePrimitiveData(t,n,r,o);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+r).radius;return s}parseArrayData(t,n,r,o){let s=super.parseArrayData(t,n,r,o);for(let a=0;a<s.length;a++){let l=n[r+a];s[a]._custom=Ve(l[2],this.resolveDataElementOptions(a+r).radius)}return s}parseObjectData(t,n,r,o){let s=super.parseObjectData(t,n,r,o);for(let a=0;a<s.length;a++){let l=n[r+a];s[a]._custom=Ve(l&&l.r&&+l.r,this.resolveDataElementOptions(a+r).radius)}return s}getMaxOverflow(){let t=this._cachedMeta.data,n=0;for(let r=t.length-1;r>=0;--r)n=Math.max(n,t[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(t){let n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:s}=n,a=this.getParsed(t),l=o.getLabelForValue(a.x),u=s.getLabelForValue(a.y),c=a._custom;return{label:r[t]||"",value:"("+l+", "+u+(c?", "+c:"")+")"}}update(t){let n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,r,o){let s=o==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:u,includeOptions:c}=this._getSharedOptions(n,o),d=a.axis,h=l.axis;for(let f=n;f<n+r;f++){let p=t[f],g=!s&&this.getParsed(f),m={},v=m[d]=s?a.getPixelForDecimal(.5):a.getPixelForValue(g[d]),y=m[h]=s?l.getBasePixel():l.getPixelForValue(g[h]);m.skip=isNaN(v)||isNaN(y),c&&(m.options=u||this.resolveDataElementOptions(f,p.active?"active":o),s&&(m.options.radius=0)),this.updateElement(p,f,m,o)}}resolveDataElementOptions(t,n){let r=this.getParsed(t),o=super.resolveDataElementOptions(t,n);o.$shared&&(o=Object.assign({},o,{$shared:!1}));let s=o.radius;return n!=="active"&&(o.radius=0),o.radius+=Ve(r&&r._custom,s),o}}return i})();function $Ce(i,e,t){let n=1,r=1,o=0,s=0;if(e<Gt){let a=i,l=a+e,u=Math.cos(a),c=Math.sin(a),d=Math.cos(l),h=Math.sin(l),f=(C,S,E)=>Lh(C,a,l,!0)?1:Math.max(S,S*t,E,E*t),p=(C,S,E)=>Lh(C,a,l,!0)?-1:Math.min(S,S*t,E,E*t),g=f(0,u,d),m=f(an,c,h),v=p(Ht,u,d),y=p(Ht+an,c,h);n=(g-v)/2,r=(m-y)/2,o=-(g+v)/2,s=-(m+y)/2}return{ratioX:n,ratioY:r,offsetX:o,offsetY:s}}var wP=(()=>{class i extends zl{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let n=t.data;if(n.labels.length&&n.datasets.length){let{labels:{pointStyle:r,color:o}}=t.legend.options;return n.labels.map((s,a)=>{let u=t.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:o,lineWidth:u.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){let r=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=r;else{let s=u=>+r[u];if(nt(r[t])){let{key:u="value"}=this._parsing;s=c=>+_a(r[c],u)}let a,l;for(a=t,l=t+n;a<l;++a)o._parsed[a]=s(a)}}_getRotation(){return ao(this.options.rotation-90)}_getCircumference(){return ao(this.options.circumference)}_getRotationExtents(){let t=Gt,n=-Gt;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){let o=this.chart.getDatasetMeta(r).controller,s=o._getRotation(),a=o._getCircumference();t=Math.min(t,s),n=Math.max(n,s+a)}return{rotation:t,circumference:n-t}}update(t){let n=this.chart,{chartArea:r}=n,o=this._cachedMeta,s=o.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-a)/2,0),u=Math.min(D3(this.options.cutout,l),1),c=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:m}=$Ce(h,d,u),v=(r.width-a)/f,y=(r.height-a)/p,C=Math.max(Math.min(v,y)/2,0),S=yI(this.options.radius,C),E=Math.max(S*u,0),T=(S-E)/this._getVisibleDatasetWeightTotal();this.offsetX=g*S,this.offsetY=m*S,o.total=this.calculateTotal(),this.outerRadius=S-T*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-T*c,0),this.updateElements(s,0,s.length,t)}_circumference(t,n){let r=this.options,o=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||o._parsed[t]===null||o.data[t].hidden?0:this.calculateCircumference(o._parsed[t]*s/Gt)}updateElements(t,n,r,o){let s=o==="reset",a=this.chart,l=a.chartArea,c=a.options.animation,d=(l.left+l.right)/2,h=(l.top+l.bottom)/2,f=s&&c.animateScale,p=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:m,includeOptions:v}=this._getSharedOptions(n,o),y=this._getRotation(),C;for(C=0;C<n;++C)y+=this._circumference(C,s);for(C=n;C<n+r;++C){let S=this._circumference(C,s),E=t[C],T={x:d+this.offsetX,y:h+this.offsetY,startAngle:y,endAngle:y+S,circumference:S,outerRadius:g,innerRadius:p};v&&(T.options=m||this.resolveDataElementOptions(C,E.active?"active":o)),y+=S,this.updateElement(E,C,T,o)}}calculateTotal(){let t=this._cachedMeta,n=t.data,r=0,o;for(o=0;o<n.length;o++){let s=t._parsed[o];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(o)&&!n[o].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(t){let n=this._cachedMeta.total;return n>0&&!isNaN(t)?Gt*(Math.abs(t)/n):0}getLabelAndValue(t){let n=this._cachedMeta,r=this.chart,o=r.data.labels||[],s=kh(n._parsed[t],r.options.locale);return{label:o[t]||"",value:s}}getMaxBorderWidth(t){let n=0,r=this.chart,o,s,a,l,u;if(!t){for(o=0,s=r.data.datasets.length;o<s;++o)if(r.isDatasetVisible(o)){a=r.getDatasetMeta(o),t=a.data,l=a.controller;break}}if(!t)return 0;for(o=0,s=t.length;o<s;++o)u=l.resolveDataElementOptions(o),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let r=0,o=t.length;r<o;++r){let s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(t){return Math.max(Ve(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return i})(),qCe=(()=>{class i extends zl{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){let n=this._cachedMeta,{dataset:r,data:o=[],_dataset:s}=n,a=this.chart._animationsDisabled,{start:l,count:u}=AI(n,o,a);this._drawStart=l,this._drawCount=u,OI(n)&&(l=0,u=o.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=o;let c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:c},t),this.updateElements(o,l,u,t)}updateElements(t,n,r,o){let s=o==="reset",{iScale:a,vScale:l,_stacked:u,_dataset:c}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,o),f=a.axis,p=l.axis,{spanGaps:g,segment:m}=this.options,v=Sc(g)?g:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||s||o==="none",C=n+r,S=t.length,E=n>0&&this.getParsed(n-1);for(let T=0;T<S;++T){let O=t[T],R=y?O:{};if(T<n||T>=C){R.skip=!0;continue}let M=this.getParsed(T),H=ht(M[p]),V=R[f]=a.getPixelForValue(M[f],T),X=R[p]=s||H?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,M,u):M[p],T);R.skip=isNaN(V)||isNaN(X)||H,R.stop=T>0&&Math.abs(M[f]-E[f])>v,m&&(R.parsed=M,R.raw=c.data[T]),h&&(R.options=d||this.resolveDataElementOptions(T,O.active?"active":o)),y||this.updateElement(O,T,R,o),E=M}}getMaxOverflow(){let t=this._cachedMeta,n=t.dataset,r=n.options&&n.options.borderWidth||0,o=t.data||[];if(!o.length)return r;let s=o[0].size(this.resolveDataElementOptions(0)),a=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(r,s,a)/2}draw(){let t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}return i})(),n5=(()=>{class i extends zl{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let n=t.data;if(n.labels.length&&n.datasets.length){let{labels:{pointStyle:r,color:o}}=t.legend.options;return n.labels.map((s,a)=>{let u=t.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:o,lineWidth:u.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){let n=this._cachedMeta,r=this.chart,o=r.data.labels||[],s=kh(n._parsed[t].r,r.options.locale);return{label:o[t]||"",value:s}}parseObjectData(t,n,r,o){return VI.bind(this)(t,n,r,o)}update(t){let n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){let t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((r,o)=>{let s=this.getParsed(o).r;!isNaN(s)&&this.chart.getDataVisibility(o)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){let t=this.chart,n=t.chartArea,r=t.options,o=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(o/2,0),a=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),l=(s-a)/t.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(t,n,r,o){let s=o==="reset",a=this.chart,u=a.options.animation,c=this._cachedMeta.rScale,d=c.xCenter,h=c.yCenter,f=c.getIndexAngle(0)-.5*Ht,p=f,g,m=360/this.countVisibleElements();for(g=0;g<n;++g)p+=this._computeAngle(g,o,m);for(g=n;g<n+r;g++){let v=t[g],y=p,C=p+this._computeAngle(g,o,m),S=a.getDataVisibility(g)?c.getDistanceFromCenterForValue(this.getParsed(g).r):0;p=C,s&&(u.animateScale&&(S=0),u.animateRotate&&(y=C=f));let E={x:d,y:h,innerRadius:0,outerRadius:S,startAngle:y,endAngle:C,options:this.resolveDataElementOptions(g,v.active?"active":o)};this.updateElement(v,g,E,o)}}countVisibleElements(){let t=this._cachedMeta,n=0;return t.data.forEach((r,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&n++}),n}_computeAngle(t,n,r){return this.chart.getDataVisibility(t)?ao(this.resolveDataElementOptions(t,n).angle||r):0}}return i})(),YCe=(()=>{class i extends wP{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return i})(),KCe=(()=>{class i extends zl{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){let n=this._cachedMeta.vScale,r=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(t,n,r,o){return VI.bind(this)(t,n,r,o)}update(t){let n=this._cachedMeta,r=n.dataset,o=n.data||[],s=n.iScale.getLabels();if(r.points=o,t!=="resize"){let a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0);let l={_loop:!0,_fullLoop:s.length===o.length,options:a};this.updateElement(r,void 0,l,t)}this.updateElements(o,0,o.length,t)}updateElements(t,n,r,o){let s=this._cachedMeta.rScale,a=o==="reset";for(let l=n;l<n+r;l++){let u=t[l],c=this.resolveDataElementOptions(l,u.active?"active":o),d=s.getPointPositionForValue(l,this.getParsed(l).r),h=a?s.xCenter:d.x,f=a?s.yCenter:d.y,p={x:h,y:f,angle:d.angle,skip:isNaN(h)||isNaN(f),options:c};this.updateElement(u,l,p,o)}}}return i})(),QCe=(()=>{class i extends zl{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){let n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:s}=n,a=this.getParsed(t),l=o.getLabelForValue(a.x),u=s.getLabelForValue(a.y);return{label:r[t]||"",value:"("+l+", "+u+")"}}update(t){let n=this._cachedMeta,{data:r=[]}=n,o=this.chart._animationsDisabled,{start:s,count:a}=AI(n,r,o);if(this._drawStart=s,this._drawCount=a,OI(n)&&(s=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:l,_dataset:u}=n;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!u._decimated,l.points=r;let c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(l,void 0,{animated:!o,options:c},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,s,a,t)}addElements(){let{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,r,o){let s=o==="reset",{iScale:a,vScale:l,_stacked:u,_dataset:c}=this._cachedMeta,d=this.resolveDataElementOptions(n,o),h=this.getSharedOptions(d),f=this.includeOptions(o,h),p=a.axis,g=l.axis,{spanGaps:m,segment:v}=this.options,y=Sc(m)?m:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||s||o==="none",S=n>0&&this.getParsed(n-1);for(let E=n;E<n+r;++E){let T=t[E],O=this.getParsed(E),R=C?T:{},M=ht(O[g]),H=R[p]=a.getPixelForValue(O[p],E),V=R[g]=s||M?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,O,u):O[g],E);R.skip=isNaN(H)||isNaN(V)||M,R.stop=E>0&&Math.abs(O[p]-S[p])>y,v&&(R.parsed=O,R.raw=c.data[E]),f&&(R.options=h||this.resolveDataElementOptions(E,T.active?"active":o)),C||this.updateElement(T,E,R,o),S=O}this.updateSharedOptions(h,o,d)}getMaxOverflow(){let t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let l=0;for(let u=n.length-1;u>=0;--u)l=Math.max(l,n[u].size(this.resolveDataElementOptions(u))/2);return l>0&&l}let r=t.dataset,o=r.options&&r.options.borderWidth||0;if(!n.length)return o;let s=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(o,s,a)/2}}return i})(),ZCe=Object.freeze({__proto__:null,BarController:WCe,BubbleController:zCe,DoughnutController:wP,LineController:qCe,PieController:YCe,PolarAreaController:n5,RadarController:KCe,ScatterController:QCe});function Ec(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var nP=class i{static override(e){Object.assign(i.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Ec()}parse(){return Ec()}format(){return Ec()}add(){return Ec()}diff(){return Ec()}startOf(){return Ec()}endOf(){return Ec()}},XCe={_date:nP};function JCe(i,e,t,n){let{controller:r,data:o,_sorted:s}=i,a=r._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&s&&o.length){let l=a._reversePixels?M3:Ds;if(n){if(r._sharedOptions){let u=o[0],c=typeof u.getRange=="function"&&u.getRange(e);if(c){let d=l(o,e,t-c),h=l(o,e,t+c);return{lo:d.lo,hi:h.hi}}}}else return l(o,e,t)}return{lo:0,hi:o.length-1}}function xm(i,e,t,n,r){let o=i.getSortedVisibleDatasetMetas(),s=t[e];for(let a=0,l=o.length;a<l;++a){let{index:u,data:c}=o[a],{lo:d,hi:h}=JCe(o[a],e,s,r);for(let f=d;f<=h;++f){let p=c[f];p.skip||n(p,u,f)}}}function ewe(i){let e=i.indexOf("x")!==-1,t=i.indexOf("y")!==-1;return function(n,r){let o=e?Math.abs(n.x-r.x):0,s=t?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(s,2))}}function YI(i,e,t,n,r){let o=[];return!r&&!i.isPointInArea(e)||xm(i,t,e,function(a,l,u){!r&&!Ts(a,i.chartArea,0)||a.inRange(e.x,e.y,n)&&o.push({element:a,datasetIndex:l,index:u})},!0),o}function twe(i,e,t,n){let r=[];function o(s,a,l){let{startAngle:u,endAngle:c}=s.getProps(["startAngle","endAngle"],n),{angle:d}=bI(s,{x:e.x,y:e.y});Lh(d,u,c)&&r.push({element:s,datasetIndex:a,index:l})}return xm(i,t,e,o),r}function nwe(i,e,t,n,r,o){let s=[],a=ewe(t),l=Number.POSITIVE_INFINITY;function u(c,d,h){let f=c.inRange(e.x,e.y,r);if(n&&!f)return;let p=c.getCenterPoint(r);if(!(!!o||i.isPointInArea(p))&&!f)return;let m=a(e,p);m<l?(s=[{element:c,datasetIndex:d,index:h}],l=m):m===l&&s.push({element:c,datasetIndex:d,index:h})}return xm(i,t,e,u),s}function KI(i,e,t,n,r,o){return!o&&!i.isPointInArea(e)?[]:t==="r"&&!n?twe(i,e,t,r):nwe(i,e,t,n,r,o)}function u$(i,e,t,n,r){let o=[],s=t==="x"?"inXRange":"inYRange",a=!1;return xm(i,t,e,(l,u,c)=>{l[s](e[t],r)&&(o.push({element:l,datasetIndex:u,index:c}),a=a||l.inRange(e.x,e.y,r))}),n&&!a?[]:o}var iwe={evaluateInteractionItems:xm,modes:{index(i,e,t,n){let r=Ul(e,i),o=t.axis||"x",s=t.includeInvisible||!1,a=t.intersect?YI(i,r,o,n,s):KI(i,r,o,!1,n,s),l=[];return a.length?(i.getSortedVisibleDatasetMetas().forEach(u=>{let c=a[0].index,d=u.data[c];d&&!d.skip&&l.push({element:d,datasetIndex:u.index,index:c})}),l):[]},dataset(i,e,t,n){let r=Ul(e,i),o=t.axis||"xy",s=t.includeInvisible||!1,a=t.intersect?YI(i,r,o,n,s):KI(i,r,o,!1,n,s);if(a.length>0){let l=a[0].datasetIndex,u=i.getDatasetMeta(l).data;a=[];for(let c=0;c<u.length;++c)a.push({element:u[c],datasetIndex:l,index:c})}return a},point(i,e,t,n){let r=Ul(e,i),o=t.axis||"xy",s=t.includeInvisible||!1;return YI(i,r,o,n,s)},nearest(i,e,t,n){let r=Ul(e,i),o=t.axis||"xy",s=t.includeInvisible||!1;return KI(i,r,o,t.intersect,n,s)},x(i,e,t,n){let r=Ul(e,i);return u$(i,r,"x",t.intersect,n)},y(i,e,t,n){let r=Ul(e,i);return u$(i,r,"y",t.intersect,n)}}},i5=["left","top","right","bottom"];function wm(i,e){return i.filter(t=>t.pos===e)}function c$(i,e){return i.filter(t=>i5.indexOf(t.pos)===-1&&t.box.axis===e)}function Sm(i,e){return i.sort((t,n)=>{let r=e?n:t,o=e?t:n;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function rwe(i){let e=[],t,n,r,o,s,a;for(t=0,n=(i||[]).length;t<n;++t)r=i[t],{position:o,options:{stack:s,stackWeight:a=1}}=r,e.push({index:t,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&o+s,stackWeight:a});return e}function owe(i){let e={};for(let t of i){let{stack:n,pos:r,stackWeight:o}=t;if(!n||!i5.includes(r))continue;let s=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=o}return e}function swe(i,e){let t=owe(i),{vBoxMaxWidth:n,hBoxMaxHeight:r}=e,o,s,a;for(o=0,s=i.length;o<s;++o){a=i[o];let{fullSize:l}=a.box,u=t[a.stack],c=u&&a.stackWeight/u.weight;a.horizontal?(a.width=c?c*n:l&&e.availableWidth,a.height=r):(a.width=n,a.height=c?c*r:l&&e.availableHeight)}return t}function awe(i){let e=rwe(i),t=Sm(e.filter(u=>u.box.fullSize),!0),n=Sm(wm(e,"left"),!0),r=Sm(wm(e,"right")),o=Sm(wm(e,"top"),!0),s=Sm(wm(e,"bottom")),a=c$(e,"x"),l=c$(e,"y");return{fullSize:t,leftAndTop:n.concat(o),rightAndBottom:r.concat(l).concat(s).concat(a),chartArea:wm(e,"chartArea"),vertical:n.concat(r).concat(l),horizontal:o.concat(s).concat(a)}}function d$(i,e,t,n){return Math.max(i[t],e[t])+Math.max(i[n],e[n])}function r5(i,e){i.top=Math.max(i.top,e.top),i.left=Math.max(i.left,e.left),i.bottom=Math.max(i.bottom,e.bottom),i.right=Math.max(i.right,e.right)}function lwe(i,e,t,n){let{pos:r,box:o}=t,s=i.maxPadding;if(!nt(r)){t.size&&(i[r]-=t.size);let d=n[t.stack]||{size:0,count:1};d.size=Math.max(d.size,t.horizontal?o.height:o.width),t.size=d.size/d.count,i[r]+=t.size}o.getPadding&&r5(s,o.getPadding());let a=Math.max(0,e.outerWidth-d$(s,i,"left","right")),l=Math.max(0,e.outerHeight-d$(s,i,"top","bottom")),u=a!==i.w,c=l!==i.h;return i.w=a,i.h=l,t.horizontal?{same:u,other:c}:{same:c,other:u}}function uwe(i){let e=i.maxPadding;function t(n){let r=Math.max(e[n]-i[n],0);return i[n]+=r,r}i.y+=t("top"),i.x+=t("left"),t("right"),t("bottom")}function cwe(i,e){let t=e.maxPadding;function n(r){let o={left:0,top:0,right:0,bottom:0};return r.forEach(s=>{o[s]=Math.max(e[s],t[s])}),o}return n(i?["left","right"]:["top","bottom"])}function Dm(i,e,t,n){let r=[],o,s,a,l,u,c;for(o=0,s=i.length,u=0;o<s;++o){a=i[o],l=a.box,l.update(a.width||e.w,a.height||e.h,cwe(a.horizontal,e));let{same:d,other:h}=lwe(e,t,a,n);u|=d&&r.length,c=c||h,l.fullSize||r.push(a)}return u&&Dm(r,e,t,n)||c}function BS(i,e,t,n,r){i.top=t,i.left=e,i.right=e+n,i.bottom=t+r,i.width=n,i.height=r}function h$(i,e,t,n){let r=t.padding,{x:o,y:s}=e;for(let a of i){let l=a.box,u=n[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/u.weight||1;if(a.horizontal){let d=e.w*c,h=u.size||l.height;Fh(u.start)&&(s=u.start),l.fullSize?BS(l,r.left,s,t.outerWidth-r.right-r.left,h):BS(l,e.left+u.placed,s,d,h),u.start=s,u.placed+=d,s=l.bottom}else{let d=e.h*c,h=u.size||l.width;Fh(u.start)&&(o=u.start),l.fullSize?BS(l,o,r.top,h,t.outerHeight-r.bottom-r.top):BS(l,o,e.top+u.placed,h,d),u.start=o,u.placed+=d,o=l.right}}e.x=o,e.y=s}var gi={addBox(i,e){i.boxes||(i.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},i.boxes.push(e)},removeBox(i,e){let t=i.boxes?i.boxes.indexOf(e):-1;t!==-1&&i.boxes.splice(t,1)},configure(i,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(i,e,t,n){if(!i)return;let r=oi(i.options.layout.padding),o=Math.max(e-r.width,0),s=Math.max(t-r.height,0),a=awe(i.boxes),l=a.vertical,u=a.horizontal;bt(i.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});let c=l.reduce((g,m)=>m.box.options&&m.box.options.display===!1?g:g+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/c,hBoxMaxHeight:s/2}),h=Object.assign({},r);r5(h,oi(n));let f=Object.assign({maxPadding:h,w:o,h:s,x:r.left,y:r.top},r),p=swe(l.concat(u),d);Dm(a.fullSize,f,d,p),Dm(l,f,d,p),Dm(u,f,d,p)&&Dm(l,f,d,p),uwe(f),h$(a.leftAndTop,f,d,p),f.x+=f.w,f.y+=f.h,h$(a.rightAndBottom,f,d,p),i.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},bt(a.chartArea,g=>{let m=g.box;Object.assign(m,i.chartArea),m.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}},ZS=class{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}},iP=class extends ZS{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}},YS="$chartjs",dwe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},f$=i=>i===null||i==="";function hwe(i,e){let t=i.style,n=i.getAttribute("height"),r=i.getAttribute("width");if(i[YS]={initial:{height:n,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",f$(r)){let o=GI(i,"width");o!==void 0&&(i.width=o)}if(f$(n))if(i.style.height==="")i.height=i.width/(e||2);else{let o=GI(i,"height");o!==void 0&&(i.height=o)}return i}var o5=Y3?{passive:!0}:!1;function fwe(i,e,t){i.addEventListener(e,t,o5)}function pwe(i,e,t){i.canvas.removeEventListener(e,t,o5)}function gwe(i,e){let t=dwe[i.type]||i.type,{x:n,y:r}=Ul(i,e);return{type:t,chart:e,native:i,x:n!==void 0?n:null,y:r!==void 0?r:null}}function XS(i,e){for(let t of i)if(t===e||t.contains(e))return!0}function mwe(i,e,t){let n=i.canvas,r=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||XS(a.addedNodes,n),s=s&&!XS(a.removedNodes,n);s&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function vwe(i,e,t){let n=i.canvas,r=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||XS(a.removedNodes,n),s=s&&!XS(a.addedNodes,n);s&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}var Rm=new Map,p$=0;function s5(){let i=window.devicePixelRatio;i!==p$&&(p$=i,Rm.forEach((e,t)=>{t.currentDevicePixelRatio!==i&&e()}))}function ywe(i,e){Rm.size||window.addEventListener("resize",s5),Rm.set(i,e)}function _we(i){Rm.delete(i),Rm.size||window.removeEventListener("resize",s5)}function Cwe(i,e,t){let n=i.canvas,r=n&&HS(n);if(!r)return;let o=RI((a,l)=>{let u=r.clientWidth;t(a,l),u<r.clientWidth&&t()},window),s=new ResizeObserver(a=>{let l=a[0],u=l.contentRect.width,c=l.contentRect.height;u===0&&c===0||o(u,c)});return s.observe(r),ywe(i,o),s}function QI(i,e,t){t&&t.disconnect(),e==="resize"&&_we(i)}function wwe(i,e,t){let n=i.canvas,r=RI(o=>{i.ctx!==null&&t(gwe(o,i))},i);return fwe(n,e,r),r}var rP=class extends ZS{acquireContext(e,t){let n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(hwe(e,t),n):null}releaseContext(e){let t=e.canvas;if(!t[YS])return!1;let n=t[YS].initial;["height","width"].forEach(o=>{let s=n[o];ht(s)?t.removeAttribute(o):t.setAttribute(o,s)});let r=n.style||{};return Object.keys(r).forEach(o=>{t.style[o]=r[o]}),t.width=t.width,delete t[YS],!0}addEventListener(e,t,n){this.removeEventListener(e,t);let r=e.$proxies||(e.$proxies={}),s={attach:mwe,detach:vwe,resize:Cwe}[t]||wwe;r[t]=s(e,t,n)}removeEventListener(e,t){let n=e.$proxies||(e.$proxies={}),r=n[t];if(!r)return;({attach:QI,detach:QI,resize:QI}[t]||pwe)(e,t,r),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,r){return q3(e,t,n,r)}isAttached(e){let t=HS(e);return!!(t&&t.isConnected)}};function Swe(i){return!VS()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?iP:rP}var Fo=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){let{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Sc(this.x)&&Sc(this.y)}getProps(e,t){let n=this.$animations;if(!t||!n)return this;let r={};return e.forEach(o=>{r[o]=n[o]&&n[o].active()?n[o]._to:this[o]}),r}};function bwe(i,e){let t=i.options.ticks,n=Ewe(i),r=Math.min(t.maxTicksLimit||n,n),o=t.major.enabled?Twe(e):[],s=o.length,a=o[0],l=o[s-1],u=[];if(s>r)return Rwe(e,u,o,s/r),u;let c=Dwe(o,e,r);if(s>0){let d,h,f=s>1?Math.round((l-a)/(s-1)):null;for(jS(e,u,c,ht(f)?0:a-f,a),d=0,h=s-1;d<h;d++)jS(e,u,c,o[d],o[d+1]);return jS(e,u,c,l,ht(f)?e.length:l+f),u}return jS(e,u,c),u}function Ewe(i){let e=i.options.offset,t=i._tickSize(),n=i._length/t+(e?0:1),r=i._maxLength/t;return Math.floor(Math.min(n,r))}function Dwe(i,e,t){let n=Awe(i),r=e.length/t;if(!n)return Math.max(r,1);let o=A3(n);for(let s=0,a=o.length-1;s<a;s++){let l=o[s];if(l>r)return l}return Math.max(r,1)}function Twe(i){let e=[],t,n;for(t=0,n=i.length;t<n;t++)i[t].major&&e.push(t);return e}function Rwe(i,e,t,n){let r=0,o=t[0],s;for(n=Math.ceil(n),s=0;s<i.length;s++)s===o&&(e.push(i[s]),r++,o=t[r*n])}function jS(i,e,t,n,r){let o=Ve(n,0),s=Math.min(Ve(r,i.length),i.length),a=0,l,u,c;for(t=Math.ceil(t),r&&(l=r-n,t=l/Math.floor(l/t)),c=o;c<0;)a++,c=Math.round(o+a*t);for(u=Math.max(o,0);u<s;u++)u===c&&(e.push(i[u]),a++,c=Math.round(o+a*t))}function Awe(i){let e=i.length,t,n;if(e<2)return!1;for(n=i[0],t=1;t<e;++t)if(i[t]-i[t-1]!==n)return!1;return n}var Owe=i=>i==="left"?"right":i==="right"?"left":i,g$=(i,e,t)=>e==="top"||e==="left"?i[e]+t:i[e]-t,m$=(i,e)=>Math.min(e||i,i);function v$(i,e){let t=[],n=i.length/e,r=i.length,o=0;for(;o<r;o+=n)t.push(i[Math.floor(o)]);return t}function xwe(i,e,t){let n=i.ticks.length,r=Math.min(e,n-1),o=i._startPixel,s=i._endPixel,a=1e-6,l=i.getPixelForTick(r),u;if(!(t&&(n===1?u=Math.max(l-o,s-l):e===0?u=(i.getPixelForTick(1)-l)/2:u=(l-i.getPixelForTick(r-1))/2,l+=r<e?u:-u,l<o-a||l>s+a)))return l}function Mwe(i,e){bt(i,t=>{let n=t.gc,r=n.length/2,o;if(r>e){for(o=0;o<r;++o)delete t.data[n[o]];n.splice(0,r)}})}function bm(i){return i.drawTicks?i.tickLength:0}function y$(i,e){if(!i.display)return 0;let t=wn(i.font,e),n=oi(i.padding);return(Vt(i.text)?i.text.length:1)*t.lineHeight+n.height}function Iwe(i,e){return Ca(i,{scale:e,type:"scale"})}function Pwe(i,e,t){return Ca(i,{tick:t,index:e,type:"tick"})}function Fwe(i,e,t){let n=PS(i);return(t&&e!=="right"||!t&&e==="right")&&(n=Owe(n)),n}function Nwe(i,e,t,n){let{top:r,left:o,bottom:s,right:a,chart:l}=i,{chartArea:u,scales:c}=l,d=0,h,f,p,g=s-r,m=a-o;if(i.isHorizontal()){if(f=ri(n,o,a),nt(t)){let v=Object.keys(t)[0],y=t[v];p=c[v].getPixelForValue(y)+g-e}else t==="center"?p=(u.bottom+u.top)/2+g-e:p=g$(i,t,e);h=a-o}else{if(nt(t)){let v=Object.keys(t)[0],y=t[v];f=c[v].getPixelForValue(y)-m+e}else t==="center"?f=(u.left+u.right)/2-m+e:f=g$(i,t,e);p=ri(n,s,r),d=t==="left"?-an:an}return{titleX:f,titleY:p,maxWidth:h,rotation:d}}var Tc=class i extends Fo{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return e=tr(e,Number.POSITIVE_INFINITY),t=tr(t,Number.NEGATIVE_INFINITY),n=tr(n,Number.POSITIVE_INFINITY),r=tr(r,Number.NEGATIVE_INFINITY),{min:tr(e,n),max:tr(t,r),minDefined:Xt(e),maxDefined:Xt(t)}}getMinMax(e){let{min:t,max:n,minDefined:r,maxDefined:o}=this.getUserBounds(),s;if(r&&o)return{min:t,max:n};let a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)s=a[l].controller.getMinMax(this,e),r||(t=Math.min(t,s.min)),o||(n=Math.max(n,s.max));return t=o&&t>n?n:t,n=r&&t>n?t:n,{min:tr(t,tr(n,t)),max:tr(n,tr(t,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Lt(this.options.beforeUpdate,[this])}update(e,t,n){let{beginAtZero:r,grace:o,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=B3(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=a<this.ticks.length;this._convertTicksToLabels(l?v$(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=bwe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,n;this.isHorizontal()?(t=this.left,n=this.right):(t=this.top,n=this.bottom,e=!e),this._startPixel=t,this._endPixel=n,this._reversePixels=e,this._length=n-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Lt(this.options.afterUpdate,[this])}beforeSetDimensions(){Lt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Lt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Lt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Lt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let t=this.options.ticks,n,r,o;for(n=0,r=e.length;n<r;n++)o=e[n],o.label=Lt(t.callback,[o.value,n,e],this)}afterTickToLabelConversion(){Lt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Lt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e=this.options,t=e.ticks,n=m$(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,o=t.maxRotation,s=r,a,l,u;if(!this._isVisible()||!t.display||r>=o||n<=1||!this.isHorizontal()){this.labelRotation=r;return}let c=this._getLabelSizes(),d=c.widest.width,h=c.highest.height,f=Pn(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/n:f/(n-1),d+6>a&&(a=f/(n-(e.offset?.5:1)),l=this.maxHeight-bm(e.grid)-t.padding-y$(e.title,this.chart.options.font),u=Math.sqrt(d*d+h*h),s=MS(Math.min(Math.asin(Pn((c.highest.height+6)/a,-1,1)),Math.asin(Pn(l/u,-1,1))-Math.asin(Pn(h/u,-1,1)))),s=Math.max(r,Math.min(o,s))),this.labelRotation=s}afterCalculateLabelRotation(){Lt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Lt(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:o}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){let l=y$(r,t.options.font);if(a?(e.width=this.maxWidth,e.height=bm(o)+l):(e.height=this.maxHeight,e.width=bm(o)+l),n.display&&this.ticks.length){let{first:u,last:c,widest:d,highest:h}=this._getLabelSizes(),f=n.padding*2,p=ao(this.labelRotation),g=Math.cos(p),m=Math.sin(p);if(a){let v=n.mirror?0:m*d.width+g*h.height;e.height=Math.min(this.maxHeight,e.height+v+f)}else{let v=n.mirror?0:g*d.width+m*h.height;e.width=Math.min(this.maxWidth,e.width+v+f)}this._calculatePadding(u,c,m,g)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){let{ticks:{align:o,padding:s},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let c=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1),h=0,f=0;l?u?(h=r*e.width,f=n*t.height):(h=n*e.height,f=r*t.width):o==="start"?f=t.width:o==="end"?h=e.width:o!=="inner"&&(h=e.width/2,f=t.width/2),this.paddingLeft=Math.max((h-c+s)*this.width/(this.width-c),0),this.paddingRight=Math.max((f-d+s)*this.width/(this.width-d),0)}else{let c=t.height/2,d=e.height/2;o==="start"?(c=0,d=e.height):o==="end"&&(c=t.height,d=0),this.paddingTop=c+s,this.paddingBottom=d+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Lt(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,n;for(t=0,n=e.length;t<n;t++)ht(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let t=this.options.ticks.sampleSize,n=this.ticks;t<n.length&&(n=v$(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){let{ctx:r,_longestTextCache:o}=this,s=[],a=[],l=Math.floor(t/m$(t,n)),u=0,c=0,d,h,f,p,g,m,v,y,C,S,E;for(d=0;d<t;d+=l){if(p=e[d].label,g=this._resolveTickFontOptions(d),r.font=m=g.string,v=o[m]=o[m]||{data:{},gc:[]},y=g.lineHeight,C=S=0,!ht(p)&&!Vt(p))C=gm(r,v.data,v.gc,C,p),S=y;else if(Vt(p))for(h=0,f=p.length;h<f;++h)E=p[h],!ht(E)&&!Vt(E)&&(C=gm(r,v.data,v.gc,C,E),S+=y);s.push(C),a.push(S),u=Math.max(C,u),c=Math.max(S,c)}Mwe(o,t);let T=s.indexOf(u),O=a.indexOf(c),R=M=>({width:s[M]||0,height:a[M]||0});return{first:R(0),last:R(t-1),widest:R(T),highest:R(O),widths:s,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let t=this._startPixel+e*this._length;return x3(this._alignToPixels?Gl(this.chart,t,0):t)}getDecimalForPixel(e){let t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){let t=this.ticks||[];if(e>=0&&e<t.length){let n=t[e];return n.$context||(n.$context=Pwe(this.getContext(),e,n))}return this.$context||(this.$context=Iwe(this.chart.getContext(),this))}_tickSize(){let e=this.options.ticks,t=ao(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),o=this._getLabelSizes(),s=e.autoSkipPadding||0,a=o?o.widest.width+s:0,l=o?o.highest.height+s:0;return this.isHorizontal()?l*n>a*r?a/n:l/r:l*r<a*n?l/n:a/r}_isVisible(){let e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let t=this.axis,n=this.chart,r=this.options,{grid:o,position:s,border:a}=r,l=o.offset,u=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=bm(o),f=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,m=g/2,v=function(q){return Gl(n,q,g)},y,C,S,E,T,O,R,M,H,V,X,ce;if(s==="top")y=v(this.bottom),O=this.bottom-h,M=y-m,V=v(e.top)+m,ce=e.bottom;else if(s==="bottom")y=v(this.top),V=e.top,ce=v(e.bottom)-m,O=y+m,M=this.top+h;else if(s==="left")y=v(this.right),T=this.right-h,R=y-m,H=v(e.left)+m,X=e.right;else if(s==="right")y=v(this.left),H=e.left,X=v(e.right)-m,T=y+m,R=this.left+h;else if(t==="x"){if(s==="center")y=v((e.top+e.bottom)/2+.5);else if(nt(s)){let q=Object.keys(s)[0],$=s[q];y=v(this.chart.scales[q].getPixelForValue($))}V=e.top,ce=e.bottom,O=y+m,M=O+h}else if(t==="y"){if(s==="center")y=v((e.left+e.right)/2);else if(nt(s)){let q=Object.keys(s)[0],$=s[q];y=v(this.chart.scales[q].getPixelForValue($))}T=y-m,R=T-h,H=e.left,X=e.right}let Me=Ve(r.ticks.maxTicksLimit,d),ae=Math.max(1,Math.ceil(d/Me));for(C=0;C<d;C+=ae){let q=this.getContext(C),$=o.setContext(q),ie=a.setContext(q),se=$.lineWidth,We=$.color,Yt=ie.dash||[],wt=ie.dashOffset,en=$.tickWidth,Ke=$.tickColor,zn=$.tickBorderDash||[],mi=$.tickBorderDashOffset;S=xwe(this,C,l),S!==void 0&&(E=Gl(n,S,se),u?T=R=H=X=E:O=M=V=ce=E,f.push({tx1:T,ty1:O,tx2:R,ty2:M,x1:H,y1:V,x2:X,y2:ce,width:se,color:We,borderDash:Yt,borderDashOffset:wt,tickWidth:en,tickColor:Ke,tickBorderDash:zn,tickBorderDashOffset:mi}))}return this._ticksLength=d,this._borderValue=y,f}_computeLabelItems(e){let t=this.axis,n=this.options,{position:r,ticks:o}=n,s=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:c,mirror:d}=o,h=bm(n.grid),f=h+c,p=d?-c:f,g=-ao(this.labelRotation),m=[],v,y,C,S,E,T,O,R,M,H,V,X,ce="middle";if(r==="top")T=this.bottom-p,O=this._getXAxisLabelAlignment();else if(r==="bottom")T=this.top+p,O=this._getXAxisLabelAlignment();else if(r==="left"){let ae=this._getYAxisLabelAlignment(h);O=ae.textAlign,E=ae.x}else if(r==="right"){let ae=this._getYAxisLabelAlignment(h);O=ae.textAlign,E=ae.x}else if(t==="x"){if(r==="center")T=(e.top+e.bottom)/2+f;else if(nt(r)){let ae=Object.keys(r)[0],q=r[ae];T=this.chart.scales[ae].getPixelForValue(q)+f}O=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")E=(e.left+e.right)/2-f;else if(nt(r)){let ae=Object.keys(r)[0],q=r[ae];E=this.chart.scales[ae].getPixelForValue(q)}O=this._getYAxisLabelAlignment(h).textAlign}t==="y"&&(l==="start"?ce="top":l==="end"&&(ce="bottom"));let Me=this._getLabelSizes();for(v=0,y=a.length;v<y;++v){C=a[v],S=C.label;let ae=o.setContext(this.getContext(v));R=this.getPixelForTick(v)+o.labelOffset,M=this._resolveTickFontOptions(v),H=M.lineHeight,V=Vt(S)?S.length:1;let q=V/2,$=ae.color,ie=ae.textStrokeColor,se=ae.textStrokeWidth,We=O;s?(E=R,O==="inner"&&(v===y-1?We=this.options.reverse?"left":"right":v===0?We=this.options.reverse?"right":"left":We="center"),r==="top"?u==="near"||g!==0?X=-V*H+H/2:u==="center"?X=-Me.highest.height/2-q*H+H:X=-Me.highest.height+H/2:u==="near"||g!==0?X=H/2:u==="center"?X=Me.highest.height/2-q*H:X=Me.highest.height-V*H,d&&(X*=-1),g!==0&&!ae.showLabelBackdrop&&(E+=H/2*Math.sin(g))):(T=R,X=(1-V)*H/2);let Yt;if(ae.showLabelBackdrop){let wt=oi(ae.backdropPadding),en=Me.heights[v],Ke=Me.widths[v],zn=X-wt.top,mi=0-wt.left;switch(ce){case"middle":zn-=en/2;break;case"bottom":zn-=en;break}switch(O){case"center":mi-=Ke/2;break;case"right":mi-=Ke;break;case"inner":v===y-1?mi-=Ke:v>0&&(mi-=Ke/2);break}Yt={left:mi,top:zn,width:Ke+wt.width,height:en+wt.height,color:ae.backdropColor}}m.push({label:S,font:M,textOffset:X,options:{rotation:g,color:$,strokeColor:ie,strokeWidth:se,textAlign:We,textBaseline:ce,translation:[E,T],backdrop:Yt}})}return m}_getXAxisLabelAlignment(){let{position:e,ticks:t}=this.options;if(-ao(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){let{position:t,ticks:{crossAlign:n,mirror:r,padding:o}}=this.options,s=this._getLabelSizes(),a=e+o,l=s.widest.width,u,c;return t==="left"?r?(c=this.right+o,n==="near"?u="left":n==="center"?(u="center",c+=l/2):(u="right",c+=l)):(c=this.right-a,n==="near"?u="right":n==="center"?(u="center",c-=l/2):(u="left",c=this.left)):t==="right"?r?(c=this.left+o,n==="near"?u="right":n==="center"?(u="center",c-=l/2):(u="left",c-=l)):(c=this.left+a,n==="near"?u="left":n==="center"?(u="center",c+=l/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){let{ctx:e,options:{backgroundColor:t},left:n,top:r,width:o,height:s}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,o,s),e.restore())}getLineWidthForValue(e){let t=this.options.grid;if(!this._isVisible()||!t.display)return 0;let r=this.ticks.findIndex(o=>o.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){let t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),o,s,a=(l,u,c)=>{!c.width||!c.color||(n.save(),n.lineWidth=c.width,n.strokeStyle=c.color,n.setLineDash(c.borderDash||[]),n.lineDashOffset=c.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(t.display)for(o=0,s=r.length;o<s;++o){let l=r[o];t.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:e,ctx:t,options:{border:n,grid:r}}=this,o=n.setContext(this.getContext()),s=n.display?o.width:0;if(!s)return;let a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue,u,c,d,h;this.isHorizontal()?(u=Gl(e,this.left,s)-s/2,c=Gl(e,this.right,a)+a/2,d=h=l):(d=Gl(e,this.top,s)-s/2,h=Gl(e,this.bottom,a)+a/2,u=c=l),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(u,d),t.lineTo(c,h),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;let n=this.ctx,r=this._computeLabelArea();r&&ym(n,r);let o=this.getLabelItems(e);for(let s of o){let a=s.options,l=s.font,u=s.label,c=s.textOffset;Bl(n,u,0,c,l,a)}r&&_m(n)}drawTitle(){let{ctx:e,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;let o=wn(n.font),s=oi(n.padding),a=n.align,l=o.lineHeight/2;t==="bottom"||t==="center"||nt(t)?(l+=s.bottom,Vt(n.text)&&(l+=o.lineHeight*(n.text.length-1))):l+=s.top;let{titleX:u,titleY:c,maxWidth:d,rotation:h}=Nwe(this,l,t,a);Bl(e,n.text,0,0,o,{color:n.color,maxWidth:d,rotation:h,textAlign:Fwe(a,t,r),textBaseline:"middle",translation:[u,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,t=e.ticks&&e.ticks.z||0,n=Ve(e.grid&&e.grid.z,-1),r=Ve(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==i.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:n,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){let t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[],o,s;for(o=0,s=t.length;o<s;++o){let a=t[o];a[n]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){let t=this.options.ticks.setContext(this.getContext(e));return wn(t.font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}},Bh=class{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let t=Object.getPrototypeOf(e),n;Vwe(t)&&(n=this.register(t));let r=this.items,o=e.id,s=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in r||(r[o]=e,Lwe(e,s,n),this.override&&Jt.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){let t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in Jt[r]&&(delete Jt[r][n],this.override&&delete Hl[n])}};function Lwe(i,e,t){let n=Mh(Object.create(null),[t?Jt.get(t):{},Jt.get(e),i.defaults]);Jt.set(e,n),i.defaultRoutes&&kwe(e,i.defaultRoutes),i.descriptors&&Jt.describe(e,i.descriptors)}function kwe(i,e){Object.keys(e).forEach(t=>{let n=t.split("."),r=n.pop(),o=[i].concat(n).join("."),s=e[t].split("."),a=s.pop(),l=s.join(".");Jt.route(o,r,l,a)})}function Vwe(i){return"id"in i&&"defaults"in i}var oP=class{constructor(){this.controllers=new Bh(zl,"datasets",!0),this.elements=new Bh(Fo,"elements"),this.plugins=new Bh(Object,"plugins"),this.scales=new Bh(Tc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach(r=>{let o=n||this._getRegistryForType(r);n||o.isForType(r)||o===this.plugins&&r.id?this._exec(e,o,r):bt(r,s=>{let a=n||this._getRegistryForType(s);this._exec(e,a,s)})})}_exec(e,t,n){let r=xS(e);Lt(n["before"+r],[],n),t[e](n),Lt(n["after"+r],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){let n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){let r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return r}},xs=new oP,sP=class{constructor(){this._init=[]}notify(e,t,n,r){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let o=r?this._descriptors(e).filter(r):this._descriptors(e),s=this._notify(o,e,t,n);return t==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,t,n,r){r=r||{};for(let o of e){let s=o.plugin,a=s[n],l=[t,r,o.options];if(Lt(a,l,s)===!1&&r.cancelable)return!1}return!0}invalidate(){ht(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){let n=e&&e.config,r=Ve(n.options&&n.options.plugins,{}),o=Hwe(n);return r===!1&&!t?[]:Bwe(e,o,r,t)}_notifyStateChanges(e){let t=this._oldCache||[],n=this._cache,r=(o,s)=>o.filter(a=>!s.some(l=>a.plugin.id===l.plugin.id));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}};function Hwe(i){let e={},t=[],n=Object.keys(xs.plugins.items);for(let o=0;o<n.length;o++)t.push(xs.getPlugin(n[o]));let r=i.plugins||[];for(let o=0;o<r.length;o++){let s=r[o];t.indexOf(s)===-1&&(t.push(s),e[s.id]=!0)}return{plugins:t,localIds:e}}function Gwe(i,e){return!e&&i===!1?null:i===!0?{}:i}function Bwe(i,{plugins:e,localIds:t},n,r){let o=[],s=i.getContext();for(let a of e){let l=a.id,u=Gwe(n[l],r);u!==null&&o.push({plugin:a,options:jwe(i.config,{plugin:a,local:t[l]},u,s)})}return o}function jwe(i,{plugin:e,local:t},n,r){let o=i.pluginScopeKeys(e),s=i.getOptionScopes(n,o);return t&&e.defaults&&s.push(e.defaults),i.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function aP(i,e){let t=Jt.datasets[i]||{};return((e.datasets||{})[i]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function Uwe(i,e){let t=i;return i==="_index_"?t=e:i==="_value_"&&(t=e==="x"?"y":"x"),t}function Wwe(i,e){return i===e?"_index_":"_value_"}function _$(i){if(i==="x"||i==="y"||i==="r")return i}function zwe(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function lP(i,...e){if(_$(i))return i;for(let t of e){let n=t.axis||zwe(t.position)||i.length>1&&_$(i[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function C$(i,e,t){if(t[e+"AxisID"]===i)return{axis:e}}function $we(i,e){if(e.data&&e.data.datasets){let t=e.data.datasets.filter(n=>n.xAxisID===i||n.yAxisID===i);if(t.length)return C$(i,"x",t[0])||C$(i,"y",t[0])}return{}}function qwe(i,e){let t=Hl[i.type]||{scales:{}},n=e.scales||{},r=aP(i.type,e),o=Object.create(null);return Object.keys(n).forEach(s=>{let a=n[s];if(!nt(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);let l=lP(s,a,$we(s,i),Jt.scales[a.type]),u=Wwe(l,r),c=t.scales||{};o[s]=Ph(Object.create(null),[{axis:l},a,c[l],c[u]])}),i.data.datasets.forEach(s=>{let a=s.type||i.type,l=s.indexAxis||aP(a,e),c=(Hl[a]||{}).scales||{};Object.keys(c).forEach(d=>{let h=Uwe(d,l),f=s[h+"AxisID"]||h;o[f]=o[f]||Object.create(null),Ph(o[f],[{axis:h},n[f],c[d]])})}),Object.keys(o).forEach(s=>{let a=o[s];Ph(a,[Jt.scales[a.type],Jt.scale])}),o}function a5(i){let e=i.options||(i.options={});e.plugins=Ve(e.plugins,{}),e.scales=qwe(i,e)}function l5(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function Ywe(i){return i=i||{},i.data=l5(i.data),a5(i),i}var w$=new Map,u5=new Set;function US(i,e){let t=w$.get(i);return t||(t=e(),w$.set(i,t),u5.add(t)),t}var Em=(i,e,t)=>{let n=_a(e,t);n!==void 0&&i.add(n)},uP=class{constructor(e){this._config=Ywe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=l5(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),a5(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return US(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return US(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return US(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){let t=e.id,n=this.type;return US(`${n}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){let n=this._scopeCache,r=n.get(e);return(!r||t)&&(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){let{options:r,type:o}=this,s=this._cachedScopes(e,n),a=s.get(t);if(a)return a;let l=new Set;t.forEach(c=>{e&&(l.add(e),c.forEach(d=>Em(l,e,d))),c.forEach(d=>Em(l,r,d)),c.forEach(d=>Em(l,Hl[o]||{},d)),c.forEach(d=>Em(l,Jt,d)),c.forEach(d=>Em(l,FS,d))});let u=Array.from(l);return u.length===0&&u.push(Object.create(null)),u5.has(t)&&s.set(t,u),u}chartOptionScopes(){let{options:e,type:t}=this;return[e,Hl[t]||{},Jt.datasets[t]||{},{type:t},Jt,FS]}resolveNamedOptions(e,t,n,r=[""]){let o={$shared:!0},{resolver:s,subPrefixes:a}=S$(this._resolverCache,e,r),l=s;if(Qwe(s,t)){o.$shared=!1,n=va(n)?n():n;let u=this.createResolver(e,n,a);l=wc(s,n,u)}for(let u of t)o[u]=l[u];return o}createResolver(e,t,n=[""],r){let{resolver:o}=S$(this._resolverCache,e,n);return nt(t)?wc(o,t,void 0,r):o}};function S$(i,e,t){let n=i.get(e);n||(n=new Map,i.set(e,n));let r=t.join(),o=n.get(r);return o||(o={resolver:kS(e,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},n.set(r,o)),o}var Kwe=i=>nt(i)&&Object.getOwnPropertyNames(i).some(e=>va(i[e]));function Qwe(i,e){let{isScriptable:t,isIndexable:n}=NI(i);for(let r of e){let o=t(r),s=n(r),a=(s||o)&&i[r];if(o&&(va(a)||Kwe(a))||s&&Vt(a))return!0}return!1}var Zwe="4.4.1",Xwe=["top","bottom","left","right","chartArea"];function b$(i,e){return i==="top"||i==="bottom"||Xwe.indexOf(i)===-1&&e==="x"}function E$(i,e){return function(t,n){return t[i]===n[i]?t[e]-n[e]:t[i]-n[i]}}function D$(i){let e=i.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Lt(t&&t.onComplete,[i],e)}function Jwe(i){let e=i.chart,t=e.options.animation;Lt(t&&t.onProgress,[i],e)}function c5(i){return VS()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}var KS={},T$=i=>{let e=c5(i);return Object.values(KS).filter(t=>t.canvas===e).pop()};function eSe(i,e,t){let n=Object.keys(i);for(let r of n){let o=+r;if(o>=e){let s=i[r];delete i[r],(t>0||o>e)&&(i[o+t]=s)}}}function tSe(i,e,t,n){return!t||i.type==="mouseout"?null:n?e:i}function WS(i,e,t){return i.options.clip?i[t]:e[t]}function nSe(i,e){let{xScale:t,yScale:n}=i;return t&&n?{left:WS(t,e,"left"),right:WS(t,e,"right"),top:WS(n,e,"top"),bottom:WS(n,e,"bottom")}:e}var rr=(()=>{class i{static defaults=Jt;static instances=KS;static overrides=Hl;static registry=xs;static version=Zwe;static getChart=T$;static register(...t){xs.add(...t),R$()}static unregister(...t){xs.remove(...t),R$()}constructor(t,n){let r=this.config=new uP(n),o=c5(t),s=T$(o);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");let a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Swe(o)),this.platform.updateConfig(r);let l=this.platform.acquireContext(o,a.aspectRatio),u=l&&l.canvas,c=u&&u.height,d=u&&u.width;if(this.id=E3(),this.ctx=l,this.canvas=u,this.width=d,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new sP,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=N3(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],KS[this.id]=this,!l||!u){console.error("Failed to create chart: can't acquire context from the given item");return}wa.listen(this,"complete",D$),wa.listen(this,"progress",Jwe),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:o,_aspectRatio:s}=this;return ht(t)?n&&s?s:o?r/o:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return xs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():HI(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return II(this.canvas,this.ctx),this}stop(){return wa.stop(this),this}resize(t,n){wa.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){let r=this.options,o=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(o,t,n,s),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,HI(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Lt(r.onResize,[this,a],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){let n=this.options.scales||{};bt(n,(r,o)=>{r.id=o})}buildOrUpdateScales(){let t=this.options,n=t.scales,r=this.scales,o=Object.keys(r).reduce((a,l)=>(a[l]=!1,a),{}),s=[];n&&(s=s.concat(Object.keys(n).map(a=>{let l=n[a],u=lP(a,l),c=u==="r",d=u==="x";return{options:l,dposition:c?"chartArea":d?"bottom":"left",dtype:c?"radialLinear":d?"category":"linear"}}))),bt(s,a=>{let l=a.options,u=l.id,c=lP(u,l),d=Ve(l.type,a.dtype);(l.position===void 0||b$(l.position,c)!==b$(a.dposition))&&(l.position=a.dposition),o[u]=!0;let h=null;if(u in r&&r[u].type===d)h=r[u];else{let f=xs.getScale(d);h=new f({id:u,type:d,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(l,t)}),bt(o,(a,l)=>{a||delete r[l]}),bt(r,a=>{gi.configure(this,a,a.options),gi.addBox(this,a)})}_updateMetasets(){let t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((o,s)=>o.index-s.index),r>n){for(let o=n;o<r;++o)this._destroyDatasetMeta(o);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(E$("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,o)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){let t=[],n=this.data.datasets,r,o;for(this._removeUnreferencedMetasets(),r=0,o=n.length;r<o;r++){let s=n[r],a=this.getDatasetMeta(r),l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=l,a.indexAxis=s.indexAxis||aP(l,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{let u=xs.getController(l),{datasetElementType:c,dataElementType:d}=Jt.datasets[l];Object.assign(u,{dataElementType:xs.getElement(d),datasetElementType:c&&xs.getElement(c)}),a.controller=new u(this,r),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){bt(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let n=this.config;n.update();let r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;let s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,d=this.data.datasets.length;c<d;c++){let{controller:h}=this.getDatasetMeta(c),f=!o&&s.indexOf(h)===-1;h.buildOrUpdateElements(f),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),o||bt(s,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(E$("z","_idx"));let{_active:l,_lastEvent:u}=this;u?this._eventHandler(u,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){bt(this.scales,t=>{gi.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!_I(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(let{method:r,start:o,count:s}of n){let a=r==="_removeElements"?-s:s;eSe(t,o,a)}}_getUniformDataChanges(){let t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];let n=this.data.datasets.length,r=s=>new Set(t.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),o=r(0);for(let s=1;s<n;s++)if(!_I(o,r(s)))return;return Array.from(o).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;gi.update(this,this.width,this.height,t);let n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],bt(this.boxes,o=>{r&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,s)=>{o._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,va(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){let r=this.getDatasetMeta(t),o={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(r.controller._update(n),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(wa.has(this)?this.attached&&!wa.running(this)&&wa.start(this):(this.draw(),D$({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){let{width:r,height:o}=this._resizeBeforeDraw;this._resize(r,o),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){let n=this._sortedMetasets,r=[],o,s;for(o=0,s=n.length;o<s;++o){let a=n[o];(!t||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){let n=this.ctx,r=t._clip,o=!r.disabled,s=nSe(t,this.chartArea),a={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(o&&ym(n,{left:r.left===!1?0:s.left-r.left,right:r.right===!1?this.width:s.right+r.right,top:r.top===!1?0:s.top-r.top,bottom:r.bottom===!1?this.height:s.bottom+r.bottom}),t.controller.draw(),o&&_m(n),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(t){return Ts(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,o){let s=iwe.modes[n];return typeof s=="function"?s(this,t,r,o):[]}getDatasetMeta(t){let n=this.data.datasets[t],r=this._metasets,o=r.filter(s=>s&&s._dataset===n).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(o)),o}getContext(){return this.$context||(this.$context=Ca(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){let n=this.data.datasets[t];if(!n)return!1;let r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){let r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){let o=r?"show":"hide",s=this.getDatasetMeta(t),a=s.controller._resolveAnimations(void 0,o);Fh(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),a.update(s,{visible:r}),this.update(l=>l.datasetIndex===t?o:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){let n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),wa.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),II(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete KS[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let t=this._listeners,n=this.platform,r=(s,a)=>{n.addEventListener(this,s,a),t[s]=a},o=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};bt(this.options.events,s=>r(s,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,n=this.platform,r=(u,c)=>{n.addEventListener(this,u,c),t[u]=c},o=(u,c)=>{t[u]&&(n.removeEventListener(this,u,c),delete t[u])},s=(u,c)=>{this.canvas&&this.resize(u,c)},a,l=()=>{o("attach",l),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,o("resize",s),this._stop(),this._resize(0,0),r("attach",l)},n.isAttached(this.canvas)?l():a()}unbindEvents(){bt(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},bt(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){let o=r?"set":"remove",s,a,l,u;for(n==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+o+"DatasetHoverStyle"]()),l=0,u=t.length;l<u;++l){a=t[l];let c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){let n=this._active||[],r=t.map(({datasetIndex:s,index:a})=>{let l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!mm(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){let o=this.options.hover,s=(u,c)=>u.filter(d=>!c.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),a=s(n,t),l=r?t:s(t,n);a.length&&this.updateHoverStyle(a,o.mode,!1),l.length&&o.mode&&this.updateHoverStyle(l,o.mode,!0)}_eventHandler(t,n){let r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},o=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,o)===!1)return;let s=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,o),(s||r.changed)&&this.render(),this}_handleEvent(t,n,r){let{_active:o=[],options:s}=this,a=n,l=this._getActiveElements(t,o,r,a),u=R3(t),c=tSe(t,this._lastEvent,r,u);r&&(this._lastEvent=null,Lt(s.onHover,[t,l,this],this),u&&Lt(s.onClick,[t,l,this],this));let d=!mm(l,o);return(d||n)&&(this._active=l,this._updateHoverStyles(l,o,n)),this._lastEvent=c,d}_getActiveElements(t,n,r,o){if(t.type==="mouseout")return[];if(!r)return n;let s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,o)}}return i})();function R$(){return bt(rr.instances,i=>i._plugins.invalidate())}function iSe(i,e,t){let{startAngle:n,pixelMargin:r,x:o,y:s,outerRadius:a,innerRadius:l}=e,u=r/a;i.beginPath(),i.arc(o,s,a,n-u,t+u),l>r?(u=r/l,i.arc(o,s,l,t+u,n-u,!0)):i.arc(o,s,r,t+an,n-an),i.closePath(),i.clip()}function rSe(i){return LS(i,["outerStart","outerEnd","innerStart","innerEnd"])}function oSe(i,e,t,n){let r=rSe(i.options.borderRadius),o=(t-e)/2,s=Math.min(o,n*e/2),a=l=>{let u=(t-Math.min(o,l))*n/2;return Pn(l,0,Math.min(o,u))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:Pn(r.innerStart,0,s),innerEnd:Pn(r.innerEnd,0,s)}}function Gh(i,e,t,n){return{x:t+i*Math.cos(e),y:n+i*Math.sin(e)}}function JS(i,e,t,n,r,o){let{x:s,y:a,startAngle:l,pixelMargin:u,innerRadius:c}=e,d=Math.max(e.outerRadius+n+t-u,0),h=c>0?c+n+t+u:0,f=0,p=r-l;if(n){let ae=c>0?c-n:0,q=d>0?d-n:0,$=(ae+q)/2,ie=$!==0?p*$/($+n):p;f=(p-ie)/2}let g=Math.max(.001,p*d-t/Ht)/d,m=(p-g)/2,v=l+m+f,y=r-m-f,{outerStart:C,outerEnd:S,innerStart:E,innerEnd:T}=oSe(e,h,d,y-v),O=d-C,R=d-S,M=v+C/O,H=y-S/R,V=h+E,X=h+T,ce=v+E/V,Me=y-T/X;if(i.beginPath(),o){let ae=(M+H)/2;if(i.arc(s,a,d,M,ae),i.arc(s,a,d,ae,H),S>0){let se=Gh(R,H,s,a);i.arc(se.x,se.y,S,H,y+an)}let q=Gh(X,y,s,a);if(i.lineTo(q.x,q.y),T>0){let se=Gh(X,Me,s,a);i.arc(se.x,se.y,T,y+an,Me+Math.PI)}let $=(y-T/h+(v+E/h))/2;if(i.arc(s,a,h,y-T/h,$,!0),i.arc(s,a,h,$,v+E/h,!0),E>0){let se=Gh(V,ce,s,a);i.arc(se.x,se.y,E,ce+Math.PI,v-an)}let ie=Gh(O,v,s,a);if(i.lineTo(ie.x,ie.y),C>0){let se=Gh(O,M,s,a);i.arc(se.x,se.y,C,v-an,M)}}else{i.moveTo(s,a);let ae=Math.cos(M)*d+s,q=Math.sin(M)*d+a;i.lineTo(ae,q);let $=Math.cos(H)*d+s,ie=Math.sin(H)*d+a;i.lineTo($,ie)}i.closePath()}function sSe(i,e,t,n,r){let{fullCircles:o,startAngle:s,circumference:a}=e,l=e.endAngle;if(o){JS(i,e,t,n,l,r);for(let u=0;u<o;++u)i.fill();isNaN(a)||(l=s+(a%Gt||Gt))}return JS(i,e,t,n,l,r),i.fill(),l}function aSe(i,e,t,n,r){let{fullCircles:o,startAngle:s,circumference:a,options:l}=e,{borderWidth:u,borderJoinStyle:c,borderDash:d,borderDashOffset:h}=l,f=l.borderAlign==="inner";if(!u)return;i.setLineDash(d||[]),i.lineDashOffset=h,f?(i.lineWidth=u*2,i.lineJoin=c||"round"):(i.lineWidth=u,i.lineJoin=c||"bevel");let p=e.endAngle;if(o){JS(i,e,t,n,p,r);for(let g=0;g<o;++g)i.stroke();isNaN(a)||(p=s+(a%Gt||Gt))}f&&iSe(i,e,p),o||(JS(i,e,t,n,p,r),i.stroke())}var cP=class extends Fo{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){let r=this.getProps(["x","y"],n),{angle:o,distance:s}=bI(r,{x:e,y:t}),{startAngle:a,endAngle:l,innerRadius:u,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=(this.options.spacing+this.options.borderWidth)/2,p=Ve(d,l-a)>=Gt||Lh(o,a,l),g=As(s,u+h,c+h);return p&&g}getCenterPoint(e){let{x:t,y:n,startAngle:r,endAngle:o,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:l,spacing:u}=this.options,c=(r+o)/2,d=(s+a+u+l)/2;return{x:t+Math.cos(c)*d,y:n+Math.sin(c)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:t,circumference:n}=this,r=(t.offset||0)/4,o=(t.spacing||0)/2,s=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=n>Gt?Math.floor(n/Gt):0,n===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*r,Math.sin(a)*r);let l=1-Math.sin(Math.min(Ht,n||0)),u=r*l;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,sSe(e,this,u,o,s),aSe(e,this,u,o,s),e.restore()}};function d5(i,e,t=e){i.lineCap=Ve(t.borderCapStyle,e.borderCapStyle),i.setLineDash(Ve(t.borderDash,e.borderDash)),i.lineDashOffset=Ve(t.borderDashOffset,e.borderDashOffset),i.lineJoin=Ve(t.borderJoinStyle,e.borderJoinStyle),i.lineWidth=Ve(t.borderWidth,e.borderWidth),i.strokeStyle=Ve(t.borderColor,e.borderColor)}function lSe(i,e,t){i.lineTo(t.x,t.y)}function uSe(i){return i.stepped?H3:i.tension||i.cubicInterpolationMode==="monotone"?G3:lSe}function h5(i,e,t={}){let n=i.length,{start:r=0,end:o=n-1}=t,{start:s,end:a}=e,l=Math.max(r,s),u=Math.min(o,a),c=r<s&&o<s||r>a&&o>a;return{count:n,start:l,loop:e.loop,ilen:u<l&&!c?n+u-l:u-l}}function cSe(i,e,t,n){let{points:r,options:o}=e,{count:s,start:a,loop:l,ilen:u}=h5(r,t,n),c=uSe(o),{move:d=!0,reverse:h}=n||{},f,p,g;for(f=0;f<=u;++f)p=r[(a+(h?u-f:f))%s],!p.skip&&(d?(i.moveTo(p.x,p.y),d=!1):c(i,g,p,h,o.stepped),g=p);return l&&(p=r[(a+(h?u:0))%s],c(i,g,p,h,o.stepped)),!!l}function dSe(i,e,t,n){let r=e.points,{count:o,start:s,ilen:a}=h5(r,t,n),{move:l=!0,reverse:u}=n||{},c=0,d=0,h,f,p,g,m,v,y=S=>(s+(u?a-S:S))%o,C=()=>{g!==m&&(i.lineTo(c,m),i.lineTo(c,g),i.lineTo(c,v))};for(l&&(f=r[y(0)],i.moveTo(f.x,f.y)),h=0;h<=a;++h){if(f=r[y(h)],f.skip)continue;let S=f.x,E=f.y,T=S|0;T===p?(E<g?g=E:E>m&&(m=E),c=(d*c+S)/++d):(C(),i.lineTo(S,E),p=T,d=0,g=m=E),v=E}C()}function dP(i){let e=i.options,t=e.borderDash&&e.borderDash.length;return!i._decimated&&!i._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?dSe:cSe}function hSe(i){return i.stepped?K3:i.tension||i.cubicInterpolationMode==="monotone"?Q3:Vl}function fSe(i,e,t,n){let r=e._path;r||(r=e._path=new Path2D,e.path(r,t,n)&&r.closePath()),d5(i,e.options),i.stroke(r)}function pSe(i,e,t,n){let{segments:r,options:o}=e,s=dP(e);for(let a of r)d5(i,o,a.style),i.beginPath(),s(i,e,a,{start:t,end:t+n-1})&&i.closePath(),i.stroke()}var gSe=typeof Path2D=="function";function mSe(i,e,t,n){gSe&&!e.options.segment?fSe(i,e,t,n):pSe(i,e,t,n)}var nb=(()=>{class i extends Fo{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){let r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){let o=r.spanGaps?this._loop:this._fullLoop;$3(this._points,r,t,o,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=X3(this,this.options.segment))}first(){let t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){let t=this.segments,n=this.points,r=t.length;return r&&n[t[r-1].end]}interpolate(t,n){let r=this.options,o=t[n],s=this.points,a=WI(this,{property:n,start:o,end:o});if(!a.length)return;let l=[],u=hSe(r),c,d;for(c=0,d=a.length;c<d;++c){let{start:h,end:f}=a[c],p=s[h],g=s[f];if(p===g){l.push(p);continue}let m=Math.abs((o-p[n])/(g[n]-p[n])),v=u(p,g,m,r.stepped);v[n]=t[n],l.push(v)}return l.length===1?l[0]:l}pathSegment(t,n,r){return dP(this)(t,this,n,r)}path(t,n,r){let o=this.segments,s=dP(this),a=this._loop;n=n||0,r=r||this.points.length-n;for(let l of o)a&=s(t,this,l,{start:n,end:n+r-1});return!!a}draw(t,n,r,o){let s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),mSe(t,this,r,o),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return i})();function A$(i,e,t,n){let r=i.options,{[t]:o}=i.getProps([t],n);return Math.abs(e-o)<r.radius+r.hitRadius}var vSe=(()=>{class i extends Fo{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,r){let o=this.options,{x:s,y:a}=this.getProps(["x","y"],r);return Math.pow(t-s,2)+Math.pow(n-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(t,n){return A$(this,t,"x",n)}inYRange(t,n){return A$(this,t,"y",n)}getCenterPoint(t){let{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);let r=n&&t.borderWidth||0;return(n+r)*2}draw(t,n){let r=this.options;this.skip||r.radius<.1||!Ts(this,n,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,NS(t,r,this.x,this.y))}getRange(){let t=this.options||{};return t.radius+t.hitRadius}}return i})();function f5(i,e){let{x:t,y:n,base:r,width:o,height:s}=i.getProps(["x","y","base","width","height"],e),a,l,u,c,d;return i.horizontal?(d=s/2,a=Math.min(t,r),l=Math.max(t,r),u=n-d,c=n+d):(d=o/2,a=t-d,l=t+d,u=Math.min(n,r),c=Math.max(n,r)),{left:a,top:u,right:l,bottom:c}}function Wl(i,e,t,n){return i?0:Pn(e,t,n)}function ySe(i,e,t){let n=i.options.borderWidth,r=i.borderSkipped,o=FI(n);return{t:Wl(r.top,o.top,0,t),r:Wl(r.right,o.right,0,e),b:Wl(r.bottom,o.bottom,0,t),l:Wl(r.left,o.left,0,e)}}function _Se(i,e,t){let{enableBorderRadius:n}=i.getProps(["enableBorderRadius"]),r=i.options.borderRadius,o=jl(r),s=Math.min(e,t),a=i.borderSkipped,l=n||nt(r);return{topLeft:Wl(!l||a.top||a.left,o.topLeft,0,s),topRight:Wl(!l||a.top||a.right,o.topRight,0,s),bottomLeft:Wl(!l||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:Wl(!l||a.bottom||a.right,o.bottomRight,0,s)}}function CSe(i){let e=f5(i),t=e.right-e.left,n=e.bottom-e.top,r=ySe(i,t/2,n/2),o=_Se(i,t/2,n/2);return{outer:{x:e.left,y:e.top,w:t,h:n,radius:o},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function ZI(i,e,t,n){let r=e===null,o=t===null,a=i&&!(r&&o)&&f5(i,n);return a&&(r||As(e,a.left,a.right))&&(o||As(t,a.top,a.bottom))}function wSe(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function SSe(i,e){i.rect(e.x,e.y,e.w,e.h)}function XI(i,e,t={}){let n=i.x!==t.x?-e:0,r=i.y!==t.y?-e:0,o=(i.x+i.w!==t.x+t.w?e:0)-n,s=(i.y+i.h!==t.y+t.h?e:0)-r;return{x:i.x+n,y:i.y+r,w:i.w+o,h:i.h+s,radius:i.radius}}var hP=class extends Fo{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){let{inflateAmount:t,options:{borderColor:n,backgroundColor:r}}=this,{inner:o,outer:s}=CSe(this),a=wSe(s.radius)?Vh:SSe;e.save(),(s.w!==o.w||s.h!==o.h)&&(e.beginPath(),a(e,XI(s,t,o)),e.clip(),a(e,XI(o,-t,s)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),a(e,XI(o,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,n){return ZI(this,e,t,n)}inXRange(e,t){return ZI(this,e,null,t)}inYRange(e,t){return ZI(this,null,e,t)}getCenterPoint(e){let{x:t,y:n,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(t+r)/2:t,y:o?n:(n+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}},bSe=Object.freeze({__proto__:null,ArcElement:cP,BarElement:hP,LineElement:nb,PointElement:vSe}),fP=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],O$=fP.map(i=>i.replace("rgb(","rgba(").replace(")",", 0.5)"));function p5(i){return fP[i%fP.length]}function g5(i){return O$[i%O$.length]}function ESe(i,e){return i.borderColor=p5(e),i.backgroundColor=g5(e),++e}function DSe(i,e){return i.backgroundColor=i.data.map(()=>p5(e++)),e}function TSe(i,e){return i.backgroundColor=i.data.map(()=>g5(e++)),e}function RSe(i){let e=0;return(t,n)=>{let r=i.getDatasetMeta(n).controller;r instanceof wP?e=DSe(t,e):r instanceof n5?e=TSe(t,e):r&&(e=ESe(t,e))}}function x$(i){let e;for(e in i)if(i[e].borderColor||i[e].backgroundColor)return!0;return!1}function ASe(i){return i&&(i.borderColor||i.backgroundColor)}var OSe={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(i,e,t){if(!t.enabled)return;let{data:{datasets:n},options:r}=i.config,{elements:o}=r;if(!t.forceOverride&&(x$(n)||ASe(r)||o&&x$(o)))return;let s=RSe(i);n.forEach(s)}};function xSe(i,e,t,n,r){let o=r.samples||n;if(o>=t)return i.slice(e,e+t);let s=[],a=(t-2)/(o-2),l=0,u=e+t-1,c=e,d,h,f,p,g;for(s[l++]=i[c],d=0;d<o-2;d++){let m=0,v=0,y,C=Math.floor((d+1)*a)+1+e,S=Math.min(Math.floor((d+2)*a)+1,t)+e,E=S-C;for(y=C;y<S;y++)m+=i[y].x,v+=i[y].y;m/=E,v/=E;let T=Math.floor(d*a)+1+e,O=Math.min(Math.floor((d+1)*a)+1,t)+e,{x:R,y:M}=i[c];for(f=p=-1,y=T;y<O;y++)p=.5*Math.abs((R-m)*(i[y].y-M)-(R-i[y].x)*(v-M)),p>f&&(f=p,h=i[y],g=y);s[l++]=h,c=g}return s[l++]=i[u],s}function MSe(i,e,t,n){let r=0,o=0,s,a,l,u,c,d,h,f,p,g,m=[],v=e+t-1,y=i[e].x,S=i[v].x-y;for(s=e;s<e+t;++s){a=i[s],l=(a.x-y)/S*n,u=a.y;let E=l|0;if(E===c)u<p?(p=u,d=s):u>g&&(g=u,h=s),r=(o*r+a.x)/++o;else{let T=s-1;if(!ht(d)&&!ht(h)){let O=Math.min(d,h),R=Math.max(d,h);O!==f&&O!==T&&m.push(be(K({},i[O]),{x:r})),R!==f&&R!==T&&m.push(be(K({},i[R]),{x:r}))}s>0&&T!==f&&m.push(i[T]),m.push(a),c=E,o=0,p=g=u,d=h=f=s}}return m}function m5(i){if(i._decimated){let e=i._data;delete i._decimated,delete i._data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function M$(i){i.data.datasets.forEach(e=>{m5(e)})}function ISe(i,e){let t=e.length,n=0,r,{iScale:o}=i,{min:s,max:a,minDefined:l,maxDefined:u}=o.getUserBounds();return l&&(n=Pn(Ds(e,o.axis,s).lo,0,t-1)),u?r=Pn(Ds(e,o.axis,a).hi+1,n,t)-n:r=t-n,{start:n,count:r}}var PSe={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(i,e,t)=>{if(!t.enabled){M$(i);return}let n=i.width;i.data.datasets.forEach((r,o)=>{let{_data:s,indexAxis:a}=r,l=i.getDatasetMeta(o),u=s||r.data;if(Hh([a,i.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let c=i.scales[l.xAxisID];if(c.type!=="linear"&&c.type!=="time"||i.options.parsing)return;let{start:d,count:h}=ISe(l,u),f=t.threshold||4*n;if(h<=f){m5(r);return}ht(s)&&(r._data=u,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(t.algorithm){case"lttb":p=xSe(u,d,h,n,t);break;case"min-max":p=MSe(u,d,h,n);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}r._decimated=p})},destroy(i){M$(i)}};function FSe(i,e,t){let n=i.segments,r=i.points,o=e.points,s=[];for(let a of n){let{start:l,end:u}=a;u=SP(l,u,r);let c=pP(t,r[l],r[u],a.loop);if(!e.segments){s.push({source:a,target:c,start:r[l],end:r[u]});continue}let d=WI(e,c);for(let h of d){let f=pP(t,o[h.start],o[h.end],h.loop),p=UI(a,r,f);for(let g of p)s.push({source:g,target:h,start:{[t]:I$(c,f,"start",Math.max)},end:{[t]:I$(c,f,"end",Math.min)}})}}return s}function pP(i,e,t,n){if(n)return;let r=e[i],o=t[i];return i==="angle"&&(r=er(r),o=er(o)),{property:i,start:r,end:o}}function NSe(i,e){let{x:t=null,y:n=null}=i||{},r=e.points,o=[];return e.segments.forEach(({start:s,end:a})=>{a=SP(s,a,r);let l=r[s],u=r[a];n!==null?(o.push({x:l.x,y:n}),o.push({x:u.x,y:n})):t!==null&&(o.push({x:t,y:l.y}),o.push({x:t,y:u.y}))}),o}function SP(i,e,t){for(;e>i;e--){let n=t[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function I$(i,e,t,n){return i&&e?n(i[t],e[t]):i?i[t]:e?e[t]:0}function v5(i,e){let t=[],n=!1;return Vt(i)?(n=!0,t=i):t=NSe(i,e),t.length?new nb({points:t,options:{tension:0},_loop:n,_fullLoop:n}):null}function P$(i){return i&&i.fill!==!1}function LSe(i,e,t){let r=i[e].fill,o=[e],s;if(!t)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!Xt(r))return r;if(s=i[r],!s)return!1;if(s.visible)return r;o.push(r),r=s.fill}return!1}function kSe(i,e,t){let n=BSe(i);if(nt(n))return isNaN(n.value)?!1:n;let r=parseFloat(n);return Xt(r)&&Math.floor(r)===r?VSe(n[0],e,r,t):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function VSe(i,e,t,n){return(i==="-"||i==="+")&&(t=e+t),t===e||t<0||t>=n?!1:t}function HSe(i,e){let t=null;return i==="start"?t=e.bottom:i==="end"?t=e.top:nt(i)?t=e.getPixelForValue(i.value):e.getBasePixel&&(t=e.getBasePixel()),t}function GSe(i,e,t){let n;return i==="start"?n=t:i==="end"?n=e.options.reverse?e.min:e.max:nt(i)?n=i.value:n=e.getBaseValue(),n}function BSe(i){let e=i.options,t=e.fill,n=Ve(t&&t.target,t);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function jSe(i){let{scale:e,index:t,line:n}=i,r=[],o=n.segments,s=n.points,a=USe(e,t);a.push(v5({x:null,y:e.bottom},n));for(let l=0;l<o.length;l++){let u=o[l];for(let c=u.start;c<=u.end;c++)WSe(r,s[c],a)}return new nb({points:r,options:{}})}function USe(i,e){let t=[],n=i.getMatchingVisibleMetas("line");for(let r=0;r<n.length;r++){let o=n[r];if(o.index===e)break;o.hidden||t.unshift(o.dataset)}return t}function WSe(i,e,t){let n=[];for(let r=0;r<t.length;r++){let o=t[r],{first:s,last:a,point:l}=zSe(o,e,"x");if(!(!l||s&&a)){if(s)n.unshift(l);else if(i.push(l),!a)break}}i.push(...n)}function zSe(i,e,t){let n=i.interpolate(e,t);if(!n)return{};let r=n[t],o=i.segments,s=i.points,a=!1,l=!1;for(let u=0;u<o.length;u++){let c=o[u],d=s[c.start][t],h=s[c.end][t];if(As(r,d,h)){a=r===d,l=r===h;break}}return{first:a,last:l,point:n}}var eb=class{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){let{x:r,y:o,radius:s}=this;return t=t||{start:0,end:Gt},e.arc(r,o,s,t.end,t.start,!0),!n.bounds}interpolate(e){let{x:t,y:n,radius:r}=this,o=e.angle;return{x:t+Math.cos(o)*r,y:n+Math.sin(o)*r,angle:o}}};function $Se(i){let{chart:e,fill:t,line:n}=i;if(Xt(t))return qSe(e,t);if(t==="stack")return jSe(i);if(t==="shape")return!0;let r=YSe(i);return r instanceof eb?r:v5(r,n)}function qSe(i,e){let t=i.getDatasetMeta(e);return t&&i.isDatasetVisible(e)?t.dataset:null}function YSe(i){return(i.scale||{}).getPointPositionForValue?QSe(i):KSe(i)}function KSe(i){let{scale:e={},fill:t}=i,n=HSe(t,e);if(Xt(n)){let r=e.isHorizontal();return{x:r?n:null,y:r?null:n}}return null}function QSe(i){let{scale:e,fill:t}=i,n=e.options,r=e.getLabels().length,o=n.reverse?e.max:e.min,s=GSe(t,e,o),a=[];if(n.grid.circular){let l=e.getPointPositionForValue(0,o);return new eb({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(s)})}for(let l=0;l<r;++l)a.push(e.getPointPositionForValue(l,s));return a}function JI(i,e,t){let n=$Se(e),{line:r,scale:o,axis:s}=e,a=r.options,l=a.fill,u=a.backgroundColor,{above:c=u,below:d=u}=l||{};n&&r.points.length&&(ym(i,t),ZSe(i,{line:r,target:n,above:c,below:d,area:t,scale:o,axis:s}),_m(i))}function ZSe(i,e){let{line:t,target:n,above:r,below:o,area:s,scale:a}=e,l=t._loop?"angle":e.axis;i.save(),l==="x"&&o!==r&&(F$(i,n,s.top),N$(i,{line:t,target:n,color:r,scale:a,property:l}),i.restore(),i.save(),F$(i,n,s.bottom)),N$(i,{line:t,target:n,color:o,scale:a,property:l}),i.restore()}function F$(i,e,t){let{segments:n,points:r}=e,o=!0,s=!1;i.beginPath();for(let a of n){let{start:l,end:u}=a,c=r[l],d=r[SP(l,u,r)];o?(i.moveTo(c.x,c.y),o=!1):(i.lineTo(c.x,t),i.lineTo(c.x,c.y)),s=!!e.pathSegment(i,a,{move:s}),s?i.closePath():i.lineTo(d.x,t)}i.lineTo(e.first().x,t),i.closePath(),i.clip()}function N$(i,e){let{line:t,target:n,property:r,color:o,scale:s}=e,a=FSe(t,n,r);for(let{source:l,target:u,start:c,end:d}of a){let{style:{backgroundColor:h=o}={}}=l,f=n!==!0;i.save(),i.fillStyle=h,XSe(i,s,f&&pP(r,c,d)),i.beginPath();let p=!!t.pathSegment(i,l),g;if(f){p?i.closePath():L$(i,n,d,r);let m=!!n.pathSegment(i,u,{move:p,reverse:!0});g=p&&m,g||L$(i,n,c,r)}i.closePath(),i.fill(g?"evenodd":"nonzero"),i.restore()}}function XSe(i,e,t){let{top:n,bottom:r}=e.chart.chartArea,{property:o,start:s,end:a}=t||{};o==="x"&&(i.beginPath(),i.rect(s,n,a-s,r-n),i.clip())}function L$(i,e,t,n){let r=e.interpolate(t,n);r&&i.lineTo(r.x,r.y)}var JSe={id:"filler",afterDatasetsUpdate(i,e,t){let n=(i.data.datasets||[]).length,r=[],o,s,a,l;for(s=0;s<n;++s)o=i.getDatasetMeta(s),a=o.dataset,l=null,a&&a.options&&a instanceof nb&&(l={visible:i.isDatasetVisible(s),index:s,fill:kSe(a,s,n),chart:i,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,r.push(l);for(s=0;s<n;++s)l=r[s],!(!l||l.fill===!1)&&(l.fill=LSe(r,s,t.propagate))},beforeDraw(i,e,t){let n=t.drawTime==="beforeDraw",r=i.getSortedVisibleDatasetMetas(),o=i.chartArea;for(let s=r.length-1;s>=0;--s){let a=r[s].$filler;a&&(a.line.updateControlPoints(o,a.axis),n&&a.fill&&JI(i.ctx,a,o))}},beforeDatasetsDraw(i,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;let n=i.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r){let o=n[r].$filler;P$(o)&&JI(i.ctx,o,i.chartArea)}},beforeDatasetDraw(i,e,t){let n=e.meta.$filler;!P$(n)||t.drawTime!=="beforeDatasetDraw"||JI(i.ctx,n,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},k$=(i,e)=>{let{boxHeight:t=e,boxWidth:n=e}=i;return i.usePointStyle&&(t=Math.min(t,e),n=i.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:t,itemHeight:Math.max(e,t)}},ebe=(i,e)=>i!==null&&e!==null&&i.datasetIndex===e.datasetIndex&&i.index===e.index,tb=class extends Fo{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},t=Lt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(n=>e.filter(n,this.chart.data))),e.sort&&(t=t.sort((n,r)=>e.sort(n,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){let{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}let n=e.labels,r=wn(n.font),o=r.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=k$(n,o),u,c;t.font=r.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(s,o,a,l)+10):(c=this.maxHeight,u=this._fitCols(s,r,a,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,r){let{ctx:o,maxWidth:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],c=r+a,d=e;o.textAlign="left",o.textBaseline="middle";let h=-1,f=-c;return this.legendItems.forEach((p,g)=>{let m=n+t/2+o.measureText(p.text).width;(g===0||u[u.length-1]+m+2*a>s)&&(d+=c,u[u.length-(g>0?0:1)]=0,f+=c,h++),l[g]={left:0,top:f,row:h,width:m,height:r},u[u.length-1]+=m+a}),d}_fitCols(e,t,n,r){let{ctx:o,maxHeight:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],c=s-e,d=a,h=0,f=0,p=0,g=0;return this.legendItems.forEach((m,v)=>{let{itemWidth:y,itemHeight:C}=tbe(n,t,o,m,r);v>0&&f+C+2*a>c&&(d+=h+a,u.push({width:h,height:f}),p+=h+a,g++,h=f=0),l[v]={left:p,top:f,col:g,width:y,height:C},h=Math.max(h,y),f+=C+a}),d+=h,u.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:o}}=this,s=bc(o,this.left,this.width);if(this.isHorizontal()){let a=0,l=ri(n,this.left+r,this.right-this.lineWidths[a]);for(let u of t)a!==u.row&&(a=u.row,l=ri(n,this.left+r,this.right-this.lineWidths[a])),u.top+=this.top+e+r,u.left=s.leftForLtr(s.x(l),u.width),l+=u.width+r}else{let a=0,l=ri(n,this.top+e+r,this.bottom-this.columnSizes[a].height);for(let u of t)u.col!==a&&(a=u.col,l=ri(n,this.top+e+r,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+r,u.left=s.leftForLtr(s.x(u.left),u.width),l+=u.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let e=this.ctx;ym(e,this),this._draw(),_m(e)}}_draw(){let{options:e,columnSizes:t,lineWidths:n,ctx:r}=this,{align:o,labels:s}=e,a=Jt.color,l=bc(e.rtl,this.left,this.width),u=wn(s.font),{padding:c}=s,d=u.size,h=d/2,f;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=u.string;let{boxWidth:p,boxHeight:g,itemHeight:m}=k$(s,d),v=function(T,O,R){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;r.save();let M=Ve(R.lineWidth,1);if(r.fillStyle=Ve(R.fillStyle,a),r.lineCap=Ve(R.lineCap,"butt"),r.lineDashOffset=Ve(R.lineDashOffset,0),r.lineJoin=Ve(R.lineJoin,"miter"),r.lineWidth=M,r.strokeStyle=Ve(R.strokeStyle,a),r.setLineDash(Ve(R.lineDash,[])),s.usePointStyle){let H={radius:g*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:M},V=l.xPlus(T,p/2),X=O+h;PI(r,H,V,X,s.pointStyleWidth&&p)}else{let H=O+Math.max((d-g)/2,0),V=l.leftForLtr(T,p),X=jl(R.borderRadius);r.beginPath(),Object.values(X).some(ce=>ce!==0)?Vh(r,{x:V,y:H,w:p,h:g,radius:X}):r.rect(V,H,p,g),r.fill(),M!==0&&r.stroke()}r.restore()},y=function(T,O,R){Bl(r,R.text,T,O+m/2,u,{strikethrough:R.hidden,textAlign:l.textAlign(R.textAlign)})},C=this.isHorizontal(),S=this._computeTitleHeight();C?f={x:ri(o,this.left+c,this.right-n[0]),y:this.top+c+S,line:0}:f={x:this.left+c,y:ri(o,this.top+S+c,this.bottom-t[0].height),line:0},BI(this.ctx,e.textDirection);let E=m+c;this.legendItems.forEach((T,O)=>{r.strokeStyle=T.fontColor,r.fillStyle=T.fontColor;let R=r.measureText(T.text).width,M=l.textAlign(T.textAlign||(T.textAlign=s.textAlign)),H=p+h+R,V=f.x,X=f.y;l.setWidth(this.width),C?O>0&&V+H+c>this.right&&(X=f.y+=E,f.line++,V=f.x=ri(o,this.left+c,this.right-n[f.line])):O>0&&X+E>this.bottom&&(V=f.x=V+t[f.line].width+c,f.line++,X=f.y=ri(o,this.top+S+c,this.bottom-t[f.line].height));let ce=l.x(V);if(v(ce,X,T),V=L3(M,V+p+h,C?V+H:this.right,e.rtl),y(l.x(V),X,T),C)f.x+=H+c;else if(typeof T.text!="string"){let Me=u.lineHeight;f.y+=y5(T,Me)+c}else f.y+=E}),jI(this.ctx,e.textDirection)}drawTitle(){let e=this.options,t=e.title,n=wn(t.font),r=oi(t.padding);if(!t.display)return;let o=bc(e.rtl,this.left,this.width),s=this.ctx,a=t.position,l=n.size/2,u=r.top+l,c,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+u,d=ri(e.align,d,this.right-h);else{let p=this.columnSizes.reduce((g,m)=>Math.max(g,m.height),0);c=u+ri(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}let f=ri(a,d,d+h);s.textAlign=o.textAlign(PS(a)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=n.string,Bl(s,t.text,f,c,n)}_computeTitleHeight(){let e=this.options.title,t=wn(e.font),n=oi(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,r,o;if(As(e,this.left,this.right)&&As(t,this.top,this.bottom)){for(o=this.legendHitBoxes,n=0;n<o.length;++n)if(r=o[n],As(e,r.left,r.left+r.width)&&As(t,r.top,r.top+r.height))return this.legendItems[n]}return null}handleEvent(e){let t=this.options;if(!rbe(e.type,t))return;let n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){let r=this._hoveredItem,o=ebe(r,n);r&&!o&&Lt(t.onLeave,[e,r,this],this),this._hoveredItem=n,n&&!o&&Lt(t.onHover,[e,n,this],this)}else n&&Lt(t.onClick,[e,n,this],this)}};function tbe(i,e,t,n,r){let o=nbe(n,i,e,t),s=ibe(r,n,e.lineHeight);return{itemWidth:o,itemHeight:s}}function nbe(i,e,t,n){let r=i.text;return r&&typeof r!="string"&&(r=r.reduce((o,s)=>o.length>s.length?o:s)),e+t.size/2+n.measureText(r).width}function ibe(i,e,t){let n=i;return typeof e.text!="string"&&(n=y5(e,t)),n}function y5(i,e){let t=i.text?i.text.length:0;return e*t}function rbe(i,e){return!!((i==="mousemove"||i==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(i==="click"||i==="mouseup"))}var obe={id:"legend",_element:tb,start(i,e,t){let n=i.legend=new tb({ctx:i.ctx,options:t,chart:i});gi.configure(i,n,t),gi.addBox(i,n)},stop(i){gi.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,e,t){let n=i.legend;gi.configure(i,n,t),n.options=t},afterUpdate(i){let e=i.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(i,e){e.replay||i.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,e,t){let n=e.datasetIndex,r=t.chart;r.isDatasetVisible(n)?(r.hide(n),e.hidden=!0):(r.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){let e=i.data.datasets,{labels:{usePointStyle:t,pointStyle:n,textAlign:r,color:o,useBorderRadius:s,borderRadius:a}}=i.legend.options;return i._getSortedDatasetMetas().map(l=>{let u=l.controller.getStyle(t?0:void 0),c=oi(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:o,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:u.borderColor,pointStyle:n||u.pointStyle,rotation:u.rotation,textAlign:r||u.textAlign,borderRadius:s&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}},Am=class extends Fo{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){let n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;let r=Vt(n.text)?n.text.length:1;this._padding=oi(n.padding);let o=r*wn(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){let e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){let{top:t,left:n,bottom:r,right:o,options:s}=this,a=s.align,l=0,u,c,d;return this.isHorizontal()?(c=ri(a,n,o),d=t+e,u=o-n):(s.position==="left"?(c=n+e,d=ri(a,r,t),l=Ht*-.5):(c=o-e,d=ri(a,t,r),l=Ht*.5),u=r-t),{titleX:c,titleY:d,maxWidth:u,rotation:l}}draw(){let e=this.ctx,t=this.options;if(!t.display)return;let n=wn(t.font),o=n.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(o);Bl(e,t.text,0,0,n,{color:t.color,maxWidth:l,rotation:u,textAlign:PS(t.align),textBaseline:"middle",translation:[s,a]})}};function sbe(i,e){let t=new Am({ctx:i.ctx,options:e,chart:i});gi.configure(i,t,e),gi.addBox(i,t),i.titleBlock=t}var abe={id:"title",_element:Am,start(i,e,t){sbe(i,t)},stop(i){let e=i.titleBlock;gi.removeBox(i,e),delete i.titleBlock},beforeUpdate(i,e,t){let n=i.titleBlock;gi.configure(i,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},zS=new WeakMap,lbe={id:"subtitle",start(i,e,t){let n=new Am({ctx:i.ctx,options:t,chart:i});gi.configure(i,n,t),gi.addBox(i,n),zS.set(i,n)},stop(i){gi.removeBox(i,zS.get(i)),zS.delete(i)},beforeUpdate(i,e,t){let n=zS.get(i);gi.configure(i,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Tm={average(i){if(!i.length)return!1;let e,t,n=0,r=0,o=0;for(e=0,t=i.length;e<t;++e){let s=i[e].element;if(s&&s.hasValue()){let a=s.tooltipPosition();n+=a.x,r+=a.y,++o}}return{x:n/o,y:r/o}},nearest(i,e){if(!i.length)return!1;let t=e.x,n=e.y,r=Number.POSITIVE_INFINITY,o,s,a;for(o=0,s=i.length;o<s;++o){let l=i[o].element;if(l&&l.hasValue()){let u=l.getCenterPoint(),c=AS(e,u);c<r&&(r=c,a=l)}}if(a){let l=a.tooltipPosition();t=l.x,n=l.y}return{x:t,y:n}}};function Os(i,e){return e&&(Vt(e)?Array.prototype.push.apply(i,e):i.push(e)),i}function Sa(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function ube(i,e){let{element:t,datasetIndex:n,index:r}=e,o=i.getDatasetMeta(n).controller,{label:s,value:a}=o.getLabelAndValue(r);return{chart:i,label:s,parsed:o.getParsed(r),raw:i.data.datasets[n].data[r],formattedValue:a,dataset:o.getDataset(),dataIndex:r,datasetIndex:n,element:t}}function V$(i,e){let t=i.chart.ctx,{body:n,footer:r,title:o}=i,{boxWidth:s,boxHeight:a}=e,l=wn(e.bodyFont),u=wn(e.titleFont),c=wn(e.footerFont),d=o.length,h=r.length,f=n.length,p=oi(e.padding),g=p.height,m=0,v=n.reduce((S,E)=>S+E.before.length+E.lines.length+E.after.length,0);if(v+=i.beforeBody.length+i.afterBody.length,d&&(g+=d*u.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),v){let S=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=f*S+(v-f)*l.lineHeight+(v-1)*e.bodySpacing}h&&(g+=e.footerMarginTop+h*c.lineHeight+(h-1)*e.footerSpacing);let y=0,C=function(S){m=Math.max(m,t.measureText(S).width+y)};return t.save(),t.font=u.string,bt(i.title,C),t.font=l.string,bt(i.beforeBody.concat(i.afterBody),C),y=e.displayColors?s+2+e.boxPadding:0,bt(n,S=>{bt(S.before,C),bt(S.lines,C),bt(S.after,C)}),y=0,t.font=c.string,bt(i.footer,C),t.restore(),m+=p.width,{width:m,height:g}}function cbe(i,e){let{y:t,height:n}=e;return t<n/2?"top":t>i.height-n/2?"bottom":"center"}function dbe(i,e,t,n){let{x:r,width:o}=n,s=t.caretSize+t.caretPadding;if(i==="left"&&r+o+s>e.width||i==="right"&&r-o-s<0)return!0}function hbe(i,e,t,n){let{x:r,width:o}=t,{width:s,chartArea:{left:a,right:l}}=i,u="center";return n==="center"?u=r<=(a+l)/2?"left":"right":r<=o/2?u="left":r>=s-o/2&&(u="right"),dbe(u,i,e,t)&&(u="center"),u}function H$(i,e,t){let n=t.yAlign||e.yAlign||cbe(i,t);return{xAlign:t.xAlign||e.xAlign||hbe(i,e,t,n),yAlign:n}}function fbe(i,e){let{x:t,width:n}=i;return e==="right"?t-=n:e==="center"&&(t-=n/2),t}function pbe(i,e,t){let{y:n,height:r}=i;return e==="top"?n+=t:e==="bottom"?n-=r+t:n-=r/2,n}function G$(i,e,t,n){let{caretSize:r,caretPadding:o,cornerRadius:s}=i,{xAlign:a,yAlign:l}=t,u=r+o,{topLeft:c,topRight:d,bottomLeft:h,bottomRight:f}=jl(s),p=fbe(e,a),g=pbe(e,l,u);return l==="center"?a==="left"?p+=u:a==="right"&&(p-=u):a==="left"?p-=Math.max(c,h)+r:a==="right"&&(p+=Math.max(d,f)+r),{x:Pn(p,0,n.width-e.width),y:Pn(g,0,n.height-e.height)}}function $S(i,e,t){let n=oi(t.padding);return e==="center"?i.x+i.width/2:e==="right"?i.x+i.width-n.right:i.x+n.left}function B$(i){return Os([],Sa(i))}function gbe(i,e,t){return Ca(i,{tooltip:e,tooltipItems:t,type:"tooltip"})}function j$(i,e){let t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?i.override(t):i}var _5={beforeTitle:Rs,title(i){if(i.length>0){let e=i[0],t=e.chart.data.labels,n=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return t[e.dataIndex]}return""},afterTitle:Rs,beforeBody:Rs,beforeLabel:Rs,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let e=i.dataset.label||"";e&&(e+=": ");let t=i.formattedValue;return ht(t)||(e+=t),e},labelColor(i){let t=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){let t=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Rs,afterBody:Rs,beforeFooter:Rs,footer:Rs,afterFooter:Rs};function nr(i,e,t,n){let r=i[e].call(t,n);return typeof r>"u"?_5[e].call(t,n):r}var U$=(()=>{class i extends Fo{static positioners=Tm;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let n=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&n.options.animation&&r.animations,s=new QS(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=gbe(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){let{callbacks:r}=n,o=nr(r,"beforeTitle",this,t),s=nr(r,"title",this,t),a=nr(r,"afterTitle",this,t),l=[];return l=Os(l,Sa(o)),l=Os(l,Sa(s)),l=Os(l,Sa(a)),l}getBeforeBody(t,n){return B$(nr(n.callbacks,"beforeBody",this,t))}getBody(t,n){let{callbacks:r}=n,o=[];return bt(t,s=>{let a={before:[],lines:[],after:[]},l=j$(r,s);Os(a.before,Sa(nr(l,"beforeLabel",this,s))),Os(a.lines,nr(l,"label",this,s)),Os(a.after,Sa(nr(l,"afterLabel",this,s))),o.push(a)}),o}getAfterBody(t,n){return B$(nr(n.callbacks,"afterBody",this,t))}getFooter(t,n){let{callbacks:r}=n,o=nr(r,"beforeFooter",this,t),s=nr(r,"footer",this,t),a=nr(r,"afterFooter",this,t),l=[];return l=Os(l,Sa(o)),l=Os(l,Sa(s)),l=Os(l,Sa(a)),l}_createItems(t){let n=this._active,r=this.chart.data,o=[],s=[],a=[],l=[],u,c;for(u=0,c=n.length;u<c;++u)l.push(ube(this.chart,n[u]));return t.filter&&(l=l.filter((d,h,f)=>t.filter(d,h,f,r))),t.itemSort&&(l=l.sort((d,h)=>t.itemSort(d,h,r))),bt(l,d=>{let h=j$(t.callbacks,d);o.push(nr(h,"labelColor",this,d)),s.push(nr(h,"labelPointStyle",this,d)),a.push(nr(h,"labelTextColor",this,d))}),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(t,n){let r=this.options.setContext(this.getContext()),o=this._active,s,a=[];if(!o.length)this.opacity!==0&&(s={opacity:0});else{let l=Tm[r.position].call(this,o,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);let u=this._size=V$(this,r),c=Object.assign({},l,u),d=H$(this.chart,r,c),h=G$(r,c,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:h.x,y:h.y,width:u.width,height:u.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,o){let s=this.getCaretPosition(t,r,o);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(t,n,r){let{xAlign:o,yAlign:s}=this,{caretSize:a,cornerRadius:l}=r,{topLeft:u,topRight:c,bottomLeft:d,bottomRight:h}=jl(l),{x:f,y:p}=t,{width:g,height:m}=n,v,y,C,S,E,T;return s==="center"?(E=p+m/2,o==="left"?(v=f,y=v-a,S=E+a,T=E-a):(v=f+g,y=v+a,S=E-a,T=E+a),C=v):(o==="left"?y=f+Math.max(u,d)+a:o==="right"?y=f+g-Math.max(c,h)-a:y=this.caretX,s==="top"?(S=p,E=S-a,v=y-a,C=y+a):(S=p+m,E=S+a,v=y+a,C=y-a),T=S),{x1:v,x2:y,x3:C,y1:S,y2:E,y3:T}}drawTitle(t,n,r){let o=this.title,s=o.length,a,l,u;if(s){let c=bc(r.rtl,this.x,this.width);for(t.x=$S(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",a=wn(r.titleFont),l=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,u=0;u<s;++u)n.fillText(o[u],c.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+l,u+1===s&&(t.y+=r.titleMarginBottom-l)}}_drawColorBox(t,n,r,o,s){let a=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:u,boxWidth:c}=s,d=wn(s.bodyFont),h=$S(this,"left",s),f=o.x(h),p=u<d.lineHeight?(d.lineHeight-u)/2:0,g=n.y+p;if(s.usePointStyle){let m={radius:Math.min(c,u)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},v=o.leftForLtr(f,c)+c/2,y=g+u/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,NS(t,m,v,y),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,NS(t,m,v,y)}else{t.lineWidth=nt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;let m=o.leftForLtr(f,c),v=o.leftForLtr(o.xPlus(f,1),c-2),y=jl(a.borderRadius);Object.values(y).some(C=>C!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,Vh(t,{x:m,y:g,w:c,h:u,radius:y}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),Vh(t,{x:v,y:g+1,w:c-2,h:u-2,radius:y}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(m,g,c,u),t.strokeRect(m,g,c,u),t.fillStyle=a.backgroundColor,t.fillRect(v,g+1,c-2,u-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){let{body:o}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:u,boxWidth:c,boxPadding:d}=r,h=wn(r.bodyFont),f=h.lineHeight,p=0,g=bc(r.rtl,this.x,this.width),m=function(M){n.fillText(M,g.x(t.x+p),t.y+f/2),t.y+=f+s},v=g.textAlign(a),y,C,S,E,T,O,R;for(n.textAlign=a,n.textBaseline="middle",n.font=h.string,t.x=$S(this,v,r),n.fillStyle=r.bodyColor,bt(this.beforeBody,m),p=l&&v!=="right"?a==="center"?c/2+d:c+2+d:0,E=0,O=o.length;E<O;++E){for(y=o[E],C=this.labelTextColors[E],n.fillStyle=C,bt(y.before,m),S=y.lines,l&&S.length&&(this._drawColorBox(n,t,E,g,r),f=Math.max(h.lineHeight,u)),T=0,R=S.length;T<R;++T)m(S[T]),f=h.lineHeight;bt(y.after,m)}p=0,f=h.lineHeight,bt(this.afterBody,m),t.y-=s}drawFooter(t,n,r){let o=this.footer,s=o.length,a,l;if(s){let u=bc(r.rtl,this.x,this.width);for(t.x=$S(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=u.textAlign(r.footerAlign),n.textBaseline="middle",a=wn(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,l=0;l<s;++l)n.fillText(o[l],u.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+r.footerSpacing}}drawBackground(t,n,r,o){let{xAlign:s,yAlign:a}=this,{x:l,y:u}=t,{width:c,height:d}=r,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:g}=jl(o.cornerRadius);n.fillStyle=o.backgroundColor,n.strokeStyle=o.borderColor,n.lineWidth=o.borderWidth,n.beginPath(),n.moveTo(l+h,u),a==="top"&&this.drawCaret(t,n,r,o),n.lineTo(l+c-f,u),n.quadraticCurveTo(l+c,u,l+c,u+f),a==="center"&&s==="right"&&this.drawCaret(t,n,r,o),n.lineTo(l+c,u+d-g),n.quadraticCurveTo(l+c,u+d,l+c-g,u+d),a==="bottom"&&this.drawCaret(t,n,r,o),n.lineTo(l+p,u+d),n.quadraticCurveTo(l,u+d,l,u+d-p),a==="center"&&s==="left"&&this.drawCaret(t,n,r,o),n.lineTo(l,u+h),n.quadraticCurveTo(l,u,l+h,u),n.closePath(),n.fill(),o.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){let n=this.chart,r=this.$animations,o=r&&r.x,s=r&&r.y;if(o||s){let a=Tm[t.position].call(this,this._active,this._eventPosition);if(!a)return;let l=this._size=V$(this,t),u=Object.assign({},a,this._size),c=H$(n,t,u),d=G$(t,u,c,n);(o._to!==d.x||s._to!==d.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){let n=this.options.setContext(this.getContext()),r=this.opacity;if(!r)return;this._updateAnimationTarget(n);let o={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;let a=oi(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(t.save(),t.globalAlpha=r,this.drawBackground(s,t,o,n),BI(t,n.textDirection),s.y+=a.top,this.drawTitle(s,t,n),this.drawBody(s,t,n),this.drawFooter(s,t,n),jI(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){let r=this._active,o=t.map(({datasetIndex:l,index:u})=>{let c=this.chart.getDatasetMeta(l);if(!c)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:c.data[u],index:u}}),s=!mm(r,o),a=this._positionChanged(o,n);(s||a)&&(this._active=o,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let o=this.options,s=this._active||[],a=this._getActiveElements(t,s,n,r),l=this._positionChanged(a,t),u=n||!mm(a,s)||l;return u&&(this._active=a,(o.enabled||o.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),u}_getActiveElements(t,n,r,o){let s=this.options;if(t.type==="mouseout")return[];if(!o)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let a=this.chart.getElementsAtEventForMode(t,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(t,n){let{caretX:r,caretY:o,options:s}=this,a=Tm[s.position].call(this,t,n);return a!==!1&&(r!==a.x||o!==a.y)}}return i})(),mbe={id:"tooltip",_element:U$,positioners:Tm,afterInit(i,e,t){t&&(i.tooltip=new U$({chart:i,options:t}))},beforeUpdate(i,e,t){i.tooltip&&i.tooltip.initialize(t)},reset(i,e,t){i.tooltip&&i.tooltip.initialize(t)},afterDraw(i){let e=i.tooltip;if(e&&e._willRender()){let t={tooltip:e};if(i.notifyPlugins("beforeTooltipDraw",be(K({},t),{cancelable:!0}))===!1)return;e.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",t)}},afterEvent(i,e){if(i.tooltip){let t=e.replay;i.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,e)=>e.bodyFont.size,boxWidth:(i,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:_5},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},vbe=Object.freeze({__proto__:null,Colors:OSe,Decimation:PSe,Filler:JSe,Legend:obe,SubTitle:lbe,Title:abe,Tooltip:mbe}),ybe=(i,e,t,n)=>(typeof e=="string"?(t=i.push(e)-1,n.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function _be(i,e,t,n){let r=i.indexOf(e);if(r===-1)return ybe(i,e,t,n);let o=i.lastIndexOf(e);return r!==o?t:r}var Cbe=(i,e)=>i===null?null:Pn(Math.round(i),0,e);function W$(i){let e=this.getLabels();return i>=0&&i<e.length?e[i]:i}var wbe=(()=>{class i extends Tc{static id="category";static defaults={ticks:{callback:W$}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){let n=this._addedLabels;if(n.length){let r=this.getLabels();for(let{index:o,label:s}of n)r[o]===s&&r.splice(o,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(ht(t))return null;let r=this.getLabels();return n=isFinite(n)&&r[n]===t?n:_be(r,t,Ve(n,t),this._addedLabels),Cbe(n,r.length-1)}determineDataLimits(){let{minDefined:t,maxDefined:n}=this.getUserBounds(),{min:r,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),n||(o=this.getLabels().length-1)),this.min=r,this.max=o}buildTicks(){let t=this.min,n=this.max,r=this.options.offset,o=[],s=this.getLabels();s=t===0&&n===s.length-1?s:s.slice(t,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=t;a<=n;a++)o.push({value:a});return o}getLabelForValue(t){return W$.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){let n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}return i})();function Sbe(i,e){let t=[],{bounds:r,step:o,min:s,max:a,precision:l,count:u,maxTicks:c,maxDigits:d,includeBounds:h}=i,f=o||1,p=c-1,{min:g,max:m}=e,v=!ht(s),y=!ht(a),C=!ht(u),S=(m-g)/(d+1),E=CI((m-g)/p/f)*f,T,O,R,M;if(E<1e-14&&!v&&!y)return[{value:g},{value:m}];M=Math.ceil(m/E)-Math.floor(g/E),M>p&&(E=CI(M*E/p/f)*f),ht(l)||(T=Math.pow(10,l),E=Math.ceil(E*T)/T),r==="ticks"?(O=Math.floor(g/E)*E,R=Math.ceil(m/E)*E):(O=g,R=m),v&&y&&o&&O3((a-s)/o,E/1e3)?(M=Math.round(Math.min((a-s)/E,c)),E=(a-s)/M,O=s,R=a):C?(O=v?s:O,R=y?a:R,M=u-1,E=(R-O)/M):(M=(R-O)/E,Nh(M,Math.round(M),E/1e3)?M=Math.round(M):M=Math.ceil(M));let H=Math.max(SI(E),SI(O));T=Math.pow(10,ht(l)?H:l),O=Math.round(O*T)/T,R=Math.round(R*T)/T;let V=0;for(v&&(h&&O!==s?(t.push({value:s}),O<s&&V++,Nh(Math.round((O+V*E)*T)/T,s,z$(s,S,i))&&V++):O<s&&V++);V<M;++V){let X=Math.round((O+V*E)*T)/T;if(y&&X>a)break;t.push({value:X})}return y&&h&&R!==a?t.length&&Nh(t[t.length-1].value,a,z$(a,S,i))?t[t.length-1].value=a:t.push({value:a}):(!y||R===a)&&t.push({value:R}),t}function z$(i,e,{horizontal:t,minRotation:n}){let r=ao(n),o=(t?Math.sin(r):Math.cos(r))||.001,s=.75*e*(""+i).length;return Math.min(e/o,s)}var jh=class extends Tc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return ht(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds(),{min:r,max:o}=this,s=l=>r=t?r:l,a=l=>o=n?o:l;if(e){let l=Po(r),u=Po(o);l<0&&u<0?a(0):l>0&&u>0&&s(0)}if(r===o){let l=o===0?1:Math.abs(o*.05);a(o+l),e||s(r-l)}this.min=r,this.max=o}getTickLimit(){let e=this.options.ticks,{maxTicksLimit:t,stepSize:n}=e,r;return n?(r=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,t=e.ticks,n=this.getTickLimit();n=Math.max(2,n);let r={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},o=this._range||this,s=Sbe(r,o);return e.bounds==="ticks"&&wI(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){let e=this.ticks,t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){let r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return kh(e,this.chart.options.locale,this.options.ticks.format)}},gP=class extends jh{static id="linear";static defaults={ticks:{callback:vm.formatters.numeric}};determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=Xt(e)?e:0,this.max=Xt(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),t=e?this.width:this.height,n=ao(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}},Om=i=>Math.floor(ya(i)),Dc=(i,e)=>Math.pow(10,Om(i)+e);function $$(i){return i/Math.pow(10,Om(i))===1}function q$(i,e,t){let n=Math.pow(10,t),r=Math.floor(i/n);return Math.ceil(e/n)-r}function bbe(i,e){let t=e-i,n=Om(t);for(;q$(i,e,n)>10;)n++;for(;q$(i,e,n)<10;)n--;return Math.min(n,Om(i))}function Ebe(i,{min:e,max:t}){e=tr(i.min,e);let n=[],r=Om(e),o=bbe(e,t),s=o<0?Math.pow(10,Math.abs(o)):1,a=Math.pow(10,o),l=r>o?Math.pow(10,r):0,u=Math.round((e-l)*s)/s,c=Math.floor((e-l)/a/10)*a*10,d=Math.floor((u-c)/Math.pow(10,o)),h=tr(i.min,Math.round((l+c+d*Math.pow(10,o))*s)/s);for(;h<t;)n.push({value:h,major:$$(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(o++,d=2,s=o>=0?1:s),h=Math.round((l+c+d*Math.pow(10,o))*s)/s;let f=tr(i.max,h);return n.push({value:f,major:$$(f),significand:d}),n}var mP=class extends Tc{static id="logarithmic";static defaults={ticks:{callback:vm.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){let n=jh.prototype.parse.apply(this,[e,t]);if(n===0){this._zero=!0;return}return Xt(n)&&n>0?n:null}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=Xt(e)?Math.max(0,e):null,this.max=Xt(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Xt(this._userMin)&&(this.min=e===Dc(this.min,0)?Dc(this.min,-1):Dc(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),n=this.min,r=this.max,o=a=>n=e?n:a,s=a=>r=t?r:a;n===r&&(n<=0?(o(1),s(10)):(o(Dc(n,-1)),s(Dc(r,1)))),n<=0&&o(Dc(r,-1)),r<=0&&s(Dc(n,1)),this.min=n,this.max=r}buildTicks(){let e=this.options,t={min:this._userMin,max:this._userMax},n=Ebe(t,this);return e.bounds==="ticks"&&wI(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":kh(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=ya(e),this._valueRange=ya(this.max)-ya(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(ya(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}};function vP(i){let e=i.ticks;if(e.display&&i.display){let t=oi(e.backdropPadding);return Ve(e.font&&e.font.size,Jt.font.size)+t.height}return 0}function Dbe(i,e,t){return t=Vt(t)?t:[t],{w:V3(i,e.string,t),h:t.length*e.lineHeight}}function Y$(i,e,t,n,r){return i===n||i===r?{start:e-t/2,end:e+t/2}:i<n||i>r?{start:e-t,end:e}:{start:e,end:e+t}}function Tbe(i){let e={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},t=Object.assign({},e),n=[],r=[],o=i._pointLabels.length,s=i.options.pointLabels,a=s.centerPointLabels?Ht/o:0;for(let l=0;l<o;l++){let u=s.setContext(i.getPointLabelContext(l));r[l]=u.padding;let c=i.getPointPosition(l,i.drawingArea+r[l],a),d=wn(u.font),h=Dbe(i.ctx,d,i._pointLabels[l]);n[l]=h;let f=er(i.getIndexAngle(l)+a),p=Math.round(MS(f)),g=Y$(p,c.x,h.w,0,180),m=Y$(p,c.y,h.h,90,270);Rbe(t,e,f,g,m)}i.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),i._pointLabelItems=xbe(i,n,r)}function Rbe(i,e,t,n,r){let o=Math.abs(Math.sin(t)),s=Math.abs(Math.cos(t)),a=0,l=0;n.start<e.l?(a=(e.l-n.start)/o,i.l=Math.min(i.l,e.l-a)):n.end>e.r&&(a=(n.end-e.r)/o,i.r=Math.max(i.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/s,i.t=Math.min(i.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/s,i.b=Math.max(i.b,e.b+l))}function Abe(i,e,t){let n=i.drawingArea,{extra:r,additionalAngle:o,padding:s,size:a}=t,l=i.getPointPosition(e,n+r+s,o),u=Math.round(MS(er(l.angle+an))),c=Pbe(l.y,a.h,u),d=Mbe(u),h=Ibe(l.x,a.w,d);return{visible:!0,x:l.x,y:c,textAlign:d,left:h,top:c,right:h+a.w,bottom:c+a.h}}function Obe(i,e){if(!e)return!0;let{left:t,top:n,right:r,bottom:o}=i;return!(Ts({x:t,y:n},e)||Ts({x:t,y:o},e)||Ts({x:r,y:n},e)||Ts({x:r,y:o},e))}function xbe(i,e,t){let n=[],r=i._pointLabels.length,o=i.options,{centerPointLabels:s,display:a}=o.pointLabels,l={extra:vP(o)/2,additionalAngle:s?Ht/r:0},u;for(let c=0;c<r;c++){l.padding=t[c],l.size=e[c];let d=Abe(i,c,l);n.push(d),a==="auto"&&(d.visible=Obe(d,u),d.visible&&(u=d))}return n}function Mbe(i){return i===0||i===180?"center":i<180?"left":"right"}function Ibe(i,e,t){return t==="right"?i-=e:t==="center"&&(i-=e/2),i}function Pbe(i,e,t){return t===90||t===270?i-=e/2:(t>270||t<90)&&(i-=e),i}function Fbe(i,e,t){let{left:n,top:r,right:o,bottom:s}=t,{backdropColor:a}=e;if(!ht(a)){let l=jl(e.borderRadius),u=oi(e.backdropPadding);i.fillStyle=a;let c=n-u.left,d=r-u.top,h=o-n+u.width,f=s-r+u.height;Object.values(l).some(p=>p!==0)?(i.beginPath(),Vh(i,{x:c,y:d,w:h,h:f,radius:l}),i.fill()):i.fillRect(c,d,h,f)}}function Nbe(i,e){let{ctx:t,options:{pointLabels:n}}=i;for(let r=e-1;r>=0;r--){let o=i._pointLabelItems[r];if(!o.visible)continue;let s=n.setContext(i.getPointLabelContext(r));Fbe(t,s,o);let a=wn(s.font),{x:l,y:u,textAlign:c}=o;Bl(t,i._pointLabels[r],l,u+a.lineHeight/2,a,{color:s.color,textAlign:c,textBaseline:"middle"})}}function C5(i,e,t,n){let{ctx:r}=i;if(t)r.arc(i.xCenter,i.yCenter,e,0,Gt);else{let o=i.getPointPosition(0,e);r.moveTo(o.x,o.y);for(let s=1;s<n;s++)o=i.getPointPosition(s,e),r.lineTo(o.x,o.y)}}function Lbe(i,e,t,n,r){let o=i.ctx,s=e.circular,{color:a,lineWidth:l}=e;!s&&!n||!a||!l||t<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(r.dash),o.lineDashOffset=r.dashOffset,o.beginPath(),C5(i,t,s,n),o.closePath(),o.stroke(),o.restore())}function kbe(i,e,t){return Ca(i,{label:t,index:e,type:"pointLabel"})}var yP=class extends jh{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:vm.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=oi(vP(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!1);this.min=Xt(e)&&!isNaN(e)?e:0,this.max=Xt(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/vP(this.options))}generateTickLabels(e){jh.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,n)=>{let r=Lt(this.options.pointLabels.callback,[t,n],this);return r||r===0?r:""}).filter((t,n)=>this.chart.getDataVisibility(n))}fit(){let e=this.options;e.display&&e.pointLabels.display?Tbe(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,r))}getIndexAngle(e){let t=Gt/(this._pointLabels.length||1),n=this.options.startAngle||0;return er(e*t+ao(n))}getDistanceFromCenterForValue(e){if(ht(e))return NaN;let t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(ht(e))return NaN;let t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){let t=this._pointLabels||[];if(e>=0&&e<t.length){let n=t[e];return kbe(this.getContext(),e,n)}}getPointPosition(e,t,n=0){let r=this.getIndexAngle(e)-an+n;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:t,top:n,right:r,bottom:o}=this._pointLabelItems[e];return{left:t,top:n,right:r,bottom:o}}drawBackground(){let{backgroundColor:e,grid:{circular:t}}=this.options;if(e){let n=this.ctx;n.save(),n.beginPath(),C5(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){let e=this.ctx,t=this.options,{angleLines:n,grid:r,border:o}=t,s=this._pointLabels.length,a,l,u;if(t.pointLabels.display&&Nbe(this,s),r.display&&this.ticks.forEach((c,d)=>{if(d!==0){l=this.getDistanceFromCenterForValue(c.value);let h=this.getContext(d),f=r.setContext(h),p=o.setContext(h);Lbe(this,f,l,s,p)}}),n.display){for(e.save(),a=s-1;a>=0;a--){let c=n.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:h}=c;!h||!d||(e.lineWidth=h,e.strokeStyle=d,e.setLineDash(c.borderDash),e.lineDashOffset=c.borderDashOffset,l=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),u=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){let e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;let r=this.getIndexAngle(0),o,s;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!t.reverse)return;let u=n.setContext(this.getContext(l)),c=wn(u.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){e.font=c.string,s=e.measureText(a.label).width,e.fillStyle=u.backdropColor;let d=oi(u.backdropPadding);e.fillRect(-s/2-d.left,-o-c.size/2-d.top,s+d.width,c.size+d.height)}Bl(e,a.label,0,-o,c,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}},ib={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ir=Object.keys(ib);function K$(i,e){return i-e}function Q$(i,e){if(ht(e))return null;let t=i._adapter,{parser:n,round:r,isoWeekday:o}=i._parseOpts,s=e;return typeof n=="function"&&(s=n(s)),Xt(s)||(s=typeof n=="string"?t.parse(s,n):t.parse(s)),s===null?null:(r&&(s=r==="week"&&(Sc(o)||o===!0)?t.startOf(s,"isoWeek",o):t.startOf(s,r)),+s)}function Z$(i,e,t,n){let r=ir.length;for(let o=ir.indexOf(i);o<r-1;++o){let s=ib[ir[o]],a=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((t-e)/(a*s.size))<=n)return ir[o]}return ir[r-1]}function Vbe(i,e,t,n,r){for(let o=ir.length-1;o>=ir.indexOf(t);o--){let s=ir[o];if(ib[s].common&&i._adapter.diff(r,n,s)>=e-1)return s}return ir[t?ir.indexOf(t):0]}function Hbe(i){for(let e=ir.indexOf(i)+1,t=ir.length;e<t;++e)if(ib[ir[e]].common)return ir[e]}function X$(i,e,t){if(!t)i[e]=!0;else if(t.length){let{lo:n,hi:r}=IS(t,e),o=t[n]>=e?t[n]:t[r];i[o]=!0}}function Gbe(i,e,t,n){let r=i._adapter,o=+r.startOf(e[0].value,n),s=e[e.length-1].value,a,l;for(a=o;a<=s;a=+r.add(a,1,n))l=t[a],l>=0&&(e[l].major=!0);return e}function J$(i,e,t){let n=[],r={},o=e.length,s,a;for(s=0;s<o;++s)a=e[s],r[a]=s,n.push({value:a,major:!1});return o===0||!t?n:Gbe(i,n,r,t)}var _P=(()=>{class i extends Tc{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){let r=t.time||(t.time={}),o=this._adapter=new XCe._date(t.adapters.date);o.init(n),Ph(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Q$(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,n=this._adapter,r=t.time.unit||"day",{min:o,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function u(c){!a&&!isNaN(c.min)&&(o=Math.min(o,c.min)),!l&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!a||!l)&&(u(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&u(this.getMinMax(!1))),o=Xt(o)&&!isNaN(o)?o:+n.startOf(Date.now(),r),s=Xt(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(o,s-1),this.max=Math.max(o+1,s)}_getLabelBounds(){let t=this.getLabelTimestamps(),n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){let t=this.options,n=t.time,r=t.ticks,o=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);let s=this.min,a=this.max,l=I3(o,s,a);return this._unit=n.unit||(r.autoSkip?Z$(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):Vbe(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:Hbe(this._unit),this.initOffsets(o),t.reverse&&l.reverse(),J$(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,o,s;this.options.offset&&t.length&&(o=this.getDecimalForValue(t[0]),t.length===1?n=1-o:n=(this.getDecimalForValue(t[1])-o)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?r=s:r=(s-this.getDecimalForValue(t[t.length-2]))/2);let a=t.length<3?.5:.25;n=Pn(n,0,a),r=Pn(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){let t=this._adapter,n=this.min,r=this.max,o=this.options,s=o.time,a=s.unit||Z$(s.minUnit,n,r,this._getLabelCapacity(n)),l=Ve(o.ticks.stepSize,1),u=a==="week"?s.isoWeekday:!1,c=Sc(u)||u===!0,d={},h=n,f,p;if(c&&(h=+t.startOf(h,"isoWeek",u)),h=+t.startOf(h,c?"day":a),t.diff(r,n,a)>1e5*l)throw new Error(n+" and "+r+" are too far apart with stepSize of "+l+" "+a);let g=o.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<r;f=+t.add(f,l,a),p++)X$(d,f,g);return(f===r||o.bounds==="ticks"||p===1)&&X$(d,f,g),Object.keys(d).sort(K$).map(m=>+m)}getLabelForValue(t){let n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){let o=this.options.time.displayFormats,s=this._unit,a=n||o[s];return this._adapter.format(t,a)}_tickFormatFunction(t,n,r,o){let s=this.options,a=s.ticks.callback;if(a)return Lt(a,[t,n,r],this);let l=s.time.displayFormats,u=this._unit,c=this._majorUnit,d=u&&l[u],h=c&&l[c],f=r[n],p=c&&h&&f&&f.major;return this._adapter.format(t,o||(p?h:d))}generateTickLabels(t){let n,r,o;for(n=0,r=t.length;n<r;++n)o=t[n],o.label=this._tickFormatFunction(o.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){let n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){let n=this.options.ticks,r=this.ctx.measureText(t).width,o=ao(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(o),a=Math.sin(o),l=this._resolveTickFontOptions(0).size;return{w:r*s+l*a,h:r*a+l*s}}_getLabelCapacity(t){let n=this.options.time,r=n.displayFormats,o=r[n.unit]||r.millisecond,s=this._tickFormatFunction(t,0,J$(this,[t],this._majorUnit),o),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;let o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(n=0,r=o.length;n<r;++n)t=t.concat(o[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){let t=this._cache.labels||[],n,r;if(t.length)return t;let o=this.getLabels();for(n=0,r=o.length;n<r;++n)t.push(Q$(this,o[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return DI(t.sort(K$))}}return i})();function qS(i,e,t){let n=0,r=i.length-1,o,s,a,l;t?(e>=i[n].pos&&e<=i[r].pos&&({lo:n,hi:r}=Ds(i,"pos",e)),{pos:o,time:a}=i[n],{pos:s,time:l}=i[r]):(e>=i[n].time&&e<=i[r].time&&({lo:n,hi:r}=Ds(i,"time",e)),{time:o,pos:a}=i[n],{time:s,pos:l}=i[r]);let u=s-o;return u?a+(l-a)*(e-o)/u:a}var CP=class extends _P{static id="timeseries";static defaults=_P.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=qS(t,this.min),this._tableRange=qS(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:t,max:n}=this,r=[],o=[],s,a,l,u,c;for(s=0,a=e.length;s<a;++s)u=e[s],u>=t&&u<=n&&r.push(u);if(r.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(s=0,a=r.length;s<a;++s)c=r[s+1],l=r[s-1],u=r[s],Math.round((c+l)/2)!==u&&o.push({time:u,pos:s/(a-1)});return o}_generate(){let e=this.min,t=this.max,n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(t)||n.length===1)&&n.push(t),n.sort((r,o)=>r-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let t=this.getDataTimestamps(),n=this.getLabelTimestamps();return t.length&&n.length?e=this.normalize(t.concat(n)):e=t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(qS(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return qS(this._table,n*this._tableRange+this._minPos,!0)}},Bbe=Object.freeze({__proto__:null,CategoryScale:wbe,LinearScale:gP,LogarithmicScale:mP,RadialLinearScale:yP,TimeScale:_P,TimeSeriesScale:CP}),Uh=[ZCe,bSe,vbe,Bbe];rr.register(...Uh);var rb=["January","February","March","April","May","June","July","August","September","October","November","December"];rr.register(...Uh);var w5=(()=>{let e=class e{constructor(n,r,o){this.httpClient=n,this.aiPredictionService=r,this.appointmentService=o,this.predictionsPerMonthDataset=[],this.approvedAppointmentsDataset=[],this.pendingAppointmentsDataset=[],this.doughnutChartData=[],this.urgentPatientsData={},this.userId=xe.getLoginToken().userId}ngOnInit(){this.getPredictionsPerMonth(),this.getApprovedAppointmentsPerMonth(),this.getPredictionPercentages(),this.getUrgentPatients()}getPredictionsPerMonth(){this.httpClient.get(pe.serverAddress+this.aiPredictionService.api.predictionsPerMonth+"/"+this.userId).subscribe(n=>{this.predictionsPerMonthDataset=n.map(r=>be(K({},r),{borderWidth:2})),this.initPredictionsPerMonthBarChart()})}getApprovedAppointmentsPerMonth(){this.httpClient.get(pe.serverAddress+this.appointmentService.api.approvedAppointments).subscribe(n=>{this.approvedAppointmentsDataset=n,this.getPendingAppointmentsPerMonth()})}getPendingAppointmentsPerMonth(){this.httpClient.get(pe.serverAddress+this.appointmentService.api.pendingAppointments).subscribe(n=>{this.pendingAppointmentsDataset=n,this.initAppointmentsLineChart()})}getPredictionPercentages(){this.httpClient.get(pe.serverAddress+this.aiPredictionService.api.predictionResultPercentages+"/"+this.userId).subscribe(n=>{this.doughnutChartData=n,this.initDoughnutChart()})}getUrgentPatients(){this.httpClient.get(pe.serverAddress+this.aiPredictionService.api.urgentPatients).subscribe(n=>{this.urgentPatientsData=n,this.initUrgentPatientsBarChart()})}initDoughnutChart(){this.doughnutPercentagesChart=new rr("canvas-doughnut",{type:"doughnut",data:{labels:["0-15%","16-55%","56+"],datasets:[{data:this.doughnutChartData,backgroundColor:["rgba(102, 204, 102, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 99, 132, 0.2)"],borderColor:["rgba(102, 204, 102)","rgb(255, 159, 64)","rgb(255, 99, 132)"],borderWidth:1}]},options:{cutout:"60%",aspectRatio:2,plugins:{legend:{display:!0,position:"right"}}}})}initPredictionsPerMonthBarChart(){this.predictionsPerMonthBarChart=new rr("canvas-predictions-per-month",{type:"bar",data:{labels:[""],datasets:this.predictionsPerMonthDataset},options:{scales:{y:{beginAtZero:!0,title:{display:!0,text:"Number of created predictions"}}},plugins:{legend:{display:!0,position:"right"}}}})}initAppointmentsLineChart(){this.appointmentsPerMonthLineChart=new rr("canvas-appointment-status-per-month",{type:"line",data:{labels:rb,datasets:[{label:"Approved appointments",data:this.approvedAppointmentsDataset,fill:!1,cubicInterpolationMode:"monotone",tension:.4},{label:"Pending appointments",data:this.pendingAppointmentsDataset,fill:!1,tension:.4}]},options:{responsive:!0,interaction:{intersect:!1},scales:{x:{display:!0,title:{display:!0}},y:{display:!0,title:{display:!0,text:"Value"},suggestedMin:0,suggestedMax:10}}}})}initUrgentPatientsBarChart(){this.urgentPatientsBarChart=new rr("canvas-urgent-patients",{type:"bar",data:{labels:this.urgentPatientsData.labels,datasets:[{label:"Probability percentage",data:this.urgentPatientsData.data}]},options:{indexAxis:"y",elements:{bar:{borderWidth:2}},responsive:!0}})}};e.\u0275fac=function(r){return new(r||e)(x(je),x(ji),x(dh))},e.\u0275cmp=re({type:e,selectors:[["app-house-doctor-dashboard"]],standalone:!0,features:[oe],decls:40,vars:0,consts:[[1,"container-fluid"],[1,"row","page-titles"],[1,"col-12","col-sm-3","col-md-5","align-self-center"],[1,"text-themecolor"],[1,"col-12","col-sm-9","col-md-7","align-self-center","text-end"],[1,"d-flex","display-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],[1,"breadcrumb-item","active"],[1,"row"],[1,"explanation-text"],[1,"col-md-6","col-lg-6","col-sm-12","col-xs-12"],[1,"card"],[1,"card-body"],[1,"card-title"],["id","canvas-predictions-per-month"],["id","canvas-appointment-status-per-month"],["id","canvas-doughnut"],["id","canvas-urgent-patients"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),P(4,"Dashboard"),D()(),b(5,"div",4)(6,"div",5)(7,"ol",6)(8,"li",7),P(9,"Pages"),D(),b(10,"li",8),P(11,"Dashboard"),D()()()()()(),b(12,"div",9)(13,"div",10),P(14,"The dashboard shows you insights into some of the most important statistics which are relevant for you as the house doctor."),D(),b(15,"div",11)(16,"div",12)(17,"div",13)(18,"h5",14),P(19,"Created predictions per month"),D(),Q(20,"canvas",15),D()()(),b(21,"div",11)(22,"div",12)(23,"div",13)(24,"h5",14),P(25,"Approved and pending appointments per month"),D(),Q(26,"canvas",16),D()()()(),b(27,"div",9)(28,"div",11)(29,"div",12)(30,"div",13)(31,"h5",14),P(32," Critical states prediction ratio"),D(),Q(33,"canvas",17),D()()(),b(34,"div",11)(35,"div",12)(36,"div",13)(37,"h5",14),P(38,"Top 10 most critical patients by probability percentages"),D(),Q(39,"canvas",18),D()()()())},dependencies:[ye],styles:[".row[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}"]});let i=e;return i})();rr.register(...Uh);var S5=(()=>{let e=class e{constructor(n,r,o){this.httpClient=n,this.aiPredictionService=r,this.appointmentService=o,this.appointmentsPerMonthDataset=[],this.approvedAppointmentsDataset=[],this.pendingAppointmentsDataset=[],this.urgentPatientsData={},this.userId=xe.getLoginToken().userId}ngOnInit(){this.getAppointmentsPerMonth(),this.getApprovedAppointmentsPerMonth(),this.getUrgentPatients()}getAppointmentsPerMonth(){this.httpClient.get(pe.serverAddress+this.appointmentService.api.approvedAppointmentsByCardiologistId+"/"+this.userId).subscribe(n=>{this.appointmentsPerMonthDataset=n.map(r=>be(K({},r),{borderWidth:2})),this.initAppointmentsPerMonthBarChart()})}getApprovedAppointmentsPerMonth(){this.httpClient.get(pe.serverAddress+this.appointmentService.api.approvedAppointments).subscribe(n=>{this.approvedAppointmentsDataset=n,this.getPendingAppointmentsPerMonth()})}getPendingAppointmentsPerMonth(){this.httpClient.get(pe.serverAddress+this.appointmentService.api.pendingAppointments).subscribe(n=>{this.pendingAppointmentsDataset=n,this.initAppointmentsLineChart()})}getUrgentPatients(){this.httpClient.get(pe.serverAddress+this.aiPredictionService.api.urgentPatients).subscribe(n=>{this.urgentPatientsData=n,this.initUrgentPatientsBarChart()})}initAppointmentsPerMonthBarChart(){this.appointmentsPerMonthBarChart=new rr("approved-appointments-per-month",{type:"bar",data:{labels:[""],datasets:this.appointmentsPerMonthDataset},options:{aspectRatio:4,scales:{y:{beginAtZero:!0,title:{display:!0,text:"Number of approved appointments"}}},plugins:{legend:{display:!0,position:"right"}}}})}initAppointmentsLineChart(){this.appointmentsPerMonthLineChart=new rr("canvas-appointment-status-per-month",{type:"line",data:{labels:rb,datasets:[{label:"Approved appointments",data:this.approvedAppointmentsDataset,fill:!1,cubicInterpolationMode:"monotone",tension:.4},{label:"Pending appointments",data:this.pendingAppointmentsDataset,fill:!1,tension:.4}]},options:{responsive:!0,interaction:{intersect:!1},scales:{x:{display:!0,title:{display:!0}},y:{display:!0,title:{display:!0,text:"Value"},suggestedMin:0,suggestedMax:10}}}})}initUrgentPatientsBarChart(){this.urgentPatientsBarChart=new rr("canvas-urgent-patients",{type:"bar",data:{labels:this.urgentPatientsData.labels,datasets:[{label:"Probability percentage",data:this.urgentPatientsData.data}]},options:{indexAxis:"y",elements:{bar:{borderWidth:2}},responsive:!0}})}};e.\u0275fac=function(r){return new(r||e)(x(je),x(ji),x(dh))},e.\u0275cmp=re({type:e,selectors:[["app-cardiologist-dashboard"]],standalone:!0,features:[oe],decls:33,vars:0,consts:[[1,"container-fluid"],[1,"row","page-titles"],[1,"col-12","col-sm-3","col-md-5","align-self-center"],[1,"text-themecolor"],[1,"col-12","col-sm-9","col-md-7","align-self-center","text-end"],[1,"d-flex","display-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],[1,"breadcrumb-item","active"],[1,"row"],[1,"explanation-text"],[1,"card"],[1,"card-body"],[1,"card-title"],["id","approved-appointments-per-month"],[1,"col-md-6","col-lg-6","col-sm-12","col-xs-12"],["id","canvas-appointment-status-per-month"],["id","canvas-urgent-patients"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),P(4,"Dashboard"),D()(),b(5,"div",4)(6,"div",5)(7,"ol",6)(8,"li",7),P(9,"Pages"),D(),b(10,"li",8),P(11,"Dashboard"),D()()()()()(),b(12,"div",9)(13,"div",10),P(14,"The dashboard shows you insights into some of the most important statistics which are relevant for you as the cardiologist."),D(),b(15,"div",11)(16,"div",12)(17,"h5",13),P(18,"Approved appointments per month"),D(),Q(19,"canvas",14),D()()(),b(20,"div",9)(21,"div",15)(22,"div",11)(23,"div",12)(24,"h5",13),P(25,"Approved and pending appointments per month"),D(),Q(26,"canvas",16),D()()(),b(27,"div",15)(28,"div",11)(29,"div",12)(30,"h5",13),P(31,"Top 10 most critical patients by probability percentages"),D(),Q(32,"canvas",17),D()()()())},dependencies:[ye],styles:[".row[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}"]});let i=e;return i})();var ob=class{};var Ms=(()=>{let e=class e{constructor(){this.videos=[],this.api={getAllByUserId:"/videos/user",createNewVideo:"/videos",delete:"/videos"}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function jbe(i,e){i&1&&(b(0,"h5",15),P(1,"Add new video"),D())}function Ube(i,e){i&1&&(b(0,"h5",15),P(1,"Edit video information"),D())}var sb=(()=>{let e=class e{constructor(n,r,o,s){this.modalRef=n,this.toastr=r,this.httpClient=o,this.videoService=s,this.video=new ob,this.isEdit=!1}saveVideo(){this.validateFields()&&this.addNewVideo()}addNewVideo(){this.video.userId=xe.getLoginToken().mainId,this.httpClient.put(pe.serverAddress+this.videoService.api.createNewVideo,this.video).subscribe(n=>{this.isEdit?this.toastr.success("Successfully updated the video!"):this.toastr.success("Successfully added new video!"),this.modalRef.close(!0)})}validateFields(){return this.video.link==null||this.video.link==null||this.video.title==null||this.video.title==null||this.video.link.trim().length===0||this.video.title.trim().length===0?(this.toastr.warning("All fields are mandatory!"),!1):!0}};e.\u0275fac=function(r){return new(r||e)(x(Hi),x(zt),x(je),x(Ms))},e.\u0275cmp=re({type:e,selectors:[["app-create-edit-video"]],standalone:!0,features:[vt([Ot]),oe],decls:21,vars:4,consts:[[1,"modal-header"],["class","modal-title","id","exampleModalLabel",4,"ngIf"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"form-material","form-horizontal"],[1,"row"],[1,"col-md-12"],[1,"form-group","d-flex"],[1,"far","fa-edit","m-r-10","align-self-center"],["type","text","id","title","name","title","placeholder","Add title","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"fas","fa-link","m-r-10","align-self-center"],["type","text","id","link","name","link","placeholder","Add link","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["id","exampleModalLabel",1,"modal-title"]],template:function(r,o){r&1&&(b(0,"div",0),ue(1,jbe,2,0,"h5",1)(2,Ube,2,0,"h5",1),b(3,"button",2),z("click",function(){return o.modalRef.close()}),D()(),b(4,"div",3)(5,"form",4)(6,"div",5)(7,"div",6)(8,"div",7),Q(9,"i",8),b(10,"input",9),z("ngModelChange",function(a){return o.video.title=a}),D()()()(),b(11,"div",5)(12,"div",6)(13,"div",7),Q(14,"i",10),b(15,"input",11),z("ngModelChange",function(a){return o.video.link=a}),D()()()()()(),b(16,"div",12)(17,"button",13),z("click",function(){return o.modalRef.close()}),P(18," Close "),D(),b(19,"button",14),z("click",function(){return o.saveVideo()}),P(20,"Save"),D()()),r&2&&(I(),N("ngIf",!o.isEdit),I(),N("ngIf",o.isEdit),I(8),N("ngModel",o.video.title),I(5),N("ngModel",o.video.link))},dependencies:[ye,Ri,Za,is,rs,Qa,_o,yo,Zs]});let i=e;return i})();var b5=(()=>{let e=class e{constructor(n,r,o,s){this.httpClient=n,this.videoService=r,this.toastr=o,this.modalService=s,this.mainId=xe.getLoginToken().mainId,this.modalRefConfirmation=null}agInit(n){this.video=n.data}refresh(n){return this.video=n.data,!0}delete(){this.httpClient.delete(pe.serverAddress+this.videoService.api.delete+"/"+this.video.id).subscribe(n=>{this.toastr.success("Successfully deleted the video!"),this.getVideos()})}getVideos(){this.httpClient.get(pe.serverAddress+this.videoService.api.getAllByUserId+"/"+this.mainId).subscribe(n=>{this.videoService.videos=n})}openConfirmation(){let n={title:"Delete the video",question:"Are you sure you want to delete the selected video?",action:"Cancel",realise:!1};this.openConfirmationModal(n)}openConfirmationModal(n){this.modalRefConfirmation=this.modalService.open(lw,{modalClass:"modal-sm",data:{confirmationInfo:n}}),this.modalRefConfirmation.onClose.subscribe(r=>{r&&r.realise&&r.action==="Cancel"&&this.delete()})}};e.\u0275fac=function(r){return new(r||e)(x(je),x(Ms),x(zt),x(Ot))},e.\u0275cmp=re({type:e,selectors:[["app-delete-video"]],standalone:!0,features:[vt([Ot]),oe],decls:2,vars:0,consts:[[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"fas","fa-trash-alt"]],template:function(r,o){r&1&&(b(0,"button",0),z("click",function(){return o.openConfirmation()}),Q(1,"i",1),D())},dependencies:[ye]});let i=e;return i})();var E5=(()=>{let e=class e{constructor(n,r,o,s){this.httpClient=n,this.videoService=r,this.toastr=o,this.modalService=s,this.modalRefEditVideo=null,this.mainId=xe.getLoginToken().mainId}openModal(){this.modalRefEditVideo=this.modalService.open(sb,{data:{video:this.video,isEdit:!0}}),this.modalRefEditVideo.onClose.subscribe(n=>{n&&this.getVideos()})}getVideos(){this.httpClient.get(pe.serverAddress+this.videoService.api.getAllByUserId+"/"+this.mainId).subscribe(n=>{this.videoService.videos=n})}agInit(n){this.video=n.data}refresh(n){return this.video=n.data,!0}};e.\u0275fac=function(r){return new(r||e)(x(je),x(Ms),x(zt),x(Ot))},e.\u0275cmp=re({type:e,selectors:[["app-edit-video"]],standalone:!0,features:[oe],decls:2,vars:0,consts:[[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"fas","fa-edit"]],template:function(r,o){r&1&&(b(0,"button",0),z("click",function(){return o.openModal()}),Q(1,"i",1),D())},dependencies:[ye]});let i=e;return i})();var Wbe=["youtubeContainer"];function zbe(i,e){if(i&1){let t=Ft();b(0,"youtube-player-placeholder",2),z("click",function(){Ze(t);let r=te();return Xe(r._load(!0))}),D()}if(i&2){let t=te();N("videoId",t.videoId)("width",t.width)("height",t.height)("isLoading",t._isLoading)("buttonLabel",t.placeholderButtonLabel)("quality",t.placeholderImageQuality)}}var $be=(()=>{let e=class e{_getBackgroundImage(){let n;return this.quality==="low"?n=`https://i.ytimg.com/vi/${this.videoId}/hqdefault.jpg`:this.quality==="high"?n=`https://i.ytimg.com/vi/${this.videoId}/maxresdefault.jpg`:n=`https://i.ytimg.com/vi_webp/${this.videoId}/sddefault.webp`,`url(${n})`}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=re({type:e,selectors:[["youtube-player-placeholder"]],hostAttrs:[1,"youtube-player-placeholder"],hostVars:8,hostBindings:function(r,o){r&2&&(ci("background-image",o._getBackgroundImage())("width",o.width,"px")("height",o.height,"px"),at("youtube-player-placeholder-loading",o.isLoading))},inputs:{videoId:"videoId",width:"width",height:"height",isLoading:"isLoading",buttonLabel:"buttonLabel",quality:"quality"},standalone:!0,features:[oe],decls:4,vars:1,consts:[["type","button",1,"youtube-player-placeholder-button"],["height","100%","version","1.1","viewBox","0 0 68 48","focusable","false","aria-hidden","true"],["d","M66.52,7.74c-0.78-2.93-2.49-5.41-5.42-6.19C55.79,.13,34,0,34,0S12.21,.13,6.9,1.55 C3.97,2.33,2.27,4.81,1.48,7.74C0.06,13.05,0,24,0,24s0.06,10.95,1.48,16.26c0.78,2.93,2.49,5.41,5.42,6.19 C12.21,47.87,34,48,34,48s21.79-0.13,27.1-1.55c2.93-0.78,4.64-3.26,5.42-6.19C67.94,34.95,68,24,68,24S67.94,13.05,66.52,7.74z","fill","#f00"],["d","M 45,24 27,14 27,34","fill","#fff"]],template:function(r,o){r&1&&(b(0,"button",0),P1(),b(1,"svg",1),Q(2,"path",2)(3,"path",3),D()()),r&2&&Qn("aria-label",o.buttonLabel)},styles:[".youtube-player-placeholder{display:flex;align-items:center;justify-content:center;width:100%;overflow:hidden;cursor:pointer;background-color:#000;background-position:center center;background-size:cover;transition:box-shadow 300ms ease;box-shadow:inset 0 120px 90px -90px rgba(0,0,0,.8)}.youtube-player-placeholder-button{transition:opacity 300ms ease;-moz-appearance:none;-webkit-appearance:none;background:none;border:none;padding:0;display:flex}.youtube-player-placeholder-button svg{width:68px;height:48px}.youtube-player-placeholder-loading{box-shadow:none}.youtube-player-placeholder-loading .youtube-player-placeholder-button{opacity:0}"],encapsulation:2,changeDetection:0});let i=e;return i})(),qbe=new le("YOUTUBE_PLAYER_CONFIG"),D5=640,T5=390;function R5(i){return i==null?i:Nf(i,0)}var A5=(()=>{let e=class e{get height(){return this._height}set height(n){this._height=n==null||isNaN(n)?T5:n}get width(){return this._width}set width(n){this._width=n==null||isNaN(n)?D5:n}constructor(n,r){this._ngZone=n,this._destroyed=new Se,this._playerChanges=new dn(void 0),this._nonce=k(Tf,{optional:!0}),this._changeDetectorRef=k(kn),this._isLoading=!1,this._hasPlaceholder=!0,this._height=T5,this._width=D5,this.disableCookies=!1,this.disablePlaceholder=!1,this.showBeforeIframeApiLoads=!1,this.ready=this._getLazyEmitter("onReady"),this.stateChange=this._getLazyEmitter("onStateChange"),this.error=this._getLazyEmitter("onError"),this.apiChange=this._getLazyEmitter("onApiChange"),this.playbackQualityChange=this._getLazyEmitter("onPlaybackQualityChange"),this.playbackRateChange=this._getLazyEmitter("onPlaybackRateChange");let o=k(qbe,{optional:!0});this.loadApi=o?.loadApi??!0,this.disablePlaceholder=!!o?.disablePlaceholder,this.placeholderButtonLabel=o?.placeholderButtonLabel||"Play video",this.placeholderImageQuality=o?.placeholderImageQuality||"standard",this._isBrowser=md(r)}ngAfterViewInit(){this._conditionallyLoad()}ngOnChanges(n){this._shouldRecreatePlayer(n)?this._conditionallyLoad():this._player&&((n.width||n.height)&&this._setSize(),n.suggestedQuality&&this._setQuality(),(n.startSeconds||n.endSeconds||n.suggestedQuality)&&this._cuePlayer())}ngOnDestroy(){this._pendingPlayer?.destroy(),this._player&&(this._player.destroy(),window.onYouTubeIframeAPIReady=this._existingApiReadyCallback),this._playerChanges.complete(),this._destroyed.next(),this._destroyed.complete()}playVideo(){this._player?this._player.playVideo():this._getPendingState().playbackState=YT.PlayerState.PLAYING}pauseVideo(){this._player?this._player.pauseVideo():this._getPendingState().playbackState=YT.PlayerState.PAUSED}stopVideo(){this._player?this._player.stopVideo():this._getPendingState().playbackState=YT.PlayerState.CUED}seekTo(n,r){this._player?this._player.seekTo(n,r):this._getPendingState().seek={seconds:n,allowSeekAhead:r}}mute(){this._player?this._player.mute():this._getPendingState().muted=!0}unMute(){this._player?this._player.unMute():this._getPendingState().muted=!1}isMuted(){return this._player?this._player.isMuted():this._pendingPlayerState?!!this._pendingPlayerState.muted:!1}setVolume(n){this._player?this._player.setVolume(n):this._getPendingState().volume=n}getVolume(){return this._player?this._player.getVolume():this._pendingPlayerState&&this._pendingPlayerState.volume!=null?this._pendingPlayerState.volume:0}setPlaybackRate(n){if(this._player)return this._player.setPlaybackRate(n);this._getPendingState().playbackRate=n}getPlaybackRate(){return this._player?this._player.getPlaybackRate():this._pendingPlayerState&&this._pendingPlayerState.playbackRate!=null?this._pendingPlayerState.playbackRate:0}getAvailablePlaybackRates(){return this._player?this._player.getAvailablePlaybackRates():[]}getVideoLoadedFraction(){return this._player?this._player.getVideoLoadedFraction():0}getPlayerState(){if(!(!this._isBrowser||!window.YT))return this._player?this._player.getPlayerState():this._pendingPlayerState&&this._pendingPlayerState.playbackState!=null?this._pendingPlayerState.playbackState:YT.PlayerState.UNSTARTED}getCurrentTime(){return this._player?this._player.getCurrentTime():this._pendingPlayerState&&this._pendingPlayerState.seek?this._pendingPlayerState.seek.seconds:0}getPlaybackQuality(){return this._player?this._player.getPlaybackQuality():"default"}getAvailableQualityLevels(){return this._player?this._player.getAvailableQualityLevels():[]}getDuration(){return this._player?this._player.getDuration():0}getVideoUrl(){return this._player?this._player.getVideoUrl():""}getVideoEmbedCode(){return this._player?this._player.getVideoEmbedCode():""}_load(n){this._isBrowser&&(!window.YT||!window.YT.Player?(this.loadApi?(this._isLoading=!0,Ybe(this._nonce)):this.showBeforeIframeApiLoads,this._existingApiReadyCallback=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=()=>{this._existingApiReadyCallback?.(),this._ngZone.run(()=>this._createPlayer(n))}):this._createPlayer(n))}_conditionallyLoad(){this._shouldShowPlaceholder()?this.playerVars?.autoplay===1&&this._load(!0):this._load(!1)}_shouldShowPlaceholder(){return this.disablePlaceholder?!1:this._isBrowser?this._hasPlaceholder&&!!this.videoId&&!this._player:!0}_getPendingState(){return this._pendingPlayerState||(this._pendingPlayerState={}),this._pendingPlayerState}_shouldRecreatePlayer(n){let r=n.videoId||n.playerVars||n.disableCookies||n.disablePlaceholder;return!!r&&!r.isFirstChange()}_createPlayer(n){if(this._player?.destroy(),this._pendingPlayer?.destroy(),typeof YT>"u"||!this.videoId&&!this.playerVars?.list)return;let r=this._ngZone.runOutsideAngular(()=>new YT.Player(this.youtubeContainer.nativeElement,{videoId:this.videoId,host:this.disableCookies?"https://www.youtube-nocookie.com":void 0,width:this.width,height:this.height,playerVars:n?be(K({},this.playerVars||{}),{autoplay:1}):this.playerVars})),o=()=>{this._ngZone.run(()=>{this._isLoading=!1,this._hasPlaceholder=!1,this._player=r,this._pendingPlayer=void 0,r.removeEventListener("onReady",o),this._playerChanges.next(r),this._setSize(),this._setQuality(),this._pendingPlayerState&&(this._applyPendingPlayerState(r,this._pendingPlayerState),this._pendingPlayerState=void 0);let s=r.getPlayerState();(s===YT.PlayerState.UNSTARTED||s===YT.PlayerState.CUED||s==null)&&this._cuePlayer(),this._changeDetectorRef.markForCheck()})};this._pendingPlayer=r,r.addEventListener("onReady",o)}_applyPendingPlayerState(n,r){let{playbackState:o,playbackRate:s,volume:a,muted:l,seek:u}=r;switch(o){case YT.PlayerState.PLAYING:n.playVideo();break;case YT.PlayerState.PAUSED:n.pauseVideo();break;case YT.PlayerState.CUED:n.stopVideo();break}s!=null&&n.setPlaybackRate(s),a!=null&&n.setVolume(a),l!=null&&(l?n.mute():n.unMute()),u!=null&&n.seekTo(u.seconds,u.allowSeekAhead)}_cuePlayer(){this._player&&this.videoId&&this._player.cueVideoById({videoId:this.videoId,startSeconds:this.startSeconds,endSeconds:this.endSeconds,suggestedQuality:this.suggestedQuality})}_setSize(){this._player?.setSize(this.width,this.height)}_setQuality(){this._player&&this.suggestedQuality&&this._player.setPlaybackQuality(this.suggestedQuality)}_getLazyEmitter(n){return this._playerChanges.pipe(Sn(r=>r?fv(o=>{r.addEventListener(n,o)},o=>{try{r?.removeEventListener?.(n,o)}catch{}}):he()),r=>new Ce(o=>r.subscribe({next:s=>this._ngZone.run(()=>o.next(s)),error:s=>o.error(s),complete:()=>o.complete()})),Et(this._destroyed))}};e.\u0275fac=function(r){return new(r||e)(x(we),x(Di))},e.\u0275cmp=re({type:e,selectors:[["youtube-player"]],viewQuery:function(r,o){if(r&1&&Zn(Wbe,7),r&2){let s;lt(s=ut())&&(o.youtubeContainer=s.first)}},inputs:{videoId:"videoId",height:[pt.HasDecoratorInputTransform,"height","height",Nf],width:[pt.HasDecoratorInputTransform,"width","width",Nf],startSeconds:[pt.HasDecoratorInputTransform,"startSeconds","startSeconds",R5],endSeconds:[pt.HasDecoratorInputTransform,"endSeconds","endSeconds",R5],suggestedQuality:"suggestedQuality",playerVars:"playerVars",disableCookies:[pt.HasDecoratorInputTransform,"disableCookies","disableCookies",Ti],loadApi:[pt.HasDecoratorInputTransform,"loadApi","loadApi",Ti],disablePlaceholder:[pt.HasDecoratorInputTransform,"disablePlaceholder","disablePlaceholder",Ti],showBeforeIframeApiLoads:[pt.HasDecoratorInputTransform,"showBeforeIframeApiLoads","showBeforeIframeApiLoads",Ti],placeholderButtonLabel:"placeholderButtonLabel",placeholderImageQuality:"placeholderImageQuality"},outputs:{ready:"ready",stateChange:"stateChange",error:"error",apiChange:"apiChange",playbackQualityChange:"playbackQualityChange",playbackRateChange:"playbackRateChange"},standalone:!0,features:[La,Wt,oe],decls:4,vars:3,consts:[[3,"videoId","width","height","isLoading","buttonLabel","quality"],["youtubeContainer",""],[3,"videoId","width","height","isLoading","buttonLabel","quality","click"]],template:function(r,o){r&1&&(ue(0,zbe,1,6,"youtube-player-placeholder",0),b(1,"div"),Q(2,"div",null,1),D()),r&2&&(Qt(0,o._shouldShowPlaceholder()?0:-1),I(),ci("display",o._shouldShowPlaceholder()?"none":""))},dependencies:[$be],encapsulation:2,changeDetection:0});let i=e;return i})(),bP=!1;function Ybe(i){if(bP)return;let e="https://www.youtube.com/iframe_api",t=document.createElement("script"),n=r=>{t.removeEventListener("load",n),t.removeEventListener("error",n),r.type==="error"&&(bP=!1)};t.addEventListener("load",n),t.addEventListener("error",n),t.src=e,t.async=!0,i&&(t.nonce=i),bP=!0,document.body.appendChild(t)}var O5=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Ie({});let i=e;return i})();var x5=(()=>{let e=class e{ngOnInit(){if(!this.apiLoaded){let n=document.createElement("script");n.src="https://www.youtube.com/iframe_api",document.body.appendChild(n),this.apiLoaded=!0}}constructor(n){this.modalRef=n,this.apiLoaded=!1}};e.\u0275fac=function(r){return new(r||e)(x(Hi))},e.\u0275cmp=re({type:e,selectors:[["app-video-player"]],standalone:!0,features:[vt([Ot]),oe],decls:9,vars:2,consts:[[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","d-flex","justify-content-center","align-items-center"],[3,"videoId"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"h5",1),P(2),D(),b(3,"button",2),z("click",function(){return o.modalRef.close()}),D()(),b(4,"div",3),Q(5,"youtube-player",4),D(),b(6,"div",5)(7,"button",6),z("click",function(){return o.modalRef.close()}),P(8," Close "),D()()),r&2&&(I(2),At(o.title),I(3),N("videoId",o.videoId))},dependencies:[ye,O5,A5]});let i=e;return i})();var M5=(()=>{let e=class e{constructor(n,r,o,s){this.httpClient=n,this.videoService=r,this.toastr=o,this.modalService=s,this.modalRefPlayVideo=null,this.mainId=xe.getLoginToken().mainId}openModal(){this.getVideoIdFromLink()&&(this.modalRefPlayVideo=this.modalService.open(x5,{modalClass:"modal-lg",data:{videoId:this.videoId,title:this.video.title}}),this.modalRefPlayVideo.onClose.subscribe(()=>{}))}agInit(n){this.video=n.data}refresh(n){return this.video=n.data,!0}getVideoIdFromLink(){try{let r=new URL(this.video.link).searchParams.get("v");return r?(this.videoId=r,!0):(this.toastr.error("Unable to parse video ID from the link!"),!1)}catch{return this.toastr.error("Unable to parse video ID from the link!"),!1}}};e.\u0275fac=function(r){return new(r||e)(x(je),x(Ms),x(zt),x(Ot))},e.\u0275cmp=re({type:e,selectors:[["app-play-video"]],standalone:!0,features:[oe],decls:2,vars:0,consts:[[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"fas","fa-play"]],template:function(r,o){r&1&&(b(0,"button",0),z("click",function(){return o.openModal()}),Q(1,"i",1),D())},dependencies:[ye]});let i=e;return i})();var I5=(()=>{let e=class e{dateFormatter(n){return new Date(n.value).toLocaleDateString("en-us",{weekday:"long",year:"numeric",month:"short",day:"numeric"})}constructor(n,r,o){this.httpClient=n,this.modalService=r,this.videoService=o,this.themeClass="ag-theme-quartz",this.videos=[],this.defaultColDef={filter:!0,floatingFilter:!0},this.colDefs=[{field:"id",hide:!0},{field:"title"},{field:"link"},{field:"created",valueFormatter:this.dateFormatter},{headerName:"Play",floatingFilter:!1,filter:!1,cellStyle:{textAlign:"center"},width:35,cellRenderer:M5},{headerName:"Edit",floatingFilter:!1,filter:!1,width:35,cellStyle:{textAlign:"center"},cellRenderer:E5},{headerName:"Delete",floatingFilter:!1,filter:!1,width:45,cellStyle:{textAlign:"center"},cellRenderer:b5}],this.autoSizeStrategy={type:"fitGridWidth"},this.modalRef=null,this.mainId=xe.getLoginToken().mainId}ngOnInit(){this.getVideos()}getVideos(){this.httpClient.get(pe.serverAddress+this.videoService.api.getAllByUserId+"/"+this.mainId).subscribe(n=>{this.videoService.videos=n})}addNewVideo(){this.modalRef=this.modalService.open(sb,{}),this.modalRef.onClose.subscribe(n=>{n&&this.getVideos()})}createOrUpdateVideo(n,r=!1){}};e.\u0275fac=function(r){return new(r||e)(x(je),x(Ot),x(Ms))},e.\u0275cmp=re({type:e,selectors:[["app-videos"]],standalone:!0,features:[vt([Ot]),oe],decls:19,vars:8,consts:[[1,"container-fluid"],[1,"row","page-titles"],[1,"col-12","col-sm-3","col-md-5","align-self-center"],[1,"text-themecolor"],[1,"col-12","col-sm-9","col-md-7","align-self-center","text-end"],[1,"d-flex","display-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],[1,"breadcrumb-item","active"],["type","button",1,"btn","btn-info","d-lg-block","m-l-15","text-white",3,"click"],[1,"fas","fa-video"],[1,"content"],[1,"explanation-text"],["domLayout","autoHeight",3,"rowData","columnDefs","defaultColDef","pagination","columnHoverHighlight","autoSizeStrategy"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),P(4,"Your Videos"),D()(),b(5,"div",4)(6,"div",5)(7,"ol",6)(8,"li",7),P(9,"Documents"),D(),b(10,"li",8),P(11,"Videos"),D()(),b(12,"button",9),z("click",function(){return o.addNewVideo()}),Q(13,"i",10),P(14," Add new video"),D()()()()(),b(15,"div",11)(16,"div",12),P(17,"In order to presist videos you can use the upload file button, here you can store all videos which are relevant for you as the doctor."),D(),Q(18,"ag-grid-angular",13),D()),r&2&&(I(18),Pt(o.themeClass),N("rowData",o.videoService.videos)("columnDefs",o.colDefs)("defaultColDef",o.defaultColDef)("pagination",!0)("columnHoverHighlight",!0)("autoSizeStrategy",o.autoSizeStrategy))},dependencies:[ye,oo]});let i=e;return i})();var P5=(()=>{let e=class e{constructor(n,r){this.router=n,this._documentService=r}agInit(n){this.document=n.data}refresh(n){return this.document=n.data,!0}viewDocument(){this.router.navigate(["/document-overview"],{queryParams:{documentId:this.document.id}})}downloadDocument(){this._documentService.downloadDocument(this.document.id).subscribe(n=>{n.type===za.Response&&this.downloadFile(n)})}downloadFile(n){let r=new Blob([n.body],{type:n.body.type}),o=document.createElement("a");o.setAttribute("style","display:none;"),document.body.appendChild(o),o.download=this.document.name,o.href=URL.createObjectURL(r),o.target="_blank",o.click(),document.body.removeChild(o)}};e.\u0275fac=function(r){return new(r||e)(x(Dt),x(Fd))},e.\u0275cmp=re({type:e,selectors:[["app-view-edit-button"]],standalone:!0,features:[oe],decls:2,vars:0,consts:[[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-download"]],template:function(r,o){r&1&&(b(0,"button",0),z("click",function(){return o.downloadDocument()}),Q(1,"i",1),D())},dependencies:[ye]});let i=e;return i})();var F5=(()=>{let e=class e{constructor(n,r,o){this._documentService=n,this.http=r,this.toastr=o,this.userId=xe.getLoginToken().userId,this.themeClass="ag-theme-quartz",this.documents=[],this.defaultColDef={filter:!0,floatingFilter:!0},this.colDefs=[{field:"id",hide:!0},{field:"name"},{field:"createdDate",valueFormatter:this.dateFormatter,maxWidth:350},{headerName:"Download",floatingFilter:!1,filter:!1,width:40,cellStyle:{textAlign:"center"},cellRenderer:P5}],this.autoSizeStrategy={type:"fitGridWidth"}}ngOnInit(){this.getDocuments()}dateFormatter(n){return new Date(n.value).toLocaleDateString("en-us",{weekday:"long",year:"numeric",month:"short",day:"numeric"})}getDocuments(){this._documentService.getUserDocuments(this.userId).subscribe(n=>{this.documents=n})}fileChangeEvent(n){let r=n[0],o=new FormData;o.append("file",r);let s=`${pe.serverAddress}/upload-document/${this.userId}`,a=new mu("POST",`${s}`,o,{reportProgress:!0});this.http.request(a).pipe(Ir(()=>{this.getDocuments(),this.toastr.success("Document successfully uploaded!")})).subscribe()}};e.\u0275fac=function(r){return new(r||e)(x(Fd),x(je),x(zt))},e.\u0275cmp=re({type:e,selectors:[["app-documents"]],standalone:!0,features:[oe],decls:21,vars:8,consts:[[1,"container-fluid"],[1,"row","page-titles"],[1,"col-12","col-sm-3","col-md-5","align-self-center"],[1,"text-themecolor"],[1,"col-12","col-sm-9","col-md-7","align-self-center","text-end"],[1,"d-flex","display-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],[1,"breadcrumb-item","active"],[1,"btn","btn-info",2,"margin-left","10px",3,"click"],[1,"fas","fa-upload"],["type","file",2,"display","none",3,"change"],["fileInput",""],[1,"content"],[1,"explanation-text"],["domLayout","autoHeight",3,"rowData","columnDefs","defaultColDef","pagination","columnHoverHighlight","autoSizeStrategy"]],template:function(r,o){if(r&1){let s=Ft();b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),P(4,"File system"),D()(),b(5,"div",4)(6,"div",5)(7,"ol",6)(8,"li",7),P(9,"Documents"),D(),b(10,"li",8),P(11,"File system"),D()(),b(12,"button",9),z("click",function(){Ze(s);let l=Zo(16);return Xe(l.click())}),Q(13,"i",10),P(14," Upload "),D()()()()(),b(15,"input",11,12),z("change",function(){Ze(s);let l=Zo(16);return Xe(o.fileChangeEvent(l.files))}),D(),b(17,"div",13)(18,"div",14),P(19,"In order to presist files you can use the upload file button, here you can store all files which are relevant for you as the doctor."),D(),Q(20,"ag-grid-angular",15),D()}r&2&&(I(20),Pt(o.themeClass),N("rowData",o.documents)("columnDefs",o.colDefs)("defaultColDef",o.defaultColDef)("pagination",!0)("columnHoverHighlight",!0)("autoSizeStrategy",o.autoSizeStrategy))},dependencies:[ye,oo]});let i=e;return i})();var ab=(()=>{let e=class e{constructor(){this.api={cardiologists:"/cardiologists",houseDoctors:"/house-doctors"}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var L5=(()=>{let e=class e{constructor(n,r){this.httpClient=n,this.contactsService=r,this.themeClass="ag-theme-quartz",this.houseDoctors=[],this.defaultColDef={filter:!0,floatingFilter:!0},this.colDefs=[{field:"id",hide:!0},{field:"firstName"},{field:"lastName"},{field:"email"}],this.autoSizeStrategy={type:"fitGridWidth"},this.getHouseDoctors()}getHouseDoctors(){this.httpClient.get(pe.serverAddress+this.contactsService.api.houseDoctors).subscribe(n=>{this.houseDoctors=n})}};e.\u0275fac=function(r){return new(r||e)(x(je),x(ab))},e.\u0275cmp=re({type:e,selectors:[["app-house-doctors"]],standalone:!0,features:[oe],decls:16,vars:8,consts:[[1,"container-fluid"],[1,"row","page-titles"],[1,"col-12","col-sm-3","col-md-5","align-self-center"],[1,"text-themecolor"],[1,"col-12","col-sm-9","col-md-7","align-self-center","text-end"],[1,"d-flex","display-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],[1,"breadcrumb-item","active"],[1,"content"],[1,"explanation-text"],["domLayout","autoHeight",3,"rowData","columnDefs","defaultColDef","pagination","columnHoverHighlight","autoSizeStrategy"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),P(4,"House Doctors"),D()(),b(5,"div",4)(6,"div",5)(7,"ol",6)(8,"li",7),P(9,"Contacts"),D(),b(10,"li",8),P(11,"House Doctors"),D()()()()()(),b(12,"div",9)(13,"div",10),P(14,"Below are all the house doctors currently in the organization."),D(),Q(15,"ag-grid-angular",11),D()),r&2&&(I(15),Pt(o.themeClass),N("rowData",o.houseDoctors)("columnDefs",o.colDefs)("defaultColDef",o.defaultColDef)("pagination",!0)("columnHoverHighlight",!0)("autoSizeStrategy",o.autoSizeStrategy))},dependencies:[ye,oo]});let i=e;return i})();var k5=(()=>{let e=class e{constructor(n,r){this.httpClient=n,this.contactsService=r,this.themeClass="ag-theme-quartz",this.cardiologists=[],this.defaultColDef={filter:!0,floatingFilter:!0},this.colDefs=[{field:"id",hide:!0},{field:"firstName"},{field:"lastName"},{field:"email"}],this.autoSizeStrategy={type:"fitGridWidth"},this.getCardiologists()}getCardiologists(){this.httpClient.get(pe.serverAddress+this.contactsService.api.cardiologists).subscribe(n=>{this.cardiologists=n})}};e.\u0275fac=function(r){return new(r||e)(x(je),x(ab))},e.\u0275cmp=re({type:e,selectors:[["app-cardiologists"]],standalone:!0,features:[oe],decls:16,vars:8,consts:[[1,"container-fluid"],[1,"row","page-titles"],[1,"col-12","col-sm-3","col-md-5","align-self-center"],[1,"text-themecolor"],[1,"col-12","col-sm-9","col-md-7","align-self-center","text-end"],[1,"d-flex","display-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],[1,"breadcrumb-item","active"],[1,"content"],[1,"explanation-text"],["domLayout","autoHeight",3,"rowData","columnDefs","defaultColDef","pagination","columnHoverHighlight","autoSizeStrategy"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),P(4,"Cardiologists"),D()(),b(5,"div",4)(6,"div",5)(7,"ol",6)(8,"li",7),P(9,"Contacts"),D(),b(10,"li",8),P(11,"Cardiologists"),D()()()()()(),b(12,"div",9)(13,"div",10),P(14,"Below are all the cardiologists currently in the organization."),D(),Q(15,"ag-grid-angular",11),D()),r&2&&(I(15),Pt(o.themeClass),N("rowData",o.cardiologists)("columnDefs",o.colDefs)("defaultColDef",o.defaultColDef)("pagination",!0)("columnHoverHighlight",!0)("autoSizeStrategy",o.autoSizeStrategy))},dependencies:[ye,oo]});let i=e;return i})();var V5=[{path:"",component:P_},{path:"doctor-dashboard",component:w5},{path:"cardiologist-dashboard",component:S5},{path:"patient-example",component:ZH},{path:"appointment",component:Z2},{path:"patients",component:n3},{path:"calendar",component:X2},{path:"ai-prediction",component:o3},{path:"archives",component:s3},{path:"videos",component:I5},{path:"documents",component:F5},{path:"house-doctors",component:L5},{path:"cardiologists",component:k5}];function H5(i){i.providers.push({provide:vo,useClass:Uy}),window.location.href.includes("#")||(document.getElementsByTagName("base")[0].href="/#/")}function G5(i){return new ee(3e3,!1)}function Qbe(){return new ee(3100,!1)}function Zbe(){return new ee(3101,!1)}function Xbe(i){return new ee(3001,!1)}function Jbe(i){return new ee(3003,!1)}function e0e(i){return new ee(3004,!1)}function t0e(i,e){return new ee(3005,!1)}function n0e(){return new ee(3006,!1)}function i0e(){return new ee(3007,!1)}function r0e(i,e){return new ee(3008,!1)}function o0e(i){return new ee(3002,!1)}function s0e(i,e,t,n,r){return new ee(3010,!1)}function a0e(){return new ee(3011,!1)}function l0e(){return new ee(3012,!1)}function u0e(){return new ee(3200,!1)}function c0e(){return new ee(3202,!1)}function d0e(){return new ee(3013,!1)}function h0e(i){return new ee(3014,!1)}function f0e(i){return new ee(3015,!1)}function p0e(i){return new ee(3016,!1)}function g0e(i,e){return new ee(3404,!1)}function m0e(i){return new ee(3502,!1)}function v0e(i){return new ee(3503,!1)}function y0e(){return new ee(3300,!1)}function _0e(i){return new ee(3504,!1)}function C0e(i){return new ee(3301,!1)}function w0e(i,e){return new ee(3302,!1)}function S0e(i){return new ee(3303,!1)}function b0e(i,e){return new ee(3400,!1)}function E0e(i){return new ee(3401,!1)}function D0e(i){return new ee(3402,!1)}function T0e(i,e){return new ee(3505,!1)}function $l(i){switch(i.length){case 0:return new Xa;case 1:return i[0];default:return new gp(i)}}function e4(i,e,t=new Map,n=new Map){let r=[],o=[],s=-1,a=null;if(e.forEach(l=>{let u=l.get("offset"),c=u==s,d=c&&a||new Map;l.forEach((h,f)=>{let p=f,g=h;if(f!=="offset")switch(p=i.normalizePropertyName(p,r),g){case I_:g=t.get(f);break;case os:g=n.get(f);break;default:g=i.normalizeStyleValue(f,p,g,r);break}d.set(p,g)}),c||o.push(d),a=d,s=u}),r.length)throw m0e(r);return o}function $P(i,e,t,n){switch(e){case"start":i.onStart(()=>n(t&&EP(t,"start",i)));break;case"done":i.onDone(()=>n(t&&EP(t,"done",i)));break;case"destroy":i.onDestroy(()=>n(t&&EP(t,"destroy",i)));break}}function EP(i,e,t){let n=t.totalTime,r=!!t.disabled,o=qP(i.element,i.triggerName,i.fromState,i.toState,e||i.phaseName,n??i.totalTime,r),s=i._data;return s!=null&&(o._data=s),o}function qP(i,e,t,n,r="",o=0,s){return{element:i,triggerName:e,fromState:t,toState:n,phaseName:r,totalTime:o,disabled:!!s}}function Mr(i,e,t){let n=i.get(e);return n||i.set(e,n=t),n}function B5(i){let e=i.indexOf(":"),t=i.substring(1,e),n=i.slice(e+1);return[t,n]}var R0e=typeof document>"u"?null:document.documentElement;function YP(i){let e=i.parentNode||i.host||null;return e===R0e?null:e}function A0e(i){return i.substring(1,6)=="ebkit"}var Rc=null,j5=!1;function O0e(i){Rc||(Rc=x0e()||{},j5=Rc.style?"WebkitAppearance"in Rc.style:!1);let e=!0;return Rc.style&&!A0e(i)&&(e=i in Rc.style,!e&&j5&&(e="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in Rc.style)),e}function x0e(){return typeof document<"u"?document.body:null}function t4(i,e){for(;e;){if(e===i)return!0;e=YP(e)}return!1}function n4(i,e,t){if(t)return Array.from(i.querySelectorAll(e));let n=i.querySelector(e);return n?[n]:[]}var KP=(()=>{let e=class e{validateStyleProperty(n){return O0e(n)}matchesElement(n,r){return!1}containsElement(n,r){return t4(n,r)}getParentElement(n){return YP(n)}query(n,r,o){return n4(n,r,o)}computeStyle(n,r,o){return o||""}animate(n,r,o,s,a,l=[],u){return new Xa(o,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac});let i=e;return i})(),JP=class JP{};JP.NOOP=new KP;var xc=JP,Mc=class{};var M0e=1e3,i4="{{",I0e="}}",r4="ng-enter",xP="ng-leave",lb="ng-trigger",fb=".ng-trigger",U5="ng-animating",MP=".ng-animating";function ba(i){if(typeof i=="number")return i;let e=i.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:IP(parseFloat(e[1]),e[2])}function IP(i,e){switch(e){case"s":return i*M0e;default:return i}}function pb(i,e,t){return i.hasOwnProperty("duration")?i:P0e(i,e,t)}function P0e(i,e,t){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,s="";if(typeof i=="string"){let a=i.match(n);if(a===null)return e.push(G5(i)),{duration:0,delay:0,easing:""};r=IP(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=IP(parseFloat(l),a[4]));let u=a[5];u&&(s=u)}else r=i;if(!t){let a=!1,l=e.length;r<0&&(e.push(Qbe()),a=!0),o<0&&(e.push(Zbe()),a=!0),a&&e.splice(l,0,G5(i))}return{duration:r,delay:o,easing:s}}function F0e(i){return i.length?i[0]instanceof Map?i:i.map(e=>new Map(Object.entries(e))):[]}function Is(i,e,t){e.forEach((n,r)=>{let o=QP(r);t&&!t.has(r)&&t.set(r,i.style[o]),i.style[o]=n})}function Oc(i,e){e.forEach((t,n)=>{let r=QP(n);i.style[r]=""})}function Im(i){return Array.isArray(i)?i.length==1?i[0]:UH(i):i}function N0e(i,e,t){let n=e.params||{},r=o4(i);r.length&&r.forEach(o=>{n.hasOwnProperty(o)||t.push(Xbe(o))})}var PP=new RegExp(`${i4}\\s*(.+?)\\s*${I0e}`,"g");function o4(i){let e=[];if(typeof i=="string"){let t;for(;t=PP.exec(i);)e.push(t[1]);PP.lastIndex=0}return e}function Fm(i,e,t){let n=`${i}`,r=n.replace(PP,(o,s)=>{let a=e[s];return a==null&&(t.push(Jbe(s)),a=""),a.toString()});return r==n?i:r}var L0e=/-+([a-z0-9])/g;function QP(i){return i.replace(L0e,(...e)=>e[1].toUpperCase())}function k0e(i,e){return i===0||e===0}function V0e(i,e,t){if(t.size&&e.length){let n=e[0],r=[];if(t.forEach((o,s)=>{n.has(s)||r.push(s),n.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,ZP(i,a)))}}return e}function xr(i,e,t){switch(e.type){case Ge.Trigger:return i.visitTrigger(e,t);case Ge.State:return i.visitState(e,t);case Ge.Transition:return i.visitTransition(e,t);case Ge.Sequence:return i.visitSequence(e,t);case Ge.Group:return i.visitGroup(e,t);case Ge.Animate:return i.visitAnimate(e,t);case Ge.Keyframes:return i.visitKeyframes(e,t);case Ge.Style:return i.visitStyle(e,t);case Ge.Reference:return i.visitReference(e,t);case Ge.AnimateChild:return i.visitAnimateChild(e,t);case Ge.AnimateRef:return i.visitAnimateRef(e,t);case Ge.Query:return i.visitQuery(e,t);case Ge.Stagger:return i.visitStagger(e,t);default:throw e0e(e.type)}}function ZP(i,e){return window.getComputedStyle(i)[e]}var H0e=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),gb=class extends Mc{normalizePropertyName(e,t){return QP(e)}normalizeStyleValue(e,t,n,r){let o="",s=n.toString().trim();if(H0e.has(t)&&n!==0&&n!=="0")if(typeof n=="number")o="px";else{let a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(t0e(e,n))}return s+o}};var mb="*";function G0e(i,e){let t=[];return typeof i=="string"?i.split(/\s*,\s*/).forEach(n=>B0e(n,t,e)):t.push(i),t}function B0e(i,e,t){if(i[0]==":"){let l=j0e(i,t);if(typeof l=="function"){e.push(l);return}i=l}let n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return t.push(f0e(i)),e;let r=n[1],o=n[2],s=n[3];e.push(W5(r,s));let a=r==mb&&s==mb;o[0]=="<"&&!a&&e.push(W5(s,r))}function j0e(i,e){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,n)=>parseFloat(n)>parseFloat(t);case":decrement":return(t,n)=>parseFloat(n)<parseFloat(t);default:return e.push(p0e(i)),"* => *"}}var ub=new Set(["true","1"]),cb=new Set(["false","0"]);function W5(i,e){let t=ub.has(i)||cb.has(i),n=ub.has(e)||cb.has(e);return(r,o)=>{let s=i==mb||i==r,a=e==mb||e==o;return!s&&t&&typeof r=="boolean"&&(s=r?ub.has(i):cb.has(i)),!a&&n&&typeof o=="boolean"&&(a=o?ub.has(e):cb.has(e)),s&&a}}var s4=":self",U0e=new RegExp(`s*${s4}s*,?`,"g");function a4(i,e,t,n){return new FP(i).build(e,t,n)}var z5="",FP=class{constructor(e){this._driver=e}build(e,t,n){let r=new NP(t);return this._resetContextStyleTimingState(r),xr(this,Im(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=z5,e.collectedStyles=new Map,e.collectedStyles.set(z5,new Map),e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,r=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(n0e()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==Ge.State){let l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(c=>{l.name=c,o.push(this.visitState(l,t))}),l.name=u}else if(a.type==Ge.Transition){let l=this.visitTransition(a,t);n+=l.queryCount,r+=l.depCount,s.push(l)}else t.errors.push(i0e())}),{type:Ge.Trigger,name:e.name,states:o,transitions:s,queryCount:n,depCount:r,options:null}}visitState(e,t){let n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){let o=new Set,s=r||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{o4(l).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&t.errors.push(r0e(e.name,[...o.values()]))}return{type:Ge.State,name:e.name,style:n,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let n=xr(this,Im(e.animation),t),r=G0e(e.expr,t.errors);return{type:Ge.Transition,matchers:r,animation:n,queryCount:t.queryCount,depCount:t.depCount,options:Ac(e.options)}}visitSequence(e,t){return{type:Ge.Sequence,steps:e.steps.map(n=>xr(this,n,t)),options:Ac(e.options)}}visitGroup(e,t){let n=t.currentTime,r=0,o=e.steps.map(s=>{t.currentTime=n;let a=xr(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:Ge.Group,steps:o,options:Ac(e.options)}}visitAnimate(e,t){let n=q0e(e.timings,t.errors);t.currentAnimateTimings=n;let r,o=e.styles?e.styles:Cu({});if(o.type==Ge.Keyframes)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let u={};n.easing&&(u.easing=n.easing),s=Cu(u)}t.currentTime+=n.duration+n.delay;let l=this.visitStyle(s,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:Ge.Animate,timings:n,style:r,options:null}}visitStyle(e,t){let n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){let n=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===os?n.push(a):t.errors.push(o0e(a)):n.push(new Map(Object.entries(a)));let o=!1,s=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(i4)>=0){o=!0;break}}}),{type:Ge.Style,styles:n,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let n=t.currentAnimateTimings,r=t.currentTime,o=t.currentTime;n&&o>0&&(o-=n.duration+n.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let u=t.collectedStyles.get(t.currentQuerySelector),c=u.get(l),d=!0;c&&(o!=r&&o>=c.startTime&&r<=c.endTime&&(t.errors.push(s0e(l,c.startTime,c.endTime,o,r)),d=!1),o=c.startTime),d&&u.set(l,{startTime:o,endTime:r}),t.options&&N0e(a,t.options,t.errors)})})}visitKeyframes(e,t){let n={type:Ge.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(a0e()),n;let r=1,o=0,s=[],a=!1,l=!1,u=0,c=e.steps.map(v=>{let y=this._makeStyleAst(v,t),C=y.offset!=null?y.offset:$0e(y.styles),S=0;return C!=null&&(o++,S=y.offset=C),l=l||S<0||S>1,a=a||S<u,u=S,s.push(S),y});l&&t.errors.push(l0e()),a&&t.errors.push(u0e());let d=e.steps.length,h=0;o>0&&o<d?t.errors.push(c0e()):o==0&&(h=r/(d-1));let f=d-1,p=t.currentTime,g=t.currentAnimateTimings,m=g.duration;return c.forEach((v,y)=>{let C=h>0?y==f?1:h*y:s[y],S=C*m;t.currentTime=p+g.delay+S,g.duration=S,this._validateStyleAst(v,t),v.offset=C,n.styles.push(v)}),n}visitReference(e,t){return{type:Ge.Reference,animation:xr(this,Im(e.animation),t),options:Ac(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Ge.AnimateChild,options:Ac(e.options)}}visitAnimateRef(e,t){return{type:Ge.AnimateRef,animation:this.visitReference(e.animation,t),options:Ac(e.options)}}visitQuery(e,t){let n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=W0e(e.selector);t.currentQuerySelector=n.length?n+" "+o:o,Mr(t.collectedStyles,t.currentQuerySelector,new Map);let a=xr(this,Im(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:Ge.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Ac(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(d0e());let n=e.timings==="full"?{duration:0,delay:0,easing:"full"}:pb(e.timings,t.errors,!0);return{type:Ge.Stagger,animation:xr(this,Im(e.animation),t),timings:n,options:null}}};function W0e(i){let e=!!i.split(/\s*,\s*/).find(t=>t==s4);return e&&(i=i.replace(U0e,"")),i=i.replace(/@\*/g,fb).replace(/@\w+/g,t=>fb+"-"+t.slice(1)).replace(/:animating/g,MP),[i,e]}function z0e(i){return i?K({},i):null}var NP=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function $0e(i){if(typeof i=="string")return null;let e=null;if(Array.isArray(i))i.forEach(t=>{if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}});else if(i instanceof Map&&i.has("offset")){let t=i;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function q0e(i,e){if(i.hasOwnProperty("duration"))return i;if(typeof i=="number"){let o=pb(i,e).duration;return DP(o,0,"")}let t=i;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=DP(0,0,"");return o.dynamic=!0,o.strValue=t,o}let r=pb(t,e);return DP(r.duration,r.delay,r.easing)}function Ac(i){return i?(i=K({},i),i.params&&(i.params=z0e(i.params))):i={},i}function DP(i,e,t){return{duration:i,delay:e,easing:t}}function XP(i,e,t,n,r,o,s=null,a=!1){return{type:1,element:i,keyframes:e,preStyleProps:t,postStyleProps:n,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}var Nm=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},Y0e=1,K0e=":enter",Q0e=new RegExp(K0e,"g"),Z0e=":leave",X0e=new RegExp(Z0e,"g");function l4(i,e,t,n,r,o=new Map,s=new Map,a,l,u=[]){return new LP().buildKeyframes(i,e,t,n,r,o,s,a,l,u)}var LP=class{buildKeyframes(e,t,n,r,o,s,a,l,u,c=[]){u=u||new Nm;let d=new kP(e,t,u,r,o,c,[]);d.options=l;let h=l.delay?ba(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,l),xr(this,n,d);let f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){let m=f[g];if(m.element===t){p=m;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[XP(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let n=t.subInstructions.get(t.element);if(n){let r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,n),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,n){for(let r of e){let o=r?.delay;if(o){let s=typeof o=="number"?o:ba(Fm(o,r?.params??{},t.errors));n.delayNextStep(s)}}}_visitSubInstructions(e,t,n){let o=t.currentTimeline.currentTime,s=n.duration!=null?ba(n.duration):null,a=n.delay!=null?ba(n.delay):null;return s!==0&&e.forEach(l=>{let u=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),xr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let n=t.subContextCount,r=t,o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==Ge.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=vb);let s=ba(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>xr(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let n=[],r=t.currentTimeline.currentTime,o=e.options&&e.options.delay?ba(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),xr(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let n=e.strValue,r=t.params?Fm(n,t.params,t.errors):n;return pb(r,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());let o=e.style;o.type==Ge.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(n.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();let o=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(o):n.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let n=t.currentAnimateTimings,r=t.currentTimeline.duration,o=n.duration,a=t.createSubContext().currentTimeline;a.easing=n.easing,e.styles.forEach(l=>{let u=l.offset||0;a.forwardTime(u*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){let n=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?ba(r.delay):0;o&&(t.previousNode.type===Ge.Style||n==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=vb);let s=n,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((u,c)=>{t.currentQueryIndex=c;let d=t.createSubContext(e.options,u);o&&d.delayNextStep(o),u===t.element&&(l=d.currentTimeline),xr(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let h=d.currentTimeline.currentTime;s=Math.max(s,h)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let n=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime;break}let c=t.currentTimeline;l&&c.delayNextStep(l);let d=c.currentTime;xr(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-d+(r.startTime-n.currentTimeline.startTime)}},vb={},kP=class i{constructor(e,t,n,r,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new yb(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let n=e,r=this.options;n.duration!=null&&(r.duration=ba(n.duration)),n.delay!=null&&(r.delay=ba(n.delay));let o=n.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Fm(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let n=e.params={};Object.keys(t).forEach(r=>{n[r]=t[r]})}}return e}createSubContext(e=null,t,n){let r=t||this.element,o=new i(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=vb,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){let r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(n??0)+e.delay,easing:""},o=new VP(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(Q0e,"."+this._enterClassName),e=e.replace(X0e,"."+this._leaveClassName);let l=n!=1,u=this._driver.query(this.element,e,l);n!==0&&(u=n<0?u.slice(u.length+n,u.length):u.slice(0,n)),a.push(...u)}return!o&&a.length==0&&s.push(h0e(t)),a}},yb=class i{constructor(e,t,n,r){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new i(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Y0e,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,n]of this._globalTimelineStyles)this._backFill.set(t,n||os),this._currentKeyframe.set(t,os);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,r){t&&this._previousKeyframe.set("easing",t);let o=r&&r.params||{},s=J0e(e,this._globalTimelineStyles);for(let[a,l]of s){let u=Fm(l,o,n);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??os),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,n)=>{let r=this._styleSummary.get(n);(!r||t.time>r.time)&&this._updateStyle(n,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,n=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let u=new Map([...this._backFill,...a]);u.forEach((c,d)=>{c===I_?e.add(d):c===os&&t.add(d)}),n||u.set("offset",l/this.duration),r.push(u)});let o=[...e.values()],s=[...t.values()];if(n){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return XP(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},VP=class extends yb{constructor(e,t,n,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=n+t,a=t/s,l=new Map(e[0]);l.set("offset",0),o.push(l);let u=new Map(e[0]);u.set("offset",$5(a)),o.push(u);let c=e.length-1;for(let d=1;d<=c;d++){let h=new Map(e[d]),f=h.get("offset"),p=t+f*n;h.set("offset",$5(p/s)),o.push(h)}n=s,t=0,r="",e=o}return XP(this.element,e,this.preStyleProps,this.postStyleProps,n,t,r,!0)}};function $5(i,e=3){let t=Math.pow(10,e-1);return Math.round(i*t)/t}function J0e(i,e){let t=new Map,n;return i.forEach(r=>{if(r==="*"){n??=e.keys();for(let o of n)t.set(o,os)}else for(let[o,s]of r)t.set(o,s)}),t}function q5(i,e,t,n,r,o,s,a,l,u,c,d,h){return{type:0,element:i,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:n,toStyles:s,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:d,errors:h}}var TP={},_b=class{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,r){return eEe(this.ast.matchers,e,t,n,r)}buildStyles(e,t,n){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,n):new Map}build(e,t,n,r,o,s,a,l,u,c){let d=[],h=this.ast.options&&this.ast.options.params||TP,f=a&&a.params||TP,p=this.buildStyles(n,f,d),g=l&&l.params||TP,m=this.buildStyles(r,g,d),v=new Set,y=new Map,C=new Map,S=r==="void",E={params:u4(g,h),delay:this.ast.options?.delay},T=c?[]:l4(e,t,this.ast.animation,o,s,p,m,E,u,d),O=0;return T.forEach(R=>{O=Math.max(R.duration+R.delay,O)}),d.length?q5(t,this._triggerName,n,r,S,p,m,[],[],y,C,O,d):(T.forEach(R=>{let M=R.element,H=Mr(y,M,new Set);R.preStyleProps.forEach(X=>H.add(X));let V=Mr(C,M,new Set);R.postStyleProps.forEach(X=>V.add(X)),M!==t&&v.add(M)}),q5(t,this._triggerName,n,r,S,p,m,T,[...v.values()],y,C,O))}};function eEe(i,e,t,n,r){return i.some(o=>o(e,t,n,r))}function u4(i,e){let t=K({},e);return Object.entries(i).forEach(([n,r])=>{r!=null&&(t[n]=r)}),t}var HP=class{constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n}buildStyles(e,t){let n=new Map,r=u4(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Fm(s,r,t));let l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),n.set(a,s)})}),n}};function tEe(i,e,t){return new GP(i,e,t)}var GP=class{constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new HP(r.style,o,n))}),Y5(this.states,"true","1"),Y5(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new _b(e,r,this.states))}),this.fallbackTransition=nEe(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,r){return this.transitionFactories.find(s=>s.match(e,t,n,r))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}};function nEe(i,e,t){let n=[(s,a)=>!0],r={type:Ge.Sequence,steps:[],options:null},o={type:Ge.Transition,animation:r,matchers:n,options:null,queryCount:0,depCount:0};return new _b(i,o,e)}function Y5(i,e,t){i.has(e)?i.has(t)||i.set(t,i.get(e)):i.has(t)&&i.set(e,i.get(t))}var iEe=new Nm,BP=class{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let n=[],r=[],o=a4(this._driver,t,n,r);if(n.length)throw v0e(n);r.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,t,n){let r=e.element,o=e4(this._normalizer,e.keyframes,t,n);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){let r=[],o=this._animations.get(e),s,a=new Map;if(o?(s=l4(this._driver,t,o,r4,xP,new Map,new Map,n,iEe,r),s.forEach(c=>{let d=Mr(a,c.element,new Map);c.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(y0e()),s=[]),r.length)throw _0e(r);a.forEach((c,d)=>{c.forEach((h,f)=>{c.set(f,this._driver.computeStyle(d,f,os))})});let l=s.map(c=>{let d=a.get(c.element);return this._buildPlayer(c,new Map,d)}),u=$l(l);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw C0e(e);return t}listen(e,t,n,r){let o=qP(t,"","","");return $P(this._getPlayer(e),n,o,r),()=>{}}command(e,t,n,r){if(n=="register"){this.register(e,r[0]);return}if(n=="create"){let s=r[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},K5="ng-animate-queued",rEe=".ng-animate-queued",RP="ng-animate-disabled",oEe=".ng-animate-disabled",sEe="ng-star-inserted",aEe=".ng-star-inserted",lEe=[],c4={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},uEe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},No="__ng_removed",Lm=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let n=e&&e.hasOwnProperty("value"),r=n?e.value:e;if(this.value=dEe(r),n){let o=e,{value:s}=o,a=Db(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let n=this.options.params;Object.keys(t).forEach(r=>{n[r]==null&&(n[r]=t[r])})}}},Pm="void",AP=new Lm(Pm),jP=class{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,lo(t,this._hostClassName)}listen(e,t,n,r){if(!this._triggers.has(t))throw w0e(n,t);if(n==null||n.length==0)throw S0e(t);if(!hEe(n))throw b0e(n,t);let o=Mr(this._elementListeners,e,[]),s={name:t,phase:n,callback:r};o.push(s);let a=Mr(this._engine.statesByElement,e,new Map);return a.has(t)||(lo(e,lb),lo(e,lb+"-"+t),a.set(t,AP)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw E0e(e);return t}trigger(e,t,n,r=!0){let o=this._getTrigger(t),s=new km(this.id,t,e),a=this._engine.statesByElement.get(e);a||(lo(e,lb),lo(e,lb+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t),u=new Lm(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(t,u),l||(l=AP),!(u.value===Pm)&&l.value===u.value){if(!gEe(l.params,u.params)){let g=[],m=o.matchStyles(l.value,l.params,g),v=o.matchStyles(u.value,u.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{Oc(e,m),Is(e,v)})}return}let h=Mr(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let f=o.matchTransition(l.value,u.value,e,u.params),p=!1;if(!f){if(!r)return;f=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:u,player:s,isFallbackTransition:p}),p||(lo(e,K5),s.onStart(()=>{Wh(e,K5)})),s.onDone(()=>{let g=this.players.indexOf(s);g>=0&&this.players.splice(g,1);let m=this._engine.playersByElement.get(e);if(m){let v=m.indexOf(s);v>=0&&m.splice(v,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(n=>n.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let n=this._engine.driver.query(e,fb,!0);n.forEach(r=>{if(r[No])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,n,r){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((l,u)=>{if(s.set(u,l.value),this._triggers.has(u)){let c=this.trigger(e,u,Pm,r);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),n&&$l(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){let r=new Set;t.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let l=this._triggers.get(s).fallbackTransition,u=n.get(s)||AP,c=new Lm(Pm),d=new km(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:u,toState:c,player:d,isFallbackTransition:!0})})}}removeNode(e,t){let n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(n.totalAnimations){let o=n.players.length?n.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(n.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)n.markElementAsRemoved(this.id,e,!1,t);else{let o=e[No];(!o||o===c4)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){lo(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(n=>{let r=n.player;if(r.destroyed)return;let o=n.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==n.triggerName){let l=qP(o,n.triggerName,n.fromState.value,n.toState.value);l._data=e,$P(n.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(n)}),this._queue=[],t.sort((n,r)=>{let o=n.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},UP=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,n,r){this.bodyNode=e,this.driver=t,this._normalizer=n,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(n=>{n.queued&&e.push(n)})}),e}createNamespace(e,t){let n=new jP(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){let n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let l=r.get(a);if(l){let u=n.indexOf(l);n.splice(u+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||n.unshift(e)}else n.push(e);return r.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(e);this.namespacesByHostElement.delete(n.hostElement);let r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,n=this.statesByElement.get(e);if(n){for(let r of n.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}}return t}trigger(e,t,n,r){if(db(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,n,r),!0}return!1}insertNode(e,t,n,r){if(!db(t))return;let o=t[No];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,n)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),lo(e,RP)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Wh(e,RP))}removeNode(e,t,n){if(db(t)){this.scheduler?.notify();let r=e?this._fetchNamespace(e):null;r?r.removeNode(t,n):this.markElementAsRemoved(e,t,!1,n);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,n)}else this._onRemovalComplete(t,n)}markElementAsRemoved(e,t,n,r,o){this.collectedLeaveElements.push(t),t[No]={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,n,r,o){return db(t)?this._fetchNamespace(e).listen(t,n,r,o):()=>{}}_buildInstruction(e,t,n,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,fb,!0);t.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,MP,!0),t.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return $l(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[No];if(t&&t.setForRemoval){if(e[No]=c4,t.namespaceId){this.destroyInnerAnimations(e);let n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(RP)&&this.markElementAsDisabled(e,!1),this.driver.query(e,oEe,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let r=this.collectedEnterElements[n];lo(r,sEe)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{t=this._flushAnimations(n,e)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let r=this.collectedLeaveElements[n];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],t.length?$l(t).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(e){throw D0e(e)}_flushAnimations(e,t){let n=new Nm,r=[],o=new Map,s=[],a=new Map,l=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(q=>{c.add(q);let $=this.driver.query(q,rEe,!0);for(let ie=0;ie<$.length;ie++)c.add($[ie])});let d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=X5(h,this.collectedEnterElements),p=new Map,g=0;f.forEach((q,$)=>{let ie=r4+g++;p.set($,ie),q.forEach(se=>lo(se,ie))});let m=[],v=new Set,y=new Set;for(let q=0;q<this.collectedLeaveElements.length;q++){let $=this.collectedLeaveElements[q],ie=$[No];ie&&ie.setForRemoval&&(m.push($),v.add($),ie.hasAnimation?this.driver.query($,aEe,!0).forEach(se=>v.add(se)):y.add($))}let C=new Map,S=X5(h,Array.from(v));S.forEach((q,$)=>{let ie=xP+g++;C.set($,ie),q.forEach(se=>lo(se,ie))}),e.push(()=>{f.forEach((q,$)=>{let ie=p.get($);q.forEach(se=>Wh(se,ie))}),S.forEach((q,$)=>{let ie=C.get($);q.forEach(se=>Wh(se,ie))}),m.forEach(q=>{this.processLeaveNode(q)})});let E=[],T=[];for(let q=this._namespaceList.length-1;q>=0;q--)this._namespaceList[q].drainQueuedTransitions(t).forEach(ie=>{let se=ie.player,We=ie.element;if(E.push(se),this.collectedEnterElements.length){let ln=We[No];if(ln&&ln.setForMove){if(ln.previousTriggersValues&&ln.previousTriggersValues.has(ie.triggerName)){let vi=ln.previousTriggersValues.get(ie.triggerName),si=this.statesByElement.get(ie.element);if(si&&si.has(ie.triggerName)){let Pc=si.get(ie.triggerName);Pc.value=vi,si.set(ie.triggerName,Pc)}}se.destroy();return}}let Yt=!d||!this.driver.containsElement(d,We),wt=C.get(We),en=p.get(We),Ke=this._buildInstruction(ie,n,en,wt,Yt);if(Ke.errors&&Ke.errors.length){T.push(Ke);return}if(Yt){se.onStart(()=>Oc(We,Ke.fromStyles)),se.onDestroy(()=>Is(We,Ke.toStyles)),r.push(se);return}if(ie.isFallbackTransition){se.onStart(()=>Oc(We,Ke.fromStyles)),se.onDestroy(()=>Is(We,Ke.toStyles)),r.push(se);return}let zn=[];Ke.timelines.forEach(ln=>{ln.stretchStartingKeyframe=!0,this.disabledNodes.has(ln.element)||zn.push(ln)}),Ke.timelines=zn,n.append(We,Ke.timelines);let mi={instruction:Ke,player:se,element:We};s.push(mi),Ke.queriedElements.forEach(ln=>Mr(a,ln,[]).push(se)),Ke.preStyleProps.forEach((ln,vi)=>{if(ln.size){let si=l.get(vi);si||l.set(vi,si=new Set),ln.forEach((Pc,ql)=>si.add(ql))}}),Ke.postStyleProps.forEach((ln,vi)=>{let si=u.get(vi);si||u.set(vi,si=new Set),ln.forEach((Pc,ql)=>si.add(ql))})});if(T.length){let q=[];T.forEach($=>{q.push(T0e($.triggerName,$.errors))}),E.forEach($=>$.destroy()),this.reportError(q)}let O=new Map,R=new Map;s.forEach(q=>{let $=q.element;n.has($)&&(R.set($,$),this._beforeAnimationBuild(q.player.namespaceId,q.instruction,O))}),r.forEach(q=>{let $=q.element;this._getPreviousPlayers($,!1,q.namespaceId,q.triggerName,null).forEach(se=>{Mr(O,$,[]).push(se),se.destroy()})});let M=m.filter(q=>J5(q,l,u)),H=new Map;Z5(H,this.driver,y,u,os).forEach(q=>{J5(q,l,u)&&M.push(q)});let X=new Map;f.forEach((q,$)=>{Z5(X,this.driver,new Set(q),l,I_)}),M.forEach(q=>{let $=H.get(q),ie=X.get(q);H.set(q,new Map([...$?.entries()??[],...ie?.entries()??[]]))});let ce=[],Me=[],ae={};s.forEach(q=>{let{element:$,player:ie,instruction:se}=q;if(n.has($)){if(c.has($)){ie.onDestroy(()=>Is($,se.toStyles)),ie.disabled=!0,ie.overrideTotalTime(se.totalTime),r.push(ie);return}let We=ae;if(R.size>1){let wt=$,en=[];for(;wt=wt.parentNode;){let Ke=R.get(wt);if(Ke){We=Ke;break}en.push(wt)}en.forEach(Ke=>R.set(Ke,We))}let Yt=this._buildAnimation(ie.namespaceId,se,O,o,X,H);if(ie.setRealPlayer(Yt),We===ae)ce.push(ie);else{let wt=this.playersByElement.get(We);wt&&wt.length&&(ie.parentPlayer=$l(wt)),r.push(ie)}}else Oc($,se.fromStyles),ie.onDestroy(()=>Is($,se.toStyles)),Me.push(ie),c.has($)&&r.push(ie)}),Me.forEach(q=>{let $=o.get(q.element);if($&&$.length){let ie=$l($);q.setRealPlayer(ie)}}),r.forEach(q=>{q.parentPlayer?q.syncPlayerEvents(q.parentPlayer):q.destroy()});for(let q=0;q<m.length;q++){let $=m[q],ie=$[No];if(Wh($,xP),ie&&ie.hasAnimation)continue;let se=[];if(a.size){let Yt=a.get($);Yt&&Yt.length&&se.push(...Yt);let wt=this.driver.query($,MP,!0);for(let en=0;en<wt.length;en++){let Ke=a.get(wt[en]);Ke&&Ke.length&&se.push(...Ke)}}let We=se.filter(Yt=>!Yt.destroyed);We.length?fEe(this,$,We):this.processLeaveNode($)}return m.length=0,ce.forEach(q=>{this.players.push(q),q.onDone(()=>{q.destroy();let $=this.players.indexOf(q);this.players.splice($,1)}),q.play()}),ce}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,r,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let l=!o||o==Pm;a.forEach(u=>{u.queued||!l&&u.triggerName!=r||s.push(u)})}}return(n||r)&&(s=s.filter(a=>!(n&&n!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,n){let r=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:r;for(let l of t.timelines){let u=l.element,c=u!==o,d=Mr(n,u,[]);this._getPreviousPlayers(u,c,s,a,t.toState).forEach(f=>{let p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Oc(o,t.fromStyles)}_buildAnimation(e,t,n,r,o,s){let a=t.triggerName,l=t.element,u=[],c=new Set,d=new Set,h=t.timelines.map(p=>{let g=p.element;c.add(g);let m=g[No];if(m&&m.removedBeforeQueried)return new Xa(p.duration,p.delay);let v=g!==l,y=pEe((n.get(g)||lEe).map(O=>O.getRealPlayer())).filter(O=>{let R=O;return R.element?R.element===g:!1}),C=o.get(g),S=s.get(g),E=e4(this._normalizer,p.keyframes,C,S),T=this._buildPlayer(p,E,y);if(p.subTimeline&&r&&d.add(g),v){let O=new km(e,a,g);O.setRealPlayer(T),u.push(O)}return T});u.forEach(p=>{Mr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>cEe(this.playersByQueriedElement,p.element,p))}),c.forEach(p=>lo(p,U5));let f=$l(h);return f.onDestroy(()=>{c.forEach(p=>Wh(p,U5)),Is(l,t.toStyles)}),d.forEach(p=>{Mr(r,p,[]).push(f)}),f}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Xa(e.duration,e.delay)}},km=class{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new Xa,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,n)=>{t.forEach(r=>$P(e,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Mr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function cEe(i,e,t){let n=i.get(e);if(n){if(n.length){let r=n.indexOf(t);n.splice(r,1)}n.length==0&&i.delete(e)}return n}function dEe(i){return i??null}function db(i){return i&&i.nodeType===1}function hEe(i){return i=="start"||i=="done"}function Q5(i,e){let t=i.style.display;return i.style.display=e??"none",t}function Z5(i,e,t,n,r){let o=[];t.forEach(l=>o.push(Q5(l)));let s=[];n.forEach((l,u)=>{let c=new Map;l.forEach(d=>{let h=e.computeStyle(u,d,r);c.set(d,h),(!h||h.length==0)&&(u[No]=uEe,s.push(u))}),i.set(u,c)});let a=0;return t.forEach(l=>Q5(l,o[a++])),s}function X5(i,e){let t=new Map;if(i.forEach(a=>t.set(a,[])),e.length==0)return t;let n=1,r=new Set(e),o=new Map;function s(a){if(!a)return n;let l=o.get(a);if(l)return l;let u=a.parentNode;return t.has(u)?l=u:r.has(u)?l=n:l=s(u),o.set(a,l),l}return e.forEach(a=>{let l=s(a);l!==n&&t.get(l).push(a)}),t}function lo(i,e){i.classList?.add(e)}function Wh(i,e){i.classList?.remove(e)}function fEe(i,e,t){$l(t).onDone(()=>i.processLeaveNode(e))}function pEe(i){let e=[];return d4(i,e),e}function d4(i,e){for(let t=0;t<i.length;t++){let n=i[t];n instanceof gp?d4(n.players,e):e.push(n)}}function gEe(i,e){let t=Object.keys(i),n=Object.keys(e);if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++){let o=t[r];if(!e.hasOwnProperty(o)||i[o]!==e[o])return!1}return!0}function J5(i,e,t){let n=t.get(i);if(!n)return!1;let r=e.get(i);return r?n.forEach(o=>r.add(o)):e.set(i,n),t.delete(i),!0}var $h=class{constructor(e,t,n,r){this._driver=t,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new UP(e.body,t,n,r),this._timelineEngine=new BP(e.body,t,n),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,t,n,r,o){let s=e+"-"+r,a=this._triggerCache[s];if(!a){let l=[],u=[],c=a4(this._driver,o,l,u);if(l.length)throw g0e(r,l);u.length&&void 0,a=tEe(r,c,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}onRemove(e,t,n){this._transitionEngine.removeNode(e,t,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,r){if(n.charAt(0)=="@"){let[o,s]=B5(n),a=r;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,n,r)}listen(e,t,n,r,o){if(n.charAt(0)=="@"){let[s,a]=B5(n);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,n,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function mEe(i,e){let t=null,n=null;return Array.isArray(e)&&e.length?(t=OP(e[0]),e.length>1&&(n=OP(e[e.length-1]))):e instanceof Map&&(t=OP(e)),t||n?new WP(i,t,n):null}var zh=class zh{constructor(e,t,n){this._element=e,this._startStyles=t,this._endStyles=n,this._state=0;let r=zh.initialStylesByElement.get(e);r||zh.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Is(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Is(this._element,this._initialStyles),this._endStyles&&(Is(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(zh.initialStylesByElement.delete(this._element),this._startStyles&&(Oc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Oc(this._element,this._endStyles),this._endStyles=null),Is(this._element,this._initialStyles),this._state=3)}};zh.initialStylesByElement=new WeakMap;var WP=zh;function OP(i){let e=null;return i.forEach((t,n)=>{vEe(n)&&(e=e||new Map,e.set(n,t))}),e}function vEe(i){return i==="display"||i==="position"}var Cb=class{constructor(e,t,n,r){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(n=>{t.push(Object.fromEntries(n))}),t}_triggerWebAnimation(e,t,n){return e.animate(this._convertKeyframesToObject(t),n)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{r!=="offset"&&e.set(r,this._finished?n:ZP(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}},wb=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return t4(e,t)}getParentElement(e){return YP(e)}query(e,t,n){return n4(e,t,n)}computeStyle(e,t,n){return ZP(e,t)}animate(e,t,n,r,o,s=[]){let a=r==0?"both":"forwards",l={duration:n,delay:r,fill:a};o&&(l.easing=o);let u=new Map,c=s.filter(f=>f instanceof Cb);k0e(n,r)&&c.forEach(f=>{f.currentSnapshot.forEach((p,g)=>u.set(g,p))});let d=F0e(t).map(f=>new Map(f));d=V0e(e,d,u);let h=mEe(e,d);return new Cb(e,d,l,h)}};var hb="@",h4="@.disabled",Sb=class{constructor(e,t,n,r){this.namespaceId=e,this.delegate=t,this.engine=n,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,r=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,r){this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){t.charAt(0)==hb&&t==h4?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},zP=class extends Sb{constructor(e,t,n,r,o){super(t,n,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,n){t.charAt(0)==hb?t.charAt(1)=="."&&t==h4?(n=n===void 0?!0:!!n,this.disableAnimations(e,n)):this.engine.process(this.namespaceId,e,t.slice(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if(t.charAt(0)==hb){let r=yEe(e),o=t.slice(1),s="";return o.charAt(0)!=hb&&([o,s]=_Ee(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,n,a)})}return this.delegate.listen(e,t,n)}};function yEe(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}function _Ee(i){let e=i.indexOf("."),t=i.substring(0,e),n=i.slice(e+1);return[t,n]}var bb=class{constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,o)=>{let s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(e,t){let n="",r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let u=this._rendererCache,c=u.get(r);if(!c){let d=()=>u.delete(r);c=new Sb(n,r,this.engine,d),u.set(r,c)}return c}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(o,s,e,u.name,u)};return t.data.animation.forEach(a),new zP(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(n));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var wEe=(()=>{let e=class e extends $h{constructor(n,r,o){super(n,r,o,k(gf,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(U(Te),U(xc),U(Mc))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let i=e;return i})();function SEe(){return new gb}function bEe(i,e,t){return new bb(i,e,t)}var f4=[{provide:Mc,useFactory:SEe},{provide:$h,useClass:wEe},{provide:po,useFactory:bEe,deps:[e_,$h,we]}],EEe=[{provide:xc,useFactory:()=>new wb},{provide:Df,useValue:"BrowserAnimations"},...f4],OUe=[{provide:xc,useClass:KP},{provide:Df,useValue:"NoopAnimations"},...f4];function eF(){return[...EEe]}var p4=(()=>{let e=class e{constructor(n){this.router=n}intercept(n,r){if(n.url.endsWith("/login"))return r.handle(n);let o=xe.getLoginToken();if(!o.isExpired){let s=n.clone({headers:n.headers.set("Authorization",o.id)});return r.handle(s)}return console.log("Token expired, redirecting to login page"),this.router.navigate([""]),xe.clearLocalStorage(),new Ce}};e.\u0275fac=function(r){return new(r||e)(U(Dt))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let i=e;return i})();var Ic={providers:[eF()]};H5(Ic);Ic.providers.push(hH(V5));Ic.providers.push(VE(qH.forRoot()));Ic.providers.push(eF());Ic.providers.push(pV(gV()));Ic.providers.push({provide:ND,useClass:p4,multi:!0});SV(QH,Ic);
